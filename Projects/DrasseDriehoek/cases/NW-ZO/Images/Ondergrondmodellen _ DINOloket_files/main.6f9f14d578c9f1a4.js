var Ire=Object.defineProperty,Ore=Object.defineProperties,Pre=Object.getOwnPropertyDescriptors,d7=Object.getOwnPropertySymbols,kre=Object.prototype.hasOwnProperty,Lre=Object.prototype.propertyIsEnumerable,p7=(hi,lt,N)=>lt in hi?Ire(hi,lt,{enumerable:!0,configurable:!0,writable:!0,value:N}):hi[lt]=N,ji=(hi,lt)=>{for(var N in lt||(lt={}))kre.call(lt,N)&&p7(hi,N,lt[N]);if(d7)for(var N of d7(lt))Lre.call(lt,N)&&p7(hi,N,lt[N]);return hi},fr=(hi,lt)=>Ore(hi,Pre(lt));(self.webpackChunkdinoloket=self.webpackChunkdinoloket||[]).push([[179],{84434:(hi,lt,N)=>{"use strict";N.d(lt,{B:()=>J,z:()=>Te});var z=N(8073);function J(Me){(0,z.YY)(Me)}function Te(Me){Object.keys(Me).forEach(Ce=>{customElements.get(Ce)||customElements.define(Ce,Me[Ce])})}},37261:(hi,lt,N)=>{"use strict";function z(A){return"function"==typeof A}function J(A){const _=A(C=>{Error.call(C),C.stack=(new Error).stack});return _.prototype=Object.create(Error.prototype),_.prototype.constructor=_,_}const Te=J(A=>function(_){A(this),this.message=_?`${_.length} errors occurred during unsubscription:\n${_.map((C,I)=>`${I+1}) ${C.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=_});function Me(A,w){if(A){const _=A.indexOf(w);0<=_&&A.splice(_,1)}}class Ce{constructor(w){this.initialTeardown=w,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let w;if(!this.closed){this.closed=!0;const{_parentage:_}=this;if(_)if(this._parentage=null,Array.isArray(_))for(const j of _)j.remove(this);else _.remove(this);const{initialTeardown:C}=this;if(z(C))try{C()}catch(j){w=j instanceof Te?j.errors:[j]}const{_teardowns:I}=this;if(I){this._teardowns=null;for(const j of I)try{he(j)}catch(K){w=null!=w?w:[],K instanceof Te?w=[...w,...K.errors]:w.push(K)}}if(w)throw new Te(w)}}add(w){var _;if(w&&w!==this)if(this.closed)he(w);else{if(w instanceof Ce){if(w.closed||w._hasParent(this))return;w._addParent(this)}(this._teardowns=null!==(_=this._teardowns)&&void 0!==_?_:[]).push(w)}}_hasParent(w){const{_parentage:_}=this;return _===w||Array.isArray(_)&&_.includes(w)}_addParent(w){const{_parentage:_}=this;this._parentage=Array.isArray(_)?(_.push(w),_):_?[_,w]:w}_removeParent(w){const{_parentage:_}=this;_===w?this._parentage=null:Array.isArray(_)&&Me(_,w)}remove(w){const{_teardowns:_}=this;_&&Me(_,w),w instanceof Ce&&w._removeParent(this)}}Ce.EMPTY=(()=>{const A=new Ce;return A.closed=!0,A})();const Ie=Ce.EMPTY;function ye(A){return A instanceof Ce||A&&"closed"in A&&z(A.remove)&&z(A.add)&&z(A.unsubscribe)}function he(A){z(A)?A():A.unsubscribe()}const re={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ce={setTimeout(...A){const{delegate:w}=ce;return((null==w?void 0:w.setTimeout)||setTimeout)(...A)},clearTimeout(A){const{delegate:w}=ce;return((null==w?void 0:w.clearTimeout)||clearTimeout)(A)},delegate:void 0};function be(A){ce.setTimeout(()=>{const{onUnhandledError:w}=re;if(!w)throw A;w(A)})}function xe(){}const de=le("C",void 0,void 0);function le(A,w,_){return{kind:A,value:w,error:_}}let oe=null;function se(A){if(re.useDeprecatedSynchronousErrorHandling){const w=!oe;if(w&&(oe={errorThrown:!1,error:null}),A(),w){const{errorThrown:_,error:C}=oe;if(oe=null,_)throw C}}else A()}class Ee extends Ce{constructor(w){super(),this.isStopped=!1,w?(this.destination=w,ye(w)&&w.add(this)):this.destination=Le}static create(w,_,C){return new ge(w,_,C)}next(w){this.isStopped?Ve(le("N",w,void 0),this):this._next(w)}error(w){this.isStopped?Ve(le("E",void 0,w),this):(this.isStopped=!0,this._error(w))}complete(){this.isStopped?Ve(de,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(w){this.destination.next(w)}_error(w){try{this.destination.error(w)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class ge extends Ee{constructor(w,_,C){let I;if(super(),z(w))I=w;else if(w){let j;({next:I,error:_,complete:C}=w),this&&re.useDeprecatedNextContext?(j=Object.create(w),j.unsubscribe=()=>this.unsubscribe()):j=w,I=null==I?void 0:I.bind(j),_=null==_?void 0:_.bind(j),C=null==C?void 0:C.bind(j)}this.destination={next:I?Ue(I):xe,error:Ue(null!=_?_:Fe),complete:C?Ue(C):xe}}}function Ue(A,w){return(..._)=>{try{A(..._)}catch(C){re.useDeprecatedSynchronousErrorHandling?function(A){re.useDeprecatedSynchronousErrorHandling&&oe&&(oe.errorThrown=!0,oe.error=A)}(C):be(C)}}}function Fe(A){throw A}function Ve(A,w){const{onStoppedNotification:_}=re;_&&ce.setTimeout(()=>_(A,w))}const Le={closed:!0,next:xe,error:Fe,complete:xe},tt="function"==typeof Symbol&&Symbol.observable||"@@observable";function je(A){return A}let qe=(()=>{class A{constructor(_){_&&(this._subscribe=_)}lift(_){const C=new A;return C.source=this,C.operator=_,C}subscribe(_,C,I){const j=function(A){return A&&A instanceof Ee||function(A){return A&&z(A.next)&&z(A.error)&&z(A.complete)}(A)&&ye(A)}(_)?_:new ge(_,C,I);return se(()=>{const{operator:K,source:q}=this;j.add(K?K.call(j,q):q?this._subscribe(j):this._trySubscribe(j))}),j}_trySubscribe(_){try{return this._subscribe(_)}catch(C){_.error(C)}}forEach(_,C){return new(C=He(C))((I,j)=>{let K;K=this.subscribe(q=>{try{_(q)}catch(ue){j(ue),null==K||K.unsubscribe()}},j,I)})}_subscribe(_){var C;return null===(C=this.source)||void 0===C?void 0:C.subscribe(_)}[tt](){return this}pipe(..._){return function(A){return 0===A.length?je:1===A.length?A[0]:function(_){return A.reduce((C,I)=>I(C),_)}}(_)(this)}toPromise(_){return new(_=He(_))((C,I)=>{let j;this.subscribe(K=>j=K,K=>I(K),()=>C(j))})}}return A.create=w=>new A(w),A})();function He(A){var w;return null!==(w=null!=A?A:re.Promise)&&void 0!==w?w:Promise}const Ne=J(A=>function(){A(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Se=(()=>{class A extends qe{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(_){const C=new $e(this,this);return C.operator=_,C}_throwIfClosed(){if(this.closed)throw new Ne}next(_){se(()=>{if(this._throwIfClosed(),!this.isStopped){const C=this.observers.slice();for(const I of C)I.next(_)}})}error(_){se(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=_;const{observers:C}=this;for(;C.length;)C.shift().error(_)}})}complete(){se(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:_}=this;for(;_.length;)_.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var _;return(null===(_=this.observers)||void 0===_?void 0:_.length)>0}_trySubscribe(_){return this._throwIfClosed(),super._trySubscribe(_)}_subscribe(_){return this._throwIfClosed(),this._checkFinalizedStatuses(_),this._innerSubscribe(_)}_innerSubscribe(_){const{hasError:C,isStopped:I,observers:j}=this;return C||I?Ie:(j.push(_),new Ce(()=>Me(j,_)))}_checkFinalizedStatuses(_){const{hasError:C,thrownError:I,isStopped:j}=this;C?_.error(I):j&&_.complete()}asObservable(){const _=new qe;return _.source=this,_}}return A.create=(w,_)=>new $e(w,_),A})();class $e extends Se{constructor(w,_){super(),this.destination=w,this.source=_}next(w){var _,C;null===(C=null===(_=this.destination)||void 0===_?void 0:_.next)||void 0===C||C.call(_,w)}error(w){var _,C;null===(C=null===(_=this.destination)||void 0===_?void 0:_.error)||void 0===C||C.call(_,w)}complete(){var w,_;null===(_=null===(w=this.destination)||void 0===w?void 0:w.complete)||void 0===_||_.call(w)}_subscribe(w){var _,C;return null!==(C=null===(_=this.source)||void 0===_?void 0:_.subscribe(w))&&void 0!==C?C:Ie}}function ut(A){return w=>{if(function(A){return z(null==A?void 0:A.lift)}(w))return w.lift(function(_){try{return A(_,this)}catch(C){this.error(C)}});throw new TypeError("Unable to lift unknown Observable type")}}class xt extends Ee{constructor(w,_,C,I,j){super(w),this.onFinalize=j,this._next=_?function(K){try{_(K)}catch(q){w.error(q)}}:super._next,this._error=I?function(K){try{I(K)}catch(q){w.error(q)}finally{this.unsubscribe()}}:super._error,this._complete=C?function(){try{C()}catch(K){w.error(K)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var w;const{closed:_}=this;super.unsubscribe(),!_&&(null===(w=this.onFinalize)||void 0===w||w.call(this))}}function Ze(A,w){return ut((_,C)=>{let I=0;_.subscribe(new xt(C,j=>{C.next(A.call(w,j,I++))}))})}function qt(A){return this instanceof qt?(this.v=A,this):new qt(A)}function pi(A,w,_){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var I,C=_.apply(A,w||[]),j=[];return I={},K("next"),K("throw"),K("return"),I[Symbol.asyncIterator]=function(){return this},I;function K(Qt){C[Qt]&&(I[Qt]=function(ri){return new Promise(function(Ci,Gi){j.push([Qt,ri,Ci,Gi])>1||q(Qt,ri)})})}function q(Qt,ri){try{!function(Qt){Qt.value instanceof qt?Promise.resolve(Qt.value.v).then(Re,Je):wt(j[0][2],Qt)}(C[Qt](ri))}catch(Ci){wt(j[0][3],Ci)}}function Re(Qt){q("next",Qt)}function Je(Qt){q("throw",Qt)}function wt(Qt,ri){Qt(ri),j.shift(),j.length&&q(j[0][0],j[0][1])}}function fi(A){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _,w=A[Symbol.asyncIterator];return w?w.call(A):(A=function(A){var w="function"==typeof Symbol&&Symbol.iterator,_=w&&A[w],C=0;if(_)return _.call(A);if(A&&"number"==typeof A.length)return{next:function(){return A&&C>=A.length&&(A=void 0),{value:A&&A[C++],done:!A}}};throw new TypeError(w?"Object is not iterable.":"Symbol.iterator is not defined.")}(A),_={},C("next"),C("throw"),C("return"),_[Symbol.asyncIterator]=function(){return this},_);function C(j){_[j]=A[j]&&function(K){return new Promise(function(q,ue){!function(j,K,q,ue){Promise.resolve(ue).then(function(Re){j({value:Re,done:q})},K)}(q,ue,(K=A[j](K)).done,K.value)})}}}const li=A=>A&&"number"==typeof A.length&&"function"!=typeof A;function B(A){return z(null==A?void 0:A.then)}function Be(A){return z(A[tt])}function $(A){return Symbol.asyncIterator&&z(null==A?void 0:A[Symbol.asyncIterator])}function k(A){return new TypeError(`You provided ${null!==A&&"object"==typeof A?"an invalid object":`'${A}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const E="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function D(A){return z(null==A?void 0:A[E])}function O(A){return pi(this,arguments,function*(){const _=A.getReader();try{for(;;){const{value:C,done:I}=yield qt(_.read());if(I)return yield qt(void 0);yield yield qt(C)}}finally{_.releaseLock()}})}function L(A){return z(null==A?void 0:A.getReader)}function F(A){if(A instanceof qe)return A;if(null!=A){if(Be(A))return function(A){return new qe(w=>{const _=A[tt]();if(z(_.subscribe))return _.subscribe(w);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(A);if(li(A))return function(A){return new qe(w=>{for(let _=0;_<A.length&&!w.closed;_++)w.next(A[_]);w.complete()})}(A);if(B(A))return function(A){return new qe(w=>{A.then(_=>{w.closed||(w.next(_),w.complete())},_=>w.error(_)).then(null,be)})}(A);if($(A))return Y(A);if(D(A))return function(A){return new qe(w=>{for(const _ of A)if(w.next(_),w.closed)return;w.complete()})}(A);if(L(A))return function(A){return Y(O(A))}(A)}throw k(A)}function Y(A){return new qe(w=>{(function(A,w){var _,C,I,j;return function(A,w,_,C){return new(_||(_=Promise))(function(j,K){function q(Je){try{Re(C.next(Je))}catch(wt){K(wt)}}function ue(Je){try{Re(C.throw(Je))}catch(wt){K(wt)}}function Re(Je){Je.done?j(Je.value):function(j){return j instanceof _?j:new _(function(K){K(j)})}(Je.value).then(q,ue)}Re((C=C.apply(A,w||[])).next())})}(this,void 0,void 0,function*(){try{for(_=fi(A);!(C=yield _.next()).done;)if(w.next(C.value),w.closed)return}catch(K){I={error:K}}finally{try{C&&!C.done&&(j=_.return)&&(yield j.call(_))}finally{if(I)throw I.error}}w.complete()})})(A,w).catch(_=>w.error(_))})}function we(A,w,_,C=0,I=!1){const j=w.schedule(function(){_(),I?A.add(this.schedule(null,C)):this.unsubscribe()},C);if(A.add(j),!I)return j}function _t(A,w,_=1/0){return z(w)?_t((C,I)=>Ze((j,K)=>w(C,j,I,K))(F(A(C,I))),_):("number"==typeof w&&(_=w),ut((C,I)=>function(A,w,_,C,I,j,K,q){const ue=[];let Re=0,Je=0,wt=!1;const Qt=()=>{wt&&!ue.length&&!Re&&w.complete()},ri=Gi=>Re<C?Ci(Gi):ue.push(Gi),Ci=Gi=>{Re++;let fn=!1;F(_(Gi,Je++)).subscribe(new xt(w,Mn=>{w.next(Mn)},()=>{fn=!0},void 0,()=>{if(fn)try{for(Re--;ue.length&&Re<C;){const Mn=ue.shift();Ci(Mn)}Qt()}catch(Mn){w.error(Mn)}}))};return A.subscribe(new xt(w,ri,()=>{wt=!0,Qt()})),()=>{}}(C,I,A,_)))}function Mt(A=1/0){return _t(je,A)}const pe=new qe(A=>A.complete());function ht(A){return A&&z(A.schedule)}function mt(A){return A[A.length-1]}function Ot(A){return ht(mt(A))?A.pop():void 0}function Tt(A,w=0){return ut((_,C)=>{_.subscribe(new xt(C,I=>we(C,A,()=>C.next(I),w),()=>we(C,A,()=>C.complete(),w),I=>we(C,A,()=>C.error(I),w)))})}function _i(A,w=0){return ut((_,C)=>{C.add(A.schedule(()=>_.subscribe(C),w))})}function ui(A,w){if(!A)throw new Error("Iterable cannot be null");return new qe(_=>{we(_,w,()=>{const C=A[Symbol.asyncIterator]();we(_,w,()=>{C.next().then(I=>{I.done?_.complete():_.next(I.value)})},0,!0)})})}function Oi(A,w){return w?function(A,w){if(null!=A){if(Be(A))return function(A,w){return F(A).pipe(_i(w),Tt(w))}(A,w);if(li(A))return function(A,w){return new qe(_=>{let C=0;return w.schedule(function(){C===A.length?_.complete():(_.next(A[C++]),_.closed||this.schedule())})})}(A,w);if(B(A))return function(A,w){return F(A).pipe(_i(w),Tt(w))}(A,w);if($(A))return ui(A,w);if(D(A))return function(A,w){return new qe(_=>{let C;return we(_,w,()=>{C=A[E](),we(_,w,()=>{let I,j;try{({value:I,done:j}=C.next())}catch(K){return void _.error(K)}j?_.complete():_.next(I)},0,!0)}),()=>z(null==C?void 0:C.return)&&C.return()})}(A,w);if(L(A))return function(A,w){return ui(O(A),w)}(A,w)}throw k(A)}(A,w):F(A)}function Zi(A){return A<=0?()=>pe:ut((w,_)=>{let C=0;w.subscribe(new xt(_,I=>{++C<=A&&(_.next(I),A<=C&&_.complete())}))})}function nn(A={}){const{connector:w=(()=>new Se),resetOnError:_=!0,resetOnComplete:C=!0,resetOnRefCountZero:I=!0}=A;return j=>{let K=null,q=null,ue=null,Re=0,Je=!1,wt=!1;const Qt=()=>{null==q||q.unsubscribe(),q=null},ri=()=>{Qt(),K=ue=null,Je=wt=!1},Ci=()=>{const Gi=K;ri(),null==Gi||Gi.unsubscribe()};return ut((Gi,fn)=>{Re++,!wt&&!Je&&Qt();const Mn=ue=null!=ue?ue:w();fn.add(()=>{Re--,0===Re&&!wt&&!Je&&(q=Tn(Ci,I))}),Mn.subscribe(fn),K||(K=new ge({next:gn=>Mn.next(gn),error:gn=>{wt=!0,Qt(),q=Tn(ri,_,gn),Mn.error(gn)},complete:()=>{Je=!0,Qt(),q=Tn(ri,C),Mn.complete()}}),Oi(Gi).subscribe(K))})(j)}}function Tn(A,w,..._){return!0===w?(A(),null):!1===w?null:w(..._).pipe(Zi(1)).subscribe(()=>A())}function bn(A){for(let w in A)if(A[w]===bn)return w;throw Error("Could not find renamed property on target object.")}function Li(A,w){for(const _ in w)w.hasOwnProperty(_)&&!A.hasOwnProperty(_)&&(A[_]=w[_])}function si(A){if("string"==typeof A)return A;if(Array.isArray(A))return"["+A.map(si).join(", ")+"]";if(null==A)return""+A;if(A.overriddenName)return`${A.overriddenName}`;if(A.name)return`${A.name}`;const w=A.toString();if(null==w)return""+w;const _=w.indexOf("\n");return-1===_?w:w.substring(0,_)}function $i(A,w){return null==A||""===A?null===w?"":w:null==w||""===w?A:A+" "+w}const Ye=bn({__forward_ref__:bn});function Ht(A){return A.__forward_ref__=Ht,A.toString=function(){return si(this())},A}function $t(A){return ci(A)?A():A}function ci(A){return"function"==typeof A&&A.hasOwnProperty(Ye)&&A.__forward_ref__===Ht}class Jt extends Error{constructor(w,_){super(function(A,w){return`NG0${Math.abs(A)}${w?": "+w:""}`}(w,_)),this.code=w}}function Gt(A){return"string"==typeof A?A:null==A?"":String(A)}function gi(A){return"function"==typeof A?A.name||A.toString():"object"==typeof A&&null!=A&&"function"==typeof A.type?A.type.name||A.type.toString():Gt(A)}function Ai(A,w){const _=w?` in ${w}`:"";throw new Jt(-201,`No provider for ${gi(A)} found${_}`)}function Ni(A,w){null==A&&function(A,w,_,C){throw new Error(`ASSERTION ERROR: ${A}`+(null==C?"":` [Expected=> ${_} ${C} ${w} <=Actual]`))}(w,A,null,"!=")}function di(A){return{token:A.token,providedIn:A.providedIn||null,factory:A.factory,value:void 0}}function Bi(A){return{providers:A.providers||[],imports:A.imports||[]}}function hn(A){return cn(A,Qi)||cn(A,xn)}function cn(A,w){return A.hasOwnProperty(w)?A[w]:null}function bi(A){return A&&(A.hasOwnProperty(ki)||A.hasOwnProperty(cr))?A[ki]:null}const Qi=bn({\u0275prov:bn}),ki=bn({\u0275inj:bn}),xn=bn({ngInjectableDef:bn}),cr=bn({ngInjectorDef:bn});var Dn=(()=>((Dn=Dn||{})[Dn.Default=0]="Default",Dn[Dn.Host=1]="Host",Dn[Dn.Self=2]="Self",Dn[Dn.SkipSelf=4]="SkipSelf",Dn[Dn.Optional=8]="Optional",Dn))();let gr;function Dr(A){const w=gr;return gr=A,w}function zn(A,w,_){const C=hn(A);return C&&"root"==C.providedIn?void 0===C.value?C.value=C.factory():C.value:_&Dn.Optional?null:void 0!==w?w:void Ai(si(A),"Injector")}function Yn(A){return{toString:A}.toString()}var Ut=(()=>((Ut=Ut||{})[Ut.OnPush=0]="OnPush",Ut[Ut.Default=1]="Default",Ut))(),dn=(()=>{return(A=dn||(dn={}))[A.Emulated=0]="Emulated",A[A.None=2]="None",A[A.ShadowDom=3]="ShadowDom",dn;var A})();const jn="undefined"!=typeof globalThis&&globalThis,Qn="undefined"!=typeof window&&window,Cr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,lr=jn||"undefined"!=typeof global&&global||Qn||Cr,so={},ur=[],Ts=bn({\u0275cmp:bn}),Fc=bn({\u0275dir:bn}),$l=bn({\u0275pipe:bn}),sd=bn({\u0275mod:bn}),Io=bn({\u0275fac:bn}),ya=bn({__NG_ELEMENT_ID__:bn});let Nl=0;function dr(A){return Yn(()=>{const _={},C={type:A.type,providersResolver:null,decls:A.decls,vars:A.vars,factory:null,template:A.template||null,consts:A.consts||null,ngContentSelectors:A.ngContentSelectors,hostBindings:A.hostBindings||null,hostVars:A.hostVars||0,hostAttrs:A.hostAttrs||null,contentQueries:A.contentQueries||null,declaredInputs:_,inputs:null,outputs:null,exportAs:A.exportAs||null,onPush:A.changeDetection===Ut.OnPush,directiveDefs:null,pipeDefs:null,selectors:A.selectors||ur,viewQuery:A.viewQuery||null,features:A.features||null,data:A.data||{},encapsulation:A.encapsulation||dn.Emulated,id:"c",styles:A.styles||ur,_:null,setInput:null,schemas:A.schemas||null,tView:null},I=A.directives,j=A.features,K=A.pipes;return C.id+=Nl++,C.inputs=rl(A.inputs,_),C.outputs=rl(A.outputs),j&&j.forEach(q=>q(C)),C.directiveDefs=I?()=>("function"==typeof I?I():I).map(ls):null,C.pipeDefs=K?()=>("function"==typeof K?K():K).map(od):null,C})}function ls(A){return ca(A)||function(A){return A[Fc]||null}(A)}function od(A){return function(A){return A[$l]||null}(A)}const Ru={};function Rr(A){return Yn(()=>{const w={type:A.type,bootstrap:A.bootstrap||ur,declarations:A.declarations||ur,imports:A.imports||ur,exports:A.exports||ur,transitiveCompileScopes:null,schemas:A.schemas||null,id:A.id||null};return null!=A.id&&(Ru[A.id]=A.type),w})}function rl(A,w){if(null==A)return so;const _={};for(const C in A)if(A.hasOwnProperty(C)){let I=A[C],j=I;Array.isArray(I)&&(j=I[1],I=I[0]),_[I]=C,w&&(w[I]=j)}return _}const Fr=dr;function rs(A){return{type:A.type,name:A.name,factory:null,pure:!1!==A.pure,onDestroy:A.type.prototype.ngOnDestroy||null}}function ca(A){return A[Ts]||null}function ta(A,w){const _=A[sd]||null;if(!_&&!0===w)throw new Error(`Type ${si(A)} does not have '\u0275mod' property.`);return _}function bl(A){return Array.isArray(A)&&"object"==typeof A[1]}function Al(A){return Array.isArray(A)&&!0===A[1]}function Fu(A){return 0!=(8&A.flags)}function Ia(A){return 2==(2&A.flags)}function Gd(A){return 1==(1&A.flags)}function wl(A){return null!==A.template}function Cl(A){return 0!=(512&A[2])}function Ul(A,w){return A.hasOwnProperty(Io)?A[Io]:null}class za{constructor(w,_,C){this.previousValue=w,this.currentValue=_,this.firstChange=C}isFirstChange(){return this.firstChange}}function go(){return cu}function cu(A){return A.type.prototype.ngOnChanges&&(A.setInput=h1),zf}function zf(){const A=uu(this),w=null==A?void 0:A.current;if(w){const _=A.previous;if(_===so)A.previous=w;else for(let C in w)_[C]=w[C];A.current=null,this.ngOnChanges(w)}}function h1(A,w,_,C){const I=uu(A)||function(A,w){return A[zp]=w}(A,{previous:so,current:null}),j=I.current||(I.current={}),K=I.previous,q=this.declaredInputs[_],ue=K[q];j[q]=new za(ue&&ue.currentValue,w,K===so),A[C]=w}go.ngInherit=!0;const zp="__ngSimpleChanges__";function uu(A){return A[zp]||null}let Tm;function ha(){return void 0!==Tm?Tm:"undefined"!=typeof document?document:void 0}function Po(A){return!!A.listen}const $d={createRenderer:(A,w)=>ha()};function Ko(A){for(;Array.isArray(A);)A=A[0];return A}function ol(A,w){return Ko(w[A])}function Ec(A,w){return Ko(w[A.index])}function hu(A,w){return A.data[w]}function Zd(A,w){return A[w]}function ql(A,w){const _=w[A];return bl(_)?_:_[0]}function Wp(A){return 4==(4&A[2])}function Kf(A){return 128==(128&A[2])}function jc(A,w){return null==w?null:A[w]}function p1(A){A[18]=0}function du(A,w){A[5]+=w;let _=A,C=A[3];for(;null!==C&&(1===w&&1===_[5]||-1===w&&0===_[5]);)C[5]+=w,_=C,C=C[3]}const ss={lFrame:ud(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Kp(){return ss.bindingsEnabled}function or(){return ss.lFrame.lView}function Us(){return ss.lFrame.tView}function zi(A){return ss.lFrame.contextLView=A,A[8]}function ko(){let A=m1();for(;null!==A&&64===A.type;)A=A.parent;return A}function m1(){return ss.lFrame.currentTNode}function pu(A,w){const _=ss.lFrame;_.currentTNode=A,_.isParent=w}function El(){return ss.lFrame.isParent}function Gp(){ss.lFrame.isParent=!1}function ld(){return ss.isInCheckNoChangesMode}function da(A){ss.isInCheckNoChangesMode=A}function _a(){const A=ss.lFrame;let w=A.bindingRootIndex;return-1===w&&(w=A.bindingRootIndex=A.tView.bindingStartIndex),w}function Uu(){return ss.lFrame.bindingIndex}function Lo(){return ss.lFrame.bindingIndex++}function ju(A){const w=ss.lFrame,_=w.bindingIndex;return w.bindingIndex=w.bindingIndex+A,_}function Wn(A,w){const _=ss.lFrame;_.bindingIndex=_.bindingRootIndex=A,gh(w)}function gh(A){ss.lFrame.currentDirectiveIndex=A}function tc(){return ss.lFrame.currentQueryIndex}function jo(A){ss.lFrame.currentQueryIndex=A}function g1(A){const w=A[1];return 2===w.type?w.declTNode:1===w.type?A[6]:null}function Vc(A,w,_){if(_&Dn.SkipSelf){let I=w,j=A;for(;!(I=I.parent,null!==I||_&Dn.Host||(I=g1(j),null===I||(j=j[15],10&I.type))););if(null===I)return!1;w=I,A=j}const C=ss.lFrame=Hu();return C.currentTNode=w,C.lView=A,!0}function $f(A){const w=Hu(),_=A[1];ss.lFrame=w,w.currentTNode=_.firstChild,w.lView=A,w.tView=_,w.contextLView=A,w.bindingIndex=_.bindingStartIndex,w.inI18n=!1}function Hu(){const A=ss.lFrame,w=null===A?null:A.child;return null===w?ud(A):w}function ud(A){const w={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:A,child:null,inI18n:!1};return null!==A&&(A.child=w),w}function Jd(){const A=ss.lFrame;return ss.lFrame=A.parent,A.currentTNode=null,A.lView=null,A}const y1=Jd;function Zf(){const A=Jd();A.isParent=!0,A.tView=null,A.selectedIndex=-1,A.contextLView=null,A.elementDepthCount=0,A.currentDirectiveIndex=-1,A.currentNamespace=null,A.bindingRootIndex=-1,A.bindingIndex=-1,A.currentQueryIndex=0}function Mo(){return ss.lFrame.selectedIndex}function yh(A){ss.lFrame.selectedIndex=A}function oo(){const A=ss.lFrame;return hu(A.tView,A.selectedIndex)}function Zp(A,w){for(let _=w.directiveStart,C=w.directiveEnd;_<C;_++){const j=A.data[_].type.prototype,{ngAfterContentInit:K,ngAfterContentChecked:q,ngAfterViewInit:ue,ngAfterViewChecked:Re,ngOnDestroy:Je}=j;K&&(A.contentHooks||(A.contentHooks=[])).push(-_,K),q&&((A.contentHooks||(A.contentHooks=[])).push(_,q),(A.contentCheckHooks||(A.contentCheckHooks=[])).push(_,q)),ue&&(A.viewHooks||(A.viewHooks=[])).push(-_,ue),Re&&((A.viewHooks||(A.viewHooks=[])).push(_,Re),(A.viewCheckHooks||(A.viewCheckHooks=[])).push(_,Re)),null!=Je&&(A.destroyHooks||(A.destroyHooks=[])).push(_,Je)}}function Yf(A,w,_){Om(A,w,3,_)}function Xd(A,w,_,C){(3&A[2])===_&&Om(A,w,_,C)}function Im(A,w){let _=A[2];(3&_)===w&&(_&=2047,_+=1,A[2]=_)}function Om(A,w,_,C){const j=null!=C?C:-1,K=w.length-1;let q=0;for(let ue=void 0!==C?65535&A[18]:0;ue<K;ue++)if("number"==typeof w[ue+1]){if(q=w[ue],null!=C&&q>=C)break}else w[ue]<0&&(A[18]+=65536),(q<j||-1==j)&&(vh(A,_,w,ue),A[18]=(4294901760&A[18])+ue+2),ue++}function vh(A,w,_,C){const I=_[C]<0,j=_[C+1],q=A[I?-_[C]:_[C]];if(I){if(A[2]>>11<A[18]>>16&&(3&A[2])===w){A[2]+=2048;try{j.call(q)}finally{}}}else try{j.call(q)}finally{}}class fu{constructor(w,_,C){this.factory=w,this.resolving=!1,this.canSeeViewProviders=_,this.injectImpl=C}}function qf(A,w,_){const C=Po(A);let I=0;for(;I<_.length;){const j=_[I];if("number"==typeof j){if(0!==j)break;I++;const K=_[I++],q=_[I++],ue=_[I++];C?A.setAttribute(w,q,ue,K):w.setAttributeNS(K,q,ue)}else{const K=j,q=_[++I];bh(K)?C&&A.setProperty(w,K,q):C?A.setAttribute(w,K,q):w.setAttribute(K,q),I++}}return I}function Pm(A){return 3===A||4===A||6===A}function bh(A){return 64===A.charCodeAt(0)}function e0(A,w){if(null!==w&&0!==w.length)if(null===A||0===A.length)A=w.slice();else{let _=-1;for(let C=0;C<w.length;C++){const I=w[C];"number"==typeof I?_=I:0===_||Pa(A,_,I,null,-1===_||2===_?w[++C]:null)}}return A}function Pa(A,w,_,C,I){let j=0,K=A.length;if(-1===w)K=-1;else for(;j<A.length;){const q=A[j++];if("number"==typeof q){if(q===w){K=-1;break}if(q>w){K=j-1;break}}}for(;j<A.length;){const q=A[j];if("number"==typeof q)break;if(q===_){if(null===C)return void(null!==I&&(A[j+1]=I));if(C===A[j+1])return void(A[j+2]=I)}j++,null!==C&&j++,null!==I&&j++}-1!==K&&(A.splice(K,0,w),j=K+1),A.splice(j++,0,_),null!==C&&A.splice(j++,0,C),null!==I&&A.splice(j++,0,I)}function _1(A){return-1!==A}function Yd(A){return 32767&A}function qd(A,w){let _=function(A){return A>>16}(A),C=w;for(;_>0;)C=C[15],_--;return C}let t0=!0;function n0(A){const w=t0;return t0=A,w}let Nr=0;function Ah(A,w){const _=r0(A,w);if(-1!==_)return _;const C=w[1];C.firstCreatePass&&(A.injectorIndex=w.length,Bm(C.data,A),Bm(w,null),Bm(C.blueprint,null));const I=Xp(A,w),j=A.injectorIndex;if(_1(I)){const K=Yd(I),q=qd(I,w),ue=q[1].data;for(let Re=0;Re<8;Re++)w[j+Re]=q[K+Re]|ue[K+Re]}return w[j+8]=I,j}function Bm(A,w){A.push(0,0,0,0,0,0,0,0,w)}function r0(A,w){return-1===A.injectorIndex||A.parent&&A.parent.injectorIndex===A.injectorIndex||null===w[A.injectorIndex+8]?-1:A.injectorIndex}function Xp(A,w){if(A.parent&&-1!==A.parent.injectorIndex)return A.parent.injectorIndex;let _=0,C=null,I=w;for(;null!==I;){const j=I[1],K=j.type;if(C=2===K?j.declTNode:1===K?I[6]:null,null===C)return-1;if(_++,I=I[15],-1!==C.injectorIndex)return C.injectorIndex|_<<16}return-1}function s0(A,w,_){!function(A,w,_){let C;"string"==typeof _?C=_.charCodeAt(0)||0:_.hasOwnProperty(ya)&&(C=_[ya]),null==C&&(C=_[ya]=Nr++);const I=255&C;w.data[A+(I>>5)]|=1<<I}(A,w,_)}function b1(A,w,_){if(_&Dn.Optional)return A;Ai(w,"NodeInjector")}function A1(A,w,_,C){if(_&Dn.Optional&&void 0===C&&(C=null),0==(_&(Dn.Self|Dn.Host))){const I=A[9],j=Dr(void 0);try{return I?I.get(w,C,_&Dn.Optional):zn(w,C,_&Dn.Optional)}finally{Dr(j)}}return b1(C,w,_)}function Rm(A,w,_,C=Dn.Default,I){if(null!==A){const j=function(A){if("string"==typeof A)return A.charCodeAt(0)||0;const w=A.hasOwnProperty(ya)?A[ya]:void 0;return"number"==typeof w?w>=0?255&w:w1:w}(_);if("function"==typeof j){if(!Vc(w,A,C))return C&Dn.Host?b1(I,_,C):A1(w,_,C,I);try{const K=j(C);if(null!=K||C&Dn.Optional)return K;Ai(_)}finally{y1()}}else if("number"==typeof j){let K=null,q=r0(A,w),ue=-1,Re=C&Dn.Host?w[16][6]:null;for((-1===q||C&Dn.SkipSelf)&&(ue=-1===q?Xp(A,w):w[q+8],-1!==ue&&x1(C,!1)?(K=w[1],q=Yd(ue),w=qd(ue,w)):q=-1);-1!==q;){const Je=w[1];if(C1(j,q,Je.data)){const wt=Nm(q,w,_,K,C,Re);if(wt!==Fm)return wt}ue=w[q+8],-1!==ue&&x1(C,w[1].data[q+8]===Re)&&C1(j,q,w)?(K=Je,q=Yd(ue),w=qd(ue,w)):q=-1}}}return A1(w,_,C,I)}const Fm={};function w1(){return new tp(ko(),or())}function Nm(A,w,_,C,I,j){const K=w[1],q=K.data[A+8],Je=Yp(q,K,_,null==C?Ia(q)&&t0:C!=K&&0!=(3&q.type),I&Dn.Host&&j===q);return null!==Je?ep(w,K,Je,q):Fm}function Yp(A,w,_,C,I){const j=A.providerIndexes,K=w.data,q=1048575&j,ue=A.directiveStart,Je=j>>20,Qt=I?q+Je:A.directiveEnd;for(let ri=C?q:q+Je;ri<Qt;ri++){const Ci=K[ri];if(ri<ue&&_===Ci||ri>=ue&&Ci.type===_)return ri}if(I){const ri=K[ue];if(ri&&wl(ri)&&ri.type===_)return ue}return null}function ep(A,w,_,C){let I=A[_];const j=w.data;if(function(A){return A instanceof fu}(I)){const K=I;K.resolving&&function(A,w){throw new Jt(-200,`Circular dependency in DI detected for ${A}`)}(gi(j[_]));const q=n0(K.canSeeViewProviders);K.resolving=!0;const ue=K.injectImpl?Dr(K.injectImpl):null;Vc(A,C,Dn.Default);try{I=A[_]=K.factory(void 0,j,A,C),w.firstCreatePass&&_>=C.directiveStart&&function(A,w,_){const{ngOnChanges:C,ngOnInit:I,ngDoCheck:j}=w.type.prototype;if(C){const K=cu(w);(_.preOrderHooks||(_.preOrderHooks=[])).push(A,K),(_.preOrderCheckHooks||(_.preOrderCheckHooks=[])).push(A,K)}I&&(_.preOrderHooks||(_.preOrderHooks=[])).push(0-A,I),j&&((_.preOrderHooks||(_.preOrderHooks=[])).push(A,j),(_.preOrderCheckHooks||(_.preOrderCheckHooks=[])).push(A,j))}(_,j[_],w)}finally{null!==ue&&Dr(ue),n0(q),K.resolving=!1,y1()}}return I}function C1(A,w,_){return!!(_[w+(A>>5)]&1<<A)}function x1(A,w){return!(A&Dn.Self||A&Dn.Host&&w)}class tp{constructor(w,_){this._tNode=w,this._lView=_}get(w,_,C){return Rm(this._tNode,this._lView,w,C,_)}}function al(A){return Yn(()=>{const w=A.prototype.constructor,_=w[Io]||ip(w),C=Object.prototype;let I=Object.getPrototypeOf(A.prototype).constructor;for(;I&&I!==C;){const j=I[Io]||ip(I);if(j&&j!==_)return j;I=Object.getPrototypeOf(I)}return j=>new j})}function ip(A){return ci(A)?()=>{const w=ip($t(A));return w&&w()}:Ul(A)}const hd="__parameters__";function dd(A,w,_){return Yn(()=>{const C=function(A){return function(..._){if(A){const C=A(..._);for(const I in C)this[I]=C[I]}}}(w);function I(...j){if(this instanceof I)return C.apply(this,j),this;const K=new I(...j);return q.annotation=K,q;function q(ue,Re,Je){const wt=ue.hasOwnProperty(hd)?ue[hd]:Object.defineProperty(ue,hd,{value:[]})[hd];for(;wt.length<=Je;)wt.push(null);return(wt[Je]=wt[Je]||[]).push(K),ue}}return _&&(I.prototype=Object.create(_.prototype)),I.prototype.ngMetadataName=A,I.annotationCls=I,I})}class ms{constructor(w,_){this._desc=w,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof _?this.__NG_ELEMENT_ID__=_:void 0!==_&&(this.\u0275prov=di({token:this,providedIn:_.providedIn||"root",factory:_.factory}))}toString(){return`InjectionToken ${this._desc}`}}function jl(A,w){void 0===w&&(w=A);for(let _=0;_<A.length;_++){let C=A[_];Array.isArray(C)?(w===A&&(w=A.slice(0,_)),jl(C,w)):w!==A&&w.push(C)}return w}function Mc(A,w){A.forEach(_=>Array.isArray(_)?Mc(_,w):w(_))}function a0(A,w,_){w>=A.length?A.push(_):A.splice(w,0,_)}function l0(A,w){return w>=A.length-1?A.pop():A.splice(w,1)[0]}function Ch(A,w){const _=[];for(let C=0;C<A;C++)_.push(w);return _}function ka(A,w,_){let C=xo(A,w);return C>=0?A[1|C]=_:(C=~C,function(A,w,_,C){let I=A.length;if(I==w)A.push(_,C);else if(1===I)A.push(C,A[0]),A[0]=_;else{for(I--,A.push(A[I-1],A[I]);I>w;)A[I]=A[I-2],I--;A[w]=_,A[w+1]=C}}(A,C,w,_)),C}function c0(A,w){const _=xo(A,w);if(_>=0)return A[1|_]}function xo(A,w){return function(A,w,_){let C=0,I=A.length>>_;for(;I!==C;){const j=C+(I-C>>1),K=A[j<<_];if(w===K)return j<<_;K>w?I=j:C=j+1}return~(I<<_)}(A,w,1)}const lp={},d0="__NG_DI_FLAG__",gu="ngTempTokenPath",Vv=/\n/gm,I1="__source",zv=bn({provide:String,useValue:bn});let fd;function O1(A){const w=fd;return fd=A,w}function P1(A,w=Dn.Default){if(void 0===fd)throw new Error("inject() must be called from an injection context");return null===fd?zn(A,void 0,w):fd.get(A,w&Dn.Optional?null:void 0,w)}function xr(A,w=Dn.Default){return(gr||P1)($t(A),w)}const Vm=xr;function zm(A){const w=[];for(let _=0;_<A.length;_++){const C=$t(A[_]);if(Array.isArray(C)){if(0===C.length)throw new Error("Arguments array must have arguments.");let I,j=Dn.Default;for(let K=0;K<C.length;K++){const q=C[K],ue=cp(q);"number"==typeof ue?-1===ue?I=q.token:j|=ue:I=q}w.push(xr(I,j))}else w.push(xr(C))}return w}function rf(A,w){return A[d0]=w,A.prototype[d0]=w,A}function cp(A){return A[d0]}const kr=rf(dd("Inject",A=>({token:A})),-1),Qo=rf(dd("Optional"),8),Vl=rf(dd("SkipSelf"),4);let of,gd;function ll(A){var w;return(null===(w=function(){if(void 0===of&&(of=null,lr.trustedTypes))try{of=lr.trustedTypes.createPolicy("angular",{createHTML:A=>A,createScript:A=>A,createScriptURL:A=>A})}catch(A){}return of}())||void 0===w?void 0:w.createHTML(A))||A}function yd(A){var w;return(null===(w=function(){if(void 0===gd&&(gd=null,lr.trustedTypes))try{gd=lr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:A=>A,createScript:A=>A,createScriptURL:A=>A})}catch(A){}return gd}())||void 0===w?void 0:w.createHTML(A))||A}class Mh{constructor(w){this.changingThisBreaksApplicationSecurity=w}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Qc(A){return A instanceof Mh?A.changingThisBreaksApplicationSecurity:A}function pp(A,w){const _=function(A){return A instanceof Mh&&A.getTypeName()||null}(A);if(null!=_&&_!==w){if("ResourceURL"===_&&"URL"===w)return!0;throw new Error(`Required a safe ${w}, got a ${_} (see https://g.co/ng/security#xss)`)}return _===w}class at{constructor(w){this.inertDocumentHelper=w}getInertBodyElement(w){w="<body><remove></remove>"+w;try{const _=(new window.DOMParser).parseFromString(ll(w),"text/html").body;return null===_?this.inertDocumentHelper.getInertBodyElement(w):(_.removeChild(_.firstChild),_)}catch(_){return null}}}class bt{constructor(w){if(this.defaultDoc=w,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const _=this.inertDocument.createElement("html");this.inertDocument.appendChild(_);const C=this.inertDocument.createElement("body");_.appendChild(C)}}getInertBodyElement(w){const _=this.inertDocument.createElement("template");if("content"in _)return _.innerHTML=ll(w),_;const C=this.inertDocument.createElement("body");return C.innerHTML=ll(w),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(C),C}stripCustomNsAttrs(w){const _=w.attributes;for(let I=_.length-1;0<I;I--){const K=_.item(I).name;("xmlns:ns1"===K||0===K.indexOf("ns1:"))&&w.removeAttribute(K)}let C=w.firstChild;for(;C;)C.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(C),C=C.nextSibling}}const Ei=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,an=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function pn(A){return(A=String(A)).match(Ei)||A.match(an)?A:"unsafe:"+A}function vn(A){return(A=String(A)).split(",").map(w=>pn(w.trim())).join(", ")}function wn(A){const w={};for(const _ of A.split(","))w[_]=!0;return w}function sr(...A){const w={};for(const _ of A)for(const C in _)_.hasOwnProperty(C)&&(w[C]=!0);return w}const Br=wn("area,br,col,hr,img,wbr"),yr=wn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),wr=wn("rp,rt"),gs=sr(Br,sr(yr,wn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),sr(wr,wn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),sr(wr,yr)),ho=wn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),cs=wn("srcset"),cl=sr(ho,cs,wn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),wn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Sl=wn("script,style,template");class io{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(w){let _=w.firstChild,C=!0;for(;_;)if(_.nodeType===Node.ELEMENT_NODE?C=this.startElement(_):_.nodeType===Node.TEXT_NODE?this.chars(_.nodeValue):this.sanitizedSomething=!0,C&&_.firstChild)_=_.firstChild;else for(;_;){_.nodeType===Node.ELEMENT_NODE&&this.endElement(_);let I=this.checkClobberedElement(_,_.nextSibling);if(I){_=I;break}_=this.checkClobberedElement(_,_.parentNode)}return this.buf.join("")}startElement(w){const _=w.nodeName.toLowerCase();if(!gs.hasOwnProperty(_))return this.sanitizedSomething=!0,!Sl.hasOwnProperty(_);this.buf.push("<"),this.buf.push(_);const C=w.attributes;for(let I=0;I<C.length;I++){const j=C.item(I),K=j.name,q=K.toLowerCase();if(!cl.hasOwnProperty(q)){this.sanitizedSomething=!0;continue}let ue=j.value;ho[q]&&(ue=pn(ue)),cs[q]&&(ue=vn(ue)),this.buf.push(" ",K,'="',Sc(ue),'"')}return this.buf.push(">"),!0}endElement(w){const _=w.nodeName.toLowerCase();gs.hasOwnProperty(_)&&!Br.hasOwnProperty(_)&&(this.buf.push("</"),this.buf.push(_),this.buf.push(">"))}chars(w){this.buf.push(Sc(w))}checkClobberedElement(w,_){if(_&&(w.compareDocumentPosition(_)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${w.outerHTML}`);return _}}const La=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Aa=/([^\#-~ |!])/g;function Sc(A){return A.replace(/&/g,"&amp;").replace(La,function(w){return"&#"+(1024*(w.charCodeAt(0)-55296)+(w.charCodeAt(1)-56320)+65536)+";"}).replace(Aa,function(w){return"&#"+w.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ga;function fp(A){return"content"in A&&function(A){return A.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===A.nodeName}(A)?A.content:null}var yo=(()=>((yo=yo||{})[yo.NONE=0]="NONE",yo[yo.HTML=1]="HTML",yo[yo.STYLE=2]="STYLE",yo[yo.SCRIPT=3]="SCRIPT",yo[yo.URL=4]="URL",yo[yo.RESOURCE_URL=5]="RESOURCE_URL",yo))();function ul(A){const w=Zm();return w?yd(w.sanitize(yo.HTML,A)||""):pp(A,"HTML")?yd(Qc(A)):function(A,w){let _=null;try{Ga=Ga||function(A){const w=new bt(A);return function(){try{return!!(new window.DOMParser).parseFromString(ll(""),"text/html")}catch(A){return!1}}()?new at(w):w}(A);let C=w?String(w):"";_=Ga.getInertBodyElement(C);let I=5,j=C;do{if(0===I)throw new Error("Failed to sanitize html because the input is unstable");I--,C=j,j=_.innerHTML,_=Ga.getInertBodyElement(C)}while(C!==j);return ll((new io).sanitizeChildren(fp(_)||_))}finally{if(_){const C=fp(_)||_;for(;C.firstChild;)C.removeChild(C.firstChild)}}}(ha(),Gt(A))}function $o(A){const w=Zm();return w?w.sanitize(yo.URL,A)||"":pp(A,"URL")?Qc(A):pn(Gt(A))}function Zm(){const A=or();return A&&A[12]}const kA="__ngContext__";function Wl(A,w){A[kA]=w}function Yv(A){const w=function(A){return A[kA]||null}(A);return w?Array.isArray(w)?w:w.lView:null}function vu(A){return A.ngOriginalError}function Xm(A,...w){A.error(...w)}class Qu{constructor(){this._console=console}handleError(w){const _=this._findOriginalError(w),C=(A=w)&&A.ngErrorLogger||Xm;var A;C(this._console,"ERROR",w),_&&C(this._console,"ORIGINAL ERROR",_)}_findOriginalError(w){let _=w&&vu(w);for(;_&&vu(_);)_=vu(_);return _||null}}const i_=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(lr))();function Ba(A){return A instanceof Function?A():A}var $c=(()=>(($c=$c||{})[$c.Important=1]="Important",$c[$c.DashCase=2]="DashCase",$c))();function Ho(A,w){return undefined(A,w)}function qm(A){const w=A[3];return Al(w)?w[3]:w}function eg(A){return o_(A[13])}function R1(A){return o_(A[4])}function o_(A){for(;null!==A&&!Al(A);)A=A[4];return A}function gp(A,w,_,C,I){if(null!=C){let j,K=!1;Al(C)?j=C:bl(C)&&(K=!0,C=C[0]);const q=Ko(C);0===A&&null!==_?null==I?JA(w,_,q):Th(w,_,q,I||null,!0):1===A&&null!==_?Th(w,_,q,I||null,!0):2===A?function(A,w,_){const C=U1(A,w);C&&function(A,w,_,C){Po(A)?A.removeChild(w,_,C):w.removeChild(_)}(A,C,w,_)}(w,q,K):3===A&&w.destroyNode(q),null!=j&&function(A,w,_,C,I){const j=_[7];j!==Ko(_)&&gp(w,A,C,j,I);for(let q=10;q<_.length;q++){const ue=_[q];ng(ue[1],ue,A,w,C,j)}}(w,A,j,_,I)}}function tg(A,w,_){return Po(A)?A.createElement(w,_):null===_?A.createElement(w):A.createElementNS(_,w)}function ZA(A,w){const _=A[9],C=_.indexOf(w),I=w[3];1024&w[2]&&(w[2]&=-1025,du(I,-1)),_.splice(C,1)}function h_(A,w){if(A.length<=10)return;const _=10+w,C=A[_];if(C){const I=C[17];null!==I&&I!==A&&ZA(I,C),w>0&&(A[_-1][4]=C[4]);const j=l0(A,10+w);!function(A,w){ng(A,w,w[11],2,null,null),w[0]=null,w[6]=null}(C[1],C);const K=j[19];null!==K&&K.detachView(j[1]),C[3]=null,C[4]=null,C[2]&=-129}return C}function N1(A,w){if(!(256&w[2])){const _=w[11];Po(_)&&_.destroyNode&&ng(A,w,_,3,null,null),function(A){let w=A[13];if(!w)return d_(A[1],A);for(;w;){let _=null;if(bl(w))_=w[13];else{const C=w[10];C&&(_=C)}if(!_){for(;w&&!w[4]&&w!==A;)bl(w)&&d_(w[1],w),w=w[3];null===w&&(w=A),bl(w)&&d_(w[1],w),_=w&&w[4]}w=_}}(w)}}function d_(A,w){if(!(256&w[2])){w[2]&=-129,w[2]|=256,function(A,w){let _;if(null!=A&&null!=(_=A.destroyHooks))for(let C=0;C<_.length;C+=2){const I=w[_[C]];if(!(I instanceof fu)){const j=_[C+1];if(Array.isArray(j))for(let K=0;K<j.length;K+=2){const q=I[j[K]],ue=j[K+1];try{ue.call(q)}finally{}}else try{j.call(I)}finally{}}}}(A,w),function(A,w){const _=A.cleanup,C=w[7];let I=-1;if(null!==_)for(let j=0;j<_.length-1;j+=2)if("string"==typeof _[j]){const K=_[j+1],q="function"==typeof K?K(w):Ko(w[K]),ue=C[I=_[j+2]],Re=_[j+3];"boolean"==typeof Re?q.removeEventListener(_[j],ue,Re):Re>=0?C[I=Re]():C[I=-Re].unsubscribe(),j+=2}else{const K=C[I=_[j+1]];_[j].call(K)}if(null!==C){for(let j=I+1;j<C.length;j++)C[j]();w[7]=null}}(A,w),1===w[1].type&&Po(w[11])&&w[11].destroy();const _=w[17];if(null!==_&&Al(w[3])){_!==w[3]&&ZA(_,w);const C=w[19];null!==C&&C.detachView(A)}}}function p_(A,w,_){return function(A,w,_){let C=w;for(;null!==C&&40&C.type;)C=(w=C).parent;if(null===C)return _[0];if(2&C.flags){const I=A.data[C.directiveStart].encapsulation;if(I===dn.None||I===dn.Emulated)return null}return Ec(C,_)}(A,w.parent,_)}function Th(A,w,_,C,I){Po(A)?A.insertBefore(w,_,C,I):w.insertBefore(_,C,I)}function JA(A,w,_){Po(A)?A.appendChild(w,_):w.appendChild(_)}function XA(A,w,_,C,I){null!==C?Th(A,w,_,C,I):JA(A,w,_)}function U1(A,w){return Po(A)?A.parentNode(w):w.parentNode}function YA(A,w,_){return ew(A,w,_)}let ew=function(A,w,_){return 40&A.type?Ec(A,_):null};function j1(A,w,_,C){const I=p_(A,C,w),j=w[11],q=YA(C.parent||w[6],C,w);if(null!=I)if(Array.isArray(_))for(let ue=0;ue<_.length;ue++)XA(j,I,_[ue],q,!1);else XA(j,I,_,q,!1)}function H1(A,w){if(null!==w){const _=w.type;if(3&_)return Ec(w,A);if(4&_)return m_(-1,A[w.index]);if(8&_){const C=w.child;if(null!==C)return H1(A,C);{const I=A[w.index];return Al(I)?m_(-1,I):Ko(I)}}if(32&_)return Ho(w,A)()||Ko(A[w.index]);{const C=V1(A,w);return null!==C?Array.isArray(C)?C[0]:H1(qm(A[16]),C):H1(A,w.next)}}return null}function V1(A,w){return null!==w?A[16][6].projection[w.projection]:null}function m_(A,w){const _=10+A+1;if(_<w.length){const C=w[_],I=C[1].firstChild;if(null!==I)return H1(C,I)}return w[7]}function bd(A,w,_,C,I,j,K){for(;null!=_;){const q=C[_.index],ue=_.type;if(K&&0===w&&(q&&Wl(Ko(q),C),_.flags|=4),64!=(64&_.flags))if(8&ue)bd(A,w,_.child,C,I,j,!1),gp(w,A,I,q,j);else if(32&ue){const Re=Ho(_,C);let Je;for(;Je=Re();)gp(w,A,I,Je,j);gp(w,A,I,q,j)}else 16&ue?nw(A,w,C,_,I,j):gp(w,A,I,q,j);_=K?_.projectionNext:_.next}}function ng(A,w,_,C,I,j){bd(_,C,A.firstChild,w,I,j,!1)}function nw(A,w,_,C,I,j){const K=_[16],ue=K[6].projection[C.projection];if(Array.isArray(ue))for(let Re=0;Re<ue.length;Re++)gp(w,A,I,ue[Re],j);else bd(A,w,ue,K[3],I,j,!0)}function rw(A,w,_){Po(A)?A.setAttribute(w,"style",_):w.style.cssText=_}function rg(A,w,_){Po(A)?""===_?A.removeAttribute(w,"class"):A.setAttribute(w,"class",_):w.className=_}function g_(A,w,_){let C=A.length;for(;;){const I=A.indexOf(w,_);if(-1===I)return I;if(0===I||A.charCodeAt(I-1)<=32){const j=w.length;if(I+j===C||A.charCodeAt(I+j)<=32)return I}_=I+1}}const sw="ng-template";function Vx(A,w,_){let C=0;for(;C<A.length;){let I=A[C++];if(_&&"class"===I){if(I=A[C],-1!==g_(I.toLowerCase(),w,0))return!0}else if(1===I){for(;C<A.length&&"string"==typeof(I=A[C++]);)if(I.toLowerCase()===w)return!0;return!1}}return!1}function ow(A){return 4===A.type&&A.value!==sw}function y_(A,w,_){return w===(4!==A.type||_?A.value:sw)}function zx(A,w,_){let C=4;const I=A.attrs||[],j=function(A){for(let w=0;w<A.length;w++)if(Pm(A[w]))return w;return A.length}(I);let K=!1;for(let q=0;q<w.length;q++){const ue=w[q];if("number"!=typeof ue){if(!K)if(4&C){if(C=2|1&C,""!==ue&&!y_(A,ue,_)||""===ue&&1===w.length){if(Gu(C))return!1;K=!0}}else{const Re=8&C?ue:w[++q];if(8&C&&null!==A.attrs){if(!Vx(A.attrs,Re,_)){if(Gu(C))return!1;K=!0}continue}const wt=Wx(8&C?"class":ue,I,ow(A),_);if(-1===wt){if(Gu(C))return!1;K=!0;continue}if(""!==Re){let Qt;Qt=wt>j?"":I[wt+1].toLowerCase();const ri=8&C?Qt:null;if(ri&&-1!==g_(ri,Re,0)||2&C&&Re!==Qt){if(Gu(C))return!1;K=!0}}}}else{if(!K&&!Gu(C)&&!Gu(ue))return!1;if(K&&Gu(ue))continue;K=!1,C=ue|1&C}}return Gu(C)||K}function Gu(A){return 0==(1&A)}function Wx(A,w,_,C){if(null===w)return-1;let I=0;if(C||!_){let j=!1;for(;I<w.length;){const K=w[I];if(K===A)return I;if(3===K||6===K)j=!0;else{if(1===K||2===K){let q=w[++I];for(;"string"==typeof q;)q=w[++I];continue}if(4===K)break;if(0===K){I+=4;continue}}I+=j?1:2}return-1}return function(A,w){let _=A.indexOf(4);if(_>-1)for(_++;_<A.length;){const C=A[_];if("number"==typeof C)return-1;if(C===w)return _;_++}return-1}(w,A)}function v_(A,w,_=!1){for(let C=0;C<w.length;C++)if(zx(A,w[C],_))return!0;return!1}function Gx(A,w){e:for(let _=0;_<w.length;_++){const C=w[_];if(A.length===C.length){for(let I=0;I<A.length;I++)if(A[I]!==C[I])continue e;return!0}}return!1}function lw(A,w){return A?":not("+w.trim()+")":w}function $x(A){let w=A[0],_=1,C=2,I="",j=!1;for(;_<A.length;){let K=A[_];if("string"==typeof K)if(2&C){const q=A[++_];I+="["+K+(q.length>0?'="'+q+'"':"")+"]"}else 8&C?I+="."+K:4&C&&(I+=" "+K);else""!==I&&!Gu(K)&&(w+=lw(j,I),I=""),C=K,j=j||!Gu(C);_++}return""!==I&&(w+=lw(j,I)),w}const bs={};function vt(A){uw(Us(),or(),Mo()+A,ld())}function uw(A,w,_,C){if(!C)if(3==(3&w[2])){const j=A.preOrderCheckHooks;null!==j&&Yf(w,j,_)}else{const j=A.preOrderHooks;null!==j&&Xd(w,j,0,_)}yh(_)}function D0(A,w){return A<<17|w<<2}function _u(A){return A>>17&32767}function b_(A){return 2|A}function Ad(A){return(131068&A)>>2}function A_(A,w){return-131069&A|w<<2}function sg(A){return 1|A}function I_(A,w){const _=A.contentQueries;if(null!==_)for(let C=0;C<_.length;C+=2){const I=_[C],j=_[C+1];if(-1!==j){const K=A.data[j];jo(I),K.contentQueries(2,w[j],j)}}}function Cd(A,w,_,C,I,j,K,q,ue,Re){const Je=w.blueprint.slice();return Je[0]=I,Je[2]=140|C,p1(Je),Je[3]=Je[15]=A,Je[8]=_,Je[10]=K||A&&A[10],Je[11]=q||A&&A[11],Je[12]=ue||A&&A[12]||null,Je[9]=Re||A&&A[9]||null,Je[6]=j,Je[16]=2==w.type?A[16]:Je,Je}function Ih(A,w,_,C,I){let j=A.data[w];if(null===j)j=function(A,w,_,C,I){const j=m1(),K=El(),ue=A.data[w]=function(A,w,_,C,I,j){return{type:_,index:C,insertBeforeIndex:null,injectorIndex:w?w.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:I,attrs:j,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:w,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,K?j:j&&j.parent,_,w,C,I);return null===A.firstChild&&(A.firstChild=ue),null!==j&&(K?null==j.child&&null!==ue.parent&&(j.child=ue):null===j.next&&(j.next=ue)),ue}(A,w,_,C,I),ss.lFrame.inI18n&&(j.flags|=64);else if(64&j.type){j.type=_,j.value=C,j.attrs=I;const K=function(){const A=ss.lFrame,w=A.currentTNode;return A.isParent?w:w.parent}();j.injectorIndex=null===K?-1:K.injectorIndex}return pu(j,!0),j}function M0(A,w,_,C){if(0===_)return-1;const I=w.length;for(let j=0;j<_;j++)w.push(C),A.blueprint.push(C),A.data.push(null);return I}function cg(A,w,_){$f(w);try{const C=A.viewQuery;null!==C&&z_(1,C,_);const I=A.template;null!==I&&vw(A,w,I,1,_),A.firstCreatePass&&(A.firstCreatePass=!1),A.staticContentQueries&&I_(A,w),A.staticViewQueries&&z_(2,A.viewQuery,_);const j=A.components;null!==j&&function(A,w){for(let _=0;_<w.length;_++)Mw(A,w[_])}(w,j)}catch(C){throw A.firstCreatePass&&(A.incompleteFirstPass=!0,A.firstCreatePass=!1),C}finally{w[2]&=-5,Zf()}}function S0(A,w,_,C){const I=w[2];if(256==(256&I))return;$f(w);const j=ld();try{p1(w),function(A){ss.lFrame.bindingIndex=A}(A.bindingStartIndex),null!==_&&vw(A,w,_,2,C);const K=3==(3&I);if(!j)if(K){const Re=A.preOrderCheckHooks;null!==Re&&Yf(w,Re,null)}else{const Re=A.preOrderHooks;null!==Re&&Xd(w,Re,0,null),Im(w,0)}if(function(A){for(let w=eg(A);null!==w;w=R1(w)){if(!w[2])continue;const _=w[9];for(let C=0;C<_.length;C++){const I=_[C],j=I[3];0==(1024&I[2])&&du(j,1),I[2]|=1024}}}(w),function(A){for(let w=eg(A);null!==w;w=R1(w))for(let _=10;_<w.length;_++){const C=w[_],I=C[1];Kf(C)&&S0(I,C,I.template,C[8])}}(w),null!==A.contentQueries&&I_(A,w),!j)if(K){const Re=A.contentCheckHooks;null!==Re&&Yf(w,Re)}else{const Re=A.contentHooks;null!==Re&&Xd(w,Re,1),Im(w,1)}!function(A,w){const _=A.hostBindingOpCodes;if(null!==_)try{for(let C=0;C<_.length;C++){const I=_[C];if(I<0)yh(~I);else{const j=I,K=_[++C],q=_[++C];Wn(K,j),q(2,w[j])}}}finally{yh(-1)}}(A,w);const q=A.components;null!==q&&function(A,w){for(let _=0;_<w.length;_++)bE(A,w[_])}(w,q);const ue=A.viewQuery;if(null!==ue&&z_(2,ue,C),!j)if(K){const Re=A.viewCheckHooks;null!==Re&&Yf(w,Re)}else{const Re=A.viewHooks;null!==Re&&Xd(w,Re,2),Im(w,2)}!0===A.firstUpdatePass&&(A.firstUpdatePass=!1),j||(w[2]&=-73),1024&w[2]&&(w[2]&=-1025,du(w[3],-1))}finally{Zf()}}function aE(A,w,_,C){const I=w[10],j=!ld(),K=Wp(w);try{j&&!K&&I.begin&&I.begin(),K&&cg(A,w,C),S0(A,w,_,C)}finally{j&&!K&&I.end&&I.end()}}function vw(A,w,_,C,I){const j=Mo(),K=2&C;try{yh(-1),K&&w.length>20&&uw(A,w,20,ld()),_(C,I)}finally{yh(j)}}function Zu(A,w,_){if(Fu(w)){const I=w.directiveEnd;for(let j=w.directiveStart;j<I;j++){const K=A.data[j];K.contentQueries&&K.contentQueries(1,_[j],j)}}}function G1(A,w,_){!Kp()||(function(A,w,_,C){const I=_.directiveStart,j=_.directiveEnd;A.firstCreatePass||Ah(_,w),Wl(C,w);const K=_.initialInputs;for(let q=I;q<j;q++){const ue=A.data[q],Re=wl(ue);Re&&Ew(w,_,ue);const Je=ep(w,A,q,_);Wl(Je,w),null!==K&&gE(0,q-I,Je,ue,0,K),Re&&(ql(_.index,w)[8]=Je)}}(A,w,_,Ec(_,w)),128==(128&_.flags)&&function(A,w,_){const C=_.directiveStart,I=_.directiveEnd,K=_.index,q=ss.lFrame.currentDirectiveIndex;try{yh(K);for(let ue=C;ue<I;ue++){const Re=A.data[ue],Je=w[ue];gh(ue),(null!==Re.hostBindings||0!==Re.hostVars||null!==Re.hostAttrs)&&R_(Re,Je)}}finally{yh(-1),gh(q)}}(A,w,_))}function P_(A,w,_=Ec){const C=w.localNames;if(null!==C){let I=w.index+1;for(let j=0;j<C.length;j+=2){const K=C[j+1],q=-1===K?_(w,A):A[K];A[I++]=q}}}function ug(A){const w=A.tView;return null===w||w.incompleteFirstPass?A.tView=$1(1,null,A.template,A.decls,A.vars,A.directiveDefs,A.pipeDefs,A.viewQuery,A.schemas,A.consts):w}function $1(A,w,_,C,I,j,K,q,ue,Re){const Je=20+C,wt=Je+I,Qt=function(A,w){const _=[];for(let C=0;C<w;C++)_.push(C<A?null:bs);return _}(Je,wt),ri="function"==typeof Re?Re():Re;return Qt[1]={type:A,blueprint:Qt,template:_,queries:null,viewQuery:q,declTNode:w,data:Qt.slice().fill(null,Je),bindingStartIndex:Je,expandoStartIndex:wt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof j?j():j,pipeRegistry:"function"==typeof K?K():K,firstChild:null,schemas:ue,consts:ri,incompleteFirstPass:!1}}function _w(A,w,_,C){const I=Iw(w);null===_?I.push(C):(I.push(_),A.firstCreatePass&&Ow(A).push(C,I.length-1))}function bw(A,w,_){for(let C in A)if(A.hasOwnProperty(C)){const I=A[C];(_=null===_?{}:_).hasOwnProperty(C)?_[C].push(w,I):_[C]=[w,I]}return _}function Ic(A,w,_,C,I,j,K,q){const ue=Ec(w,_);let Je,Re=w.inputs;!q&&null!=Re&&(Je=Re[C])?(Lw(A,_,Je,C,I),Ia(w)&&function(A,w){const _=ql(w,A);16&_[2]||(_[2]|=64)}(_,w.index)):3&w.type&&(C=function(A){return"class"===A?"className":"for"===A?"htmlFor":"formaction"===A?"formAction":"innerHtml"===A?"innerHTML":"readonly"===A?"readOnly":"tabindex"===A?"tabIndex":A}(C),I=null!=K?K(I,w.value||"",C):I,Po(j)?j.setProperty(ue,C,I):bh(C)||(ue.setProperty?ue.setProperty(C,I):ue[C]=I))}function L_(A,w,_,C){let I=!1;if(Kp()){const j=function(A,w,_){const C=A.directiveRegistry;let I=null;if(C)for(let j=0;j<C.length;j++){const K=C[j];v_(_,K.selectors,!1)&&(I||(I=[]),s0(Ah(_,w),A,K.type),wl(K)?(N_(A,_),I.unshift(K)):I.push(K))}return I}(A,w,_),K=null===C?null:{"":-1};if(null!==j){I=!0,T0(_,A.data.length,j.length);for(let Je=0;Je<j.length;Je++){const wt=j[Je];wt.providersResolver&&wt.providersResolver(wt)}let q=!1,ue=!1,Re=M0(A,w,j.length,null);for(let Je=0;Je<j.length;Je++){const wt=j[Je];_.mergedAttrs=e0(_.mergedAttrs,wt.hostAttrs),U_(A,_,w,Re,wt),xw(Re,wt,K),null!==wt.contentQueries&&(_.flags|=8),(null!==wt.hostBindings||null!==wt.hostAttrs||0!==wt.hostVars)&&(_.flags|=128);const Qt=wt.type.prototype;!q&&(Qt.ngOnChanges||Qt.ngOnInit||Qt.ngDoCheck)&&((A.preOrderHooks||(A.preOrderHooks=[])).push(_.index),q=!0),!ue&&(Qt.ngOnChanges||Qt.ngDoCheck)&&((A.preOrderCheckHooks||(A.preOrderCheckHooks=[])).push(_.index),ue=!0),Re++}!function(A,w){const C=w.directiveEnd,I=A.data,j=w.attrs,K=[];let q=null,ue=null;for(let Re=w.directiveStart;Re<C;Re++){const Je=I[Re],wt=Je.inputs,Qt=null===j||ow(w)?null:yE(wt,j);K.push(Qt),q=bw(wt,Re,q),ue=bw(Je.outputs,Re,ue)}null!==q&&(q.hasOwnProperty("class")&&(w.flags|=16),q.hasOwnProperty("style")&&(w.flags|=32)),w.initialInputs=K,w.inputs=q,w.outputs=ue}(A,_)}K&&function(A,w,_){if(w){const C=A.localNames=[];for(let I=0;I<w.length;I+=2){const j=_[w[I+1]];if(null==j)throw new Jt(-301,`Export of name '${w[I+1]}' not found!`);C.push(w[I],j)}}}(_,C,K)}return _.mergedAttrs=e0(_.mergedAttrs,_.attrs),I}function B_(A,w,_,C,I,j){const K=j.hostBindings;if(K){let q=A.hostBindingOpCodes;null===q&&(q=A.hostBindingOpCodes=[]);const ue=~w.index;(function(A){let w=A.length;for(;w>0;){const _=A[--w];if("number"==typeof _&&_<0)return _}return 0})(q)!=ue&&q.push(ue),q.push(C,I,K)}}function R_(A,w){null!==A.hostBindings&&A.hostBindings(1,w)}function N_(A,w){w.flags|=2,(A.components||(A.components=[])).push(w.index)}function xw(A,w,_){if(_){if(w.exportAs)for(let C=0;C<w.exportAs.length;C++)_[w.exportAs[C]]=A;wl(w)&&(_[""]=A)}}function T0(A,w,_){A.flags|=1,A.directiveStart=w,A.directiveEnd=w+_,A.providerIndexes=w}function U_(A,w,_,C,I){A.data[C]=I;const j=I.factory||(I.factory=Ul(I.type)),K=new fu(j,wl(I),null);A.blueprint[C]=K,_[C]=K,B_(A,w,0,C,M0(A,_,I.hostVars,bs),I)}function Ew(A,w,_){const C=Ec(w,A),I=ug(_),j=A[10],K=J1(A,Cd(A,I,null,_.onPush?64:16,C,w,j,j.createRenderer(C,_),null,null));A[w.index]=K}function Oh(A,w,_,C,I,j){const K=Ec(A,w);!function(A,w,_,C,I,j,K){if(null==j)Po(A)?A.removeAttribute(w,I,_):w.removeAttribute(I);else{const q=null==K?Gt(j):K(j,C||"",I);Po(A)?A.setAttribute(w,I,q,_):_?w.setAttributeNS(_,I,q):w.setAttribute(I,q)}}(w[11],K,j,A.value,_,C,I)}function gE(A,w,_,C,I,j){const K=j[w];if(null!==K){const q=C.setInput;for(let ue=0;ue<K.length;){const Re=K[ue++],Je=K[ue++],wt=K[ue++];null!==q?C.setInput(_,wt,Re,Je):_[Je]=wt}}}function yE(A,w){let _=null,C=0;for(;C<w.length;){const I=w[C];if(0!==I)if(5!==I){if("number"==typeof I)break;A.hasOwnProperty(I)&&(null===_&&(_=[]),_.push(I,A[I],w[C+1])),C+=2}else C+=2;else C+=4}return _}function j_(A,w,_,C){return new Array(A,!0,!1,w,null,0,C,_,null,null)}function bE(A,w){const _=ql(w,A);if(Kf(_)){const C=_[1];80&_[2]?S0(C,_,C.template,_[8]):_[5]>0&&oc(_)}}function oc(A){for(let C=eg(A);null!==C;C=R1(C))for(let I=10;I<C.length;I++){const j=C[I];if(1024&j[2]){const K=j[1];S0(K,j,K.template,j[8])}else j[5]>0&&oc(j)}const _=A[1].components;if(null!==_)for(let C=0;C<_.length;C++){const I=ql(_[C],A);Kf(I)&&I[5]>0&&oc(I)}}function Mw(A,w){const _=ql(w,A),C=_[1];(function(A,w){for(let _=w.length;_<A.blueprint.length;_++)w.push(A.blueprint[_])})(C,_),cg(C,_,_[8])}function J1(A,w){return A[13]?A[14][4]=w:A[13]=w,A[14]=w,w}function H_(A){for(;A;){A[2]|=64;const w=qm(A);if(Cl(A)&&!w)return A;A=w}return null}function V_(A,w,_){const C=w[10];C.begin&&C.begin();try{S0(A,w,A.template,_)}catch(I){throw kw(w,I),I}finally{C.end&&C.end()}}function pg(A){!function(A){for(let w=0;w<A.components.length;w++){const _=A.components[w],C=Yv(_),I=C[1];aE(I,C,I.template,_)}}(A[8])}function z_(A,w,_){jo(0),w(A,_)}const wE=(()=>Promise.resolve(null))();function Iw(A){return A[7]||(A[7]=[])}function Ow(A){return A.cleanup||(A.cleanup=[])}function kw(A,w){const _=A[9],C=_?_.get(Qu,null):null;C&&C.handleError(w)}function Lw(A,w,_,C,I){for(let j=0;j<_.length;){const K=_[j++],q=_[j++],ue=w[K],Re=A.data[K];null!==Re.setInput?Re.setInput(ue,I,C,q):ue[q]=I}}function Ed(A,w,_){const C=ol(w,A);!function(A,w,_){Po(A)?A.setValue(w,_):w.textContent=_}(A[11],C,_)}function X1(A,w,_){let C=_?A.styles:null,I=_?A.classes:null,j=0;if(null!==w)for(let K=0;K<w.length;K++){const q=w[K];"number"==typeof q?j=q:1==j?I=$i(I,q):2==j&&(C=$i(C,q+": "+w[++K]+";"))}_?A.styles=C:A.stylesWithoutHost=C,_?A.classes=I:A.classesWithoutHost=I}const W_=new ms("INJECTOR",-1);class Bw{get(w,_=lp){if(_===lp){const C=new Error(`NullInjectorError: No provider for ${si(w)}!`);throw C.name="NullInjectorError",C}return _}}const K_=new ms("Set Injector scope."),fg={},EE={};let Y1;function Rw(){return void 0===Y1&&(Y1=new Bw),Y1}function Fw(A,w=null,_=null,C){const I=Nw(A,w,_,C);return I._resolveInjectorDefTypes(),I}function Nw(A,w=null,_=null,C){return new DE(A,_,w||Rw(),C)}class DE{constructor(w,_,C,I=null){this.parent=C,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const j=[];_&&Mc(_,q=>this.processProvider(q,w,_)),Mc([w],q=>this.processInjectorType(q,[],j)),this.records.set(W_,Dd(void 0,this));const K=this.records.get(K_);this.scope=null!=K?K.value:null,this.source=I||("object"==typeof w?null:si(w))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(w=>w.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(w,_=lp,C=Dn.Default){this.assertNotDestroyed();const I=O1(this),j=Dr(void 0);try{if(!(C&Dn.SkipSelf)){let q=this.records.get(w);if(void 0===q){const ue=("function"==typeof(A=w)||"object"==typeof A&&A instanceof ms)&&hn(w);q=ue&&this.injectableDefInScope(ue)?Dd(Q_(w),fg):null,this.records.set(w,q)}if(null!=q)return this.hydrate(w,q)}return(C&Dn.Self?Rw():this.parent).get(w,_=C&Dn.Optional&&_===lp?null:_)}catch(K){if("NullInjectorError"===K.name){if((K[gu]=K[gu]||[]).unshift(si(w)),I)throw K;return function(A,w,_,C){const I=A[gu];throw w[I1]&&I.unshift(w[I1]),A.message=function(A,w,_,C=null){A=A&&"\n"===A.charAt(0)&&"\u0275"==A.charAt(1)?A.substr(2):A;let I=si(w);if(Array.isArray(w))I=w.map(si).join(" -> ");else if("object"==typeof w){let j=[];for(let K in w)if(w.hasOwnProperty(K)){let q=w[K];j.push(K+":"+("string"==typeof q?JSON.stringify(q):si(q)))}I=`{${j.join(", ")}}`}return`${_}${C?"("+C+")":""}[${I}]: ${A.replace(Vv,"\n  ")}`}("\n"+A.message,I,_,C),A.ngTokenPath=I,A[gu]=null,A}(K,w,"R3InjectorError",this.source)}throw K}finally{Dr(j),O1(I)}var A}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(w=>this.get(w))}toString(){const w=[];return this.records.forEach((C,I)=>w.push(si(I))),`R3Injector[${w.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(w,_,C){if(!(w=$t(w)))return!1;let I=bi(w);const j=null==I&&w.ngModule||void 0,K=void 0===j?w:j,q=-1!==C.indexOf(K);if(void 0!==j&&(I=bi(j)),null==I)return!1;if(null!=I.imports&&!q){let Je;C.push(K);try{Mc(I.imports,wt=>{this.processInjectorType(wt,_,C)&&(void 0===Je&&(Je=[]),Je.push(wt))})}finally{}if(void 0!==Je)for(let wt=0;wt<Je.length;wt++){const{ngModule:Qt,providers:ri}=Je[wt];Mc(ri,Ci=>this.processProvider(Ci,Qt,ri||ur))}}this.injectorDefTypes.add(K);const ue=Ul(K)||(()=>new K);this.records.set(K,Dd(ue,fg));const Re=I.providers;if(null!=Re&&!q){const Je=w;Mc(Re,wt=>this.processProvider(wt,Je,Re))}return void 0!==j&&void 0!==w.providers}processProvider(w,_,C){let I=bu(w=$t(w))?w:$t(w&&w.provide);const j=function(A,w,_){return jw(A)?Dd(void 0,A.useValue):Dd(Uw(A),fg)}(w);if(bu(w)||!0!==w.multi)this.records.get(I);else{let K=this.records.get(I);K||(K=Dd(void 0,fg,!0),K.factory=()=>zm(K.multi),this.records.set(I,K)),I=w,K.multi.push(w)}this.records.set(I,j)}hydrate(w,_){return _.value===fg&&(_.value=EE,_.value=_.factory()),"object"==typeof _.value&&_.value&&null!==(A=_.value)&&"object"==typeof A&&"function"==typeof A.ngOnDestroy&&this.onDestroy.add(_.value),_.value;var A}injectableDefInScope(w){if(!w.providedIn)return!1;const _=$t(w.providedIn);return"string"==typeof _?"any"===_||_===this.scope:this.injectorDefTypes.has(_)}}function Q_(A){const w=hn(A),_=null!==w?w.factory:Ul(A);if(null!==_)return _;if(A instanceof ms)throw new Error(`Token ${si(A)} is missing a \u0275prov definition.`);if(A instanceof Function)return function(A){const w=A.length;if(w>0){const C=Ch(w,"?");throw new Error(`Can't resolve all parameters for ${si(A)}: (${C.join(", ")}).`)}const _=function(A){const w=A&&(A[Qi]||A[xn]);if(w){const _=function(A){if(A.hasOwnProperty("name"))return A.name;const w=(""+A).match(/^function\s*([^\s(]+)/);return null===w?"":w[1]}(A);return console.warn(`DEPRECATED: DI is instantiating a token "${_}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${_}" class.`),w}return null}(A);return null!==_?()=>_.factory(A):()=>new A}(A);throw new Error("unreachable")}function Uw(A,w,_){let C;if(bu(A)){const I=$t(A);return Ul(I)||Q_(I)}if(jw(A))C=()=>$t(A.useValue);else if(function(A){return!(!A||!A.useFactory)}(A))C=()=>A.useFactory(...zm(A.deps||[]));else if(function(A){return!(!A||!A.useExisting)}(A))C=()=>xr($t(A.useExisting));else{const I=$t(A&&(A.useClass||A.provide));if(!function(A){return!!A.deps}(A))return Ul(I)||Q_(I);C=()=>new I(...zm(A.deps))}return C}function Dd(A,w,_=!1){return{factory:A,value:w,multi:_?[]:void 0}}function jw(A){return null!==A&&"object"==typeof A&&zv in A}function bu(A){return"function"==typeof A}let Tl=(()=>{class A{static create(_,C){var I;if(Array.isArray(_))return Fw({name:""},C,_,"");{const j=null!==(I=_.name)&&void 0!==I?I:"";return Fw({name:j},_.parent,_.providers,j)}}}return A.THROW_IF_NOT_FOUND=lp,A.NULL=new Bw,A.\u0275prov=di({token:A,providedIn:"any",factory:()=>xr(W_)}),A.__NG_ELEMENT_ID__=-1,A})();function Lh(A,w){Zp(Yv(A)[1],ko())}function Sr(A){let w=function(A){return Object.getPrototypeOf(A.prototype).constructor}(A.type),_=!0;const C=[A];for(;w;){let I;if(wl(A))I=w.\u0275cmp||w.\u0275dir;else{if(w.\u0275cmp)throw new Error("Directives cannot inherit Components");I=w.\u0275dir}if(I){if(_){C.push(I);const K=A;K.inputs=ey(A.inputs),K.declaredInputs=ey(A.declaredInputs),K.outputs=ey(A.outputs);const q=I.hostBindings;q&&Gw(A,q);const ue=I.viewQuery,Re=I.contentQueries;if(ue&&Bh(A,ue),Re&&Za(A,Re),Li(A.inputs,I.inputs),Li(A.declaredInputs,I.declaredInputs),Li(A.outputs,I.outputs),wl(I)&&I.data.animation){const Je=A.data;Je.animation=(Je.animation||[]).concat(I.data.animation)}}const j=I.features;if(j)for(let K=0;K<j.length;K++){const q=j[K];q&&q.ngInherit&&q(A),q===Sr&&(_=!1)}}w=Object.getPrototypeOf(w)}!function(A){let w=0,_=null;for(let C=A.length-1;C>=0;C--){const I=A[C];I.hostVars=w+=I.hostVars,I.hostAttrs=e0(I.hostAttrs,_=e0(_,I.hostAttrs))}}(C)}function ey(A){return A===so?{}:A===ur?[]:A}function Bh(A,w){const _=A.viewQuery;A.viewQuery=_?(C,I)=>{w(C,I),_(C,I)}:w}function Za(A,w){const _=A.contentQueries;A.contentQueries=_?(C,I,j)=>{w(C,I,j),_(C,I,j)}:w}function Gw(A,w){const _=A.hostBindings;A.hostBindings=_?(C,I)=>{w(C,I),_(C,I)}:w}let _g=null;function L0(){if(!_g){const A=lr.Symbol;if(A&&A.iterator)_g=A.iterator;else{const w=Object.getOwnPropertyNames(Map.prototype);for(let _=0;_<w.length;++_){const C=w[_];"entries"!==C&&"size"!==C&&Map.prototype[C]===Map.prototype.entries&&(_g=C)}}}return _g}function bg(A){return!!ty(A)&&(Array.isArray(A)||!(A instanceof Map)&&L0()in A)}function ty(A){return null!==A&&("function"==typeof A||"object"==typeof A)}function Rh(A,w,_){return A[w]=_}function B0(A,w){return A[w]}function Il(A,w,_){return!Object.is(A[w],_)&&(A[w]=_,!0)}function Ja(A,w,_,C){const I=Il(A,w,_);return Il(A,w+1,C)||I}function iy(A,w,_,C,I){const j=Ja(A,w,_,C);return Il(A,w+2,I)||j}function wu(A,w,_,C,I,j){const K=Ja(A,w,_,C);return Ja(A,w+2,I,j)||K}function Is(A,w,_,C){const I=or();return Il(I,Lo(),w)&&(Us(),Oh(oo(),I,A,w,_,C)),Is}function Cp(A,w,_,C){return Il(A,Lo(),_)?w+Gt(_)+C:bs}function Pi(A,w,_,C,I,j,K,q){const ue=or(),Re=Us(),Je=A+20,wt=Re.firstCreatePass?function(A,w,_,C,I,j,K,q,ue){const Re=w.consts,Je=Ih(w,A,4,K||null,jc(Re,q));L_(w,_,Je,jc(Re,ue)),Zp(w,Je);const wt=Je.tViews=$1(2,Je,C,I,j,w.directiveRegistry,w.pipeRegistry,null,w.schemas,Re);return null!==w.queries&&(w.queries.template(w,Je),wt.queries=w.queries.embeddedTView(Je)),Je}(Je,Re,ue,w,_,C,I,j,K):Re.data[Je];pu(wt,!1);const Qt=ue[11].createComment("");j1(Re,ue,Qt,wt),Wl(Qt,ue),J1(ue,ue[Je]=j_(Qt,ue,Qt,wt)),Gd(wt)&&G1(Re,ue,wt),null!=K&&P_(ue,wt,q)}function To(A){return Zd(ss.lFrame.contextLView,20+A)}function rn(A,w=Dn.Default){const _=or();return null===_?xr(A,w):Rm(ko(),_,$t(A),w)}function It(A,w,_){const C=or();return Il(C,Lo(),w)&&Ic(Us(),oo(),C,A,w,C[11],_,!1),It}function yf(A,w,_,C,I){const K=I?"class":"style";Lw(A,_,w.inputs[K],K,C)}function pt(A,w,_,C){const I=or(),j=Us(),K=20+A,q=I[11],ue=I[K]=tg(q,w,ss.lFrame.currentNamespace),Re=j.firstCreatePass?function(A,w,_,C,I,j,K){const q=w.consts,Re=Ih(w,A,2,I,jc(q,j));return L_(w,_,Re,jc(q,K)),null!==Re.attrs&&X1(Re,Re.attrs,!1),null!==Re.mergedAttrs&&X1(Re,Re.mergedAttrs,!0),null!==w.queries&&w.queries.elementStart(w,Re),Re}(K,j,I,0,w,_,C):j.data[K];pu(Re,!0);const Je=Re.mergedAttrs;null!==Je&&qf(q,ue,Je);const wt=Re.classes;null!==wt&&rg(q,ue,wt);const Qt=Re.styles;null!==Qt&&rw(q,ue,Qt),64!=(64&Re.flags)&&j1(j,I,ue,Re),0===ss.lFrame.elementDepthCount&&Wl(ue,I),ss.lFrame.elementDepthCount++,Gd(Re)&&(G1(j,I,Re),Zu(j,Re,I)),null!==C&&P_(I,Re)}function ft(){let A=ko();El()?Gp():(A=A.parent,pu(A,!1));const w=A;ss.lFrame.elementDepthCount--;const _=Us();_.firstCreatePass&&(Zp(_,A),Fu(A)&&_.queries.elementEnd(A)),null!=w.classesWithoutHost&&function(A){return 0!=(16&A.flags)}(w)&&yf(_,w,or(),w.classesWithoutHost,!0),null!=w.stylesWithoutHost&&function(A){return 0!=(32&A.flags)}(w)&&yf(_,w,or(),w.stylesWithoutHost,!1)}function Bn(A,w,_,C){pt(A,w,_,C),ft()}function ao(A,w,_){const C=or(),I=Us(),j=A+20,K=I.firstCreatePass?function(A,w,_,C,I){const j=w.consts,K=jc(j,C),q=Ih(w,A,8,"ng-container",K);return null!==K&&X1(q,K,!0),L_(w,_,q,jc(j,I)),null!==w.queries&&w.queries.elementStart(w,q),q}(j,I,C,w,_):I.data[j];pu(K,!0);const q=C[j]=C[11].createComment("");j1(I,C,q,K),Wl(q,C),Gd(K)&&(G1(I,C,K),Zu(I,K,C)),null!=_&&P_(C,K)}function $s(){let A=ko();const w=Us();El()?Gp():(A=A.parent,pu(A,!1)),w.firstCreatePass&&(Zp(w,A),Fu(A)&&w.queries.elementEnd(A))}function Ms(A,w,_){ao(A,w,_),$s()}function tr(){return or()}function Mg(A){return!!A&&"function"==typeof A.then}function cy(A){return!!A&&"function"==typeof A.subscribe}const uy=cy;function An(A,w,_,C){const I=or(),j=Us(),K=ko();return function(A,w,_,C,I,j,K,q){const ue=Gd(C),Je=A.firstCreatePass&&Ow(A),wt=w[8],Qt=Iw(w);let ri=!0;if(3&C.type||q){const fn=Ec(C,w),Mn=q?q(fn):fn,gn=Qt.length,Zn=q?qn=>q(Ko(qn[C.index])):C.index;if(Po(_)){let qn=null;if(!q&&ue&&(qn=function(A,w,_,C){const I=A.cleanup;if(null!=I)for(let j=0;j<I.length-1;j+=2){const K=I[j];if(K===_&&I[j+1]===C){const q=w[7],ue=I[j+2];return q.length>ue?q[ue]:null}"string"==typeof K&&(j+=2)}return null}(A,w,I,C.index)),null!==qn)(qn.__ngLastListenerFn__||qn).__ngNextListenerFn__=j,qn.__ngLastListenerFn__=j,ri=!1;else{j=ub(C,w,wt,j,!1);const mr=_.listen(Mn,I,j);Qt.push(j,mr),Je&&Je.push(I,Zn,gn,gn+1)}}else j=ub(C,w,wt,j,!0),Mn.addEventListener(I,j,K),Qt.push(j),Je&&Je.push(I,Zn,gn,K)}else j=ub(C,w,wt,j,!1);const Ci=C.outputs;let Gi;if(ri&&null!==Ci&&(Gi=Ci[I])){const fn=Gi.length;if(fn)for(let Mn=0;Mn<fn;Mn+=2){const Mr=w[Gi[Mn]][Gi[Mn+1]].subscribe(j),Qr=Qt.length;Qt.push(j,Mr),Je&&Je.push(I,C.index,Qr,-(Qr+1))}}}(j,I,I[11],K,A,w,!!_,C),An}function o2(A,w,_,C){try{return!1!==_(C)}catch(I){return kw(A,I),!1}}function ub(A,w,_,C,I){return function j(K){if(K===Function)return C;const q=2&A.flags?ql(A.index,w):w;0==(32&w[2])&&H_(q);let ue=o2(w,0,C,K),Re=j.__ngNextListenerFn__;for(;Re;)ue=o2(w,0,Re,K)&&ue,Re=Re.__ngNextListenerFn__;return I&&!1===ue&&(K.preventDefault(),K.returnValue=!1),ue}}function Wt(A=1){return function(A){return(ss.lFrame.contextLView=function(A,w){for(;A>0;)w=w[15],A--;return w}(A,ss.lFrame.contextLView))[8]}(A)}function VE(A,w){let _=null;const C=function(A){const w=A.attrs;if(null!=w){const _=w.indexOf(5);if(0==(1&_))return w[_+1]}return null}(A);for(let I=0;I<w.length;I++){const j=w[I];if("*"!==j){if(null===C?v_(A,j,!0):Gx(C,j))return I}else _=I}return _}function vf(A){const w=or()[16][6];if(!w.projection){const C=w.projection=Ch(A?A.length:1,null),I=C.slice();let j=w.child;for(;null!==j;){const K=A?VE(j,A):0;null!==K&&(I[K]?I[K].projectionNext=j:C[K]=j,I[K]=j),j=j.next}}}function Nh(A,w=0,_){const C=or(),I=Us(),j=Ih(I,20+A,16,null,_||null);null===j.projection&&(j.projection=w),Gp(),64!=(64&j.flags)&&function(A,w,_){nw(w[11],0,w,_,p_(A,_,w),YA(_.parent||w[6],_,w))}(I,C,j)}function qu(A,w,_){return hy(A,"",w,"",_),qu}function hy(A,w,_,C,I){const j=or(),K=Cp(j,w,_,C);return K!==bs&&Ic(Us(),oo(),j,A,K,j[11],I,!1),hy}function m2(A,w,_,C,I){const j=A[_+1],K=null===w;let q=C?_u(j):Ad(j),ue=!1;for(;0!==q&&(!1===ue||K);){const Je=A[q+1];KE(A[q],w)&&(ue=!0,A[q+1]=C?sg(Je):b_(Je)),q=C?_u(Je):Ad(Je)}ue&&(A[_+1]=C?b_(j):sg(j))}function KE(A,w){return null===A||null==w||(Array.isArray(A)?A[1]:A)===w||!(!Array.isArray(A)||"string"!=typeof w)&&xo(A,w)>=0}const hs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Xc(A){return A.substring(hs.key,hs.keyEnd)}function xu(A,w){const _=hs.textEnd;return _===w?-1:(w=hs.keyEnd=function(A,w,_){for(;w<_&&A.charCodeAt(w)>32;)w++;return w}(A,hs.key=w,_),Eu(A,w,_))}function Eu(A,w,_){for(;w<_&&A.charCodeAt(w)<=32;)w++;return w}function Dp(A,w,_){return kc(A,w,_,!1),Dp}function Sd(A,w){return kc(A,w,null,!0),Sd}function vo(A){!function(A,w,_,C){const I=Us(),j=ju(2);I.firstUpdatePass&&b2(I,null,j,C);const K=or();if(_!==bs&&Il(K,j,_)){const q=I.data[Mo()];if(Ig(q,C)&&!_2(I,j)){let ue=C?q.classesWithoutHost:q.stylesWithoutHost;null!==ue&&(_=$i(ue,_||"")),yf(I,q,K,_,C)}else!function(A,w,_,C,I,j,K,q){I===bs&&(I=ur);let ue=0,Re=0,Je=0<I.length?I[0]:null,wt=0<j.length?j[0]:null;for(;null!==Je||null!==wt;){const Qt=ue<I.length?I[ue+1]:void 0,ri=Re<j.length?j[Re+1]:void 0;let Gi,Ci=null;Je===wt?(ue+=2,Re+=2,Qt!==ri&&(Ci=wt,Gi=ri)):null===wt||null!==Je&&Je<wt?(ue+=2,Ci=Je):(Re+=2,Ci=wt,Gi=ri),null!==Ci&&Tg(A,w,_,C,Ci,Gi,K,q),Je=ue<I.length?I[ue]:null,wt=Re<j.length?j[Re]:null}}(I,q,K,K[11],K[j+1],K[j+1]=function(A,w,_){if(null==_||""===_)return ur;const C=[],I=Qc(_);if(Array.isArray(I))for(let j=0;j<I.length;j++)A(C,I[j],!0);else if("object"==typeof I)for(const j in I)I.hasOwnProperty(j)&&A(C,j,I[j]);else"string"==typeof I&&w(C,I);return C}(A,w,_),C,j)}}(ka,jh,A,!0)}function jh(A,w){for(let _=function(A){return function(A){hs.key=0,hs.keyEnd=0,hs.value=0,hs.valueEnd=0,hs.textEnd=A.length}(A),xu(A,Eu(A,0,hs.textEnd))}(w);_>=0;_=xu(w,_))ka(A,Xc(w),!0)}function kc(A,w,_,C){const I=or(),j=Us(),K=ju(2);j.firstUpdatePass&&b2(j,A,K,C),w!==bs&&Il(I,K,w)&&Tg(j,j.data[Mo()],I,I[11],A,I[K+1]=function(A,w){return null==A||("string"==typeof w?A+=w:"object"==typeof A&&(A=si(Qc(A)))),A}(w,_),C,K)}function _2(A,w){return w>=A.expandoStartIndex}function b2(A,w,_,C){const I=A.data;if(null===I[_+1]){const j=I[Mo()],K=_2(A,_);Ig(j,C)&&null===w&&!K&&(w=!1),w=function(A,w,_,C){const I=function(A){const w=ss.lFrame.currentDirectiveIndex;return-1===w?null:A[w]}(A);let j=C?w.residualClasses:w.residualStyles;if(null===I)0===(C?w.classBindings:w.styleBindings)&&(_=Td(_=db(null,A,w,_,C),w.attrs,C),j=null);else{const K=w.directiveStylingLast;if(-1===K||A[K]!==I)if(_=db(I,A,w,_,C),null===j){let ue=function(A,w,_){const C=_?w.classBindings:w.styleBindings;if(0!==Ad(C))return A[_u(C)]}(A,w,C);void 0!==ue&&Array.isArray(ue)&&(ue=db(null,A,w,ue[1],C),ue=Td(ue,w.attrs,C),function(A,w,_,C){A[_u(_?w.classBindings:w.styleBindings)]=C}(A,w,C,ue))}else j=function(A,w,_){let C;const I=w.directiveEnd;for(let j=1+w.directiveStylingLast;j<I;j++)C=Td(C,A[j].hostAttrs,_);return Td(C,w.attrs,_)}(A,w,C)}return void 0!==j&&(C?w.residualClasses=j:w.residualStyles=j),_}(I,j,w,C),function(A,w,_,C,I,j){let K=j?w.classBindings:w.styleBindings,q=_u(K),ue=Ad(K);A[C]=_;let Je,Re=!1;if(Array.isArray(_)){const wt=_;Je=wt[1],(null===Je||xo(wt,Je)>0)&&(Re=!0)}else Je=_;if(I)if(0!==ue){const Qt=_u(A[q+1]);A[C+1]=D0(Qt,q),0!==Qt&&(A[Qt+1]=A_(A[Qt+1],C)),A[q+1]=function(A,w){return 131071&A|w<<17}(A[q+1],C)}else A[C+1]=D0(q,0),0!==q&&(A[q+1]=A_(A[q+1],C)),q=C;else A[C+1]=D0(ue,0),0===q?q=C:A[ue+1]=A_(A[ue+1],C),ue=C;Re&&(A[C+1]=b_(A[C+1])),m2(A,Je,C,!0),m2(A,Je,C,!1),function(A,w,_,C,I){const j=I?A.residualClasses:A.residualStyles;null!=j&&"string"==typeof w&&xo(j,w)>=0&&(_[C+1]=sg(_[C+1]))}(w,Je,A,C,j),K=D0(q,ue),j?w.classBindings=K:w.styleBindings=K}(I,j,w,_,K,C)}}function db(A,w,_,C,I){let j=null;const K=_.directiveEnd;let q=_.directiveStylingLast;for(-1===q?q=_.directiveStart:q++;q<K&&(j=w[q],C=Td(C,j.hostAttrs,I),j!==A);)q++;return null!==A&&(_.directiveStylingLast=q),C}function Td(A,w,_){const C=_?1:2;let I=-1;if(null!==w)for(let j=0;j<w.length;j++){const K=w[j];"number"==typeof K?I=K:I===C&&(Array.isArray(A)||(A=void 0===A?[]:["",A]),ka(A,K,!!_||w[++j]))}return void 0===A?null:A}function Tg(A,w,_,C,I,j,K,q){if(!(3&w.type))return;const ue=A.data,Re=ue[q+1];dy(function(A){return 1==(1&A)}(Re)?w2(ue,w,_,I,Ad(Re),K):void 0)||(dy(j)||function(A){return 2==(2&A)}(Re)&&(j=w2(ue,null,_,I,q,K)),function(A,w,_,C,I){const j=Po(A);if(w)I?j?A.addClass(_,C):_.classList.add(C):j?A.removeClass(_,C):_.classList.remove(C);else{let K=-1===C.indexOf("-")?void 0:$c.DashCase;if(null==I)j?A.removeStyle(_,C,K):_.style.removeProperty(C);else{const q="string"==typeof I&&I.endsWith("!important");q&&(I=I.slice(0,-10),K|=$c.Important),j?A.setStyle(_,C,I,K):_.style.setProperty(C,I,q?"important":"")}}}(C,K,ol(Mo(),_),I,j))}function w2(A,w,_,C,I,j){const K=null===w;let q;for(;I>0;){const ue=A[I],Re=Array.isArray(ue),Je=Re?ue[1]:ue,wt=null===Je;let Qt=_[I+1];Qt===bs&&(Qt=wt?ur:void 0);let ri=wt?c0(Qt,C):Je===C?Qt:void 0;if(Re&&!dy(ri)&&(ri=c0(ue,C)),dy(ri)&&(q=ri,K))return q;const Ci=A[I+1];I=K?_u(Ci):Ad(Ci)}if(null!==w){let ue=j?w.residualClasses:w.residualStyles;null!=ue&&(q=c0(ue,C))}return q}function dy(A){return void 0!==A}function Ig(A,w){return 0!=(A.flags&(w?16:32))}function tn(A,w=""){const _=or(),C=Us(),I=A+20,j=C.firstCreatePass?Ih(C,I,1,w,null):C.data[I],K=_[I]=function(A,w){return Po(A)?A.createText(w):A.createTextNode(w)}(_[11],w);j1(C,_,K,j),pu(j,!1)}function Rn(A){return Kr("",A,""),Rn}function Kr(A,w,_){const C=or(),I=Cp(C,A,w,_);return I!==bs&&Ed(C,Mo(),I),Kr}function Mu(A,w,_,C,I){const j=or(),K=function(A,w,_,C,I,j){const q=Ja(A,Uu(),_,I);return ju(2),q?w+Gt(_)+C+Gt(I)+j:bs}(j,A,w,_,C,I);return K!==bs&&Ed(j,Mo(),K),Mu}function py(A,w,_,C,I,j,K){const q=or(),ue=function(A,w,_,C,I,j,K,q){const Re=iy(A,Uu(),_,I,K);return ju(3),Re?w+Gt(_)+C+Gt(I)+j+Gt(K)+q:bs}(q,A,w,_,C,I,j,K);return ue!==bs&&Ed(q,Mo(),ue),py}function pb(A,w,_,C,I,j,K,q,ue){const Re=or(),Je=function(A,w,_,C,I,j,K,q,ue,Re){const wt=wu(A,Uu(),_,I,K,ue);return ju(4),wt?w+Gt(_)+C+Gt(I)+j+Gt(K)+q+Gt(ue)+Re:bs}(Re,A,w,_,C,I,j,K,q,ue);return Je!==bs&&Ed(Re,Mo(),Je),pb}const _f=void 0;var C5=["en",[["a","p"],["AM","PM"],_f],[["AM","PM"],_f,_f],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],_f,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],_f,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",_f,"{1} 'at' {0}",_f],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(A){const _=Math.floor(Math.abs(A)),C=A.toString().replace(/^[^.]*\.?/,"").length;return 1===_&&0===C?1:5}];let V0={};function lc(A){const w=function(A){return A.toLowerCase().replace(/_/g,"-")}(A);let _=mb(w);if(_)return _;const C=w.split("-")[0];if(_=mb(C),_)return _;if("en"===C)return C5;throw new Error(`Missing locale data for the locale "${A}".`)}function mb(A){return A in V0||(V0[A]=lr.ng&&lr.ng.common&&lr.ng.common.locales&&lr.ng.common.locales[A]),V0[A]}var Tr=(()=>((Tr=Tr||{})[Tr.LocaleId=0]="LocaleId",Tr[Tr.DayPeriodsFormat=1]="DayPeriodsFormat",Tr[Tr.DayPeriodsStandalone=2]="DayPeriodsStandalone",Tr[Tr.DaysFormat=3]="DaysFormat",Tr[Tr.DaysStandalone=4]="DaysStandalone",Tr[Tr.MonthsFormat=5]="MonthsFormat",Tr[Tr.MonthsStandalone=6]="MonthsStandalone",Tr[Tr.Eras=7]="Eras",Tr[Tr.FirstDayOfWeek=8]="FirstDayOfWeek",Tr[Tr.WeekendRange=9]="WeekendRange",Tr[Tr.DateFormat=10]="DateFormat",Tr[Tr.TimeFormat=11]="TimeFormat",Tr[Tr.DateTimeFormat=12]="DateTimeFormat",Tr[Tr.NumberSymbols=13]="NumberSymbols",Tr[Tr.NumberFormats=14]="NumberFormats",Tr[Tr.CurrencyCode=15]="CurrencyCode",Tr[Tr.CurrencySymbol=16]="CurrencySymbol",Tr[Tr.CurrencyName=17]="CurrencyName",Tr[Tr.Currencies=18]="Currencies",Tr[Tr.Directionality=19]="Directionality",Tr[Tr.PluralCase=20]="PluralCase",Tr[Tr.ExtraData=21]="ExtraData",Tr))();const fy="en-US";let U2=fy;function by(A,w,_,C,I){if(A=$t(A),Array.isArray(A))for(let j=0;j<A.length;j++)by(A[j],w,_,C,I);else{const j=Us(),K=or();let q=bu(A)?A:$t(A.provide),ue=Uw(A);const Re=ko(),Je=1048575&Re.providerIndexes,wt=Re.directiveStart,Qt=Re.providerIndexes>>20;if(bu(A)||!A.multi){const ri=new fu(ue,I,rn),Ci=K0(q,w,I?Je:Je+Qt,wt);-1===Ci?(s0(Ah(Re,K),j,q),yb(j,A,w.length),w.push(q),Re.directiveStart++,Re.directiveEnd++,I&&(Re.providerIndexes+=1048576),_.push(ri),K.push(ri)):(_[Ci]=ri,K[Ci]=ri)}else{const ri=K0(q,w,Je+Qt,wt),Ci=K0(q,w,Je,Je+Qt),Gi=ri>=0&&_[ri],fn=Ci>=0&&_[Ci];if(I&&!fn||!I&&!Gi){s0(Ah(Re,K),j,q);const Mn=function(A,w,_,C,I){const j=new fu(A,_,rn);return j.multi=[],j.index=w,j.componentProviders=0,e3(j,I,C&&!_),j}(I?i3:t3,_.length,I,C,ue);!I&&fn&&(_[Ci].providerFactory=Mn),yb(j,A,w.length,0),w.push(q),Re.directiveStart++,Re.directiveEnd++,I&&(Re.providerIndexes+=1048576),_.push(Mn),K.push(Mn)}else yb(j,A,ri>-1?ri:Ci,e3(_[I?Ci:ri],ue,!I&&C));!I&&C&&fn&&_[Ci].componentProviders++}}}function yb(A,w,_,C){const I=bu(w),j=function(A){return!!A.useClass}(w);if(I||j){const ue=(j?$t(w.useClass):w).prototype.ngOnDestroy;if(ue){const Re=A.destroyHooks||(A.destroyHooks=[]);if(!I&&w.multi){const Je=Re.indexOf(_);-1===Je?Re.push(_,[C,ue]):Re[Je+1].push(C,ue)}else Re.push(_,ue)}}}function e3(A,w,_){return _&&A.componentProviders++,A.multi.push(w)-1}function K0(A,w,_,C){for(let I=_;I<C;I++)if(w[I]===A)return I;return-1}function t3(A,w,_,C){return Ay(this.multi,[])}function i3(A,w,_,C){const I=this.multi;let j;if(this.providerFactory){const K=this.providerFactory.componentProviders,q=ep(_,_[1],this.providerFactory.index,C);j=q.slice(0,K),Ay(I,j);for(let ue=K;ue<q.length;ue++)j.push(q[ue])}else j=[],Ay(I,j);return j}function Ay(A,w){for(let _=0;_<A.length;_++)w.push((0,A[_])());return w}function Vs(A,w=[]){return _=>{_.providersResolver=(C,I)=>function(A,w,_){const C=Us();if(C.firstCreatePass){const I=wl(A);by(_,C.data,C.blueprint,I,!0),by(w,C.data,C.blueprint,I,!1)}}(C,I?I(A):A,w)}}class J4{}class v7{resolveComponentFactory(w){throw function(A){const w=Error(`No component factory found for ${si(A)}. Did you add it to @NgModule.entryComponents?`);return w.ngComponent=A,w}(w)}}let vb=(()=>{class A{}return A.NULL=new v7,A})();function _7(){return wy(ko(),or())}function wy(A,w){return new _o(Ec(A,w))}let _o=(()=>{class A{constructor(_){this.nativeElement=_}}return A.__NG_ELEMENT_ID__=_7,A})();function b7(A){return A instanceof _o?A.nativeElement:A}class _b{}let Hh=(()=>{class A{}return A.__NG_ELEMENT_ID__=()=>function(){const A=or(),_=ql(ko().index,A);return function(A){return A[11]}(bl(_)?_:A)}(),A})(),C7=(()=>{class A{}return A.\u0275prov=di({token:A,providedIn:"root",factory:()=>null}),A})();class n3{constructor(w){this.full=w,this.major=w.split(".")[0],this.minor=w.split(".")[1],this.patch=w.split(".").slice(2).join(".")}}const x7=new n3("13.1.2"),z5={};function r3(A,w,_,C,I=!1){for(;null!==_;){const j=w[_.index];if(null!==j&&C.push(Ko(j)),Al(j))for(let q=10;q<j.length;q++){const ue=j[q],Re=ue[1].firstChild;null!==Re&&r3(ue[1],ue,Re,C)}const K=_.type;if(8&K)r3(A,w,_.child,C);else if(32&K){const q=Ho(_,w);let ue;for(;ue=q();)C.push(ue)}else if(16&K){const q=V1(w,_);if(Array.isArray(q))C.push(...q);else{const ue=qm(w[16]);r3(ue[1],ue,q,C,!0)}}_=I?_.projectionNext:_.next}return C}class bb{constructor(w,_){this._lView=w,this._cdRefInjectingView=_,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const w=this._lView,_=w[1];return r3(_,w,_.firstChild,[])}get context(){return this._lView[8]}set context(w){this._lView[8]=w}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const w=this._lView[3];if(Al(w)){const _=w[8],C=_?_.indexOf(this):-1;C>-1&&(h_(w,C),l0(_,C))}this._attachedToViewContainer=!1}N1(this._lView[1],this._lView)}onDestroy(w){_w(this._lView[1],this._lView,null,w)}markForCheck(){H_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){V_(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(A,w,_){da(!0);try{V_(A,w,_)}finally{da(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var w;this._appRef=null,ng(this._lView[1],w=this._lView,w[11],2,null,null)}attachToAppRef(w){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=w}}class E7 extends bb{constructor(w){super(w),this._view=w}detectChanges(){pg(this._view)}checkNoChanges(){!function(A){da(!0);try{pg(A)}finally{da(!1)}}(this._view)}get context(){return null}}class Y4 extends vb{constructor(w){super(),this.ngModule=w}resolveComponentFactory(w){const _=ca(w);return new W5(_,this.ngModule)}}function q4(A){const w=[];for(let _ in A)A.hasOwnProperty(_)&&w.push({propName:A[_],templateName:_});return w}const M7=new ms("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>i_});class W5 extends J4{constructor(w,_){super(),this.componentDef=w,this.ngModule=_,this.componentType=w.type,this.selector=w.selectors.map($x).join(","),this.ngContentSelectors=w.ngContentSelectors?w.ngContentSelectors:[],this.isBoundToModule=!!_}get inputs(){return q4(this.componentDef.inputs)}get outputs(){return q4(this.componentDef.outputs)}create(w,_,C,I){const j=(I=I||this.ngModule)?function(A,w){return{get:(_,C,I)=>{const j=A.get(_,z5,I);return j!==z5||C===z5?j:w.get(_,C,I)}}}(w,I.injector):w,K=j.get(_b,$d),q=j.get(C7,null),ue=K.createRenderer(null,this.componentDef),Re=this.componentDef.selectors[0][0]||"div",Je=C?function(A,w,_){if(Po(A))return A.selectRootElement(w,_===dn.ShadowDom);let C="string"==typeof w?A.querySelector(w):w;return C.textContent="",C}(ue,C,this.componentDef.encapsulation):tg(K.createRenderer(null,this.componentDef),Re,function(A){const w=A.toLowerCase();return"svg"===w?"http://www.w3.org/2000/svg":"math"===w?"http://www.w3.org/1998/MathML/":null}(Re)),wt=this.componentDef.onPush?576:528,Qt=function(A,w){return{components:[],scheduler:A||i_,clean:wE,playerHandler:w||null,flags:0}}(),ri=$1(0,null,null,1,0,null,null,null,null,null),Ci=Cd(null,ri,Qt,wt,null,null,K,ue,q,j);let Gi,fn;$f(Ci);try{const Mn=function(A,w,_,C,I,j){const K=_[1];_[20]=A;const ue=Ih(K,20,2,"#host",null),Re=ue.mergedAttrs=w.hostAttrs;null!==Re&&(X1(ue,Re,!0),null!==A&&(qf(I,A,Re),null!==ue.classes&&rg(I,A,ue.classes),null!==ue.styles&&rw(I,A,ue.styles)));const Je=C.createRenderer(A,w),wt=Cd(_,ug(w),null,w.onPush?64:16,_[20],ue,C,Je,j||null,null);return K.firstCreatePass&&(s0(Ah(ue,_),K,w.type),N_(K,ue),T0(ue,_.length,1)),J1(_,wt),_[20]=wt}(Je,this.componentDef,Ci,K,ue);if(Je)if(C)qf(ue,Je,["ng-version",x7.full]);else{const{attrs:gn,classes:Zn}=function(A){const w=[],_=[];let C=1,I=2;for(;C<A.length;){let j=A[C];if("string"==typeof j)2===I?""!==j&&w.push(j,A[++C]):8===I&&_.push(j);else{if(!Gu(I))break;I=j}C++}return{attrs:w,classes:_}}(this.componentDef.selectors[0]);gn&&qf(ue,Je,gn),Zn&&Zn.length>0&&rg(ue,Je,Zn.join(" "))}if(fn=hu(ri,20),void 0!==_){const gn=fn.projection=[];for(let Zn=0;Zn<this.ngContentSelectors.length;Zn++){const qn=_[Zn];gn.push(null!=qn?Array.from(qn):null)}}Gi=function(A,w,_,C,I){const j=_[1],K=function(A,w,_){const C=ko();A.firstCreatePass&&(_.providersResolver&&_.providersResolver(_),U_(A,C,w,M0(A,w,1,null),_));const I=ep(w,A,C.directiveStart,C);Wl(I,w);const j=Ec(C,w);return j&&Wl(j,w),I}(j,_,w);if(C.components.push(K),A[8]=K,I&&I.forEach(ue=>ue(K,w)),w.contentQueries){const ue=ko();w.contentQueries(1,K,ue.directiveStart)}const q=ko();return!j.firstCreatePass||null===w.hostBindings&&null===w.hostAttrs||(yh(q.index),B_(_[1],q,0,q.directiveStart,q.directiveEnd,w),R_(w,K)),K}(Mn,this.componentDef,Ci,Qt,[Lh]),cg(ri,Ci,null)}finally{Zf()}return new I7(this.componentType,Gi,wy(fn,Ci),Ci,fn)}}class I7 extends class{}{constructor(w,_,C,I,j){super(),this.location=C,this._rootLView=I,this._tNode=j,this.instance=_,this.hostView=this.changeDetectorRef=new E7(I),this.componentType=w}get injector(){return new tp(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(w){this.hostView.onDestroy(w)}}class Cy{}const xy=new Map;class iI extends Cy{constructor(w,_){super(),this._parent=_,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Y4(this);const C=ta(w);this._bootstrapComponents=Ba(C.bootstrap),this._r3Injector=Nw(w,_,[{provide:Cy,useValue:this},{provide:vb,useValue:this.componentFactoryResolver}],si(w)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(w)}get(w,_=Tl.THROW_IF_NOT_FOUND,C=Dn.Default){return w===Tl||w===Cy||w===W_?this:this._r3Injector.get(w,_,C)}destroy(){const w=this._r3Injector;!w.destroyed&&w.destroy(),this.destroyCbs.forEach(_=>_()),this.destroyCbs=null}onDestroy(w){this.destroyCbs.push(w)}}class K5 extends class{}{constructor(w){super(),this.moduleType=w,null!==ta(w)&&function(A){const w=new Set;!function _(C){const I=ta(C,!0),j=I.id;null!==j&&(function(A,w,_){if(w&&w!==_)throw new Error(`Duplicate module registered for ${A} - ${si(w)} vs ${si(w.name)}`)}(j,xy.get(j),C),xy.set(j,C));const K=Ba(I.imports);for(const q of K)w.has(q)||(w.add(q),_(q))}(A)}(w)}create(w){return new iI(this.moduleType,w)}}function Yc(A,w,_){const C=_a()+A,I=or();return I[C]===bs?Rh(I,C,_?w.call(_):w()):B0(I,C)}function Or(A,w,_,C){return rI(or(),_a(),A,w,_,C)}function bo(A,w,_,C,I){return sI(or(),_a(),A,w,_,C,I)}function cc(A,w,_,C,I,j){return function(A,w,_,C,I,j,K,q){const ue=w+_;return iy(A,ue,I,j,K)?Rh(A,ue+3,q?C.call(q,I,j,K):C(I,j,K)):wb(A,ue+3)}(or(),_a(),A,w,_,C,I,j)}function Rg(A,w,_,C,I,j,K){return function(A,w,_,C,I,j,K,q,ue){const Re=w+_;return wu(A,Re,I,j,K,q)?Rh(A,Re+4,ue?C.call(ue,I,j,K,q):C(I,j,K,q)):wb(A,Re+4)}(or(),_a(),A,w,_,C,I,j,K)}function Ab(A,w,_,C,I,j,K,q){const ue=_a()+A,Re=or(),Je=wu(Re,ue,_,C,I,j);return Il(Re,ue+4,K)||Je?Rh(Re,ue+5,q?w.call(q,_,C,I,j,K):w(_,C,I,j,K)):B0(Re,ue+5)}function Ey(A,w,_,C,I,j,K,q,ue){const Re=_a()+A,Je=or(),wt=wu(Je,Re,_,C,I,j);return Ja(Je,Re+4,K,q)||wt?Rh(Je,Re+6,ue?w.call(ue,_,C,I,j,K,q):w(_,C,I,j,K,q)):B0(Je,Re+6)}function Q5(A,w,_,C){return function(A,w,_,C,I,j){let K=w+_,q=!1;for(let ue=0;ue<I.length;ue++)Il(A,K++,I[ue])&&(q=!0);return q?Rh(A,K,C.apply(j,I)):wb(A,K)}(or(),_a(),A,w,_,C)}function wb(A,w){const _=A[w];return _===bs?void 0:_}function rI(A,w,_,C,I,j){const K=w+_;return Il(A,K,I)?Rh(A,K+1,j?C.call(j,I):C(I)):wb(A,K+1)}function sI(A,w,_,C,I,j,K){const q=w+_;return Ja(A,q,I,j)?Rh(A,q+2,K?C.call(K,I,j):C(I,j)):wb(A,q+2)}function sn(A,w){const _=Us();let C;const I=A+20;_.firstCreatePass?(C=function(A,w){if(w)for(let _=w.length-1;_>=0;_--){const C=w[_];if(A===C.name)return C}}(w,_.pipeRegistry),_.data[I]=C,C.onDestroy&&(_.destroyHooks||(_.destroyHooks=[])).push(I,C.onDestroy)):C=_.data[I];const j=C.factory||(C.factory=Ul(C.type)),K=Dr(rn);try{const q=n0(!1),ue=j();return n0(q),function(A,w,_,C){_>=A.data.length&&(A.data[_]=null,A.blueprint[_]=null),w[_]=C}(_,or(),I,ue),ue}finally{Dr(K)}}function on(A,w,_){const C=A+20,I=or(),j=Zd(I,C);return Cb(I,C)?rI(I,_a(),w,j.transform,_,j):j.transform(_)}function s3(A,w,_,C){const I=A+20,j=or(),K=Zd(j,I);return Cb(j,I)?sI(j,_a(),w,K.transform,_,C,K):K.transform(_,C)}function Cb(A,w){return A[1].data[w].pure}function G5(A){return w=>{setTimeout(A,void 0,w)}}const er=class extends Se{constructor(w=!1){super(),this.__isAsync=w}emit(w){super.next(w)}subscribe(w,_,C){var I,j,K;let q=w,ue=_||(()=>null),Re=C;if(w&&"object"==typeof w){const wt=w;q=null===(I=wt.next)||void 0===I?void 0:I.bind(wt),ue=null===(j=wt.error)||void 0===j?void 0:j.bind(wt),Re=null===(K=wt.complete)||void 0===K?void 0:K.bind(wt)}this.__isAsync&&(ue=G5(ue),q&&(q=G5(q)),Re&&(Re=G5(Re)));const Je=super.subscribe({next:q,error:ue,complete:Re});return w instanceof Ce&&w.add(Je),Je}};function j7(){return this._results[L0()]()}class $5{constructor(w=!1){this._emitDistinctChangesOnly=w,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const _=L0(),C=$5.prototype;C[_]||(C[_]=j7)}get changes(){return this._changes||(this._changes=new er)}get(w){return this._results[w]}map(w){return this._results.map(w)}filter(w){return this._results.filter(w)}find(w){return this._results.find(w)}reduce(w,_){return this._results.reduce(w,_)}forEach(w){this._results.forEach(w)}some(w){return this._results.some(w)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(w,_){const C=this;C.dirty=!1;const I=jl(w);(this._changesDetected=!function(A,w,_){if(A.length!==w.length)return!1;for(let C=0;C<A.length;C++){let I=A[C],j=w[C];if(_&&(I=_(I),j=_(j)),j!==I)return!1}return!0}(C._results,I,_))&&(C._results=I,C.length=I.length,C.last=I[this.length-1],C.first=I[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Vh=(()=>{class A{}return A.__NG_ELEMENT_ID__=z7,A})();const H7=Vh,V7=class extends H7{constructor(w,_,C){super(),this._declarationLView=w,this._declarationTContainer=_,this.elementRef=C}createEmbeddedView(w){const _=this._declarationTContainer.tViews,C=Cd(this._declarationLView,_,w,16,null,_.declTNode,null,null,null,null);C[17]=this._declarationLView[this._declarationTContainer.index];const j=this._declarationLView[19];return null!==j&&(C[19]=j.createEmbeddedView(_)),cg(_,C,w),new bb(C)}};function z7(){return o3(ko(),or())}function o3(A,w){return 4&A.type?new V7(w,A,wy(A,w)):null}let Od=(()=>{class A{}return A.__NG_ELEMENT_ID__=W7,A})();function W7(){return hI(ko(),or())}const K7=Od,cI=class extends K7{constructor(w,_,C){super(),this._lContainer=w,this._hostTNode=_,this._hostLView=C}get element(){return wy(this._hostTNode,this._hostLView)}get injector(){return new tp(this._hostTNode,this._hostLView)}get parentInjector(){const w=Xp(this._hostTNode,this._hostLView);if(_1(w)){const _=qd(w,this._hostLView),C=Yd(w);return new tp(_[1].data[C+8],_)}return new tp(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(w){const _=uI(this._lContainer);return null!==_&&_[w]||null}get length(){return this._lContainer.length-10}createEmbeddedView(w,_,C){const I=w.createEmbeddedView(_||{});return this.insert(I,C),I}createComponent(w,_,C,I,j){const K=w&&!function(A){return"function"==typeof A}(w);let q;if(K)q=_;else{const wt=_||{};q=wt.index,C=wt.injector,I=wt.projectableNodes,j=wt.ngModuleRef}const ue=K?w:new W5(ca(w)),Re=C||this.parentInjector;if(!j&&null==ue.ngModule&&Re){const wt=Re.get(Cy,null);wt&&(j=wt)}const Je=ue.create(Re,I,void 0,j);return this.insert(Je.hostView,q),Je}insert(w,_){const C=w._lView,I=C[1];if(Al(C[3])){const Je=this.indexOf(w);if(-1!==Je)this.detach(Je);else{const wt=C[3],Qt=new cI(wt,wt[6],wt[3]);Qt.detach(Qt.indexOf(w))}}const j=this._adjustIndex(_),K=this._lContainer;!function(A,w,_,C){const I=10+C,j=_.length;C>0&&(_[I-1][4]=w),C<j-10?(w[4]=_[I],a0(_,10+C,w)):(_.push(w),w[4]=null),w[3]=_;const K=w[17];null!==K&&_!==K&&function(A,w){const _=A[9];w[16]!==w[3][3][16]&&(A[2]=!0),null===_?A[9]=[w]:_.push(w)}(K,w);const q=w[19];null!==q&&q.insertView(A),w[2]|=128}(I,C,K,j);const q=m_(j,K),ue=C[11],Re=U1(ue,K[7]);return null!==Re&&function(A,w,_,C,I,j){C[0]=I,C[6]=w,ng(A,C,_,1,I,j)}(I,K[6],ue,C,Re,q),w.attachToViewContainerRef(),a0(Z5(K),j,w),w}move(w,_){return this.insert(w,_)}indexOf(w){const _=uI(this._lContainer);return null!==_?_.indexOf(w):-1}remove(w){const _=this._adjustIndex(w,-1),C=h_(this._lContainer,_);C&&(l0(Z5(this._lContainer),_),N1(C[1],C))}detach(w){const _=this._adjustIndex(w,-1),C=h_(this._lContainer,_);return C&&null!=l0(Z5(this._lContainer),_)?new bb(C):null}_adjustIndex(w,_=0){return null==w?this.length+_:w}};function uI(A){return A[8]}function Z5(A){return A[8]||(A[8]=[])}function hI(A,w){let _;const C=w[A.index];if(Al(C))_=C;else{let I;if(8&A.type)I=Ko(C);else{const j=w[11];I=j.createComment("");const K=Ec(A,w);Th(j,U1(j,K),I,function(A,w){return Po(A)?A.nextSibling(w):w.nextSibling}(j,K),!1)}w[A.index]=_=j_(C,w,I,A),J1(w,_)}return new cI(_,A,w)}class J5{constructor(w){this.queryList=w,this.matches=null}clone(){return new J5(this.queryList)}setDirty(){this.queryList.setDirty()}}class X5{constructor(w=[]){this.queries=w}createEmbeddedView(w){const _=w.queries;if(null!==_){const C=null!==w.contentQueries?w.contentQueries[0]:_.length,I=[];for(let j=0;j<C;j++){const K=_.getByIndex(j);I.push(this.queries[K.indexInDeclarationView].clone())}return new X5(I)}return null}insertView(w){this.dirtyQueriesWithMatches(w)}detachView(w){this.dirtyQueriesWithMatches(w)}dirtyQueriesWithMatches(w){for(let _=0;_<this.queries.length;_++)null!==gI(w,_).matches&&this.queries[_].setDirty()}}class dI{constructor(w,_,C=null){this.predicate=w,this.flags=_,this.read=C}}class Y5{constructor(w=[]){this.queries=w}elementStart(w,_){for(let C=0;C<this.queries.length;C++)this.queries[C].elementStart(w,_)}elementEnd(w){for(let _=0;_<this.queries.length;_++)this.queries[_].elementEnd(w)}embeddedTView(w){let _=null;for(let C=0;C<this.length;C++){const I=null!==_?_.length:0,j=this.getByIndex(C).embeddedTView(w,I);j&&(j.indexInDeclarationView=C,null!==_?_.push(j):_=[j])}return null!==_?new Y5(_):null}template(w,_){for(let C=0;C<this.queries.length;C++)this.queries[C].template(w,_)}getByIndex(w){return this.queries[w]}get length(){return this.queries.length}track(w){this.queries.push(w)}}class q5{constructor(w,_=-1){this.metadata=w,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=_}elementStart(w,_){this.isApplyingToNode(_)&&this.matchTNode(w,_)}elementEnd(w){this._declarationNodeIndex===w.index&&(this._appliesToNextNode=!1)}template(w,_){this.elementStart(w,_)}embeddedTView(w,_){return this.isApplyingToNode(w)?(this.crossesNgTemplate=!0,this.addMatch(-w.index,_),new q5(this.metadata)):null}isApplyingToNode(w){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const _=this._declarationNodeIndex;let C=w.parent;for(;null!==C&&8&C.type&&C.index!==_;)C=C.parent;return _===(null!==C?C.index:-1)}return this._appliesToNextNode}matchTNode(w,_){const C=this.metadata.predicate;if(Array.isArray(C))for(let I=0;I<C.length;I++){const j=C[I];this.matchTNodeWithReadOption(w,_,$7(_,j)),this.matchTNodeWithReadOption(w,_,Yp(_,w,j,!1,!1))}else C===Vh?4&_.type&&this.matchTNodeWithReadOption(w,_,-1):this.matchTNodeWithReadOption(w,_,Yp(_,w,C,!1,!1))}matchTNodeWithReadOption(w,_,C){if(null!==C){const I=this.metadata.read;if(null!==I)if(I===_o||I===Od||I===Vh&&4&_.type)this.addMatch(_.index,-2);else{const j=Yp(_,w,I,!1,!1);null!==j&&this.addMatch(_.index,j)}else this.addMatch(_.index,C)}}addMatch(w,_){null===this.matches?this.matches=[w,_]:this.matches.push(w,_)}}function $7(A,w){const _=A.localNames;if(null!==_)for(let C=0;C<_.length;C+=2)if(_[C]===w)return _[C+1];return null}function J7(A,w,_,C){return-1===_?function(A,w){return 11&A.type?wy(A,w):4&A.type?o3(A,w):null}(w,A):-2===_?function(A,w,_){return _===_o?wy(w,A):_===Vh?o3(w,A):_===Od?hI(w,A):void 0}(A,w,C):ep(A,A[1],_,w)}function pI(A,w,_,C){const I=w[19].queries[C];if(null===I.matches){const j=A.data,K=_.matches,q=[];for(let ue=0;ue<K.length;ue+=2){const Re=K[ue];q.push(Re<0?null:J7(w,j[Re],K[ue+1],_.metadata.read))}I.matches=q}return I.matches}function eD(A,w,_,C){const I=A.queries.getByIndex(_),j=I.matches;if(null!==j){const K=pI(A,w,I,_);for(let q=0;q<j.length;q+=2){const ue=j[q];if(ue>0)C.push(K[q/2]);else{const Re=j[q+1],Je=w[-ue];for(let wt=10;wt<Je.length;wt++){const Qt=Je[wt];Qt[17]===Qt[3]&&eD(Qt[1],Qt,Re,C)}if(null!==Je[9]){const wt=Je[9];for(let Qt=0;Qt<wt.length;Qt++){const ri=wt[Qt];eD(ri[1],ri,Re,C)}}}}}return C}function lo(A){const w=or(),_=Us(),C=tc();jo(C+1);const I=gI(_,C);if(A.dirty&&Wp(w)===(2==(2&I.metadata.flags))){if(null===I.matches)A.reset([]);else{const j=I.crossesNgTemplate?eD(_,w,C,[]):pI(_,w,I,C);A.reset(j,b7),A.notifyOnChanges()}return!0}return!1}function zo(A,w,_){const C=Us();C.firstCreatePass&&(mI(C,new dI(A,w,_),-1),2==(2&w)&&(C.staticViewQueries=!0)),fI(C,or(),w)}function Q0(A,w,_,C){const I=Us();if(I.firstCreatePass){const j=ko();mI(I,new dI(w,_,C),j.index),function(A,w){const _=A.contentQueries||(A.contentQueries=[]);w!==(_.length?_[_.length-1]:-1)&&_.push(A.queries.length-1,w)}(I,A),2==(2&_)&&(I.staticContentQueries=!0)}fI(I,or(),_)}function co(){return A=or(),w=tc(),A[19].queries[w].queryList;var A,w}function fI(A,w,_){const C=new $5(4==(4&_));_w(A,w,C,C.destroy),null===w[19]&&(w[19]=new X5),w[19].queries.push(new J5(C))}function mI(A,w,_){null===A.queries&&(A.queries=new Y5),A.queries.track(new q5(w,_))}function gI(A,w){return A.queries.getByIndex(w)}function a3(A,w){return o3(A,w)}function u3(...A){}const Eb=new ms("Application Initializer");let My=(()=>{class A{constructor(_){this.appInits=_,this.resolve=u3,this.reject=u3,this.initialized=!1,this.done=!1,this.donePromise=new Promise((C,I)=>{this.resolve=C,this.reject=I})}runInitializers(){if(this.initialized)return;const _=[],C=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let I=0;I<this.appInits.length;I++){const j=this.appInits[I]();if(Mg(j))_.push(j);else if(uy(j)){const K=new Promise((q,ue)=>{j.subscribe({complete:q,error:ue})});_.push(K)}}Promise.all(_).then(()=>{C()}).catch(I=>{this.reject(I)}),0===_.length&&C(),this.initialized=!0}}return A.\u0275fac=function(_){return new(_||A)(xr(Eb,8))},A.\u0275prov=di({token:A,factory:A.\u0275fac}),A})();const Db=new ms("AppId"),yR={provide:Db,useFactory:function(){return`${oD()}${oD()}${oD()}`},deps:[]};function oD(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const kI=new ms("Platform Initializer"),Mb=new ms("Platform ID"),vR=new ms("appBootstrapListener");let _R=(()=>{class A{log(_){console.log(_)}warn(_){console.warn(_)}}return A.\u0275fac=function(_){return new(_||A)},A.\u0275prov=di({token:A,factory:A.\u0275fac}),A})();const Af=new ms("LocaleId"),LI=new ms("DefaultCurrencyCode");class bR{constructor(w,_){this.ngModuleFactory=w,this.componentFactories=_}}let BI=(()=>{class A{compileModuleSync(_){return new K5(_)}compileModuleAsync(_){return Promise.resolve(this.compileModuleSync(_))}compileModuleAndAllComponentsSync(_){const C=this.compileModuleSync(_),j=Ba(ta(_).declarations).reduce((K,q)=>{const ue=ca(q);return ue&&K.push(new W5(ue)),K},[]);return new bR(C,j)}compileModuleAndAllComponentsAsync(_){return Promise.resolve(this.compileModuleAndAllComponentsSync(_))}clearCache(){}clearCacheFor(_){}getModuleId(_){}}return A.\u0275fac=function(_){return new(_||A)},A.\u0275prov=di({token:A,factory:A.\u0275fac}),A})();const wR=(()=>Promise.resolve(0))();function aD(A){"undefined"==typeof Zone?wR.then(()=>{A&&A.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",A)}class Eo{constructor({enableLongStackTrace:w=!1,shouldCoalesceEventChangeDetection:_=!1,shouldCoalesceRunChangeDetection:C=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new er(!1),this.onMicrotaskEmpty=new er(!1),this.onStable=new er(!1),this.onError=new er(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const I=this;I._nesting=0,I._outer=I._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(I._inner=I._inner.fork(new Zone.TaskTrackingZoneSpec)),w&&Zone.longStackTraceZoneSpec&&(I._inner=I._inner.fork(Zone.longStackTraceZoneSpec)),I.shouldCoalesceEventChangeDetection=!C&&_,I.shouldCoalesceRunChangeDetection=C,I.lastRequestAnimationFrameId=-1,I.nativeRequestAnimationFrame=function(){let A=lr.requestAnimationFrame,w=lr.cancelAnimationFrame;if("undefined"!=typeof Zone&&A&&w){const _=A[Zone.__symbol__("OriginalDelegate")];_&&(A=_);const C=w[Zone.__symbol__("OriginalDelegate")];C&&(w=C)}return{nativeRequestAnimationFrame:A,nativeCancelAnimationFrame:w}}().nativeRequestAnimationFrame,function(A){const w=()=>{!function(A){A.isCheckStableRunning||-1!==A.lastRequestAnimationFrameId||(A.lastRequestAnimationFrameId=A.nativeRequestAnimationFrame.call(lr,()=>{A.fakeTopEventTask||(A.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{A.lastRequestAnimationFrameId=-1,cD(A),A.isCheckStableRunning=!0,lD(A),A.isCheckStableRunning=!1},void 0,()=>{},()=>{})),A.fakeTopEventTask.invoke()}),cD(A))}(A)};A._inner=A._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(_,C,I,j,K,q)=>{try{return RI(A),_.invokeTask(I,j,K,q)}finally{(A.shouldCoalesceEventChangeDetection&&"eventTask"===j.type||A.shouldCoalesceRunChangeDetection)&&w(),FI(A)}},onInvoke:(_,C,I,j,K,q,ue)=>{try{return RI(A),_.invoke(I,j,K,q,ue)}finally{A.shouldCoalesceRunChangeDetection&&w(),FI(A)}},onHasTask:(_,C,I,j)=>{_.hasTask(I,j),C===I&&("microTask"==j.change?(A._hasPendingMicrotasks=j.microTask,cD(A),lD(A)):"macroTask"==j.change&&(A.hasPendingMacrotasks=j.macroTask))},onHandleError:(_,C,I,j)=>(_.handleError(I,j),A.runOutsideAngular(()=>A.onError.emit(j)),!1)})}(I)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Eo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Eo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(w,_,C){return this._inner.run(w,_,C)}runTask(w,_,C,I){const j=this._inner,K=j.scheduleEventTask("NgZoneEvent: "+I,w,xR,u3,u3);try{return j.runTask(K,_,C)}finally{j.cancelTask(K)}}runGuarded(w,_,C){return this._inner.runGuarded(w,_,C)}runOutsideAngular(w){return this._outer.run(w)}}const xR={};function lD(A){if(0==A._nesting&&!A.hasPendingMicrotasks&&!A.isStable)try{A._nesting++,A.onMicrotaskEmpty.emit(null)}finally{if(A._nesting--,!A.hasPendingMicrotasks)try{A.runOutsideAngular(()=>A.onStable.emit(null))}finally{A.isStable=!0}}}function cD(A){A.hasPendingMicrotasks=!!(A._hasPendingMicrotasks||(A.shouldCoalesceEventChangeDetection||A.shouldCoalesceRunChangeDetection)&&-1!==A.lastRequestAnimationFrameId)}function RI(A){A._nesting++,A.isStable&&(A.isStable=!1,A.onUnstable.emit(null))}function FI(A){A._nesting--,lD(A)}class MR{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new er,this.onMicrotaskEmpty=new er,this.onStable=new er,this.onError=new er}run(w,_,C){return w.apply(_,C)}runGuarded(w,_,C){return w.apply(_,C)}runOutsideAngular(w){return w()}runTask(w,_,C,I){return w.apply(_,C)}}let uD=(()=>{class A{constructor(_){this._ngZone=_,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),_.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Eo.assertNotInAngularZone(),aD(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())aD(()=>{for(;0!==this._callbacks.length;){let _=this._callbacks.pop();clearTimeout(_.timeoutId),_.doneCb(this._didWork)}this._didWork=!1});else{let _=this.getPendingTasks();this._callbacks=this._callbacks.filter(C=>!C.updateCb||!C.updateCb(_)||(clearTimeout(C.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(_=>({source:_.source,creationLocation:_.creationLocation,data:_.data})):[]}addCallback(_,C,I){let j=-1;C&&C>0&&(j=setTimeout(()=>{this._callbacks=this._callbacks.filter(K=>K.timeoutId!==j),_(this._didWork,this.getPendingTasks())},C)),this._callbacks.push({doneCb:_,timeoutId:j,updateCb:I})}whenStable(_,C,I){if(I&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(_,C,I),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(_,C,I){return[]}}return A.\u0275fac=function(_){return new(_||A)(xr(Eo))},A.\u0275prov=di({token:A,factory:A.\u0275fac}),A})(),NI=(()=>{class A{constructor(){this._applications=new Map,hD.addToWindow(this)}registerApplication(_,C){this._applications.set(_,C)}unregisterApplication(_){this._applications.delete(_)}unregisterAllApplications(){this._applications.clear()}getTestability(_){return this._applications.get(_)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(_,C=!0){return hD.findTestabilityInTree(this,_,C)}}return A.\u0275fac=function(_){return new(_||A)},A.\u0275prov=di({token:A,factory:A.\u0275fac}),A})();class SR{addToWindow(w){}findTestabilityInTree(w,_,C){return null}}let Pd,hD=new SR;const UI=new ms("AllowMultipleToken");function jI(A,w,_=[]){const C=`Platform: ${w}`,I=new ms(C);return(j=[])=>{let K=HI();if(!K||K.injector.get(UI,!1))if(A)A(_.concat(j).concat({provide:I,useValue:!0}));else{const q=_.concat(j).concat({provide:I,useValue:!0},{provide:K_,useValue:"platform"});!function(A){if(Pd&&!Pd.destroyed&&!Pd.injector.get(UI,!1))throw new Jt(400,"");Pd=A.get(VI);const w=A.get(kI,null);w&&w.forEach(_=>_())}(Tl.create({providers:q,name:C}))}return function(A){const w=HI();if(!w)throw new Jt(401,"");return w}()}}function HI(){return Pd&&!Pd.destroyed?Pd:null}let VI=(()=>{class A{constructor(_){this._injector=_,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(_,C){const q=function(A,w){let _;return _="noop"===A?new MR:("zone.js"===A?void 0:A)||new Eo({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==w?void 0:w.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==w?void 0:w.ngZoneRunCoalescing)}),_}(C?C.ngZone:void 0,{ngZoneEventCoalescing:C&&C.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:C&&C.ngZoneRunCoalescing||!1}),ue=[{provide:Eo,useValue:q}];return q.run(()=>{const Re=Tl.create({providers:ue,parent:this.injector,name:_.moduleType.name}),Je=_.create(Re),wt=Je.injector.get(Qu,null);if(!wt)throw new Jt(402,"");return q.runOutsideAngular(()=>{const Qt=q.onError.subscribe({next:ri=>{wt.handleError(ri)}});Je.onDestroy(()=>{dD(this._modules,Je),Qt.unsubscribe()})}),function(A,w,_){try{const C=_();return Mg(C)?C.catch(I=>{throw w.runOutsideAngular(()=>A.handleError(I)),I}):C}catch(C){throw w.runOutsideAngular(()=>A.handleError(C)),C}}(wt,q,()=>{const Qt=Je.injector.get(My);return Qt.runInitializers(),Qt.donePromise.then(()=>(function(A){Ni(A,"Expected localeId to be defined"),"string"==typeof A&&(U2=A.toLowerCase().replace(/_/g,"-"))}(Je.injector.get(Af,fy)||fy),this._moduleDoBootstrap(Je),Je))})})}bootstrapModule(_,C=[]){const I=zI({},C);return function(A,w,_){const C=new K5(_);return Promise.resolve(C)}(0,0,_).then(j=>this.bootstrapModuleFactory(j,I))}_moduleDoBootstrap(_){const C=_.injector.get(h3);if(_._bootstrapComponents.length>0)_._bootstrapComponents.forEach(I=>C.bootstrap(I));else{if(!_.instance.ngDoBootstrap)throw new Jt(403,"");_.instance.ngDoBootstrap(C)}this._modules.push(_)}onDestroy(_){this._destroyListeners.push(_)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Jt(404,"");this._modules.slice().forEach(_=>_.destroy()),this._destroyListeners.forEach(_=>_()),this._destroyed=!0}get destroyed(){return this._destroyed}}return A.\u0275fac=function(_){return new(_||A)(xr(Tl))},A.\u0275prov=di({token:A,factory:A.\u0275fac}),A})();function zI(A,w){return Array.isArray(w)?w.reduce(zI,A):Object.assign(Object.assign({},A),w)}let h3=(()=>{class A{constructor(_,C,I,j,K){this._zone=_,this._injector=C,this._exceptionHandler=I,this._componentFactoryResolver=j,this._initStatus=K,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const q=new qe(Re=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{Re.next(this._stable),Re.complete()})}),ue=new qe(Re=>{let Je;this._zone.runOutsideAngular(()=>{Je=this._zone.onStable.subscribe(()=>{Eo.assertNotInAngularZone(),aD(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,Re.next(!0))})})});const wt=this._zone.onUnstable.subscribe(()=>{Eo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{Re.next(!1)}))});return()=>{Je.unsubscribe(),wt.unsubscribe()}});this.isStable=function(...A){const w=Ot(A),_=function(A,w){return"number"==typeof mt(A)?A.pop():1/0}(A),C=A;return C.length?1===C.length?F(C[0]):Mt(_)(Oi(C,w)):pe}(q,ue.pipe(nn()))}bootstrap(_,C){if(!this._initStatus.done)throw new Jt(405,"");let I;I=_ instanceof J4?_:this._componentFactoryResolver.resolveComponentFactory(_),this.componentTypes.push(I.componentType);const j=function(A){return A.isBoundToModule}(I)?void 0:this._injector.get(Cy),q=I.create(Tl.NULL,[],C||I.selector,j),ue=q.location.nativeElement,Re=q.injector.get(uD,null),Je=Re&&q.injector.get(NI);return Re&&Je&&Je.registerApplication(ue,Re),q.onDestroy(()=>{this.detachView(q.hostView),dD(this.components,q),Je&&Je.unregisterApplication(ue)}),this._loadComponent(q),q}tick(){if(this._runningTick)throw new Jt(101,"");try{this._runningTick=!0;for(let _ of this._views)_.detectChanges()}catch(_){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(_))}finally{this._runningTick=!1}}attachView(_){const C=_;this._views.push(C),C.attachToAppRef(this)}detachView(_){const C=_;dD(this._views,C),C.detachFromAppRef()}_loadComponent(_){this.attachView(_.hostView),this.tick(),this.components.push(_),this._injector.get(vR,[]).concat(this._bootstrapListeners).forEach(I=>I(_))}ngOnDestroy(){this._views.slice().forEach(_=>_.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return A.\u0275fac=function(_){return new(_||A)(xr(Eo),xr(Tl),xr(Qu),xr(vb),xr(My))},A.\u0275prov=di({token:A,factory:A.\u0275fac}),A})();function dD(A,w){const _=A.indexOf(w);_>-1&&A.splice(_,1)}let KI=!0,Gl=(()=>{class A{}return A.__NG_ELEMENT_ID__=UR,A})();function UR(A){return function(A,w,_){if(Ia(A)&&!_){const C=ql(A.index,w);return new bb(C,C)}return 47&A.type?new bb(w[16],w):null}(ko(),or(),16==(16&A))}class YI{constructor(){}supports(w){return bg(w)}create(w){return new QR(w)}}const KR=(A,w)=>w;class QR{constructor(w){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=w||KR}forEachItem(w){let _;for(_=this._itHead;null!==_;_=_._next)w(_)}forEachOperation(w){let _=this._itHead,C=this._removalsHead,I=0,j=null;for(;_||C;){const K=!C||_&&_.currentIndex<eO(C,I,j)?_:C,q=eO(K,I,j),ue=K.currentIndex;if(K===C)I--,C=C._nextRemoved;else if(_=_._next,null==K.previousIndex)I++;else{j||(j=[]);const Re=q-I,Je=ue-I;if(Re!=Je){for(let Qt=0;Qt<Re;Qt++){const ri=Qt<j.length?j[Qt]:j[Qt]=0,Ci=ri+Qt;Je<=Ci&&Ci<Re&&(j[Qt]=ri+1)}j[K.previousIndex]=Je-Re}}q!==ue&&w(K,q,ue)}}forEachPreviousItem(w){let _;for(_=this._previousItHead;null!==_;_=_._nextPrevious)w(_)}forEachAddedItem(w){let _;for(_=this._additionsHead;null!==_;_=_._nextAdded)w(_)}forEachMovedItem(w){let _;for(_=this._movesHead;null!==_;_=_._nextMoved)w(_)}forEachRemovedItem(w){let _;for(_=this._removalsHead;null!==_;_=_._nextRemoved)w(_)}forEachIdentityChange(w){let _;for(_=this._identityChangesHead;null!==_;_=_._nextIdentityChange)w(_)}diff(w){if(null==w&&(w=[]),!bg(w))throw new Error(`Error trying to diff '${si(w)}'. Only arrays and iterables are allowed`);return this.check(w)?this:null}onDestroy(){}check(w){this._reset();let I,j,K,_=this._itHead,C=!1;if(Array.isArray(w)){this.length=w.length;for(let q=0;q<this.length;q++)j=w[q],K=this._trackByFn(q,j),null!==_&&Object.is(_.trackById,K)?(C&&(_=this._verifyReinsertion(_,j,K,q)),Object.is(_.item,j)||this._addIdentityChange(_,j)):(_=this._mismatch(_,j,K,q),C=!0),_=_._next}else I=0,function(A,w){if(Array.isArray(A))for(let _=0;_<A.length;_++)w(A[_]);else{const _=A[L0()]();let C;for(;!(C=_.next()).done;)w(C.value)}}(w,q=>{K=this._trackByFn(I,q),null!==_&&Object.is(_.trackById,K)?(C&&(_=this._verifyReinsertion(_,q,K,I)),Object.is(_.item,q)||this._addIdentityChange(_,q)):(_=this._mismatch(_,q,K,I),C=!0),_=_._next,I++}),this.length=I;return this._truncate(_),this.collection=w,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let w;for(w=this._previousItHead=this._itHead;null!==w;w=w._next)w._nextPrevious=w._next;for(w=this._additionsHead;null!==w;w=w._nextAdded)w.previousIndex=w.currentIndex;for(this._additionsHead=this._additionsTail=null,w=this._movesHead;null!==w;w=w._nextMoved)w.previousIndex=w.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(w,_,C,I){let j;return null===w?j=this._itTail:(j=w._prev,this._remove(w)),null!==(w=null===this._unlinkedRecords?null:this._unlinkedRecords.get(C,null))?(Object.is(w.item,_)||this._addIdentityChange(w,_),this._reinsertAfter(w,j,I)):null!==(w=null===this._linkedRecords?null:this._linkedRecords.get(C,I))?(Object.is(w.item,_)||this._addIdentityChange(w,_),this._moveAfter(w,j,I)):w=this._addAfter(new GR(_,C),j,I),w}_verifyReinsertion(w,_,C,I){let j=null===this._unlinkedRecords?null:this._unlinkedRecords.get(C,null);return null!==j?w=this._reinsertAfter(j,w._prev,I):w.currentIndex!=I&&(w.currentIndex=I,this._addToMoves(w,I)),w}_truncate(w){for(;null!==w;){const _=w._next;this._addToRemovals(this._unlink(w)),w=_}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(w,_,C){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(w);const I=w._prevRemoved,j=w._nextRemoved;return null===I?this._removalsHead=j:I._nextRemoved=j,null===j?this._removalsTail=I:j._prevRemoved=I,this._insertAfter(w,_,C),this._addToMoves(w,C),w}_moveAfter(w,_,C){return this._unlink(w),this._insertAfter(w,_,C),this._addToMoves(w,C),w}_addAfter(w,_,C){return this._insertAfter(w,_,C),this._additionsTail=null===this._additionsTail?this._additionsHead=w:this._additionsTail._nextAdded=w,w}_insertAfter(w,_,C){const I=null===_?this._itHead:_._next;return w._next=I,w._prev=_,null===I?this._itTail=w:I._prev=w,null===_?this._itHead=w:_._next=w,null===this._linkedRecords&&(this._linkedRecords=new qI),this._linkedRecords.put(w),w.currentIndex=C,w}_remove(w){return this._addToRemovals(this._unlink(w))}_unlink(w){null!==this._linkedRecords&&this._linkedRecords.remove(w);const _=w._prev,C=w._next;return null===_?this._itHead=C:_._next=C,null===C?this._itTail=_:C._prev=_,w}_addToMoves(w,_){return w.previousIndex===_||(this._movesTail=null===this._movesTail?this._movesHead=w:this._movesTail._nextMoved=w),w}_addToRemovals(w){return null===this._unlinkedRecords&&(this._unlinkedRecords=new qI),this._unlinkedRecords.put(w),w.currentIndex=null,w._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=w,w._prevRemoved=null):(w._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=w),w}_addIdentityChange(w,_){return w.item=_,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=w:this._identityChangesTail._nextIdentityChange=w,w}}class GR{constructor(w,_){this.item=w,this.trackById=_,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class $R{constructor(){this._head=null,this._tail=null}add(w){null===this._head?(this._head=this._tail=w,w._nextDup=null,w._prevDup=null):(this._tail._nextDup=w,w._prevDup=this._tail,w._nextDup=null,this._tail=w)}get(w,_){let C;for(C=this._head;null!==C;C=C._nextDup)if((null===_||_<=C.currentIndex)&&Object.is(C.trackById,w))return C;return null}remove(w){const _=w._prevDup,C=w._nextDup;return null===_?this._head=C:_._nextDup=C,null===C?this._tail=_:C._prevDup=_,null===this._head}}class qI{constructor(){this.map=new Map}put(w){const _=w.trackById;let C=this.map.get(_);C||(C=new $R,this.map.set(_,C)),C.add(w)}get(w,_){const I=this.map.get(w);return I?I.get(w,_):null}remove(w){const _=w.trackById;return this.map.get(_).remove(w)&&this.map.delete(_),w}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function eO(A,w,_){const C=A.previousIndex;if(null===C)return C;let I=0;return _&&C<_.length&&(I=_[C]),C+w+I}class tO{constructor(){}supports(w){return w instanceof Map||ty(w)}create(){return new ZR}}class ZR{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(w){let _;for(_=this._mapHead;null!==_;_=_._next)w(_)}forEachPreviousItem(w){let _;for(_=this._previousMapHead;null!==_;_=_._nextPrevious)w(_)}forEachChangedItem(w){let _;for(_=this._changesHead;null!==_;_=_._nextChanged)w(_)}forEachAddedItem(w){let _;for(_=this._additionsHead;null!==_;_=_._nextAdded)w(_)}forEachRemovedItem(w){let _;for(_=this._removalsHead;null!==_;_=_._nextRemoved)w(_)}diff(w){if(w){if(!(w instanceof Map||ty(w)))throw new Error(`Error trying to diff '${si(w)}'. Only maps and objects are allowed`)}else w=new Map;return this.check(w)?this:null}onDestroy(){}check(w){this._reset();let _=this._mapHead;if(this._appendAfter=null,this._forEach(w,(C,I)=>{if(_&&_.key===I)this._maybeAddToChanges(_,C),this._appendAfter=_,_=_._next;else{const j=this._getOrCreateRecordForKey(I,C);_=this._insertBeforeOrAppend(_,j)}}),_){_._prev&&(_._prev._next=null),this._removalsHead=_;for(let C=_;null!==C;C=C._nextRemoved)C===this._mapHead&&(this._mapHead=null),this._records.delete(C.key),C._nextRemoved=C._next,C.previousValue=C.currentValue,C.currentValue=null,C._prev=null,C._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(w,_){if(w){const C=w._prev;return _._next=w,_._prev=C,w._prev=_,C&&(C._next=_),w===this._mapHead&&(this._mapHead=_),this._appendAfter=w,w}return this._appendAfter?(this._appendAfter._next=_,_._prev=this._appendAfter):this._mapHead=_,this._appendAfter=_,null}_getOrCreateRecordForKey(w,_){if(this._records.has(w)){const I=this._records.get(w);this._maybeAddToChanges(I,_);const j=I._prev,K=I._next;return j&&(j._next=K),K&&(K._prev=j),I._next=null,I._prev=null,I}const C=new JR(w);return this._records.set(w,C),C.currentValue=_,this._addToAdditions(C),C}_reset(){if(this.isDirty){let w;for(this._previousMapHead=this._mapHead,w=this._previousMapHead;null!==w;w=w._next)w._nextPrevious=w._next;for(w=this._changesHead;null!==w;w=w._nextChanged)w.previousValue=w.currentValue;for(w=this._additionsHead;null!=w;w=w._nextAdded)w.previousValue=w.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(w,_){Object.is(_,w.currentValue)||(w.previousValue=w.currentValue,w.currentValue=_,this._addToChanges(w))}_addToAdditions(w){null===this._additionsHead?this._additionsHead=this._additionsTail=w:(this._additionsTail._nextAdded=w,this._additionsTail=w)}_addToChanges(w){null===this._changesHead?this._changesHead=this._changesTail=w:(this._changesTail._nextChanged=w,this._changesTail=w)}_forEach(w,_){w instanceof Map?w.forEach(_):Object.keys(w).forEach(C=>_(w[C],C))}}class JR{constructor(w){this.key=w,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function iO(){return new Sy([new YI])}let Sy=(()=>{class A{constructor(_){this.factories=_}static create(_,C){if(null!=C){const I=C.factories.slice();_=_.concat(I)}return new A(_)}static extend(_){return{provide:A,useFactory:C=>A.create(_,C||iO()),deps:[[A,new Vl,new Qo]]}}find(_){const C=this.factories.find(I=>I.supports(_));if(null!=C)return C;throw new Error(`Cannot find a differ supporting object '${_}' of type '${function(A){return A.name||typeof A}(_)}'`)}}return A.\u0275prov=di({token:A,providedIn:"root",factory:iO}),A})();function nO(){return new Ty([new tO])}let Ty=(()=>{class A{constructor(_){this.factories=_}static create(_,C){if(C){const I=C.factories.slice();_=_.concat(I)}return new A(_)}static extend(_){return{provide:A,useFactory:C=>A.create(_,C||nO()),deps:[[A,new Vl,new Qo]]}}find(_){const C=this.factories.find(I=>I.supports(_));if(C)return C;throw new Error(`Cannot find a differ supporting object '${_}'`)}}return A.\u0275prov=di({token:A,providedIn:"root",factory:nO}),A})();const YR=[new tO],e8=new Sy([new YI]),t8=new Ty(YR),n8=jI(null,"core",[{provide:Mb,useValue:"unknown"},{provide:VI,deps:[Tl]},{provide:NI,deps:[]},{provide:_R,deps:[]}]),l8=[{provide:h3,useClass:h3,deps:[Eo,Tl,Qu,vb,My]},{provide:M7,deps:[Eo],useFactory:function(A){let w=[];return A.onStable.subscribe(()=>{for(;w.length;)w.pop()()}),function(_){w.push(_)}}},{provide:My,useClass:My,deps:[[new Qo,Eb]]},{provide:BI,useClass:BI,deps:[]},yR,{provide:Sy,useFactory:function(){return e8},deps:[]},{provide:Ty,useFactory:function(){return t8},deps:[]},{provide:Af,useFactory:function(A){return A||"undefined"!=typeof $localize&&$localize.locale||fy},deps:[[new kr(Af),new Qo,new Vl]]},{provide:LI,useValue:"USD"}];let u8=(()=>{class A{constructor(_){}}return A.\u0275fac=function(_){return new(_||A)(xr(h3))},A.\u0275mod=Rr({type:A}),A.\u0275inj=Bi({providers:l8}),A})(),p3=null;function Ng(){return p3}const Lc=new ms("DocumentToken");var hl=(()=>((hl=hl||{})[hl.Zero=0]="Zero",hl[hl.One=1]="One",hl[hl.Two=2]="Two",hl[hl.Few=3]="Few",hl[hl.Many=4]="Many",hl[hl.Other=5]="Other",hl))(),qa=(()=>((qa=qa||{})[qa.Format=0]="Format",qa[qa.Standalone=1]="Standalone",qa))(),Js=(()=>((Js=Js||{})[Js.Narrow=0]="Narrow",Js[Js.Abbreviated=1]="Abbreviated",Js[Js.Wide=2]="Wide",Js[Js.Short=3]="Short",Js))(),Ca=(()=>((Ca=Ca||{})[Ca.Short=0]="Short",Ca[Ca.Medium=1]="Medium",Ca[Ca.Long=2]="Long",Ca[Ca.Full=3]="Full",Ca))(),ds=(()=>((ds=ds||{})[ds.Decimal=0]="Decimal",ds[ds.Group=1]="Group",ds[ds.List=2]="List",ds[ds.PercentSign=3]="PercentSign",ds[ds.PlusSign=4]="PlusSign",ds[ds.MinusSign=5]="MinusSign",ds[ds.Exponential=6]="Exponential",ds[ds.SuperscriptingExponent=7]="SuperscriptingExponent",ds[ds.PerMille=8]="PerMille",ds[ds.Infinity=9]="Infinity",ds[ds.NaN=10]="NaN",ds[ds.TimeSeparator=11]="TimeSeparator",ds[ds.CurrencyDecimal=12]="CurrencyDecimal",ds[ds.CurrencyGroup=13]="CurrencyGroup",ds))();function f3(A,w){return Wh(lc(A)[Tr.DateFormat],w)}function m3(A,w){return Wh(lc(A)[Tr.TimeFormat],w)}function g3(A,w){return Wh(lc(A)[Tr.DateTimeFormat],w)}function zh(A,w){const _=lc(A),C=_[Tr.NumberSymbols][w];if(void 0===C){if(w===ds.CurrencyDecimal)return _[Tr.NumberSymbols][ds.Decimal];if(w===ds.CurrencyGroup)return _[Tr.NumberSymbols][ds.Group]}return C}const C8=function(A){return lc(A)[Tr.PluralCase]};function aO(A){if(!A[Tr.ExtraData])throw new Error(`Missing extra locale data for the locale "${A[Tr.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Wh(A,w){for(let _=w;_>-1;_--)if(void 0!==A[_])return A[_];throw new Error("Locale data API: locale data undefined")}function vD(A){const[w,_]=A.split(":");return{hours:+w,minutes:+_}}const T8=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Sb={},I8=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var kl=(()=>((kl=kl||{})[kl.Short=0]="Short",kl[kl.ShortGMT=1]="ShortGMT",kl[kl.Long=2]="Long",kl[kl.Extended=3]="Extended",kl))(),ys=(()=>((ys=ys||{})[ys.FullYear=0]="FullYear",ys[ys.Month=1]="Month",ys[ys.Date=2]="Date",ys[ys.Hours=3]="Hours",ys[ys.Minutes=4]="Minutes",ys[ys.Seconds=5]="Seconds",ys[ys.FractionalSeconds=6]="FractionalSeconds",ys[ys.Day=7]="Day",ys))(),Ps=(()=>((Ps=Ps||{})[Ps.DayPeriods=0]="DayPeriods",Ps[Ps.Days=1]="Days",Ps[Ps.Months=2]="Months",Ps[Ps.Eras=3]="Eras",Ps))();function O8(A,w,_,C){let I=function(A){if(uO(A))return A;if("number"==typeof A&&!isNaN(A))return new Date(A);if("string"==typeof A){if(A=A.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(A)){const[I,j=1,K=1]=A.split("-").map(q=>+q);return y3(I,j-1,K)}const _=parseFloat(A);if(!isNaN(A-_))return new Date(_);let C;if(C=A.match(T8))return function(A){const w=new Date(0);let _=0,C=0;const I=A[8]?w.setUTCFullYear:w.setFullYear,j=A[8]?w.setUTCHours:w.setHours;A[9]&&(_=Number(A[9]+A[10]),C=Number(A[9]+A[11])),I.call(w,Number(A[1]),Number(A[2])-1,Number(A[3]));const K=Number(A[4]||0)-_,q=Number(A[5]||0)-C,ue=Number(A[6]||0),Re=Math.floor(1e3*parseFloat("0."+(A[7]||0)));return j.call(w,K,q,ue,Re),w}(C)}const w=new Date(A);if(!uO(w))throw new Error(`Unable to convert "${A}" into a date`);return w}(A);w=wf(_,w)||w;let q,K=[];for(;w;){if(q=I8.exec(w),!q){K.push(w);break}{K=K.concat(q.slice(1));const Je=K.pop();if(!Je)break;w=Je}}let ue=I.getTimezoneOffset();C&&(ue=cO(C,ue),I=function(A,w,_){const I=A.getTimezoneOffset();return function(A,w){return(A=new Date(A.getTime())).setMinutes(A.getMinutes()+w),A}(A,-1*(cO(w,I)-I))}(I,C));let Re="";return K.forEach(Je=>{const wt=function(A){if(bD[A])return bD[A];let w;switch(A){case"G":case"GG":case"GGG":w=Jo(Ps.Eras,Js.Abbreviated);break;case"GGGG":w=Jo(Ps.Eras,Js.Wide);break;case"GGGGG":w=Jo(Ps.Eras,Js.Narrow);break;case"y":w=dl(ys.FullYear,1,0,!1,!0);break;case"yy":w=dl(ys.FullYear,2,0,!0,!0);break;case"yyy":w=dl(ys.FullYear,3,0,!1,!0);break;case"yyyy":w=dl(ys.FullYear,4,0,!1,!0);break;case"Y":w=A3(1);break;case"YY":w=A3(2,!0);break;case"YYY":w=A3(3);break;case"YYYY":w=A3(4);break;case"M":case"L":w=dl(ys.Month,1,1);break;case"MM":case"LL":w=dl(ys.Month,2,1);break;case"MMM":w=Jo(Ps.Months,Js.Abbreviated);break;case"MMMM":w=Jo(Ps.Months,Js.Wide);break;case"MMMMM":w=Jo(Ps.Months,Js.Narrow);break;case"LLL":w=Jo(Ps.Months,Js.Abbreviated,qa.Standalone);break;case"LLLL":w=Jo(Ps.Months,Js.Wide,qa.Standalone);break;case"LLLLL":w=Jo(Ps.Months,Js.Narrow,qa.Standalone);break;case"w":w=_D(1);break;case"ww":w=_D(2);break;case"W":w=_D(1,!0);break;case"d":w=dl(ys.Date,1);break;case"dd":w=dl(ys.Date,2);break;case"c":case"cc":w=dl(ys.Day,1);break;case"ccc":w=Jo(Ps.Days,Js.Abbreviated,qa.Standalone);break;case"cccc":w=Jo(Ps.Days,Js.Wide,qa.Standalone);break;case"ccccc":w=Jo(Ps.Days,Js.Narrow,qa.Standalone);break;case"cccccc":w=Jo(Ps.Days,Js.Short,qa.Standalone);break;case"E":case"EE":case"EEE":w=Jo(Ps.Days,Js.Abbreviated);break;case"EEEE":w=Jo(Ps.Days,Js.Wide);break;case"EEEEE":w=Jo(Ps.Days,Js.Narrow);break;case"EEEEEE":w=Jo(Ps.Days,Js.Short);break;case"a":case"aa":case"aaa":w=Jo(Ps.DayPeriods,Js.Abbreviated);break;case"aaaa":w=Jo(Ps.DayPeriods,Js.Wide);break;case"aaaaa":w=Jo(Ps.DayPeriods,Js.Narrow);break;case"b":case"bb":case"bbb":w=Jo(Ps.DayPeriods,Js.Abbreviated,qa.Standalone,!0);break;case"bbbb":w=Jo(Ps.DayPeriods,Js.Wide,qa.Standalone,!0);break;case"bbbbb":w=Jo(Ps.DayPeriods,Js.Narrow,qa.Standalone,!0);break;case"B":case"BB":case"BBB":w=Jo(Ps.DayPeriods,Js.Abbreviated,qa.Format,!0);break;case"BBBB":w=Jo(Ps.DayPeriods,Js.Wide,qa.Format,!0);break;case"BBBBB":w=Jo(Ps.DayPeriods,Js.Narrow,qa.Format,!0);break;case"h":w=dl(ys.Hours,1,-12);break;case"hh":w=dl(ys.Hours,2,-12);break;case"H":w=dl(ys.Hours,1);break;case"HH":w=dl(ys.Hours,2);break;case"m":w=dl(ys.Minutes,1);break;case"mm":w=dl(ys.Minutes,2);break;case"s":w=dl(ys.Seconds,1);break;case"ss":w=dl(ys.Seconds,2);break;case"S":w=dl(ys.FractionalSeconds,1);break;case"SS":w=dl(ys.FractionalSeconds,2);break;case"SSS":w=dl(ys.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":w=_3(kl.Short);break;case"ZZZZZ":w=_3(kl.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":w=_3(kl.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":w=_3(kl.Long);break;default:return null}return bD[A]=w,w}(Je);Re+=wt?wt(I,_,ue):"''"===Je?"'":Je.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Re}function y3(A,w,_){const C=new Date(0);return C.setFullYear(A,w,_),C.setHours(0,0,0),C}function wf(A,w){const _=function(A){return lc(A)[Tr.LocaleId]}(A);if(Sb[_]=Sb[_]||{},Sb[_][w])return Sb[_][w];let C="";switch(w){case"shortDate":C=f3(A,Ca.Short);break;case"mediumDate":C=f3(A,Ca.Medium);break;case"longDate":C=f3(A,Ca.Long);break;case"fullDate":C=f3(A,Ca.Full);break;case"shortTime":C=m3(A,Ca.Short);break;case"mediumTime":C=m3(A,Ca.Medium);break;case"longTime":C=m3(A,Ca.Long);break;case"fullTime":C=m3(A,Ca.Full);break;case"short":const I=wf(A,"shortTime"),j=wf(A,"shortDate");C=v3(g3(A,Ca.Short),[I,j]);break;case"medium":const K=wf(A,"mediumTime"),q=wf(A,"mediumDate");C=v3(g3(A,Ca.Medium),[K,q]);break;case"long":const ue=wf(A,"longTime"),Re=wf(A,"longDate");C=v3(g3(A,Ca.Long),[ue,Re]);break;case"full":const Je=wf(A,"fullTime"),wt=wf(A,"fullDate");C=v3(g3(A,Ca.Full),[Je,wt])}return C&&(Sb[_][w]=C),C}function v3(A,w){return w&&(A=A.replace(/\{([^}]+)}/g,function(_,C){return null!=w&&C in w?w[C]:_})),A}function kd(A,w,_="-",C,I){let j="";(A<0||I&&A<=0)&&(I?A=1-A:(A=-A,j=_));let K=String(A);for(;K.length<w;)K="0"+K;return C&&(K=K.substr(K.length-w)),j+K}function dl(A,w,_=0,C=!1,I=!1){return function(j,K){let q=function(A,w){switch(A){case ys.FullYear:return w.getFullYear();case ys.Month:return w.getMonth();case ys.Date:return w.getDate();case ys.Hours:return w.getHours();case ys.Minutes:return w.getMinutes();case ys.Seconds:return w.getSeconds();case ys.FractionalSeconds:return w.getMilliseconds();case ys.Day:return w.getDay();default:throw new Error(`Unknown DateType value "${A}".`)}}(A,j);if((_>0||q>-_)&&(q+=_),A===ys.Hours)0===q&&-12===_&&(q=12);else if(A===ys.FractionalSeconds)return function(A,w){return kd(A,3).substr(0,w)}(q,w);const ue=zh(K,ds.MinusSign);return kd(q,w,ue,C,I)}}function Jo(A,w,_=qa.Format,C=!1){return function(I,j){return function(A,w,_,C,I,j){switch(_){case Ps.Months:return function(A,w,_){const C=lc(A),j=Wh([C[Tr.MonthsFormat],C[Tr.MonthsStandalone]],w);return Wh(j,_)}(w,I,C)[A.getMonth()];case Ps.Days:return function(A,w,_){const C=lc(A),j=Wh([C[Tr.DaysFormat],C[Tr.DaysStandalone]],w);return Wh(j,_)}(w,I,C)[A.getDay()];case Ps.DayPeriods:const K=A.getHours(),q=A.getMinutes();if(j){const Re=function(A){const w=lc(A);return aO(w),(w[Tr.ExtraData][2]||[]).map(C=>"string"==typeof C?vD(C):[vD(C[0]),vD(C[1])])}(w),Je=function(A,w,_){const C=lc(A);aO(C);const j=Wh([C[Tr.ExtraData][0],C[Tr.ExtraData][1]],w)||[];return Wh(j,_)||[]}(w,I,C),wt=Re.findIndex(Qt=>{if(Array.isArray(Qt)){const[ri,Ci]=Qt,Gi=K>=ri.hours&&q>=ri.minutes,fn=K<Ci.hours||K===Ci.hours&&q<Ci.minutes;if(ri.hours<Ci.hours){if(Gi&&fn)return!0}else if(Gi||fn)return!0}else if(Qt.hours===K&&Qt.minutes===q)return!0;return!1});if(-1!==wt)return Je[wt]}return function(A,w,_){const C=lc(A),j=Wh([C[Tr.DayPeriodsFormat],C[Tr.DayPeriodsStandalone]],w);return Wh(j,_)}(w,I,C)[K<12?0:1];case Ps.Eras:return function(A,w){return Wh(lc(A)[Tr.Eras],w)}(w,C)[A.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${_}`)}}(I,j,A,w,_,C)}}function _3(A){return function(w,_,C){const I=-1*C,j=zh(_,ds.MinusSign),K=I>0?Math.floor(I/60):Math.ceil(I/60);switch(A){case kl.Short:return(I>=0?"+":"")+kd(K,2,j)+kd(Math.abs(I%60),2,j);case kl.ShortGMT:return"GMT"+(I>=0?"+":"")+kd(K,1,j);case kl.Long:return"GMT"+(I>=0?"+":"")+kd(K,2,j)+":"+kd(Math.abs(I%60),2,j);case kl.Extended:return 0===C?"Z":(I>=0?"+":"")+kd(K,2,j)+":"+kd(Math.abs(I%60),2,j);default:throw new Error(`Unknown zone width "${A}"`)}}}function lO(A){return y3(A.getFullYear(),A.getMonth(),A.getDate()+(4-A.getDay()))}function _D(A,w=!1){return function(_,C){let I;if(w){const j=new Date(_.getFullYear(),_.getMonth(),1).getDay()-1,K=_.getDate();I=1+Math.floor((K+j)/7)}else{const j=lO(_),K=function(A){const w=y3(A,0,1).getDay();return y3(A,0,1+(w<=4?4:11)-w)}(j.getFullYear()),q=j.getTime()-K.getTime();I=1+Math.round(q/6048e5)}return kd(I,A,zh(C,ds.MinusSign))}}function A3(A,w=!1){return function(_,C){return kd(lO(_).getFullYear(),A,zh(C,ds.MinusSign),w)}}const bD={};function cO(A,w){A=A.replace(/:/g,"");const _=Date.parse("Jan 01, 1970 00:00:00 "+A)/6e4;return isNaN(_)?w:_}function uO(A){return A instanceof Date&&!isNaN(A.valueOf())}class C3{}let Y8=(()=>{class A extends C3{constructor(_){super(),this.locale=_}getPluralCategory(_,C){switch(C8(C||this.locale)(_)){case hl.Zero:return"zero";case hl.One:return"one";case hl.Two:return"two";case hl.Few:return"few";case hl.Many:return"many";default:return"other"}}}return A.\u0275fac=function(_){return new(_||A)(xr(Af))},A.\u0275prov=di({token:A,factory:A.\u0275fac}),A})();function fO(A,w){w=encodeURIComponent(w);for(const _ of A.split(";")){const C=_.indexOf("="),[I,j]=-1==C?[_,""]:[_.slice(0,C),_.slice(C+1)];if(I.trim()===w)return decodeURIComponent(j)}return null}let eo=(()=>{class A{constructor(_,C,I,j){this._iterableDiffers=_,this._keyValueDiffers=C,this._ngEl=I,this._renderer=j,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(_){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof _?_.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(_){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof _?_.split(/\s+/):_,this._rawClass&&(bg(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const _=this._iterableDiffer.diff(this._rawClass);_&&this._applyIterableChanges(_)}else if(this._keyValueDiffer){const _=this._keyValueDiffer.diff(this._rawClass);_&&this._applyKeyValueChanges(_)}}_applyKeyValueChanges(_){_.forEachAddedItem(C=>this._toggleClass(C.key,C.currentValue)),_.forEachChangedItem(C=>this._toggleClass(C.key,C.currentValue)),_.forEachRemovedItem(C=>{C.previousValue&&this._toggleClass(C.key,!1)})}_applyIterableChanges(_){_.forEachAddedItem(C=>{if("string"!=typeof C.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${si(C.item)}`);this._toggleClass(C.item,!0)}),_.forEachRemovedItem(C=>this._toggleClass(C.item,!1))}_applyClasses(_){_&&(Array.isArray(_)||_ instanceof Set?_.forEach(C=>this._toggleClass(C,!0)):Object.keys(_).forEach(C=>this._toggleClass(C,!!_[C])))}_removeClasses(_){_&&(Array.isArray(_)||_ instanceof Set?_.forEach(C=>this._toggleClass(C,!1)):Object.keys(_).forEach(C=>this._toggleClass(C,!1)))}_toggleClass(_,C){(_=_.trim())&&_.split(/\s+/g).forEach(I=>{C?this._renderer.addClass(this._ngEl.nativeElement,I):this._renderer.removeClass(this._ngEl.nativeElement,I)})}}return A.\u0275fac=function(_){return new(_||A)(rn(Sy),rn(Ty),rn(_o),rn(Hh))},A.\u0275dir=Fr({type:A,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),A})();class eF{constructor(w,_,C,I){this.$implicit=w,this.ngForOf=_,this.index=C,this.count=I}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let uc=(()=>{class A{constructor(_,C,I){this._viewContainer=_,this._template=C,this._differs=I,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(_){this._ngForOf=_,this._ngForOfDirty=!0}set ngForTrackBy(_){this._trackByFn=_}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(_){_&&(this._template=_)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const _=this._ngForOf;!this._differ&&_&&(this._differ=this._differs.find(_).create(this.ngForTrackBy))}if(this._differ){const _=this._differ.diff(this._ngForOf);_&&this._applyChanges(_)}}_applyChanges(_){const C=this._viewContainer;_.forEachOperation((I,j,K)=>{if(null==I.previousIndex)C.createEmbeddedView(this._template,new eF(I.item,this._ngForOf,-1,-1),null===K?void 0:K);else if(null==K)C.remove(null===j?void 0:j);else if(null!==j){const q=C.get(j);C.move(q,K),mO(q,I)}});for(let I=0,j=C.length;I<j;I++){const q=C.get(I).context;q.index=I,q.count=j,q.ngForOf=this._ngForOf}_.forEachIdentityChange(I=>{mO(C.get(I.currentIndex),I)})}static ngTemplateContextGuard(_,C){return!0}}return A.\u0275fac=function(_){return new(_||A)(rn(Od),rn(Vh),rn(Sy))},A.\u0275dir=Fr({type:A,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),A})();function mO(A,w){A.context.$implicit=w.item}let to=(()=>{class A{constructor(_,C){this._viewContainer=_,this._context=new tF,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=C}set ngIf(_){this._context.$implicit=this._context.ngIf=_,this._updateView()}set ngIfThen(_){gO("ngIfThen",_),this._thenTemplateRef=_,this._thenViewRef=null,this._updateView()}set ngIfElse(_){gO("ngIfElse",_),this._elseTemplateRef=_,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(_,C){return!0}}return A.\u0275fac=function(_){return new(_||A)(rn(Od),rn(Vh))},A.\u0275dir=Fr({type:A,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),A})();class tF{constructor(){this.$implicit=null,this.ngIf=null}}function gO(A,w){if(w&&!w.createEmbeddedView)throw new Error(`${A} must be a TemplateRef, but received '${si(w)}'.`)}let el=(()=>{class A{constructor(_,C,I){this._ngEl=_,this._differs=C,this._renderer=I,this._ngStyle=null,this._differ=null}set ngStyle(_){this._ngStyle=_,!this._differ&&_&&(this._differ=this._differs.find(_).create())}ngDoCheck(){if(this._differ){const _=this._differ.diff(this._ngStyle);_&&this._applyChanges(_)}}_setStyle(_,C){const[I,j]=_.split(".");null!=(C=null!=C&&j?`${C}${j}`:C)?this._renderer.setStyle(this._ngEl.nativeElement,I,C):this._renderer.removeStyle(this._ngEl.nativeElement,I)}_applyChanges(_){_.forEachRemovedItem(C=>this._setStyle(C.key,null)),_.forEachAddedItem(C=>this._setStyle(C.key,C.currentValue)),_.forEachChangedItem(C=>this._setStyle(C.key,C.currentValue))}}return A.\u0275fac=function(_){return new(_||A)(rn(_o),rn(Ty),rn(Hh))},A.\u0275dir=Fr({type:A,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),A})(),Cf=(()=>{class A{constructor(_){this._viewContainerRef=_,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(_){if(_.ngTemplateOutlet){const C=this._viewContainerRef;this._viewRef&&C.remove(C.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?C.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&_.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return A.\u0275fac=function(_){return new(_||A)(rn(Od))},A.\u0275dir=Fr({type:A,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[go]}),A})();function Ld(A,w){return Error(`InvalidPipeArgument: '${w}' for pipe '${si(A)}'`)}class sF{createSubscription(w,_){return w.subscribe({next:_,error:C=>{throw C}})}dispose(w){w.unsubscribe()}onDestroy(w){w.unsubscribe()}}class oF{createSubscription(w,_){return w.then(_,C=>{throw C})}dispose(w){}onDestroy(w){}}const aF=new oF,lF=new sF;let vO=(()=>{class A{constructor(_){this._ref=_,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(_){return this._obj?_!==this._obj?(this._dispose(),this.transform(_)):this._latestValue:(_&&this._subscribe(_),this._latestValue)}_subscribe(_){this._obj=_,this._strategy=this._selectStrategy(_),this._subscription=this._strategy.createSubscription(_,C=>this._updateLatestValue(_,C))}_selectStrategy(_){if(Mg(_))return aF;if(cy(_))return lF;throw Ld(A,_)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(_,C){_===this._obj&&(this._latestValue=C,this._ref.markForCheck())}}return A.\u0275fac=function(_){return new(_||A)(rn(Gl,16))},A.\u0275pipe=rs({name:"async",type:A,pure:!1}),A})();const pF=new ms("DATE_PIPE_DEFAULT_TIMEZONE");let _O=(()=>{class A{constructor(_,C){this.locale=_,this.defaultTimezone=C}transform(_,C="mediumDate",I,j){var K;if(null==_||""===_||_!=_)return null;try{return O8(_,C,j||this.locale,null!==(K=null!=I?I:this.defaultTimezone)&&void 0!==K?K:void 0)}catch(q){throw Ld(A,q.message)}}}return A.\u0275fac=function(_){return new(_||A)(rn(Af,16),rn(pF,24))},A.\u0275pipe=rs({name:"date",type:A,pure:!0}),A})(),pl=(()=>{class A{}return A.\u0275fac=function(_){return new(_||A)},A.\u0275mod=Rr({type:A}),A.\u0275inj=Bi({providers:[{provide:C3,useClass:Y8}]}),A})();const AO="browser";class CO{}class TD extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var A;A=new TD,p3||(p3=A)}onAndCancel(w,_,C){return w.addEventListener(_,C,!1),()=>{w.removeEventListener(_,C,!1)}}dispatchEvent(w,_){w.dispatchEvent(_)}remove(w){w.parentNode&&w.parentNode.removeChild(w)}createElement(w,_){return(_=_||this.getDefaultDocument()).createElement(w)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(w){return w.nodeType===Node.ELEMENT_NODE}isShadowRoot(w){return w instanceof DocumentFragment}getGlobalEventTarget(w,_){return"window"===_?window:"document"===_?w:"body"===_?w.body:null}getBaseHref(w){const _=(Ib=Ib||document.querySelector("base"),Ib?Ib.getAttribute("href"):null);return null==_?null:function(A){x3=x3||document.createElement("a"),x3.setAttribute("href",A);const w=x3.pathname;return"/"===w.charAt(0)?w:`/${w}`}(_)}resetBaseElement(){Ib=null}getUserAgent(){return window.navigator.userAgent}getCookie(w){return fO(document.cookie,w)}}let x3,Ib=null;const xO=new ms("TRANSITION_ID"),kF=[{provide:Eb,useFactory:function(A,w,_){return()=>{_.get(My).donePromise.then(()=>{const C=Ng(),I=w.querySelectorAll(`style[ng-transition="${A}"]`);for(let j=0;j<I.length;j++)C.remove(I[j])})}},deps:[xO,Lc,Tl],multi:!0}];class ID{static init(){var A;A=new ID,hD=A}addToWindow(w){lr.getAngularTestability=(C,I=!0)=>{const j=w.findTestabilityInTree(C,I);if(null==j)throw new Error("Could not find testability for element.");return j},lr.getAllAngularTestabilities=()=>w.getAllTestabilities(),lr.getAllAngularRootElements=()=>w.getAllRootElements(),lr.frameworkStabilizers||(lr.frameworkStabilizers=[]),lr.frameworkStabilizers.push(C=>{const I=lr.getAllAngularTestabilities();let j=I.length,K=!1;const q=function(ue){K=K||ue,j--,0==j&&C(K)};I.forEach(function(ue){ue.whenStable(q)})})}findTestabilityInTree(w,_,C){if(null==_)return null;const I=w.getTestability(_);return null!=I?I:C?Ng().isShadowRoot(_)?this.findTestabilityInTree(w,_.host,!0):this.findTestabilityInTree(w,_.parentElement,!0):null}}let LF=(()=>{class A{build(){return new XMLHttpRequest}}return A.\u0275fac=function(_){return new(_||A)},A.\u0275prov=di({token:A,factory:A.\u0275fac}),A})();const E3=new ms("EventManagerPlugins");let D3=(()=>{class A{constructor(_,C){this._zone=C,this._eventNameToPlugin=new Map,_.forEach(I=>I.manager=this),this._plugins=_.slice().reverse()}addEventListener(_,C,I){return this._findPluginFor(C).addEventListener(_,C,I)}addGlobalEventListener(_,C,I){return this._findPluginFor(C).addGlobalEventListener(_,C,I)}getZone(){return this._zone}_findPluginFor(_){const C=this._eventNameToPlugin.get(_);if(C)return C;const I=this._plugins;for(let j=0;j<I.length;j++){const K=I[j];if(K.supports(_))return this._eventNameToPlugin.set(_,K),K}throw new Error(`No event manager plugin found for event ${_}`)}}return A.\u0275fac=function(_){return new(_||A)(xr(E3),xr(Eo))},A.\u0275prov=di({token:A,factory:A.\u0275fac}),A})();class EO{constructor(w){this._doc=w}addGlobalEventListener(w,_,C){const I=Ng().getGlobalEventTarget(this._doc,w);if(!I)throw new Error(`Unsupported event target ${I} for event ${_}`);return this.addEventListener(I,_,C)}}let DO=(()=>{class A{constructor(){this._stylesSet=new Set}addStyles(_){const C=new Set;_.forEach(I=>{this._stylesSet.has(I)||(this._stylesSet.add(I),C.add(I))}),this.onStylesAdded(C)}onStylesAdded(_){}getAllStyles(){return Array.from(this._stylesSet)}}return A.\u0275fac=function(_){return new(_||A)},A.\u0275prov=di({token:A,factory:A.\u0275fac}),A})(),Ob=(()=>{class A extends DO{constructor(_){super(),this._doc=_,this._hostNodes=new Map,this._hostNodes.set(_.head,[])}_addStylesToHost(_,C,I){_.forEach(j=>{const K=this._doc.createElement("style");K.textContent=j,I.push(C.appendChild(K))})}addHost(_){const C=[];this._addStylesToHost(this._stylesSet,_,C),this._hostNodes.set(_,C)}removeHost(_){const C=this._hostNodes.get(_);C&&C.forEach(MO),this._hostNodes.delete(_)}onStylesAdded(_){this._hostNodes.forEach((C,I)=>{this._addStylesToHost(_,I,C)})}ngOnDestroy(){this._hostNodes.forEach(_=>_.forEach(MO))}}return A.\u0275fac=function(_){return new(_||A)(xr(Lc))},A.\u0275prov=di({token:A,factory:A.\u0275fac}),A})();function MO(A){Ng().remove(A)}const OD={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},PD=/%COMP%/g;function M3(A,w,_){for(let C=0;C<w.length;C++){let I=w[C];Array.isArray(I)?M3(A,I,_):(I=I.replace(PD,A),_.push(I))}return _}function IO(A){return w=>{if("__ngUnwrap__"===w)return A;!1===A(w)&&(w.preventDefault(),w.returnValue=!1)}}let S3=(()=>{class A{constructor(_,C,I){this.eventManager=_,this.sharedStylesHost=C,this.appId=I,this.rendererByCompId=new Map,this.defaultRenderer=new kD(_)}createRenderer(_,C){if(!_||!C)return this.defaultRenderer;switch(C.encapsulation){case dn.Emulated:{let I=this.rendererByCompId.get(C.id);return I||(I=new jF(this.eventManager,this.sharedStylesHost,C,this.appId),this.rendererByCompId.set(C.id,I)),I.applyToHost(_),I}case 1:case dn.ShadowDom:return new HF(this.eventManager,this.sharedStylesHost,_,C);default:if(!this.rendererByCompId.has(C.id)){const I=M3(C.id,C.styles,[]);this.sharedStylesHost.addStyles(I),this.rendererByCompId.set(C.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return A.\u0275fac=function(_){return new(_||A)(xr(D3),xr(Ob),xr(Db))},A.\u0275prov=di({token:A,factory:A.\u0275fac}),A})();class kD{constructor(w){this.eventManager=w,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(w,_){return _?document.createElementNS(OD[_]||_,w):document.createElement(w)}createComment(w){return document.createComment(w)}createText(w){return document.createTextNode(w)}appendChild(w,_){w.appendChild(_)}insertBefore(w,_,C){w&&w.insertBefore(_,C)}removeChild(w,_){w&&w.removeChild(_)}selectRootElement(w,_){let C="string"==typeof w?document.querySelector(w):w;if(!C)throw new Error(`The selector "${w}" did not match any elements`);return _||(C.textContent=""),C}parentNode(w){return w.parentNode}nextSibling(w){return w.nextSibling}setAttribute(w,_,C,I){if(I){_=I+":"+_;const j=OD[I];j?w.setAttributeNS(j,_,C):w.setAttribute(_,C)}else w.setAttribute(_,C)}removeAttribute(w,_,C){if(C){const I=OD[C];I?w.removeAttributeNS(I,_):w.removeAttribute(`${C}:${_}`)}else w.removeAttribute(_)}addClass(w,_){w.classList.add(_)}removeClass(w,_){w.classList.remove(_)}setStyle(w,_,C,I){I&($c.DashCase|$c.Important)?w.style.setProperty(_,C,I&$c.Important?"important":""):w.style[_]=C}removeStyle(w,_,C){C&$c.DashCase?w.style.removeProperty(_):w.style[_]=""}setProperty(w,_,C){w[_]=C}setValue(w,_){w.nodeValue=_}listen(w,_,C){return"string"==typeof w?this.eventManager.addGlobalEventListener(w,_,IO(C)):this.eventManager.addEventListener(w,_,IO(C))}}class jF extends kD{constructor(w,_,C,I){super(w),this.component=C;const j=M3(I+"-"+C.id,C.styles,[]);_.addStyles(j),this.contentAttr="_ngcontent-%COMP%".replace(PD,I+"-"+C.id),this.hostAttr=function(A){return"_nghost-%COMP%".replace(PD,A)}(I+"-"+C.id)}applyToHost(w){super.setAttribute(w,this.hostAttr,"")}createElement(w,_){const C=super.createElement(w,_);return super.setAttribute(C,this.contentAttr,""),C}}class HF extends kD{constructor(w,_,C,I){super(w),this.sharedStylesHost=_,this.hostEl=C,this.shadowRoot=C.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const j=M3(I.id,I.styles,[]);for(let K=0;K<j.length;K++){const q=document.createElement("style");q.textContent=j[K],this.shadowRoot.appendChild(q)}}nodeOrShadowRoot(w){return w===this.hostEl?this.shadowRoot:w}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(w,_){return super.appendChild(this.nodeOrShadowRoot(w),_)}insertBefore(w,_,C){return super.insertBefore(this.nodeOrShadowRoot(w),_,C)}removeChild(w,_){return super.removeChild(this.nodeOrShadowRoot(w),_)}parentNode(w){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(w)))}}let VF=(()=>{class A extends EO{constructor(_){super(_)}supports(_){return!0}addEventListener(_,C,I){return _.addEventListener(C,I,!1),()=>this.removeEventListener(_,C,I)}removeEventListener(_,C,I){return _.removeEventListener(C,I)}}return A.\u0275fac=function(_){return new(_||A)(xr(Lc))},A.\u0275prov=di({token:A,factory:A.\u0275fac}),A})();const PO=["alt","control","meta","shift"],WF={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kO={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},KF={alt:A=>A.altKey,control:A=>A.ctrlKey,meta:A=>A.metaKey,shift:A=>A.shiftKey};let QF=(()=>{class A extends EO{constructor(_){super(_)}supports(_){return null!=A.parseEventName(_)}addEventListener(_,C,I){const j=A.parseEventName(C),K=A.eventCallback(j.fullKey,I,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ng().onAndCancel(_,j.domEventName,K))}static parseEventName(_){const C=_.toLowerCase().split("."),I=C.shift();if(0===C.length||"keydown"!==I&&"keyup"!==I)return null;const j=A._normalizeKey(C.pop());let K="";if(PO.forEach(ue=>{const Re=C.indexOf(ue);Re>-1&&(C.splice(Re,1),K+=ue+".")}),K+=j,0!=C.length||0===j.length)return null;const q={};return q.domEventName=I,q.fullKey=K,q}static getEventFullKey(_){let C="",I=function(A){let w=A.key;if(null==w){if(w=A.keyIdentifier,null==w)return"Unidentified";w.startsWith("U+")&&(w=String.fromCharCode(parseInt(w.substring(2),16)),3===A.location&&kO.hasOwnProperty(w)&&(w=kO[w]))}return WF[w]||w}(_);return I=I.toLowerCase()," "===I?I="space":"."===I&&(I="dot"),PO.forEach(j=>{j!=I&&KF[j](_)&&(C+=j+".")}),C+=I,C}static eventCallback(_,C,I){return j=>{A.getEventFullKey(j)===_&&I.runGuarded(()=>C(j))}}static _normalizeKey(_){return"esc"===_?"escape":_}}return A.\u0275fac=function(_){return new(_||A)(xr(Lc))},A.\u0275prov=di({token:A,factory:A.\u0275fac}),A})();const XF=jI(n8,"browser",[{provide:Mb,useValue:AO},{provide:kI,useValue:function(){TD.makeCurrent(),ID.init()},multi:!0},{provide:Lc,useFactory:function(){return A=document,Tm=A,document;var A},deps:[]}]),YF=[{provide:K_,useValue:"root"},{provide:Qu,useFactory:function(){return new Qu},deps:[]},{provide:E3,useClass:VF,multi:!0,deps:[Lc,Eo,Mb]},{provide:E3,useClass:QF,multi:!0,deps:[Lc]},{provide:S3,useClass:S3,deps:[D3,Ob,Db]},{provide:_b,useExisting:S3},{provide:DO,useExisting:Ob},{provide:Ob,useClass:Ob,deps:[Lc]},{provide:uD,useClass:uD,deps:[Eo]},{provide:D3,useClass:D3,deps:[E3,Eo]},{provide:CO,useClass:LF,deps:[]}];let LO=(()=>{class A{constructor(_){if(_)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(_){return{ngModule:A,providers:[{provide:Db,useValue:_.appId},{provide:xO,useExisting:Db},kF]}}}return A.\u0275fac=function(_){return new(_||A)(xr(A,12))},A.\u0275mod=Rr({type:A}),A.\u0275inj=Bi({providers:YF,imports:[pl,u8]}),A})();function Kh(...A){return Oi(A,Ot(A))}function Tp(A){return!!A&&(A instanceof qe||z(A.lift)&&z(A.subscribe))}"undefined"!=typeof window&&window;const{isArray:cN}=Array,{getPrototypeOf:uN,prototype:hN,keys:dN}=Object;const{isArray:mN}=Array;function FO(A){return Ze(w=>function(A,w){return mN(w)?A(...w):A(w)}(A,w))}function yN(A,w){return A.reduce((_,C,I)=>(_[C]=w[I],_),{})}function NO(...A){const w=function(A){return z(mt(A))?A.pop():void 0}(A),{args:_,keys:C}=function(A){if(1===A.length){const w=A[0];if(cN(w))return{args:w,keys:null};if(function(A){return A&&"object"==typeof A&&uN(A)===hN}(w)){const _=dN(w);return{args:_.map(C=>w[C]),keys:_}}}return{args:A,keys:null}}(A),I=new qe(j=>{const{length:K}=_;if(!K)return void j.complete();const q=new Array(K);let ue=K,Re=K;for(let Je=0;Je<K;Je++){let wt=!1;F(_[Je]).subscribe(new xt(j,Qt=>{wt||(wt=!0,Re--),q[Je]=Qt},()=>ue--,void 0,()=>{(!ue||!wt)&&(Re||j.next(C?yN(C,q):q),j.complete())}))}});return w?I.pipe(FO(w)):I}function T3(...A){return Mt(1)(Oi(A,Ot(A)))}function UO(A){return new qe(w=>{F(A()).subscribe(w)})}const BD={now:()=>(BD.delegate||Date).now(),delegate:void 0};class _N extends Se{constructor(w=1/0,_=1/0,C=BD){super(),this._bufferSize=w,this._windowTime=_,this._timestampProvider=C,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=_===1/0,this._bufferSize=Math.max(1,w),this._windowTime=Math.max(1,_)}next(w){const{isStopped:_,_buffer:C,_infiniteTimeWindow:I,_timestampProvider:j,_windowTime:K}=this;_||(C.push(w),!I&&C.push(j.now()+K)),this._trimBuffer(),super.next(w)}_subscribe(w){this._throwIfClosed(),this._trimBuffer();const _=this._innerSubscribe(w),{_infiniteTimeWindow:C,_buffer:I}=this,j=I.slice();for(let K=0;K<j.length&&!w.closed;K+=C?1:2)w.next(j[K]);return this._checkFinalizedStatuses(w),_}_trimBuffer(){const{_bufferSize:w,_timestampProvider:_,_buffer:C,_infiniteTimeWindow:I}=this,j=(I?1:2)*w;if(w<1/0&&j<C.length&&C.splice(0,C.length-j),!I){const K=_.now();let q=0;for(let ue=1;ue<C.length&&C[ue]<=K;ue+=2)q=ue;q&&C.splice(0,q+1)}}}function RD(A,w,_){var C,I;let j,K=!1;return A&&"object"==typeof A?(j=null!==(C=A.bufferSize)&&void 0!==C?C:1/0,w=null!==(I=A.windowTime)&&void 0!==I?I:1/0,K=!!A.refCount,_=A.scheduler):j=null!=A?A:1/0,nn({connector:()=>new _N(j,w,_),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:K})}function jO(A,w){return z(w)?_t(A,w,1):_t(A,1)}function FD(A,w){return ut((_,C)=>{let I=null,j=0,K=!1;const q=()=>K&&!I&&C.complete();_.subscribe(new xt(C,ue=>{null==I||I.unsubscribe();let Re=0;const Je=j++;F(A(ue,Je)).subscribe(I=new xt(C,wt=>C.next(w?w(ue,wt,Je,Re++):wt),()=>{I=null,q()}))},()=>{K=!0,q()}))})}class Pb{}let HO=(()=>{class A extends Pb{getTranslation(_){return Kh({})}}return A.\u0275fac=function(){let w;return function(C){return(w||(w=al(A)))(C||A)}}(),A.\u0275prov=di({token:A,factory:A.\u0275fac}),A})();class ND{}let VO=(()=>{class A{handle(_){return _.key}}return A.\u0275fac=function(_){return new(_||A)},A.\u0275prov=di({token:A,factory:A.\u0275fac}),A})();function kb(A,w){if(A===w)return!0;if(null===A||null===w)return!1;if(A!=A&&w!=w)return!0;let I,j,K,_=typeof A;if(_==typeof w&&"object"==_){if(!Array.isArray(A)){if(Array.isArray(w))return!1;for(j in K=Object.create(null),A){if(!kb(A[j],w[j]))return!1;K[j]=!0}for(j in w)if(!(j in K)&&void 0!==w[j])return!1;return!0}if(!Array.isArray(w))return!1;if((I=A.length)==w.length){for(j=0;j<I;j++)if(!kb(A[j],w[j]))return!1;return!0}}return!1}function ih(A){return null!=A}function UD(A){return A&&"object"==typeof A&&!Array.isArray(A)}function zO(A,w){let _=Object.assign({},A);return UD(A)&&UD(w)&&Object.keys(w).forEach(C=>{UD(w[C])?C in A?_[C]=zO(A[C],w[C]):Object.assign(_,{[C]:w[C]}):Object.assign(_,{[C]:w[C]})}),_}class I3{}let WO=(()=>{class A extends I3{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(_,C){let I;return I="string"==typeof _?this.interpolateString(_,C):"function"==typeof _?this.interpolateFunction(_,C):_,I}getValue(_,C){let I="string"==typeof C?C.split("."):[C];C="";do{C+=I.shift(),!ih(_)||!ih(_[C])||"object"!=typeof _[C]&&I.length?I.length?C+=".":_=void 0:(_=_[C],C="")}while(I.length);return _}interpolateFunction(_,C){return _(C)}interpolateString(_,C){return C?_.replace(this.templateMatcher,(I,j)=>{let K=this.getValue(C,j);return ih(K)?K:I}):_}}return A.\u0275fac=function(){let w;return function(C){return(w||(w=al(A)))(C||A)}}(),A.\u0275prov=di({token:A,factory:A.\u0275fac}),A})();class O3{}let KO=(()=>{class A extends O3{compile(_,C){return _}compileTranslations(_,C){return _}}return A.\u0275fac=function(){let w;return function(C){return(w||(w=al(A)))(C||A)}}(),A.\u0275prov=di({token:A,factory:A.\u0275fac}),A})();class QO{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new er,this.onLangChange=new er,this.onDefaultLangChange=new er}}const jD=new ms("USE_STORE"),HD=new ms("USE_DEFAULT_LANG"),VD=new ms("DEFAULT_LANGUAGE"),zD=new ms("USE_EXTEND");let Ll=(()=>{class A{constructor(_,C,I,j,K,q=!0,ue=!1,Re=!1,Je){this.store=_,this.currentLoader=C,this.compiler=I,this.parser=j,this.missingTranslationHandler=K,this.useDefaultLang=q,this.isolate=ue,this.extend=Re,this.pending=!1,this._onTranslationChange=new er,this._onLangChange=new er,this._onDefaultLangChange=new er,this._langs=[],this._translations={},this._translationRequests={},Je&&this.setDefaultLang(Je)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(_){this.isolate?this._defaultLang=_:this.store.defaultLang=_}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(_){this.isolate?this._currentLang=_:this.store.currentLang=_}get langs(){return this.isolate?this._langs:this.store.langs}set langs(_){this.isolate?this._langs=_:this.store.langs=_}get translations(){return this.isolate?this._translations:this.store.translations}set translations(_){this.isolate?this._translations=_:this.store.translations=_}setDefaultLang(_){if(_===this.defaultLang)return;let C=this.retrieveTranslations(_);void 0!==C?(null==this.defaultLang&&(this.defaultLang=_),C.pipe(Zi(1)).subscribe(I=>{this.changeDefaultLang(_)})):this.changeDefaultLang(_)}getDefaultLang(){return this.defaultLang}use(_){if(_===this.currentLang)return Kh(this.translations[_]);let C=this.retrieveTranslations(_);return void 0!==C?(this.currentLang||(this.currentLang=_),C.pipe(Zi(1)).subscribe(I=>{this.changeLang(_)}),C):(this.changeLang(_),Kh(this.translations[_]))}retrieveTranslations(_){let C;return(void 0===this.translations[_]||this.extend)&&(this._translationRequests[_]=this._translationRequests[_]||this.getTranslation(_),C=this._translationRequests[_]),C}getTranslation(_){this.pending=!0;const C=this.currentLoader.getTranslation(_).pipe(RD(1),Zi(1));return this.loadingTranslations=C.pipe(Ze(I=>this.compiler.compileTranslations(I,_)),RD(1),Zi(1)),this.loadingTranslations.subscribe({next:I=>{this.translations[_]=this.extend&&this.translations[_]?Object.assign(Object.assign({},I),this.translations[_]):I,this.updateLangs(),this.pending=!1},error:I=>{this.pending=!1}}),C}setTranslation(_,C,I=!1){C=this.compiler.compileTranslations(C,_),this.translations[_]=(I||this.extend)&&this.translations[_]?zO(this.translations[_],C):C,this.updateLangs(),this.onTranslationChange.emit({lang:_,translations:this.translations[_]})}getLangs(){return this.langs}addLangs(_){_.forEach(C=>{-1===this.langs.indexOf(C)&&this.langs.push(C)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(_,C,I){let j;if(C instanceof Array){let K={},q=!1;for(let ue of C)K[ue]=this.getParsedResult(_,ue,I),Tp(K[ue])&&(q=!0);return q?NO(C.map(Re=>Tp(K[Re])?K[Re]:Kh(K[Re]))).pipe(Ze(Re=>{let Je={};return Re.forEach((wt,Qt)=>{Je[C[Qt]]=wt}),Je})):K}if(_&&(j=this.parser.interpolate(this.parser.getValue(_,C),I)),void 0===j&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(j=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],C),I)),void 0===j){let K={key:C,translateService:this};void 0!==I&&(K.interpolateParams=I),j=this.missingTranslationHandler.handle(K)}return void 0!==j?j:C}get(_,C){if(!ih(_)||!_.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(jO(I=>Tp(I=this.getParsedResult(I,_,C))?I:Kh(I)));{let I=this.getParsedResult(this.translations[this.currentLang],_,C);return Tp(I)?I:Kh(I)}}getStreamOnTranslationChange(_,C){if(!ih(_)||!_.length)throw new Error('Parameter "key" required');return T3(UO(()=>this.get(_,C)),this.onTranslationChange.pipe(FD(I=>{const j=this.getParsedResult(I.translations,_,C);return"function"==typeof j.subscribe?j:Kh(j)})))}stream(_,C){if(!ih(_)||!_.length)throw new Error('Parameter "key" required');return T3(UO(()=>this.get(_,C)),this.onLangChange.pipe(FD(I=>{const j=this.getParsedResult(I.translations,_,C);return Tp(j)?j:Kh(j)})))}instant(_,C){if(!ih(_)||!_.length)throw new Error('Parameter "key" required');let I=this.getParsedResult(this.translations[this.currentLang],_,C);if(Tp(I)){if(_ instanceof Array){let j={};return _.forEach((K,q)=>{j[_[q]]=_[q]}),j}return _}return I}set(_,C,I=this.currentLang){this.translations[I][_]=this.compiler.compile(C,I),this.updateLangs(),this.onTranslationChange.emit({lang:I,translations:this.translations[I]})}changeLang(_){this.currentLang=_,this.onLangChange.emit({lang:_,translations:this.translations[_]}),null==this.defaultLang&&this.changeDefaultLang(_)}changeDefaultLang(_){this.defaultLang=_,this.onDefaultLangChange.emit({lang:_,translations:this.translations[_]})}reloadLang(_){return this.resetLang(_),this.getTranslation(_)}resetLang(_){this._translationRequests[_]=void 0,this.translations[_]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let _=window.navigator.languages?window.navigator.languages[0]:null;return _=_||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,void 0!==_?(-1!==_.indexOf("-")&&(_=_.split("-")[0]),-1!==_.indexOf("_")&&(_=_.split("_")[0]),_):void 0}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let _=window.navigator.languages?window.navigator.languages[0]:null;return _=_||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,_}}return A.\u0275fac=function(_){return new(_||A)(xr(QO),xr(Pb),xr(O3),xr(I3),xr(ND),xr(HD),xr(jD),xr(zD),xr(VD))},A.\u0275prov=di({token:A,factory:A.\u0275fac}),A})(),Xs=(()=>{class A{constructor(_,C){this.translate=_,this._ref=C,this.value=""}updateValue(_,C,I){let j=K=>{this.value=void 0!==K?K:_,this.lastKey=_,this._ref.markForCheck()};if(I){let K=this.translate.getParsedResult(I,_,C);Tp(K.subscribe)?K.subscribe(j):j(K)}this.translate.get(_,C).subscribe(j)}transform(_,...C){if(!_||!_.length)return _;if(kb(_,this.lastKey)&&kb(C,this.lastParams))return this.value;let I;if(ih(C[0])&&C.length)if("string"==typeof C[0]&&C[0].length){let j=C[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{I=JSON.parse(j)}catch(K){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${C[0]}`)}}else"object"==typeof C[0]&&!Array.isArray(C[0])&&(I=C[0]);return this.lastKey=_,this.lastParams=C,this.updateValue(_,I),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(j=>{this.lastKey&&j.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(_,I,j.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(j=>{this.lastKey&&(this.lastKey=null,this.updateValue(_,I,j.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(_,I))})),this.value}_dispose(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return A.\u0275fac=function(_){return new(_||A)(rn(Ll,16),rn(Gl,16))},A.\u0275pipe=rs({name:"translate",type:A,pure:!1}),A.\u0275prov=di({token:A,factory:A.\u0275fac}),A})(),bN=(()=>{class A{static forRoot(_={}){return{ngModule:A,providers:[_.loader||{provide:Pb,useClass:HO},_.compiler||{provide:O3,useClass:KO},_.parser||{provide:I3,useClass:WO},_.missingTranslationHandler||{provide:ND,useClass:VO},QO,{provide:jD,useValue:_.isolate},{provide:HD,useValue:_.useDefaultLang},{provide:zD,useValue:_.extend},{provide:VD,useValue:_.defaultLanguage},Ll]}}static forChild(_={}){return{ngModule:A,providers:[_.loader||{provide:Pb,useClass:HO},_.compiler||{provide:O3,useClass:KO},_.parser||{provide:I3,useClass:WO},_.missingTranslationHandler||{provide:ND,useClass:VO},{provide:jD,useValue:_.isolate},{provide:HD,useValue:_.useDefaultLang},{provide:zD,useValue:_.extend},{provide:VD,useValue:_.defaultLanguage},Ll]}}}return A.\u0275fac=function(_){return new(_||A)},A.\u0275mod=Rr({type:A}),A.\u0275inj=Bi({}),A})(),Ip=(()=>{class A{constructor(){this.params={}}}return A.\u0275fac=function(_){return new(_||A)},A.\u0275prov=di({token:A,factory:A.\u0275fac}),A})();function GO(A,w){return ut((_,C)=>{let I=0;_.subscribe(new xt(C,j=>A.call(w,j,I++)&&C.next(j)))})}class $O{}class ZO{}class Qh{constructor(w){this.normalizedNames=new Map,this.lazyUpdate=null,w?this.lazyInit="string"==typeof w?()=>{this.headers=new Map,w.split("\n").forEach(_=>{const C=_.indexOf(":");if(C>0){const I=_.slice(0,C),j=I.toLowerCase(),K=_.slice(C+1).trim();this.maybeSetNormalizedName(I,j),this.headers.has(j)?this.headers.get(j).push(K):this.headers.set(j,[K])}})}:()=>{this.headers=new Map,Object.keys(w).forEach(_=>{let C=w[_];const I=_.toLowerCase();"string"==typeof C&&(C=[C]),C.length>0&&(this.headers.set(I,C),this.maybeSetNormalizedName(_,I))})}:this.headers=new Map}has(w){return this.init(),this.headers.has(w.toLowerCase())}get(w){this.init();const _=this.headers.get(w.toLowerCase());return _&&_.length>0?_[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(w){return this.init(),this.headers.get(w.toLowerCase())||null}append(w,_){return this.clone({name:w,value:_,op:"a"})}set(w,_){return this.clone({name:w,value:_,op:"s"})}delete(w,_){return this.clone({name:w,value:_,op:"d"})}maybeSetNormalizedName(w,_){this.normalizedNames.has(_)||this.normalizedNames.set(_,w)}init(){this.lazyInit&&(this.lazyInit instanceof Qh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(w=>this.applyUpdate(w)),this.lazyUpdate=null))}copyFrom(w){w.init(),Array.from(w.headers.keys()).forEach(_=>{this.headers.set(_,w.headers.get(_)),this.normalizedNames.set(_,w.normalizedNames.get(_))})}clone(w){const _=new Qh;return _.lazyInit=this.lazyInit&&this.lazyInit instanceof Qh?this.lazyInit:this,_.lazyUpdate=(this.lazyUpdate||[]).concat([w]),_}applyUpdate(w){const _=w.name.toLowerCase();switch(w.op){case"a":case"s":let C=w.value;if("string"==typeof C&&(C=[C]),0===C.length)return;this.maybeSetNormalizedName(w.name,_);const I=("a"===w.op?this.headers.get(_):void 0)||[];I.push(...C),this.headers.set(_,I);break;case"d":const j=w.value;if(j){let K=this.headers.get(_);if(!K)return;K=K.filter(q=>-1===j.indexOf(q)),0===K.length?(this.headers.delete(_),this.normalizedNames.delete(_)):this.headers.set(_,K)}else this.headers.delete(_),this.normalizedNames.delete(_)}}forEach(w){this.init(),Array.from(this.normalizedNames.keys()).forEach(_=>w(this.normalizedNames.get(_),this.headers.get(_)))}}class AN{encodeKey(w){return JO(w)}encodeValue(w){return JO(w)}decodeKey(w){return decodeURIComponent(w)}decodeValue(w){return decodeURIComponent(w)}}const CN=/%(\d[a-f0-9])/gi,xN={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function JO(A){return encodeURIComponent(A).replace(CN,(w,_)=>{var C;return null!==(C=xN[_])&&void 0!==C?C:w})}function XO(A){return`${A}`}class $0{constructor(w={}){if(this.updates=null,this.cloneFrom=null,this.encoder=w.encoder||new AN,w.fromString){if(w.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(A,w){const _=new Map;return A.length>0&&A.replace(/^\?/,"").split("&").forEach(I=>{const j=I.indexOf("="),[K,q]=-1==j?[w.decodeKey(I),""]:[w.decodeKey(I.slice(0,j)),w.decodeValue(I.slice(j+1))],ue=_.get(K)||[];ue.push(q),_.set(K,ue)}),_}(w.fromString,this.encoder)}else w.fromObject?(this.map=new Map,Object.keys(w.fromObject).forEach(_=>{const C=w.fromObject[_];this.map.set(_,Array.isArray(C)?C:[C])})):this.map=null}has(w){return this.init(),this.map.has(w)}get(w){this.init();const _=this.map.get(w);return _?_[0]:null}getAll(w){return this.init(),this.map.get(w)||null}keys(){return this.init(),Array.from(this.map.keys())}append(w,_){return this.clone({param:w,value:_,op:"a"})}appendAll(w){const _=[];return Object.keys(w).forEach(C=>{const I=w[C];Array.isArray(I)?I.forEach(j=>{_.push({param:C,value:j,op:"a"})}):_.push({param:C,value:I,op:"a"})}),this.clone(_)}set(w,_){return this.clone({param:w,value:_,op:"s"})}delete(w,_){return this.clone({param:w,value:_,op:"d"})}toString(){return this.init(),this.keys().map(w=>{const _=this.encoder.encodeKey(w);return this.map.get(w).map(C=>_+"="+this.encoder.encodeValue(C)).join("&")}).filter(w=>""!==w).join("&")}clone(w){const _=new $0({encoder:this.encoder});return _.cloneFrom=this.cloneFrom||this,_.updates=(this.updates||[]).concat(w),_}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(w=>this.map.set(w,this.cloneFrom.map.get(w))),this.updates.forEach(w=>{switch(w.op){case"a":case"s":const _=("a"===w.op?this.map.get(w.param):void 0)||[];_.push(XO(w.value)),this.map.set(w.param,_);break;case"d":if(void 0===w.value){this.map.delete(w.param);break}{let C=this.map.get(w.param)||[];const I=C.indexOf(XO(w.value));-1!==I&&C.splice(I,1),C.length>0?this.map.set(w.param,C):this.map.delete(w.param)}}}),this.cloneFrom=this.updates=null)}}class EN{constructor(){this.map=new Map}set(w,_){return this.map.set(w,_),this}get(w){return this.map.has(w)||this.map.set(w,w.defaultValue()),this.map.get(w)}delete(w){return this.map.delete(w),this}has(w){return this.map.has(w)}keys(){return this.map.keys()}}function YO(A){return"undefined"!=typeof ArrayBuffer&&A instanceof ArrayBuffer}function qO(A){return"undefined"!=typeof Blob&&A instanceof Blob}function eP(A){return"undefined"!=typeof FormData&&A instanceof FormData}class Lb{constructor(w,_,C,I){let j;if(this.url=_,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=w.toUpperCase(),function(A){switch(A){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||I?(this.body=void 0!==C?C:null,j=I):j=C,j&&(this.reportProgress=!!j.reportProgress,this.withCredentials=!!j.withCredentials,j.responseType&&(this.responseType=j.responseType),j.headers&&(this.headers=j.headers),j.context&&(this.context=j.context),j.params&&(this.params=j.params)),this.headers||(this.headers=new Qh),this.context||(this.context=new EN),this.params){const K=this.params.toString();if(0===K.length)this.urlWithParams=_;else{const q=_.indexOf("?");this.urlWithParams=_+(-1===q?"?":q<_.length-1?"&":"")+K}}else this.params=new $0,this.urlWithParams=_}serializeBody(){return null===this.body?null:YO(this.body)||qO(this.body)||eP(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof $0?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||eP(this.body)?null:qO(this.body)?this.body.type||null:YO(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof $0?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(w={}){var _;const C=w.method||this.method,I=w.url||this.url,j=w.responseType||this.responseType,K=void 0!==w.body?w.body:this.body,q=void 0!==w.withCredentials?w.withCredentials:this.withCredentials,ue=void 0!==w.reportProgress?w.reportProgress:this.reportProgress;let Re=w.headers||this.headers,Je=w.params||this.params;const wt=null!==(_=w.context)&&void 0!==_?_:this.context;return void 0!==w.setHeaders&&(Re=Object.keys(w.setHeaders).reduce((Qt,ri)=>Qt.set(ri,w.setHeaders[ri]),Re)),w.setParams&&(Je=Object.keys(w.setParams).reduce((Qt,ri)=>Qt.set(ri,w.setParams[ri]),Je)),new Lb(C,I,K,{params:Je,headers:Re,context:wt,reportProgress:ue,responseType:j,withCredentials:q})}}var fl=(()=>((fl=fl||{})[fl.Sent=0]="Sent",fl[fl.UploadProgress=1]="UploadProgress",fl[fl.ResponseHeader=2]="ResponseHeader",fl[fl.DownloadProgress=3]="DownloadProgress",fl[fl.Response=4]="Response",fl[fl.User=5]="User",fl))();class WD{constructor(w,_=200,C="OK"){this.headers=w.headers||new Qh,this.status=void 0!==w.status?w.status:_,this.statusText=w.statusText||C,this.url=w.url||null,this.ok=this.status>=200&&this.status<300}}class KD extends WD{constructor(w={}){super(w),this.type=fl.ResponseHeader}clone(w={}){return new KD({headers:w.headers||this.headers,status:void 0!==w.status?w.status:this.status,statusText:w.statusText||this.statusText,url:w.url||this.url||void 0})}}class P3 extends WD{constructor(w={}){super(w),this.type=fl.Response,this.body=void 0!==w.body?w.body:null}clone(w={}){return new P3({body:void 0!==w.body?w.body:this.body,headers:w.headers||this.headers,status:void 0!==w.status?w.status:this.status,statusText:w.statusText||this.statusText,url:w.url||this.url||void 0})}}class tP extends WD{constructor(w){super(w,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${w.url||"(unknown url)"}`:`Http failure response for ${w.url||"(unknown url)"}: ${w.status} ${w.statusText}`,this.error=w.error||null}}function QD(A,w){return{body:w,headers:A.headers,context:A.context,observe:A.observe,params:A.params,reportProgress:A.reportProgress,responseType:A.responseType,withCredentials:A.withCredentials}}let Op=(()=>{class A{constructor(_){this.handler=_}request(_,C,I={}){let j;if(_ instanceof Lb)j=_;else{let ue,Re;ue=I.headers instanceof Qh?I.headers:new Qh(I.headers),I.params&&(Re=I.params instanceof $0?I.params:new $0({fromObject:I.params})),j=new Lb(_,C,void 0!==I.body?I.body:null,{headers:ue,context:I.context,params:Re,reportProgress:I.reportProgress,responseType:I.responseType||"json",withCredentials:I.withCredentials})}const K=Kh(j).pipe(jO(ue=>this.handler.handle(ue)));if(_ instanceof Lb||"events"===I.observe)return K;const q=K.pipe(GO(ue=>ue instanceof P3));switch(I.observe||"body"){case"body":switch(j.responseType){case"arraybuffer":return q.pipe(Ze(ue=>{if(null!==ue.body&&!(ue.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ue.body}));case"blob":return q.pipe(Ze(ue=>{if(null!==ue.body&&!(ue.body instanceof Blob))throw new Error("Response is not a Blob.");return ue.body}));case"text":return q.pipe(Ze(ue=>{if(null!==ue.body&&"string"!=typeof ue.body)throw new Error("Response is not a string.");return ue.body}));default:return q.pipe(Ze(ue=>ue.body))}case"response":return q;default:throw new Error(`Unreachable: unhandled observe type ${I.observe}}`)}}delete(_,C={}){return this.request("DELETE",_,C)}get(_,C={}){return this.request("GET",_,C)}head(_,C={}){return this.request("HEAD",_,C)}jsonp(_,C){return this.request("JSONP",_,{params:(new $0).append(C,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(_,C={}){return this.request("OPTIONS",_,C)}patch(_,C,I={}){return this.request("PATCH",_,QD(I,C))}post(_,C,I={}){return this.request("POST",_,QD(I,C))}put(_,C,I={}){return this.request("PUT",_,QD(I,C))}}return A.\u0275fac=function(_){return new(_||A)(xr($O))},A.\u0275prov=di({token:A,factory:A.\u0275fac}),A})();class iP{constructor(w,_){this.next=w,this.interceptor=_}handle(w){return this.interceptor.intercept(w,this.next)}}const GD=new ms("HTTP_INTERCEPTORS");let SN=(()=>{class A{intercept(_,C){return C.handle(_)}}return A.\u0275fac=function(_){return new(_||A)},A.\u0275prov=di({token:A,factory:A.\u0275fac}),A})();const TN=/^\)\]\}',?\n/;let nP=(()=>{class A{constructor(_){this.xhrFactory=_}handle(_){if("JSONP"===_.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new qe(C=>{const I=this.xhrFactory.build();if(I.open(_.method,_.urlWithParams),_.withCredentials&&(I.withCredentials=!0),_.headers.forEach((ri,Ci)=>I.setRequestHeader(ri,Ci.join(","))),_.headers.has("Accept")||I.setRequestHeader("Accept","application/json, text/plain, */*"),!_.headers.has("Content-Type")){const ri=_.detectContentTypeHeader();null!==ri&&I.setRequestHeader("Content-Type",ri)}if(_.responseType){const ri=_.responseType.toLowerCase();I.responseType="json"!==ri?ri:"text"}const j=_.serializeBody();let K=null;const q=()=>{if(null!==K)return K;const ri=1223===I.status?204:I.status,Ci=I.statusText||"OK",Gi=new Qh(I.getAllResponseHeaders()),fn=function(A){return"responseURL"in A&&A.responseURL?A.responseURL:/^X-Request-URL:/m.test(A.getAllResponseHeaders())?A.getResponseHeader("X-Request-URL"):null}(I)||_.url;return K=new KD({headers:Gi,status:ri,statusText:Ci,url:fn}),K},ue=()=>{let{headers:ri,status:Ci,statusText:Gi,url:fn}=q(),Mn=null;204!==Ci&&(Mn=void 0===I.response?I.responseText:I.response),0===Ci&&(Ci=Mn?200:0);let gn=Ci>=200&&Ci<300;if("json"===_.responseType&&"string"==typeof Mn){const Zn=Mn;Mn=Mn.replace(TN,"");try{Mn=""!==Mn?JSON.parse(Mn):null}catch(qn){Mn=Zn,gn&&(gn=!1,Mn={error:qn,text:Mn})}}gn?(C.next(new P3({body:Mn,headers:ri,status:Ci,statusText:Gi,url:fn||void 0})),C.complete()):C.error(new tP({error:Mn,headers:ri,status:Ci,statusText:Gi,url:fn||void 0}))},Re=ri=>{const{url:Ci}=q(),Gi=new tP({error:ri,status:I.status||0,statusText:I.statusText||"Unknown Error",url:Ci||void 0});C.error(Gi)};let Je=!1;const wt=ri=>{Je||(C.next(q()),Je=!0);let Ci={type:fl.DownloadProgress,loaded:ri.loaded};ri.lengthComputable&&(Ci.total=ri.total),"text"===_.responseType&&!!I.responseText&&(Ci.partialText=I.responseText),C.next(Ci)},Qt=ri=>{let Ci={type:fl.UploadProgress,loaded:ri.loaded};ri.lengthComputable&&(Ci.total=ri.total),C.next(Ci)};return I.addEventListener("load",ue),I.addEventListener("error",Re),I.addEventListener("timeout",Re),I.addEventListener("abort",Re),_.reportProgress&&(I.addEventListener("progress",wt),null!==j&&I.upload&&I.upload.addEventListener("progress",Qt)),I.send(j),C.next({type:fl.Sent}),()=>{I.removeEventListener("error",Re),I.removeEventListener("abort",Re),I.removeEventListener("load",ue),I.removeEventListener("timeout",Re),_.reportProgress&&(I.removeEventListener("progress",wt),null!==j&&I.upload&&I.upload.removeEventListener("progress",Qt)),I.readyState!==I.DONE&&I.abort()}})}}return A.\u0275fac=function(_){return new(_||A)(xr(CO))},A.\u0275prov=di({token:A,factory:A.\u0275fac}),A})();const $D=new ms("XSRF_COOKIE_NAME"),ZD=new ms("XSRF_HEADER_NAME");class rP{}let ON=(()=>{class A{constructor(_,C,I){this.doc=_,this.platform=C,this.cookieName=I,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const _=this.doc.cookie||"";return _!==this.lastCookieString&&(this.parseCount++,this.lastToken=fO(_,this.cookieName),this.lastCookieString=_),this.lastToken}}return A.\u0275fac=function(_){return new(_||A)(xr(Lc),xr(Mb),xr($D))},A.\u0275prov=di({token:A,factory:A.\u0275fac}),A})(),JD=(()=>{class A{constructor(_,C){this.tokenService=_,this.headerName=C}intercept(_,C){const I=_.url.toLowerCase();if("GET"===_.method||"HEAD"===_.method||I.startsWith("http://")||I.startsWith("https://"))return C.handle(_);const j=this.tokenService.getToken();return null!==j&&!_.headers.has(this.headerName)&&(_=_.clone({headers:_.headers.set(this.headerName,j)})),C.handle(_)}}return A.\u0275fac=function(_){return new(_||A)(xr(rP),xr(ZD))},A.\u0275prov=di({token:A,factory:A.\u0275fac}),A})(),PN=(()=>{class A{constructor(_,C){this.backend=_,this.injector=C,this.chain=null}handle(_){if(null===this.chain){const C=this.injector.get(GD,[]);this.chain=C.reduceRight((I,j)=>new iP(I,j),this.backend)}return this.chain.handle(_)}}return A.\u0275fac=function(_){return new(_||A)(xr(ZO),xr(Tl))},A.\u0275prov=di({token:A,factory:A.\u0275fac}),A})(),kN=(()=>{class A{static disable(){return{ngModule:A,providers:[{provide:JD,useClass:SN}]}}static withOptions(_={}){return{ngModule:A,providers:[_.cookieName?{provide:$D,useValue:_.cookieName}:[],_.headerName?{provide:ZD,useValue:_.headerName}:[]]}}}return A.\u0275fac=function(_){return new(_||A)},A.\u0275mod=Rr({type:A}),A.\u0275inj=Bi({providers:[JD,{provide:GD,useExisting:JD,multi:!0},{provide:rP,useClass:ON},{provide:$D,useValue:"XSRF-TOKEN"},{provide:ZD,useValue:"X-XSRF-TOKEN"}]}),A})(),LN=(()=>{class A{}return A.\u0275fac=function(_){return new(_||A)},A.\u0275mod=Rr({type:A}),A.\u0275inj=Bi({providers:[Op,{provide:$O,useClass:PN},nP,{provide:ZO,useExisting:nP}],imports:[[kN.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),A})();class Jn{}Jn.URL_PREFIX="/javascriptmodelviewer-web",Jn.DRAW_STATE="DRAW",Jn.DRILL_STATE="DRILL",Jn.MAP_STATE="MAP",Jn.CROSSECTION_STATE="CROSSECTION",Jn.DRAW_RECTANGLE_STATE="DRAW_RECTANGLE",Jn.MAP_SEARCH_BY_ID_STATE="MAP_SEARCH_BY_ID",Jn.ORDER_OVERVIEW_STATE="OVERVIEW_STATE",Jn.ORDER_CONTACT_FORM_STATE="CONTACT_FORM_STATE",Jn.ORDER_NO_ORDER_STATE="NO_ORDER",Jn.EASING="ease-in-out",Jn.GREEN_COLOR_CLASS="#39870c",Jn.BLUE_COLOR_CLASS="#007bc7",Jn.BLACK_COLOR_CLASS="#000000",Jn.SIMPLE_MARKER="simple-marker",Jn.SIMPLE_FILL="simple-fill",Jn.parkeerMeterPath="M26.48,13.794c0-5.789-4.692-10.481-10.48-10.481c-5.789,0-10.481,4.692-10.481,10.481 c0,1.036,0.153,2.036,0.433,2.983c1.492,6.035,10.095,12.785,10.095,12.785s9.719-7.621,10.291-13.91l-0.025-0.005 C26.421,15.046,26.48,14.427,26.48,13.794z M16.143,16.128c-2.368,0-4.288-1.92-4.288-4.288c0-2.368,1.92-4.288,4.288-4.288 c2.367,0,4.287,1.92,4.287,4.288C20.43,14.208,18.51,16.128,16.143,16.128z",Jn.drawConfig={greenCircleSymbol:{type:Jn.SIMPLE_MARKER,color:Jn.GREEN_COLOR_CLASS},drawingSymbol:{type:Jn.SIMPLE_FILL,color:[0,0,0,.15],outline:{color:[0,0,0,.15],width:2}},finishedSymbol:{type:Jn.SIMPLE_FILL,color:[0,0,0,.15],outline:{color:Jn.BLACK_COLOR_CLASS,width:2}},parkeerMeterGreen:{type:Jn.SIMPLE_MARKER,color:Jn.GREEN_COLOR_CLASS,size:"20px",path:Jn.parkeerMeterPath}},Jn.broDrawConfig={greenCircleSymbol:{type:Jn.SIMPLE_MARKER,color:Jn.BLUE_COLOR_CLASS},parkeerMeterGreen:{type:"simple-marker",color:Jn.BLUE_COLOR_CLASS,size:"20px",path:Jn.parkeerMeterPath}};let fo=(()=>{class A{constructor(_){this.http=_}loadConfiguration(){const _=this.http.get(Jn.URL_PREFIX+"/rest/config",{headers:(new Qh).set("Content-Type","application/json")}).toPromise();return _.then(C=>this.settings=C),_}loadFeatures(){const _=this.http.get(Jn.URL_PREFIX+"/rest/config/features",{headers:(new Qh).set("Content-Type","application/json")}).toPromise();return _.then(C=>{this.features=C}),_}getFeature(_){return void 0!==this.features["mdl.feature.service."+_]&&"true"===this.features["mdl.feature.service."+_].toLowerCase()}}return A.\u0275fac=function(_){return new(_||A)(xr(Op))},A.\u0275prov=di({token:A,factory:A.\u0275fac}),A})();var Iu=N(2004),Pp=N(65234),Fa=N(88879),At=N(17626),BN=N(29132),sP=N(97478),Z0=N(86162),zt=N(77712),J0=N(8314),Bb=N(90912),sa=N(63290),br=N(61403),oP=N(91179);let Xo=class extends Z0.wq{constructor(A){super(A),this.dpi=96,this.dynamicLayerInfos=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=null,this.height=400,this.layerDefinitions=null,this.layerIds=null,this.layerOption="top",this.layerTimeOptions=null,this.mapExtent=null,this.maxAllowableOffset=null,this.returnFieldName=!1,this.returnGeometry=!1,this.returnM=!1,this.returnUnformattedValues=!1,this.returnZ=!1,this.spatialReference=null,this.timeExtent=null,this.tolerance=null,this.width=400}};(0,At._)([(0,zt.Cb)({type:Number,json:{write:!0}})],Xo.prototype,"dpi",void 0),(0,At._)([(0,zt.Cb)({type:[Object],json:{read:{source:"dynamicLayers"},write:{target:"dynamicLayers"}}})],Xo.prototype,"dynamicLayerInfos",void 0),(0,At._)([(0,zt.Cb)({type:String,json:{write:!0}})],Xo.prototype,"gdbVersion",void 0),(0,At._)([(0,zt.Cb)({types:BN.qM,json:{read:oP.im,write:!0}})],Xo.prototype,"geometry",void 0),(0,At._)([(0,zt.Cb)({type:Number,json:{write:!0}})],Xo.prototype,"geometryPrecision",void 0),(0,At._)([(0,zt.Cb)({type:Number,json:{write:!0}})],Xo.prototype,"height",void 0),(0,At._)([(0,zt.Cb)({type:[Object],json:{write:!0}})],Xo.prototype,"layerDefinitions",void 0),(0,At._)([(0,zt.Cb)({type:[Number],json:{write:!0}})],Xo.prototype,"layerIds",void 0),(0,At._)([(0,zt.Cb)({type:String,json:{write:!0}})],Xo.prototype,"layerOption",void 0),(0,At._)([(0,zt.Cb)({type:[Object],json:{write:!0}})],Xo.prototype,"layerTimeOptions",void 0),(0,At._)([(0,zt.Cb)({type:Iu.Z,json:{write:!0}})],Xo.prototype,"mapExtent",void 0),(0,At._)([(0,zt.Cb)({type:Number,json:{write:!0}})],Xo.prototype,"maxAllowableOffset",void 0),(0,At._)([(0,zt.Cb)({type:Boolean,json:{write:!0}})],Xo.prototype,"returnFieldName",void 0),(0,At._)([(0,zt.Cb)({type:Boolean,json:{write:!0}})],Xo.prototype,"returnGeometry",void 0),(0,At._)([(0,zt.Cb)({type:Boolean,json:{write:!0}})],Xo.prototype,"returnM",void 0),(0,At._)([(0,zt.Cb)({type:Boolean,json:{write:!0}})],Xo.prototype,"returnUnformattedValues",void 0),(0,At._)([(0,zt.Cb)({type:Boolean,json:{write:!0}})],Xo.prototype,"returnZ",void 0),(0,At._)([(0,zt.Cb)({type:Pp.Z,json:{write:!0}})],Xo.prototype,"spatialReference",void 0),(0,At._)([(0,zt.Cb)({type:sP.Z,json:{write:!0}})],Xo.prototype,"timeExtent",void 0),(0,At._)([(0,zt.Cb)({type:Number,json:{write:!0}})],Xo.prototype,"tolerance",void 0),(0,At._)([(0,zt.Cb)({type:Number,json:{write:!0}})],Xo.prototype,"width",void 0),Xo=(0,At._)([(0,br.j)("esri.rest.support.IdentifyParameters")],Xo),Xo.from=(0,Bb.se)(Xo);var XD=Xo,Ug=N(84952),Es=N(15861),aP=N(84792),lP=N(62825),YD=N(2618),Wi=N(62208),RN=N(68653),cP=N(99433),FN=N(71774);let xf=class extends Z0.wq{constructor(A){super(A),this.displayFieldName=null,this.feature=null,this.layerId=null,this.layerName=null}readFeature(A,w){return Fa.Z.fromJSON({attributes:ji({},w.attributes),geometry:ji({},w.geometry)})}writeFeature(A,w){if(!A)return;const{attributes:_,geometry:C}=A;_&&(w.attributes=ji({},_)),(0,Wi.pC)(C)&&(w.geometry=C.toJSON(),w.geometryType=FN.P$.toJSON(C.type))}};(0,At._)([(0,zt.Cb)({type:String,json:{write:!0}})],xf.prototype,"displayFieldName",void 0),(0,At._)([(0,zt.Cb)({type:Fa.Z})],xf.prototype,"feature",void 0),(0,At._)([(0,RN.r)("feature",["attributes","geometry"])],xf.prototype,"readFeature",null),(0,At._)([(0,cP.c)("feature")],xf.prototype,"writeFeature",null),(0,At._)([(0,zt.Cb)({type:Number,json:{write:!0}})],xf.prototype,"layerId",void 0),(0,At._)([(0,zt.Cb)({type:String,json:{write:!0}})],xf.prototype,"layerName",void 0),xf=(0,At._)([(0,br.j)("esri.rest.support.IdentifyResult")],xf);var NN=xf,UN=N(83137);const uP=A=>A.spatialReference.wkid||JSON.stringify(A.spatialReference);function VN(A,w){const{dpi:_,dynamicLayers:C,gdbVersion:I,geometry:j,geometryPrecision:K,height:q,layerDefinitions:ue,layerIds:Re,layerOption:Je,layerTimeOptions:wt,mapExtent:Qt,maxAllowableOffset:ri,returnFieldName:Ci,returnGeometry:Gi,returnUnformattedValues:fn,returnZ:Mn,spatialReference:gn,timeExtent:Zn,tolerance:qn,width:mr}=A.toJSON(),Mr=w&&(0,Wi.pC)(w.geometry)?w.geometry:null,Qr={geometryPrecision:K,maxAllowableOffset:ri,returnFieldName:Ci,returnGeometry:Gi,returnUnformattedValues:fn,returnZ:Mn,tolerance:qn},ws=Mr&&Mr.toJSON()||j;if(Qr.imageDisplay=`${mr},${q},${_}`,I&&(Qr.gdbVersion=I),ws&&(delete ws.spatialReference,Qr.geometry=JSON.stringify(ws),Qr.geometryType=(0,oP.Ji)(ws)),gn?Qr.sr=gn.wkid||JSON.stringify(gn):ws&&ws.spatialReference?Qr.sr=uP(ws):Qt&&Qt.spatialReference&&(Qr.sr=uP(Qt)),Qr.time=Zn?Zn.join(","):null,Qt){const{xmin:as,ymin:ks,xmax:Co,ymax:Ma}=Qt;Qr.mapExtent=`${as},${ks},${Co},${Ma}`}if(Qr.layers=Je,Re&&(Qr.layers+=`:${Re.join(",")}`),ue){const as=[];for(let ks=0;ks<ue.length;ks++){const Co=ue[ks];as[Co.id]=Co.definitionExpression}Qr.layerDefs=function(A){const w=/[:;]/,_=[];let C=!1;if(A&&(A.forEach(function(I,j){_.push([j,I]),!C&&w.test(I)&&(C=!0)}),_.length>0)){let I;if(C){const j={};_.forEach(K=>{j[K[0]]=K[1]}),I=JSON.stringify(j)}else{const j=[];_.forEach(K=>{j.push(K[0]+":"+K[1])}),I=j.join(";")}return I}return null}(as)}if(C&&C.length){const as=[],Ma=function(A,w){const _=[];if(A>0&&w)for(let C=0;C<w.length;C++)if(!(w[C].parentLayerId>=0&&-1===_.indexOf(w[C].parentLayerId)&&w.some(function(I){return I.id===w[C].parentLayerId}))&&w[C].id>=0){let I=!0;const j=w[C].maxScale,K=w[C].minScale;(j>0||K>0)&&(j>0&&K>0?I=j<=A&&A<=K:j>0?I=j<=A:K>0&&(I=A<=K)),I&&_.push(w[C].id)}return _}((0,UN.yZ)({extent:Qt,width:mr,spatialReference:Qt.spatialReference}),C);for(let Sa=0;Sa<C.length;Sa++){const Na=C[Sa],Er=Na.id;if(!Na.subLayerIds&&Re&&-1!==Re.indexOf(Er)&&-1!==Ma.indexOf(Er)){const Gr={id:Er};Gr.source=Na.source;let Yr,Ls=null;if(ue&&ue.length){const aa=ue.filter(Lu=>Lu.id===Er)[0];Ls=aa&&aa.definitionExpression}Ls&&(Gr.definitionExpression=Ls),wt&&wt[Er]&&(Yr=wt[Er]),Yr&&(Gr.layerTimeOptions=Yr),as.push(Gr)}}let Fo=JSON.stringify(as);"[]"===Fo&&(Fo="[{}]"),Qr.dynamicLayers=Fo}return Qr}function qD(){return(qD=(0,Es.Z)(function*(A,w,_){const C=(w=KN(w)).geometry?[w.geometry]:[],I=(0,YD.en)(A);return I.path+="/identify",(0,lP.aX)(C).then(j=>{const K=VN(w,{geometry:j&&j[0]}),q=(0,YD.cv)(ji(fr(ji({},I.query),{f:"json"}),K)),ue=(0,YD.lA)(q,_);return(0,aP.default)(I.path,ue).then(WN)})})).apply(this,arguments)}function WN(A){const w=A.data;w.results=w.results||[];const _={results:[]};return _.results=w.results.map(C=>NN.fromJSON(C)),_}function KN(A){return XD.from(A)}var QN=N(79308);let Rb=class extends QN.Z{constructor(A){super(A),this.gdbVersion=null,this.url=null}execute(A,w){return this.gdbVersion&&!A.gdbVersion&&(A.gdbVersion=this.gdbVersion),function(A,w,_){return qD.apply(this,arguments)}(this.url,A,w)}};(0,At._)([(0,zt.Cb)()],Rb.prototype,"gdbVersion",void 0),(0,At._)([(0,zt.Cb)()],Rb.prototype,"url",void 0),Rb=(0,At._)([(0,br.j)("esri.tasks.IdentifyTask")],Rb);var Iy=Rb,Fb=N(4728),tl=N(7093),Oy=N(46882),os=N(26584),Ar=N(27e3),GN=N(59289),k3=N(35575),Bl=N(72392);const L3={widthBreakpoint:{getValue(A){const w=A.viewSize[0],_=A.breakpoints,C=this.values;return w<=_.xsmall?C.xsmall:w<=_.small?C.small:w<=_.medium?C.medium:w<=_.large?C.large:C.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(A){const w=A.viewSize[1],_=A.breakpoints,C=this.values;return w<=_.xsmall?C.xsmall:w<=_.small?C.small:w<=_.medium?C.medium:w<=_.large?C.large:C.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(A){const w=A.viewSize,I=this.values;return w[1]>=w[0]?I.portrait:I.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},eM={xsmall:544,small:768,medium:992,large:1200};function tM(A,w){return w?L3[A].valueToClassName[w].split(" "):[]}const ZN=A=>{let w=class extends A{constructor(..._){super(..._),this._breakpointsHandles=new Bl.Z,this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=eM}initialize(){this._breakpointsHandles.add((0,Ar.S1)(this,["breakpoints","size"],this._updateClassNames))}destroy(){this.destroyed||(this._removeActiveClassNames(),this._breakpointsHandles.destroy(),this._breakpointsHandles=null)}set breakpoints(_){if(_===this._get("breakpoints"))return;const C=function(A){return A&&A.xsmall<A.small&&A.small<A.medium&&A.medium<A.large}(_);if(!C){const I=JSON.stringify(eM,null,2);console.warn("provided breakpoints are not valid, using defaults:"+I)}this._set("breakpoints",ji({},_=C?_:eM))}_updateClassNames(){if(!this.container)return;const _=k3.Z.acquire(),C=k3.Z.acquire();let I,j=!1;for(I in L3){const K=this[I],q=L3[I].getValue({viewSize:this.size,breakpoints:this.breakpoints});K!==q&&(j=!0,this[I]=q,tM(I,K).forEach(ue=>C.push(ue)),tM(I,q).forEach(ue=>_.push(ue)))}j&&(this._applyClassNameChanges(_,C),k3.Z.release(_),k3.Z.release(C))}_applyClassNameChanges(_,C){const I=this.container;I&&(C.forEach(j=>I.classList.remove(j)),_.forEach(j=>I.classList.add(j)))}_removeActiveClassNames(){const _=this.container;if(!_)return;let C;for(C in L3)tM(C,this[C]).forEach(I=>_.classList.remove(I))}};return(0,At._)([(0,zt.Cb)()],w.prototype,"breakpoints",null),(0,At._)([(0,zt.Cb)()],w.prototype,"orientation",void 0),(0,At._)([(0,zt.Cb)()],w.prototype,"widthBreakpoint",void 0),(0,At._)([(0,zt.Cb)()],w.prototype,"heightBreakpoint",void 0),w=(0,At._)([(0,br.j)("esri.views.BreakpointsOwner")],w),w};var X0=N(40764),Y0=N(50618),no=N(61458),hP=(N(50645),N(62996)),dP=N(70257);let q0=class extends no.Z{constructor(){super(...arguments),this.items=new tl.Z,this._watchUpdatingTracking=new dP.t,this._callbacks=new Map,this._projector=(0,hP.E)(),this._hiddenProjector=(0,hP.E)()}get needsRender(){return this.items.length>0}initialize(){const A=document.createElement("div");A.className="esri-overlay-surface",this._set("surface",A),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),A.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange(this.items,w=>{w.added.map(_=>{const C=()=>_.render();this._callbacks.set(_,C),this._projector.append(this.surface,C)}),w.removed.map(_=>{const C=this._projector.detach(this._callbacks.get(_));this.surface.removeChild(C.domNode),this._callbacks.delete(_)})})}addItem(A){this.items.add(A)}removeItem(A){this.items.remove(A)}destroy(){this.items.removeAll(),this._callbacks.forEach(A=>this._projector.detach(A)),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(A){const w=this._hiddenSurface,_=this._hiddenProjector;let C=null;const I=()=>(C=A.render(),C);_.append(w,I),_.renderNow();const j={left:0,top:0,right:0,bottom:0};if(C&&C.domNode){const K=C.domNode.getBoundingClientRect();j.left=K.left,j.top=K.top,j.right=K.right,j.bottom=K.bottom}for(_.detach(I);w.firstChild;)w.removeChild(w.firstChild);return j}overlaps(A,w){const _=this.computeBoundingRect(A),C=this.computeBoundingRect(w);return Math.max(_.left,C.left)<=Math.min(_.right,C.right)&&Math.max(_.top,C.top)<=Math.min(_.bottom,C.bottom)}get hasVisibleItems(){return this.items.some(A=>A.visible)}renderCanvas(A){if(!this.items.some(_=>_.visible))return;const w=A.getContext("2d");w.save(),w.font=`10px ${getComputedStyle(this.surface).fontFamily}`,this.items.forEach(_=>{w.save(),_.renderCanvas(w),w.restore()}),w.restore()}};(0,At._)([(0,zt.Cb)({readOnly:!0})],q0.prototype,"surface",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],q0.prototype,"items",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],q0.prototype,"needsRender",null),(0,At._)([(0,zt.Cb)({readOnly:!0})],q0.prototype,"_watchUpdatingTracking",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0,aliasOf:"_watchUpdatingTracking.updating"})],q0.prototype,"updating",void 0),q0=(0,At._)([(0,br.j)("esri.views.overlay.ViewOverlay")],q0);var pP=q0,Py=(N(52515),N(17770)),fP=N(7074),ns=N(83960),Bd=N(66656),eu=N(6785),em=N(21286),ky=N(77275),JN=N(16730),iM=N(15348);const mP=["B","kB","MB","GB","TB"];var tm=N(80542),qN=N(87183),gP=N(67736),B3=N(88411),yP=N(36630),eU=N(66845),vP=N(46679);const _P=sa.Z.getLogger("esri.widgets.Feature.support.featureUtils"),iU=/href=(""|'')/gi,nU=/(\{([^\{\r\n]+)\})/g,rU=/\'/g,bP=/^\s*expression\//i,sU=/(\n)/gi,oU=/[\u00A0-\u9999<>\&]/gim,aU=/href\s*=\s*(?:\"([^\"]+)\"|\'([^\']+)\')/gi,lU=/^(?:mailto:|tel:)/,AP="relationships/",nM=(0,B3.Ze)("short-date-short-time");function wP(A){if(!(0,Wi.Wi)(A))return A.get("sourceLayer")||A.get("layer")}function R3(A,w){return rM.apply(this,arguments)}function rM(){return(rM=(0,Es.Z)(function*(A,w){return"function"==typeof A?A.call(null,w):A})).apply(this,arguments)}function CP(A=""){if(A)return!lU.test(A.trim().toLowerCase())}function xP(A,w){const _=function(A,w){if(!function(A){return bP.test(A)}(w)||!A)return null;const _=w.replace(bP,"").toLowerCase();let C;return A.some(I=>I.name.toLowerCase()===_&&(C=I,!0)),C}(w,null==A?void 0:A.fieldName);return _?_.title||null:A?A.label||A.fieldName:null}function F3(A,w){const _=sM(w,A);return _?_.name:A}function sM(A,w){return A&&"function"==typeof A.getField?A.getField(w):null}function EP(A){return`${A}`.trim()}function jg({attributes:A,globalAttributes:w,layer:_,text:C,expressionAttributes:I,fieldInfoMap:j}){return C?oM({formattedAttributes:w,template:yU(C,ji(ji(ji({},w),I),A),_),fieldInfoMap:j}):""}function oM({formattedAttributes:A,template:w,fieldInfoMap:_}){return EP(function(A){return A.replace(iU,"")}((0,ky.gx)((0,ky.gx)(w,C=>function(A,w){const _=w.get(A.toLowerCase());return`{${_&&_.fieldName||A}}`}(C,_)),A)))}function aM(A,w){return A.replace(nU,(_,C,I)=>{const j=sM(w,I);return j?`{${j.name}}`:C})}function yU(A,w,_){const C=aM(A,_);return C&&C.replace(aU,(I,j,K)=>function(A,w,_){const C=(w=EP(w))&&"{"!==w[0];return(0,ky.gx)(A,function(A,w=!1){const _=ji({},A);return Object.keys(_).forEach(C=>function(A,w,_=!1){const C=w[A];if("string"==typeof C){const I="%27",j=(_?encodeURIComponent(C):C).replace(rU,I);w[A]=j}}(C,_,w)),_}(_,C))}(I,j||K,w))}function DP(A,w){const C=w.fieldName,I=MP(w.fieldInfos,C),j=null==I?void 0:I.clone(),K=w.preventPlacesFormatting,q=w.layer,ue=sM(q,C);if(j&&"date"===(null==ue?void 0:ue.type)){const Je=j.format||new eU.Z;Je.dateFormat=Je.dateFormat||"short-date-short-time",Je.dateTimeFormatOptions=function(A){return"feature"===(null==A?void 0:A.type)}(q)&&q.datesInUnknownTimezone||function(A){return!(null==A||!A.layer)}(q)&&function(A){return"map-image"===(null==A?void 0:A.type)}(q.layer)&&q.layer.datesInUnknownTimezone?{timeZone:"UTC"}:null,j.format=Je}const Re=j&&j.format;return"string"==typeof(A=function(A,w){if("string"==typeof A&&w&&null==w.dateFormat&&(null!=w.places||null!=w.digitSeparator)){const _=Number(A);if(!isNaN(_))return _}return A}(A,Re))||null==A||null==Re?A:K?(0,iM.uf)(A,fr(ji({},(0,iM.sh)(Re)),{minimumFractionDigits:0,maximumFractionDigits:20})):Re.format(A)}function MP(A,w){if(!A||!A.length||!w)return;const _=w.toLowerCase();let C;return A.some(I=>!(!I.fieldName||I.fieldName.toLowerCase()!==_||(C=I,0))),C}function SP(A){const w=[];if(!A)return w;const{fieldInfos:_,content:C}=A;return _&&w.push(..._),C&&Array.isArray(C)&&C.forEach(I=>{if("fields"===I.type){const j=I&&I.fieldInfos;j&&w.push(...j)}}),w}function lM(A){return A.replace(oU,w=>`&#${w.charCodeAt(0)};`)}function N3(A){return"string"==typeof A?A.replace(sU,'<br class="esri-text-new-line" />'):A}function TP({fieldInfos:A,attributes:w,layer:_,graphic:C,fieldInfoMap:I,relatedInfos:j}){const K=ji({},w);return null==j||j.forEach(q=>function(A,w){A&&w&&(w.relatedFeatures&&w.relatedFeatures&&w.relatedFeatures.forEach(_=>IP({attributes:A,graphic:_,relatedInfo:w})),w.relatedStatsFeatures&&w.relatedStatsFeatures&&w.relatedStatsFeatures.forEach(_=>IP({attributes:A,graphic:_,relatedInfo:w})))}(K,q)),Object.keys(K).forEach(q=>{K[q]=function(A){const{value:w,fieldName:_,fieldInfos:C,fieldInfoMap:I,layer:j,graphic:K}=A;if(null==w)return"";const q=function({fieldName:A,value:w,graphic:_,layer:C}){if(im(A)||!C||"function"!=typeof C.getFieldDomain)return null;const I=C.getFieldDomain(A,{feature:_});return I&&"coded-value"===I.type?I.getName(w):null}({fieldName:_,value:w,graphic:K,layer:j});if(q)return q;const ue=function({fieldName:A,graphic:w,layer:_}){if(im(A)||!_||"function"!=typeof _.getFeatureType)return null;const{typeIdField:C}=_;if(!C||A!==C)return null;const I=_.getFeatureType(w);return I?I.name:null}({fieldName:_,graphic:K,layer:j});if(ue)return ue;if(I.get(_.toLowerCase()))return DP(w,{fieldInfos:C,fieldName:_,layer:j});const Re=j&&j.fieldsIndex;return Re&&Re.isDateField(_)?(0,B3.p6)(w,nM):N3(w)}({fieldName:q,fieldInfos:A,fieldInfoMap:I,layer:_,value:K[q],graphic:C})}),K}function MU(A,w){return cM.apply(this,arguments)}function cM(){return(cM=(0,Es.Z)(function*(A,w){var _,C;const{layer:I,graphic:j,outFields:K,objectIds:q,returnGeometry:ue,spatialReference:Re}=A,Je=q[0];if("number"!=typeof Je&&"string"!=typeof Je)return _P.warn("Could not query required fields for the specified feature. The feature's ID is invalid.",{layer:I,graphic:j,objectId:Je,requiredFields:K}),null;if(null==(_=I.capabilities)||null==(C=_.operations)||!C.supportsQuery)return _P.warn("The specified layer cannot be queried. The following fields will not be available.",{layer:I,graphic:j,requiredFields:K,returnGeometry:ue}),null;const wt=I.createQuery();return wt.objectIds=q,wt.outFields=null!=K&&K.length?K:[I.objectIdField],wt.returnGeometry=!!ue,wt.returnZ=!!ue,wt.returnM=!!ue,wt.outSpatialReference=Re,(yield I.queryFeatures(wt,w)).features[0]})).apply(this,arguments)}function SU(A){return uM.apply(this,arguments)}function uM(){return(uM=(0,Es.Z)(function*(A){var w;if(null==(w=A.expressionInfos)||!w.length)return!1;const _=yield(0,vP.LC)(),{arcadeUtils:{hasGeometryFunctions:C}}=_;return C(A)})).apply(this,arguments)}function hM(){return(hM=(0,Es.Z)(function*({graphic:A,popupTemplate:w,layer:_,spatialReference:C},I){if(!_||!w||("function"==typeof _.load&&(yield _.load(I)),!A.attributes))return;const j=A.attributes[_.objectIdField];if(null==j)return;const K=[j],q=yield w.getRequiredFields(_.fieldsIndex),ue=(0,yP.R9)(q,A),Re=ue?[]:q,Je=w.returnGeometry||(yield SU(w));if(ue&&!Je)return;const wt=yield MU({layer:_,graphic:A,outFields:Re,objectIds:K,returnGeometry:Je,spatialReference:C},I);wt&&(wt.geometry&&(A.geometry=wt.geometry),wt.attributes&&(A.attributes=ji(ji({},A.attributes),wt.attributes)))})).apply(this,arguments)}function im(A=""){return!!A&&-1!==A.indexOf(AP)}function IP({attributes:A,graphic:w,relatedInfo:_}){A&&w&&_&&Object.keys(w.attributes).forEach(C=>{const I=function(A){return A?`${AP}${A.layerId}/${A.fieldName}`:""}({layerId:_.relation.id.toString(),fieldName:C});A[I]=w.attributes[C]})}const OP=A=>{if(!A)return!1;const w=A.toUpperCase();return w.indexOf("CURRENT_TIMESTAMP")>-1||w.indexOf("CURRENT_DATE")>-1||w.indexOf("CURRENT_TIME")>-1},PP=({layer:A,method:w,query:_,definitionExpression:C})=>{var I,j;if(null==(I=A.capabilities)||null==(j=I.query)||!j.supportsCacheHint||"attachments"===w)return;const K=(0,Wi.pC)(_.where)&&_.where,q=(0,Wi.pC)(_.geometry)&&_.geometry;OP(C)||OP(K)||"extent"===(null==q?void 0:q.type)||"tile"===_.resultType||(_.cacheHint=!0)},kP={editing:!1,operations:{add:!0,update:!0,delete:!0}},LP=tl.Z.ofType(qN.Z);let Rd=class extends tm.r{constructor(A){super(A),this._getAttachmentsPromise=null,this._attachmentLayer=null,this.abilities=ji({},kP),this.activeAttachmentInfo=null,this.attachmentInfos=new LP,this.graphic=null,this.mode="view",this.handles.add([(0,Ar.S1)(this,"graphic",()=>this._graphicChanged())])}destroy(){this._attachmentLayer=null,this.graphic=null}castAbilities(A){return ji(ji({},kP),A)}get state(){return this._getAttachmentsPromise?"loading":this.graphic?"ready":"disabled"}get supportsResizeAttachments(){return this.get("graphic.layer.capabilities.operations.supportsResizeAttachments")||!1}getAttachments(){var A=this;return(0,Es.Z)(function*(){const{_attachmentLayer:w,attachmentInfos:_}=A;if(!w||"function"!=typeof w.queryAttachments)throw new os.Z("invalid-layer","getAttachments(): A valid layer is required.");const C=A._getFeatureId(),I=new gP.Z({objectIds:[C],returnMetadata:!0}),j=[],K=w.queryAttachments(I).then(ue=>ue[C]||j).catch(()=>j);A._getAttachmentsPromise=K,A.notifyChange("state");const q=yield K;return _.removeAll(),q.length&&_.addMany(q),A._getAttachmentsPromise=null,A.notifyChange("state"),q})()}addAttachment(A){var w=this;return(0,Es.Z)(function*(){const{_attachmentLayer:_,attachmentInfos:C,graphic:I,abilities:j}=w;if(!A)throw new os.Z("invalid-attachment","addAttachment(): An attachment is required.",{attachment:A});if(!j.operations.add)throw new os.Z("invalid-abilities","addAttachment(): add abilities are required.");if(!_||"function"!=typeof _.addAttachment)throw new os.Z("invalid-layer","addAttachment(): A valid layer is required.");const K=_.addAttachment(I,A).then(ue=>w._queryAttachment(ue.objectId)),q=yield K;return C.add(q),q})()}deleteAttachment(A){var w=this;return(0,Es.Z)(function*(){const{_attachmentLayer:_,attachmentInfos:C,graphic:I,abilities:j}=w;if(!A)throw new os.Z("invalid-attachment-info","deleteAttachment(): An attachmentInfo is required.",{attachmentInfo:A});if(!j.operations.delete)throw new os.Z("invalid-abilities","deleteAttachment(): delete abilities are required.");if(!_||"function"!=typeof _.deleteAttachments)throw new os.Z("invalid-layer","deleteAttachment(): A valid layer is required.");const K=_.deleteAttachments(I,[A.id]).then(()=>A),q=yield K;return C.remove(q),q})()}updateAttachment(A,w=this.activeAttachmentInfo){var _=this;return(0,Es.Z)(function*(){const{_attachmentLayer:C,attachmentInfos:I,graphic:j,abilities:K}=_;if(!A)throw new os.Z("invalid-attachment","updateAttachment(): An attachment is required.",{attachment:A});if(!w)throw new os.Z("invalid-attachment-info","updateAttachment(): An attachmentInfo is required.",{attachmentInfo:w});if(!K.operations.update)throw new os.Z("invalid-abilities","updateAttachment(): Update abilities are required.");const q=I.findIndex(Je=>Je===w);if(!C||"function"!=typeof C.updateAttachment)throw new os.Z("invalid-layer","updateAttachment(): A valid layer is required.");const ue=C.updateAttachment(j,w.id,A).then(Je=>_._queryAttachment(Je.objectId)),Re=yield ue;return I.splice(q,1,Re),Re})()}_queryAttachment(A){var w=this;return(0,Es.Z)(function*(){if(!A)throw new os.Z("invalid-attachment-id","Could not query attachment.");const{_attachmentLayer:_}=w,C=w._getFeatureId(),I=new gP.Z({objectIds:[C],attachmentsWhere:`AttachmentId=${A}`,returnMetadata:!0});return _.queryAttachments(I).then(j=>j[C][0])})()}_getFeatureId(){const{_attachmentLayer:A,graphic:w}=this;if(!A||!w)return null;const{objectIdField:_}=A,{attributes:C}=w;return C&&C[_]}_graphicChanged(){this.graphic&&(this._setAttachmentLayer(),this.getAttachments().catch(()=>{}))}_setAttachmentLayer(){const{graphic:A}=this,w=wP(A);this._attachmentLayer=w?"scene"===w.type&&(0,Wi.pC)(w.associatedLayer)?w.associatedLayer:w:null}};(0,At._)([(0,zt.Cb)()],Rd.prototype,"abilities",void 0),(0,At._)([(0,Bd.p)("abilities")],Rd.prototype,"castAbilities",null),(0,At._)([(0,zt.Cb)()],Rd.prototype,"activeAttachmentInfo",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0,type:LP})],Rd.prototype,"attachmentInfos",void 0),(0,At._)([(0,zt.Cb)({type:Fa.Z})],Rd.prototype,"graphic",void 0),(0,At._)([(0,zt.Cb)()],Rd.prototype,"mode",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],Rd.prototype,"state",null),(0,At._)([(0,zt.Cb)({readOnly:!0})],Rd.prototype,"supportsResizeAttachments",null),Rd=(0,At._)([(0,br.j)("esri.widgets.Attachments.AttachmentsViewModel")],Rd);var dM=Rd,BU=N(54346),hc=N(38570),tu=N(25552),Fn=N(94450);const BP={addButton:!0,addSubmitButton:!0,cancelAddButton:!0,cancelUpdateButton:!0,deleteButton:!0,errorMessage:!0,progressBar:!0,updateButton:!0},pM=window.CSS;let iu=class extends eu.Z{constructor(A,w){super(A,w),this.abilities=null,this.displayType="list",this.graphic=null,this.label=void 0,this.messages=null,this.messagesUnits=null,this.selectedFile=null,this.submitting=!1,this.viewModel=new dM,this.visibleElements=ji({},BP),this._supportsImageOrientation=pM&&pM.supports&&pM.supports("image-orientation","from-image"),this._addAttachmentForm=null,this._updateAttachmentForm=null}initialize(){this.own((0,Ar.on)(this,"viewModel.attachmentInfos","change",()=>this.scheduleRender()),(0,Ar.S1)(this,"viewModel.mode",()=>this._modeChanged()))}castVisibleElements(A){return ji(ji({},BP),A)}addAttachment(){const{_addAttachmentForm:A,viewModel:w}=this;return this._set("submitting",!0),this._set("error",null),w.addAttachment(A).then(_=>(this._set("submitting",!1),this._set("error",null),w.mode="view",_)).catch(_=>{throw this._set("submitting",!1),this._set("error",new os.Z("attachments:add-attachment",this.messages.addErrorMessage,_)),_})}deleteAttachment(A){const{viewModel:w}=this;return this._set("submitting",!0),this._set("error",null),w.deleteAttachment(A).then(_=>(this._set("submitting",!1),this._set("error",null),w.mode="view",_)).catch(_=>{throw this._set("submitting",!1),this._set("error",new os.Z("attachments:delete-attachment",this.messages.deleteErrorMessage,_)),_})}updateAttachment(){const{viewModel:A}=this,{_updateAttachmentForm:w}=this;return this._set("submitting",!0),this._set("error",null),A.updateAttachment(w).then(_=>(this._set("submitting",!1),this._set("error",null),A.mode="view",_)).catch(_=>{throw this._set("submitting",!1),this._set("error",new os.Z("attachments:update-attachment",this.messages.updateErrorMessage,_)),_})}render(){const{submitting:A,viewModel:w}=this,{state:_}=w;return(0,Fn.u)("div",{class:this.classes("esri-attachments","esri-widget")},A?this.renderProgressBar():null,"loading"===_?this.renderLoading():this.renderAttachments(),this.renderErrorMessage())}renderErrorMessage(){const{error:A,visibleElements:w}=this;return A&&w.errorMessage?(0,Fn.u)("div",{key:"error-message",class:"esri-attachments__error-message"},A.message):null}renderAttachments(){const{mode:A,activeAttachmentInfo:w}=this.viewModel;return"add"===A?this.renderAddForm():"edit"===A?this.renderDetailsForm(w):this.renderAttachmentContainer()}renderLoading(){return(0,Fn.u)("div",{class:"esri-attachments__loader-container",key:"loader"},(0,Fn.u)("div",{class:"esri-attachments__loader"}))}renderProgressBar(){return this.visibleElements.progressBar?(0,Fn.u)("div",{class:"esri-attachments__progress-bar",key:"progress-bar"}):null}renderAddForm(){const{submitting:A,selectedFile:w}=this,_=A||!w,C=this.visibleElements.cancelAddButton?(0,Fn.u)("button",{type:"button",bind:this,disabled:A,onclick:this._cancelForm,class:this.classes("esri-button","esri-button--tertiary","esri-button--small","esri-button--half",A&&"esri-button--disabled")},this.messages.cancel):null,I=this.visibleElements.addSubmitButton?(0,Fn.u)("button",{type:"submit",disabled:_,class:this.classes("esri-button","esri-button--secondary","esri-button--small","esri-button--half",{"esri-button--disabled":_})},this.messages.add):null,j=w?(0,Fn.u)("span",{key:"file-name",class:"esri-attachments__file-name"},w.name):null,K=(0,Fn.u)("form",{bind:this,afterCreate:hc.Se,afterRemoved:hc.pV,"data-node-ref":"_addAttachmentForm",onsubmit:this._submitAddAttachment},(0,Fn.u)("fieldset",{class:"esri-attachments__file-fieldset"},j,(0,Fn.u)("label",{class:this.classes("esri-attachments__file-label","esri-button","esri-button--secondary")},w?this.messages.changeFile:this.messages.selectFile,(0,Fn.u)("input",{class:"esri-attachments__file-input",type:"file",name:"attachment",bind:this,onchange:this._handleFileInputChange}))),I,C);return(0,Fn.u)("div",{key:"add-form-container",class:"esri-attachments__form-node"},K)}renderDetailsForm(A){const{visibleElements:w,viewModel:_,selectedFile:C,submitting:I}=this,{contentType:j,size:K,url:q}=A,{abilities:ue}=_,Re=I||!C,Je=ue.editing&&ue.operations.delete&&w.deleteButton?(0,Fn.u)("button",{key:"delete-button",type:"button",disabled:I,bind:this,onclick:gn=>this._submitDeleteAttachment(gn,A),class:this.classes("esri-button","esri-button--small","esri-button--tertiary","esri-attachments__delete-button",{"esri-button--disabled":I})},this.messages.delete):null,wt=ue.editing&&ue.operations.update&&w.updateButton?(0,Fn.u)("button",{disabled:Re,key:"update-button",type:"submit",class:this.classes("esri-button","esri-button--small","esri-button--third",{"esri-button--disabled":Re})},this.messages.update):null,Qt=this.visibleElements.cancelUpdateButton?(0,Fn.u)("button",{disabled:I,key:"cancel-button",type:"button",bind:this,onclick:this._cancelForm,class:this.classes("esri-button","esri-button--small","esri-button--tertiary","esri-button--third",{"esri-button--disabled":I})},this.messages.cancel):null,ri=C?(0,Fn.u)("span",{key:"file-name",class:"esri-attachments__file-name"},C.name):null,Ci=ue.editing&&ue.operations.update?(0,Fn.u)("fieldset",{key:"file",class:"esri-attachments__file-fieldset"},ri,(0,Fn.u)("label",{class:this.classes("esri-attachments__file-label","esri-button","esri-button--secondary")},this.messages.changeFile,(0,Fn.u)("input",{class:"esri-attachments__file-input",type:"file",name:"attachment",bind:this,onchange:this._handleFileInputChange}))):null,Gi=(0,Fn.u)("fieldset",{key:"size",class:"esri-attachments__metadata-fieldset"},(0,Fn.u)("label",null,function(A,w){let _=0===w?0:Math.floor(Math.log(w)/Math.log(1024));_=(0,em.uZ)(_,0,mP.length-1);const C=(0,iM.uf)(w/1024**_,{maximumFractionDigits:2});return(0,ky.gx)(A.units.bytes[mP[_]],{fileSize:C})}(this.messagesUnits,K))),fn=(0,Fn.u)("fieldset",{key:"content-type",class:"esri-attachments__metadata-fieldset"},(0,Fn.u)("label",null,j)),Mn=(0,Fn.u)("form",{bind:this,afterCreate:hc.Se,afterRemoved:hc.pV,"data-node-ref":"_updateAttachmentForm",onsubmit:this._submitUpdateAttachment},(0,Fn.u)("div",{class:"esri-attachments__metadata"},Gi,fn),Ci,(0,Fn.u)("div",{class:"esri-attachments__actions"},Je,Qt,wt));return(0,Fn.u)("div",{key:"edit-form-container",class:"esri-attachments__form-node"},(0,Fn.u)("a",{class:"esri-attachments__item-link",href:q,rel:"noreferrer",target:"_blank"},this.renderImageMask({attachmentInfo:A,size:400}),(0,Fn.u)("div",{class:"esri-attachments__item-link-overlay"},(0,Fn.u)("span",{class:"esri-attachments__item-link-overlay-icon"},(0,Fn.u)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},(0,Fn.u)("path",{d:"M28 13h1v16H3V3h16v1H4v24h24zm-5-9h4.293L15.646 15.638l.707.707L28 4.707V9h1V3h-6z"}),(0,Fn.u)("path",{fill:"none",d:"M0 0h32v32H0z"}))))),Mn)}renderImageMask({attachmentInfo:A,size:w}){const{supportsResizeAttachments:_}=this.viewModel,{contentType:C,name:I,url:j}=A,K=_&&function(A){const w=A.toLowerCase();return"image/bmp"===w||"image/emf"===w||"image/exif"===w||"image/gif"===w||"image/x-icon"===w||"image/jpeg"===w||"image/png"===w||"image/tiff"===w||"image/x-wmf"===w}(C),q=this._getCSSTransform(A,K),ue=q?{transform:q,"image-orientation":"none"}:{},Re=-1===j.indexOf("?")?"?":"&",Je=K?`${j}${Re}w=${w}`:function(A){const w=(0,BU.V)("esri/themes/base/images/files/");return A?"text/plain"===A?`${w}text-32.svg`:"application/pdf"===A?`${w}pdf-32.svg`:"text/csv"===A?`${w}csv-32.svg`:"application/gpx+xml"===A?`${w}gpx-32.svg`:"application/x-dwf"===A?`${w}cad-32.svg`:"application/postscript"===A||"application/json"===A||"text/xml"===A||"model/vrml"===A?`${w}code-32.svg`:"application/x-zip-compressed"===A||"application/x-7z-compressed"===A||"application/x-gzip"===A||"application/x-tar"===A||"application/x-gtar"===A||"application/x-bzip2"===A||"application/gzip"===A||"application/x-compress"===A||"application/x-apple-diskimage"===A||"application/x-rar-compressed"===A||"application/zip"===A?`${w}zip-32.svg`:-1!==A.indexOf("image/")?`${w}image-32.svg`:-1!==A.indexOf("audio/")?`${w}sound-32.svg`:-1!==A.indexOf("video/")?`${w}video-32.svg`:-1!==A.indexOf("msexcel")||-1!==A.indexOf("ms-excel")||-1!==A.indexOf("spreadsheetml")?`${w}excel-32.svg`:-1!==A.indexOf("msword")||-1!==A.indexOf("ms-word")||-1!==A.indexOf("wordprocessingml")?`${w}word-32.svg`:-1!==A.indexOf("powerpoint")||-1!==A.indexOf("presentationml")?`${w}report-32.svg`:`${w}generic-32.svg`:`${w}generic-32.svg`}(C),Qt={"esri-attachments__image--resizable":_};return(0,Fn.u)("div",{class:this.classes({"esri-attachments__item-mask--icon":!K},"esri-attachments__item-mask")},(0,Fn.u)("img",{styles:ue,alt:I,src:Je,class:this.classes(Qt,"esri-attachments__image")}))}renderAttachmentInfo({attachmentInfo:A,displayType:w}){const{viewModel:_}=this,{abilities:C}=_,{name:I,url:j}=A,K=this.renderImageMask({attachmentInfo:A,size:"list"===w?48:400}),q=C.editing?(0,Fn.u)("span",{"aria-hidden":"true",class:this.classes("esri-attachments__item-chevron-icon",(0,hc.dZ)(this.container)?"esri-icon-left":"esri-icon-right")}):null,ue=[K,(0,Fn.u)("label",{class:"esri-attachments__label"},(0,Fn.u)("span",{class:"esri-attachments__filename"},I||this.messages.noTitle),q)],Re=C.editing?(0,Fn.u)("button",{key:"details-button",bind:this,class:"esri-attachments__item-button",title:this.messages.attachmentDetails,"aria-label":this.messages.attachmentDetails,"data-attachment-info-id":A.id,onclick:()=>this._startEditAttachment(A),type:"button"},ue):(0,Fn.u)("a",{key:"details-link",class:"esri-attachments__item-button",href:j,target:"_blank"},ue);return(0,Fn.u)("li",{class:"esri-attachments__item",key:A},Re)}renderAttachmentContainer(){const{displayType:A,viewModel:w,visibleElements:_}=this,{attachmentInfos:C,abilities:I}=w,j=C&&C.length,K={"esri-attachments__container--list":"preview"!==A,"esri-attachments__container--preview":"preview"===A},q=I.editing&&I.operations.add&&_.addButton?(0,Fn.u)("button",{bind:this,onclick:()=>this._startAddAttachment(),class:this.classes("esri-button","esri-button--tertiary","esri-attachments__add-attachment-button"),type:"button"},(0,Fn.u)("span",{"aria-hidden":"true",class:this.classes("esri-attachments__item-add-icon","esri-icon-plus")}),this.messages.add):null,ue=j?(0,Fn.u)("ul",{class:"esri-attachments__items"},C.toArray().map(Re=>this.renderAttachmentInfo({attachmentInfo:Re,displayType:A}))):(0,Fn.u)("div",{class:"esri-widget__content--empty"},this.messages.noAttachments);return(0,Fn.u)("div",{key:"attachments-container",class:this.classes("esri-attachments__container",K)},ue,q)}_modeChanged(){this._set("error",null),this._set("selectedFile",null)}_handleFileInputChange(A){const w=A.target,_=w&&w.files&&w.files.item(0);this._set("selectedFile",_)}_submitDeleteAttachment(A,w){A.preventDefault(),this.deleteAttachment(w)}_submitAddAttachment(A){A.preventDefault(),this.addAttachment()}_submitUpdateAttachment(A){A.preventDefault(),this.updateAttachment()}_startEditAttachment(A){const{viewModel:w}=this;w.activeAttachmentInfo=A,w.mode="edit"}_startAddAttachment(){this.viewModel.mode="add"}_cancelForm(A){A.preventDefault(),this.viewModel.mode="view"}_getCSSTransform(A,w){const{orientationInfo:_}=A;return!this._supportsImageOrientation&&w&&_?[_.rotation?`rotate(${_.rotation}deg)`:"",_.mirrored?"scaleX(-1)":""].join(" "):""}};(0,At._)([(0,ns.B)("viewModel.abilities")],iu.prototype,"abilities",void 0),(0,At._)([(0,zt.Cb)()],iu.prototype,"displayType",void 0),(0,At._)([(0,ns.B)("viewModel.graphic")],iu.prototype,"graphic",void 0),(0,At._)([(0,zt.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],iu.prototype,"label",void 0),(0,At._)([(0,zt.Cb)(),(0,tu.H)("esri/widgets/Attachments/t9n/Attachments")],iu.prototype,"messages",void 0),(0,At._)([(0,zt.Cb)(),(0,tu.H)("esri/core/t9n/Units")],iu.prototype,"messagesUnits",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],iu.prototype,"selectedFile",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],iu.prototype,"submitting",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],iu.prototype,"error",void 0),(0,At._)([(0,zt.Cb)({type:dM})],iu.prototype,"viewModel",void 0),(0,At._)([(0,zt.Cb)()],iu.prototype,"visibleElements",void 0),(0,At._)([(0,Bd.p)("visibleElements")],iu.prototype,"castVisibleElements",null),iu=(0,At._)([(0,br.j)("esri.widgets.Attachments")],iu);var NU=iu;let Nb=class extends dM{constructor(A){super(A),this.description=null,this.title=null}};(0,At._)([(0,zt.Cb)()],Nb.prototype,"description",void 0),(0,At._)([(0,zt.Cb)()],Nb.prototype,"title",void 0),Nb=(0,At._)([(0,br.j)("esri.widgets.Feature.FeatureAttachments.FeatureAttachmentsViewModel")],Nb);var fM=Nb;function mM(A,w){const _=`h${(0,em.uZ)(Math.ceil(A.level),1,6)}`;return delete A.level,(0,Fn.u)(_,fr(ji({},A),{class:(0,hc.Sh)("esri-widget__heading",A.class)}),w)}let By=class extends eu.Z{constructor(A,w){super(A,w),this.description=null,this.headingLevel=2,this.title=null}render(){return(0,Fn.u)("div",{class:"esri-feature-element-info"},this.renderTitle(),this.renderDescription())}renderTitle(){const{title:A}=this;return A?(0,Fn.u)(mM,{level:this.headingLevel,class:"esri-feature-element-info__title"},A):null}renderDescription(){const{description:A}=this;return A?(0,Fn.u)("div",{key:"description",class:"esri-feature-element-info__description"},A):null}};(0,At._)([(0,zt.Cb)()],By.prototype,"description",void 0),(0,At._)([(0,zt.Cb)()],By.prototype,"headingLevel",void 0),(0,At._)([(0,zt.Cb)()],By.prototype,"title",void 0),By=(0,At._)([(0,br.j)("esri.widgets.Feature.support.FeatureElementInfo")],By);var yM=By;let kp=class extends eu.Z{constructor(A,w){super(A,w),this._featureElementInfo=null,this.attachmentsWidget=new NU,this.description=null,this.displayType=null,this.graphic=null,this.headingLevel=2,this.title=null,this.viewModel=new fM}initialize(){this._featureElementInfo=new yM,(0,Ar.S1)(this,["viewModel.description","viewModel.title","headingLevel"],()=>this._setupFeatureElementInfo()),(0,Ar.S1)(this,"viewModel.graphic",A=>this.attachmentsWidget.graphic=A)}destroy(){this.attachmentsWidget.destroy(),this._featureElementInfo.destroy()}render(){var A;const{attachmentsWidget:w}=this;return(0,Fn.u)("div",{class:"esri-feature-attachments"},null==(A=this._featureElementInfo)?void 0:A.render(),null==w?void 0:w.render())}_setupFeatureElementInfo(){const{description:A,title:w,headingLevel:_}=this;this._featureElementInfo.set({description:A,title:w,headingLevel:_})}};(0,At._)([(0,zt.Cb)({readOnly:!0})],kp.prototype,"attachmentsWidget",void 0),(0,At._)([(0,ns.B)("viewModel.description")],kp.prototype,"description",void 0),(0,At._)([(0,ns.B)("attachmentsWidget.displayType")],kp.prototype,"displayType",void 0),(0,At._)([(0,ns.B)("viewModel.graphic")],kp.prototype,"graphic",void 0),(0,At._)([(0,zt.Cb)()],kp.prototype,"headingLevel",void 0),(0,At._)([(0,ns.B)("viewModel.title")],kp.prototype,"title",void 0),(0,At._)([(0,zt.Cb)({type:fM})],kp.prototype,"viewModel",void 0),kp=(0,At._)([(0,br.j)("esri.widgets.Feature.FeatureAttachments")],kp);var HU=kp;let nm=class extends((0,tm.p)(no.Z)){constructor(A){super(A),this._loadingPromise=null,this.created=null,this.creator=null,this.destroyer=null,this.graphic=null,this.handles.add((0,Ar.S1)(this,"creator",w=>{this._destroyContent(),this._createContent(w)}))}destroy(){this._destroyContent()}get state(){return this._loadingPromise?"loading":"ready"}_destroyContent(){const{created:A,graphic:w,destroyer:_}=this;A&&(R3(_,{graphic:w}).catch(()=>null),this._set("created",null))}_createContent(A){var w=this;return(0,Es.Z)(function*(){const{graphic:_}=w,C=R3(A,{graphic:_}).catch(()=>null);w._loadingPromise=C,w.notifyChange("state");const I=yield C;C===w._loadingPromise&&(w._loadingPromise=null,w.notifyChange("state"),w._set("created",I))})()}};(0,At._)([(0,zt.Cb)({readOnly:!0})],nm.prototype,"created",void 0),(0,At._)([(0,zt.Cb)()],nm.prototype,"creator",void 0),(0,At._)([(0,zt.Cb)()],nm.prototype,"destroyer",void 0),(0,At._)([(0,zt.Cb)({type:Fa.Z})],nm.prototype,"graphic",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],nm.prototype,"state",null),nm=(0,At._)([(0,br.j)("esri.widgets.Feature.FeatureContent.FeatureContentViewModel")],nm);var vM=nm,_M=N(40669);let Ry=class extends eu.Z{constructor(A,w){super(A,w),this.creator=null,this.graphic=null,this.viewModel=null,this._addTargetToAnchors=_=>{Array.from(_.querySelectorAll("a")).forEach(C=>{CP(C.href)&&!C.hasAttribute("target")&&C.setAttribute("target","_blank")})}}renderLoading(){return(0,Fn.u)("div",{class:"esri-feature-content__loader-container",key:"loader"},(0,Fn.u)("div",{class:"esri-feature-content__loader"}))}renderCreated(){var A;const w=null==(A=this.viewModel)?void 0:A.created;return w?w instanceof HTMLElement?(0,Fn.u)("div",{key:w,bind:w,afterCreate:this._attachToNode}):(0,_M.Qd)(w)?(0,Fn.u)("div",{key:w},!w.destroyed&&w.render()):(0,Fn.u)("div",{key:w,innerHTML:w,afterCreate:this._addTargetToAnchors}):null}render(){var A;const w=null==(A=this.viewModel)?void 0:A.state;return(0,Fn.u)("div",{class:"esri-feature-content"},"loading"===w?this.renderLoading():this.renderCreated())}_attachToNode(A){A.appendChild(this)}};(0,At._)([(0,ns.B)("viewModel.creator")],Ry.prototype,"creator",void 0),(0,At._)([(0,ns.B)("viewModel.graphic")],Ry.prototype,"graphic",void 0),(0,At._)([(0,zt.Cb)({type:vM})],Ry.prototype,"viewModel",void 0),Ry=(0,At._)([(0,br.j)("esri.widgets.Feature.FeatureContent")],Ry);var AM=Ry,VU=N(38439),RP=N(25621);let Ef=class extends no.Z{constructor(A){super(A),this.attributes=null,this.expressionInfos=null,this.description=null,this.fieldInfos=null,this.title=null}get formattedFieldInfos(){const{expressionInfos:A,fieldInfos:w}=this,_=[];return null==w||w.forEach(C=>{if(C.hasOwnProperty("visible")&&!C.visible)return;const I=C.clone();I.label=xP(I,A),_.push(I)}),_}};(0,At._)([(0,zt.Cb)()],Ef.prototype,"attributes",void 0),(0,At._)([(0,zt.Cb)({type:[VU.Z]})],Ef.prototype,"expressionInfos",void 0),(0,At._)([(0,zt.Cb)()],Ef.prototype,"description",void 0),(0,At._)([(0,zt.Cb)({type:[RP.Z]})],Ef.prototype,"fieldInfos",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],Ef.prototype,"formattedFieldInfos",null),(0,At._)([(0,zt.Cb)()],Ef.prototype,"title",void 0),Ef=(0,At._)([(0,br.j)("esri.widgets.Feature.FeatureFields.FeatureFieldsViewModel")],Ef);var wM=Ef;const zU=[{pattern:/^\s*(https?:\/\/([^\s]+))\s*$/i,target:"_blank",label:"{messages.view}"},{pattern:/^\s*(tel:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(mailto:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(arcgis-appstudio-player:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"App Studio Player"},{pattern:/^\s*(arcgis-collector:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Collector"},{pattern:/^\s*(arcgis-explorer:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Explorer"},{pattern:/^\s*(arcgis-navigator:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Navigator"},{pattern:/^\s*(arcgis-survey123:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Survey123"},{pattern:/^\s*(arcgis-trek2there:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Trek2There"},{pattern:/^\s*(arcgis-workforce:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Workforce"},{pattern:/^\s*(iform:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"iForm"},{pattern:/^\s*(flow:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"FlowFinity"},{pattern:/^\s*(lfmobile:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Laserfische"},{pattern:/^\s*(mspbi:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Microsoft Power Bi"}];let Fd=class extends eu.Z{constructor(A,w){super(A,w),this._featureElementInfo=null,this.attributes=null,this.description=null,this.expressionInfos=null,this.fieldInfos=null,this.title=null,this.viewModel=new wM,this.messages=null,this.messagesURIUtils=null}initialize(){this._featureElementInfo=new yM,(0,Ar.S1)(this,["viewModel.description","viewModel.title"],()=>this._setupFeatureElementInfo())}destroy(){this._featureElementInfo.destroy()}renderFieldInfo(A,w){const{attributes:_}=this.viewModel,C=A.fieldName,I=A.label||C,j=_?null==_[C]?"":_[C]:"",K=!(!A.format||!A.format.dateFormat),q="number"!=typeof j||K?function(A,w){if("string"!=typeof w||!w)return w;const _=function(A){let w=null;return zU.some(_=>(_.pattern.test(A)&&(w=_),!!w)),w}(w);if(!_)return w;const C=w.match(_.pattern),j=(0,ky.gx)((0,ky.gx)(_.label,{messages:A,hierPart:C&&C[2]}),{appName:_.appName});return w.replace(_.pattern,`<a${_.target?` target="${_.target}"`:""} href="$1"${"_blank"===_.target?' rel="noreferrer"':""}>${j}</a>`)}(this.messagesURIUtils,j):this._forceLTR(j),ue={"esri-feature-fields__field-data--date":K};return(0,Fn.u)("tr",{key:`fields-element-info-row-${C}-${w}`},(0,Fn.u)("th",{key:`fields-element-info-row-header-${C}-${w}`,class:"esri-feature-fields__field-header",innerHTML:I}),(0,Fn.u)("td",{key:`fields-element-info-row-data-${C}-${w}`,class:this.classes("esri-feature-fields__field-data",ue),innerHTML:q}))}renderFields(){const{formattedFieldInfos:A}=this.viewModel;return null!=A&&A.length?(0,Fn.u)("table",{class:"esri-widget__table",summary:this.messages.fieldsSummary},(0,Fn.u)("tbody",null,A.map((w,_)=>this.renderFieldInfo(w,_)))):null}render(){var A;return(0,Fn.u)("div",{class:"esri-feature-fields"},null==(A=this._featureElementInfo)?void 0:A.render(),this.renderFields())}_setupFeatureElementInfo(){const{description:A,title:w}=this;this._featureElementInfo.set({description:A,title:w})}_forceLTR(A){return`&lrm;${A}`}};(0,At._)([(0,ns.B)("viewModel.attributes")],Fd.prototype,"attributes",void 0),(0,At._)([(0,ns.B)("viewModel.description")],Fd.prototype,"description",void 0),(0,At._)([(0,ns.B)("viewModel.expressionInfos")],Fd.prototype,"expressionInfos",void 0),(0,At._)([(0,ns.B)("viewModel.fieldInfos")],Fd.prototype,"fieldInfos",void 0),(0,At._)([(0,ns.B)("viewModel.title")],Fd.prototype,"title",void 0),(0,At._)([(0,zt.Cb)({type:wM})],Fd.prototype,"viewModel",void 0),(0,At._)([(0,zt.Cb)(),(0,tu.H)("esri/widgets/Feature/t9n/Feature")],Fd.prototype,"messages",void 0),(0,At._)([(0,zt.Cb)(),(0,tu.H)("esri/widgets/support/t9n/uriUtils")],Fd.prototype,"messagesURIUtils",void 0),Fd=(0,At._)([(0,br.j)("esri.widgets.Feature.FeatureFields")],Fd);var QU=Fd,GU=N(77891),Fs=N(10699),$U=N(67010),ZU=N(60776);const FP=sa.Z.getLogger("esri.widgets.Feature.support.relatedFeatureUtils"),NP=new Map;function jb(A){if(!im(A))return null;const[w,_]=A.split("/").slice(1);return{layerId:w,fieldName:_}}function YU({originRelationship:A,relationships:w,layerId:_}){let C;return w&&w.some(I=>(`${I.relatedTableId}`===_&&I.id===A.id&&(C=I),!!C)),C}function qU(A,w){const _=w.toLowerCase();for(const C in A)if(C.toLowerCase()===_)return A[C];return null}function ij(A,w,_,C){const I=new $U.Z;return I.outFields=["*"],I.relationshipId="number"==typeof w.id?w.id:parseInt(w.id,10),I.objectIds=[A.attributes[_.objectIdField]],_.queryRelatedFeatures(I,C)}function nj(A,w,_){let C=0;const I=[];for(;C<w.length;)I.push(`${A} IN (${w.slice(C,_+C)})`),C+=_;return I.join(" OR ")}function CM(){return(CM=(0,Es.Z)(function*(A,w,_,C){const I=_.layerId.toString(),{layerInfo:j,queryTask:K,relation:q,relatedFields:ue,outStatistics:Re}=w,Je=YU({originRelationship:q,relationships:j.relationships,layerId:I});if(Je.relationshipTableId&&Je.keyFieldInRelationshipTable){const Qt=(yield ij(A,Je,_,C))[A.attributes[_.objectIdField]];if(!Qt)return null;const ri=Qt.features.map(Ci=>Ci.attributes[j.objectIdField]);if((null==Re?void 0:Re.length)>0&&j.supportsStatistics){const Ci=new Ug.Z;Ci.where=nj(j.objectIdField,ri,1e3),Ci.outFields=ue,Ci.outStatistics=Re;const Gi={features:Promise.resolve(Qt),statsFeatures:K.execute(Ci)};return(0,Fs.as)(Gi)}}const wt=null==Je?void 0:Je.keyField;if(wt){const Qt=(0,yP.H7)(cj(j.fields,wt)),ri=qU(A.attributes,q.keyField),Ci=Qt?`${wt}=${ri}`:`${wt}='${ri}'`,Gi=K.execute(new Ug.Z({where:Ci,outFields:w.relatedFields}),C),fn=w.outStatistics&&w.outStatistics.length>0&&j.supportsStatistics?K.execute(new Ug.Z({where:Ci,outFields:w.relatedFields,outStatistics:w.outStatistics}),C):null,Mn={features:Gi};return fn&&(Mn.statsFeatures=fn),(0,Fs.as)(Mn)}return null})).apply(this,arguments)}function cj(A,w){if(null!=A){w=w.toLowerCase();for(const _ of A)if(_&&_.name.toLowerCase()===w)return _}return null}let dc=class extends no.Z{constructor(A){super(A),this.activeMediaInfoIndex=0,this.attributes=null,this.description=null,this.fieldInfoMap=null,this.formattedAttributes=null,this.expressionAttributes=null,this.layer=null,this.mediaInfos=null,this.popupTemplate=null,this.relatedInfos=null,this.title=null}get activeMediaInfo(){return this.formattedMediaInfos[this.activeMediaInfoIndex]||null}get formattedMediaInfos(){return this._formatMediaInfos()||[]}get formattedMediaInfoCount(){return this.formattedMediaInfos.length}setActiveMedia(A){this._setContentElementMedia(A)}next(){this._pageContentElementMedia(1)}previous(){this._pageContentElementMedia(-1)}_setContentElementMedia(A){const{formattedMediaInfoCount:w}=this;this.activeMediaInfoIndex=(A+w)%w}_pageContentElementMedia(A){const{activeMediaInfoIndex:w}=this;this._setContentElementMedia(w+A)}_formatMediaInfos(){const{attributes:A,mediaInfos:w,formattedAttributes:_,expressionAttributes:C,fieldInfoMap:I,layer:j}=this;return null==w?void 0:w.map(K=>{if(!K)return null;if(K.title=jg({attributes:A,fieldInfoMap:I,globalAttributes:_,expressionAttributes:C,layer:j,text:K.title}),K.caption=jg({attributes:A,fieldInfoMap:I,globalAttributes:_,expressionAttributes:C,layer:j,text:K.caption}),K.altText=jg({attributes:A,fieldInfoMap:I,globalAttributes:_,expressionAttributes:C,layer:j,text:K.altText}),"image"===K.type){const{value:q}=K;return this._setImageValue({value:q,formattedAttributes:_,layer:j}),K.value.sourceURL?K:void 0}if("pie-chart"===K.type||"line-chart"===K.type||"column-chart"===K.type||"bar-chart"===K.type){const{value:q}=K;return this._setChartValue({value:q,chartType:K.type,attributes:A,formattedAttributes:_,layer:j}),K}return null}).filter(Boolean)}_setImageValue(A){const{fieldInfoMap:w}=this,{value:_,formattedAttributes:C,layer:I}=A,{linkURL:j,sourceURL:K}=_;if(K){const q=aM(K,I);_.sourceURL=oM({formattedAttributes:C,template:q,fieldInfoMap:w})}if(j){const q=aM(j,I);_.linkURL=oM({formattedAttributes:C,template:q,fieldInfoMap:w})}}_setChartValue(A){const{value:w,attributes:_,formattedAttributes:C,chartType:I,layer:j}=A,{popupTemplate:K,relatedInfos:q}=this,{fields:ue,normalizeField:Re}=w;if(w.fields=function(A,w){return A&&A.map(_=>F3(_,w))}(ue,j),Re&&(w.normalizeField=F3(Re,j)),!ue.some(wt=>!!(null!=C[wt]||im(wt)&&q.size)))return;const Je=null==K?void 0:K.fieldInfos;ue.forEach(wt=>{if(im(wt))return void(w.series=[...w.series,...this._getRelatedChartInfos({fieldInfos:Je,fieldName:wt,formattedAttributes:C,chartType:I,value:w})]);const Qt=this._getChartOption({value:w,attributes:_,chartType:I,formattedAttributes:C,fieldName:wt,fieldInfos:Je});w.series.push(Qt)})}_getRelatedChartInfos(A){var w;const{fieldInfos:_,fieldName:C,formattedAttributes:I,chartType:j,value:K}=A,q=[],ue=jb(C),{layerId:Re,fieldName:Je}=ue,wt=null==(w=this.relatedInfos)?void 0:w.get(Re.toString());if(!wt)return q;const{relatedFeatures:Qt,relation:ri}=wt;if(!ri||!Qt)return q;const{cardinality:Ci}=ri;return Qt.forEach(Gi=>{const{attributes:fn}=Gi;fn&&Object.keys(fn).forEach(Mn=>{Mn===Je&&q.push(this._getChartOption({value:K,attributes:fn,formattedAttributes:I,fieldName:C,chartType:j,relatedFieldName:Mn,fieldInfos:_}))})}),"one-to-many"===Ci||"many-to-many"===Ci?q:[q[0]]}_getTooltip({label:A,value:w,chartType:_}){return"pie-chart"===_?A:`${A}: ${w}`}_getChartOption(A){var w;const{value:_,attributes:C,formattedAttributes:I,fieldName:j,relatedFieldName:K,fieldInfos:q,chartType:ue}=A,{layer:Re}=this,{normalizeField:Je,tooltipField:wt}=_,Qt=Je?im(Je)?C[jb(Je).fieldName]:C[Je]:null,ri=K&&void 0!==C[K]?C[K]:void 0!==C[j]?C[j]:I[j],Ci=void 0===ri?null:ri&&Qt?ri/Qt:ri,Gi=new GU.Z({value:Ci});if(im(j)){const qn=jb(j),mr=jb(wt),Mr=mr?mr.fieldName:null,Qr=DP(Ci,{fieldInfos:q,fieldName:K,layer:Re,preventPlacesFormatting:!!Qt}),ws=qn?qn.label||qn.fieldName:K;return Gi.tooltip=this._getTooltip({label:Mr&&void 0!==C[Mr]?C[Mr]:ws,value:Qr,chartType:ue}),Gi}const fn=MP(q,j),Mn=F3(j,Re),gn=wt&&void 0!==I[wt]?I[wt]:xP(fn||new RP.Z({fieldName:Mn}),null==(w=this.popupTemplate)?void 0:w.expressionInfos);return Gi.tooltip=this._getTooltip({label:gn,value:I[Mn],chartType:ue}),Gi}};(0,At._)([(0,zt.Cb)()],dc.prototype,"activeMediaInfoIndex",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],dc.prototype,"activeMediaInfo",null),(0,At._)([(0,zt.Cb)()],dc.prototype,"attributes",void 0),(0,At._)([(0,zt.Cb)()],dc.prototype,"description",void 0),(0,At._)([(0,zt.Cb)()],dc.prototype,"fieldInfoMap",void 0),(0,At._)([(0,zt.Cb)()],dc.prototype,"formattedAttributes",void 0),(0,At._)([(0,zt.Cb)()],dc.prototype,"expressionAttributes",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],dc.prototype,"formattedMediaInfos",null),(0,At._)([(0,zt.Cb)()],dc.prototype,"layer",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],dc.prototype,"formattedMediaInfoCount",null),(0,At._)([(0,zt.Cb)()],dc.prototype,"mediaInfos",void 0),(0,At._)([(0,zt.Cb)()],dc.prototype,"popupTemplate",void 0),(0,At._)([(0,zt.Cb)()],dc.prototype,"relatedInfos",void 0),(0,At._)([(0,zt.Cb)()],dc.prototype,"title",void 0),dc=(0,At._)([(0,br.j)("esri.widgets.Feature.FeatureMedia.FeatureMediaViewModel")],dc);var Fy=dc,UP=["#ffffff","#858585","#ffbebe","#ffebbe","#ffebaf","#ffffbe","#e9ffbe","#d3ffbe","#beffe8","#bee8ff","#bed2ff","#e8beff","#ffbee8","#ebebeb","#707070","#ff7f7f","#ffa77f","#ffd37f","#ffff73","#d1ff73","#a3ff73","#73ffdf","#73dfff","#73b2ff","#df73ff","#ff73df","#d6d6d6","#5c5c5c","#ff0000","#ff5500","#ffaa00","#ffff00","#aaff00","#55ff00","#00ffc5","#00c5ff","#0070ff","#c500ff","#ff00c5","#c2c2c2","#474747","#e60000","#e64c00","#e69800","#e6e600","#98e600","#4ce600","#00e6a9","#00a9e6","#005ce6","#a900e6","#e600a9","#adadad","#242424","#a80000","#a83800","#a87000","#a8a800","#70a800","#38a800","#00a884","#0084a8","#004da8","#8400a8","#a80084","#999999","#1a1a1a","#730000","#732600","#734c00","#737300","#4c7300","#267300","#00734c","#004c73","#002673","#4c0073","#73004"],hj=[{name:"default",colors:[].concat(UP.slice(30,39),UP.slice(28,30).reverse())},{name:"cat-dark",colors:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e","#f789d8","#b7814a","#3caf99","#6b6bd6","#b54779","#7f7f7f"]},{name:"tropical-bliss",colors:["#fce138","#ff9399","#fcd27e","#f1983c","#a553b7","#b1a9d0","#6ecffc","#4c81cd","#fc6f84","#fc3e5a","#6af689","#48885c"]},{name:"desert-blooms",colors:["#102432","#144d59","#ffc730","#ed9310","#a64f1b","#661510","#d9351a","#b31515","#4a0932","#8c213f","#18382e","#2c6954"]},{name:"under-the-sea",colors:["#bf9727","#607100","#00734c","#704489","#01acca","#024e76","#f09100","#ea311f","#c6004b","#7570b3","#666666","#333333"]},{name:"vibrant-rainbow",colors:["#fffb00","#f5cb11","#9fd40c","#46e39c","#32b8a6","#7ff2fa","#ac08cc","#dd33ff","#eb7200","#e8a784","#bf2e2e","#6c7000"]},{name:"ocean-bay",colors:["#191921","#11495c","#78b1c2","#454f4b","#8f8f82","#9be0c0","#87b051","#f7ec88","#ebdcc1","#dbb658","#c43541","#75351e"]},{name:"prairie-summer",colors:["#332424","#751555","#d47013","#d68989","#211173","#82aad6","#7bfaeb","#6ec9a8","#6b6408","#eada40","#ccc54a","#1fc235"]},{name:"pastel-chalk",colors:["#fffd99","#f5e6a4","#c1d48c","#b8e3d0","#a0b8b5","#cbf7fa","#d791f2","#dfc1eb","#f2b983","#e8c4b2","#bf8e8e","#94995c"]},{name:"seq-yellow-orange-red-bright",colors:["#910000","#b1260b","#c0370f","#e05919","#ef6a1d","#ff7b22","#ffa143","#ffb454","#ffda74","#ffed85"]},{name:"seq-reds-bright",colors:["#57453b","#7b4238","#9f4036","#c23d33","#d7483c","#ec5244","#f3696c","#f9816c","#ffc4ae","#fff0dc"]},{name:"seq-purples-bright",colors:["#4e465c","#5a4a78","#695291","#775baa","#8663c3","#946bdc","#aa89e8","#c1a6f3","#d7c4ff","#e6e1ff"]},{name:"seq-blues-bright",colors:["#404d54","#435c6c","#48799d","#4b88b6","#4d96ce","#50a5e7","#74bbed","#98d0f3","#bce6f9","#e6faff"]},{name:"seq-greens-bright",colors:["#39544c","#386757","#368165","#359b73","#33b581","#4bc392","#64d2a2","#7ce0b3","#cbf6d9","#f4ffea"]},{name:"seq-browns-bright",colors:["#524834","#715b38","#8f6e3c","#ae8140","#cc9444","#eba748","#eeb664","#f0c47f","#f9e0b7","#fff8eb"]}],dj=N(56683);const xM=new Map([["ar",()=>N.e(3309).then(N.bind(N,93309)).then(function(A){return A.a})],["bs-ba",()=>N.e(88).then(N.bind(N,88)).then(function(A){return A.b})],["ca-es",()=>N.e(2371).then(N.bind(N,32371)).then(function(A){return A.c})],["cs-cz",()=>N.e(3690).then(N.bind(N,93690)).then(function(A){return A.c})],["da-dk",()=>N.e(2125).then(N.bind(N,42125)).then(function(A){return A.d})],["de-de",()=>N.e(7396).then(N.bind(N,7396)).then(function(A){return A.d})],["de-ch",()=>N.e(2479).then(N.bind(N,62479)).then(function(A){return A.d})],["el-gr",()=>N.e(9548).then(N.bind(N,39548)).then(function(A){return A.e})],["en-us",()=>N.e(700).then(N.bind(N,20700)).then(function(A){return A.e})],["en-ca",()=>N.e(7028).then(N.bind(N,37028)).then(function(A){return A.e})],["es-es",()=>N.e(4824).then(N.bind(N,54824)).then(function(A){return A.e})],["et-ee",()=>N.e(3914).then(N.bind(N,23914)).then(function(A){return A.e})],["fi-fi",()=>N.e(1299).then(N.bind(N,1299)).then(function(A){return A.f})],["fr-fr",()=>N.e(9856).then(N.bind(N,39856)).then(function(A){return A.f})],["he-il",()=>N.e(4609).then(N.bind(N,24609)).then(function(A){return A.h})],["hr-hr",()=>N.e(7731).then(N.bind(N,87731)).then(function(A){return A.h})],["hu-hu",()=>N.e(7127).then(N.bind(N,57127)).then(function(A){return A.h})],["id-id",()=>N.e(6560).then(N.bind(N,36560)).then(function(A){return A.i})],["it-it",()=>N.e(7708).then(N.bind(N,67708)).then(function(A){return A.i})],["ja-jp",()=>N.e(6651).then(N.bind(N,36651)).then(function(A){return A.j})],["ko-kr",()=>N.e(7016).then(N.bind(N,7016)).then(function(A){return A.k})],["lt-lt",()=>N.e(5010).then(N.bind(N,5010)).then(function(A){return A.l})],["lv-lv",()=>N.e(2620).then(N.bind(N,92620)).then(function(A){return A.l})],["nb-no",()=>N.e(5237).then(N.bind(N,55237)).then(function(A){return A.n})],["nl-nl",()=>N.e(948).then(N.bind(N,948)).then(function(A){return A.n})],["pl-pl",()=>N.e(8351).then(N.bind(N,58351)).then(function(A){return A.p})],["pt-br",()=>N.e(6681).then(N.bind(N,86681)).then(function(A){return A.p})],["pt-pt",()=>N.e(8110).then(N.bind(N,48110)).then(function(A){return A.p})],["ro-ro",()=>N.e(8372).then(N.bind(N,78372)).then(function(A){return A.r})],["ru-ru",()=>N.e(8073).then(N.bind(N,88073)).then(function(A){return A.r})],["sk-sk",()=>N.e(7419).then(N.bind(N,7419)).then(function(A){return A.s})],["sl-sl",()=>N.e(1218).then(N.bind(N,11218)).then(function(A){return A.s})],["sr-rs",()=>N.e(5302).then(N.bind(N,85302)).then(function(A){return A.s})],["sv-se",()=>N.e(6079).then(N.bind(N,86079)).then(function(A){return A.s})],["th-th",()=>N.e(5508).then(N.bind(N,55508)).then(function(A){return A.t})],["tr-tr",()=>N.e(6844).then(N.bind(N,56844)).then(function(A){return A.t})],["uk-ua",()=>N.e(4978).then(N.bind(N,4978)).then(function(A){return A.u})],["vi-vn",()=>N.e(9202).then(N.bind(N,29202)).then(function(A){return A.v})],["zh-cn",()=>N.e(865).then(N.bind(N,70865)).then(function(A){return A.z})],["zh-hk",()=>N.e(3207).then(N.bind(N,3207)).then(function(A){return A.z})],["zh-tw",()=>N.e(3207).then(N.bind(N,3207)).then(function(A){return A.z})]]);function fj(A){return A?xM.has(A.toLowerCase())?A.toLowerCase():function(A){const w=A.split("-")[0].toLowerCase();let _=null;for(const C of xM.keys())if(C.startsWith(w)){_=C;break}return _}(A)||"en-us":"en-us"}let Ny,Hb;function EM(){return(EM=(0,Es.Z)(function*(A=(0,dj.Kd)()){if(A=fj(A),Ny&&A===Hb)return Ny;Ny=N.e(4430).then(N.bind(N,4430)).then(function(w){return w.i}),Hb=A;try{const[w,_]=yield Promise.all([Ny,xM.get(Hb)()]);Hb===A&&(w.am4core.options.defaultLocale=_.default),w.am4core.options.suppressWarnings=!0,w.am4core.options.autoDispose=!0}catch(w){return Ny=null,Hb=null,null}return Ny})).apply(this,arguments)}const xa_mediaIcon="esri-feature-media__icon";let Ou=class extends eu.Z{constructor(A,w){super(A,w),this._refreshTimer=null,this._refreshIntervalInfo=null,this._featureElementInfo=null,this.attributes=null,this.activeMediaInfoIndex=null,this.description=null,this.fieldInfoMap=null,this.layer=null,this.mediaInfos=null,this.popupTemplate=null,this.relatedInfos=null,this.title=null,this.viewModel=new Fy,this.messages=null}initialize(){this._featureElementInfo=new yM,this.own((0,Ar.S1)(this,["viewModel.activeMediaInfo","viewModel.activeMediaInfoIndex"],()=>this._setupMediaRefreshTimer()),(0,Ar.S1)(this,["viewModel.description","viewModel.title"],()=>this._setupFeatureElementInfo()))}destroy(){this._clearMediaRefreshTimer(),this._featureElementInfo.destroy()}render(){var A;return(0,Fn.u)("div",{bind:this,class:"esri-feature-media",onkeyup:this._handleMediaKeyup},null==(A=this._featureElementInfo)?void 0:A.render(),this.renderMedia())}renderMedia(){const{formattedMediaInfoCount:A}=this.viewModel;return A?(0,Fn.u)("div",{key:"media-element-container",class:"esri-feature-media__container"},this.renderMediaPageButton("previous"),this.renderMediaInfo(),this.renderMediaPageButton("next")):null}renderImageMediaInfo(A){const{_refreshIntervalInfo:w}=this,{activeMediaInfoIndex:_,formattedMediaInfoCount:C}=this.viewModel,{value:I,refreshInterval:j,altText:K,title:q,type:ue}=A,{sourceURL:Re,linkURL:Je}=I,wt=CP(Je)?"_blank":"_self",Qt="_blank"===wt?"noreferrer":"",ri=j?w:null,fn=(0,Fn.u)("img",{alt:K||q,key:`media-${ue}-${_}-${C}-${ri?ri.timestamp:0}`,src:ri?ri.sourceURL:Re});return(Je?(0,Fn.u)("a",{title:q,href:Je,rel:Qt,target:wt},fn):null)||fn}renderChartMediaInfo(A){const{activeMediaInfoIndex:w,formattedMediaInfoCount:_}=this.viewModel;return(0,Fn.u)("div",{key:`media-${A.type}-${w}-${_}`,bind:this,class:"esri-feature-media__chart",afterCreate:this._getChartDependencies})}renderMediaInfoType(){const{activeMediaInfo:A}=this.viewModel;return A?"image"===A.type?this.renderImageMediaInfo(A):-1!==A.type.indexOf("chart")?this.renderChartMediaInfo(A):null:null}renderMediaInfo(){const{activeMediaInfo:A}=this.viewModel;if(!A)return null;const w=A.title?(0,Fn.u)("div",{key:"media-title",class:"esri-feature-media__item-title",innerHTML:A.title}):null,_=A.caption?(0,Fn.u)("div",{key:"media-caption",class:"esri-feature-media__item-caption",innerHTML:A.caption}):null;return(0,Fn.u)("div",{key:"media-container",class:"esri-feature-media__item-container"},(0,Fn.u)("div",{key:"media-item-container",class:"esri-feature-media__item"},this.renderMediaInfoType()),w,_)}renderMediaPageButton(A){if(this.viewModel.formattedMediaInfoCount<2)return null;const w="previous"===A,_=w?this.messages.previous:this.messages.next,C=this.classes("esri-feature-media__button",w?"esri-feature-media__previous":"esri-feature-media__next"),I=w?this.classes(xa_mediaIcon,"esri-feature-media__previous-icon","esri-icon-left-triangle-arrow"):this.classes(xa_mediaIcon,"esri-feature-media__next-icon","esri-icon-right-triangle-arrow"),j=w?this.classes(xa_mediaIcon,"esri-feature-media__previous-icon--rtl","esri-icon-right-triangle-arrow"):this.classes(xa_mediaIcon,"esri-feature-media__next-icon--rtl","esri-icon-left-triangle-arrow");return(0,Fn.u)("button",{type:"button",key:w?"media-previous":"media-next",title:_,"aria-label":_,tabIndex:0,class:C,bind:this,onclick:w?this._previous:this._next},(0,Fn.u)("span",{"aria-hidden":"true",class:I}),(0,Fn.u)("span",{"aria-hidden":"true",class:j}))}_setupFeatureElementInfo(){const{description:A,title:w}=this;this._featureElementInfo.set({description:A,title:w})}_next(){this.viewModel.next()}_previous(){this.viewModel.previous()}_getChartDependencies(A){var w=this;return(0,Es.Z)(function*(){const _=yield function(){return EM.apply(this,arguments)}(),{activeMediaInfo:C}=w.viewModel;w._renderChart({chartDiv:A,mediaInfo:C,chartsModule:_})})()}_handleMediaKeyup(A){const w=(0,Py.kK)(A);"ArrowLeft"===w&&(A.stopPropagation(),this.viewModel.previous()),"ArrowRight"===w&&(A.stopPropagation(),this.viewModel.next())}_renderChart(A){const{chartsModule:w,chartDiv:_,mediaInfo:C}=A,{value:I,type:j}=C,{am4core:K}=w,q=function(A,w="default"){const _=hj.find(C=>C.name===w);return _?_.colors.map(C=>A.color(C)):null}(K);(0,hc.$o)()&&K.useTheme(w.am4themes_dark),K.useTheme(w.am4themes_animated),K.useTheme(function(Je){Je instanceof K.ColorSet&&q&&(Je.list=q)});const Re="pie-chart"===j?this._createPieChart(A):this._createXYChart(A);_.setAttribute("aria-label",C.altText||C.title),Re.data=I.series.map(Je=>({tooltip:Je.tooltip,value:Je.value})).filter(Je=>"pie-chart"!==j||Je.value>0)}_customizeChartTooltip(A,w){A.label.wrap=!0,A.label.maxWidth=200,A.autoTextColor=!1,A.getFillFromObject=!1,A.label.fill=w.color("#ffffff"),A.background.fill=w.color({r:0,g:0,b:0,a:.7})}_createPieChart(A){const{chartDiv:w,chartsModule:_}=A,{am4core:C,am4charts:I}=_,j=C.create(w,I.PieChart);j.rtl=(0,hc.dZ)(this.container);const K=j.series.push(new I.PieSeries);return K.labels.template.disabled=!0,K.ticks.template.disabled=!0,K.dataFields.value="value",K.dataFields.category="tooltip",this._customizeChartTooltip(K.tooltip,C),j}_getMinSeriesValue(A){let w=0;return A.forEach(_=>w=Math.min(_.value,w)),w}_createColumnChart(A,w){const{chartsModule:_,mediaInfo:C}=w,{value:I}=C,{am4core:j,am4charts:K}=_,q=A.xAxes.push(new K.CategoryAxis);q.dataFields.category="tooltip",q.renderer.labels.template.disabled=!0,this._customizeChartTooltip(q.tooltip,j),q.tooltip.events.on("sizechanged",()=>{q.tooltip.dy=-q.tooltip.contentHeight});const ue=A.yAxes.push(new K.ValueAxis),Re=ue.renderer.labels.template;ue.renderer.minLabelPosition=.05,ue.renderer.maxLabelPosition=.95,ue.min=this._getMinSeriesValue(I.series),this._customizeChartTooltip(ue.tooltip,j),Re.wrap=!0;const Je=A.series.push(new K.ColumnSeries);Je.dataFields.valueY="value",Je.dataFields.categoryX="tooltip",A.cursor=new K.XYCursor,I.series.length>15&&(A.scrollbarX=new j.Scrollbar)}_createBarChart(A,w){const{chartsModule:_,mediaInfo:C}=w,{value:I}=C,{am4core:j,am4charts:K}=_,q=A.yAxes.push(new K.CategoryAxis);q.dataFields.category="tooltip",q.renderer.inversed=!0,q.renderer.labels.template.disabled=!0,this._customizeChartTooltip(q.tooltip,j),q.tooltip.events.on("sizechanged",()=>{q.tooltip.dx=q.tooltip.contentWidth});const ue=A.xAxes.push(new K.ValueAxis),Re=ue.renderer.labels.template;ue.renderer.minLabelPosition=.05,ue.renderer.maxLabelPosition=.95,ue.min=this._getMinSeriesValue(I.series),this._customizeChartTooltip(ue.tooltip,j),Re.wrap=!0;const Je=A.series.push(new K.ColumnSeries);Je.dataFields.valueX="value",Je.dataFields.categoryY="tooltip",A.cursor=new K.XYCursor,I.series.length>15&&(A.scrollbarY=new j.Scrollbar)}_createLineChart(A,w){const{chartsModule:_,mediaInfo:C}=w,{value:I}=C,{am4core:j,am4charts:K}=_,q=A.xAxes.push(new K.CategoryAxis);q.dataFields.category="tooltip",q.renderer.labels.template.disabled=!0,this._customizeChartTooltip(q.tooltip,j),q.tooltip.events.on("sizechanged",()=>{q.tooltip.dy=-q.tooltip.contentHeight});const ue=A.yAxes.push(new K.ValueAxis),Re=ue.renderer.labels.template;ue.renderer.minLabelPosition=.05,ue.renderer.maxLabelPosition=.95,ue.min=this._getMinSeriesValue(I.series),this._customizeChartTooltip(ue.tooltip,j),Re.wrap=!0;const Je=A.series.push(new K.LineSeries);Je.dataFields.categoryX="tooltip",Je.dataFields.valueY="value",A.cursor=new K.XYCursor,I.series.length>15&&(A.scrollbarX=new j.Scrollbar)}_createXYChart(A){const{chartDiv:w,chartsModule:_,mediaInfo:C}=A,{type:I}=C,{am4core:j,am4charts:K}=_,q=j.create(w,K.XYChart);return q.rtl=(0,hc.dZ)(this.container),"column-chart"===I&&this._createColumnChart(q,A),"bar-chart"===I&&this._createBarChart(q,A),"line-chart"===I&&this._createLineChart(q,A),q}_clearMediaRefreshTimer(){const{_refreshTimer:A}=this;A&&(clearTimeout(A),this._refreshTimer=null)}_updateMediaInfoTimestamp(A){const w=Date.now();this._refreshIntervalInfo={timestamp:w,sourceURL:this._getImageSource(A,w)},this.scheduleRender()}_setupMediaRefreshTimer(){this._clearMediaRefreshTimer();const{activeMediaInfo:A}=this.viewModel;A&&"image"===A.type&&A.refreshInterval&&this._setRefreshTimeout(A)}_setRefreshTimeout(A){const{refreshInterval:w,value:_}=A;if(!w)return;const C=6e4*w;this._updateMediaInfoTimestamp(_.sourceURL);const I=setInterval(()=>{this._updateMediaInfoTimestamp(_.sourceURL)},C);this._refreshTimer=I}_getImageSource(A,w){const _=-1!==A.indexOf("?")?"&":"?",[C,I=""]=A.split("#");return`${C}${_}timestamp=${w}${I?"#":""}${I}`}};(0,At._)([(0,ns.B)("viewModel.attributes")],Ou.prototype,"attributes",void 0),(0,At._)([(0,ns.B)("viewModel.activeMediaInfoIndex")],Ou.prototype,"activeMediaInfoIndex",void 0),(0,At._)([(0,ns.B)("viewModel.description")],Ou.prototype,"description",void 0),(0,At._)([(0,ns.B)("viewModel.fieldInfoMap")],Ou.prototype,"fieldInfoMap",void 0),(0,At._)([(0,ns.B)("viewModel.layer")],Ou.prototype,"layer",void 0),(0,At._)([(0,ns.B)("viewModel.mediaInfos")],Ou.prototype,"mediaInfos",void 0),(0,At._)([(0,ns.B)("viewModel.popupTemplate")],Ou.prototype,"popupTemplate",void 0),(0,At._)([(0,ns.B)("viewModel.relatedInfos")],Ou.prototype,"relatedInfos",void 0),(0,At._)([(0,ns.B)("viewModel.title")],Ou.prototype,"title",void 0),(0,At._)([(0,zt.Cb)({type:Fy})],Ou.prototype,"viewModel",void 0),(0,At._)([(0,zt.Cb)(),(0,tu.H)("esri/widgets/Feature/t9n/Feature")],Ou.prototype,"messages",void 0),Ou=(0,At._)([(0,br.j)("esri.widgets.Feature.FeatureMedia")],Ou);var yj=Ou,_j=N(501),bj=N(22132);const Aj=["$datastore","$map","$layer","$aggregatedfeatures"],Cj=sa.Z.getLogger("esri.widgets.Feature.support.arcadeFeatureUtils");function xj(A){return`<ul class="esri-widget__list">${A.map(w=>`<li>${"string"==typeof w?N3(lM(w)):w}</li>`).join("")}</ul>`}function Ej(A){return`<table class="esri-widget__table">${A.keys().map(w=>{const _=A.field(w);return`<tr><th>${w}</th><td>${"string"==typeof _?N3(lM(_)):_}</td></tr>`}).join("")}</table>`}function Dj({aggregatedFeatures:A,arcadeUtils:w,featureSetVars:_,context:C,viewInfo:I,map:j,graphic:K,interceptor:q}){_.forEach(ue=>{const Re=ue.toLowerCase();if("$map"===Re&&(C.vars[Re]=w.convertMapToFeatureSetCollection({map:j,spatialReference:I.sr,interceptor:q})),"$layer"===Re&&(C.vars[Re]=w.convertFeatureLayerToFeatureSet({layer:K.sourceLayer,spatialReference:I.sr,interceptor:q})),"$datastore"===Re&&(C.vars[Re]=w.convertServiceUrlToWorkspace({url:K.sourceLayer.url,spatialReference:I.sr,interceptor:q})),"$aggregatedfeatures"===Re){const wt=K.layer,{fields:Qt,objectIdField:ri,geometryType:Ci,spatialReference:Gi,displayField:fn}=wt,Mn=new bj.default(fr(ji({fields:Qt,objectIdField:ri,geometryType:Ci,spatialReference:Gi,displayField:fn},"feature"===wt.type?{templates:wt.templates,typeIdField:wt.typeIdField,types:wt.types}:null),{source:A}));C.vars[Re]=w.convertFeatureLayerToFeatureSet({layer:Mn,spatialReference:I.sr,interceptor:q})}})}function Mj(){return Promise.all([N.e(8592),N.e(5068)]).then(N.bind(N,75068))}function Sj(A){return TM.apply(this,arguments)}function TM(){return(TM=(0,Es.Z)(function*({graphic:A,view:w}){const{isAggregate:_,layer:C}=A;if(!_||!C||"2d"!==(null==w?void 0:w.type))return[];const I=yield w.whenLayerView(C);if(!I.createQuery||!I.queryFeatures)return[];const j=I.createQuery();j.aggregateIds=[A.getObjectId()];const{features:K}=yield I.queryFeatures(j);return K})).apply(this,arguments)}function Tj(A){return IM.apply(this,arguments)}function IM(){return(IM=(0,Es.Z)(function*({expressionAttributes:A,info:w,arcadeUtils:_,interceptor:C,spatialReference:I,map:j,graphic:K,view:q}){const ue=`expression/${w.name}`,Re=_.createSyntaxTree(w.expression),Je=Aj.filter(Gi=>_.hasVariable(Re,Gi));yield _.loadScriptDependencies(Re,!0,Je);const wt=_.getViewInfo({spatialReference:I}),Qt=_.createExecContext(K,wt);Qt.interceptor=C,Qt.useAsync=!0,Dj({aggregatedFeatures:yield Sj({graphic:K,view:q}),arcadeUtils:_,featureSetVars:Je,context:Qt,viewInfo:wt,map:j,graphic:K,interceptor:C});const ri=_.createFunction(Re,Qt),Ci=yield _.executeAsyncFunction(ri,Qt).catch(Gi=>Cj.error("arcade-execution-error",{error:Gi,graphic:K,expressionInfo:w}));A[ue]="string"==typeof Ci?N3(lM(Ci)):Array.isArray(Ci)?xj(Ci):Ci&&"esri.arcade.Dictionary"===Ci.declaredClass?Ej(Ci):Ci})).apply(this,arguments)}function Ij(A){return OM.apply(this,arguments)}function OM(){return(OM=(0,Es.Z)(function*({popupTemplate:A,spatialReference:w,graphic:_,interceptor:C,map:I,view:j}){const K=A.expressionInfos,q=[],ue={};if(!K||!K.length)return ue;const Re=yield Mj();for(const Je of K)q.push(Tj({expressionAttributes:ue,info:Je,arcadeUtils:Re,interceptor:C,spatialReference:w,map:I,graphic:_,view:j}));return yield(0,Fs.as)(q),ue})).apply(this,arguments)}var PM;const HP="esri.widgets.FeatureViewModel",Pj=sa.Z.getLogger(HP),VP={attachmentsContent:!0,customContent:!0,fieldsContent:!0,mediaContent:!0,textContent:!0};let fa=PM=class extends no.Z{constructor(A){super(A),this._handles=new Bl.Z,this._error=null,this._featureAbortController=null,this.graphicChangedThrottled=(0,fP.P)(this.graphicChanged,1,this),this._expressionAttributes=null,this.abilities=ji({},VP),this.content=null,this.contentViewModels=[],this.defaultPopupTemplateEnabled=!1,this.formattedAttributes=null,this.lastEditInfo=null,this.relatedInfos=new Map,this.title="",this.view=null,this._isAllowedContentType=w=>{const{abilities:_}=this;return"attachments"===w.type&&_.attachmentsContent||"custom"===w.type&&_.customContent||"fields"===w.type&&_.fieldsContent||"media"===w.type&&_.mediaContent||"text"===w.type&&_.textContent},this._handles.add((0,Ar.S1)(this,["graphic","_effectivePopupTemplate","abilities"],()=>this.graphicChangedThrottled()))}destroy(){this._clear(),this._cancelFeatureQuery(),this._error=null,this._handles.destroy(),this._handles=null,this.graphic=null,this._destroyContentViewModels(),this.relatedInfos.clear()}get _effectivePopupTemplate(){return(0,Wi.pC)(this.graphic)?this.graphic.getEffectivePopupTemplate(this.defaultPopupTemplateEnabled):null}get _fieldInfoMap(){return function(A,w){const _=new Map;return A&&A.forEach(C=>{const I=F3(C.fieldName,w);C.fieldName=I,_.set(I.toLowerCase(),C)}),_}(SP(this._effectivePopupTemplate),this._sourceLayer)}get _sourceLayer(){return wP(this.graphic)}castAbilities(A){return ji(ji({},VP),A)}get state(){return this.graphic?this._error?"error":this.waitingForContent?"loading":"ready":"disabled"}set graphic(A){this._set("graphic",A?A.clone():null)}get spatialReference(){return this.get("view.spatialReference")||null}set spatialReference(A){void 0!==A?this._override("spatialReference",A):this._clearOverride("spatialReference")}get map(){return this.get("view.map")||null}set map(A){void 0!==A?this._override("map",A):this._clearOverride("map")}get waitingForContent(){return!!this._featureAbortController}setActiveMedia(A,w){const _=this.contentViewModels[A];_ instanceof Fy&&_.setActiveMedia(w)}nextMedia(A){const w=this.contentViewModels[A];w instanceof Fy&&w.next()}previousMedia(A){const w=this.contentViewModels[A];w instanceof Fy&&w.previous()}_clear(){this._set("title",""),this._set("content",null),this._set("formattedAttributes",null)}graphicChanged(){var A=this;return(0,Es.Z)(function*(){A._cancelFeatureQuery(),A._error=null,A._clear();const{graphic:w}=A;if(!w)return;const _=(0,Fs.yi)();A._featureAbortController=_;try{yield A._queryFeature({signal:_.signal})}catch(C){(0,Fs.D_)(C)||(A._error=C,Pj.error("error","The popupTemplate could not be displayed for this feature.",{error:C,graphic:w,popupTemplate:A._effectivePopupTemplate}))}A._featureAbortController===_&&(A._featureAbortController=null)})()}_cancelFeatureQuery(){const{_featureAbortController:A}=this;A&&A.abort(),this._featureAbortController=null}_compileContent(A){if(this._destroyContentViewModels(),this.graphic)return Array.isArray(A)?A.filter(this._isAllowedContentType).map((w,_)=>"attachments"===w.type?this._compileAttachments(w,_):"custom"===w.type?this._compileCustom(w,_):"fields"===w.type?this._compileFields(w,_):"media"===w.type?this._compileMedia(w,_):"text"===w.type?this._compileText(w,_):void 0):"string"==typeof A?this._compileText(new _j.Z({text:A}),0).text:A}_destroyContentViewModels(){this.contentViewModels.forEach(A=>A&&!A.destroyed&&A.destroy()),this._set("contentViewModels",[])}_compileAttachments(A,w){const{graphic:_}=this,{description:C,title:I}=A;return this.contentViewModels[w]=new fM(ji({graphic:_},this._compileTitleAndDesc({title:I,description:C}))),A}_compileCustom(A,w){const{graphic:_}=this,{creator:C,destroyer:I}=A;return this.contentViewModels[w]=new vM({graphic:_,creator:C,destroyer:I}),A}_compileTitleAndDesc({title:A,description:w}){const{_fieldInfoMap:_,_sourceLayer:C,graphic:I,formattedAttributes:j,_expressionAttributes:K}=this,{attributes:q}=I,ue=j.global;return{title:jg({attributes:q,fieldInfoMap:_,globalAttributes:ue,expressionAttributes:K,layer:C,text:A}),description:jg({attributes:q,fieldInfoMap:_,globalAttributes:ue,expressionAttributes:K,layer:C,text:w})}}_compileFields(A,w){const{_effectivePopupTemplate:_,formattedAttributes:C}=this,I=A.clone(),j=(null==A?void 0:A.fieldInfos)||(null==_?void 0:_.fieldInfos),K=null==_?void 0:_.expressionInfos,q=ji(ji({},C.global),C.content[w]),{description:ue,title:Re}=I,Je=new wM(ji({attributes:q,expressionInfos:K,fieldInfos:j},this._compileTitleAndDesc({title:Re,description:ue})));return this.contentViewModels[w]=Je,I.fieldInfos=Je.formattedFieldInfos.slice(0),I}_compileMedia(A,w){const{graphic:_,_fieldInfoMap:C,_effectivePopupTemplate:I,relatedInfos:j,_sourceLayer:K,_expressionAttributes:q}=this,{attributes:ue}=_,Re=this.formattedAttributes.global,Je=A.clone(),{description:wt,mediaInfos:Qt,title:ri}=Je,Ci=new Fy(ji({activeMediaInfoIndex:Je.activeMediaInfoIndex||0,attributes:ue,layer:K,fieldInfoMap:C,formattedAttributes:Re,expressionAttributes:q,mediaInfos:Qt,popupTemplate:I,relatedInfos:j},this._compileTitleAndDesc({title:ri,description:wt})));return Je.mediaInfos=Ci.formattedMediaInfos.slice(0),this.contentViewModels[w]=Ci,Je}_compileText(A,w){const _=A.clone(),{graphic:C,_fieldInfoMap:I,_sourceLayer:j,_expressionAttributes:K}=this;if(_&&_.text){const{attributes:q}=C;_.text=jg({attributes:q,fieldInfoMap:I,globalAttributes:this.formattedAttributes.global,expressionAttributes:K,layer:j,text:_.text})}return this.contentViewModels[w]=new vM({graphic:C,creator:_.text}),_}_compileLastEditInfo(){const{_effectivePopupTemplate:A,_sourceLayer:w,graphic:_}=this;if(!A)return;const{lastEditInfoEnabled:C}=A,I=null==w?void 0:w.editFieldsInfo;return C&&I?function(A,w){const{creatorField:_,creationDateField:C,editorField:I,editDateField:j}=A;if(!w)return;const K=w[j];if("number"==typeof K){const ue=w[I];return{type:"edit",date:(0,B3.p6)(K,nM),user:ue}}const q=w[C];if("number"==typeof q){const ue=w[_];return{type:"create",date:(0,B3.p6)(q,nM),user:ue}}return null}(I,_.attributes):void 0}_compileTitle(A){const{_fieldInfoMap:w,_sourceLayer:_,graphic:C,_expressionAttributes:I}=this,{attributes:j}=C;return jg({attributes:j,fieldInfoMap:w,globalAttributes:this.formattedAttributes.global,expressionAttributes:I,layer:_,text:A})}_getTitle(){var A=this;return(0,Es.Z)(function*(){const{_effectivePopupTemplate:w,graphic:_}=A;return R3(null==w?void 0:w.title,{graphic:_})})()}_getContent(){var A=this;return(0,Es.Z)(function*(){const{_effectivePopupTemplate:w,graphic:_}=A;return R3(null==w?void 0:w.content,{graphic:_})})()}_queryFeature(A){var w=this;return(0,Es.Z)(function*(){const{_featureAbortController:_,_sourceLayer:C,graphic:I,_effectivePopupTemplate:j,spatialReference:K,map:q,view:ue}=w,{content:{value:Re},title:{value:Je}}=yield(0,Fs.as)({content:w._getContent(),title:w._getTitle()});if(_!==w._featureAbortController||!I)return;yield function(A,w){return hM.apply(this,arguments)}({graphic:I,popupTemplate:j,layer:C,spatialReference:K},A);const{expressionAttributes:{value:wt}}=yield(0,Fs.as)({checkForRelatedFeatures:w._checkForRelatedFeatures(A),expressionAttributes:Ij({popupTemplate:w._effectivePopupTemplate,spatialReference:K,graphic:I,map:q,interceptor:PM.interceptor,view:ue})});_===w._featureAbortController&&I&&(w._expressionAttributes=wt,w._set("formattedAttributes",w._createFormattedAttributes(Re,wt)),w._set("title",w._compileTitle(Je)),w._set("lastEditInfo",w._compileLastEditInfo()||null),w._set("content",w._compileContent(Re)||null))})()}_createFormattedAttributes(A,w){const{_effectivePopupTemplate:_,graphic:C,relatedInfos:I,_sourceLayer:j,_fieldInfoMap:K}=this,q=null==_?void 0:_.fieldInfos,ue=ji(ji({},C.attributes),w),Re={global:TP({fieldInfos:q,graphic:C,attributes:ue,layer:j,fieldInfoMap:K,relatedInfos:I}),content:[]};return Array.isArray(A)&&A.forEach((Je,wt)=>{"fields"===Je.type&&Je.fieldInfos&&(Re.content[wt]=TP({fieldInfos:Je.fieldInfos,graphic:C,attributes:ue,layer:j,fieldInfoMap:K,relatedInfos:I}))}),Re}_checkForRelatedFeatures(A){const{graphic:w,_effectivePopupTemplate:_}=this;return this._queryRelatedInfos(w,SP(_),A)}_queryRelatedInfos(A,w,_){var C=this;return(0,Es.Z)(function*(){const{relatedInfos:I,_sourceLayer:j}=C;I.clear();const K=(0,Wi.pC)(j.associatedLayer)?yield j.associatedLayer.load(_):j;if(!K)return;const q=w.filter(Je=>Je&&im(Je.fieldName));if(!q||!q.length)return;w.forEach(Je=>C._configureRelatedInfo(Je,K));const ue=yield function({relatedInfos:A,layer:w},_){const C={};return A.forEach((I,j)=>{const{relation:K}=I;if(!K){const wt=new os.Z("relation-required","A relation is required on a layer to retrieve related records.");throw FP.error(wt),wt}const{relatedTableId:q}=K;if("number"!=typeof q){const wt=new os.Z("A related table ID is required on a layer to retrieve related records.");throw FP.error(wt),wt}const ue=`${w.url}/${q}`,Re=NP.get(ue),Je=Re||function(A,w){return(0,aP.default)(A,{query:{f:"json"},signal:w&&w.signal})}(ue,_);Re||NP.set(ue,Je),C[j]=Je}),(0,Fs.as)(C)}({relatedInfos:I,layer:K},_);Object.keys(ue).forEach(Je=>{var wt;const Qt=I.get(Je.toString()),ri=null==(wt=ue[Je])?void 0:wt.value;Qt&&ri&&(Qt.layerInfo=ri.data)});const Re=yield function({graphic:A,relatedInfos:w,layer:_},C){const I={};return w.forEach((j,K)=>{j.layerInfo&&(I[K]=function(A,w,_,C){return CM.apply(this,arguments)}(A,j,_,C))}),(0,Fs.as)(I)}({graphic:A,relatedInfos:I,layer:K},_);Object.keys(Re).forEach(Je=>{var wt;!function(A,w){if(!w||!A)return;const{features:_,statsFeatures:C}=A,I=_&&_.value;w.relatedFeatures=I?I.features:[];const j=C&&C.value;w.relatedStatsFeatures=j?j.features:[]}(null==(wt=Re[Je])?void 0:wt.value,I.get(Je.toString()))})})()}_configureRelatedInfo(A,w){const{relatedInfos:_}=this,C=jb(A.fieldName);if(!C)return;const{layerId:I,fieldName:j}=C;if(!I)return;const K=_.get(I.toString())||function(A,w){const _=function(A,w){if(!w.relationships)return null;let _=null;const{relationships:C}=w;return C.some(I=>I.id===parseInt(A,10)&&(_=I,!0)),_}(A,w);if(!_)return;const C=`${w.url}/${_.relatedTableId}`;return{url:C,queryTask:new Fb.Z({url:C,sourceSpatialReference:w.spatialReference}),relation:_,relatedFields:[],outStatistics:[]}}(I,w);K&&(function({relatedInfo:A,fieldName:w,fieldInfo:_}){if(A.relatedFields.push(w),_.statisticType){const C=new ZU.Z({statisticType:_.statisticType,onStatisticField:w,outStatisticFieldName:w});A.outStatistics.push(C)}}({relatedInfo:K,fieldName:j,fieldInfo:A}),this.relatedInfos.set(I,K))}};fa.interceptor=new class{constructor(w,_){this.preLayerQueryCallback=w,this.preRequestCallback=_,this.preLayerQueryCallback||(this.preLayerQueryCallback=C=>{}),this.preRequestCallback||(this.preLayerQueryCallback=C=>{})}}(({query:A,layer:w,method:_})=>{PP({layer:w,method:_,query:A,definitionExpression:`${w.definitionExpression} ${w.serviceDefinitionExpression}`})},({queryPayload:A,layer:w,method:_})=>{PP({layer:w,method:_,query:A,definitionExpression:`${w.definitionExpression} ${w.serviceDefinitionExpression}`})}),(0,At._)([(0,zt.Cb)()],fa.prototype,"_error",void 0),(0,At._)([(0,zt.Cb)()],fa.prototype,"_featureAbortController",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],fa.prototype,"_effectivePopupTemplate",null),(0,At._)([(0,zt.Cb)({readOnly:!0})],fa.prototype,"_fieldInfoMap",null),(0,At._)([(0,zt.Cb)({readOnly:!0})],fa.prototype,"_sourceLayer",null),(0,At._)([(0,zt.Cb)()],fa.prototype,"abilities",void 0),(0,At._)([(0,Bd.p)("abilities")],fa.prototype,"castAbilities",null),(0,At._)([(0,zt.Cb)({readOnly:!0})],fa.prototype,"content",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],fa.prototype,"contentViewModels",void 0),(0,At._)([(0,zt.Cb)({type:Boolean})],fa.prototype,"defaultPopupTemplateEnabled",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],fa.prototype,"state",null),(0,At._)([(0,zt.Cb)({readOnly:!0})],fa.prototype,"formattedAttributes",void 0),(0,At._)([(0,zt.Cb)({type:Fa.Z,value:null})],fa.prototype,"graphic",null),(0,At._)([(0,zt.Cb)({readOnly:!0})],fa.prototype,"lastEditInfo",void 0),(0,At._)([(0,zt.Cb)()],fa.prototype,"relatedInfos",void 0),(0,At._)([(0,zt.Cb)()],fa.prototype,"spatialReference",null),(0,At._)([(0,zt.Cb)({readOnly:!0})],fa.prototype,"title",void 0),(0,At._)([(0,zt.Cb)()],fa.prototype,"map",null),(0,At._)([(0,zt.Cb)({readOnly:!0})],fa.prototype,"waitingForContent",null),(0,At._)([(0,zt.Cb)()],fa.prototype,"view",void 0),fa=PM=(0,At._)([(0,br.j)(HP)],fa);var kM=fa;const zP=A=>{let w=class extends A{constructor(){super(...arguments),this.renderNodeContent=_=>(0,_M.Qd)(_)&&!_.destroyed?(0,Fn.u)("div",{key:_},_.render()):_ instanceof HTMLElement?(0,Fn.u)("div",{key:_,bind:_,afterCreate:this._attachToNode}):(0,_M.o)(_)?(0,Fn.u)("div",{key:_,bind:_.domNode,afterCreate:this._attachToNode}):null}_attachToNode(_){_.appendChild(this)}};return w=(0,At._)([(0,br.j)("esri.widgets.Feature.ContentMixin")],w),w};var Df=N(97059);const Bc_contentElement="esri-feature__content-element",WP={title:!0,content:!0,lastEditedInfo:!0};let pc=class extends(zP(eu.Z)){constructor(A,w){super(A,w),this._contentWidgets=[],this.graphic=null,this.defaultPopupTemplateEnabled=!1,this.headingLevel=2,this.label=void 0,this.messages=null,this.messagesCommon=null,this.messagesURIUtils=null,this.spatialReference=null,this.title=null,this.visibleElements=ji({},WP),this.map=null,this.view=null,this.viewModel=new kM}initialize(){this.own((0,Ar.S1)(this,"viewModel.contentViewModels",()=>this._setupContentWidgets()))}loadDependencies(){return N.e(9555).then(N.bind(N,39555))}destroy(){this._destroyContentWidgets()}castVisibleElements(A){return ji(ji({},WP),A)}render(){const{state:A}=this.viewModel,w=(0,Fn.u)("div",{class:"esri-feature__size-container",key:"container"},this.renderTitle(),"error"===A?this.renderError():"loading"===A?this.renderLoading():this.renderContentContainer());return(0,Fn.u)("div",{class:this.classes("esri-feature","esri-widget")},w)}setActiveMedia(A,w){this.viewModel.setActiveMedia(A,w)}nextMedia(A){this.viewModel.nextMedia(A)}previousMedia(A){this.viewModel.previousMedia(A)}renderError(){const{messagesCommon:A,messages:w,visibleElements:_}=this;return(0,Fn.u)("calcite-notice",{active:!0,color:"red",icon:"exclamation-mark-circle",scale:"s"},_.title?(0,Fn.u)("div",{key:"error-title",slot:"title"},A.errorMessage):null,(0,Fn.u)("div",{key:"error-message",slot:"message"},w.loadingError))}renderLoading(){return(0,Fn.u)("div",{key:"loading-container",class:"esri-feature__loading-container"},(0,Fn.u)("span",{class:this.classes("esri-icon-loading-indicator esri-rotating","esri-feature__loading-spinner")}))}renderContentContainer(){const{visibleElements:A}=this;return A.content?(0,Fn.u)("div",{class:"esri-feature__main-container"},[this.renderContent(),this.renderLastEditInfo()]):null}renderTitle(){const{visibleElements:A,title:w}=this;return A.title?(0,Fn.u)(mM,{level:this.headingLevel,class:"esri-feature__title",innerHTML:w}):null}renderContent(){const A=this.viewModel.content,w="content";if(!A)return null;if(Array.isArray(A))return A.length?(0,Fn.u)("div",{key:`${w}-content-elements`},A.map(this.renderContentElement,this)):null;if("string"==typeof A){const _=this._contentWidgets[0];return!_||_.destroyed?null:(0,Fn.u)("div",{key:`${w}-content`},_.render())}return this.renderNodeContent(A)}renderContentElement(A,w){const{visibleElements:_}=this;if("boolean"!=typeof _.content&&!_.content[A.type])return null;switch(A.type){case"attachments":return this.renderAttachments(w);case"custom":return this.renderCustom(A,w);case"fields":return this.renderFields(w);case"media":return this.renderMedia(w);case"text":return this.renderText(A,w);default:return null}}renderAttachments(A){const w=this._contentWidgets[A];if(!w||w.destroyed)return null;const{state:_,attachmentInfos:C}=w.viewModel;return"loading"===_||C.length>0?(0,Fn.u)("div",{key:this._buildKey("attachments-element",A),class:this.classes(Bc_contentElement)},w.render()):null}renderCustom(A,w){const{creator:_}=A,C=this._contentWidgets[w];return!C||C.destroyed?null:_?(0,Fn.u)("div",{key:this._buildKey("custom-element",w),class:Bc_contentElement},C.render()):null}renderFields(A){const w=this._contentWidgets[A];return!w||w.destroyed?null:(0,Fn.u)("div",{key:this._buildKey("fields-element",A),class:Bc_contentElement},w.render())}renderMedia(A){const w=this._contentWidgets[A];return!w||w.destroyed?null:(0,Fn.u)("div",{key:this._buildKey("media-element",A),class:Bc_contentElement},w.render())}renderLastEditInfo(){const{visibleElements:A,messages:w}=this,{lastEditInfo:_}=this.viewModel;if(!_||!A.lastEditedInfo)return null;const{date:C,user:I}=_,K=(0,Df.n)("edit"===_.type?I?w.lastEditedByUser:w.lastEdited:I?w.lastCreatedByUser:w.lastCreated,{date:C,user:I});return(0,Fn.u)("div",{key:"edit-info-element",class:this.classes("esri-feature__last-edited-info",Bc_contentElement)},K)}renderText(A,w){const C=this._contentWidgets[w];return!C||C.destroyed?null:A.text?(0,Fn.u)("div",{key:this._buildKey("text-element",w),class:this.classes(Bc_contentElement,"esri-feature__text")},C.render()):null}_buildKey(A,...w){return`${A}__${this.get("viewModel.graphic.uid")||"0"}-${w.join("-")}`}_destroyContentWidgets(){this._contentWidgets.forEach(A=>{A.viewModel=null,A&&!A.destroyed&&A.destroy()}),this._contentWidgets=[]}_setupContentWidgets(){this._destroyContentWidgets();const{headingLevel:A,visibleElements:w}=this,_=this.get("viewModel.content"),{contentViewModels:C}=this.viewModel;if(Array.isArray(_))_.forEach((I,j)=>{"attachments"===I.type&&(this._contentWidgets[j]=new HU({displayType:I.displayType,headingLevel:w.title?A+1:A,viewModel:C[j]})),"fields"===I.type&&(this._contentWidgets[j]=new QU({viewModel:C[j]})),"media"===I.type&&(this._contentWidgets[j]=new yj({viewModel:C[j]})),"text"===I.type&&(this._contentWidgets[j]=new AM({viewModel:C[j]})),"custom"===I.type&&(this._contentWidgets[j]=new AM({viewModel:C[j]}))},this);else{const I=C[0];I&&!I.destroyed&&(this._contentWidgets[0]=new AM({viewModel:I}))}this.scheduleRender()}};(0,At._)([(0,ns.B)("viewModel.graphic")],pc.prototype,"graphic",void 0),(0,At._)([(0,ns.B)("viewModel.defaultPopupTemplateEnabled")],pc.prototype,"defaultPopupTemplateEnabled",void 0),(0,At._)([(0,zt.Cb)()],pc.prototype,"headingLevel",void 0),(0,At._)([(0,zt.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],pc.prototype,"label",void 0),(0,At._)([(0,zt.Cb)(),(0,tu.H)("esri/widgets/Feature/t9n/Feature")],pc.prototype,"messages",void 0),(0,At._)([(0,zt.Cb)(),(0,tu.H)("esri/t9n/common")],pc.prototype,"messagesCommon",void 0),(0,At._)([(0,zt.Cb)(),(0,tu.H)("esri/widgets/support/t9n/uriUtils")],pc.prototype,"messagesURIUtils",void 0),(0,At._)([(0,ns.B)("viewModel.spatialReference")],pc.prototype,"spatialReference",void 0),(0,At._)([(0,ns.B)("viewModel.title")],pc.prototype,"title",void 0),(0,At._)([(0,zt.Cb)()],pc.prototype,"visibleElements",void 0),(0,At._)([(0,Bd.p)("visibleElements")],pc.prototype,"castVisibleElements",null),(0,At._)([(0,ns.B)("viewModel.map")],pc.prototype,"map",void 0),(0,At._)([(0,ns.B)("viewModel.view")],pc.prototype,"view",void 0),(0,At._)([(0,zt.Cb)({type:kM})],pc.prototype,"viewModel",void 0),pc=(0,At._)([(0,br.j)("esri.widgets.Feature")],pc);var kj=pc,Nd=N(61885);let Hg=class extends Nd.Z.EventedAccessor{constructor(A){super(A),this._anchorHandles=new Bl.Z,this.location=null,this.screenLocation=null,this.screenLocationEnabled=!1,this.view=null,this._anchorHandles.add([(0,Ar.YP)(this,["screenLocationEnabled","location","view.size","view.stationary"],()=>this._updateScreenPointAndHandle()),(0,Ar.YP)(this,["view","view.ready"],()=>this._wireUpView())])}destroy(){this.view=null,this._anchorHandles&&this._anchorHandles.destroy(),this._anchorHandles=null,this._viewpointHandle=null}_wireUpView(){const A="view";if(this._anchorHandles.remove(A),this._viewpointHandle=null,!this.get("view.ready"))return;this._setScreenLocation();const{view:w}=this,C=(0,Ar.Wy)(w,"3d"===w.type?"camera":"viewpoint",()=>this._viewpointChange());this._anchorHandles.add(C,A),this._viewpointHandle=C,this._toggleWatchingViewpoint()}_viewpointChange(){this._setScreenLocation(),this.emit("view-change")}_updateScreenPointAndHandle(){this._setScreenLocation(),this._toggleWatchingViewpoint()}_toggleWatchingViewpoint(){const{_viewpointHandle:A,location:w,screenLocationEnabled:_}=this;!A||(w&&_?A.resume():A.pause())}_setScreenLocation(){const{location:A,view:w,screenLocationEnabled:_}=this,C=this.get("view.ready"),I=_&&C&&(0,Wi.pC)(A)?w.toScreen(A):null;this._set("screenLocation",I)}};(0,At._)([(0,zt.Cb)()],Hg.prototype,"location",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],Hg.prototype,"screenLocation",void 0),(0,At._)([(0,zt.Cb)()],Hg.prototype,"screenLocationEnabled",void 0),(0,At._)([(0,zt.Cb)()],Hg.prototype,"view",void 0),Hg=(0,At._)([(0,br.j)("esri.widgets.support.AnchorElementViewModel")],Hg);var KP=Hg;let U3=class extends KP{constructor(A){super(A),this.visible=!1}};(0,At._)([(0,zt.Cb)()],U3.prototype,"visible",void 0),U3=(0,At._)([(0,br.j)("esri.widgets.CompassViewModel")],U3);var QP=U3;let Vg=class extends eu.Z{constructor(A,w){super(A,w),this._animationDelay=500,this._animationPromise=null,this.location=null,this.view=null,this.viewModel=new QP,this.visible=!1}initialize(){this.own([(0,Ar.YP)(this,"visible",A=>this._visibleChange(A))])}destroy(){this._animationPromise=null}show(A){const{location:w,promise:_}=A;w&&(this.viewModel.location=w),this.visible=!0,_&&_.catch(()=>{}).then(()=>this.hide())}hide(){this.visible=!1}render(){const{visible:A}=this,{screenLocation:w}=this.viewModel,_=!!w,j={"esri-spinner--start":A&&_,"esri-spinner--finish":!A&&_},K=this._getPositionStyles();return(0,Fn.u)("div",{class:this.classes("esri-spinner",j),styles:K})}_visibleChange(A){if(A)return void(this.viewModel.screenLocationEnabled=!0);const w=(0,Fs.e4)(this._animationDelay);this._animationPromise=w,w.catch(()=>{}).then(()=>{this._animationPromise===w&&(this.viewModel.screenLocationEnabled=!1,this._animationPromise=null)})}_getPositionStyles(){const{screenLocation:A,view:w}=this.viewModel;if(!w||(0,Wi.Wi)(A))return{};const{padding:_}=w;return{left:A.x-_.left+"px",top:A.y-_.top+"px"}}};(0,At._)([(0,ns.B)("viewModel.location")],Vg.prototype,"location",void 0),(0,At._)([(0,ns.B)("viewModel.view")],Vg.prototype,"view",void 0),(0,At._)([(0,zt.Cb)({type:QP})],Vg.prototype,"viewModel",void 0),(0,At._)([(0,ns.B)("viewModel.visible")],Vg.prototype,"visible",void 0),Vg=(0,At._)([(0,br.j)("esri.widgets.Spinner")],Vg);var Bj=Vg,Ud=(N(65787),N(46367)),Rj=N(63602),Fj=N(59397),Vb=N(48753),Nj=N(10671),zb=N(86606);function RM(A){return A&&"opacity"in A?A.opacity*RM(A.parent):1}function FM(){return(FM=(0,Es.Z)(function*(A,w){var _,C;if(!A)return;const I=A.sourceLayer,j=null!=(_=(0,Wi.pC)(w)&&null!=(C=w.useSourceLayer)&&C?I:A.layer)?_:I,K=RM(j);if((0,Wi.pC)(A.symbol)&&(!(0,Wi.pC)(w)||!0!==w.ignoreGraphicSymbol)){const gn="web-style"===A.symbol.type?yield A.symbol.fetchSymbol((0,Wi.pC)(w)?w.abortOptions:null):A.symbol.clone();return(0,zb.tb)(gn,null,K),gn}const q=(0,Wi.pC)(w)&&w.renderer||j&&"renderer"in j&&j.renderer;let ue=q&&"getSymbolAsync"in q?yield q.getSymbolAsync(A,w):null;if(!ue)return;if(ue="web-style"===ue.type?yield ue.fetchSymbol((0,Wi.pC)(w)?w.abortOptions:null):ue.clone(),!("visualVariables"in q)||!q.visualVariables||!q.visualVariables.length)return(0,zb.tb)(ue,null,K),ue;if("arcadeRequiredForVisualVariables"in q&&q.arcadeRequiredForVisualVariables&&((0,Wi.Wi)(w)||(0,Wi.Wi)(w.arcade))){const gn=ji({},(0,Wi.Wg)(w));gn.arcade=yield(0,vP.LC)(),w=gn}const Re=yield Promise.resolve().then(N.bind(N,81808)),Je=[],wt=[],Qt=[],ri=[];for(const gn of q.visualVariables)switch(gn.type){case"color":Je.push(gn);break;case"opacity":wt.push(gn);break;case"rotation":ri.push(gn);break;case"size":gn.target||Qt.push(gn)}const Ci=!!Je.length&&Je[Je.length-1],Gi=Ci?Re.getColor(Ci,A,w):null,fn=!!wt.length&&wt[wt.length-1];let Mn=fn?Re.getOpacity(fn,A,w):null;if(null!=K&&(Mn=null!=Mn?Mn*K:K),(0,zb.tb)(ue,Gi,Mn),Qt.length){const gn=Re.getAllSizes(Qt,A,w);yield(0,zb.e3)(ue,gn)}for(const gn of ri)(0,zb.BR)(ue,Re.getRotationAngle(gn,A,w),gn.axis);return ue})).apply(this,arguments)}var es=N(58677);const j3_iconZoom="esri-icon-zoom-in-magnifying-glass",rm=new Vb.Z({id:"zoom-to-feature",title:"{messages.zoom}",className:j3_iconZoom}),UM=new Vb.Z({id:"remove-selected-feature",title:"{messages.remove}",className:"esri-icon-trash"}),zg=new Vb.Z({id:"zoom-to-clustered-features",title:"{messages.zoom}",className:j3_iconZoom}),Wg=new Vb.Z({id:"browse-clustered-features",title:"{messages.browseClusteredFeatures}",className:"esri-icon-table"}),sm=sa.Z.getLogger("esri.widgets.Popup.PopupViewModel");function $P(A){const{selectedFeature:w,location:_,view:C}=A;return C?"3d"===C.type?w||_:A.get("selectedFeature.geometry")||_:null}function Wj(A,w){if("3d"!==(null==w?void 0:w.type)||!A||"esri.Graphic"!==A.declaredClass)return!0;const _=w.getViewForGraphic(A);if(_&&"whenGraphicBounds"in _){let C=!1;return _.whenGraphicBounds(A,{useViewElevation:!0}).then(I=>{C=!I||!I.boundingBox||I.boundingBox[0]===I.boundingBox[3]&&I.boundingBox[1]===I.boundingBox[4]&&I.boundingBox[2]===I.boundingBox[5]}).catch(()=>{const I=new os.Z("zoom-to:invalid-graphic","Could not zoom to the location of the graphic.",{graphic:A});sm.error(I)}),C}return!0}function jM(){return(jM=(0,Es.Z)(function*(A){const{location:w,selectedFeature:_,view:C,zoomFactor:I}=A,j=$P(A);if(!j){const Re=new os.Z("zoom-to:invalid-target-or-view","Cannot zoom to location without a target and view.",{target:j,view:C});return sm.error(Re),Promise.reject(Re)}const K=C.scale/I,q=A.get("selectedFeature.geometry")||w,ue=q&&"point"===q.type&&Wj(_,C);rm.active=!0,rm.disabled=!0,yield A.view.goTo({target:j,scale:ue?K:void 0}),rm.active=!1,rm.disabled=!1,A.zoomToLocation=null,ue&&(A.location=q)})).apply(this,arguments)}function HM(){return(HM=(0,Es.Z)(function*(A){const{selectedFeature:w,view:_}=A;if("2d"!==(null==_?void 0:_.type)){const q=new os.Z("zoomToCluster:invalid-view","View must be 2d MapView.",{view:_});throw sm.error(q),q}if(!w.isAggregate){const q=new os.Z("zoomToCluster:invalid-selectedFeature","Selected feature must represent an aggregate/cluster graphic.",{selectedFeature:w});throw sm.error(q),q}const C=w.sourceLayer,I=yield _.whenLayerView(C),j=I.createQuery();j.aggregateIds=[w.getObjectId()],zg.active=!0,zg.disabled=!0;const{extent:K}=yield I.queryExtent(j);yield _.goTo({target:K}),zg.active=!1,zg.disabled=!1})).apply(this,arguments)}function VM(){return(VM=(0,Es.Z)(function*(A){const{selectedFeature:w,view:_}=A;if("2d"!==(null==_?void 0:_.type)){const q=new os.Z("displayClusterExtent:invalid-view","View must be 2d MapView.",{view:_});throw sm.error(q),q}if(!w.isAggregate){const q=new os.Z("zoomToCluster:invalid-selectedFeature","Selected feature must represent an aggregate/cluster graphic.",{selectedFeature:w});throw sm.error(q),q}const C=w.sourceLayer,I=yield _.whenLayerView(C),j=I.createQuery();j.aggregateIds=[w.getObjectId()];const{extent:K}=yield I.queryExtent(j);A.selectedClusterBoundaryFeature.geometry=K,_.graphics.add(A.selectedClusterBoundaryFeature)})).apply(this,arguments)}function zM(){return(zM=(0,Es.Z)(function*(A){const{selectedFeature:w,view:_}=A;if("2d"!==(null==_?void 0:_.type)){const q=new os.Z("browseAggregateFeatures:invalid-view","View must be 2d MapView.",{view:_});throw sm.error(q),q}if(!w.isAggregate){const q=new os.Z("browseAggregateFeatures:invalid-selectedFeature","Selected feature must represent an aggregate/cluster graphic.",{selectedFeature:w});throw sm.error(q),q}const C=w.sourceLayer,I=yield _.whenLayerView(C),j=I.createQuery();j.aggregateIds=[w.getObjectId()],Wg.active=!0,Wg.disabled=!0;const{features:K}=yield I.queryFeatures(j);Wg.active=!1,Wg.disabled=!1,_.popup.open({features:[w].concat(K),featureMenuOpen:!0})})).apply(this,arguments)}const ZP=A=>{let w=class extends A{constructor(..._){super(..._),this.goToOverride=null,this.view=null}callGoTo(_){const{view:C}=this;return this.goToOverride?this.goToOverride(C,_):C.goTo(_.target,_.options)}};return(0,At._)([(0,zt.Cb)()],w.prototype,"goToOverride",void 0),(0,At._)([(0,zt.Cb)()],w.prototype,"view",void 0),w=(0,At._)([(0,br.j)("esri.widgets.support.GoTo")],w),w};var WM=N(88493),Ys=N(49672);const Wb=tl.Z.ofType({key:"type",defaultKeyValue:"button",base:Fj.Z,typeMap:{button:Vb.Z,toggle:Nj.Z}}),JP="esri.widgets.Popup.PopupViewModel",XP=sa.Z.getLogger(JP);let zs=class extends(ZP(KP)){constructor(A){super(A),this._handles=new Bl.Z,this._pendingPromises=new Set,this._fetchFeaturesController=null,this._selectedClusterFeature=null,this.featurePage=null,this.actions=new Wb,this.defaultPopupTemplateEnabled=!1,this.autoCloseEnabled=!1,this.autoOpenEnabled=!0,this.browseClusterEnabled=!1,this.content=null,this.featuresPerPage=20,this.featureViewModelAbilities=null,this.featureViewModels=[],this.highlightEnabled=!0,this.includeDefaultActions=!0,this.selectedClusterBoundaryFeature=new Fa.Z({symbol:new WM.Z({outline:{width:1.5,color:"cyan"},style:"none"})}),this.title=null,this.updateLocationEnabled=!1,this.view=null,this.visible=!1,this.zoomFactor=4,this.zoomToLocation=null}get isLoadingFeature(){return this.featureViewModels.some(A=>A.waitingForContent)}initialize(){this._handles.add([(0,Ar.S1)(this,["autoOpenEnabled","view"],()=>this._autoOpenEnabledChange()),this.on("view-change",()=>this._autoClose()),(0,Ar.YP)(this,["highlightEnabled","selectedFeature","visible","view"],()=>this._highlightFeature()),(0,Ar.YP)(this,"view.animation.state",A=>this._animationStateChange(A)),(0,Ar.YP)(this,"location",A=>this._locationChange(A)),(0,Ar.YP)(this,"selectedFeature",A=>this._selectedFeatureChange(A)),(0,Ar.YP)(this,["selectedFeatureIndex","featureCount","featuresPerPage"],()=>this._selectedFeatureIndexChange()),(0,Ar.YP)(this,["featurePage","selectedFeatureIndex","featureCount","featuresPerPage, featureViewModels"],()=>this._setGraphicOnFeatureViewModels()),(0,Ar.YP)(this,"featureViewModels",()=>this._featureViewModelsChange()),this.on("trigger-action",A=>function(A){const{event:w,view:_}=A,{action:C}=w,I=_&&_.popup;if(!C)return Promise.reject(new os.Z("trigger-action:missing-arguments","Event has no action"));if(!I)return Promise.reject(new os.Z("trigger-action:missing-arguments","view.popup is missing"));const{disabled:j,id:K}=C;if(!K)return Promise.reject(new os.Z("trigger-action:invalid-action","action.id is missing"));if(j)return Promise.reject(new os.Z("trigger-action:invalid-action","Action is disabled"));if(K===rm.id)return function(A){return jM.apply(this,arguments)}(I.viewModel);if(K===zg.id)return function(A){return HM.apply(this,arguments)}(I.viewModel);if(K===Wg.id)return I.featureMenuOpen=!I.featureMenuOpen,I.viewModel.browseClusterEnabled=!I.viewModel.browseClusterEnabled,Promise.resolve();if(I.viewModel.browseClusterEnabled=!1,K===UM.id){I.close();const{selectedFeature:q}=I;if(!q)return Promise.reject(new os.Z(`trigger-action:${UM.id}`,"selectedFeature is required",{selectedFeature:q}));const{sourceLayer:ue}=q;return ue?ue.remove(q):_.graphics.remove(q),Promise.resolve()}return Promise.resolve()}({event:A,view:this.view})),(0,Ar.Nj)(this,"waitingForResult",()=>this._waitingForResultChange(),!0),(0,Ar.YP)(this,["features","view","view.map","view.spatialReference"],()=>this._updateFeatureVMs()),(0,Ar.YP)(this,["view.scale"],this._viewScaleChange),(0,Ar.Nj)(this,"visible",()=>this.browseClusterEnabled=!1),(0,Ar.YP)(this,"browseClusterEnabled",A=>A?this.enableClusterBrowsing():this.disableClusterBrowsing())])}destroy(){this._cancelFetchingFeatures(),this._handles.destroy(),this._handles=null,this._pendingPromises.clear(),this.browseClusterEnabled=!1,this.view=null}get active(){return!(!this.visible||this.waitingForResult)}get allActions(){const A=this._get("allActions")||new Wb;A.removeAll();const{actions:w,defaultActions:_,defaultPopupTemplateEnabled:C,includeDefaultActions:I,selectedFeature:j}=this,K=I?_.concat(w):w,q=j&&("function"==typeof j.getEffectivePopupTemplate&&j.getEffectivePopupTemplate(C)||j.popupTemplate),ue=q&&q.actions,Re=q&&q.overwriteActions?ue:ue?ue.concat(K):K;return Re&&Re.filter(Boolean).forEach(Je=>A.add(Je)),A}get defaultActions(){var A;const w=this._get("defaultActions")||new Wb;return w.removeAll(),w.addMany(null!=(A=this.selectedFeature)&&A.isAggregate?[zg.clone(),Wg.clone()]:[rm.clone()]),w}get featureCount(){return this.features.length}get features(){return this._get("features")||[]}set features(A){const w=A||[];this._set("features",w);const{pendingPromisesCount:_,promiseCount:C,selectedFeatureIndex:I}=this,j=C&&w.length;j&&_&&-1===I?this.selectedFeatureIndex=0:j&&-1!==I||(this.selectedFeatureIndex=w.length?0:-1)}get location(){return this._get("location")||null}set location(A){const w=this.get("view.spatialReference.isWebMercator");A&&A.get("spatialReference.isWGS84")&&w&&(A=(0,Ud.$)(A)),this._set("location",A)}get pendingPromisesCount(){return this._pendingPromises.size}get waitingForResult(){return!(!(this._fetchFeaturesController||this.pendingPromisesCount>0)||0!==this.featureCount)}get promiseCount(){return this.promises.length}get promises(){return this._get("promises")||[]}set promises(A){if(this._pendingPromises.clear(),this.features=[],!Array.isArray(A)||!A.length)return this._set("promises",[]),void this.notifyChange("pendingPromisesCount");this._set("promises",A),(A=A.slice(0)).forEach(w=>{this._pendingPromises.add(w),w.then(I=>{this._pendingPromises.has(w)&&this._updateFeatures(I),this._updatePendingPromises(w)},()=>this._updatePendingPromises(w))}),this.notifyChange("pendingPromisesCount")}get selectedFeature(){const{features:A,selectedFeatureIndex:w}=this;return-1===w?null:A[w]||null}get selectedFeatureIndex(){const A=this._get("selectedFeatureIndex");return"number"==typeof A?A:-1}set selectedFeatureIndex(A){const{featureCount:w}=this;A=isNaN(A)||A<-1||!w?-1:(A+w)%w,this._set("selectedFeatureIndex",A)}get selectedFeatureViewModel(){return this.featureViewModels[this.selectedFeatureIndex]||null}get state(){return this.get("view.ready")?"ready":"disabled"}centerAtLocation(){const{view:A}=this,w=$P(this);if(!w){const _=new os.Z("center-at-location:invalid-target-or-view","Cannot center at a location without a target and view.",{target:w,view:A});return XP.error(_),Promise.reject(_)}return this.callGoTo({target:{target:w,scale:A.scale}})}clear(){this.set({promises:[],features:[],content:null,title:null,location:null})}fetchFeatures(A,w){const{view:_}=this;if(!_||!A){const C=new os.Z("fetch-features:invalid-screenpoint-or-view","Cannot fetch features without a screenPoint and view.",{screenPoint:A,view:_});return XP.error(C),Promise.reject(C)}return _.fetchPopupFeatures(A,{event:w&&w.event,defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,signal:w&&w.signal})}open(A){const w=fr(ji({updateLocationEnabled:!1,promises:[],fetchFeatures:!1},A),{visible:!0}),{fetchFeatures:_}=w;delete w.fetchFeatures,_&&this._setFetchFeaturesPromises(w.location),this.set(w)}triggerAction(A){const w=this.allActions.getItemAt(A);w&&!w.disabled&&this.emit("trigger-action",{action:w})}next(){return this.selectedFeatureIndex=this.selectedFeatureIndex+1,this}previous(){return this.selectedFeatureIndex=this.selectedFeatureIndex-1,this}disableClusterBrowsing(){var A;(A=this).features=A.features.filter(w=>w.isAggregate),this._clearBrowsedClusterGraphics()}enableClusterBrowsing(){var A=this;return(0,Es.Z)(function*(){yield function(A){return VM.apply(this,arguments)}(A),yield function(A){return zM.apply(this,arguments)}(A)})()}_animationStateChange(A){this.zoomToLocation||(rm.disabled="waiting-for-target"===A)}_clearBrowsedClusterGraphics(){var A;const w=null==(A=this.view)?void 0:A.graphics;w&&(w.remove(this.selectedClusterBoundaryFeature),w.remove(this._selectedClusterFeature)),this._selectedClusterFeature=null,this.selectedClusterBoundaryFeature.geometry=null}_viewScaleChange(){var A;(null!=(A=this.selectedFeature)&&A.isAggregate||this.browseClusterEnabled)&&(this.browseClusterEnabled=!1,this.visible=!1)}_locationChange(A){const{selectedFeature:w,updateLocationEnabled:_}=this;_&&A&&(!w||w.geometry)&&this.centerAtLocation()}_selectedFeatureIndexChange(){this.featurePage=this.featureCount>1?Math.floor(this.selectedFeatureIndex/this.featuresPerPage)+1:null}_featureViewModelsChange(){this.featurePage=this.featureCount>1?1:null}_setGraphicOnFeatureViewModels(){const{features:A,featureCount:w,featurePage:_,featuresPerPage:C,featureViewModels:I}=this;if(null===_)return;const j=((_-1)*C+w)%w;I.slice(j,j+C).forEach((q,ue)=>{q&&!q.graphic&&(q.graphic=A[j+ue])})}_selectedFeatureChange(A){var w=this;return(0,Es.Z)(function*(){if(!A)return;const{location:_,updateLocationEnabled:C,view:I}=w;if(w.browseClusterEnabled)return w._selectedClusterFeature&&(I.graphics.remove(w._selectedClusterFeature),w._selectedClusterFeature=null),A.isAggregate?void 0:(A.symbol=yield function(A,w){return FM.apply(this,arguments)}(A),w._selectedClusterFeature=A,void I.graphics.add(w._selectedClusterFeature));!C&&_||!A.geometry?C&&!A.geometry&&w.centerAtLocation().then(()=>{w.location=I.center.clone()}):w.location=(0,Wi.Wg)(w._getPointFromGeometry(A.geometry))})()}_waitingForResultChange(){!this.featureCount&&this.promises&&(this.visible=!1)}_setFetchFeaturesPromises(A){return this._fetchFeaturesWithController(this._getScreenPoint(A||this.location)).then(w=>{const{clientOnlyGraphics:_,promisesPerLayerView:C}=w,I=Promise.resolve(_),j=C.map(K=>K.promise);this.promises=[I,...j]})}_destroyFeatureVMs(){this.featureViewModels.forEach(A=>A&&!A.destroyed&&A.destroy()),this._set("featureViewModels",[])}_updateFeatureVMs(){const{selectedFeature:A,features:w,featureViewModels:_}=this;if(null!=A&&A.isAggregate||(this.browseClusterEnabled=!1),this._destroyFeatureVMs(),!w||!w.length)return;const C=_.slice(0),I=[];w.forEach((j,K)=>{if(!j)return;let q=null;if(C.some((Je,wt)=>(Je&&Je.graphic===j&&(q=Je,C.splice(wt,1)),!!q)),q)I[K]=q;else{var ue,Re;const Je=new kM({abilities:this.featureViewModelAbilities,defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,spatialReference:null==(ue=this.view)?void 0:ue.spatialReference,graphic:j===A?j:null,map:null==(Re=this.view)?void 0:Re.map,view:this.view});I[K]=Je}}),C.forEach(j=>j&&!j.destroyed&&j.destroy()),this._set("featureViewModels",I)}_getScreenPoint(A){const{view:w}=this;return w&&A&&"function"==typeof w.toScreen?w.toScreen(A):null}_autoOpenEnabledChange(){const A="auto-fetch-features",{_handles:w,autoOpenEnabled:_}=this;if(w.remove(A),_&&this.view){const C=this.view.on("click",I=>{"mouse"===I.pointerType&&0!==I.button||this._fetchFeaturesAndOpen(I)},es.f.WIDGET);w.add(C,A)}}_cancelFetchingFeatures(){const A=this._fetchFeaturesController;A&&A.abort(),this._fetchFeaturesController=null,this.notifyChange("waitingForResult")}_fetchFeaturesWithController(A,w){this._cancelFetchingFeatures();const _=(0,Fs.yi)(),{signal:C}=_;this._fetchFeaturesController=_,this.notifyChange("waitingForResult");const I=this.fetchFeatures(A,{signal:C,event:w});return I.catch(()=>{}).then(()=>{this._fetchFeaturesController=null,this.notifyChange("waitingForResult")}),I}_fetchFeaturesAndOpen(A){const{screenPoint:w,mapPoint:_}=A,{view:C}=this;this._fetchFeaturesWithController(w,A).then(I=>{const{clientOnlyGraphics:j,promisesPerLayerView:K,location:q}=I,ue=[Promise.resolve(j),...K.map(Re=>Re.promise)];return C.popup.open({location:q||_,promises:ue}),I})}_updatePendingPromises(A){A&&this._pendingPromises.has(A)&&(this._pendingPromises.delete(A),this.notifyChange("pendingPromisesCount"))}_autoClose(){this.autoCloseEnabled&&(this.visible=!1)}_getPointFromGeometry(A){return(0,Wi.Wi)(A)?null:"point"===A.type?A:"extent"===A.type?A.center:"polygon"===A.type?A.centroid:"multipoint"===A.type||"polyline"===A.type?A.extent.center:null}_getLayerView(A,w){return(0,Es.Z)(function*(){return yield A.when(),A.whenLayerView(w)})()}_highlightFeature(){var A=this;return(0,Es.Z)(function*(){const w="highlight";A._handles.remove(w);const{selectedFeature:_,highlightEnabled:C,view:I,visible:j}=A;if(!(_&&I&&C&&j))return;let{layer:K,sourceLayer:q}=_;if("map-notes"!==(null==q?void 0:q.type)&&"subtype-group"!==(null==q?void 0:q.type)||(K=q),!(K&&K instanceof Rj.Z))return;const ue=A._getLayerView(I,K);A._highlightPromise=ue;const Re=yield ue;if(!(Re&&function(A){return A&&"function"==typeof A.highlight}(Re)&&A._highlightPromise===ue&&A.selectedFeature&&A.highlightEnabled&&A.visible))return;const Je="objectIdField"in K&&K.objectIdField,wt=_.attributes,ri=Re.highlight(wt&&Je&&wt[Je]||_);A._handles.add(ri,w)})()}_updateFeatures(A){const{features:w}=this;if(!A||!A.length)return;if(!w.length)return void(this.features=A);const _=A.filter(C=>-1===w.indexOf(C));this.features=w.concat(_)}};(0,At._)([(0,zt.Cb)()],zs.prototype,"featurePage",void 0),(0,At._)([(0,zt.Cb)()],zs.prototype,"isLoadingFeature",null),(0,At._)([(0,zt.Cb)({type:Wb})],zs.prototype,"actions",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],zs.prototype,"active",null),(0,At._)([(0,zt.Cb)({readOnly:!0})],zs.prototype,"allActions",null),(0,At._)([(0,zt.Cb)({type:Boolean})],zs.prototype,"defaultPopupTemplateEnabled",void 0),(0,At._)([(0,zt.Cb)()],zs.prototype,"autoCloseEnabled",void 0),(0,At._)([(0,zt.Cb)()],zs.prototype,"autoOpenEnabled",void 0),(0,At._)([(0,zt.Cb)()],zs.prototype,"browseClusterEnabled",void 0),(0,At._)([(0,zt.Cb)()],zs.prototype,"content",void 0),(0,At._)([(0,zt.Cb)({type:Wb,readOnly:!0})],zs.prototype,"defaultActions",null),(0,At._)([(0,zt.Cb)({readOnly:!0})],zs.prototype,"featureCount",null),(0,At._)([(0,zt.Cb)()],zs.prototype,"features",null),(0,At._)([(0,zt.Cb)()],zs.prototype,"featuresPerPage",void 0),(0,At._)([(0,zt.Cb)()],zs.prototype,"featureViewModelAbilities",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],zs.prototype,"featureViewModels",void 0),(0,At._)([(0,zt.Cb)()],zs.prototype,"highlightEnabled",void 0),(0,At._)([(0,zt.Cb)()],zs.prototype,"includeDefaultActions",void 0),(0,At._)([(0,zt.Cb)({type:Ys.Z})],zs.prototype,"location",null),(0,At._)([(0,zt.Cb)({readOnly:!0})],zs.prototype,"pendingPromisesCount",null),(0,At._)([(0,zt.Cb)({readOnly:!0})],zs.prototype,"selectedClusterBoundaryFeature",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],zs.prototype,"waitingForResult",null),(0,At._)([(0,zt.Cb)({readOnly:!0})],zs.prototype,"promiseCount",null),(0,At._)([(0,zt.Cb)()],zs.prototype,"promises",null),(0,At._)([(0,zt.Cb)({value:null,readOnly:!0})],zs.prototype,"selectedFeature",null),(0,At._)([(0,zt.Cb)({value:-1})],zs.prototype,"selectedFeatureIndex",null),(0,At._)([(0,zt.Cb)({readOnly:!0})],zs.prototype,"selectedFeatureViewModel",null),(0,At._)([(0,zt.Cb)({readOnly:!0})],zs.prototype,"state",null),(0,At._)([(0,zt.Cb)()],zs.prototype,"title",void 0),(0,At._)([(0,zt.Cb)()],zs.prototype,"updateLocationEnabled",void 0),(0,At._)([(0,zt.Cb)()],zs.prototype,"view",void 0),(0,At._)([(0,zt.Cb)()],zs.prototype,"visible",void 0),(0,At._)([(0,zt.Cb)()],zs.prototype,"zoomFactor",void 0),(0,At._)([(0,zt.Cb)()],zs.prototype,"zoomToLocation",void 0),(0,At._)([(0,zt.Cb)()],zs.prototype,"centerAtLocation",null),zs=(0,At._)([(0,br.j)(JP)],zs);var YP=zs,Gh=N(24940);const qP="selected-index",e9="popup-spinner",hr_shadow="esri-popup--shadow",hr_button="esri-popup__button",hr_icon="esri-popup__icon",t9={buttonEnabled:!0,position:"auto",breakpoint:{width:544}},n9="esri-popup";function Mf(A,w){return void 0===w?`${n9}__${A}`:`${n9}__${A}-${w}`}const r9="esri.widgets.Popup",s9=sa.Z.getLogger(r9),o9={closeButton:!0,featureNavigation:!0};let ts=class extends(zP(eu.Z)){constructor(A,w){super(A,w),this._blurClose=!1,this._blurContainer=!1,this._containerNode=null,this._mainContainerNode=null,this._featureMenuNode=null,this._actionsMenuNode=null,this._focusClose=!1,this._focusContainer=!1,this._focusDockButton=!1,this._focusFeatureMenuButton=!1,this._focusActionsMenuButton=!1,this._focusFirstFeature=!1,this._focusFirstAction=!1,this._handles=new Bl.Z,this._pointerOffsetInPx=16,this._spinner=null,this._feature=null,this._featureMenuIntersectionObserverCallback=([_])=>{null!=_&&_.isIntersecting&&this.viewModel.featurePage++},this._featureMenuIntersectionObserver=new IntersectionObserver(this._featureMenuIntersectionObserverCallback),this._displaySpinnerThrottled=(0,fP.P)(()=>this._displaySpinner(),0),this.actions=null,this.alignment="auto",this.autoCloseEnabled=null,this.autoOpenEnabled=null,this.defaultPopupTemplateEnabled=null,this.content=null,this.collapsed=!1,this.collapseEnabled=!0,this.dockEnabled=!1,this.featureCount=null,this.featureMenuOpen=!1,this.features=null,this.goToOverride=null,this.headingLevel=2,this.highlightEnabled=null,this.location=null,this.label=void 0,this.maxInlineActions=3,this.messages=null,this.messagesCommon=null,this.promises=null,this.selectedFeature=null,this.selectedFeatureIndex=null,this.spinnerEnabled=!0,this.title=null,this.updateLocationEnabled=null,this.view=null,this.viewModel=new YP,this.visible=null,this.visibleElements=ji({},o9),this._addSelectedFeatureIndexHandle(),this.own([(0,Ar.YP)(this,"viewModel.screenLocation",()=>this._positionContainer()),(0,Ar.YP)(this,["viewModel.active","dockEnabled"],()=>this._toggleScreenLocationEnabled()),(0,Ar.YP)(this,"viewModel.screenLocation",(_,C)=>{!!_!=!!C&&this.reposition()}),(0,Ar.YP)(this,["viewModel.view.padding","viewModel.view.size","viewModel.active","viewModel.location","alignment"],()=>this.reposition()),(0,Ar.YP)(this,"spinnerEnabled",_=>this._spinnerEnabledChange(_)),(0,Ar.YP)(this,"viewModel.view.size",(_,C)=>this._updateDockEnabledForViewSize(_,C)),(0,Ar.YP)(this,"viewModel.view",(_,C)=>this._viewChange(_,C)),(0,Ar.YP)(this,"viewModel.view.ready",(_,C)=>this._viewReadyChange(_,C)),(0,Ar.YP)(this,["viewModel.waitingForResult","viewModel.location"],()=>{this._hideSpinner(),this._displaySpinnerThrottled()}),(0,Ar.YP)(this,["selectedFeatureWidget.viewModel.title","selectedFeatureWidget.viewModel.state"],()=>this._setTitleFromFeatureWidget()),(0,Ar.YP)(this,["selectedFeatureWidget.viewModel.content","selectedFeatureWidget.viewModel.state"],()=>this._setContentFromFeatureWidget()),(0,Ar.Nj)(this,"collapsed",()=>{var _,C;"xsmall"===(null==(_=this.viewModel)||null==(C=_.view)?void 0:C.widthBreakpoint)&&this.viewModel.active&&this.collapseEnabled&&this.viewModel.centerAtLocation()}),(0,Ar.on)(this,"viewModel.allActions","change",()=>this._watchActions()),(0,Ar.S1)(this,"viewModel.allActions",()=>this._watchActions()),(0,Ar.YP)(this,"viewModel.featureViewModels",()=>this._featureMenuViewportScrollTop())])}destroy(){var A,w;this._destroySelectedFeatureWidget(),this._destroySpinner(),null==(A=this._handles)||A.destroy(),this._unobserveFeatureMenuObserver(),null==(w=this._featureMenuIntersectionObserver)||w.disconnect(),this._handles=null}get actionsMenuId(){return`${this.id}-actions-menu`}get actionsMenuButtonId(){return`${this.id}-actions-menu-button`}get featureMenuId(){return`${this.id}-feature-menu`}get titleId(){return`${this.id}-popup-title`}get contentId(){return`${this.id}-popup-content`}get hasContent(){var A,w,_,C,I,j,K;return!!(this.selectedFeatureWidget?(null==(A=this.selectedFeatureWidget)||null==(w=A.viewModel)?void 0:w.waitingForContent)||"error"===(null==(_=this.selectedFeatureWidget)||null==(C=_.viewModel)?void 0:C.state)||(null==(I=this.selectedFeatureWidget)||null==(j=I.viewModel)?void 0:j.content):null==(K=this.viewModel)?void 0:K.content)}get featureNavigationVisible(){return this.viewModel.active&&this.viewModel.featureCount>1&&this.visibleElements.featureNavigation}get collapsible(){return!!(this.collapseEnabled&&this.viewModel.title&&this.hasContent)}get featureMenuVisible(){return this.featureNavigationVisible&&this.featureMenuOpen}get contentCollapsed(){return this.collapsible&&!this.featureMenuVisible&&this.collapsed}get dividedActions(){return this._divideActions()}set actionsMenuOpen(A){this._set("actionsMenuOpen",!!A)}get actionsMenuOpen(){return!!this.viewModel.active&&this._get("actionsMenuOpen")}get currentAlignment(){return this._getCurrentAlignment()}get currentDockPosition(){return this._getCurrentDockPosition()}get dockOptions(){return this._get("dockOptions")||t9}set dockOptions(A){const w=ji({},t9),_=this.get("viewModel.view.breakpoints"),C={};_&&(C.width=_.xsmall,C.height=_.xsmall);const I=ji(ji({},w),A),j=ji(ji({},w.breakpoint),C),{breakpoint:K}=I;!0===K?I.breakpoint=j:"object"==typeof K&&(I.breakpoint=ji(ji({},j),K)),this._set("dockOptions",I),this._setCurrentDockPosition(),this.reposition()}get selectedFeatureWidget(){const{_feature:A,visibleElements:w,headingLevel:_}=this,{selectedFeatureViewModel:C}=this.viewModel,I=fr(ji({},w),{title:!1});return C?(A?(A.viewModel=C,A.visibleElements=I):this._feature=new kj({headingLevel:_+1,viewModel:C,visibleElements:I}),this._feature):null}castVisibleElements(A){return ji(ji({},o9),A)}blur(){const{active:A}=this.viewModel;A||s9.warn("Popup can only be blurred when currently active."),this.visibleElements.closeButton?this._blurClose=!0:this._blurContainer=!0,this.scheduleRender()}clear(){this.viewModel.clear()}close(){this.visible=!1}fetchFeatures(A,w){return this.viewModel.fetchFeatures(A,w)}focus(){const{active:A}=this.viewModel;A||s9.warn("Popup can only be focused when currently active."),this.visibleElements.closeButton?this._focusClose=!0:this._focusContainer=!0,this.scheduleRender()}next(){return this.viewModel.next()}open(A){var w,_;this._handles.remove(qP);const j={collapsed:!!A&&!!A.collapsed,actionsMenuOpen:!!A&&!!A.actionsMenuOpen,featureMenuOpen:!!A&&!!A.featureMenuOpen};"xsmall"===(null==(w=this.viewModel)||null==(_=w.view)?void 0:_.widthBreakpoint)&&(j.collapsed=!0),this.set(j),this.viewModel.open(A),this._addSelectedFeatureIndexHandle()}previous(){return this.viewModel.previous()}reposition(){this.renderNow(),this._positionContainer(),this._setCurrentAlignment()}triggerAction(A){this.viewModel.triggerAction(A)}render(){var A,w,_,C;const{actionsMenuOpen:I,dockEnabled:j,featureMenuVisible:K,dividedActions:q,currentAlignment:ue,currentDockPosition:Re}=this,{active:Je}=this.viewModel,{menuActions:wt}=q,Gi=null==(A=this.selectedFeature)||null==(w=A.layer)?void 0:w.title,fn=null==(_=this.selectedFeature)||null==(C=_.layer)?void 0:C.id;return(0,Fn.u)("div",{class:this.classes("esri-popup",{"esri-popup--aligned-top-center":"top-center"===ue,"esri-popup--aligned-bottom-center":"bottom-center"===ue,"esri-popup--aligned-top-left":"top-left"===ue,"esri-popup--aligned-bottom-left":"bottom-left"===ue,"esri-popup--aligned-top-right":"top-right"===ue,"esri-popup--aligned-bottom-right":"bottom-right"===ue,"esri-popup--is-docked":Je&&j,[hr_shadow]:Je&&!j,"esri-popup--is-docked-top-left":"top-left"===Re,"esri-popup--is-docked-top-center":"top-center"===Re,"esri-popup--is-docked-top-right":"top-right"===Re,"esri-popup--is-docked-bottom-left":"bottom-left"===Re,"esri-popup--is-docked-bottom-center":"bottom-center"===Re,"esri-popup--is-docked-bottom-right":"bottom-right"===Re,"esri-popup--feature-menu-open":K,"esri-popup--actions-menu-open":Je&&wt.length>1&&I}),role:"presentation","data-layer-title":Gi,"data-layer-id":fn,bind:this,afterCreate:this._positionContainer,afterUpdate:this._positionContainer},Je?[this.renderMainContainer(),this.renderPointer()]:null)}renderLoadingIcon(){return(0,Fn.u)("span",{"aria-hidden":"true",class:this.classes(hr_icon,"esri-icon-loading-indicator","esri-rotating")})}renderNavigationLoading(){const{messagesCommon:A}=this;return this.viewModel.pendingPromisesCount?(0,Fn.u)("div",{key:Mf("loading-container"),role:"presentation",class:"esri-popup__loading-container","aria-label":A.loading,title:A.loading},this.renderLoadingIcon()):null}renderPreviousIcon(){const A=(0,hc.dZ)(this.container);return(0,Fn.u)("span",{"aria-hidden":"true",class:this.classes(hr_icon,{"esri-icon-right-triangle-arrow":A,"esri-popup__pagination-previous-icon--rtl":A,"esri-icon-left-triangle-arrow":!A,"esri-popup__pagination-previous-icon":!A})})}renderPreviousButton(){const{messages:A}=this;return(0,Fn.u)("div",{role:"button",tabIndex:0,bind:this,onclick:this._previous,onkeydown:this._previous,class:this.classes(hr_button,"esri-popup__pagination-previous"),"aria-label":A.previous,title:A.previous},this.renderPreviousIcon())}renderNextIcon(){const A=(0,hc.dZ)(this.container);return(0,Fn.u)("span",{"aria-hidden":"true",class:this.classes(hr_icon,{"esri-icon-left-triangle-arrow":A,"esri-popup__pagination-next-icon--rtl":A,"esri-icon-right-triangle-arrow":!A,"esri-popup__pagination-next-icon":!A})})}renderNextButton(){const{messages:A}=this;return(0,Fn.u)("div",{role:"button",tabIndex:0,bind:this,onclick:this._next,onkeydown:this._next,class:this.classes(hr_button,"esri-popup__pagination-next"),"aria-label":A.next,title:A.next},this.renderNextIcon())}renderFeatureMenuButton(){const{featureMenuOpen:A,featureMenuId:w,messagesCommon:_}=this,{featureCount:C,selectedFeatureIndex:I}=this.viewModel;return(0,Fn.u)("div",{role:"button",tabIndex:0,bind:this,onclick:this._toggleFeatureMenu,onkeydown:this._toggleFeatureMenu,afterCreate:this._focusFeatureMenuButtonNode,afterUpdate:this._focusFeatureMenuButtonNode,class:this.classes(hr_button,"esri-popup__feature-menu-button"),"aria-haspopup":"true","aria-controls":w,"aria-expanded":A.toString(),"aria-label":_.menu,title:_.menu},this._getPageText(C,I))}renderNavigationButtons(){return this.featureNavigationVisible?[this.renderPreviousButton(),this.renderNavigationLoading()||this.renderFeatureMenuButton(),this.renderNextButton()]:null}renderDockIcon(){const{dockEnabled:A}=this,w=this._wouldDockTo();return(0,Fn.u)("span",{"aria-hidden":"true",class:this.classes({"esri-icon-minimize":A,"esri-popup__icon--dock-icon":!A,"esri-icon-dock-right":!A&&("top-right"===w||"bottom-right"===w),"esri-icon-dock-left":!A&&("top-left"===w||"bottom-left"===w),"esri-icon-maximize":!A&&"top-center"===w,"esri-icon-dock-bottom":!A&&"bottom-center"===w},hr_icon)})}renderDockButton(){var A,w,_;const{dockEnabled:C,messages:I}=this,j=null==(A=this.viewModel)||null==(w=A.view)?void 0:w.widthBreakpoint,K=C?I.undock:I.dock;return"xsmall"!==j&&null!=(_=this.dockOptions)&&_.buttonEnabled?(0,Fn.u)("div",{role:"button","aria-label":K,title:K,tabIndex:0,bind:this,onclick:this._toggleDockEnabled,onkeydown:this._toggleDockEnabled,afterCreate:this._focusDockButtonNode,afterUpdate:this._focusDockButtonNode,class:this.classes(hr_button,"esri-popup__button--dock")},this.renderDockIcon()):null}renderTitle(){const{title:A}=this.viewModel,{titleId:w,collapsible:_,contentCollapsed:C,messagesCommon:I}=this,j={"esri-popup__header-container--button":_},K=(0,Fn.u)(mM,{level:this.headingLevel,class:"esri-popup__header-title",innerHTML:A}),q=_?(0,Fn.u)("button",{key:`${A}--collapsible`,id:w,title:C?I.expand:I.collapse,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes("esri-popup__header-container",j),"aria-expanded":C?"false":"true",onclick:this._toggleCollapsed},K):(0,Fn.u)("div",{key:A,id:w,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes("esri-popup__header-container",j)},K);return A?q:null}renderCloseIcon(){return(0,Fn.u)("span",{"aria-hidden":"true",class:this.classes(hr_icon,"esri-icon-close")})}renderCloseButton(){const{visibleElements:A,messagesCommon:w}=this;return A.closeButton?(0,Fn.u)("div",{role:"button",tabIndex:0,bind:this,onclick:this._close,onkeydown:this._close,class:hr_button,"aria-label":w.close,title:w.close,afterCreate:this._closeButtonNodeUpdated,afterUpdate:this._closeButtonNodeUpdated},this.renderCloseIcon()):null}renderHeader(){return(0,Fn.u)("header",{class:"esri-popup__header"},this.renderTitle(),(0,Fn.u)("div",{class:"esri-popup__header-buttons"},this.renderDockButton(),this.renderCloseButton()))}renderContentContainer(){const{contentId:A,hasContent:w,contentCollapsed:_}=this,{content:C}=this.viewModel;return w&&!_?(0,Fn.u)("article",{key:C,enterAnimation:this._createFeatureUpdatedAnimation(),id:A,class:"esri-popup__content"},this.renderContent()):null}renderActionsMenuButton(){const{actionsMenuId:A,actionsMenuButtonId:w,actionsMenuOpen:_,dividedActions:C,messagesCommon:I}=this,j=_?I.close:I.open,{menuActions:K}=C;return K.length?(0,Fn.u)("div",{key:Mf("actions-menu-button"),class:this.classes(hr_button,"esri-popup__actions-menu-button"),role:"button",id:w,"aria-haspopup":"true","aria-controls":_?A:null,tabIndex:0,bind:this,onclick:this._toggleActionsMenu,onkeydown:this._toggleActionsMenu,afterCreate:this._focusActionsMenuButtonNode,afterUpdate:this._focusActionsMenuButtonNode,"aria-label":j,title:j},(0,Fn.u)("span",{"aria-hidden":"true",class:"esri-icon-handle-horizontal"})):null}renderMenuActions(){const{actionsMenuId:A,actionsMenuButtonId:w,actionsMenuOpen:_,dividedActions:C}=this,{menuActions:I,inlineActions:j}=C;return I.length&&_?(0,Fn.u)("ul",{id:A,role:"menu","aria-labelledby":w,key:Mf("actions"),class:"esri-popup__actions",bind:this,onkeyup:this._handleActionMenuKeyup,afterCreate:this._actionsMenuNodeUpdated,afterUpdate:this._actionsMenuNodeUpdated},I.toArray().map((K,q)=>this.renderAction({action:K,index:q+j.length,type:"menu-item"}))):null}renderInlineActions(){const{inlineActions:A}=this.dividedActions;return!!A.length&&A.toArray().map((w,_)=>this.renderAction({action:w,index:_,type:"inline"}))}renderInlineActionsContainer(){const{inlineActions:A,menuActions:w}=this.dividedActions,_=!!A.length,C=!!w.length;return _||C?(0,Fn.u)("div",{key:"inline-actions-container","data-inline-actions":_.toString(),"data-menu-actions":C.toString(),class:"esri-popup__inline-actions-container"},this.renderInlineActions(),this.renderActionsMenuButton(),this.renderMenuActions()):null}renderNavigation(){return this.featureNavigationVisible?(0,Fn.u)("section",{key:Mf("navigation"),class:this.classes("esri-popup__navigation")},this.renderNavigationButtons()):null}renderFooter(){const{featureNavigationVisible:A,dividedActions:w}=this,{inlineActions:_,menuActions:C}=w,I=!!_.length,K={"esri-popup__footer--has-pagination":A,"esri-popup__footer--has-actions":I,"esri-popup__footer--has-actions-menu":!!C.length};return A||I?(0,Fn.u)("div",{key:Mf("feature-buttons"),class:this.classes("esri-popup__footer",K)},this.renderInlineActionsContainer(),this.renderNavigation()):null}renderFeatureMenuContainer(){const{messages:A}=this,{featureViewModels:w,isLoadingFeature:_}=this.viewModel,C=(0,Df.n)(A.selectedFeatures,{total:w.length});return(0,Fn.u)("section",{key:Mf("menu"),class:"esri-popup__feature-menu"},(0,Fn.u)("strong",{class:"esri-popup__feature-menu-header"},C),(0,Fn.u)("nav",{bind:this,class:"esri-popup__feature-menu-viewport","data-node-ref":"_featureMenuViewportNode",afterCreate:hc.Se},this.renderFeatureMenu(),(0,Fn.u)("div",{class:"esri-popup__feature-menu-observer",bind:this,afterCreate:this._featureMenuIntersectionObserverCreated}),_?(0,Fn.u)("div",{class:"esri-popup__feature-menu-loader"},this.renderLoadingIcon()):null))}renderPointer(){return this.dockEnabled?null:(0,Fn.u)("div",{key:Mf("pointer"),class:"esri-popup__pointer",role:"presentation"},(0,Fn.u)("div",{class:this.classes("esri-popup__pointer-direction",hr_shadow)}))}renderMainContainer(){const{dockEnabled:A,currentAlignment:w,currentDockPosition:_,titleId:C,contentId:I,collapsible:j,hasContent:K,contentCollapsed:q,visibleElements:ue}=this,{title:Re}=this.viewModel,Je="bottom-left"===w||"bottom-center"===w||"bottom-right"===w||"top-left"===_||"top-center"===_||"top-right"===_,wt="top-left"===w||"top-center"===w||"top-right"===w||"bottom-left"===_||"bottom-center"===_||"bottom-right"===_;return(0,Fn.u)("div",{class:this.classes("esri-popup__main-container","esri-widget",{[hr_shadow]:A,"esri-popup--is-collapsible":j,"esri-popup--is-collapsed":q}),tabIndex:ue.closeButton?null:-1,role:"dialog","aria-labelledby":Re?C:"","aria-describedby":K&&!q?I:"",bind:this,onkeyup:this._handleMainKeyup,afterCreate:this._mainContainerNodeUpdated,afterUpdate:this._mainContainerNodeUpdated},Je?this.renderFooter():null,Je?this.renderFeatureMenuContainer():null,this.renderHeader(),this.renderContentContainer(),wt?this.renderFooter():null,wt?this.renderFeatureMenuContainer():null)}renderContent(){var A;const w=null==(A=this.viewModel)?void 0:A.content;return w?"string"==typeof w?(0,Fn.u)("div",{key:w,innerHTML:w}):this.renderNodeContent(w):null}renderActionText(A){return(0,Fn.u)("span",{key:"text",class:"esri-popup__action-text"},A)}renderActionIcon(A){const w=this._getActionClass(A),_=this._getActionImage(A),C={"esri-icon-loading-indicator":A.active,"esri-rotating":A.active,[hr_icon]:!!w,"esri-popup__action-image":!A.active&&!!_};return w&&(C[w]=!A.active),(0,Fn.u)("span",{key:"icon","aria-hidden":"true",class:this.classes(hr_icon,C),styles:this._getIconStyles(_)})}renderAction(A){const{action:w,index:_,type:C}=A,I=this._getActionTitle(w),j={"esri-popup__action":"toggle"!==w.type,"esri-popup__action-toggle":"toggle"===w.type,"esri-popup__action-toggle--on":"toggle"===w.type&&w.value,"esri-popup__button--disabled":w.disabled},K=[this.renderActionIcon(w),this.renderActionText(I)],q="menu-item"===C?(0,Fn.u)("li",{key:w.uid,role:"menuitem",tabIndex:0,title:I,"aria-label":I,class:this.classes(hr_button,j),onkeyup:this._handleActionMenuItemKeyup,bind:this,"data-action-index":_,onclick:this._triggerAction,onkeydown:this._triggerAction},K):(0,Fn.u)("div",{key:w.uid,role:"button",tabIndex:0,title:I,"aria-label":I,class:this.classes(hr_button,j),onkeyup:this._handleActionMenuItemKeyup,bind:this,"data-action-index":_,onclick:this._triggerAction,onkeydown:this._triggerAction},K);return w.visible?q:null}renderFeatureMenuItem(A,w){const{messages:_,messagesCommon:C}=this,{selectedFeatureIndex:I,selectedFeatureViewModel:j}=this.viewModel,K=A===j,q={"esri-popup__feature-menu-item--selected":K},ue=K?(0,Fn.u)("span",{key:Mf(`feature-menu-selected-feature-${I}`),title:_.selectedFeature,"aria-label":_.selectedFeature,class:"esri-icon-check-mark"}):null,Re=(0,Fn.u)("span",{innerHTML:A.title||C.untitled});return(0,Fn.u)("li",{role:"menuitem",tabIndex:-1,key:Mf(`feature-menu-feature-${I}`),class:this.classes(q,"esri-popup__feature-menu-item"),bind:this,"data-feature-index":w,onkeyup:this._handleFeatureMenuItemKeyup,onclick:this._selectFeature,onkeydown:this._selectFeature},(0,Fn.u)("span",{class:"esri-popup__feature-menu-title"},Re,ue))}renderFeatureMenu(){const{featureMenuId:A}=this,{featureViewModels:w}=this.viewModel;return w.length>1?(0,Fn.u)("ol",{class:"esri-popup__feature-menu-list",id:A,bind:this,afterCreate:this._featureMenuNodeUpdated,afterUpdate:this._featureMenuNodeUpdated,onkeyup:this._handleFeatureMenuKeyup,role:"menu"},w.filter(_=>!!_.graphic).map((_,C)=>this.renderFeatureMenuItem(_,C))):null}_getActionTitle(A){const{messages:w,selectedFeature:_,messagesCommon:C}=this,{id:I}=A,j=null==_?void 0:_.attributes,K="zoom-to-feature"===I?(0,Df.n)(A.title,{messages:w}):"remove-selected-feature"===I?(0,Df.n)(A.title,{messages:C}):"zoom-to-clustered-features"===I||"browse-clustered-features"===I?(0,Df.n)(A.title,{messages:w}):A.title;return K&&j?(0,Df.n)(K,j):K}_getActionClass(A){const{selectedFeature:w}=this,_=null==w?void 0:w.attributes,{className:C,image:I}=A,j=I||C?C:"esri-icon-default-action";return j&&_?(0,Df.n)(j,_):j}_getActionImage(A){const{selectedFeature:w}=this,_=null==w?void 0:w.attributes,{image:C}=A;return C&&_?(0,Df.n)(C,_):C}_createFeatureUpdatedAnimation(){return(0,hc.vU)("enter","esri-popup--feature-updated")}_getInlineActionCount(){const{maxInlineActions:A,featureNavigationVisible:w}=this;if("number"!=typeof A)return null;const _=Math.round(A);return Math.max(w?_-1:_,0)}_watchActions(){const{allActions:A}=this.viewModel;this.notifyChange("dividedActions");const w="actions";this._handles.remove(w),A&&A.forEach(_=>{this._handles.add((0,Ar.YP)(_,["active","className","disabled","id","title","image","visible"],()=>this.scheduleRender()),w)})}_divideActions(){const{allActions:A}=this.viewModel,w=this._getInlineActionCount(),_=null===w,C=0===w;return{inlineActions:_?A.slice(0):C?new tl.Z:A.slice(0,w),menuActions:_?new tl.Z:A.slice(C?0:w)}}_featureMenuOpenChanged(A){A?this._focusFirstFeature=!0:this._focusFeatureMenuButton=!0}_actionsMenuOpenChanged(A){A?this._focusFirstAction=!0:this._focusActionsMenuButton=!0}_setTitleFromFeatureWidget(){const{selectedFeatureWidget:A,messagesCommon:w}=this;var _,C;A&&(this.viewModel.title="error"===(null==(_=A.viewModel)?void 0:_.state)?w.errorMessage:(null==(C=A.viewModel)?void 0:C.title)||"")}_setContentFromFeatureWidget(){const{selectedFeatureWidget:A}=this;A&&(this.viewModel.content=A)}_unobserveFeatureMenuObserver(){this._featureMenuIntersectionObserverNode&&this._featureMenuIntersectionObserver.unobserve(this._featureMenuIntersectionObserverNode)}_featureMenuIntersectionObserverCreated(A){this._unobserveFeatureMenuObserver(),this._featureMenuIntersectionObserver.observe(A),this._featureMenuIntersectionObserverNode=A}_handleFeatureMenuKeyup(A){"Escape"===(0,Py.kK)(A)&&(A.stopPropagation(),this._focusFeatureMenuButton=!0,this.featureMenuOpen=!1,this.scheduleRender())}_handleActionMenuKeyup(A){"Escape"===(0,Py.kK)(A)&&(A.stopPropagation(),this._focusActionsMenuButton=!0,this.actionsMenuOpen=!1,this.scheduleRender())}_handleFeatureMenuItemKeyup(A){const w=(0,Py.kK)(A),{_featureMenuNode:_}=this,C=A.currentTarget["data-feature-index"];if(!_)return;const I=_.querySelectorAll("li"),j=I.length;"ArrowUp"!==w?"ArrowDown"!==w?"Home"!==w?"End"!==w||(A.stopPropagation(),I[I.length-1].focus()):(A.stopPropagation(),I[0].focus()):(A.stopPropagation(),I[(C+1+j)%j].focus()):(A.stopPropagation(),I[(C-1+j)%j].focus())}_handleActionMenuItemKeyup(A){const w=(0,Py.kK)(A),{_actionsMenuNode:_}=this,C=A.currentTarget["data-action-index"];if(!_)return;const I=_.querySelectorAll("li"),j=I.length;"ArrowUp"!==w?"ArrowDown"!==w?"Home"!==w?"End"!==w||(A.stopPropagation(),I[I.length-1].focus()):(A.stopPropagation(),I[0].focus()):(A.stopPropagation(),I[(C+1+j)%j].focus()):(A.stopPropagation(),I[(C-1+j)%j].focus())}_handleMainKeyup(A){const w=(0,Py.kK)(A);"ArrowLeft"===w&&(A.stopPropagation(),this.previous()),"ArrowRight"===w&&(A.stopPropagation(),this.next())}_spinnerEnabledChange(A){if(this._destroySpinner(),!A)return;const w=this.get("viewModel.view");this._createSpinner(w)}_hideSpinner(){const{_spinner:A}=this;A&&(A.location=null,A.hide())}_displaySpinner(){const{_spinner:A}=this;if(!A)return;const{location:w,waitingForResult:_}=this.viewModel;_?A.show({location:w}):A.hide()}_getIconStyles(A){return{"background-image":A?`url(${A})`:""}}_addSelectedFeatureIndexHandle(){const A=(0,Ar.YP)(this,"viewModel.selectedFeatureIndex",(w,_)=>this._selectedFeatureIndexUpdated(w,_));this._handles.add(A,qP)}_selectedFeatureIndexUpdated(A,w){const{featureCount:_}=this;_&&A!==w&&-1!==A&&(this.actionsMenuOpen=!1,this.featureMenuOpen=!1)}_destroySelectedFeatureWidget(){const{_feature:A}=this;A&&(A.viewModel=null,A&&!A.destroyed&&A.destroy()),this._feature=null}_isScreenLocationWithinView(A,w){return A.x>-1&&A.y>-1&&A.x<=w.width&&A.y<=w.height}_isOutsideView(A){const{popupHeight:w,popupWidth:_,screenLocation:C,side:I,view:j}=A;if(isNaN(_)||isNaN(w)||!j||!C)return!1;const K=j.padding;return"right"===I&&C.x+_/2>j.width-K.right||"left"===I&&C.x-_/2<K.left||"top"===I&&C.y-w<K.top||"bottom"===I&&C.y+w>j.height-K.bottom}_calculateAutoAlignment(A){if("auto"!==A)return A;const{_pointerOffsetInPx:w,_containerNode:_,_mainContainerNode:C,viewModel:I}=this,{screenLocation:j,view:K}=I;if((0,Wi.Wi)(j)||!K||!_)return"top-center";if(!this._isScreenLocationWithinView(j,K))return this._get("currentAlignment")||"top-center";function q(Zn){return parseInt(Zn.replace(/[^-\d\.]/g,""),10)}const ue=C?window.getComputedStyle(C,null):null,Re=ue?q(ue.getPropertyValue("max-height")):0,Je=ue?q(ue.getPropertyValue("height")):0,{height:wt,width:Qt}=_.getBoundingClientRect(),ri=Qt+w,Ci=Math.max(wt,Re,Je)+w,Gi=this._isOutsideView({popupHeight:Ci,popupWidth:ri,screenLocation:j,side:"right",view:K}),fn=this._isOutsideView({popupHeight:Ci,popupWidth:ri,screenLocation:j,side:"left",view:K}),Mn=this._isOutsideView({popupHeight:Ci,popupWidth:ri,screenLocation:j,side:"top",view:K}),gn=this._isOutsideView({popupHeight:Ci,popupWidth:ri,screenLocation:j,side:"bottom",view:K});return fn?Mn?"bottom-right":"top-right":Gi?Mn?"bottom-left":"top-left":Mn?gn?"top-center":"bottom-center":"top-center"}_callCurrentAlignment(A){return"function"==typeof A?A.call(this):A}_getCurrentAlignment(){const{alignment:A,dockEnabled:w}=this;return w||!this.viewModel.active?null:this._calculatePositionResult(this._calculateAutoAlignment(this._callCurrentAlignment(A)))}_setCurrentAlignment(){this._set("currentAlignment",this._getCurrentAlignment())}_setCurrentDockPosition(){this._set("currentDockPosition",this._getCurrentDockPosition())}_calculatePositionResult(A){const w=["left","right"];return(0,hc.dZ)(this.container)&&w.reverse(),A.replace(/leading/gi,w[0]).replace(/trailing/gi,w[1])}_callDockPosition(A){return"function"==typeof A?A.call(this):A}_getDockPosition(){var A;return this._calculatePositionResult(this._calculateAutoDockPosition(this._callDockPosition(null==(A=this.dockOptions)?void 0:A.position)))}_getCurrentDockPosition(){return this.dockEnabled&&this.viewModel.active?this._getDockPosition():null}_wouldDockTo(){return this.dockEnabled?null:this._getDockPosition()}_calculateAutoDockPosition(A){var w;if("auto"!==A)return A;const _=null==(w=this.viewModel)?void 0:w.view,C=(0,hc.dZ)(this.container)?"top-left":"top-right";if(!_)return C;const I=_.padding||{left:0,right:0,top:0,bottom:0},j=_.width-I.left-I.right,{breakpoints:K}=_;return K&&j<=K.xsmall?"bottom-center":C}_positionContainer(A=this._containerNode){if(A&&(this._containerNode=A),!A)return;const{screenLocation:w}=this.viewModel,{width:_}=A.getBoundingClientRect(),C=this._calculatePositionStyle(w,_);C&&(A.style.top=C.top,A.style.left=C.left,A.style.bottom=C.bottom,A.style.right=C.right)}_calculateFullWidth(A){const{currentAlignment:w,_pointerOffsetInPx:_}=this;return"top-left"===w||"bottom-left"===w||"top-right"===w||"bottom-right"===w?A+_:A}_calculateAlignmentPosition(A,w,_,C){const{currentAlignment:I,_pointerOffsetInPx:j}=this,K=C/2,q=_.height-w,ue=_.width-A,{padding:Re}=this.view;return"bottom-center"===I?{top:w+j-Re.top,left:A-K-Re.left}:"top-left"===I?{bottom:q+j-Re.bottom,right:ue+j-Re.right}:"bottom-left"===I?{top:w+j-Re.top,right:ue+j-Re.right}:"top-right"===I?{bottom:q+j-Re.bottom,left:A+j-Re.left}:"bottom-right"===I?{top:w+j-Re.top,left:A+j-Re.left}:"top-center"===I?{bottom:q+j-Re.bottom,left:A-K-Re.left}:void 0}_calculatePositionStyle(A,w){const{dockEnabled:_,view:C}=this;if(!C)return;if(_)return{left:"",top:"",right:"",bottom:""};if((0,Wi.Wi)(A)||!w)return;const I=this._calculateFullWidth(w),j=this._calculateAlignmentPosition(A.x,A.y,C,I);return j?{top:void 0!==j.top?`${j.top}px`:"auto",left:void 0!==j.left?`${j.left}px`:"auto",bottom:void 0!==j.bottom?`${j.bottom}px`:"auto",right:void 0!==j.right?`${j.right}px`:"auto"}:void 0}_viewChange(A,w){A&&w&&(this.close(),this.clear())}_viewReadyChange(A,w){if(A){const _=this.get("viewModel.view");this._wireUpView(_)}else w&&(this.close(),this.clear())}_wireUpView(A){if(this._destroySpinner(),!A)return;const{spinnerEnabled:w}=this;w&&this._createSpinner(A),this._setDockEnabledForViewSize(this.dockOptions)}_dockingThresholdCrossed(A,w,_){const[C,I]=A,[j,K]=w,{width:q,height:ue}=_;return C<=q&&j>q||C>q&&j<=q||I<=ue&&K>ue||I>ue&&K<=ue}_updateDockEnabledForViewSize(A,w){if(!A||!w)return;const _=this.get("viewModel.view.padding")||{left:0,right:0,top:0,bottom:0},C=_.left+_.right,I=_.top+_.bottom,j=[],K=[];j[0]=A[0]-C,j[1]=A[1]-I,K[0]=w[0]-C,K[1]=w[1]-I;const{dockOptions:q}=this;this._dockingThresholdCrossed(j,K,q.breakpoint)&&this._setDockEnabledForViewSize(q),this._setCurrentDockPosition()}_focusDockButtonNode(A){this._focusDockButton&&(this._focusDockButton=!1,A.focus())}_closeButtonNodeUpdated(A){return this._focusClose?(this._focusClose=!1,void A.focus()):this._blurClose?(this._blurClose=!1,void A.blur()):void 0}_mainContainerNodeUpdated(A){return this._mainContainerNode=A,this._focusContainer?(this._focusContainer=!1,void A.focus()):this._blurContainer?(this._blurContainer=!1,void A.blur()):void 0}_featureMenuNodeUpdated(A){if(this._featureMenuNode=A,!A||!this._focusFirstFeature)return;this._focusFirstFeature=!1;const w=A.querySelectorAll("li");w.length&&w[0].focus()}_actionsMenuNodeUpdated(A){if(this._actionsMenuNode=A,!A||!this._focusFirstAction)return;this._focusFirstAction=!1;const w=A.querySelectorAll("li");w.length&&w[0].focus()}_focusFeatureMenuButtonNode(A){this._focusFeatureMenuButton&&(this._focusFeatureMenuButton=!1,A.focus())}_focusActionsMenuButtonNode(A){this._focusActionsMenuButton&&(this._focusActionsMenuButton=!1,A.focus())}_featureMenuViewportScrollTop(){this._featureMenuViewportNode&&(this._featureMenuViewportNode.scrollTop=0)}_toggleScreenLocationEnabled(){const{dockEnabled:A,viewModel:w}=this;w&&(w.screenLocationEnabled=w.active&&!A)}_shouldDockAtCurrentViewSize(A){var w,_;const C=A.breakpoint,I=null==(w=this.viewModel)||null==(_=w.view)?void 0:_.ui;if(!I)return!1;const{width:j,height:K}=I;if(isNaN(j)||isNaN(K))return!1;const q=C.hasOwnProperty("width")&&j<=C.width,ue=C.hasOwnProperty("height")&&K<=C.height;return q||ue}_setDockEnabledForViewSize(A){A.breakpoint&&(this.dockEnabled=this._shouldDockAtCurrentViewSize(A))}_getPageText(A,w){return this.featureNavigationVisible?(0,Df.n)(this.messages.pageText,{index:w+1,total:A}):null}_destroySpinner(){const{_spinner:A,view:w}=this;A&&(w&&w.ui&&w.ui.remove(this._spinner,e9),A.destroy(),this._spinner=null)}_createSpinner(A){A&&(this._spinner=new Bj({view:A}),A.ui.add(this._spinner,{key:e9,position:"manual"}))}_toggleCollapsed(){this.collapsed=!this.collapsed}_close(){this.close(),this.view&&this.view.focus()}_toggleDockEnabled(){this.dockEnabled=!this.dockEnabled,this._focusDockButton=!0,this.scheduleRender()}_toggleFeatureMenu(){const A=!this.featureMenuOpen;this._featureMenuOpenChanged(A),this.actionsMenuOpen=!1,this.featureMenuOpen=A}_toggleActionsMenu(){const A=!this.actionsMenuOpen;this._actionsMenuOpenChanged(A),this.featureMenuOpen=!1,this.actionsMenuOpen=A}_triggerAction(A){const w=A.currentTarget["data-action-index"],_=this.viewModel.allActions.getItemAt(w);_&&"toggle"===_.type&&(_.value=!_.value),this.actionsMenuOpen=!1,this.viewModel.triggerAction(w)}_selectFeature(A){const w=A.currentTarget["data-feature-index"];isNaN(w)||(this.viewModel.selectedFeatureIndex=w),this.featureMenuOpen=!1,this._focusFeatureMenuButton=!0,this.scheduleRender()}_next(){this.next()}_previous(){this.previous()}};var A;(0,At._)([(0,zt.Cb)({readOnly:!0})],ts.prototype,"actionsMenuId",null),(0,At._)([(0,zt.Cb)({readOnly:!0})],ts.prototype,"actionsMenuButtonId",null),(0,At._)([(0,zt.Cb)({readOnly:!0})],ts.prototype,"featureMenuId",null),(0,At._)([(0,zt.Cb)({readOnly:!0})],ts.prototype,"titleId",null),(0,At._)([(0,zt.Cb)({readOnly:!0})],ts.prototype,"contentId",null),(0,At._)([(0,zt.Cb)({readOnly:!0})],ts.prototype,"hasContent",null),(0,At._)([(0,zt.Cb)({readOnly:!0})],ts.prototype,"featureNavigationVisible",null),(0,At._)([(0,zt.Cb)({readOnly:!0})],ts.prototype,"collapsible",null),(0,At._)([(0,zt.Cb)({readOnly:!0})],ts.prototype,"featureMenuVisible",null),(0,At._)([(0,zt.Cb)({readOnly:!0})],ts.prototype,"contentCollapsed",null),(0,At._)([(0,zt.Cb)({readOnly:!0})],ts.prototype,"dividedActions",null),(0,At._)([(0,ns.B)("viewModel.actions")],ts.prototype,"actions",void 0),(0,At._)([(0,zt.Cb)()],ts.prototype,"actionsMenuOpen",null),(0,At._)([(0,zt.Cb)()],ts.prototype,"alignment",void 0),(0,At._)([(0,ns.B)("viewModel.autoCloseEnabled")],ts.prototype,"autoCloseEnabled",void 0),(0,At._)([(0,ns.B)("viewModel.autoOpenEnabled")],ts.prototype,"autoOpenEnabled",void 0),(0,At._)([(0,ns.B)("viewModel.defaultPopupTemplateEnabled")],ts.prototype,"defaultPopupTemplateEnabled",void 0),(0,At._)([(0,ns.B)("viewModel.content")],ts.prototype,"content",void 0),(0,At._)([(0,zt.Cb)()],ts.prototype,"collapsed",void 0),(0,At._)([(0,zt.Cb)()],ts.prototype,"collapseEnabled",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],ts.prototype,"currentAlignment",null),(0,At._)([(0,zt.Cb)({readOnly:!0})],ts.prototype,"currentDockPosition",null),(0,At._)([(0,zt.Cb)()],ts.prototype,"dockOptions",null),(0,At._)([(0,zt.Cb)()],ts.prototype,"dockEnabled",void 0),(0,At._)([(0,ns.B)("viewModel.featureCount")],ts.prototype,"featureCount",void 0),(0,At._)([(0,zt.Cb)()],ts.prototype,"featureMenuOpen",void 0),(0,At._)([(0,ns.B)("viewModel.features")],ts.prototype,"features",void 0),(0,At._)([(0,ns.B)("viewModel.goToOverride")],ts.prototype,"goToOverride",void 0),(0,At._)([(0,zt.Cb)()],ts.prototype,"headingLevel",void 0),(0,At._)([(0,ns.B)("viewModel.highlightEnabled")],ts.prototype,"highlightEnabled",void 0),(0,At._)([(0,ns.B)("viewModel.location")],ts.prototype,"location",void 0),(0,At._)([(0,zt.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],ts.prototype,"label",void 0),(0,At._)([(0,zt.Cb)()],ts.prototype,"maxInlineActions",void 0),(0,At._)([(0,zt.Cb)(),(0,tu.H)("esri/widgets/Popup/t9n/Popup")],ts.prototype,"messages",void 0),(0,At._)([(0,zt.Cb)(),(0,tu.H)("esri/t9n/common")],ts.prototype,"messagesCommon",void 0),(0,At._)([(0,ns.B)("viewModel.promises")],ts.prototype,"promises",void 0),(0,At._)([(0,ns.B)("viewModel.selectedFeature")],ts.prototype,"selectedFeature",void 0),(0,At._)([(0,ns.B)("viewModel.selectedFeatureIndex")],ts.prototype,"selectedFeatureIndex",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],ts.prototype,"selectedFeatureWidget",null),(0,At._)([(0,zt.Cb)()],ts.prototype,"spinnerEnabled",void 0),(0,At._)([(0,ns.B)("viewModel.title")],ts.prototype,"title",void 0),(0,At._)([(0,ns.B)("viewModel.updateLocationEnabled")],ts.prototype,"updateLocationEnabled",void 0),(0,At._)([(0,ns.B)("viewModel.view")],ts.prototype,"view",void 0),(0,At._)([(0,zt.Cb)({type:YP}),(A=["triggerAction","trigger-action"],w=>{w.hasOwnProperty("_delegatedEventNames")||(w._delegatedEventNames=w._delegatedEventNames?w._delegatedEventNames.slice():[]);const _=w._delegatedEventNames,C=Array.isArray(A)?A:function(A){return A.split(",").map(w=>w.trim())}(A);_.push(...C)})],ts.prototype,"viewModel",void 0),(0,At._)([(0,ns.B)("viewModel.visible")],ts.prototype,"visible",void 0),(0,At._)([(0,zt.Cb)()],ts.prototype,"visibleElements",void 0),(0,At._)([(0,Bd.p)("visibleElements")],ts.prototype,"castVisibleElements",null),(0,At._)([(0,Gh.h)()],ts.prototype,"_close",null),(0,At._)([(0,Gh.h)()],ts.prototype,"_toggleDockEnabled",null),(0,At._)([(0,Gh.h)()],ts.prototype,"_toggleFeatureMenu",null),(0,At._)([(0,Gh.h)()],ts.prototype,"_toggleActionsMenu",null),(0,At._)([(0,Gh.h)()],ts.prototype,"_triggerAction",null),(0,At._)([(0,Gh.h)()],ts.prototype,"_selectFeature",null),(0,At._)([(0,Gh.h)()],ts.prototype,"_next",null),(0,At._)([(0,Gh.h)()],ts.prototype,"_previous",null),ts=(0,At._)([(0,br.j)(r9)],ts);var a9=ts;const KM=[0,0];function l9(A){A&&((0,X0.cS)(A),A.parentNode&&A.parentNode.removeChild(A))}const oH=A=>{let w=class extends A{constructor(..._){super(..._),this._freqInfo={freq:16,time:750},this._overlayRenderTaskHandle=null,this.height=0,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.ui=null,this.userContent=null,this.width=0,this.widthBreakpoint=null,this.handles.add([this.watch("cursor",C=>{const I=this.surface;I&&I.setAttribute("data-cursor",C)}),this.watch("interacting",C=>{const I=this.surface;I&&I.setAttribute("data-interacting",C.toString())})])}initialize(){this.handles.add(this.watch("ui",(_,C)=>this._handleUIChange(_,C))),this._wireUI(this.ui),this.handles.add([this.on("focus",()=>this.notifyChange("focused")),this.on("blur",()=>this.notifyChange("focused"))])}destroy(){this.destroyed||(this.ui&&(this.ui.destroy(),this.ui=null),this.popup&&!this.popup.destroyed&&this.popup.destroy(),this.container=null)}set container(_){const C=this._get("container");if(C===_)return;const I="dom-size";if(this.handles.remove(I),this._stopMeasuring(),C&&(C.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay.destroy(),this._set("overlay",null),l9(this.root),this._set("root",null),(0,X0.YD)(this.userContent,C),l9(this.userContent),this._set("userContent",null)),_){_.classList.add("esri-view");const j=document.createElement("div");j.className="esri-view-user-storage",(0,X0.YD)(_,j),_.appendChild(j),this._set("userContent",j);const K=document.createElement("div");K.className="esri-view-root",_.insertBefore(K,_.firstChild),this._set("root",K);const q=document.createElement("div");q.className="esri-view-surface",q.setAttribute("role","application"),q.tabIndex=0,K.appendChild(q),this._set("surface",q);const ue=new pP;K.appendChild(ue.surface),this._set("overlay",ue),ue.watch("needsRender",Re=>{Re&&!this._overlayRenderTaskHandle?this._overlayRenderTaskHandle=(0,Y0.A)({render:()=>{this.overlay.render()}}):this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null)}),this.forceDOMReadyCycle(),this.handles.add((0,Ar.S1)(this,"size",Re=>{const[Je,wt]=Re,Qt="esri-view-surface--inset-outline";Je>=document.body.clientWidth||wt>=document.body.clientHeight?q.classList.add(Qt):q.classList.remove(Qt)}),I),this._set("container",_),this._startMeasuring()}else this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),this._set("container",null)}get focused(){const _=document.activeElement===this.surface;return document.hasFocus()&&_}get popup(){return this._get("popup")||new a9({view:this})}set popup(_){const C=this._get("popup");C&&C!==_&&C.destroy(),this._set("popup",_)}get size(){return[this.width,this.height]}blur(){this.surface&&this.surface.blur()}focus(){this.surface&&this.surface.focus()}pageToContainer(_,C,I){const j=this.position;return _-=j[0],C-=j[1],I?(I[0]=_,I[1]=C):I=[_,C],I}containerToPage(_,C,I){const j=this.position;return _+=j[0],C+=j[1],I?(I[0]=_,I[1]=C):I=[_,C],I}_handleUIChange(_,C){C&&(this.handles.remove("ui"),C.destroy()),_&&this._wireUI(_),this._set("ui",_)}_wireUI(_){this.handles.remove("ui"),_&&(_.view=this,this.handles.add([(0,Ar.S1)(this,"root",C=>{_.container=C?function(A){const w=document.createElement("div");return A.appendChild(w),w}(C):null}),(0,Ar.S1)(this,"popup",(C,I)=>{const j="popup";I&&_.remove(I,j),C&&(C.view=_.view,_.add(C,{key:j,position:"manual"}))})],"ui"))}_stopMeasuring(){this.handles.remove("measuring"),this._get("resizing")&&this._set("resizing",!1)}_startMeasuring(){const _=this._freqInfo;_.freq=16,_.time=750,this.handles.add([(()=>{const C=()=>{_.freq=16,_.time=750};return window.addEventListener("resize",C),{remove(){window.removeEventListener("resize",C)}}})(),(0,Y0.A)({prepare:C=>{const I=this._measure(),j=this._freqInfo;if(j.time+=C.deltaTime,I&&(j.freq=16,this._get("resizing")||this._set("resizing",!0)),j.time<j.freq)return;j.time=0;const K=this._position();j.freq=K||I?16:Math.min(750,2*j.freq),!I&&j.freq>=512&&this._get("resizing")&&this._set("resizing",!1)}})],"measuring"),this._measure(),this._position()}_measure(){const _=this.container,C=_?_.clientWidth:0,I=_?_.clientHeight:0;if(0===C||0===I)return this.suspended||this._set("suspended",!0),!1;const j=this.width,K=this.height;return C===j&&I===K?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",C),this._set("height",I),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:j,oldHeight:K,width:C,height:I}),!0)}_position(){const C=this.position,I=function(A){const w=(A.ownerDocument||window.document).defaultView,_=A.getBoundingClientRect();return KM[0]=_.left+w.pageXOffset,KM[1]=_.top+w.pageYOffset,KM}(this.container);return!(C&&I[0]===C[0]&&I[1]===C[1]||(this._set("position",[I[0],I[1]]),0))}forceDOMReadyCycle(){}};return(0,At._)([(0,zt.Cb)({value:null,cast:_=>(0,X0.L7)(_)})],w.prototype,"container",null),(0,At._)([(0,zt.Cb)({readOnly:!0})],w.prototype,"focused",null),(0,At._)([(0,zt.Cb)({readOnly:!0})],w.prototype,"height",void 0),(0,At._)([(0,zt.Cb)({type:a9})],w.prototype,"popup",null),(0,At._)([(0,zt.Cb)({type:pP})],w.prototype,"overlay",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],w.prototype,"position",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],w.prototype,"resizing",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],w.prototype,"root",void 0),(0,At._)([(0,zt.Cb)({value:null,readOnly:!0})],w.prototype,"size",null),(0,At._)([(0,zt.Cb)({readOnly:!0})],w.prototype,"surface",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],w.prototype,"suspended",void 0),(0,At._)([(0,zt.Cb)()],w.prototype,"ui",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],w.prototype,"userContent",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],w.prototype,"width",void 0),(0,At._)([(0,zt.Cb)()],w.prototype,"widthBreakpoint",void 0),w=(0,At._)([(0,br.j)("esri.views.DOMContainer")],w),w};var jy=N(76687),Wo=N(23841),lH=N(2584),Kg=N(85931);const cH=A=>{let w=class extends A{fetchPopupFeatures(_,C){var I=this;return(0,Es.Z)(function*(){yield I.when();const{location:j,queryArea:K,layerViewsAndGraphics:q,clientOnlyGraphics:ue}=yield I._prepareFetchPopupFeatures(_,C),Re=Promise.resolve(ue),Je=I._queryLayerPopupFeatures({queryArea:K,layerViewsAndGraphics:q,options:C}),wt=Je.map(Qt=>Qt.promise);return{location:j,clientOnlyGraphics:ue,allGraphicsPromise:(0,Fs.WW)([Re,...wt]).then(Kg.xH),promisesPerLayerView:Je}})()}_queryLayerPopupFeatures({queryArea:_,layerViewsAndGraphics:C,options:I}){return C.map(({layerView:j,graphics:K})=>{const q={clientGraphics:K,event:(0,Wi.pC)(I)?I.event:null,signal:(0,Wi.pC)(I)?I.signal:null,defaultPopupTemplateEnabled:!!(0,Wi.pC)(I)&&!!I.defaultPopupTemplateEnabled},ue=j.fetchPopupFeatures(_,q);return{layerView:j,promise:ue}})}_isValidPopupGraphic(_,C){return _&&!!_.getEffectivePopupTemplate((0,Wi.pC)(C)&&C.defaultPopupTemplateEnabled)}_prepareFetchPopupFeatures(_,C){var I=this;return(0,Es.Z)(function*(){const{clientGraphics:j,queryArea:K,location:q}=yield I._popupHitTestGraphics(_,C),ue=I._getFetchPopupLayerViews(),{layerViewsAndGraphics:Re,clientOnlyGraphics:Je}=I._graphicsPerFetchPopupLayerView(j,ue);return{clientOnlyGraphics:Je,layerViewsAndGraphics:Re,queryArea:K,location:q}})()}_popupHitTestGraphics(_,C){var I=this;return(0,Es.Z)(function*(){const{results:j,mapPoint:K}=yield I.popupHitTest(_),q=j.filter(Re=>I._isValidPopupGraphic(Re.graphic,C)),ue=q.length?q[0].mapPoint:null;return{clientGraphics:q.map(Re=>Re.graphic),queryArea:K,location:K||ue}})()}_getFetchPopupLayerViews(){const _=[];return this.allLayerViews.forEach(C=>{this._isValidPopupLayerView(C)&&_.push(C)}),(0,Wi.pC)(this.graphicsView)&&this._isValidPopupLayerView(this.graphicsView)&&_.push(this.graphicsView),_.reverse()}_isValidPopupLayerView(_){return(0,Wi.pC)(_)&&(!("layer"in _)||!_.suspended)&&"fetchPopupFeatures"in _}_graphicsPerFetchPopupLayerView(_,C){const I=[],j=new Map,K=C.map(q=>{const ue=[];return j.set("layer"in q?q.layer:q.graphics,ue),{layerView:q,graphics:ue}});for(const q of _){const ue=j.get(q.layer)||j.get(q.sourceLayer)||null;ue?ue.push(q):I.push(q)}return{layerViewsAndGraphics:K,clientOnlyGraphics:I}}};return w=(0,At._)([(0,br.j)("esri.views.PopupView")],w),w};var $M,QM=N(73386),ml=N(91558),uH=N(89726),hH=N(94573),V3=N(58817),GM=N(47996),dH=N(47877),pH=N(55342);let z3=$M=class extends Z0.wq{constructor(A){super(A),this.type="none"}clone(){return new $M({type:this.type})}};(0,At._)([(0,pH.J)({none:"none",stayAbove:"stay-above"})],z3.prototype,"type",void 0),z3=$M=(0,At._)([(0,br.j)("esri.ground.NavigationConstraint")],z3);var ZM,c9=N(92236);const u9=sa.Z.getLogger("esri.Ground");let Sf=ZM=class extends((0,Z0.eC)(GM.Z)){constructor(A){super(A),this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new tl.Z;const w=C=>{C.parent&&C.parent!==this&&"remove"in C.parent&&C.parent.remove(C),C.parent=this,"elevation"!==C.type&&"base-elevation"!==C.type&&u9.error(`Layer '${C.title}, id:${C.id}' of type '${C.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)};this.layers.on("after-add",C=>w(C.item)),this.layers.on("after-remove",C=>(C=>{C.parent=null})(C.item))}initialize(){this.when().catch(A=>{u9.error("#load()","Failed to load ground",A)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const A=this.layers.removeAll();for(const w of A)w.destroy();this.layers.destroy()}normalizeCtorArgs(A){return A&&"resourceInfo"in A&&(this._set("resourceInfo",A.resourceInfo),delete(A=ji({},A)).resourceInfo),A}set layers(A){this._set("layers",(0,uH.Z)(A,this._get("layers")))}writeLayers(A,w,_,C){const I=[];A&&(C=fr(ji({},C),{layerContainerType:"ground"}),A.forEach(j=>{if("write"in j){const K={};(0,hH.sM)(j)().write(K,C)&&I.push(K)}else C&&C.messages&&C.messages.push(new os.Z("layer:unsupported",`Layers (${j.title}, ${j.id}) of type '${j.declaredClass}' cannot be persisted in the ground`,{layer:j}))})),w.layers=I}load(A){return this.addResolvingPromise(this._loadFromSource(A)),Promise.resolve(this)}loadAll(){return(0,dH.GZ)(this,A=>{A(this.layers)})}queryElevation(A,w){var _=this;return(0,Es.Z)(function*(){yield _.load({signal:null==w?void 0:w.signal});const{ElevationQuery:C}=yield N.e(1991).then(N.bind(N,1991));(0,Fs.k_)(w);const I=new C,j=_.layers.filter(h9).toArray();return I.queryAll(j,A,w)})()}createElevationSampler(A,w){var _=this;return(0,Es.Z)(function*(){yield _.load({signal:null==w?void 0:w.signal});const{ElevationQuery:C}=yield N.e(1991).then(N.bind(N,1991));(0,Fs.k_)(w);const I=new C,j=_.layers.filter(h9).toArray();return I.createSamplerAll(j,A,w)})()}clone(){const A={opacity:this.opacity,surfaceColor:(0,V3.d9)(this.surfaceColor),navigationConstraint:(0,V3.d9)(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(A.loadStatus="loaded"),new ZM({resourceInfo:this.resourceInfo}).set(A)}read(A,w){this.resourceInfo||this._set("resourceInfo",{data:A,context:w}),super.read(A,w)}_loadFromSource(A){const w=this.resourceInfo;return w?this._loadLayersFromJSON(w.data,w.context,A):Promise.resolve(null)}_loadLayersFromJSON(A,w,_){const C=w&&w.origin||"web-scene",I=w&&w.portal||null,j=w&&w.url||null;return Promise.all([N.e(7534),N.e(1074)]).then(N.bind(N,71074)).then(({populateOperationalLayers:K})=>{(0,Fs.k_)(_);const q=[];return A.layers&&Array.isArray(A.layers)&&q.push(K(this.layers,A.layers,{context:{origin:C,url:j,portal:I,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"})),(0,Fs.as)(q)}).then(()=>{})}};function h9(A){return"elevation"===A.type||function(A){return A&&"createElevationSampler"in A}(A)}(0,At._)([(0,zt.Cb)({json:{read:!1}})],Sf.prototype,"layers",null),(0,At._)([(0,cP.c)("layers")],Sf.prototype,"writeLayers",null),(0,At._)([(0,zt.Cb)({readOnly:!0})],Sf.prototype,"resourceInfo",void 0),(0,At._)([(0,zt.Cb)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:Bb.z8,read:{reader:c9.b,source:"transparency"},write:{writer:(A,w)=>{w.transparency=(0,c9.a)(A)},target:"transparency"}}})],Sf.prototype,"opacity",void 0),(0,At._)([(0,zt.Cb)({type:ml.Z,json:{type:[Bb.z8],write:(A,w)=>{w.surfaceColor=A.toJSON().slice(0,3)}}})],Sf.prototype,"surfaceColor",void 0),(0,At._)([(0,zt.Cb)({type:z3,json:{write:!0}})],Sf.prototype,"navigationConstraint",void 0),Sf=ZM=(0,At._)([(0,br.j)("esri.Ground")],Sf);var W3=Sf;function mH(A){var w;return!(!(A&&A.loaded&&"capabilities"in A&&null!=A&&null!=(w=A.capabilities)&&w.operations&&"supportsEditing"in A.capabilities.operations&&!0===A.capabilities.operations.supportsEditing)||"editingEnabled"in A&&!A.editingEnabled)}var d9=N(59318),p9=(N(21726),N(33954));const f9=sa.Z.getLogger("esri.support.basemapUtils");const AH=sa.Z.getLogger("esri.support.groundUtils"),E9={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};var CH=N(6432),xH=N(6119);const EH=sa.Z.getLogger("esri.Map");let Lp=class extends((0,xH.Q)((0,CH.K)(Nd.Z.EventedMixin(no.Z)))){constructor(A){super(A),this.allLayers=new Oy.Z({getCollections:()=>{var w,_,C;return[null==(w=this.basemap)?void 0:w.baseLayers,null==(_=this.ground)?void 0:_.layers,this.layers,null==(C=this.basemap)?void 0:C.referenceLayers]},getChildrenFunction:w=>"layers"in w?w.layers:null}),this.allTables=new Oy.Z({getCollections:()=>[this.tables,this.layers],getChildrenFunction:w=>{const _=[];return"tables"in w&&_.push(w.tables),"layers"in w&&_.push(w.layers),_},itemFilterFunction:w=>{const _=w.parent;return _&&"tables"in _&&_.tables.includes(w)}}),this.basemap=null,this.editableLayers=new Oy.Z({getCollections:()=>[this.allLayers],itemFilterFunction:mH}),this.ground=new W3,this._basemapCache={}}destroy(){var A,w;this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),null==(A=this.ground)||A.destroy(),null==(w=this.basemap)||w.destroy(),function(A){for(const w in A){const _=A[w];!1===(null==_?void 0:_.destroyed)&&_.destroy(),delete A[w]}}(this._basemapCache),this._basemapCache=null}castBasemap(A){return function(A,w){var _;let C;if("string"==typeof A){if(!(A in p9.s)){const I=Object.entries(p9.s).filter(([j,K])=>d9.Z.apiKey&&!K.classic||!d9.Z.apiKey&&K.classic).map(([j])=>`"${j}"`).join(", ");return f9.warn(`Unable to find basemap definition for: ${A}. Try one of these: ${I}`),null}w&&(C=w[A]),C||(C=QM.default.fromId(A),w&&(w[A]=C))}else C=(0,Bb.se)(QM.default,A);return null!=(_=C)&&_.destroyed&&(f9.warn("The provided basemap is already destroyed",{basemap:C}),C=null),C}(A,this._basemapCache)}castGround(A){return function(A){let w;return"string"==typeof A?A in E9?w=new W3({resourceInfo:{data:{layers:[E9[A]]}}}):AH.warn(`Unable to find ground definition for: ${A}. Try "world-elevation"`):w=(0,Bb.se)(W3,A),w}(A)||(EH.error("Map.ground may not be set to null or undefined"),this._get("ground"))}findLayerById(A){return this.allLayers.find(w=>w.id===A)}findTableById(A){return this.allTables.find(w=>w.id===A)}};(0,At._)([(0,zt.Cb)({readOnly:!0,dependsOn:[]})],Lp.prototype,"allLayers",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],Lp.prototype,"allTables",void 0),(0,At._)([(0,zt.Cb)({type:QM.default})],Lp.prototype,"basemap",void 0),(0,At._)([(0,Bd.p)("basemap")],Lp.prototype,"castBasemap",null),(0,At._)([(0,zt.Cb)({readOnly:!0})],Lp.prototype,"editableLayers",void 0),(0,At._)([(0,zt.Cb)({type:W3,nonNullable:!0})],Lp.prototype,"ground",void 0),(0,At._)([(0,Bd.p)("ground")],Lp.prototype,"castGround",null),Lp=(0,At._)([(0,br.j)("esri.Map")],Lp);var K3=Lp,D9=N(60330),YM=N(79334),qM=N(37053),M9=N(51815);let om=class extends no.Z{constructor(A){super(A),this.view=null,this.baseLayerViews=new tl.Z,this.referenceLayerViews=new tl.Z,this._loadingHandle=(0,Ar.S1)(this,"view.map.basemap",w=>{w&&w.load().catch(()=>{})})}destroy(){this._set("view",null),this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null)}get suspended(){return!this.view||this.view.suspended}get updating(){return!(this.view&&this.view.suspended||!(this.view&&this.view.map&&this.view.map.basemap)||this.view.map.basemap.loaded)}};(0,At._)([(0,zt.Cb)({constructOnly:!0})],om.prototype,"view",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],om.prototype,"baseLayerViews",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],om.prototype,"referenceLayerViews",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],om.prototype,"suspended",null),(0,At._)([(0,zt.Cb)({type:Boolean,readOnly:!0})],om.prototype,"updating",null),om=(0,At._)([(0,br.j)("esri.views.BasemapView")],om);var Q3=N(88159);const DH=sa.Z.getLogger("esri.views.LayerViewManager");class MH{constructor(w,_,C){this.layer=w,this.view=_,this.layerViewImporter=C,this._controller=(0,Fs.yi)(),this._deferred=(0,Fs.dD)(),this._started=!1,this.done=!1,(0,Fs.fu)(this._controller.signal,()=>{const I=new os.Z("cancelled:layerview-create","layerview creation cancelled",{layer:w});this._deferred.reject(I)})}get promise(){return this._deferred.promise}destroy(){this._controller.abort();const{layerView:w}=this;if(!w)return;const{layer:_,view:C}=this;_.emit("layerview-destroy",{view:C,layerView:w}),C.emit("layerview-destroy",{layer:_,layerView:w}),this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null}start(){var w=this;return(0,Es.Z)(function*(){if(w._started)return;w._started=!0;const{_controller:{signal:_},layer:C,view:I}=w;w._map=I.map;try{var j,K;let q,ue;if(yield C.load({signal:_}),"prefetchResources"in C&&(yield C.prefetchResources({signal:_})),C.createLayerView)q=yield C.createLayerView(I,{signal:_});else{if(!w.layerViewImporter.hasLayerViewModule(C))throw new os.Z("layer:view-not-supported","No layerview implementation was found");const Je=yield w.layerViewImporter.importLayerView(C);(0,Fs.k_)(_),q="default"in Je?new Je.default({layer:C,view:I}):new Je({layer:C,view:I})}const Re=()=>{ue=(0,Wi.hw)(ue),q.destroyed||q.destroy(),q.layer=null,q.parent=null,q.view=null,w.done=!0};ue=(0,Fs.fu)(_,Re),(0,Fs.k_)(_);try{yield q.when()}catch(Je){throw Re(),Je}if(!(null==(j=w._map)||null==(K=j.allLayers)?void 0:K.includes(C)))return Re(),void w._deferred.reject(new os.Z("view:no-layerview-for-layer","The layer has been removed from the map",{layer:C}));w.layerView=q,C.emit("layerview-create",{view:I,layerView:q}),I.emit("layerview-create",{layer:C,layerView:q}),w.done=!0,w._deferred.resolve(q)}catch(q){C.emit("layerview-create-error",{view:I,error:q}),I.emit("layerview-create-error",{layer:C,error:q}),w.done=!0,w._deferred.reject(new os.Z("layerview:create-error","layerview creation failed",{layer:C,error:q}))}})()}}let $h=class extends tm.r{constructor(A){super(A),this._layerLayerViewInfoMap=new Map,this._watchUpdatingTracking=new dP.t,this.supportsGround=!0,this._preloadLayerViewModules=()=>{var w;const _=null==(w=this.view.map)?void 0:w.allLayers;if(_)for(const C of _)this.layerViewImporter.hasLayerViewModule(C)&&this.layerViewImporter.importLayerView(C)},this._reschedule=()=>((0,Wi.Wi)(this._workPromise)&&(this._workPromise=(0,Fs.dD)()),this.handles.remove("reschedule"),this.handles.add((0,Y0.Os)(this._doWork),"reschedule"),this._workPromise.promise),this._doWork=()=>{var w,_,C;const I=this.view.map;if(this._map!==I&&(this.clear(),this._map=I),(0,Wi.Wi)(this._workPromise))return void this.notifyChange("updating");this.handles.remove("reschedule"),this.handles.remove("collection-change");const j=new Oy.Z({getCollections:()=>this._rootCollectionNames.map(ue=>this.get(ue)),getChildrenFunction:ue=>ue&&"layers"in ue?ue.layers:null});if(!j)return this._workPromise.resolve(),void(this._workPromise=null);for(const ue of j)this._createLayerView(ue);this._refreshCollections();for(const[ue,Re]of this._layerLayerViewInfoMap)j.includes(ue)||(this._layerLayerViewInfoMap.delete(Re.layer),Re.destroy());const K=j.filter(ue=>"group"===ue.type).map(ue=>ue.layers),q=[null==I||null==(w=I.ground)?void 0:w.layers,null==I||null==(_=I.basemap)?void 0:_.baseLayers,null==I||null==(C=I.basemap)?void 0:C.referenceLayers,null==I?void 0:I.layers,...K].filter(ue=>!!ue);this.handles.add(q.map(ue=>this._watchUpdatingTracking.addOnCollectionChange(ue,this._reschedule)),"collection-change"),this._workPromise.resolve(),this._workPromise=null}}initialize(){this.handles.add([(0,Ar.on)(this,"view.map.allLayers","change",this._preloadLayerViewModules,this._preloadLayerViewModules),(0,Ar.S1)(this.view,["map.basemap","map.ground","map.layers","ready"],this._reschedule,!0)]),this._preloadLayerViewModules(),this._reschedule()}destroy(){this.clear(),this._watchUpdatingTracking.destroy(),this._map=null}get _layersToLayerViews(){const A=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];return this.supportsGround&&A.push(["view.map.ground.layers","view.groundView.layerViews"]),new Map(A)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return(0,Wi.pC)(this._workPromise)||this._watchUpdatingTracking.updating||(0,Q3.oE)(this._layerLayerViewInfoMap,A=>!A.done)}get updatingRemaining(){let A=0;for(const w of this._layerLayerViewInfoMap.values())w.done||++A;return A}clear(){if(!this.destroyed){for(const A of this._layerLayerViewInfoMap.values())A.destroy();this._layerLayerViewInfoMap.clear(),this._refreshCollections()}}whenLayerView(A){var w=this;return(0,Es.Z)(function*(){if(yield w._reschedule(),!w._layerLayerViewInfoMap.has(A))throw new os.Z("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:A});return w._layerLayerViewInfoMap.get(A).promise})()}_refreshCollections(){for(const[A,w]of this._layersToLayerViews)this._populateLayerViewsOwners(this.get(A),this.get(w),this.view);this.notifyChange("updating"),this.notifyChange("updatingRemaining")}_populateLayerViewsOwners(A,w,_){if(!A||!w)return void(w&&w.removeAll());let C=0;for(const I of A){const j=this._layerLayerViewInfoMap.get(I);if(!j||!j.layerView)continue;const K=j.layerView;K.layer=I,K.parent=_,w.getItemAt(C)!==K&&w.splice(C,0,K),I.layers&&this._populateLayerViewsOwners(I.layers,K.layerViews,K),C+=1}C<w.length&&w.splice(C,w.length)}_createLayerView(A){if(this._layerLayerViewInfoMap.has(A))return this.view.ready&&this._layerLayerViewInfoMap.get(A).start(),this.notifyChange("updating"),void this.notifyChange("updatingRemaining");A.load().catch(()=>{}),this.layerViewImporter.hasLayerViewModule(A)&&this.layerViewImporter.importLayerView(A);const w=new MH(A,this.view,this.layerViewImporter);w.promise.then(()=>this._refreshCollections(),_=>{var C,I;_&&((0,Fs.D_)(_)||"cancelled:layerview-create"===_.name)||DH.error(`Failed to create layerview for layer title:'${null!=(C=A.title)?C:"no title"}', id:'${null!=(I=A.id)?I:"no id"}' of type '${A.type}'.`,{layer:A,error:_}),this._refreshCollections()}),this._layerLayerViewInfoMap.set(A,w),this.view.ready&&w.start(),this.notifyChange("updating"),this.notifyChange("updatingRemaining")}};(0,At._)([(0,zt.Cb)()],$h.prototype,"_workPromise",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],$h.prototype,"_watchUpdatingTracking",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],$h.prototype,"_layersToLayerViews",null),(0,At._)([(0,zt.Cb)({readOnly:!0})],$h.prototype,"_rootCollectionNames",null),(0,At._)([(0,zt.Cb)()],$h.prototype,"layerViewImporter",void 0),(0,At._)([(0,zt.Cb)()],$h.prototype,"supportsGround",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],$h.prototype,"updating",null),(0,At._)([(0,zt.Cb)({readOnly:!0})],$h.prototype,"updatingRemaining",null),(0,At._)([(0,zt.Cb)({constructOnly:!0})],$h.prototype,"view",void 0),$h=(0,At._)([(0,br.j)("esri.views.LayerViewManager")],$h);var SH=$h;let nh=class extends no.Z{constructor(A){super(A),this.factor=1.5,this.offset=(0,Wo.vW)(0,0),this.position=null,this.size=120,this.maskUrl=null,this.maskEnabled=!0,this.overlayUrl=null,this.overlayEnabled=!0,this.visible=!0}get version(){return this.commitProperty("factor"),this.commitProperty("offset"),this.commitProperty("position"),this.commitProperty("visible"),this.commitProperty("size"),this.commitProperty("maskUrl"),this.commitProperty("maskEnabled"),this.commitProperty("overlayUrl"),this.commitProperty("overlayEnabled"),(this._get("version")||0)+1}};(0,At._)([(0,zt.Cb)({type:Number})],nh.prototype,"factor",void 0),(0,At._)([(0,zt.Cb)({nonNullable:!0})],nh.prototype,"offset",void 0),(0,At._)([(0,zt.Cb)()],nh.prototype,"position",void 0),(0,At._)([(0,zt.Cb)({type:Number,range:{min:0}})],nh.prototype,"size",void 0),(0,At._)([(0,zt.Cb)()],nh.prototype,"maskUrl",void 0),(0,At._)([(0,zt.Cb)()],nh.prototype,"maskEnabled",void 0),(0,At._)([(0,zt.Cb)()],nh.prototype,"overlayUrl",void 0),(0,At._)([(0,zt.Cb)()],nh.prototype,"overlayEnabled",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],nh.prototype,"version",null),(0,At._)([(0,zt.Cb)({type:Boolean})],nh.prototype,"visible",void 0),nh=(0,At._)([(0,br.j)("esri.views.Magnifier")],nh);var S9=nh,fc=N(35216);const T9=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],I9={};function O9(A){return!!I9[A]}T9.forEach(A=>{I9[A]=!0});class IH{constructor(w){this.handlers=new Map,this.counter=0,this.handlerCounts=new Map,this.view=w,this.inputManager=null}connect(w){w&&this.disconnect(),this.inputManager=w,this.handlers.forEach(({handler:_,priority:C},I)=>this.inputManager.installHandlers(I,[_],C))}disconnect(){this.inputManager&&this.handlers.forEach((w,_)=>this.inputManager.uninstallHandlers(_)),this.inputManager=null}destroy(){this.disconnect(),this.handlers.clear(),this.view=null}on(w,_,C,I){const j=Array.isArray(w)?w:w.split(",");if(!function(A){for(const w of A)if(!O9(w))return!1;return!0}(j))return j.some(O9)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;let K,q;Array.isArray(_)?q=_:(K=_,q=[]),"function"==typeof C?K=C:I=C,I=null!=I?I:es.f.DEFAULT;const ue=this.createUniqueGroupName(),Re=new OH(this.view,j,q,K);this.handlers.set(ue,{handler:Re,priority:I});for(const Je of j){const wt=this.handlerCounts.get(Je)||0;this.handlerCounts.set(Je,wt+1)}return this.inputManager&&this.inputManager.installHandlers(ue,[Re],I),{remove:()=>this.removeHandler(ue,j)}}hasHandler(w){return!!this.handlerCounts.get(w)}removeHandler(w,_){if(this.handlers.has(w)){this.handlers.delete(w);for(const C of _){const I=this.handlerCounts.get(C);void 0===I?console.error("Trying to remove handler for event that has no handlers registered: ",C):1===I?this.handlerCounts.delete(C):this.handlerCounts.set(C,I-1)}}this.inputManager&&this.inputManager.uninstallHandlers(w)}createUniqueGroupName(){return this.counter+=1,`viewEvents_${this.counter}`}}class OH extends fc.a{constructor(w,_,C,I){super(!0),this.view=w;for(const j of _)switch(j){case"click":this.registerIncoming("click",C,K=>I(this.wrapClick(K)));break;case"double-click":this.registerIncoming("double-click",C,K=>I(this.wrapDoubleClick(K)));break;case"immediate-click":this.registerIncoming("immediate-click",C,K=>I(this.wrapImmediateClick(K)));break;case"immediate-double-click":this.registerIncoming("immediate-double-click",C,K=>I(this.wrapImmediateDoubleClick(K)));break;case"hold":this.registerIncoming("hold",C,K=>I(this.wrapHold(K)));break;case"drag":this.registerIncoming("drag",C,K=>{const q=this.wrapDrag(K);q&&I(q)});break;case"key-down":this.registerIncoming("key-down",C,K=>I(this.wrapKeyDown(K)));break;case"key-up":this.registerIncoming("key-up",C,K=>I(this.wrapKeyUp(K)));break;case"pointer-down":this.registerIncoming("pointer-down",C,K=>I(this.wrapPointer(K,"pointer-down")));break;case"pointer-move":this.registerIncoming("pointer-move",C,K=>I(this.wrapPointer(K,"pointer-move")));break;case"pointer-up":this.registerIncoming("pointer-up",C,K=>I(this.wrapPointer(K,"pointer-up")));break;case"pointer-drag":this.registerIncoming("pointer-drag",C,K=>I(this.wrapPointerDrag(K)));break;case"mouse-wheel":this.registerIncoming("mouse-wheel",C,K=>I(this.wrapMouseWheel(K)));break;case"pointer-enter":this.registerIncoming("pointer-enter",C,K=>I(this.wrapPointer(K,"pointer-enter")));break;case"pointer-leave":this.registerIncoming("pointer-leave",C,K=>I(this.wrapPointer(K,"pointer-leave")));break;case"gamepad":this.registerIncoming("gamepad",C,K=>{I(this.wrapGamepad(K))});break;case"focus":this.registerIncoming("focus",C,K=>{I(this.wrapFocus(K))});break;case"blur":this.registerIncoming("blur",C,K=>{I(this.wrapBlur(K))})}}wrapFocus(w){return{type:"focus",timestamp:w.timestamp,native:w.data.native,cancelable:w.cancelable,stopPropagation:()=>w.stopPropagation(),async:_=>w.async(_),preventDefault:()=>w.preventDefault()}}wrapBlur(w){return{type:"blur",timestamp:w.timestamp,native:w.data.native,cancelable:w.cancelable,stopPropagation:()=>w.stopPropagation(),async:_=>w.async(_),preventDefault:()=>w.preventDefault()}}wrapClick(w){const{pointerType:_,button:C,buttons:I,x:j,y:K,native:q,eventId:ue}=w.data,{cancelable:Re,timestamp:Je}=w;return{type:"click",pointerType:_,button:C,buttons:I,x:j,y:K,native:q,timestamp:Je,screenPoint:(0,Wo.vW)(j,K),mapPoint:this.getMapPoint(j,K),eventId:ue,cancelable:Re,stopPropagation:()=>w.stopPropagation(),async:wt=>w.async(wt),preventDefault:()=>w.preventDefault()}}wrapDoubleClick(w){const{pointerType:_,button:C,buttons:I,x:j,y:K,native:q,eventId:ue}=w.data,{cancelable:Re,timestamp:Je}=w;return{type:"double-click",pointerType:_,button:C,buttons:I,x:j,y:K,native:q,timestamp:Je,mapPoint:this.getMapPoint(j,K),eventId:ue,cancelable:Re,stopPropagation:()=>w.stopPropagation(),async:wt=>w.async(wt),preventDefault:()=>w.preventDefault()}}wrapImmediateClick(w){const{pointerType:_,button:C,buttons:I,x:j,y:K,native:q,eventId:ue}=w.data,Re=q.pointerId,{cancelable:Je,timestamp:wt}=w;return{type:"immediate-click",pointerId:Re,pointerType:_,button:C,buttons:I,x:j,y:K,native:q,timestamp:wt,mapPoint:this.getMapPoint(j,K),eventId:ue,cancelable:Je,stopPropagation:()=>w.stopPropagation(),async:Qt=>w.async(Qt),preventDefault:()=>w.preventDefault()}}wrapImmediateDoubleClick(w){const{pointerType:_,button:C,buttons:I,x:j,y:K,native:q,eventId:ue}=w.data,Re=q.pointerId,{cancelable:Je,timestamp:wt}=w;return{type:"immediate-double-click",pointerId:Re,pointerType:_,button:C,buttons:I,x:j,y:K,native:q,timestamp:wt,mapPoint:this.getMapPoint(j,K),eventId:ue,cancelable:Je,stopPropagation:()=>w.stopPropagation(),async:Qt=>w.async(Qt),preventDefault:()=>w.preventDefault()}}wrapHold(w){const{pointerType:_,button:C,buttons:I,x:j,y:K,native:q}=w.data,{cancelable:ue,timestamp:Re}=w;return{type:"hold",pointerType:_,button:C,buttons:I,x:j,y:K,native:q,timestamp:Re,mapPoint:this.getMapPoint(j,K),cancelable:ue,stopPropagation:()=>w.stopPropagation(),async:Je=>w.async(Je),preventDefault:()=>w.preventDefault()}}getMapPoint(w,_){return this.view.toMap((0,Wo.vW)(w,_),{exclude:[]})}wrapDrag(w){const _=w.data,{x:C,y:I}=_.center,{action:j,pointerType:K,button:q}=_;if("start"===j&&(this.latestDragStart=_),!this.latestDragStart)return;const ue=_.pointer.native,Re=_.buttons,{cancelable:Je,timestamp:wt}=w,Qt={x:this.latestDragStart.center.x,y:this.latestDragStart.center.y};return"end"===j&&(this.latestDragStart=void 0),{type:"drag",action:j,x:C,y:I,origin:Qt,pointerType:K,button:q,buttons:Re,radius:_.radius,angle:(0,em.BV)(_.angle),native:ue,timestamp:wt,cancelable:Je,stopPropagation:()=>w.stopPropagation(),async:ri=>w.async(ri),preventDefault:()=>w.preventDefault()}}wrapKeyDown(w){const{key:_,repeat:C,native:I}=w.data,{cancelable:j,timestamp:K}=w;return{type:"key-down",key:_,repeat:C,native:I,timestamp:K,cancelable:j,stopPropagation:()=>w.stopPropagation(),async:q=>w.async(q),preventDefault:()=>w.preventDefault()}}wrapKeyUp(w){const{key:_,native:C}=w.data,{cancelable:I,timestamp:j}=w;return{type:"key-up",key:_,native:C,timestamp:j,cancelable:I,stopPropagation:()=>w.stopPropagation(),async:K=>w.async(K),preventDefault:()=>w.preventDefault()}}wrapPointer(w,_){const{x:C,y:I,button:j,buttons:K,native:q,eventId:ue}=w.data,Re=q.pointerId,Je=q.pointerType,{cancelable:wt,timestamp:Qt}=w;return{type:_,x:C,y:I,pointerId:Re,pointerType:Je,button:j,buttons:K,native:q,timestamp:Qt,eventId:ue,cancelable:wt,stopPropagation:()=>w.stopPropagation(),async:ri=>w.async(ri),preventDefault:()=>w.preventDefault()}}wrapPointerDrag(w){const{x:_,y:C,buttons:I,native:j,eventId:K}=w.data.currentEvent,{button:q}=w.data.startEvent,ue=w.data.startEvent.native.pointerId,Re=w.data.startEvent.native.pointerType,Je=w.data.action,wt={x:w.data.startEvent.x,y:w.data.startEvent.y},{cancelable:Qt,timestamp:ri}=w;return{type:"pointer-drag",x:_,y:C,pointerId:ue,pointerType:Re,button:q,buttons:I,action:Je,origin:wt,native:j,timestamp:ri,eventId:K,cancelable:Qt,stopPropagation:()=>w.stopPropagation(),async:Ci=>w.async(Ci),preventDefault:()=>w.preventDefault()}}wrapMouseWheel(w){const{cancelable:_,data:C,timestamp:I}=w,{x:j,y:K,deltaY:q,native:ue}=C;return{type:"mouse-wheel",x:j,y:K,deltaY:q,native:ue,timestamp:I,cancelable:_,stopPropagation:()=>w.stopPropagation(),async:Re=>w.async(Re),preventDefault:()=>w.preventDefault()}}wrapGamepad(w){const{action:_,state:C,device:I}=w.data,{cancelable:j,timestamp:K}=w,{buttons:q,axes:ue}=C;return{type:"gamepad",device:I,timestamp:K,action:_,buttons:q,axes:ue,cancelable:j,stopPropagation:()=>w.stopPropagation(),async:Re=>w.async(Re),preventDefault:()=>w.preventDefault()}}}function PH(A){return[A.on("after-add",w=>{const _=w.item;_.view&&_.view.ready&&!_.attached&&_.attach()}),A.on("after-remove",w=>{const _=w.item;_.active&&(_.view.activeTool=null),_.attached&&_.detach()})]}function G3(A){return A.visible&&A.getEditableFlag(0)&&A.getEditableFlag(1)}function Yo(A){return(0,Wo.vW)(A.x,A.y)}function P9(A,w){const _=(A instanceof HTMLElement?A:A.surface).getBoundingClientRect();return(0,Wo.vW)(w.clientX-_.left,w.clientY-_.top)}function k9(A,w){return w instanceof Event?P9(A,w):Yo(w)}function L9(A){if(A instanceof Event)return!0;if("object"==typeof A&&"type"in A)switch(A.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0;default:return!1}return!1}class kH{constructor(){this._pointerLocations=new Map,this._hoveredManipulators=new Map,this._grabbedManipulators=new Map,this._draggedManipulators=new Map,this._stopDrag=!1,this._currentlyActiveTool=null,this._revertToActiveTool=!1,this._cursor=null}get cursor(){return this._cursor}handleInputEvent(w,_){const C=()=>w.stopPropagation();switch(w.type){case"pointer-move":B9(w.pointerType)&&this._pointerLocations.set(w.pointerId,{x:w.x,y:w.y,pointerType:w.pointerType});break;case"drag":this._grabbedManipulators.size>0&&(this._stopDrag=!0),this._stopDrag&&(C(),"end"===w.action&&(this._stopDrag=!1));break;case"pointer-down":{if(!R9(w))break;const I=Yo(w),j=this._intersect(I,w.pointerType,_.forEachTool);if((0,Wi.Wi)(j))break;const K=this._findToolAndManipulatorByKey(j,_.forEachTool,$3),q=(0,Wi.yw)(K,Re=>Re.manipulator),ue=(0,Wi.yw)(K,Re=>Re.tool);!((0,Wi.pC)(q)&&(0,Wi.pC)(ue)&&q.interactive)||q.grabbable&&q.grabbableForEvent(w)||!q.grabbing||q.dragging||this._ungrabManipulatorBeforeDragging(q,ue,w),(0,Wi.pC)(q)&&q.interactive&&q.grabbable&&q.grabbableForEvent(w)&&!q.grabbing&&(this._grabbedManipulators.set(w.pointerId,{key:j,start:I,pointerType:w.pointerType}),1===this._grabbedManipulators.size&&_.activeTool!==j.tool&&(this._currentlyActiveTool=_.activeTool,this._revertToActiveTool=!0,_.setActiveTool(j.tool)),q.grabbing=!0,q.events.emit("grab-changed",{action:"start",pointerType:w.pointerType,screenPoint:I}),C());break}case"pointer-up":this._handlePointerEnd(w,_);break;case"pointer-drag":{if(!R9(w))break;const I=this._grabbedManipulators.get(w.pointerId),j=this._draggedManipulators.get(w.pointerId),K=(0,Wi.yw)(I||j,({key:Je})=>Je),q=this._findManipulatorByKey(K,_.forEachTool);if((0,Wi.Wi)(q))break;const ue=Yo(w);ue.x=(0,em.uZ)(ue.x,0,_.view.width),ue.y=(0,em.uZ)(ue.y,0,_.view.height);const Re=(0,Wi.Wg)(I||j).start;switch(w.action){case"start":case"update":"update"!==w.action&&1!==this._grabbedManipulators.size||(q.dragging=!0,q.events.emit("drag",j?{action:"update",start:Re,screenPoint:ue}:{action:"start",start:Re,screenPoint:ue,pointerType:w.pointerType}),this._draggedManipulators.set(w.pointerId,{key:(0,Wi.Wg)(K),start:Re}));break;case"end":q.dragging=!1,j&&q.events.emit("drag",{action:"end",start:Re,screenPoint:ue}),this._draggedManipulators.delete(w.pointerId),this._handlePointerEnd(w,_)}C();break}case"immediate-click":{const I=Yo(w),j=this._intersect(I,w.pointerType,_.forEachTool),K=this._findToolAndManipulatorByKey(j,_.forEachTool,$3);if(function(A){return!!A.native.shiftKey}(w)||_.forEachTool(Je=>{if((!(0,Wi.pC)(K)||K.tool!==Je||Je.automaticManipulatorSelection)&&Je.manipulators){let wt=!1;Je.manipulators.forEach(({manipulator:Qt})=>{Qt.selected&&(Qt.selected=!1,wt=!0)}),wt&&Je.manipulatorSelectionChanged&&Je.manipulatorSelectionChanged()}}),(0,Wi.Wi)(K))break;const{manipulator:q,tool:ue}=K;if(!q.interactive)break;q.selectable&&ue.automaticManipulatorSelection&&(q.selected=!q.selected,ue.manipulatorSelectionChanged&&ue.manipulatorSelectionChanged()),q.events.emit("immediate-click",{screenPoint:I,button:w.button,pointerType:w.pointerType,shiftKey:w.native.shiftKey,stopPropagation:C});break}case"click":{const I=Yo(w),j=this._intersect(I,w.pointerType,_.forEachTool),K=this._findManipulatorByKey(j,_.forEachTool);if((0,Wi.Wi)(K)||!K.interactive)break;K.events.emit(w.type,{screenPoint:I,button:w.button,pointerType:w.pointerType,shiftKey:w.native.shiftKey}),C();break}case"double-click":{const I=Yo(w),j=this._intersect(I,w.pointerType,_.forEachTool),K=this._findManipulatorByKey(j,_.forEachTool);if((0,Wi.Wi)(K)||!K.interactive)break;K.events.emit("double-click",{screenPoint:I,button:w.button,pointerType:w.pointerType,shiftKey:w.native.shiftKey,stopPropagation:C});break}case"immediate-double-click":{const I=Yo(w),j=this._intersect(I,w.pointerType,_.forEachTool),K=this._findManipulatorByKey(j,_.forEachTool);if((0,Wi.Wi)(K)||!K.interactive)break;K.events.emit("immediate-double-click",{screenPoint:I,button:w.button,pointerType:w.pointerType,shiftKey:w.native.shiftKey,stopPropagation:C});break}}this._updateCursor(_.forEachTool)}_ungrabManipulatorBeforeDragging(w,_,C){w.grabbing=!1,w.events.emit("grab-changed",{action:"end",pointerType:C.pointerType,screenPoint:Yo(C)}),this._grabbedManipulators.forEach(({key:I},j)=>{I.tool===_&&_.manipulators.findById(I.manipulatorId)===w&&this._grabbedManipulators.delete(j)})}_handlePointerEnd(w,_){const C=(0,Wi.yw)(this._grabbedManipulators.get(w.pointerId),({key:j})=>j),I=this._findManipulatorByKey(C,_.forEachTool);(0,Wi.pC)(I)&&!I.dragging&&(1===this._grabbedManipulators.size&&0===this._draggedManipulators.size&&this._revertToActiveTool&&(_.setActiveTool(this._currentlyActiveTool),this._revertToActiveTool=!1,this._currentlyActiveTool=null),I.grabbing&&(I.grabbing=!1,I.events.emit("grab-changed",{action:"end",pointerType:w.pointerType,screenPoint:Yo(w)})),this._grabbedManipulators.delete(w.pointerId))}_cursorFromMap(w,_){let C=null;return(0,Q3.oE)(w,({key:I})=>{const j=this._findManipulatorByKey(I,_);return!!((0,Wi.pC)(j)&&j.interactive&&"cursor"in j&&j.cursor)&&(C=j.cursor,!0)}),C}_updateCursor(w){this._cursor=this._grabbedManipulators.size>0?this._cursorFromMap(this._grabbedManipulators,w)||"grabbing":this._hoveredManipulators.size>0?this._cursorFromMap(this._hoveredManipulators,w)||"pointer":null}clearPointers(w,_,C=!0,I){const j=K=>K.tool===w&&((0,Wi.Wi)(I)||K.manipulatorId===I);this._grabbedManipulators.forEach(({key:K,pointerType:q},ue)=>{if(j(K)){this._grabbedManipulators.delete(ue);const Re=this._findManipulatorByKey(K,_);(0,Wi.pC)(Re)&&(Re.grabbing=!1,Re.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:q}))}}),this._draggedManipulators.forEach(({key:K},q)=>{if(j(K)){this._draggedManipulators.delete(q);const ue=this._findManipulatorByKey(K,_);(0,Wi.pC)(ue)&&(ue.dragging=!1,ue.events.emit("drag",{action:"cancel"}))}}),C&&this._hoveredManipulators.forEach(({key:K},q)=>{if(j(K)){this._hoveredManipulators.delete(q);const ue=this._findManipulatorByKey(K,_);(0,Wi.pC)(ue)&&(ue.hovering=!1)}}),this._updateCursor(_)}_intersect(w,_,C){let I=null;return C(j=>{if(null==j.manipulators||!G3(j))return!1;const K=j.manipulators.intersect(w,_);return!(0,Wi.Wi)(K)&&(I={manipulatorId:K.id,tool:j},!0)}),I}updateHoveredStateFromKnownPointers(w){this._pointerLocations.forEach((_,C)=>{this._updateHoveredStateForPointerAtScreenPosition((0,Wo.vW)(_.x,_.y),C,_.pointerType,w)})}handleHoverEvent(w,_){"pointer-up"!==w.type&&"immediate-click"!==w.type&&"pointer-move"!==w.type||!B9(w.pointerType)||this._updateHoveredStateForPointerAtScreenPosition(Yo(w),w.pointerId,w.pointerType,_)}_updateHoveredStateForPointerAtScreenPosition(w,_,C,I){const j=this._intersect(w,C,I);let K=this._findManipulatorByKey(j,I);const q=(0,Wi.yw)(this._hoveredManipulators.get(_),({key:Re})=>Re),ue=this._findManipulatorByKey(q,I);(0,Wi.pC)(K)&&!K.interactive&&(K=null),ue!==K&&((0,Wi.pC)(ue)&&(ue.hovering=!1),(0,Wi.pC)(K)?(K.hovering=!0,this._hoveredManipulators.set(_,{key:(0,Wi.Wg)(j)})):this._hoveredManipulators.delete(_),this._updateCursor(I))}_findManipulatorByKey(w,_){return this._findToolAndManipulatorByKey(w,_,$3)?$3.manipulator:null}_findToolAndManipulatorByKey(w,_,C){return(0,Wi.Wi)(w)?null:(C.tool=null,C.manipulator=null,_(I=>{if(I!==w.tool||null==I.manipulators||!G3(I))return!1;const j=I.manipulators.findById(w.manipulatorId);return!!(0,Wi.pC)(j)&&(C.manipulator=j,C.tool=I,!0)}),C.manipulator?C:null)}}function B9(A){return"mouse"===A}function R9(A){return"mouse"!==A.pointerType||0===A.button}const $3={manipulator:null,tool:null},eS=sa.Z.getLogger("esri.views.ToolViewManager"),F9="manipulators",tS="tools";let am=class extends tm.r{constructor(A){super(A),this._manipulatorState=new kH,this.tools=new tl.Z,this.cursor=null,this._forEachTool=w=>{for(const _ of this.tools.items)if(w(_))return}}initialize(){this.handles.add([this.view.on(T9,A=>{this._handleInputEvent(A)},es.f.TOOL),...PH(this.tools),this.tools.on("before-add",A=>{const w=A.item;if(null==w||this.tools.includes(w))return eS.warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),void A.preventDefault()}),this.tools.on("before-remove",({item:A})=>{this._manipulatorState.clearPointers(A,this._forEachTool)}),this.tools.on("change",()=>{this._refreshToolWatchers()})])}destroy(){this._forEachTool(A=>A.destroy())}set activeTool(A){if((0,Wi.pC)(A)&&!this.view.ready)return void eS.error("Cannot set active tool while view is not ready.");if(A===this.activeTool)return void eS.warn("Tool is already active - ignoring activation request.");(0,Wi.pC)(this.activeTool)&&this.activeTool.deactivate(),(0,Wi.pC)(A)&&A.activate(),this._set("activeTool",A),this._removeIncompleteTools(A);const w=(0,Wi.Wi)(this.activeTool);for(const _ of this.tools){_.setEditableFlag(1,w||_===this.activeTool);const C=G3(_);!w&&C||this._manipulatorState.clearPointers(_,this._forEachTool,!C)}this._updateCursor()}get updating(){return this.updatingHandles.updating||this.tools.some(A=>A.updating)}attach(){this._forEachTool(A=>A.attach()),"3d"===this.view.type?this.handles.add([this.view.state.watch("camera",()=>{this._forEachManipulator(A=>{null!=A.onViewChange&&A.onViewChange()})}),this.view.elevationProvider.on("elevation-change",A=>{this._forEachManipulator(w=>{null!=w.onElevationChange&&w.onElevationChange(A)})})],F9):this.handles.add(this.view.watch("extent",()=>{this._forEachManipulator(A=>{null!=A.onViewChange&&A.onViewChange()})}))}detach(){(0,Wi.pC)(this.activeTool)&&(this.activeTool=null),this._forEachTool(A=>{A.detach(),A.destroy()}),this.tools.removeAll(),this.handles.remove(F9)}_forEachManipulator(A){this._forEachTool(w=>{w.manipulators&&w.manipulators.forEach(({manipulator:_})=>A(_,w))})}_handleInputEvent(A){let w=!1;const _=fr(ji({},A),{stopPropagation:()=>{w=!0,A.stopPropagation()}});(0,Wi.pC)(this.activeTool)?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(_):this._forEachTool(C=>{!w&&C.attached&&C.visible&&C.handleInputEvent(_)}),!w&&"key-down"===A.type&&"Escape"===A.key&&this.activeTool&&(A.stopPropagation(),this.activeTool=null),this._manipulatorState.handleInputEvent(_,{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:C=>{this.activeTool=C},view:this.view}),!w&&(0,Wi.pC)(this.activeTool)&&this.activeTool.handleInputEventAfter(_),this._manipulatorState.handleHoverEvent(_,this._forEachTool),this._updateCursor()}_refreshToolWatchers(){this.handles.remove(tS),this._forEachTool(A=>{if(A instanceof no.Z){const w=(0,Ar.YP)(A,["cursor","visible","editable"],()=>{G3(A)||this._manipulatorState.clearPointers(A,this._forEachTool),this._updateCursor()});this.handles.add(w,tS)}A.manipulators&&this.handles.add(A.manipulators.on("change",w=>{w.removed.forEach(({id:_})=>{this._manipulatorState.clearPointers(A,this._forEachTool,!0,_)}),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}),tS)}),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}_updateCursor(){let A=this._manipulatorState.cursor;this._forEachTool(w=>!(!(0,Wi.pC)(w.cursor)||!w.visible||(A=w.cursor,0))),this._get("cursor")!==A&&this._set("cursor",A)}_removeIncompleteTools(A){this.tools.filter(w=>((0,Wi.Wi)(A)||w!==A)&&!w.completed).forEach(w=>{this.tools.remove(w),w.destroy()})}};(0,At._)([(0,zt.Cb)({constructOnly:!0,nonNullable:!0})],am.prototype,"view",void 0),(0,At._)([(0,zt.Cb)({value:null})],am.prototype,"activeTool",null),(0,At._)([(0,zt.Cb)({readOnly:!0,type:tl.Z})],am.prototype,"tools",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],am.prototype,"cursor",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],am.prototype,"updating",null),am=(0,At._)([(0,br.j)("esri.views.ToolViewManager")],am);var BH=am;let Hy=class extends no.Z{constructor(A){super(),this.nativeIndex=null,this._detectedDeviceType="unknown",this._detectedDeviceType="standard"===A.mapping?"standard":RH.test(A.id)?"spacemouse":"unknown",this.nativeIndex=A.index}get native(){return(navigator.getGamepads?navigator.getGamepads():[])[this.nativeIndex]}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return FH[this.deviceType]}};(0,At._)([(0,zt.Cb)({nonNullable:!0,readOnly:!0})],Hy.prototype,"nativeIndex",void 0),(0,At._)([(0,zt.Cb)({type:String,readOnly:!0})],Hy.prototype,"deviceType",null),(0,At._)([(0,zt.Cb)({type:Number,readOnly:!0})],Hy.prototype,"axisThreshold",null),Hy=(0,At._)([(0,br.j)("esri.views.input.gamepad.GamepadInputDevice")],Hy);const RH=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),FH={standard:.15,spacemouse:.025,unknown:0};var iS=Hy;let Qb=class extends no.Z{constructor(...A){super(...A),this.devices=new tl.Z,this.enabledFocusMode="document"}};(0,At._)([(0,zt.Cb)({type:tl.Z.ofType(iS),readOnly:!0})],Qb.prototype,"devices",void 0),(0,At._)([(0,zt.Cb)({type:["document","view","none"]})],Qb.prototype,"enabledFocusMode",void 0),Qb=(0,At._)([(0,br.j)("esri.views.input.gamepad.GamepadSettings")],Qb);var NH=Qb;let Z3=class extends no.Z{constructor(){super(...arguments),this.gamepad=new NH}};(0,At._)([(0,zt.Cb)({readOnly:!0})],Z3.prototype,"gamepad",void 0),Z3=(0,At._)([(0,br.j)("esri.views.input.Input")],Z3);var UH=Z3;let lm=class extends no.Z{constructor(A){super(A),this.enabled=!0,this.device=null,this.mode="pan",this.tiltDirection="forward-down",this.velocityFactor=1}};(0,At._)([(0,zt.Cb)({type:Boolean,nonNullable:!0})],lm.prototype,"enabled",void 0),(0,At._)([(0,zt.Cb)({type:iS})],lm.prototype,"device",void 0),(0,At._)([(0,zt.Cb)({type:["pan","zoom"],nonNullable:!0})],lm.prototype,"mode",void 0),(0,At._)([(0,zt.Cb)({type:["forward-down","forward-up"],nonNullable:!0})],lm.prototype,"tiltDirection",void 0),(0,At._)([(0,zt.Cb)({type:Number,nonNullable:!0})],lm.prototype,"velocityFactor",void 0),lm=(0,At._)([(0,br.j)("esri.views.navigation.gamepad.GamepadSettings")],lm);var N9=lm;let Qg=class extends no.Z{constructor(A){super(A),this.browserTouchPanEnabled=!0,this.gamepad=new N9,this.momentumEnabled=!0,this.mouseWheelZoomEnabled=!0}};(0,At._)([(0,zt.Cb)({type:Boolean})],Qg.prototype,"browserTouchPanEnabled",void 0),(0,At._)([(0,zt.Cb)({type:N9,nonNullable:!0})],Qg.prototype,"gamepad",void 0),(0,At._)([(0,zt.Cb)({type:Boolean})],Qg.prototype,"momentumEnabled",void 0),(0,At._)([(0,zt.Cb)({type:Boolean})],Qg.prototype,"mouseWheelZoomEnabled",void 0),Qg=(0,At._)([(0,br.j)("esri.views.navigation.Navigation")],Qg);var U9=Qg,jH=N(38305);function j9(A){const w=A.url&&(0,jH.Qc)(A.url);return null==(A.spatialReference&&A.spatialReference.vcsWkid)&&(0,Wi.pC)(w)&&"ImageServer"===w.serverType||!H9(A)||!A.heightModelInfo?function(A){return V9(A)?!!(A.capabilities&&A.capabilities.data&&A.capabilities.data.supportsZ):W9(A)}(A)?YM.Z.deriveUnitFromSR(WH,A.spatialReference):null:A.heightModelInfo}function H9(A){return"heightModelInfo"in A}function V9(A){if("unknown"===A.type||!("capabilities"in A))return!1;switch(A.type){case"csv":case"feature":case"geojson":case"subtype-group":case"ogc-feature":case"wfs":return!0;default:return!1}}function W9(A){switch(A.type){case"building-scene":case"elevation":case"integrated-mesh":case"point-cloud":case"scene":case"voxel":case"slice":return!0;case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"csv":case"direct-line-measurement":case"area-measurement":case"geojson":case"feature":case"subtype-group":case"geo-rss":case"graphics":case"group":case"imagery":case"imagery-tile":case"kml":case"line-of-sight":case"map-image":case"map-notes":case"ogc-feature":case"open-street-map":case"route":case"stream":case"tile":case"unknown":case"unsupported":case"vector-tile":case"wcs":case"web-tile":case"wfs":case"wms":case"wmts":case null:return!1}return!1}const WH=new YM.Z({heightModel:"gravity-related-height"});var rS;const KH=sa.Z.getLogger("esri.views.support.DefaultsFromMap");let mc=rS=class extends no.Z{constructor(){super(...arguments),this._handles=new Bl.Z,this._waitTask=null,this._extentProjectController=null,this._spatialReferenceCandidates=null,this._extentCandidates=null,this.logDebugInformation=!1,this.isSpatialReferenceDone=!1,this.isTileInfoDone=!1,this.isHeightModelInfoSearching=!1,this.spatialReference=null,this.extent=null,this.heightModelInfo=null,this.vcsWkid=null,this.latestVcsWkid=null,this.mapCollectionPaths=rS.DefaultMapCollectionPaths.slice(),this.tileInfo=null}initialize(){this.watch("mapCollectionPaths",()=>{this._running&&(this.reset(),this.start())})}destroy(){this._set("view",null),this._handles=(0,Wi.SC)(this._handles),this._cancelLoading()}get _running(){return!!(this._handles&&this._handles.size>0)}reset(){this._handles.removeAll(),this._set("isSpatialReferenceDone",!1),this._set("isTileInfoDone",!1),this._set("isHeightModelInfoSearching",!1),this._set("spatialReference",null),this._set("extent",null),this._set("heightModelInfo",null),this._set("vcsWkid",null),this._set("latestVcsWkid",null),this._set("tileInfo",null),this._spatialReferenceCandidates=null,this._extentCandidates=null}start(){this._handles.removeAll();const A=this._updateLayerChange.bind(this);for(const w of this.mapCollectionPaths)this._handles.add((0,Ar.on)(this.view,`map.${w}`,"change",A,A,A,!0));this._handles.add((0,Ar.gx)(this,"isSpatialReferenceDone",()=>this._updateTileInfo(),!0))}_ownerNameFromCollectionName(A){const w=A.lastIndexOf(".");return-1===w?"view":"view."+A.slice(0,w)}_ensureLoadedOwnersFromCollectionName(A){const w=this._ownerNameFromCollectionName(A).split(".");let _;for(let C=0;C<w.length&&(_=this.get(w.slice(0,C+1).join(".")),_);C++)if(_.load&&!_.isFulfilled())return{collectionName:A,owner:null,loading:_.load().catch(()=>{})};return{collectionName:A,owner:_}}_cancelLoading(){this._waitTask=null,this._extentProjectController&&(this._extentProjectController.abort(),this._extentProjectController=null)}_updateWhen(A){let w=!0,_=!1;const C=A.catch(()=>{}).then(()=>{w?_=!0:C===this._waitTask&&this._update()});return w=!1,_||(this._waitTask=C),_}_updateLayerChange(){this.isSpatialReferenceDone&&!this.spatialReference&&this._set("isSpatialReferenceDone",!1),this._update()}_update(){if(this._cancelLoading(),this.view){if(!this.isSpatialReferenceDone){this._debugLog("Starting search for spatial reference...");const A=this._processMapCollections(w=>this._processSpatialReferenceSource(w));if(this._debugLog(`Search ended with status '${K9(A)}'`),0!==A){let w=null,_=this._spatialReferenceCandidates;if(!_||_.length<1?(w=this.defaultSpatialReference,this._debugLog(`No spatial reference found, locking to default (${sS(w)})`)):(this.defaultSpatialReference&&_.length>1&&_.findIndex(C=>C.equals(this.defaultSpatialReference))>-1&&(_=[this.defaultSpatialReference]),w=_[0],this._debugLog(`Locking to ${sS(w)}`)),this._set("spatialReference",w),w)if(this.extent)this._set("isSpatialReferenceDone",!0);else{const C=this.logDebugInformation;this.logDebugInformation=!1,this._processMapCollections(I=>this._findExtent(I,w)),this.logDebugInformation=C,this._projectExtentCandidate().catch(()=>{}).then(()=>this._set("isSpatialReferenceDone",!0))}else this._set("isSpatialReferenceDone",!0)}}if(null==this.heightModelInfo&&this.view.isHeightModelInfoRequired){this._debugLog("Starting search for height model info...");const A=this._processMapCollections(w=>this._processHeightModelInfoSource(w),w=>function(A){return null!=A.layers||W9(A)||V9(A)||H9(A)}(w));this._debugLog(`Search ended with status ${K9(A)}`),this._set("isHeightModelInfoSearching",0===A)}this._updateTileInfo()}}_processMapCollections(A,w){this._preloadMapCollections(w);let _=2;return this._forAllMapCollectionSources(C=>{if(2!==_)return!1;const{collectionName:I}=C;return this._debugLog(`Processing collection ${I}...`),!(C.loading&&!this._updateWhen(C.loading)&&(this._debugLog(`Collection ${C.collectionName} owner is loading -> wait`),_=0,1))},C=>!(2!==_||(null==w||w(C)?!C.load||C.isFulfilled()||this._updateWhen(C.load())?(!C.load||C.isResolved())&&A(C)&&(_=1,1):(this._debugLog(`Source ${C.id} is loading -> wait`),_=0,1):(this._debugLog(`Source ${C.id} is skipped due to predicate`),1)))),_}_preloadMapCollections(A){let w=10;const _=this.logDebugInformation;this.logDebugInformation=!1,this._forAllMapCollectionSources(()=>!0,C=>0!==w&&!(null!=A&&!A(C)||(C.load&&!C.isFulfilled()&&(this.logDebugInformation=_,this._debugLog(`Pre-loading source ${C.id}`),this.logDebugInformation=!1,C.load().catch(()=>{}),w--),0))),this.logDebugInformation=_}_forAllMapCollectionSources(A,w){for(const _ of this.mapCollectionPaths){const C=`map.${_}`,I=this._ensureLoadedOwnersFromCollectionName(C);if(!1===A(I))continue;const j=I.owner;if(!j||j.isRejected&&j.isRejected()){this._debugLog(`Collection ${C} owner is invalid or rejected -> skip`);continue}const K=this.view.get(C);K?this._forEachSource(K,w):this._debugLog(`Collection ${C} does not exist -> skip`)}}_forEachSource(A,w){for(const _ of A.items)!1!==w(_)&&"layers"in _&&_.layers&&this._forEachSource(_.layers,w)}_processSpatialReferenceSource(A){let w=this._getSupportedSpatialReferences(A);return 0!==w.length&&(this._spatialReferenceCandidates?(w=(0,Kg.wf)(w,this._spatialReferenceCandidates,(_,C)=>_.equals(C)),w.length>0?this._spatialReferenceCandidates=w:this._debugLog(`Layer ${A.id} is ignored because its supported spatial\n          references are not compatible with the previous candidates`)):this._spatialReferenceCandidates=w,1===this._spatialReferenceCandidates.length)}_findExtent(A,w){const _="fullExtents"in A&&A.fullExtents||(A.fullExtent?[A.fullExtent]:[]),C=_.find(I=>I.spatialReference.equals(w));if(C)return this._set("extent",C),!0;if(this._getSupportedSpatialReferences(A).length>0){const I=_.map(K=>({extent:K,layer:A}));this._extentCandidates=(this._extentCandidates||[]).concat(I)}return!1}_projectExtentCandidate(){var A=this;return(0,Es.Z)(function*(){if(!A._extentCandidates||!A._extentCandidates.length)return;const w=A.spatialReference,_=A._extentCandidates.find(C=>(0,Ud.Q8)(C.extent.spatialReference,w));if((0,Wi.pC)(_))A._set("extent",(0,Wi.Wg)((0,Ud.iV)(_.extent,w)));else{const C=A._extentCandidates[0];A._extentProjectController=(0,Fs.yi)();const I=yield Promise.all([N.e(8592),N.e(5082)]).then(N.bind(N,35082));try{const j=yield I.projectGeometry(C.extent,w,C.layer.portalItem,A._extentProjectController.signal);A._set("extent",j)}catch(j){}A._extentProjectController=null}})()}_getSupportedSpatialReferences(A){const w="supportedSpatialReferences"in A&&A.supportedSpatialReferences||(A.spatialReference?[A.spatialReference]:[]);if(0===w.length)return this._debugLog(`Layer ${A.id} is ignored because it does not have any spatial references`),[];const _=w.filter(C=>this.view.isSpatialReferenceSupported(C,A,I=>this._debugLog(I)));return this._debugLog(0===_.length?`Layer ${A.id} has spatial references but none of them are supported (or layer doesn't require locking)`:`Layer ${A.id} has spatial references. Resulting candidate set: ${_.map(sS).join(", ")}`),_}_processHeightModelInfoSource(A){const w=j9(A);return!!w&&(this._set("heightModelInfo",w),this._set("isHeightModelInfoSearching",!1),A.spatialReference&&(this._set("vcsWkid",A.spatialReference.vcsWkid),this._set("latestVcsWkid",A.spatialReference.latestVcsWkid)),!0)}_updateTileInfo(){if(null!=this.tileInfo)return;if(!this.view.isTileInfoRequired())return void this._set("isTileInfoDone",!0);if(!this.isSpatialReferenceDone)return;const A=this.get("view.map");if(!A)return void this._debugLog("updateTileInfo: no map");const w=A.basemap,_=A.get("layers.0");let C=null;if(w&&"failed"!==w.loadStatus){if(!w.loaded)return this._updateWhen(w.load()),void this._debugLog("updateTileInfo: basemap still loading");const I=w&&w.get("baseLayers.0");if(I&&"failed"!==I.loadStatus){if(!I.loaded)return this._updateWhen(I.load()),void this._debugLog("updateTileInfo: first basemap layer still loading");C="tileInfo"in I&&I.tileInfo}else{if(!_||"failed"===_.loadStatus)return this._debugLog("updateTileInfo: no tileInfo"),void this._set("isTileInfoDone",!0);if(!_.loaded)return this._updateWhen(_.load()),void this._debugLog("updateTileInfo: first operational layer still loading");C="tileInfo"in _&&_.tileInfo}}else if(_&&"failed"!==_.loadStatus){if(!_.loaded)return this._updateWhen(_.load()),void this._debugLog("updateTileInfo: first operational layer still loading");C="tileInfo"in _&&_.tileInfo}C&&!C.spatialReference.equals(this.spatialReference)&&(C=null),this._debugLog(`updateTileInfo: setting ${C}`),this._set("tileInfo",C),this._set("isTileInfoDone",!0)}_debugLog(A){this.logDebugInformation&&KH.info(A)}};function sS(A){return A?JSON.stringify(A.toJSON()):"undefined"}function K9(A){switch(A){case 0:return"Waiting";case 1:return"Found";case 2:return"Exhausted"}}mc.DefaultMapCollectionPaths=["basemap.baseLayers","layers","ground.layers","basemap.referenceLayers"],(0,At._)([(0,zt.Cb)()],mc.prototype,"logDebugInformation",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],mc.prototype,"isSpatialReferenceDone",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],mc.prototype,"isTileInfoDone",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],mc.prototype,"isHeightModelInfoSearching",void 0),(0,At._)([(0,zt.Cb)({constructOnly:!0})],mc.prototype,"view",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],mc.prototype,"spatialReference",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],mc.prototype,"extent",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],mc.prototype,"heightModelInfo",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],mc.prototype,"vcsWkid",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],mc.prototype,"latestVcsWkid",void 0),(0,At._)([(0,zt.Cb)()],mc.prototype,"mapCollectionPaths",void 0),(0,At._)([(0,zt.Cb)()],mc.prototype,"defaultSpatialReference",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],mc.prototype,"tileInfo",void 0),mc=rS=(0,At._)([(0,br.j)("esri.views.support.DefaultsFromMap")],mc);var J3,GH=mc;const X3=sa.Z.getLogger("esri.views.View");let vs=J3=class extends((0,tm.p)(Nd.Z.EventedMixin((0,D9.v)(no.Z)))){constructor(A){super(A),this._userSpatialReference=null,this._cursor=null,this.allLayerViews=new Oy.Z({getCollections:()=>{var w,_,C;return[null==(w=this.basemapView)?void 0:w.baseLayerViews,null==(_=this.groundView)?void 0:_.layerViews,this.layerViews,null==(C=this.basemapView)?void 0:C.referenceLayerViews]},getChildrenFunction:w=>w.layerViews}),this.groundView=null,this.animation=null,this.basemapView=null,this.defaultsFromMap=new GH({view:this}),this.fatalError=null,this.extent=null,this.graphics=new M9.ZP,this.navigating=!1,this.layerViews=new tl.Z,this.magnifier=new S9,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this.spatialReferenceWarningDelay=1e3,this.supportsGround=!0,this.timeExtent=null,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this.input=new UH,this.navigation=new U9,this.layerViewManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new IH(this),this.persistableViewModels=new tl.Z,this._isValid=!1,this._readyCycleForced=!1,this.handles.add(this.watch("preconditionsReady",w=>{w?(this._currentSpatialReference=this.spatialReference,J3.views.add(this)):(this._currentSpatialReference=null,J3.views.remove(this)),this.notifyChange("spatialReference"),!w&&this.ready?(this.layerViewManager.clear(),this.toolViewManager.detach(),this._teardown()):w&&!this.ready&&(this._startup(),this.toolViewManager.attach())},!0))}initialize(){let A;this.addResolvingPromise(this.validate().then(()=>(this._isValid=!0,(0,Ar.N1)(this,"ready")))),this.basemapView=new om({view:this}),this.layerViewManager=new SH({view:this,layerViewImporter:{importLayerView:w=>this.importLayerView(w),hasLayerViewModule:w=>this.hasLayerViewModule(w)},supportsGround:this.supportsGround}),this.toolViewManager=new BH({view:this}),this._resetInitialViewPropertiesFromContent(),(0,Ar.S1)(this.defaultsFromMap,"isSpatialReferenceDone",w=>{const _=!!(this.map&&this.map.allLayers.length>0);if(w&&!this.spatialReference&&_||!A){if(w&&!this.spatialReference&&_&&!A){const C=A=(0,Fs.e4)(this.spatialReferenceWarningDelay);A.then(()=>{C===A&&X3.warn("#spatialReference","no spatial reference could be derived from the currently added map layers")}).catch(()=>{})}}else A=null},!0)}destroy(){if(this.destroyed)return;this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=(0,Wi.SC)(this.graphics),this.handles.remove("defaultsFromMap"),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),this.toolViewManager=(0,Wi.SC)(this.toolViewManager),this.layerViewManager=(0,Wi.SC)(this.layerViewManager),this.basemapView=(0,Wi.SC)(this.basemapView),this.invalidate(),this._emitter.clear(),this.handles.removeAll();const A=this.map;this.map=null,null==A||A.destroy()}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){return X3.error("#toMap()","Not implemented on this instance of View"),null}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get interacting(){return this.navigating}get preconditionsReady(){return!!(!this.fatalError&&this._isValid&&!this._readyCycleForced&&this.map&&(!GM.Z.isLoadable(this.map)||this.map.loaded)&&0!==this.width&&0!==this.height&&this.spatialReference&&this.isSpatialReferenceSupported(this.spatialReference)&&(this._currentSpatialReference||!this.initialExtentRequired||this.initialExtent||this.defaultsFromMap&&this.defaultsFromMap.isSpatialReferenceDone)&&this.defaultsFromMap&&this.defaultsFromMap.isTileInfoDone)}set map(A){var w;A!==this._get("map")&&(null!=(w=A)&&w.destroyed&&(X3.warn("#map","The provided map is already destroyed",{map:A}),A=null),GM.Z.isLoadable(A)&&A.load().catch(()=>{}),this.initialized&&(this.forceReadyCycle(),this._resetInitialViewPropertiesFromContent()),this._set("map",A))}get spatialReference(){let A=this._userSpatialReference||this._currentSpatialReference||this.getDefaultSpatialReference()||null;return A&&this.isHeightModelInfoRequired&&this.defaultsFromMap&&(A=A.clone(),A.vcsWkid=this.defaultsFromMap.vcsWkid,A.latestVcsWkid=this.defaultsFromMap.latestVcsWkid),A}set spatialReference(A){this._userSpatialReference=A,this._set("spatialReference",A)}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get initialExtent(){return this.defaultsFromMap&&this.defaultsFromMap.extent}get cursor(){const A=this.toolViewManager?this.toolViewManager.cursor:null;return(0,Wi.pC)(A)?A:this._cursor||"default"}set cursor(A){this._cursor=A,this.notifyChange("cursor")}get size(){return[this.width,this.height]}whenLayerView(A){return this.layerViewManager.whenLayerView(A)}getDefaultSpatialReference(){return this.get("defaultsFromMap.spatialReference")}getDefaultHeightModelInfo(){return this.get("map.supportsHeightModelInfo")&&this.get("map.heightModelInfo")||this.get("defaultsFromMap.heightModelInfo")||null}importLayerView(A){throw new os.Z("importLayerView() not implemented")}hasLayerViewModule(A){return!1}validate(){return(0,Es.Z)(function*(){})()}invalidate(){this._isValid=!1}isSpatialReferenceSupported(A,w,_){return!0}isTileInfoRequired(){return!1}when(A,w){return this.isResolved()&&!this.ready&&X3.warn("#when()",'Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use watchUtils.whenOnce(view, "ready").then(...) instead.'),super.when(A,w)}forceReadyCycle(){this.ready&&(this._readyCycleForced=!0,(0,Ar.OY)(this,"preconditionsReady",()=>this._readyCycleForced=!1))}addAndActivateTool(A){this.toolViewManager.tools.add(A),this.activeTool=A}tryFatalErrorRecovery(){this.fatalError=null}_resetInitialViewPropertiesFromContent(){if(!this.defaultsFromMap)return;const A=()=>this.defaultsFromMap&&this.defaultsFromMap.start();this.defaultsFromMap.reset(),this._currentSpatialReference=null,this.notifyChange("spatialReference"),this.handles.remove("defaultsFromMap"),this.handles.add([(0,Ar.YP)(this,"spatialReference",(w,_)=>{(0,qM.fS)(w,_)||A()}),(0,Ar.YP)(this,"initialExtentRequired",A),(0,Y0.Os)(A)],"defaultsFromMap")}};vs.views=new tl.Z,(0,At._)([(0,ns.B)("toolViewManager.activeTool")],vs.prototype,"activeTool",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],vs.prototype,"allLayerViews",void 0),(0,At._)([(0,zt.Cb)()],vs.prototype,"groundView",void 0),(0,At._)([(0,zt.Cb)()],vs.prototype,"animation",void 0),(0,At._)([(0,zt.Cb)()],vs.prototype,"basemapView",void 0),(0,At._)([(0,zt.Cb)()],vs.prototype,"defaultsFromMap",void 0),(0,At._)([(0,zt.Cb)()],vs.prototype,"fatalError",void 0),(0,At._)([(0,zt.Cb)({type:Iu.Z})],vs.prototype,"extent",void 0),(0,At._)([(0,zt.Cb)((0,M9.$o)())],vs.prototype,"graphics",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0,type:YM.Z,dependsOn:["map.heightModelInfo?","defaultsFromMap.heightModelInfo"]})],vs.prototype,"heightModelInfo",null),(0,At._)([(0,zt.Cb)({readOnly:!0})],vs.prototype,"interacting",null),(0,At._)([(0,zt.Cb)({readOnly:!0})],vs.prototype,"navigating",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_currentSpatialReference","initialExtentRequired","initialExtent","defaultsFromMap.isSpatialReferenceDone","defaultsFromMap.isTileInfoDone"]})],vs.prototype,"preconditionsReady",null),(0,At._)([(0,zt.Cb)({type:tl.Z,readOnly:!0})],vs.prototype,"layerViews",void 0),(0,At._)([(0,zt.Cb)({type:S9})],vs.prototype,"magnifier",void 0),(0,At._)([(0,zt.Cb)({value:null,type:K3})],vs.prototype,"map",null),(0,At._)([(0,zt.Cb)()],vs.prototype,"padding",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],vs.prototype,"ready",void 0),(0,At._)([(0,zt.Cb)({type:Pp.Z})],vs.prototype,"spatialReference",null),(0,At._)([(0,zt.Cb)()],vs.prototype,"spatialReferenceWarningDelay",void 0),(0,At._)([(0,zt.Cb)()],vs.prototype,"stationary",null),(0,At._)([(0,zt.Cb)({readOnly:!0})],vs.prototype,"supportsGround",void 0),(0,At._)([(0,zt.Cb)({type:sP.Z})],vs.prototype,"timeExtent",void 0),(0,At._)([(0,ns.B)("toolViewManager.tools")],vs.prototype,"tools",void 0),(0,At._)([(0,zt.Cb)()],vs.prototype,"toolViewManager",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],vs.prototype,"type",void 0),(0,At._)([(0,zt.Cb)({type:Number})],vs.prototype,"scale",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],vs.prototype,"updating",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],vs.prototype,"initialExtentRequired",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0,type:Iu.Z})],vs.prototype,"initialExtent",null),(0,At._)([(0,zt.Cb)()],vs.prototype,"cursor",null),(0,At._)([(0,zt.Cb)({readOnly:!0})],vs.prototype,"input",void 0),(0,At._)([(0,zt.Cb)({type:U9,nonNullable:!0})],vs.prototype,"navigation",void 0),(0,At._)([(0,zt.Cb)()],vs.prototype,"layerViewManager",void 0),(0,At._)([(0,zt.Cb)()],vs.prototype,"width",void 0),(0,At._)([(0,zt.Cb)()],vs.prototype,"height",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],vs.prototype,"resizing",void 0),(0,At._)([(0,zt.Cb)({value:null,readOnly:!0})],vs.prototype,"size",null),(0,At._)([(0,zt.Cb)({readOnly:!0})],vs.prototype,"suspended",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],vs.prototype,"viewEvents",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],vs.prototype,"persistableViewModels",void 0),(0,At._)([(0,zt.Cb)()],vs.prototype,"_isValid",void 0),(0,At._)([(0,zt.Cb)()],vs.prototype,"_readyCycleForced",void 0),(0,At._)([(0,zt.Cb)()],vs.prototype,"_currentSpatialReference",void 0),vs=J3=(0,At._)([(0,br.j)("esri.views.View")],vs);var $H=vs;let cm=class extends D9.D{constructor(A){super(A),this.state="running",this.target=null}initialize(){this.addResolvingPromise(new Promise((A,w)=>this._dfd={resolve:A,reject:w}))}get done(){return"finished"===this.state||"stopped"===this.state}stop(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","stopped"),this._dfd.reject(new os.Z("ViewAnimation stopped")))}finish(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","finished"),this._dfd.resolve())}update(A,w){w||(w=(0,Fs.y8)(A)?"waiting-for-target":"running"),this._set("target",A),this._set("state",w)}};(0,At._)([(0,zt.Cb)({readOnly:!0})],cm.prototype,"done",null),(0,At._)([(0,zt.Cb)({readOnly:!0,type:String})],cm.prototype,"state",void 0),(0,At._)([(0,zt.Cb)()],cm.prototype,"target",void 0),cm=(0,At._)([(0,br.j)("esri.views.ViewAnimation")],cm),function(A){A.State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"}}(cm||(cm={}));var oS=cm,Y3=N(78041),gl=N(24926);class ZH{constructor(w,_,C,I){const j=w.targetGeometry,K=_.targetGeometry;I?"string"==typeof I&&(I=(0,Y3.Qc)(I)||Y3.LI.ease):I=Y3.LI.ease,this.easing=I,this.duration=C,this.sCenterX=j.x,this.sCenterY=j.y,this.sScale=w.scale,this.sRotation=w.rotation,this.tCenterX=K.x,this.tCenterY=K.y,this.tScale=_.scale,this.tRotation=_.rotation,this.dCenterX=this.tCenterX-this.sCenterX,this.dCenterY=this.tCenterY-this.sCenterY,this.dScale=this.tScale-this.sScale,this.dRotation=this.tRotation-this.sRotation,this.dRotation>180?this.dRotation-=360:this.dRotation<-180&&(this.dRotation+=360)}applyRatio(w,_){const C=this.easing(_);let I,j,K,q;_>=1?(I=this.tCenterX,j=this.tCenterY,K=this.tRotation,q=this.tScale):(I=this.sCenterX+C*this.dCenterX,j=this.sCenterY+C*this.dCenterY,K=this.sRotation+C*this.dRotation,q=this.sScale+C*this.dScale),w.targetGeometry.x=I,w.targetGeometry.y=j,w.scale=q,w.rotation=K}}let Tf=class extends no.Z{constructor(A){super(A),this.duration=200,this.transition=null,this.easing=Y3.LI.ease,this.view=null,this.viewpoint=null,this.viewpoint=new jy.Z({targetGeometry:new Ys.Z,scale:0,rotation:0}),this._updateTask=(0,Y0.A)({postRender:this._postRender.bind(this)}),this._updateTask.pause()}destroy(){this._updateTask.remove(),this._updateTask=null}animate(A,w,_){this.stop(),(0,gl.JG)(this.viewpoint,w),this.transition=new ZH(this.viewpoint,A.target,_&&_.duration||this.duration,_&&_.easing||this.easing);const I=()=>{this.animation===A&&this._updateTask&&("finished"===A.state&&(this.transition.applyRatio(this.viewpoint,1),this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null)};return A.when(I,I),this._startTime=performance.now(),this._updateTask.resume(),this.animation=A,A}animateContinous(A,w){this.stop(),this.updateFunction=w,this.viewpoint=A;const _=new oS({target:A.clone()}),C=()=>{this.animation===_&&this._updateTask&&(this.animation=null,this.updateFunction=null)};return _.when(C,C),this._startTime=performance.now(),this._updateTask.resume(),this.animation=_,_}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}_postRender(A){const w=this.animation;if(w&&w.state!==oS.State.STOPPED){if(this.updateFunction)this.updateFunction(this.viewpoint,A.deltaTime);else{const _=(performance.now()-this._startTime)/this.transition.duration,C=_>=1;this.transition.applyRatio(this.viewpoint,_),C&&this.animation.finish()}this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}};(0,At._)([(0,zt.Cb)()],Tf.prototype,"animation",void 0),(0,At._)([(0,zt.Cb)()],Tf.prototype,"duration",void 0),(0,At._)([(0,zt.Cb)()],Tf.prototype,"transition",void 0),(0,At._)([(0,zt.Cb)()],Tf.prototype,"easing",void 0),(0,At._)([(0,zt.Cb)()],Tf.prototype,"view",void 0),(0,At._)([(0,zt.Cb)()],Tf.prototype,"viewpoint",void 0),Tf=(0,At._)([(0,br.j)("esri.views.2d.AnimationManager")],Tf);var JH=Tf;class XH{constructor(w){this.view=w,this._frameTaskHandle=null,this._updateRequested=!1,this.stationary=!0,this.updateEnabled=!0,this.animationInProgress=!1,this.prepare=()=>{this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions},this.update=()=>{if(this._updateRequested=!1,!this.updateEnabled)return;const{basemapView:_,graphicsView:C,labelManager:I,layerViews:j,state:{id:K}}=this.view;_.baseLayerViews.forEach(this._updateLayerView,this),j.forEach(this._updateLayerView,this),_.referenceLayerViews.forEach(this._updateLayerView,this),(0,Wi.pC)(I)&&(I.lastUpdateId!==K&&(I.viewChange(),I.lastUpdateId=K),I.updateRequested&&I.processUpdate(this._updateParameters)),(0,Wi.pC)(C)&&(C.lastUpdateId!==K&&(C.viewChange(),C.lastUpdateId=K),C.updateRequested&&C.processUpdate(this._updateParameters)),this.view.graphicsTileStore.setViewState(this._updateParameters.state),this.animationInProgress||this._updateRequested||this._frameTaskHandle.pause()}}destroy(){this.stop()}start(){this.stationary=this.view.stationary,this._updateParameters={state:this.view.state,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:this.view.renderingOptions},this._stationaryHandle=this.view.watch("stationary",w=>{this.stationary=w,this.requestFrame()}),this._frameTaskHandle=(0,Y0.A)(this)}stop(){this._frameTaskHandle&&(this._stationaryHandle.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0,this.animationInProgress=!1)}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume()}_updateLayerView(w){const _=this.view.state,C=w.lastUpdateId;null!=C&&(this.stationary||w.moving)||(w.moving=!0,w.moveStart()),C!==_.id&&w.viewChange(),this.stationary&&w.moving&&(w.moving=!1,w.moveEnd()),w.lastUpdateId=_.id,w.updateRequested&&w.processUpdate(this._updateParameters),"layerViews"in w&&w.layerViews.forEach(this._updateLayerView,this)}}function Rl(){return Promise.all([Promise.all([N.e(6590),N.e(3975),N.e(4266)]).then(N.bind(N,14266)),Promise.all([N.e(7692),N.e(3755),N.e(6590),N.e(5024),N.e(4589),N.e(4654),N.e(168),N.e(3997),N.e(4175),N.e(4522),N.e(1619),N.e(1983),N.e(4056),N.e(8123),N.e(3975),N.e(8592),N.e(8146)]).then(N.bind(N,8146))])}const Gb=()=>Rl().then(()=>Promise.all([N.e(7692),N.e(3755),N.e(6590),N.e(5024),N.e(4589),N.e(2564),N.e(5391)]).then(N.bind(N,55391))),q3=()=>Rl().then(()=>Promise.all([N.e(3755),N.e(5024),N.e(4654),N.e(168),N.e(3997),N.e(4518)]).then(N.bind(N,51326))),Q9={"base-dynamic":()=>Rl().then(()=>Promise.all([N.e(7692),N.e(3755),N.e(6590),N.e(5024),N.e(4589),N.e(5207),N.e(4126)]).then(N.bind(N,54126))),"base-tile":Gb,"bing-maps":Gb,csv:q3,"geo-rss":()=>Rl().then(()=>Promise.all([N.e(7692),N.e(3755),N.e(6590),N.e(5024),N.e(4589),N.e(4654),N.e(168),N.e(3997),N.e(4175),N.e(4522),N.e(1619),N.e(1983),N.e(4056),N.e(8123),N.e(8592),N.e(5072)]).then(N.bind(N,5072))),feature:q3,geojson:q3,graphics:()=>Rl().then(()=>Promise.all([N.e(7692),N.e(3755),N.e(6590),N.e(5024),N.e(4589),N.e(4654),N.e(168),N.e(3997),N.e(4175),N.e(4522),N.e(1619),N.e(1983),N.e(4056),N.e(8123),N.e(8592),N.e(3375)]).then(N.bind(N,63375))),group:()=>Rl().then(()=>Promise.all([N.e(7692),N.e(3755),N.e(6590),N.e(5024),N.e(4589),N.e(408)]).then(N.bind(N,60408))),imagery:()=>Rl().then(()=>Promise.all([N.e(7692),N.e(3755),N.e(6590),N.e(5024),N.e(4589),N.e(4654),N.e(168),N.e(3997),N.e(4175),N.e(4522),N.e(1619),N.e(1983),N.e(4056),N.e(8123),N.e(5207),N.e(8592),N.e(8446)]).then(N.bind(N,98446))),"imagery-tile":()=>Rl().then(()=>Promise.all([N.e(7692),N.e(3755),N.e(6590),N.e(5024),N.e(4589),N.e(1068),N.e(178)]).then(N.bind(N,60178))),kml:()=>Rl().then(()=>Promise.all([N.e(7692),N.e(3755),N.e(6590),N.e(5024),N.e(4589),N.e(4654),N.e(168),N.e(3997),N.e(4175),N.e(4522),N.e(1619),N.e(1983),N.e(4056),N.e(8123),N.e(8592),N.e(5868)]).then(N.bind(N,85868))),"map-image":()=>Rl().then(()=>Promise.all([N.e(7692),N.e(3755),N.e(6590),N.e(5024),N.e(4589),N.e(4654),N.e(168),N.e(3997),N.e(4175),N.e(4522),N.e(1619),N.e(1983),N.e(4056),N.e(8123),N.e(5207),N.e(2519)]).then(N.bind(N,82519))),"map-notes":()=>Rl().then(()=>Promise.all([N.e(7692),N.e(3755),N.e(6590),N.e(5024),N.e(4589),N.e(4654),N.e(168),N.e(3997),N.e(4175),N.e(4522),N.e(1619),N.e(1983),N.e(4056),N.e(8123),N.e(8592),N.e(6899)]).then(N.bind(N,36899))),"ogc-feature":()=>Rl().then(()=>Promise.all([N.e(3755),N.e(5024),N.e(4654),N.e(168),N.e(3997),N.e(4518),N.e(6829)]).then(N.bind(N,96829))),"open-street-map":Gb,route:()=>Rl().then(()=>Promise.all([N.e(7692),N.e(3755),N.e(6590),N.e(5024),N.e(4589),N.e(4654),N.e(168),N.e(3997),N.e(4175),N.e(4522),N.e(1619),N.e(1983),N.e(4056),N.e(8123),N.e(8592),N.e(9066)]).then(N.bind(N,9066))),stream:()=>Rl().then(()=>Promise.all([N.e(3755),N.e(5024),N.e(4654),N.e(168),N.e(3997),N.e(4518),N.e(9051)]).then(N.bind(N,39051))),"subtype-group":()=>Rl().then(()=>Promise.all([N.e(3755),N.e(5024),N.e(4654),N.e(168),N.e(3997),N.e(4518),N.e(5876)]).then(N.bind(N,65876))),tile:Gb,"vector-tile":()=>Rl().then(()=>Promise.all([N.e(7692),N.e(3755),N.e(6590),N.e(5024),N.e(4589),N.e(4654),N.e(8364),N.e(8592),N.e(1651)]).then(N.bind(N,1651))),wcs:()=>Rl().then(()=>Promise.all([N.e(7692),N.e(3755),N.e(6590),N.e(5024),N.e(4589),N.e(1068),N.e(178)]).then(N.bind(N,60178))),"web-tile":Gb,wfs:q3,wms:()=>Rl().then(()=>Promise.all([N.e(7692),N.e(3755),N.e(6590),N.e(5024),N.e(4589),N.e(5207),N.e(6053)]).then(N.bind(N,6053))),wmts:()=>Rl().then(()=>Promise.all([N.e(7692),N.e(3755),N.e(6590),N.e(5024),N.e(4589),N.e(2564),N.e(9300)]).then(N.bind(N,49300))),slice:null,"base-elevation":null,"building-scene":null,"direct-line-measurement":null,"area-measurement":null,elevation:null,"integrated-mesh":null,"line-of-sight":null,"point-cloud":null,voxel:null,scene:null,unknown:null,unsupported:null};var lS,$9=N(72258),Z9=N(93013),aS=N(33190),Ao=N(67831),qH=N(25748);const tV=sa.Z.getLogger("esri.views.MapView");let Gg=lS=class extends no.Z{constructor(A){super(A),this.geometry=null,this.spatialReference=null}get normalizedGeometry(){return(0,Wi.Wi)(this.geometry)||!this.spatialReference?null:this.spatialReference.equals(this.geometry.spatialReference)?this.geometry:(0,Ud.Q8)(this.geometry,this.spatialReference)?(0,Ud.iV)(this.geometry,this.spatialReference):(0,Z9.kR)()?(0,Z9.iV)(this.geometry,this.spatialReference):(tV.error("#constraints.geometry","unsupported coordinate system. The source geometry cannot be projected to the view's coordinate system. The projection engine cannot be loaded.",{geometry:this.geometry}),null)}constrain(A,w){if((0,Wi.Wi)(this.normalizedGeometry))return A;const _=A.targetGeometry;if("extent"===this.normalizedGeometry.type?(0,aS.aV)(this.normalizedGeometry,_):(0,aS.CI)(this.normalizedGeometry,_))return A;const{coordinate:C}=function(A,w){const{spatialReference:_}=w,C=[w.x,w.y];let I=Number.POSITIVE_INFINITY,j=0,K=0;const q=[0,0],ue="extent"===A.type?[[[A.xmin,A.ymin],[A.xmin,A.ymax],[A.xmax,A.ymax],[A.xmax,A.ymin],[A.xmin,A.ymin]]]:A.rings;for(const Re of ue)for(let Je=0;Je<Re.length-1;Je++){(0,qH.Tx)(q,C,Re,Je);const wt=(0,Ao.d)(C,q);wt<I&&(I=wt,j=q[0],K=q[1])}return{coordinate:new Ys.Z({x:j,y:K,spatialReference:_}),distance:I}}(this.normalizedGeometry,_);return C&&(A.targetGeometry=C),A}clone(){var A,w;return new lS({geometry:null==(A=this.geometry)?void 0:A.clone(),spatialReference:null==(w=this.spatialReference)?void 0:w.clone()})}};var cS;(0,At._)([(0,zt.Cb)({constructOnly:!0})],Gg.prototype,"geometry",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],Gg.prototype,"normalizedGeometry",null),(0,At._)([(0,zt.Cb)({constructOnly:!0})],Gg.prototype,"spatialReference",void 0),Gg=lS=(0,At._)([(0,br.j)("esri.views.2d.constraints.GeometryConstraint")],Gg);let $b=cS=class extends no.Z{constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0}constrain(A,w){return this.enabled&&w&&(this.rotationEnabled||(A.rotation=w.rotation)),A}clone(){return new cS({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}};(0,At._)([(0,zt.Cb)()],$b.prototype,"enabled",void 0),(0,At._)([(0,zt.Cb)()],$b.prototype,"rotationEnabled",void 0),$b=cS=(0,At._)([(0,br.j)("esri.views.2d.constraints.RotationConstraint")],$b);var uS,J9=$b;let Pu=uS=class extends no.Z{constructor(A){super(A),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0}initialize(){let A,{lods:w,minScale:_,maxScale:C,minZoom:I,maxZoom:j}=this,K=-1,q=-1,ue=!1,Re=!1;if(0!==_&&0!==C&&_<C&&([_,C]=[C,_]),!w||!w.length)return this._set("effectiveMinScale",_),void this._set("effectiveMaxScale",C);w=w.map(Je=>Je.clone()),w.sort((Je,wt)=>wt.scale-Je.scale),w.forEach((Je,wt)=>Je.level=wt);for(const Je of w)!ue&&_>0&&_>=Je.scale&&(K=Je.level,ue=!0),!Re&&C>0&&C>=Je.scale&&(q=A?A.level:-1,Re=!0),A=Je;-1===I&&(I=0===_?0:K),-1===j&&(j=0===C?w.length-1:q),I=Math.max(I,0),I=Math.min(I,w.length-1),j=Math.max(j,0),j=Math.min(j,w.length-1),I>j&&([I,j]=[j,I]),_=w[I].scale,C=w[j].scale,w.splice(0,I),w.splice(j-I+1,w.length),w.forEach((Je,wt)=>{this._lodByScale[Je.scale]=Je,this._scales[wt]=Je.scale}),this._set("effectiveLODs",w),this._set("effectiveMinZoom",I),this._set("effectiveMaxZoom",j),this._set("effectiveMinScale",_),this._set("effectiveMaxScale",C)}constrain(A,w){if(w&&A.scale===w.scale)return A;const _=this.effectiveMinScale,C=this.effectiveMaxScale,I=A.targetGeometry,j=w&&w.targetGeometry,q=0!==_&&A.scale>_;if(0!==C&&A.scale<C||q){const ue=q?_:C;if(j){const Re=(ue-w.scale)/(A.scale-w.scale);I.x=j.x+(I.x-j.x)*Re,I.y=j.y+(I.y-j.y)*Re}A.scale=ue}return this.snapToZoom&&this.effectiveLODs&&(A.scale=this._getClosestScale(A.scale)),A}fit(A){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(A,null);const w=this.scaleToZoom(A.scale),_=Math.abs(w-Math.floor(w));return A.scale=this.zoomToScale(_>.99?Math.round(w):Math.floor(w)),A}zoomToScale(A){if(!this.effectiveLODs)return 0;A-=this.effectiveMinZoom,A=Math.max(0,A);const w=this._scales;if(A<=0)return w[0];if(A>=w.length)return w[w.length-1];const _=Math.round(A-.5),C=Math.round(A);return w[C]+(C-A)*(w[_]-w[C])}scaleToZoom(A){if(!this.effectiveLODs)return-1;const w=this._scales;let _,C;if(A>=w[0])return this.effectiveMinZoom;if(A<=w[w.length-1])return this.effectiveMaxZoom;for(let I=0;I<w.length-1;I++){if(_=w[I],C=w[I+1],C===A)return I+this.effectiveMinZoom+1;if(_>A&&C<A)return I+this.effectiveMinZoom+1-(A-C)/(_-C)}}snapToClosestScale(A){if(!this.effectiveLODs)return A;const w=this.scaleToZoom(A);return this.zoomToScale(Math.round(w))}snapToNextScale(A,w=.5){if(!this.effectiveLODs)return A*w;const _=Math.round(this.scaleToZoom(A));return this.zoomToScale(_+1)}snapToPreviousScale(A,w=2){if(!this.effectiveLODs)return A*w;const _=Math.round(this.scaleToZoom(A));return this.zoomToScale(_-1)}clone(){return new uS({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(A){return this._lodByScale[A]||(A=this._scales.reduce((w,_)=>Math.abs(_-A)<=Math.abs(w-A)?_:w,this._scales[0])),this._lodByScale[A].scale}};(0,At._)([(0,zt.Cb)({readOnly:!0})],Pu.prototype,"effectiveLODs",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],Pu.prototype,"effectiveMinZoom",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],Pu.prototype,"effectiveMaxZoom",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],Pu.prototype,"effectiveMinScale",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],Pu.prototype,"effectiveMaxScale",void 0),(0,At._)([(0,zt.Cb)({type:[$9.Z]})],Pu.prototype,"lods",void 0),(0,At._)([(0,zt.Cb)()],Pu.prototype,"minZoom",void 0),(0,At._)([(0,zt.Cb)()],Pu.prototype,"maxZoom",void 0),(0,At._)([(0,zt.Cb)()],Pu.prototype,"minScale",void 0),(0,At._)([(0,zt.Cb)()],Pu.prototype,"maxScale",void 0),(0,At._)([(0,zt.Cb)()],Pu.prototype,"snapToZoom",void 0),Pu=uS=(0,At._)([(0,br.j)("esri.views.2d.constraints.ZoomConstraint")],Pu);var X9=Pu,hS=N(37118);const iV={base:null,key:"type",typeMap:{extent:Iu.Z,polygon:hS.Z}};let il=class extends Nd.Z.EventedAccessor{constructor(){super(...arguments),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0}initialize(){this.watch(["_zoom","_rotation"],this.emit.bind(this,"update"),!0)}destroy(){this.view=null,this._set("_zoom",null),this._set("_rotation",null)}set geometry(A){this._set("geometry",A||null)}get _defaultLODs(){const A=this.get("view.defaultsFromMap.tileInfo"),w=this.get("view.spatialReference");return A&&w&&A.spatialReference.equals(w)?A.lods:null}get _geometry(){return new Gg({geometry:this.geometry,spatialReference:this.view.spatialReference})}get _rotation(){return new J9({rotationEnabled:this.rotationEnabled})}get _zoom(){return new X9({lods:this.lods||this._defaultLODs,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale,snapToZoom:this.snapToZoom})}canZoomInTo(A){const w=this.effectiveMaxScale;return 0===w||A>=w}canZoomOutTo(A){const w=this.effectiveMinScale;return 0===w||A<=w}constrain(A,w){return this._zoom.constrain(A,w),this._rotation.constrain(A,w),this._geometry.constrain(A,w),A}constrainByGeometry(A){return this._geometry.constrain(A)}fit(A){return this._zoom.fit(A)}zoomToScale(A){return this._zoom.zoomToScale(A)}scaleToZoom(A){return this._zoom.scaleToZoom(A)}snapScale(A){return this._zoom.snapToClosestScale(A)}snapToNextScale(A){return this._zoom.snapToNextScale(A)}snapToPreviousScale(A){return this._zoom.snapToPreviousScale(A)}};(0,At._)([(0,zt.Cb)({readOnly:!0,aliasOf:"_zoom.effectiveLODs"})],il.prototype,"effectiveLODs",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0,aliasOf:"_zoom.effectiveMinScale"})],il.prototype,"effectiveMinScale",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0,aliasOf:"_zoom.effectiveMaxScale"})],il.prototype,"effectiveMaxScale",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0,aliasOf:"_zoom.effectiveMinZoom"})],il.prototype,"effectiveMinZoom",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0,aliasOf:"_zoom.effectiveMaxZoom"})],il.prototype,"effectiveMaxZoom",void 0),(0,At._)([(0,zt.Cb)({types:iV,value:null})],il.prototype,"geometry",null),(0,At._)([(0,zt.Cb)({type:[$9.Z]})],il.prototype,"lods",void 0),(0,At._)([(0,zt.Cb)()],il.prototype,"minScale",void 0),(0,At._)([(0,zt.Cb)()],il.prototype,"maxScale",void 0),(0,At._)([(0,zt.Cb)()],il.prototype,"minZoom",void 0),(0,At._)([(0,zt.Cb)()],il.prototype,"maxZoom",void 0),(0,At._)([(0,zt.Cb)()],il.prototype,"rotationEnabled",void 0),(0,At._)([(0,zt.Cb)()],il.prototype,"snapToZoom",void 0),(0,At._)([(0,zt.Cb)()],il.prototype,"view",void 0),(0,At._)([(0,zt.Cb)()],il.prototype,"_defaultLODs",null),(0,At._)([(0,zt.Cb)({type:Gg})],il.prototype,"_geometry",null),(0,At._)([(0,zt.Cb)({type:J9})],il.prototype,"_rotation",null),(0,At._)([(0,zt.Cb)({readOnly:!0,type:X9})],il.prototype,"_zoom",null),il=(0,At._)([(0,br.j)("esri.views.2d.MapViewConstraints")],il);var fS,Y9=il,yl=N(99770),nV=N(39863),Vy=N(31478),rV=N(12225),zy=N(46342),Wy=N(30217),dS=N(49966),q9=N(9545);function pS(A){return function(A){return A instanceof Float32Array&&A.length>=2}(A)||function(A){return Array.isArray(A)&&A.length>=2}(A)}const If=[0,0];let $g=fS=class extends Z0.wq{constructor(A){super(A),this._viewpoint2D={center:(0,yl.a)(),rotation:0,scale:0,spatialReference:null},this.center=[0,0],this.extent=new Iu.Z,this.id=0,this.inverseTransform=(0,zy.c)(),this.resolution=0,this.rotation=0,this.scale=0,this.transform=(0,zy.c)(),this.transformNoRotation=(0,zy.c)(),this.displayMat3=(0,dS.c)(),this.displayViewMat3=(0,dS.c)(),this.viewMat3=(0,dS.c)(),this.viewMat2d=(0,rV.c)(),this.worldScreenWidth=0,this.size=[0,0]}set pixelRatio(A){this._set("pixelRatio",A),this._update()}set size(A){this._set("size",A),this._update()}set viewpoint(A){if(A){const w=this._viewpoint2D,_=A.targetGeometry;w.center[0]=_.x,w.center[1]=_.y,w.rotation=A.rotation,w.scale=A.scale,w.spatialReference=_.spatialReference}this._update()}copy(A){const w=this.size,_=this.viewpoint;return _&&w?(this.viewpoint=(0,gl.JG)(_,A.viewpoint),this._set("size",(0,Ao.c)(w,A.size))):(this.viewpoint=A.viewpoint.clone(),this._set("size",[A.size[0],A.size[1]])),this._set("pixelRatio",A.pixelRatio),this}clone(){return new fS({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}toMap(A,w,_){return pS(w)?(0,Ao.t)(A,w,this.inverseTransform):(If[0]=w,If[1]=_,(0,Ao.t)(A,If,this.inverseTransform))}toScreen(A,w,_){return pS(w)?(0,Ao.t)(A,w,this.transform):(If[0]=w,If[1]=_,(0,Ao.t)(A,If,this.transform))}toScreenNoRotation(A,w,_){return pS(w)?(0,Ao.t)(A,w,this.transformNoRotation):(If[0]=w,If[1]=_,(0,Ao.t)(A,If,this.transformNoRotation))}getScreenTransform(A,w){const{center:_}=this._viewpoint2D,C=this._get("pixelRatio")||1,I=this._get("size");return(0,gl.Rb)(A,_,I,w,0,C),A}_update(){const{center:A,spatialReference:w,scale:_,rotation:C}=this._viewpoint2D,I=this._get("pixelRatio")||1,j=this._get("size"),K=new jy.Z({targetGeometry:new Ys.Z(A[0],A[1],w),scale:_,rotation:C});if(this._set("viewpoint",K),!j||!w||!_)return;this.resolution=(0,gl.uG)(K),this.rotation=C,this.scale=_,this.spatialReference=w,(0,Ao.c)(this.center,A),(0,Wy.s)(this.displayMat3,0!==j[0]?2/j[0]:0,0,0,0,0!==j[1]?-2/j[1]:0,0,-1,1,1);const Re=(0,Wy.b)(this.viewMat3),Je=(0,q9.f)(j[0]/2,j[1]/2),wt=(0,q9.f)(-j[0]/2,-j[1]/2),Qt=(0,nV.t)(C);(0,Wy.c)(Re,Re,Je),(0,Wy.r)(Re,Re,Qt),(0,Wy.c)(Re,Re,wt),(0,Wy.m)(this.displayViewMat3,this.displayMat3,Re);const ri=(0,Vy.i)(this.viewMat2d);return(0,Vy.t)(ri,ri,Je),(0,Vy.r)(ri,ri,Qt),(0,Vy.t)(ri,ri,wt),(0,gl.bk)(this.extent,K,j),(0,gl.Ck)(this.transform,K,j,I),(0,Vy.a)(this.inverseTransform,this.transform),(0,gl.Jp)(this.transformNoRotation,K,j,I),this.worldScreenWidth=(0,gl.L2)(this.spatialReference,this.resolution),this._set("id",this.id+1),this}};(0,At._)([(0,zt.Cb)({readOnly:!0})],$g.prototype,"id",void 0),(0,At._)([(0,zt.Cb)({value:1,json:{write:!0}})],$g.prototype,"pixelRatio",null),(0,At._)([(0,zt.Cb)({json:{write:!0}})],$g.prototype,"size",null),(0,At._)([(0,zt.Cb)({type:jy.Z,json:{write:!0}})],$g.prototype,"viewpoint",null),$g=fS=(0,At._)([(0,br.j)("esri.views.2d.ViewState")],$g);var e6=$g;let Of=class extends no.Z{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0}};(0,At._)([(0,zt.Cb)()],Of.prototype,"left",void 0),(0,At._)([(0,zt.Cb)()],Of.prototype,"top",void 0),(0,At._)([(0,zt.Cb)()],Of.prototype,"right",void 0),(0,At._)([(0,zt.Cb)()],Of.prototype,"bottom",void 0),Of=(0,At._)([(0,br.j)("esri.views.2d.PaddedViewState.Padding")],Of);let Ky=class extends e6{constructor(...A){super(...A),this.paddedViewState=new e6,this._updateContent=(()=>{const w=(0,yl.a)();return()=>{const _=this._get("size"),C=this._get("padding");if(!_||!C)return;const I=this.paddedViewState;(0,Ao.s)(w,C.left+C.right,C.top+C.bottom),(0,Ao.a)(w,_,w),(0,Ao.c)(I.size,w);const j=I.viewpoint;j&&(this.viewpoint=j)}})(),this.watch(["size","padding"],this._updateContent,!0),this.padding=new Of,this.size=[0,0]}set padding(A){this._set("padding",A||new Of)}set viewpoint(A){if(A){const w=A.clone();this.paddedViewState.viewpoint=A,(0,gl.H4)(w,A,this._get("size"),this._get("padding"));const _=this._viewpoint2D,C=w.targetGeometry;_.center[0]=C.x,_.center[1]=C.y,_.rotation=w.rotation,_.scale=w.scale,_.spatialReference=C.spatialReference,this._update()}}};(0,At._)([(0,zt.Cb)()],Ky.prototype,"paddedViewState",void 0),(0,At._)([(0,zt.Cb)({type:Of})],Ky.prototype,"padding",null),(0,At._)([(0,zt.Cb)()],Ky.prototype,"viewpoint",null),Ky=(0,At._)([(0,br.j)("esri.views.2d.PaddedViewState")],Ky);var aV=Ky,lV=(N(17083),N(9598)),cV=(N(58098),N(8480),N(79527),N(56656)),t6=N(33412);const um=sa.Z.getLogger("esri.views.MapView");let wo=class extends(cH($H)){constructor(A){super(A),this._stationaryTimer=null,this.frameTask=new XH(this),this.featuresTilingScheme=null,this.fullOpacity=1,this.graphicsView=null,this.initialExtent=null,this.labelManager=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.resizeAlign="center",this.supportsGround=!1,this.timeline=new t6.T,this.type="2d",this.constraints=new Y9,this.padding={top:0,right:0,bottom:0,left:0};const w=this.handles,_=()=>this.notifyChange("updating");w.add([this.watch("viewpoint",()=>{this._lastStationaryEventTimestamp=performance.now(),this._flipStationary(160)},!0),this.on("resize",C=>this._resizeHandler(C)),this.watch("animationManager.animation",C=>{this.animation=C}),this.allLayerViews.on("change",()=>{_(),w.remove("map-view-base-layerViewsUpdating"),w.add(this.allLayerViews.map(C=>C.watch("updating",_)),"map-view-base-layerViewsUpdating")})],"map-view-base")}destroy(){this.destroyed||(this._set("preconditionsReady",!1),this._gotoTask=this.frameTask=null)}set animation(A){const w=this._get("animation");if(A===w)return;if(w&&w.stop(),!A||A.isFulfilled())return void this._set("animation",null);this._set("animation",A),this.frameTask.animationInProgress=!0;const _=()=>{A===this._get("animation")&&(this._set("animation",null),this.frameTask.requestFrame()),this.frameTask.animationInProgress=!1};A.when(_,_)}get center(){if(!this.ready)return this._get("center");const{center:A,spatialReference:w}=this.state.paddedViewState;return new Ys.Z({x:A[0],y:A[1],spatialReference:w})}set center(A){if(null==A)return;if(!this._normalizeInput(A))return void um.error("#center",`incompatible spatialReference ${JSON.stringify(A.spatialReference)} with view's spatialReference ${JSON.stringify(this.spatialReference)}`);if(!this.ready)return this._set("center",A),void this.notifyChange("initialExtentRequired");const w=this.viewpoint;(0,gl.o2)(w,w,A),this.viewpoint=w}set constraints(A){const w=this._get("constraints");w&&(this.handles.remove("map-view-base-constraints"),w.destroy()),this._set("constraints",A),A&&(A.view=this,this.ready&&(this.state.viewpoint=A.fit(this.state.paddedViewState.viewpoint)),this.handles.add(A.on("update",()=>{this.ready&&this.state&&(this.state.viewpoint=A.fit(this.state.paddedViewState.viewpoint))}),"map-view-base-constraints"))}get extent(){return this.ready?this.state.paddedViewState.extent.clone():this._get("extent")}set extent(A){if(null==A)return;const w=this._normalizeInput(A);if(!w)return void um.error("#center",`incompatible spatialReference ${JSON.stringify(A.spatialReference)} with view's spatialReference ${JSON.stringify(this.spatialReference)}`);if(!w.width||!w.height)return void um.error("#extent","invalid extent size");if(!this.ready)return this._set("extent",w),this._set("center",null),this._set("viewpoint",null),this._set("scale",0),this._set("zoom",-1),void this.notifyChange("initialExtentRequired");const _=this.viewpoint;(0,gl.qf)(_,_,w,this.size,{constraints:this.constraints}),this.viewpoint=_}get graphicsTileStore(){return new cV.Z(this.featuresTilingScheme)}get initialExtentRequired(){const{extent:A,center:w,scale:_,viewpoint:C,zoom:I}=this;return!(this.get("map.initialViewProperties.viewpoint")||A||w&&(0!==_||-1!==I)||C)}get padding(){return this.ready?this.state.padding:this._get("padding")}set padding(A){this.ready?(this.state.padding=A,this._set("padding",this.state.padding)):this._set("padding",A)}get resolution(){return this.state?this.state.resolution:0}get rotation(){return this.ready?this.state.rotation:this._get("rotation")}set rotation(A){if(isNaN(A))return;if(!this.ready)return void this._set("rotation",A);const w=this.viewpoint;(0,gl.YQ)(w,w,A),this.viewpoint=w}get scale(){return this.ready?this.state.scale:this._get("scale")}set scale(A){if(!A||isNaN(A))return;if(!this.ready){this._set("scale",A),this._set("zoom",-1);const _=this._get("extent");return _&&(this._set("extent",null),this._set("center",_.center)),void this.notifyChange("initialExtentRequired")}const w=this.viewpoint;(0,gl.Hy)(w,w,A),this.viewpoint=w}get stationary(){return!(this.animation||this.navigating||this._get("resizing")||this._stationaryTimer)}get updating(){return!this.destroyed&&(!0===this.get("layerViewManager.updating")||!0===this.get("labelManager.updating")||!0===this.get("graphicsView.updating")||this.allLayerViews.some(A=>!A.destroyed&&!("layerViews"in A)&&!0===A.updating))}get viewpoint(){if(!this.ready)return this._get("viewpoint");const A=this.state.paddedViewState;return A&&A.viewpoint.clone()}set viewpoint(A){if(null==A)return;const w=this._normalizeInput(A);if(!w)return void(!A.scale||isNaN(A.scale)?um.error("#viewpoint",`invalid scale value of ${A.scale}`):(0,Wi.Wi)(A.targetGeometry)?um.error("#viewpoint","geometry not defined"):um.error("#viewpoint",`incompatible spatialReference ${JSON.stringify(A.targetGeometry.spatialReference)} with view's spatialReference ${JSON.stringify(this.spatialReference)}`));if(!this.ready)return this._set("viewpoint",w),this._set("extent",null),this._set("center",null),this._set("zoom",-1),this._set("scale",0),void this.notifyChange("initialExtentRequired");const _=new jy.Z({targetGeometry:new Ys.Z,scale:0,rotation:0});(0,gl.JG)(_,w),this.constraints.constrain(_,this.state.paddedViewState.viewpoint),this.state.viewpoint=_,this.frameTask.requestFrame(),this._set("viewpoint",_)}get zoom(){return this.ready?this.constraints.scaleToZoom(this.scale):this._get("zoom")}set zoom(A){if(null==A)return;if(!this.ready){this.notifyChange("initialExtentRequired"),this._set("zoom",A),this._set("scale",0);const _=this._get("extent");_&&(this._set("extent",null),this._set("center",_.center))}if(!this.constraints.effectiveLODs)return;const w=this.viewpoint;(0,gl.Hy)(w,w,this.constraints.zoomToScale(A)),this.viewpoint=w,this._set("zoom",this.constraints.scaleToZoom(this.scale))}goTo(A,w){if(A)return this.animation&&(this.animation=null),this._createAnimation(),(0,Ar.LR)(this,"ready",w&&w.signal).then(()=>{const _=ji({animate:!0},w),C=(0,gl.km)(A,this);return this.animation.update(C),this._gotoTask={},_.animate?this._gotoAnimated(C,_):this._gotoImmediate(C,_)});um.error("#goTo()","target cannot be null or undefined")}hitTest(A){return Promise.reject("Should be implemented by subclasses")}popupHitTest(A){return this.hitTest(A).then(w=>fr(ji({},w),{mapPoint:this.toMap(A)}))}toMap(A){if(!this.ready)return null;const[_,C]=this.state.toMap([0,0],[A.x,A.y]);return new Ys.Z({x:_,y:C,spatialReference:this.spatialReference})}isTileInfoRequired(){return!0}toScreen(A){if(!this.ready)return null;const w=this._normalizeInput(A),_=[w.x,w.y];return this.state.toScreen(_,_),(0,Wo.vW)(_[0],_[1])}pixelSizeAt(){return this.ready?this.state.resolution:(um.error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}getDefaultSpatialReference(){return this.get("map.initialViewProperties.spatialReference")||this.get("defaultsFromMap.spatialReference")||null}isSpatialReferenceSupported(A,w){return!(!w&&!this._get("ready"))||null!==this._getDefaultViewpoint()}importLayerView(A){return(A=>{const w=Q9[A.type];if(!(0,Wi.pC)(w))throw function(A){const w=A.declaredClass?A.declaredClass.slice(A.declaredClass.lastIndexOf(".")+1):"Unknown",_=w.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new os.Z(`${_}:view-not-supported`,`${w} is not supported in 2D`)}(A);return w(A)})(A)}hasLayerViewModule(A){return(A=>(0,Wi.pC)(Q9[A.type]))(A)}_createAnimation(){return this.animation&&!this.animation.done||(this.animation=new oS),this.animation}_cancellableGoTo(A,w,_){const C=()=>A===this._gotoTask,I=_.then(()=>{C()&&(this.animation=null)}).catch(K=>{throw C()&&(this.animation=null,w.done||(w.stop(),this.frameTask.animationInProgress=!1)),K}),j=new Promise(K=>K(I));return w.when().catch(()=>{C()&&j.cancel&&j.cancel()}),j}_gotoImmediate(A,w){const _=this._gotoTask,C=this.animation,I=A.then(j=>{if((0,Fs.k_)(w),_!==this._gotoTask)throw new os.Z("view:goto-interrupted","Goto was interrupted");this.viewpoint=C.target=j,C.finish()});return this._cancellableGoTo(_,C,I)}_gotoAnimated(A,w){const _=this._gotoTask,C=this.animation,I=A.then(j=>{if((0,Fs.k_)(w),_!==this._gotoTask)throw new os.Z("view:goto-interrupted","Goto was interrupted");return C.update(j),this.animationManager.animate(C,this.viewpoint,w),C.when().then(()=>{},()=>{})});return this._cancellableGoTo(_,C,I)}_resizeHandler(A){const w=this.state;if(!w)return;let _=this.state.paddedViewState.viewpoint;const C=this.state.paddedViewState.size.concat();w.size=[A.width,A.height],(0,gl.SI)(_,_,C,this.state.paddedViewState.size,this.resizeAlign),_=this.constraints.constrain(_,null),this.state.viewpoint=_}_startup(){const A=this._getDefaultViewpoint();this.constraints.view=this,this.constraints.fit(A),this._set("animationManager",new JH({view:this})),this._set("state",new aV({padding:this._get("padding"),size:this.size,viewpoint:A})),this._set("featuresTilingScheme",new lV.Z(lH.Z.create({spatialReference:this.spatialReference,size:512,numLODs:36}))),this._set("ready",!0),this.frameTask&&this.frameTask.start()}_teardown(){this.frameTask&&this.frameTask.stop(),this._set("ready",!1),this._stationaryTimer&&(clearTimeout(this._stationaryTimer),this._stationaryTimer=null);const{center:[A,w],spatialReference:_,rotation:C,scale:I}=this.state.paddedViewState,j=new Ys.Z({x:A,y:w,spatialReference:_});this._set("viewpoint",null),this._set("extent",null),this._set("center",j),this._set("zoom",-1),this._set("rotation",C),this._set("scale",I),this._set("spatialReference",_),this.constraints.view=null,this.animationManager.destroy(),this._set("animationManager",null),this._set("state",null),this.animation=null}_flipStationary(A){return null!==this._stationaryTimer||(this._stationaryTimer=setTimeout(()=>{this._stationaryTimer=null;const w=performance.now()-this._lastStationaryEventTimestamp;w<160&&(this._stationaryTimer=this._flipStationary(w))},A)),this._stationaryTimer}_normalizeInput(A,w=this.spatialReference){const _=A&&A.targetGeometry||A;return w?_?w.equals(_.spatialReference)?A:(0,Ud.Q8)(_,w)?function(A){return A&&"esri.Viewpoint"===A.declaredClass}(A)?(A.targetGeometry=(0,Ud.iV)(_,w),A):(0,Ud.iV)(_,w):null:null:A}_getDefaultViewpoint(){const A=this.constraints,w={zoom:this._get("zoom"),scale:this._get("scale"),center:this._normalizeInput(this._get("center")),extent:this._normalizeInput(this._get("extent")),rotation:this._get("rotation"),viewpoint:this._normalizeInput(this._get("viewpoint")),spatialReference:this._userSpatialReference};A.effectiveLODs?-1!==w.zoom&&(w.scale=A.zoomToScale(w.zoom)):w.zoom=-1;let _=null,C=null,I=0;const j=w.viewpoint&&w.viewpoint.rotation,K=w.viewpoint&&w.viewpoint.targetGeometry;(0,Wi.pC)(K)&&("extent"===K.type?_=K:"point"===K.type&&(C=K,I=w.viewpoint.scale));const q=this._normalizeInput(this.get("map.initialViewProperties.viewpoint.targetGeometry.extent")),ue=this._normalizeInput(this.initialExtent),Re=w.extent||_||q||ue,Je=w.center||C||Re&&Re.center,wt=this.get("map.initialViewProperties.viewpoint.scale"),Qt=w.scale||I||wt||Re&&(0,gl.EK)(Re,this.size),ri=this.get("map.initialViewProperties.viewpoint.rotation");return Je&&Qt?new jy.Z({targetGeometry:Je,scale:Qt,rotation:w.rotation||j||ri||0}):null}};(0,At._)([(0,zt.Cb)()],wo.prototype,"_stationaryTimer",void 0),(0,At._)([(0,zt.Cb)()],wo.prototype,"animation",null),(0,At._)([(0,zt.Cb)({readOnly:!0})],wo.prototype,"animationManager",void 0),(0,At._)([(0,zt.Cb)({value:null,type:Ys.Z,dependsOn:["state.id","ready"]})],wo.prototype,"center",null),(0,At._)([(0,zt.Cb)({type:Y9})],wo.prototype,"constraints",null),(0,At._)([(0,zt.Cb)({value:null,type:Iu.Z,dependsOn:["state.id","ready"]})],wo.prototype,"extent",null),(0,At._)([(0,zt.Cb)({readOnly:!0})],wo.prototype,"featuresTilingScheme",void 0),(0,At._)([(0,zt.Cb)()],wo.prototype,"fullOpacity",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],wo.prototype,"graphicsTileStore",null),(0,At._)([(0,zt.Cb)()],wo.prototype,"graphicsView",void 0),(0,At._)([(0,zt.Cb)({type:Iu.Z})],wo.prototype,"initialExtent",void 0),(0,At._)([(0,zt.Cb)({dependsOn:["map.initialViewProperties?.viewpoint"]})],wo.prototype,"initialExtentRequired",null),(0,At._)([(0,zt.Cb)()],wo.prototype,"labelManager",void 0),(0,At._)([(0,zt.Cb)({value:{top:0,right:0,bottom:0,left:0},cast:A=>ji({top:0,right:0,bottom:0,left:0},A)})],wo.prototype,"padding",null),(0,At._)([(0,zt.Cb)({type:Object})],wo.prototype,"renderingOptions",void 0),(0,At._)([(0,zt.Cb)()],wo.prototype,"resizeAlign",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0,dependsOn:["state.id"]})],wo.prototype,"resolution",null),(0,At._)([(0,zt.Cb)({value:0,type:Number,dependsOn:["state.id","ready"]})],wo.prototype,"rotation",null),(0,At._)([(0,zt.Cb)({value:0,type:Number,dependsOn:["state.id","ready"]})],wo.prototype,"scale",null),(0,At._)([(0,zt.Cb)({type:Pp.Z,dependsOn:["map.initialViewProperties?.spatialReference","defaultsFromMap.isSpatialReferenceDone"]})],wo.prototype,"spatialReference",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],wo.prototype,"state",void 0),(0,At._)([(0,zt.Cb)({dependsOn:["animation","navigating","resizing","_stationaryTimer"]})],wo.prototype,"stationary",null),(0,At._)([(0,zt.Cb)({readOnly:!0})],wo.prototype,"supportsGround",void 0),(0,At._)([(0,zt.Cb)({type:t6.T,readOnly:!0})],wo.prototype,"timeline",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],wo.prototype,"type",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0,dependsOn:["layerViewManager.updating","labelManager.updating","graphicsView?.updating"]})],wo.prototype,"updating",null),(0,At._)([(0,zt.Cb)({value:null,type:jy.Z,dependsOn:["state.id","ready"]})],wo.prototype,"viewpoint",null),(0,At._)([(0,zt.Cb)({value:-1,dependsOn:["state.id"]})],wo.prototype,"zoom",null),wo=(0,At._)([(0,br.j)("esri.views.MapViewBase")],wo);var hV=wo;function mS(A,w){switch(w){case"primary":return"touch"===A.pointerType||0===A.button;case"secondary":return"touch"!==A.pointerType&&2===A.button;case"tertiary":return"touch"!==A.pointerType&&1===A.button}}class r6 extends fc.a{constructor(w,_){super(!0),this.view=w,this.registerIncoming("double-click",_,C=>this._handleDoubleClick(C,_))}_handleDoubleClick(w,_){mS(w.data,"primary")&&(w.stopPropagation(),_?this.view.mapViewNavigation.zoomOut([w.data.x,w.data.y]):this.view.mapViewNavigation.zoomIn([w.data.x,w.data.y]))}}class dV extends fc.a{constructor(w,_,C){super(!0),this.view=w,this.pointerType=_,this.registerIncoming("double-tap-drag",C,I=>this._handleDoubleTapDrag(I))}_handleDoubleTapDrag(w){const{data:_}=w,{pointerType:C}=_;if(C!==this.pointerType)return;w.stopPropagation();const{action:I,delta:j}=_,{view:K}=this,{mapViewNavigation:q}=K;switch(I){case"begin":{const{scale:ue}=K;this._startScale=ue,this._currentScale=ue,this._previousDelta=j,q.begin();break}case"update":{if(this._previousDelta.y===j.y)return;this._previousDelta=j;const Re=this._startScale*1.015**j.y;q.setViewpointImmediate(Re/this._currentScale),this._currentScale=Re;break}case"end":{const{constraints:ue}=K,{effectiveLODs:Re,snapToZoom:Je}=ue;if(!Je||!Re)return void q.end();const wt=ue.snapScale(this._currentScale),Qt=(j.y>0?Math.max(wt,ue.snapToPreviousScale(this._startScale)):Math.min(wt,ue.snapToNextScale(this._startScale)))/this._currentScale;q.zoom(Qt);break}}}}class eC{constructor(w){this.callbacks=w,this.currentCount=0,this.callbacks.condition||(this.callbacks.condition=()=>!0)}handle(w){const _=w.data,C=_.pointers.size;switch(_.action){case"start":this.currentCount=C,this.emitStart(w);break;case"added":this.emitEnd(this.previousEvent),this.currentCount=C,this.emitStart(w);break;case"update":this.emitUpdate(w);break;case"removed":this.startEvent&&this.emitEnd(this.previousEvent),this.currentCount=C,this.emitStart(w);break;case"end":this.emitEnd(w),this.currentCount=0}this.previousEvent=w}emitStart(w){this.startEvent=w,this.callbacks.condition(this.currentCount,w)&&this.callbacks.start(this.currentCount,w,this.startEvent)}emitUpdate(w){this.callbacks.condition(this.currentCount,w)&&this.callbacks.update(this.currentCount,w,this.startEvent)}emitEnd(w){this.callbacks.condition(this.currentCount,w)&&this.callbacks.end(this.currentCount,w,this.startEvent),this.startEvent=null}}class pV extends fc.a{constructor(w,_,C){super(!0),this.view=w,this.pointerAction=_,this.registerIncoming("drag",C,j=>this._handleDrag(j)),this.registerIncoming("pointer-down",()=>this.stopMomentumNavigation());const I=this.view.mapViewNavigation;this.dragEventSeparator=new eC({start:(j,K)=>{I.pan.begin(this.view,K.data),K.stopPropagation()},update:(j,K)=>{I.pan.update(this.view,K.data),K.stopPropagation()},end:(j,K)=>{I.pan.end(this.view,K.data),K.stopPropagation()},condition:(j,K)=>1===j&&mS(K.data,this.pointerAction)})}_handleDrag(w){const _=this.view.mapViewNavigation;_.pinch.zoomMomentum||_.pinch.rotateMomentum?this.stopMomentumNavigation():this.dragEventSeparator.handle(w)}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}}class fV extends fc.a{constructor(w,_,C){super(!0),this.view=w,this.pointerAction=_;const I=this.view.mapViewNavigation;this.dragEventSeparator=new eC({start:(j,K)=>{I.rotate.begin(this.view,K.data),K.stopPropagation()},update:(j,K)=>{I.rotate.update(this.view,K.data),K.stopPropagation()},end:(j,K)=>{I.rotate.end(),K.stopPropagation()},condition:(j,K)=>1===j&&mS(K.data,this.pointerAction)}),this.registerIncoming("drag",C,j=>this.dragEventSeparator.handle(j))}}var Ss=N(84161);function jd(A){let w=A*A;return A<0&&(w*=-1),w}class vV extends fc.a{constructor(w){super(!0),this.view=w,this.frameTask=null,this.watchHandles=new Bl.Z,this.currentDevice=null,this.transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this.handle=this.registerIncoming("gamepad",_=>this.handleEvent(_)),this.handle.pause()}onInstall(w){super.onInstall(w),this.watchHandles.add([(0,Ar.S1)(this.view.navigation.gamepad,"enabled",_=>{_?(this.handle.resume(),this.frameTask||(this.frameTask=(0,Y0.A)({update:C=>this.frameUpdate(C.deltaTime)}))):(this.handle.pause(),this.frameTask&&(this.frameTask.remove(),this.frameTask=null))})])}onUninstall(){this.watchHandles.removeAll(),this.frameTask&&(this.frameTask.remove(),this.frameTask=null),super.onUninstall()}handleEvent(w){const _=this.view.navigation.gamepad.device;_&&w.data.device!==_||this.currentDevice&&this.currentDevice!==w.data.device||("end"===w.data.action?(this.currentDevice=null,function(A){A.translation[0]=0,A.translation[1]=0,A.translation[2]=0,A.heading=0,A.tilt=0}(this.transformation)):(this.currentDevice=w.data.device,function(A,w,_){const C=_,I=A.state,j=A.device,K="forward-down"===w.tiltDirection?1:-1;"standard"===j.deviceType?(C.translation[0]=jd(I.axes[0]),C.translation[1]=jd(I.axes[1]),C.translation[2]=jd(I.buttons[7])-jd(I.buttons[6]),C.heading=jd(I.axes[2]),C.tilt=jd(I.axes[3])):"spacemouse"===j.deviceType&&(C.translation[0]=1.2*jd(I.axes[0]),C.translation[1]=1.2*jd(I.axes[1]),C.translation[2]=2*-jd(I.axes[2]),C.heading=1.2*jd(I.axes[5]),C.tilt=1.2*jd(I.axes[3])),C.tilt*=K,(0,Ss.a)(C.translation,C.translation,1)}(w.data,this.view.navigation.gamepad,this.transformation)))}frameUpdate(w){const _=this.transformation;if(function(A){return 0===A.translation[0]&&0===A.translation[1]&&0===A.translation[2]&&0===A.heading&&0===A.tilt&&0===A.zoom}(_))return;const C=this.view.viewpoint.clone(),j=bV*this.view.navigation.gamepad.velocityFactor*w;(0,gl.Rx)(C,C,[_.translation[0]*j,-_.translation[1]*j]);const ue=this.view.size;(0,gl.UZ)(C,C,1+_.translation[2]*AV*w,this.view.constraints.rotationEnabled?-_.heading*_V*w:0,[ue[0]/2,ue[1]],ue);const Je=this.view.constraints.constrain(C,this.view.viewpoint);this.view.viewpoint=Je}}const _V=.06,bV=.7,AV=6e-4;class wV extends fc.a{constructor(w,_,C){super(!0),this.view=w,this.keys=_,this._pressed=!1,this._keyMap={[_.left]:"left",[_.right]:"right",[_.up]:"up",[_.down]:"down"},this.registerIncoming("key-down",C,I=>this._handleKeyDown(I)),this.registerIncoming("key-up",C,I=>this._handleKeyUp(I)),this.registerIncoming("blur",C,()=>this._handleBlur())}_handleKeyDown(w){w.data.repeat||this._handleKey(w,!0)}_handleKeyUp(w){this._handleKey(w,!1)}_handleBlur(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(w,_){const C=this._keyMap[w.data.key];if(this._pressed=null!=C,this._pressed){if(_)switch(this.view.mapViewNavigation.begin(),C){case"left":this.view.mapViewNavigation.continousPanLeft();break;case"right":this.view.mapViewNavigation.continousPanRight();break;case"up":this.view.mapViewNavigation.continousPanUp();break;case"down":this.view.mapViewNavigation.continousPanDown()}else this._pressed=!1,this.view.mapViewNavigation.stop();w.stopPropagation()}}}class CV extends fc.a{constructor(w,_,C){super(!0),this.view=w,this.keys=_,this._pressed=!1,this._keyToDirection={[_.clockwiseOption1]:"clockwise",[_.clockwiseOption2]:"clockwise",[_.counterClockwiseOption1]:"counterClockwise",[_.counterClockwiseOption2]:"counterClockwise",[_.resetOption1]:"reset",[_.resetOption2]:"reset"},this.registerIncoming("key-down",C,I=>this._handleKeyDown(I)),this.registerIncoming("key-up",C,I=>this._handleKeyUp(I)),this.registerIncoming("blur",C,()=>this._handleBlur())}_handleKeyDown(w){w.data.repeat||this._handleKey(w,!0)}_handleKeyUp(w){this._handleKey(w,!1)}_handleBlur(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(w,_){const C=w.modifiers;if(C.size>0&&!C.has("Shift")||!this.view.constraints.rotationEnabled)return;const I=this._keyToDirection[w.data.key];if(this._pressed=null!=I,this._pressed){if(_)switch(this.view.mapViewNavigation.begin(),I){case"clockwise":this.view.mapViewNavigation.continousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();w.stopPropagation()}}}class xV extends fc.a{constructor(w,_,C){super(!0),this.view=w,this.keys=_,this._keysToZoomAction={},this.registerIncoming("key-down",C,I=>this._handleKeyDown(I)),_.zoomIn.forEach(I=>this._keysToZoomAction[I]=0),_.zoomOut.forEach(I=>this._keysToZoomAction[I]=1)}_handleKeyDown(w){this._handleKey(w)}_handleKey(w){const _=w.modifiers;if(_.size>0&&!_.has("Shift"))return;const{key:C}=w.data;if(!(C in this._keysToZoomAction))return;const I=this._keysToZoomAction[C],{mapViewNavigation:j}=this.view;let K=null;switch(I){case 0:K=j.zoomIn();break;case 1:K=j.zoomOut();break;default:return}j.begin(),K.then(()=>j.end()),w.stopPropagation()}}class DV extends fc.a{constructor(w,_){super(!0),this.view=w,this._canZoom=!0,this.registerIncoming("mouse-wheel",_,C=>this._handleMouseWheel(C))}_handleMouseWheel(w){if(!this.view.navigation.mouseWheelZoomEnabled||(w.preventDefault(),w.stopPropagation(),!this._canZoom))return;const _=this.view.mapViewNavigation,{x:C,y:I,deltaY:j}=w.data,q=_.zoom(1/.6**(1/60*j),[C,I]);q&&(this._canZoom=!1,q.catch(()=>{}).then(()=>{this._canZoom=!0,_.end()}))}}class MV extends fc.a{constructor(w){super(!0),this.view=w,this.registerIncoming("drag",C=>this._handleDrag(C)),this.registerIncoming("pointer-down",()=>this.stopMomentumNavigation());const _=this.view.mapViewNavigation;this.dragEventSeparator=new eC({start:(C,I)=>{_.pinch.begin(this.view,I.data),I.stopPropagation()},update:(C,I)=>{_.pinch.update(this.view,I.data),I.stopPropagation()},end:(C,I)=>{_.pinch.end(this.view),I.stopPropagation()},condition:C=>C>=2})}_handleDrag(w){this.dragEventSeparator.handle(w)}stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}}var SV=N(25441);function s6(A){const w=A.native;return w?{buttons:w.buttons.map(_=>_.pressed?_.value?_.value:1:0),axes:w.axes.map(_=>function(A,w){const _=Math.abs(A);return _<w?0:(0,em.Xx)(A)*(_-w)/(1-w)}(_,A.axisThreshold))}:{buttons:[],axes:[]}}class PV{constructor(w,_){this.element=w,this.input=_,this._hasEventListeners=!1,this.onConnectGamepad=j=>{this.connectGamepad(j.gamepad)},this.onDisconnectGamepad=j=>{const K=j.gamepad,q=K.index,ue=this.inputDevices[q];ue&&(this.emitGamepadEvent(K,s6(ue),!1),this.inputDevices.splice(q,1),this.latestUpdate.splice(q,1),this.input.gamepad.devices.remove(ue),this.ensurePollingState())},this.frameTask=null,this.latestUpdate=new Array,this.inputDevices=new Array,this.callback=null;const C="getGamepads"in window.navigator,I=window.isSecureContext;this.supported=C&&I,this.supported&&(this.forEachGamepad(j=>this.connectGamepad(j)),window.addEventListener("gamepadconnected",this.onConnectGamepad),window.addEventListener("gamepaddisconnected",this.onDisconnectGamepad),this.ensurePollingState())}destroy(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this.onConnectGamepad),window.removeEventListener("gamepaddisconnected",this.onDisconnectGamepad))}set hasEventListeners(w){this._hasEventListeners!==w&&(this._hasEventListeners=w,this.ensurePollingState())}get eventsEnabled(){return this.supported&&this.inputDevices.length>0&&this._hasEventListeners}set onEvent(w){this.callback=w}connectGamepad(w){const _=new iS(w);"unknown"!==_.deviceType&&(this.inputDevices[w.index]=_,this.input.gamepad.devices.add(_)),this.ensurePollingState()}ensurePollingState(){this.eventsEnabled?this.startPolling():this.stopPolling()}startPolling(){null==this.frameTask&&(this.frameTask=(0,Y0.A)({update:()=>this.readGamepadState()}))}stopPolling(){null!=this.frameTask&&(this.frameTask.remove(),this.frameTask=null,this.latestUpdate=new Array)}readGamepadState(){const w=document.hasFocus(),_=this.element.contains(document.activeElement),C="document"===this.input.gamepad.enabledFocusMode&&!w||"view"===this.input.gamepad.enabledFocusMode&&!_;this.forEachGamepad(I=>{const j=this.inputDevices[I.index];if(!j)return;const K=this.latestUpdate[I.index],q=s6(j),ue=C||function(A){for(let w=0;w<A.axes.length;w++)if(0!==A.axes[w])return!1;for(let w=0;w<A.buttons.length;w++)if(0!==A.buttons[w])return!1;return!0}(q);K&&(K.timestamp===I.timestamp||!K.active&&ue||function(A,w){if(A.axes.length!==w.axes.length||A.buttons.length!==w.buttons.length)return!1;for(let _=0;_<A.axes.length;_++)if(A.axes[_]!==w.axes[_])return!1;for(let _=0;_<A.buttons.length;_++)if(A.buttons[_]!==w.buttons[_])return!1;return!0}(K.state,q))||this.emitGamepadEvent(I,q,!ue)})}forEachGamepad(w){const _=window.navigator.getGamepads();for(let C=0;C<_.length;C++){const I=_[C];this.validate(I)&&w(I)}}emitGamepadEvent(w,_,C){const I=this.latestUpdate[w.index],j=I&&I.active;if(!j&&!C)return;const K=!j&&C?"start":j&&C?"update":"end";this.latestUpdate[w.index]={timestamp:w.timestamp,state:_,active:C},this.callback&&this.callback({device:this.inputDevices[w.index],state:_,action:K})}validate(w){if(!w||!w.connected)return!1;for(let _=0;_<w.axes.length;_++)if(isNaN(w.axes[_]))return!1;return!0}}const o6=(0,J0.Z)("trident"),a6=(0,J0.Z)("edge"),kV=(0,J0.Z)("chrome"),LV=(0,J0.Z)("ff"),BV=(0,J0.Z)("safari"),Qy_touchNone="esri-view-surface--touch-none",Qy_touchPan="esri-view-surface--touch-pan";let RV=(()=>{class A{constructor(_,C){this.input=C,this._active={},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=_,_.getAttribute("tabindex")||_.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new PV(_,this.input),this._gamepadSource.onEvent=I=>this._callback("gamepad",I)}destroy(){this._callback=null,this.activeEvents=null,this._activePointerCaptures.forEach(_=>{this._releasePointerCaptureSafe(_)}),this._gamepadSource&&(this._gamepadSource.destroy(),this._gamepadSource=null),this._activePointerCaptures=null,this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault)}get browserTouchPanningEnabled(){return this._browserTouchPanningEnabled}set browserTouchPanningEnabled(_){this._browserTouchPanningEnabled=_,this._updateTouchAction(),this._updateTouchEventHandling()}set onEventReceived(_){this._callback=_}set activeEvents(_){for(const C in this._active)_&&_.has(C)||(this._element.removeEventListener(gS[C],this._active[C]),delete this._active[C]);_&&_.forEach(C=>{if(!this._active[C]&&gS[C]){const I=(this._eventHandlers[C]||this._handleDefault).bind(this,C);this._element.addEventListener(gS[C],I),this._active[C]=I}}),this._gamepadSource.hasEventListeners=_&&_.has("gamepad")}setPointerCapture(_,C){C?(this._element.setPointerCapture(_.pointerId),this._activePointerCaptures.add(_.pointerId)):(this._releasePointerCaptureSafe(_.pointerId),this._activePointerCaptures.delete(_.pointerId))}_updateTouchAction(){this._element.classList.remove(this._browserTouchPanningEnabled?Qy_touchNone:Qy_touchPan),this._element.classList.add(this._browserTouchPanningEnabled?Qy_touchPan:Qy_touchNone)}_updateTouchEventHandling(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_removeTouchAction(){this._element.classList.remove(Qy_touchNone),this._element.classList.remove(Qy_touchPan),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_releasePointerCaptureSafe(_){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(_))return;this._element.releasePointerCapture(_)}catch(C){}}_updateNormalizedPointerLikeEvent(_,C){const I=P9(this._element,_);return A.test.disableSubpixelCoordinates&&(I.x=Math.round(I.x),I.y=Math.round(I.y)),C.x=I.x,C.y=I.y,C}_handleKey(_,C){const I=(0,SV.kK)(C);I&&"key-up"===_&&this._keyDownState.delete(I);const j={native:C,key:I,repeat:I&&this._keyDownState.has(I)};I&&"key-down"===_&&this._keyDownState.add(j.key),this._callback(_,j)}_handlePointer(_,C){const I=this._updateNormalizedPointerLikeEvent(C,{native:C,x:0,y:0,pointerType:C.pointerType,button:C.button,buttons:C.buttons,eventId:this._eventId++});this._callback(_,I)}_handlePointerPreventDefault(_,C){const I=this._updateNormalizedPointerLikeEvent(C,{native:C,x:0,y:0,pointerType:C.pointerType,button:C.button,buttons:C.buttons,eventId:this._eventId++});C.preventDefault(),this._callback(_,I)}_handleMouseWheel(_,C){let I=C.deltaY;switch(C.deltaMode){case 0:(o6||a6)&&(I=I/document.documentElement.clientHeight*600);break;case 1:I*=30;break;case 2:I*=900}o6||a6?I*=.7:kV||BV?I*=.6:LV&&(I*=1.375);const K=Math.abs(I);K>100&&(I=I/K*200/(1+Math.exp(-.02*(K-100))));const q=this._updateNormalizedPointerLikeEvent(C,{native:C,x:0,y:0,deltaY:I});this._callback(_,q)}_handlePointerCaptureLost(_,C){this._activePointerCaptures.delete(C.pointerId),this._handleDefault(_,C)}_handleDefault(_,C){const I={native:C};C.preventDefault(),this._callback(_,I)}_preventAltKeyDefault(_){"Alt"===_.key&&_.preventDefault()}_preventMultiTouchPanning(_){_.touches.length>1&&_.preventDefault()}}return A.test={disableSubpixelCoordinates:!1},A})();const gS={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};class FV extends fc.a{constructor(){super(!0),this.registerIncoming("context-menu",w=>{w.data.native.preventDefault()})}}var tC=N(84244);function yS(A,w){return Math.abs(w.x-A.x)+Math.abs(w.y-A.y)}class jV extends fc.a{constructor(w=250,_=10,C=350,I=35,j=tC.Z){super(!1),this.maximumDoubleClickDelay=w,this.maximumDoubleClickDistance=_,this.maximumDoubleTouchDelay=C,this.maximumDoubleTouchDistance=I,this._clock=j,this._pointerState=new Map,this._click=this.registerOutgoing("click"),this._doubleClick=this.registerOutgoing("double-click"),this.registerIncoming("immediate-click",this._handleImmediateClick.bind(this)),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("drag",this._handleDrag.bind(this))}onUninstall(){this._pointerState.forEach(w=>{null!=w.doubleClickTimeout&&(w.doubleClickTimeout.remove(),w.doubleClickTimeout=null)})}get hasPendingInputs(){return(0,Q3.oE)(this._pointerState,w=>null!=w.doubleClickTimeout)}_pointerId(w){const _=w.native;return"mouse"===_.pointerType?`${_.pointerId}:${_.button}`:`${_.pointerType}`}_handleImmediateClick(w){const _=w.data,C=this._pointerId(_),I=this._pointerState.get(C);if(I){const j="touch"===_.native.pointerType?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;yS(I.event.data,_)>j?(this._clearDoubleClickTimeout(C,!0),this._startClick(w)):(this._clearDoubleClickTimeout(C,!1),this._doubleClick.emit(I.event.data,void 0,I.event.modifiers))}else this._startClick(w)}_startClick(w){const _=this._pointerId(w.data);this._pointerState.set(_,{event:w,doubleClickTimeout:this._clock.setTimeout(()=>this._doubleClickTimeoutExceeded(_),"touch"===w.data.native.pointerType?this.maximumDoubleTouchDelay:this.maximumDoubleClickDelay)}),this.refreshHasPendingInputs()}_handlePointerDrag(w){const _=this._pointerId(w.data.currentEvent);this._clearDoubleClickTimeout(_,!0)}_handleDrag(w){const _=this._pointerId(w.data.pointer);this._clearDoubleClickTimeout(_,!0)}_clearDoubleClickTimeout(w,_){const C=this._pointerState.get(w);C&&(C.doubleClickTimeout.remove(),C.doubleClickTimeout=null,_&&this._doubleClickTimeoutExceeded(w),this._pointerState.delete(w),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(w){const _=this._pointerState.get(w);this._click.emit(_.event.data,void 0,_.event.modifiers),_.doubleClickTimeout=null,this._pointerState.delete(w),this.refreshHasPendingInputs()}}class HV extends fc.a{constructor(w=250,_=10,C=350,I=35,j=tC.Z){super(!1),this.maximumDoubleClickDelay=w,this.maximumDoubleClickDistance=_,this.maximumDoubleTouchDelay=C,this.maximumDoubleTouchDistance=I,this._clock=j,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=(0,Wo.vW)(0,0),this._pointerState=new Map,this._doubleTapDrag=this.registerOutgoing("double-tap-drag"),this._dragEventSeparator=new eC({start:(K,q)=>this._dragStart(K,q),update:(K,q)=>this._dragUpdate(q),end:(K,q)=>this._dragEnd(q)}),this.registerIncoming("drag",K=>this._dragEventSeparator.handle(K)),this.registerIncoming("pointer-down",K=>this._handlePointerDown(K)),this.registerIncoming("pointer-up",()=>this._handlePointerUp())}onUninstall(){this._pointerState.forEach(w=>{null!=w.doubleTapTimeout&&(w.doubleTapTimeout.remove(),w.doubleTapTimeout=null)})}get hasPendingInputs(){return(0,Q3.oE)(this._pointerState,w=>null!=w.doubleTapTimeout)}_clearPointerDown(w){const _=this._pointerState.get(w);_&&(_.doubleTapTimeout.remove(),_.doubleTapTimeout=null,this._pointerState.delete(w),this.refreshHasPendingInputs())}_createDoubleTapDragData(w,_,C){const{button:I,buttons:j,pointer:K,pointers:q,pointerType:ue,timestamp:Re}=C;return{action:w,delta:_,button:I,buttons:j,pointer:K,pointers:q,pointerType:ue,timestamp:Re}}_dragStart(w,_){if(!this._doubleTapDragReady||1!==w)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;const{data:C,modifiers:I}=_,{center:j}=C;this._dragStartCenter=j;const K=this._createDoubleTapDragData("begin",(0,Wo.vW)(0,0),C);this._doubleTapDrag.emit(K,void 0,I),_.stopPropagation()}_dragUpdate(w){if(!this._doubleTapDragActive)return;const{data:_,modifiers:C}=w,{center:I}=_,j=(0,Wo.vW)(I.x-this._dragStartCenter.x,I.y-this._dragStartCenter.y),K=this._createDoubleTapDragData("update",j,_);this._doubleTapDrag.emit(K,void 0,C),w.stopPropagation()}_dragEnd(w){if(!this._doubleTapDragActive)return;const{data:_,modifiers:C}=w,{center:I}=_,j=(0,Wo.vW)(I.x-this._dragStartCenter.x,I.y-this._dragStartCenter.y),K=this._createDoubleTapDragData("end",j,_);this._doubleTapDrag.emit(K,void 0,C),this._doubleTapDragActive=!1,w.stopPropagation()}_handlePointerDown(w){const{data:_}=w,C=this._pointerId(_),I=this._pointerState.get(C),{pointerType:j}=_.native;if(I){const K="touch"===j?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;this._clearPointerDown(C),yS(I.event.data,_)>K?this._storePointerDown(w):this._doubleTapDragReady=!0}else this._storePointerDown(w)}_handlePointerUp(){this._doubleTapDragReady=!1}_pointerId(w){const{native:_}=w,{pointerId:C,button:I,pointerType:j}=_;return"mouse"===j?`${C}:${I}`:`${j}`}_storePointerDown(w){const{data:_}=w,{pointerType:C}=_.native,I=this._pointerId(_),K=this._clock.setTimeout(()=>this._clearPointerDown(I),"touch"===C?this.maximumDoubleTouchDelay:this.maximumDoubleClickDelay);this._pointerState.set(I,{event:w,doubleTapTimeout:K}),this.refreshHasPendingInputs()}}var c6,ku=N(27422);class VV extends fc.a{constructor(w){super(!1),this.navigationTouch=w,this.startStateModifiers=new Set,this.activePointerMap=new Map,this.isDragging=!1,this.isCurrentDragSuppressed=!1,this.drag=this.registerOutgoing("drag"),this.registerIncoming("pointer-drag",this.handlePointerDrag.bind(this)),this.registerIncoming("pointer-up",this.handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-capture-lost",this.handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-cancel",this.handlePointerUpAndPointerLost.bind(this))}createPayload(w,_,C,I){return{action:w,pointerType:this.pointerType,button:this.mouseButton,buttons:_.buttons,timestamp:I,pointers:zV(this.activePointerMap),pointer:_,angle:C.angle,radius:C.radius,center:C.center}}addPointer(w){const _=w.native.pointerId,C=iC(this.activePointerMap).angle,I={event:w,initialAngle:0,lastAngle:0};this.activePointerMap.set(_,I);const j=nC(I,l6(this.activePointerMap));I.initialAngle=j,I.lastAngle=j,this.updatePointerAngles(C)}updatePointer(w){if(w&&null==w.x&&null==w.y)return;const C=this.activePointerMap.get(w.native.pointerId);C?C.event=w:this.addPointer(w)}removePointer(w){const _=iC(this.activePointerMap).angle;this.activePointerMap.delete(w),this.updatePointerAngles(_)}updatePointerAngles(w){const _=iC(this.activePointerMap);this.activePointerMap.forEach(C=>{C.initialAngle=nC(C,_)-w,C.lastAngle=nC(C,_)-w})}emitEvent(w,_,C){const I=iC(this.activePointerMap);this.drag.emit(this.createPayload(w,_,I,C),void 0,this.startStateModifiers)}handlePointerUpAndPointerLost(w){const _=w.data.native.pointerId,C=(0,ku.HA)(w.timestamp);this.activePointerMap.get(_)&&(1===this.activePointerMap.size?(this.updatePointer(w.data),!this.isCurrentDragSuppressed&&this.emitEvent("end",w.data,C),this.isDragging=!1,this.isCurrentDragSuppressed=!1,this.removePointer(_)):(this.removePointer(_),this.emitEvent("removed",w.data,(0,ku.HA)(w.timestamp))))}handlePointerDrag(w){const _=w.data,C=_.currentEvent,I=(0,ku.HA)(w.timestamp);switch(_.action){case"start":case"update":this.isDragging?this.activePointerMap.has(C.native.pointerId)?(this.updatePointer(C),!this.isCurrentDragSuppressed&&this.emitEvent("update",C,I)):(this.addPointer(C),this.emitEvent("added",C,I),this.isCurrentDragSuppressed=this.isSuppressed):(this.updatePointer(C),this.pointerType=w.data.startEvent.pointerType,this.mouseButton=w.data.startEvent.button,this.startStateModifiers=w.modifiers,this.isDragging=!0,this.isCurrentDragSuppressed=this.isSuppressed,!this.isCurrentDragSuppressed&&this.emitEvent("start",C,I))}}get isSuppressed(){return this.navigationTouch&&!this.navigationTouch.browserTouchPanEnabled&&"touch"===this.pointerType&&1===this.activePointerMap.size}}function l6(A){const w=[];return A.forEach(_=>{w.push((0,Wo.vW)(_.event.x,_.event.y))}),function(A,w){if(w?(w.radius=0,w.center.x=0,w.center.y=0):w={radius:0,center:(0,Wo.vW)()},0===A.length)return w;if(1===A.length)return w.center.x=A[0].x,w.center.y=A[0].y,w;if(2===A.length){const[Zn,qn]=A,[mr,Mr]=[qn.x-Zn.x,qn.y-Zn.y];return w.radius=Math.sqrt(mr*mr+Mr*Mr)/2,w.center.x=(Zn.x+qn.x)/2,w.center.y=(Zn.y+qn.y)/2,w}let _=0,C=0;for(let Zn=0;Zn<A.length;Zn++)_+=A[Zn].x,C+=A[Zn].y;_/=A.length,C/=A.length;const I=A.map(Zn=>Zn.x-_),j=A.map(Zn=>Zn.y-C);let K=0,q=0,ue=0,Re=0,Je=0,wt=0,Qt=0;for(let Zn=0;Zn<I.length;Zn++){const qn=I[Zn],mr=j[Zn],Mr=qn*qn,Qr=mr*mr;K+=Mr,q+=Qr,ue+=qn*mr,Re+=Mr*qn,Je+=Qr*mr,wt+=qn*Qr,Qt+=mr*Mr}const ri=.5*(Re+wt),Ci=.5*(Je+Qt),Gi=K*q-ue*ue,fn=(ri*q-Ci*ue)/Gi,Mn=(K*Ci-ue*ri)/Gi,gn=(0,Wo.vW)(fn+_,Mn+C);return{radius:Math.sqrt(fn*fn+Mn*Mn+(K+q)/A.length),center:gn}}(w)}function iC(A){const w=l6(A);let _=0;return A.forEach(C=>{let I=nC(C,w),j=I-C.lastAngle;for(;j>Math.PI;)j-=2*Math.PI;for(;j<-Math.PI;)j+=2*Math.PI;I=C.lastAngle+j,C.lastAngle=I,_+=I-C.initialAngle}),_/=A.size||1,{angle:_,radius:w.radius,center:w.center}}function zV(A){const w=new Map;return A.forEach((_,C)=>w.set(C,_.event)),w}function nC(A,w){const _=A.event;return Math.atan2(_.y-w.center.y,_.x-w.center.x)}!function(A){A[A.Left=0]="Left",A[A.Middle=1]="Middle",A[A.Right=2]="Right",A[A.Back=3]="Back",A[A.Forward=4]="Forward",A[A.Undefined=-1]="Undefined"}(c6||(c6={}));class WV extends fc.a{constructor(w=250,_=10,C=350,I=35,j=tC.Z){super(!1),this.maximumDoubleClickDelay=w,this.maximumDoubleClickDistance=_,this.maximumDoubleTouchDelay=C,this.maximumDoubleTouchDistance=I,this._clock=j,this._pointerState=new Map,this._immediateDoubleClick=this.registerOutgoing("immediate-double-click"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",K=>{this._handlePointerLoss(K,"pointer-up")}),this.registerIncoming("pointer-capture-lost",K=>{this._handlePointerLoss(K,"pointer-capture-lost")}),this.registerIncoming("pointer-cancel",K=>{this._handlePointerLoss(K,"pointer-cancel")})}onUninstall(){this._pointerState.forEach(w=>{w.immediateDoubleClick&&w.immediateDoubleClick.timeoutHandle.remove()}),super.onUninstall()}_handlePointerDown(w){const _=w.data,C=this._pointerId(_);this._pointerState.has(C)||(this._pointerState.set(C,{downButton:_.native.button,immediateDoubleClick:null}),this.startCapturingPointer(_.native))}_handlePointerLoss(w,_){const C=w.data,I=this._pointerId(C),j=this._pointerState.get(I);if(j&&"pointer-up"===_&&j.downButton===C.native.button){const K=j.immediateDoubleClick;if(K){K.timeoutHandle.remove();const q="touch"===w.data.native.pointerType?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;yS(K,w.data)>q?this._startImmediateDoubleClick(w,j):(this._immediateDoubleClick.emit(w.data,void 0,K.modifiers),this._removeState(C))}else this._startImmediateDoubleClick(w,j)}}_startImmediateDoubleClick(w,_){_.immediateDoubleClick={x:w.data.x,y:w.data.y,modifiers:w.modifiers,timeoutHandle:this._clock.setTimeout(()=>this._removeState(w.data),"touch"===w.data.native.pointerType?this.maximumDoubleTouchDelay:this.maximumDoubleClickDelay)}}_pointerId(w){const _=w.native;return"mouse"===_.pointerType?`${_.pointerId}:${_.button}`:`${_.pointerType}`}_removeState(w){const _=this._pointerId(w);this._pointerState.delete(_),this.stopCapturingPointer(w.native),this.refreshHasPendingInputs()}}class KV extends fc.a{constructor(w=300,_=1.5,C=6,I=6,j=500,K=tC.Z){super(!1),this.maximumClickDelay=w,this.movementUntilMouseDrag=_,this.movementUntilPenDrag=C,this.movementUntilTouchDrag=I,this.holdDelay=j,this._clock=K,this._pointerState=new Map,this._pointerDrag=this.registerOutgoing("pointer-drag"),this._immediateClick=this.registerOutgoing("immediate-click"),this._pointerHold=this.registerOutgoing("hold"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",q=>{this._handlePointerLoss(q,"pointer-up")}),this.registerIncoming("pointer-capture-lost",q=>{this._handlePointerLoss(q,"pointer-capture-lost")}),this.registerIncoming("pointer-cancel",q=>{this._handlePointerLoss(q,"pointer-cancel")}),this._moveHandle=this.registerIncoming("pointer-move",this._handlePointerMove.bind(this)),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach(w=>{null!=w.holdTimeout&&(w.holdTimeout.remove(),w.holdTimeout=null)}),super.onUninstall()}_handlePointerDown(w){const _=w.data,C=_.native.pointerId;let I=null;0===this._pointerState.size&&(I=this._clock.setTimeout(()=>{const K=this._pointerState.get(C);K&&(K.isDragging||(this._pointerHold.emit(K.previousEvent,void 0,w.modifiers),K.holdEmitted=!0),K.holdTimeout=null)},this.holdDelay)),this._pointerState.set(C,{startEvent:_,previousEvent:_,startTimestamp:w.timestamp,isDragging:!1,downButton:_.native.button,holdTimeout:I,modifiers:new Set}),this.startCapturingPointer(_.native),this._moveHandle.resume(),this._pointerState.size>1&&this.startDragging(w)}_createPointerDragData(w,_,C){return{action:w,startEvent:_.startEvent,previousEvent:_.previousEvent,currentEvent:C}}_handlePointerMove(w){const _=w.data,I=this._pointerState.get(_.native.pointerId);I&&(I.isDragging?this._pointerDrag.emit(this._createPointerDragData("update",I,_),void 0,I.modifiers):function(A,w){const _=w.x-A.x,C=w.y-A.y;return Math.sqrt(_*_+C*C)}(_,I.startEvent)>this._getDragThreshold(_.native.pointerType)&&this.startDragging(w),I.previousEvent=_)}_getDragThreshold(w){switch(w){case"touch":return this.movementUntilTouchDrag;case"pen":return this.movementUntilPenDrag;default:return this.movementUntilMouseDrag}}startDragging(w){const _=w.data,C=_.native.pointerId;this._pointerState.forEach(I=>{null!=I.holdTimeout&&(I.holdTimeout.remove(),I.holdTimeout=null),I.isDragging||(I.modifiers=w.modifiers,I.isDragging=!0,C===I.startEvent.native.pointerId?this._pointerDrag.emit(this._createPointerDragData("start",I,_)):this._pointerDrag.emit(this._createPointerDragData("start",I,I.previousEvent),w.timestamp))})}_handlePointerLoss(w,_){const C=w.data,I=C.native.pointerId,j=this._pointerState.get(I);j&&(null!=j.holdTimeout&&(j.holdTimeout.remove(),j.holdTimeout=null),j.isDragging?this._pointerDrag.emit(this._createPointerDragData("end",j,"pointer-up"===_?C:j.previousEvent),void 0,j.modifiers):"pointer-up"===_&&j.downButton===C.native.button&&w.timestamp-j.startTimestamp<=this.maximumClickDelay&&!j.holdEmitted&&this._immediateClick.emit(C),this._pointerState.delete(I),this.stopCapturingPointer(C.native),0===this._pointerState.size&&this._moveHandle.pause())}}const rC_pan={left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},rC_zoom={zoomIn:["=","+"],zoomOut:["-","_"]},rC_rotate={clockwiseOption1:"a",clockwiseOption2:"A",counterClockwiseOption1:"d",counterClockwiseOption2:"D",resetOption1:"n",resetOption2:"N"};let sC=class extends no.Z{constructor(){super(...arguments),this._handles=new Bl.Z}initialize(){this._handles.add([(0,Ar.PA)(this.view,"ready",()=>this._disconnect()),(0,Ar.gx)(this.view,"ready",()=>this._connect())])}destroy(){this._handles&&(this._handles.removeAll(),this._handles=null),this._disconnect()}_disconnect(){this._inputManager&&(this.view.viewEvents.disconnect(),this._inputManager.destroy(),this._inputManager=null,this._source.destroy(),this._source=null)}_connect(){const w=new RV(this.view.surface,this.view.input),_=[new WV,new KV,new jV,new VV(this.view.navigation),new HV],C=new es.$({eventSource:w,recognizers:_});C.installHandlers("prevent-context-menu",[new FV],es.f.INTERNAL),C.installHandlers("navigation",[new MV(this.view),new vV(this.view),new DV(this.view),new r6(this.view),new r6(this.view,["Ctrl"]),new pV(this.view,"primary"),new wV(this.view,rC_pan),new xV(this.view,rC_zoom),new CV(this.view,rC_rotate),new fV(this.view,"secondary"),new dV(this.view,"touch")],es.f.INTERNAL),this.view.viewEvents.connect(C),this._source=w,this._inputManager=C,(0,Ar.S1)(this.view.navigation,"browserTouchPanEnabled",I=>{this._source.browserTouchPanningEnabled=!I})}get test(){return{inputManager:this._inputManager}}};(0,At._)([(0,zt.Cb)()],sC.prototype,"view",void 0),sC=(0,At._)([(0,br.j)("esri.views.2d.input.MapViewInputManager")],sC);var QV=sC;let GV=0,hm=class extends no.Z{constructor(){super(...arguments),this.color=new ml.Z([0,255,255]),this.haloOpacity=1,this.fillOpacity=.25}get version(){return GV++}};(0,At._)([(0,zt.Cb)({readOnly:!0})],hm.prototype,"version",null),(0,At._)([(0,zt.Cb)({type:ml.Z})],hm.prototype,"color",void 0),(0,At._)([(0,zt.Cb)({type:ml.Z})],hm.prototype,"haloColor",void 0),(0,At._)([(0,zt.Cb)()],hm.prototype,"haloOpacity",void 0),(0,At._)([(0,zt.Cb)()],hm.prototype,"fillOpacity",void 0),hm=(0,At._)([(0,br.j)("esri.views.2d.support.HighlightOptions")],hm);var u6=hm,$V=N(18605),ZV=N(31637);const JV={checkMajorWebPerformanceCaveat:!0};let Zg=class extends no.Z{constructor(){super(...arguments),this.widget=null}destroy(){this.widget&&this.widget.destroy(),this.node=null}get id(){return this.get("widget.id")||this.get("node.id")}set node(A){const w=this._get("node");A!==w&&(A&&A.classList.add("esri-component"),w&&w.classList.remove("esri-component"),this._set("node",A))}castNode(A){return A?"string"==typeof A||function(A){return A&&"nodeType"in A}(A)?(this._set("widget",null),(0,X0.L7)(A)):(function(A){return A&&"function"==typeof A.render}(A)&&!A.domNode&&(A.domNode=document.createElement("div")),this._set("widget",A),A.domNode):(this._set("widget",null),null)}};(0,At._)([(0,zt.Cb)({dependsOn:[]})],Zg.prototype,"id",null),(0,At._)([(0,zt.Cb)()],Zg.prototype,"node",null),(0,At._)([(0,Bd.p)("node")],Zg.prototype,"castNode",null),(0,At._)([(0,zt.Cb)({readOnly:!0})],Zg.prototype,"widget",void 0),Zg=(0,At._)([(0,br.j)("esri.views.ui.Component")],Zg);var Jb=Zg;const ez={left:0,top:0,bottom:0,right:0},d6={bottom:30,top:15,right:15,left:15},vS="manual",nu_corner="esri-ui-corner";function _S(A){return"object"!=typeof A||A instanceof Jb||"declaredClass"in A||!("component"in A||"index"in A||"position"in A)?null:A}function bS(A,{top:w,bottom:_,left:C,right:I}){A.style.top=w,A.style.bottom=_,A.style.left=C,A.style.right=I}let Pf=class extends Nd.Z.EventedAccessor{constructor(A){super(A),this._cornerNameToContainerLookup={},this._positionNameToContainerLookup={},this._components=new Array,this._componentToKey=new Map,this._handles=new Bl.Z,this.view=null,this._initContainers()}initialize(){this._handles.add([(0,Ar.S1)(this,"view.padding, container",this._applyViewPadding.bind(this)),(0,Ar.S1)(this,"padding",this._applyUIPadding.bind(this))])}destroy(){this.container=null;for(const A of this._components)A.destroy();this._components.length=0,this._handles.destroy(),this._componentToKey.clear()}set container(A){const w=this._get("container");A!==w&&(A&&(A.classList.add("esri-ui"),A.classList.add((0,hc.rk)()),this._attachContainers(A)),w&&(w.classList.remove("esri-ui"),bS(w,{top:"",bottom:"",left:"",right:""}),(0,X0.cS)(w)),this._set("container",A))}get height(){const A=this.get("view.height")||0;if(0===A)return A;const w=this._getViewPadding();return Math.max(A-(w.top+w.bottom),0)}get padding(){return this._get("padding")}set padding(A){A?this._override("padding",A):this._clearOverride("padding")}castPadding(A){return"number"==typeof A?{bottom:A,top:A,right:A,left:A}:ji(ji({},d6),A)}get width(){const A=this.get("view.width")||0;if(0===A)return A;const w=this._getViewPadding();return Math.max(A-(w.left+w.right),0)}add(A,w){let _,C;if(Array.isArray(A))return void A.forEach(j=>this.add(j,w));const I=_S(A);I&&({index:_,position:w,component:A,key:C}=I),w&&"object"==typeof w&&({index:_,key:C,position:w}=w),!A||w&&!this._isValidPosition(w)||this._add(A,w,_,C)}remove(A,w){if(!A)return;if(Array.isArray(A))return A.map(C=>this.remove(C,w));const _=this._find(A);if(_){const C=this._componentToKey;if(C.has(A)&&C.get(A)!==w)return;const I=this._components.indexOf(_);return _.node.parentNode&&_.node.parentNode.removeChild(_.node),this._componentToKey.delete(A),this._components.splice(I,1)[0]}}empty(A){return Array.isArray(A)?A.map(w=>this.empty(w)).reduce((w,_)=>w.concat(_)):(A=A||vS)===vS?Array.prototype.slice.call(this._manualContainer.children).filter(w=>!w.classList.contains(nu_corner)).map(w=>this.remove(w)):this._isValidPosition(A)?Array.prototype.slice.call(this._cornerNameToContainerLookup[A].children).map(this.remove,this):null}move(A,w){if(Array.isArray(A)&&A.forEach(j=>this.move(j,w)),!A)return;let _;const C=_S(A)||_S(w);if(C&&(_=C.index,w=C.position,A=C.component||A),w&&!this._isValidPosition(w))return;const I=this.remove(A);I&&this.add(I,{position:w,index:_})}find(A){if(!A)return null;const w=this._findById(A);return w&&(w.widget||w.node)}getPosition(A){for(const w in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[w].contains(A))return w;return null}_add(A,w,_,C){A instanceof Jb||(A=new Jb({node:A})),this._place({component:A,position:w,index:_}),this._components.push(A),C&&this._componentToKey.set(A,C)}_find(A){return A?A instanceof Jb?this._findByComponent(A):"string"==typeof A?this._findById(A):this._findByNode(A.domNode||A):null}_getViewPadding(){return this.get("view.padding")||ez}_attachContainers(A){A.appendChild(this._innerContainer),A.appendChild(this._manualContainer)}_initContainers(){const A=document.createElement("div");A.classList.add("esri-ui-inner-container"),A.classList.add("esri-ui-corner-container");const w=document.createElement("div");w.classList.add("esri-ui-inner-container"),w.classList.add("esri-ui-manual-container");const _=document.createElement("div");_.classList.add("esri-ui-top-left"),_.classList.add(nu_corner),A.appendChild(_);const C=document.createElement("div");C.classList.add("esri-ui-top-right"),C.classList.add(nu_corner),A.appendChild(C);const I=document.createElement("div");I.classList.add("esri-ui-bottom-left"),I.classList.add(nu_corner),A.appendChild(I);const j=document.createElement("div");j.classList.add("esri-ui-bottom-right"),j.classList.add(nu_corner),A.appendChild(j),this._innerContainer=A,this._manualContainer=w;const K=(0,hc.dZ)();this._cornerNameToContainerLookup={"top-left":_,"top-right":C,"bottom-left":I,"bottom-right":j,"top-leading":K?C:_,"top-trailing":K?_:C,"bottom-leading":K?j:I,"bottom-trailing":K?I:j},this._positionNameToContainerLookup=ji({manual:w},this._cornerNameToContainerLookup)}_isValidPosition(A){return!!this._positionNameToContainerLookup[A]}_place(A){const w=A.component,C=A.index,I=this._positionNameToContainerLookup[A.position||vS],j=C>-1;if(function(A){return A&&!A._started&&"function"==typeof A.postMixInProperties&&"function"==typeof A.buildRendering&&"function"==typeof A.postCreate&&"function"==typeof A.startup}(w.widget)&&w.widget.startup(),!j)return void I.appendChild(w.node);const K=Array.prototype.slice.call(I.children);0!==C?C>=K.length?I.appendChild(w.node):(0,X0.Vt)(w.node,K[C]):I.firstChild?(0,X0.Vt)(w.node,I.firstChild):I.appendChild(w.node)}_applyViewPadding(){const A=this.container;A&&bS(A,this._toPxPosition(this._getViewPadding()))}_applyUIPadding(){const A=this._innerContainer;A&&bS(A,this._toPxPosition(this.padding))}_toPxPosition(A){return{top:this._toPxUnit(A.top),left:this._toPxUnit(A.left),right:this._toPxUnit(A.right),bottom:this._toPxUnit(A.bottom)}}_toPxUnit(A){return 0===A?"0":A+"px"}_findByComponent(A){let w,_=null;return this._components.some(C=>(w=C===A,w&&(_=C),w)),_}_findById(A){let w,_=null;return this._components.some(C=>(w=C.id===A,w&&(_=C),w)),_}_findByNode(A){let w,_=null;return this._components.some(C=>(w=C.node===A,w&&(_=C),w)),_}};(0,At._)([(0,zt.Cb)()],Pf.prototype,"container",null),(0,At._)([(0,zt.Cb)()],Pf.prototype,"height",null),(0,At._)([(0,zt.Cb)({value:d6})],Pf.prototype,"padding",null),(0,At._)([(0,Bd.p)("padding")],Pf.prototype,"castPadding",null),(0,At._)([(0,zt.Cb)()],Pf.prototype,"view",void 0),(0,At._)([(0,zt.Cb)()],Pf.prototype,"width",null),Pf=(0,At._)([(0,br.j)("esri.views.ui.UI")],Pf);var iz=Pf,nz=N(59213);function p6(A,w){return A&&"copyright"in A&&(!w||"function"==typeof A.originOf&&"user"===A.originOf("copyright"))}function oC(A,w,_){!_||!w||A.find(C=>C.layerView===w&&C.text===_)||A.push({text:_,layerView:w})}const dm=[];let Gy=class extends tm.r{constructor(A){super(A),this.clear=()=>{this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.handles.remove("suspension"),this.notifyChange("state")},this._pendingAttributions=new Set,this._fetchedAttributionData=new Map,this.items=new tl.Z,this.view=null,this._allLayerViewsChange=w=>{this.handles.remove("suspension");const _=this.get("view.allLayerViews");_&&this.handles.add(_.map(C=>C.watch(["suspended","attributionVisible"],this._updateAttributionItems)),"suspension"),w&&w.removed&&w.removed.forEach(C=>{this._pendingAttributions.delete(C),this._fetchedAttributionData.delete(C)}),this._updateAttributionItems()},this._updateAttributionItems=()=>{const w=this.get("view.allLayerViews");dm.length=0,w?(w.forEach(_=>{if(_.suspended||!_.get("layer.attributionVisible"))return;const C=_.layer;if(p6(C,"user"))return void oC(dm,_,C.copyright);if(C.hasAttributionData){if(this._fetchedAttributionData.has(_)){const j=this._fetchedAttributionData.get(_);return void(j?oC(dm,_,this._getDynamicAttribution(j,this.view,C)):p6(C)&&oC(dm,_,C.copyright))}return void this._fetchAttributionData(_)}const I=C.get("portalItem.accessInformation");oC(dm,_,I||C.copyright)}),function(A,w){return A.length!==w.length||A.some((_,C)=>_.text!==w[C].text)}(this.items,dm)&&(this.items.removeAll(),this.items.addMany(dm)),dm.length=0,this.notifyChange("state")):this.clear()},this.handles.add([(0,Ar.on)(this,"view.allLayerViews","change",this._allLayerViewsChange,this._allLayerViewsChange,this.clear),(0,Ar.Z4)(this,"view.stationary",()=>this._updateAttributionItems())])}destroy(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}get state(){return this.get("view.ready")?this._pendingAttributions.size>0?"loading":"ready":"disabled"}_fetchAttributionData(A){var w=this;return(0,Es.Z)(function*(){if(w._pendingAttributions.has(A))return;w._pendingAttributions.add(A);const _=yield(0,nz.q6)(A.layer.fetchAttributionData());if(w._pendingAttributions.has(A)){const C=_.ok?w._createContributionIndex(_.value,function(A){return"bing-maps"===A.type}(A.layer)):null;w._pendingAttributions.delete(A),w._fetchedAttributionData.set(A,C)}w._updateAttributionItems()})()}_createContributionIndex(A,w){const _=A.contributors,C={};if(!_)return C;for(let I=0;I<_.length;I++){const j=_[I],K=j.coverageAreas;if(!K)return;for(const q of K){const ue=q.bbox,Re=q.zoomMin-(w&&q.zoomMin?1:0),Je=q.zoomMax-(w&&q.zoomMax?1:0),Qt={extent:(0,Ud.$)({xmin:ue[1],ymin:ue[0],xmax:ue[3],ymax:ue[2],spatialReference:Pp.Z.WGS84}),attribution:j.attribution||"",score:null!=q.score?q.score:100,id:I};for(let ri=Re;ri<=Je;ri++)C[ri]=C[ri]||[],C[ri].push(Qt)}}return C.maxKey=Math.max.apply(null,Object.keys(C)),C}_getDynamicAttribution(A,w,_){const{extent:C,scale:I}=w;let j=_.tileInfo.scaleToZoom(I);if(j=Math.min(A.maxKey,Math.round(j)),!C||null==j||j<=-1)return"";const K=A[j],q=(0,Ud.iV)(C.center.clone().normalize(),w.spatialReference),ue={};return K?K.filter(Re=>{const Je=!ue[Re.id]&&q&&(0,aS.aV)(Re.extent,q);return Je&&(ue[Re.id]=!0),Je}).sort((Re,Je)=>Je.score-Re.score||Re.objectId-Je.objectId).map(Re=>Re.attribution).join(", "):""}};(0,At._)([(0,zt.Cb)({readOnly:!0,type:tl.Z})],Gy.prototype,"items",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],Gy.prototype,"state",null),(0,At._)([(0,zt.Cb)()],Gy.prototype,"view",void 0),Gy=(0,At._)([(0,br.j)("esri.widgets.Attribution.AttributionViewModel")],Gy);var f6=Gy;let Hd=class extends eu.Z{constructor(A,w){super(A,w),this._isOpen=!1,this._attributionTextOverflowed=!1,this._prevSourceNodeHeight=0,this.iconClass="esri-icon-description",this.itemDelimiter=" | ",this.label=void 0,this.messages=null,this.view=null,this.viewModel=new f6}initialize(){this.own((0,Ar.on)(this,"viewModel.items","change",()=>this.scheduleRender()))}get attributionText(){return this.viewModel.items.reduce((A,w)=>(-1===A.indexOf(w.text)&&A.push(w.text),A),[]).join(this.itemDelimiter)}render(){return(0,Fn.u)("div",{bind:this,class:this.classes("esri-attribution esri-widget",{"esri-attribution--open":this._isOpen}),onclick:this._toggleState,onkeydown:this._toggleState},this.renderSourcesNode(),this.renderPoweredBy())}renderPoweredBy(){return(0,Fn.u)("div",{class:"esri-attribution__powered-by"},"Powered by"," ",(0,Fn.u)("a",{class:"esri-attribution__link",href:"http://www.esri.com/",target:"_blank",rel:"noreferrer"},"Esri"))}renderSourcesNode(){const A=this._isOpen,w=this._isInteractive(),_=w?0:-1,{attributionText:C}=this,I=w?"button":void 0;return(0,Fn.u)("div",{afterCreate:this._afterSourcesNodeCreate,afterUpdate:this._afterSourcesNodeUpdate,bind:this,class:this.classes("esri-attribution__sources",{"esri-attribution__sources--open":A,"esri-interactive":w}),innerHTML:C,role:I,tabIndex:_})}_afterSourcesNodeCreate(A){this._prevSourceNodeHeight=A.clientWidth}_afterSourcesNodeUpdate(A){let w=!1;const{clientHeight:_,clientWidth:C,scrollWidth:I}=A,j=I>=C,K=this._attributionTextOverflowed!==j;if(this._attributionTextOverflowed=j,K&&(w=!0),this._isOpen){const q=_<this._prevSourceNodeHeight;this._prevSourceNodeHeight=_,q&&(this._isOpen=!1,w=!0)}w&&this.scheduleRender()}_toggleState(){this._isInteractive()&&(this._isOpen=!this._isOpen)}_isInteractive(){return this._isOpen||this._attributionTextOverflowed}};(0,At._)([(0,zt.Cb)({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],Hd.prototype,"attributionText",null),(0,At._)([(0,zt.Cb)()],Hd.prototype,"iconClass",void 0),(0,At._)([(0,zt.Cb)()],Hd.prototype,"itemDelimiter",void 0),(0,At._)([(0,zt.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Hd.prototype,"label",void 0),(0,At._)([(0,zt.Cb)(),(0,tu.H)("esri/widgets/Attribution/t9n/Attribution")],Hd.prototype,"messages",void 0),(0,At._)([(0,ns.B)("viewModel.view")],Hd.prototype,"view",void 0),(0,At._)([(0,zt.Cb)({type:f6})],Hd.prototype,"viewModel",void 0),(0,At._)([(0,Gh.h)()],Hd.prototype,"_toggleState",null),Hd=(0,At._)([(0,br.j)("esri.widgets.Attribution")],Hd);var oz=Hd;let Jg=class extends(ZP(no.Z)){constructor(A){super(A),this._handles=new Bl.Z,this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this._handles.add((0,Ar.S1)(this,"view",this._updateRotationWatcher))}destroy(){this._handles.destroy(),this._handles=null,this.view=null}get canShowNorth(){const A=this.get("view.spatialReference");return!(!A||!A.isWebMercator&&!A.isGeographic)}get state(){return this.get("view.ready")?this.canShowNorth?"compass":"rotation":"disabled"}reset(){if(!this.get("view.ready"))return;const A={};"2d"===this.view.type?A.rotation=0:A.heading=0,this.callGoTo({target:A})}_updateForRotation(A){null!=A&&(this.orientation={z:A})}_updateForCamera(A){A&&(this.orientation={x:0,y:0,z:-A.heading})}_updateRotationWatcher(A){this._handles.removeAll(),A&&this._handles.add("2d"===A.type?(0,Ar.S1)(this,"view.rotation",this._updateForRotation):(0,Ar.S1)(this,"view.camera",this._updateForCamera))}};(0,At._)([(0,zt.Cb)({readOnly:!0})],Jg.prototype,"canShowNorth",null),(0,At._)([(0,zt.Cb)()],Jg.prototype,"orientation",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],Jg.prototype,"state",null),(0,At._)([(0,zt.Cb)()],Jg.prototype,"view",void 0),Jg=(0,At._)([(0,br.j)("esri.widgets.CompassViewModel")],Jg);var m6=Jg;let Bp=class extends eu.Z{constructor(A,w){super(A,w),this.goToOverride=null,this.iconClass="esri-icon-locate-circled",this.label=void 0,this.messages=null,this.view=null,this.viewModel=new m6}reset(){return this.viewModel.reset()}render(){const{orientation:A,state:w}=this.viewModel,_="disabled"===w,C="compass"==("rotation"===w?"rotation":"compass"),I=_?-1:0,j={"esri-disabled":_,"esri-interactive":!_},K={"esri-icon-compass":C,"esri-icon-dial":!C},{messages:q}=this;return(0,Fn.u)("div",{bind:this,class:this.classes("esri-compass esri-widget--button esri-widget",j),onclick:this._reset,onkeydown:this._reset,role:"button",tabIndex:I,"aria-label":q.reset,title:q.reset},(0,Fn.u)("span",{"aria-hidden":"true",class:this.classes("esri-compass__icon",K),styles:this._toRotationTransform(A)}),(0,Fn.u)("span",{class:"esri-icon-font-fallback-text"},q.reset))}_reset(){this.viewModel.reset()}_toRotationTransform(A){return{transform:`rotateZ(${A.z}deg)`}}};(0,At._)([(0,ns.B)("viewModel.goToOverride")],Bp.prototype,"goToOverride",void 0),(0,At._)([(0,zt.Cb)()],Bp.prototype,"iconClass",void 0),(0,At._)([(0,zt.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Bp.prototype,"label",void 0),(0,At._)([(0,zt.Cb)(),(0,tu.H)("esri/widgets/Compass/t9n/Compass")],Bp.prototype,"messages",void 0),(0,At._)([(0,ns.B)("viewModel.view")],Bp.prototype,"view",void 0),(0,At._)([(0,zt.Cb)({type:m6})],Bp.prototype,"viewModel",void 0),(0,At._)([(0,Gh.h)()],Bp.prototype,"_reset",null),Bp=(0,At._)([(0,br.j)("esri.widgets.Compass")],Bp);var lz=Bp;let $y=class extends no.Z{constructor(A){super(A),this._handles=new Bl.Z,this.navigationMode="pan",this.view=null}initialize(){this._handles.add((0,Ar.gx)(this,"view.inputManager",this._setNavigationMode.bind(this)))}destroy(){this._handles.destroy(),this._handles=null,this.view=null}get state(){return this.get("view.ready")&&"3d"===this.view.type?"ready":"disabled"}toggle(){"disabled"!==this.state&&(this.navigationMode="pan"!==this.navigationMode?"pan":"rotate",this._setNavigationMode())}_setNavigationMode(){this.get("view.inputManager").primaryDragAction="pan"===this.navigationMode?"pan":"rotate"}};(0,At._)([(0,zt.Cb)({readOnly:!0})],$y.prototype,"state",null),(0,At._)([(0,zt.Cb)()],$y.prototype,"navigationMode",void 0),(0,At._)([(0,zt.Cb)()],$y.prototype,"view",void 0),$y=(0,At._)([(0,br.j)("esri.widgets.NavigationToggleViewModel")],$y);var g6=$y;const Jh_button="esri-navigation-toggle__button esri-widget--button";let Rp=class extends eu.Z{constructor(A,w){super(A,w),this.iconClass="esri-icon-pan2",this.label=void 0,this.messages=null,this.view=null,this.viewModel=new g6}set layout(A){"horizontal"!==A&&(A="vertical"),this._set("layout",A)}toggle(){return this.viewModel.toggle()}render(){const A="disabled"===this.get("viewModel.state"),w="pan"===this.get("viewModel.navigationMode"),C={"esri-navigation-toggle__button--active":w},I={"esri-navigation-toggle__button--active":!w},j=A?-1:0,K=this.messages.toggle;return(0,Fn.u)("div",{bind:this,class:this.classes("esri-navigation-toggle esri-widget",{"esri-disabled":A,"esri-navigation-toggle--horizontal":"horizontal"===this.layout}),onclick:this._toggle,onkeydown:this._toggle,tabIndex:j,"aria-label":K,title:K},(0,Fn.u)("div",{class:this.classes(Jh_button,"esri-navigation-toggle__button--pan",C)},(0,Fn.u)("span",{class:"esri-icon-pan"})),(0,Fn.u)("div",{class:this.classes(Jh_button,"esri-navigation-toggle__button--rotate",I)},(0,Fn.u)("span",{class:"esri-icon-rotate"})))}_toggle(){this.toggle()}};(0,At._)([(0,zt.Cb)()],Rp.prototype,"iconClass",void 0),(0,At._)([(0,zt.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Rp.prototype,"label",void 0),(0,At._)([(0,zt.Cb)({value:"vertical"})],Rp.prototype,"layout",null),(0,At._)([(0,zt.Cb)(),(0,tu.H)("esri/widgets/NavigationToggle/t9n/NavigationToggle")],Rp.prototype,"messages",void 0),(0,At._)([(0,ns.B)("viewModel.view")],Rp.prototype,"view",void 0),(0,At._)([(0,zt.Cb)({type:g6})],Rp.prototype,"viewModel",void 0),(0,At._)([(0,Gh.h)()],Rp.prototype,"_toggle",null),Rp=(0,At._)([(0,br.j)("esri.widgets.NavigationToggle")],Rp);var cz=Rp;let mm=class extends eu.Z{constructor(){super(...arguments),this.enabled=!0,this.iconClass="",this.title=""}render(){const A=this.enabled?0:-1,_={[this.iconClass]:!!this.iconClass};return(0,Fn.u)("div",{bind:this,class:this.classes("esri-widget--button esri-widget",{"esri-disabled":!this.enabled,"esri-interactive":this.enabled}),onclick:this._triggerAction,onkeydown:this._triggerAction,role:"button",tabIndex:A,title:this.title},(0,Fn.u)("span",{"aria-hidden":"true",role:"presentation",class:this.classes("esri-icon",_)}),(0,Fn.u)("span",{class:"esri-icon-font-fallback-text"},this.title))}_triggerAction(){this.action.call(this)}};(0,At._)([(0,zt.Cb)()],mm.prototype,"action",void 0),(0,At._)([(0,zt.Cb)()],mm.prototype,"enabled",void 0),(0,At._)([(0,zt.Cb)()],mm.prototype,"iconClass",void 0),(0,At._)([(0,zt.Cb)()],mm.prototype,"title",void 0),(0,At._)([(0,Gh.h)()],mm.prototype,"_triggerAction",null),mm=(0,At._)([(0,br.j)("esri.widgets.IconButton")],mm);var y6=mm;let Zy=class extends no.Z{get canZoomIn(){if(!this.get("view.ready"))return!1;const A=this.get("view.animation.target.scale")||this.get("view.scale"),w=this.get("view.constraints.effectiveMaxScale");return 0===w||A>w}get canZoomOut(){if(!this.get("view.ready"))return!1;const A=this.get("view.animation.target.scale")||this.get("view.scale"),w=this.get("view.constraints.effectiveMinScale");return 0===w||A<w}};(0,At._)([(0,zt.Cb)({readOnly:!0})],Zy.prototype,"canZoomIn",null),(0,At._)([(0,zt.Cb)({readOnly:!0})],Zy.prototype,"canZoomOut",null),(0,At._)([(0,zt.Cb)()],Zy.prototype,"view",void 0),Zy=(0,At._)([(0,br.j)("esri.widgets.Zoom.ZoomConditions2D")],Zy);var uz=Zy;let Jy=class extends no.Z{get canZoomIn(){return!!this.get("view.ready")}get canZoomOut(){return!!this.get("view.ready")}};(0,At._)([(0,zt.Cb)({readOnly:!0})],Jy.prototype,"canZoomIn",null),(0,At._)([(0,zt.Cb)({readOnly:!0})],Jy.prototype,"canZoomOut",null),(0,At._)([(0,zt.Cb)()],Jy.prototype,"view",void 0),Jy=(0,At._)([(0,br.j)("esri.widgets.Zoom.ZoomConditions3D")],Jy);var hz=Jy;let gm=class extends no.Z{constructor(A){super(A),this.canZoomIn=!1,this.canZoomOut=!1}destroy(){this.view=null}get state(){return this.get("view.ready")?"ready":"disabled"}set view(A){A?"2d"===A.type?this._zoomConditions=new uz({view:A}):"3d"===A.type&&(this._zoomConditions=new hz({view:A})):this._zoomConditions=null,this._set("view",A)}zoomIn(){if(!this.canZoomIn)return;const A=this.view;"2d"===A.type?A.mapViewNavigation.zoomIn():(0,Fs.R8)(A.goTo({zoomFactor:2}))}zoomOut(){if(!this.canZoomOut)return;const A=this.view;"2d"===A.type?A.mapViewNavigation.zoomOut():(0,Fs.R8)(A.goTo({zoomFactor:.5}))}};(0,At._)([(0,zt.Cb)()],gm.prototype,"_zoomConditions",void 0),(0,At._)([(0,zt.Cb)({aliasOf:"_zoomConditions.canZoomIn",readOnly:!0})],gm.prototype,"canZoomIn",void 0),(0,At._)([(0,zt.Cb)({aliasOf:"_zoomConditions.canZoomOut",readOnly:!0})],gm.prototype,"canZoomOut",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],gm.prototype,"state",null),(0,At._)([(0,zt.Cb)()],gm.prototype,"view",null),gm=(0,At._)([(0,br.j)("esri.widgets.Zoom.ZoomViewModel")],gm);var v6=gm;let kf=class extends eu.Z{constructor(A,w){super(A,w),this.iconClass="esri-icon-zoom-in-magnifying-glass",this.label=void 0,this.messages=null,this.view=null,this.viewModel=new v6}initialize(){this._zoomInButton=new y6({action:this.zoomIn.bind(this),iconClass:"esri-icon-plus"}),this._zoomOutButton=new y6({action:this.zoomOut.bind(this),iconClass:"esri-icon-minus"})}destroy(){this._zoomInButton.destroy(),this._zoomOutButton.destroy(),this._zoomInButton=null,this._zoomOutButton=null}set layout(A){"horizontal"!==A&&(A="vertical"),this._set("layout",A)}render(){const A=this.viewModel,w={"esri-zoom--horizontal":"horizontal"===this.layout};return this._zoomInButton.enabled="ready"===A.state&&A.canZoomIn,this._zoomOutButton.enabled="ready"===A.state&&A.canZoomOut,this._zoomInButton.title=this.messages.zoomIn,this._zoomOutButton.title=this.messages.zoomOut,(0,Fn.u)("div",{class:this.classes("esri-zoom esri-widget",w)},this._zoomInButton.render(),this._zoomOutButton.render())}zoomIn(){return this.viewModel.zoomIn()}zoomOut(){return this.viewModel.zoomOut()}};(0,At._)([(0,zt.Cb)()],kf.prototype,"iconClass",void 0),(0,At._)([(0,zt.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],kf.prototype,"label",void 0),(0,At._)([(0,zt.Cb)({value:"vertical"})],kf.prototype,"layout",null),(0,At._)([(0,zt.Cb)(),(0,tu.H)("esri/widgets/Zoom/t9n/Zoom")],kf.prototype,"messages",void 0),(0,At._)([(0,ns.B)("viewModel.view")],kf.prototype,"view",void 0),(0,At._)([(0,zt.Cb)({type:v6})],kf.prototype,"viewModel",void 0),kf=(0,At._)([(0,br.j)("esri.widgets.Zoom")],kf);var dz=kf;const _6="esri.views.ui.DefaultUI";sa.Z.getLogger(_6);let aC=class extends iz{constructor(A){super(A),this._defaultPositionLookup={attribution:"manual",compass:"top-leading","navigation-toggle":"top-leading",zoom:"top-leading"},this.components=[]}initialize(){this._handles.add([(0,Ar.S1)(this,"components",this._componentsWatcher.bind(this)),(0,Ar.S1)(this,"view",this._updateViewAwareWidgets.bind(this))])}_add(A,w,_,C){if("string"==typeof A&&this._defaultPositionLookup[A]){if(this._find(A))return;A=this._createComponent(A)}super._add(A,w,_,C)}_removeComponents(A){A.forEach(w=>{const _=this._find(w);_&&(this.remove(_),_.destroy())})}_updateViewAwareWidgets(A){this.components.forEach(w=>{const _=this._find(w),C=_&&_.widget;(function(A){return A&&void 0!==A.view})(C)&&(C.view=A)})}_componentsWatcher(A,w){this._removeComponents(w),this._addComponents(A),this._adjustPadding(A)}_adjustPadding(A){if(-1===A.indexOf("attribution")&&!this._isOverridden("padding")){const{top:w}=this.padding;this.padding=w}}_addComponents(A){this.initialized&&A.forEach(w=>this.add(this._createComponent(w),this._defaultPositionLookup[w]))}_createComponent(A){const w=this._createWidget(A);if(w)return new Jb({id:A,node:w})}_createWidget(A){return"attribution"===A?this._createAttribution():"compass"===A?this._createCompass():"navigation-toggle"===A?this._createNavigationToggle():"zoom"===A?this._createZoom():void 0}_createAttribution(){return new oz({view:this.view})}_createCompass(){return new lz({view:this.view})}_createNavigationToggle(){return new cz({view:this.view})}_createZoom(){return new dz({view:this.view})}};(0,At._)([(0,zt.Cb)()],aC.prototype,"components",void 0),aC=(0,At._)([(0,br.j)(_6)],aC);var fz=aC;let lC=class extends fz{constructor(A){super(A),this.components=["attribution","zoom"]}};(0,At._)([(0,zt.Cb)()],lC.prototype,"components",void 0),lC=(0,At._)([(0,br.j)("esri.views.ui.2d.DefaultUI2D")],lC);var AS,b6=lC;let cC=AS=class extends Z0.wq{constructor(A){super(A),this.color=new ml.Z([0,0,0,1])}clone(){return new AS((0,V3.d9)({color:this.color}))}};(0,At._)([(0,zt.Cb)({type:ml.Z,json:{write:!0}})],cC.prototype,"color",void 0),cC=AS=(0,At._)([(0,br.j)("esri.webmap.background.ColorBackground")],cC);var mz=cC;const gz=sa.Z.getLogger("esri.views.MapView");let A6,w6,C6,x6,E6,D6;function wS(){return wS=(0,Es.Z)(function*(){const[,{GraphicsView2D:A,GraphicContainer:w,LabelManager:_,MapViewNavigation:C,MagnifierView2D:I,Stage:j}]=yield Promise.all([Promise.all([N.e(6590),N.e(3975),N.e(4266)]).then(N.bind(N,14266)),Promise.all([N.e(7692),N.e(3755),N.e(6590),N.e(5024),N.e(4589),N.e(4654),N.e(168),N.e(3997),N.e(4175),N.e(4522),N.e(1619),N.e(1983),N.e(4056),N.e(8123),N.e(3975),N.e(8592),N.e(8146)]).then(N.bind(N,8146))]);w6=A,C6=w,x6=_,E6=C,D6=I,A6=j}),wS.apply(this,arguments)}function CS(A,w,_){if(A)if(Array.isArray(A)||tl.Z.isCollection(A)){if(0===A.length)return;A.forEach(C=>CS(C,w,_))}else!function(A){return A instanceof Fa.Z}(A)?_.add(A):w.add(A)}let gc=class extends(ZN(oH(hV))){constructor(A){super(A),this._magnifierView=null,this._stage=null,this._resolveWhenReady=[],this.rootLayerViews=new Oy.Z({getCollections:()=>{var w,_;return[null==(w=this.basemapView)?void 0:w.baseLayerViews,this.layerViews,null==(_=this.basemapView)?void 0:_.referenceLayerViews]},getChildrenFunction:()=>null}),this.floors=new tl.Z,this.graphicsView=null,this.highlightOptions=new u6,this.inputManager=new QV({view:this}),this.mapViewNavigation=null,this.supersampleScreenhotsEnabled=!1,this.ui=new b6,this.rendering=!1,(0,GN.j2)()}destroy(){this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}get background(){return this.get("map.initialViewProperties.background")||null}set background(A){void 0===A?this._clearOverride("background"):this._override("background",A)}get textureManager(){return this._stage.painter.textureManager}get navigating(){return!(!this.mapViewNavigation||!this.mapViewNavigation.interacting)}toMap(A){if(L9(A)){const w=k9(this,A);return super.toMap(w)}return super.toMap(A)}hitTest(A,w){const _=L9(A)?k9(this,A):A;if(!this.ready||isNaN(_.x)||isNaN(_.y))return Promise.resolve({screenPoint:_,results:[]});const C=this.toMap(_),I=[this.graphicsView];I.push.apply(I,this.allLayerViews.toArray().reverse());const j=new Set,K=new Set,q=new Set,ue=new Set;return w&&(CS(w&&w.include,j,q),CS(w&&w.exclude,K,ue)),Promise.all(I.map(Re=>!Re||!Re.hitTest||q.size>0&&!Re.layer||q.size>0&&Re.layer&&!q.has(Re.layer)||ue.size>0&&Re.layer&&ue.has(Re.layer)?null:Re.hitTest(_.x,_.y))).then(Re=>({screenPoint:_,results:Re.filter(Je=>null!=Je&&(!(j.size>0)||j.has(Je))&&(!(K.size>0)||!K.has(Je))).map(Je=>({mapPoint:C,graphic:Je}))}))}takeScreenshot(A){return this.ready?this._stage.takeScreenshot((0,$V.uz)(A,this),this.allLayerViews):Promise.reject("Map view cannot be used before it is ready")}on(A,w,_,C){return this.inputManager&&this.viewEvents.on(A,w,_,C)||super.on(A,w)}hasEventListener(A){return super.hasEventListener(A)||this.viewEvents.hasHandler(A)}whenLayerView(A){return super.whenLayerView(A)}graphicChanged(A){this.graphicsView&&this.graphicsView.graphicUpdateHandler(A)}whenReady(){return new Promise(A=>{this.ready?A(this):this._resolveWhenReady.push(A)})}forceDOMReadyCycle(){this.forceReadyCycle()}validate(){let A=function(A){A=ji(ji({},JV),A);const w=(0,ZV.Z)();return w.available?A.checkMajorWebPerformanceCaveat&&w.majorPerformanceCaveat?new os.Z("webgl:major-performance-caveat-detected","Your WebGL implementation doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist."):w.supportsHighPrecisionFragment?w.supportsVertexShaderSamplers?w.supportsElementIndexUint?w.supportsStandardDerivatives?w.supportsInstancedArrays?null:new os.Z("webgl:instanced-arrays-required","WebGL support for instanced rendering is required but not supported."):new os.Z("webgl:standard-derivatives-required","WebGL support for standard derivatives is required but not supported."):new os.Z("webgl:element-index-uint-required","WebGL support for uint vertex indices is required but not supported."):new os.Z("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported."):new os.Z("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported."):new os.Z("webgl:required","WebGL is required but not supported.")}({checkMajorWebPerformanceCaveat:!1});return(0,J0.Z)("safari")&&(0,J0.Z)("safari")<9&&(A=new os.Z("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:(0,J0.Z)("safari")})),(0,Wi.pC)(A)?(gz.warn("#validate()",A.message),Promise.reject(A)):function(){return wS.apply(this,arguments)}()}_startup(){this.timeline.begin("MapView Startup"),super._startup(),this.graphics.owner=this;const w=new A6(this.surface,{canvas:this.renderCanvas,supersampleScreenshots:this.supersampleScreenhotsEnabled,contextOptions:{disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},renderingOptions:this.renderingOptions,timeline:this.timeline}),_=new w6({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new C6(this.featuresTilingScheme)}),C=new E6({view:this,animationManager:this.animationManager}),I=new x6({view:this});this._magnifierView=new D6,this._magnifierView.magnifier=this.magnifier,this._stage=w,this.frameTask.graphicsView=_,this._set("graphicsView",_),this._set("mapViewNavigation",C),this._set("labelManager",I),this.handles.add([this.rootLayerViews.on("change",()=>this._updateStageChildren()),w.on("post-render",()=>this._set("rendering",w.renderRequested)),w.on("will-render",()=>this._set("rendering",w.renderRequested)),w.on("webgl-error",K=>this.fatalError=K.error),(0,Ar.S1)(this,"stationary",K=>w.stationary=K,!0),(0,Ar.S1)(this,"state.id",()=>w.state=this.state,!0),(0,Ar.S1)(this,"background",K=>{w.background=K,this._magnifierView.background=K},!0),(0,Ar.S1)(this,"magnifier",K=>this._magnifierView.magnifier=K,!0),(0,Ar.S1)(this,"renderingOptions",K=>w.renderingOptions=K,!0),(0,Ar.S1)(this,"highlightOptions",()=>w.highlightOptions=this.highlightOptions,!0)],"map-view"),w.state=this.state,this._updateStageChildren();const j=this._resolveWhenReady;this._resolveWhenReady=[],j.forEach(K=>K(this)),this.timeline.end("MapView Startup")}_teardown(){this.handles.remove("map-view"),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this._stage.destroy(),this.graphicsView.destroy(),this.mapViewNavigation.destroy(),this._stage=null,this._set("graphicsView",null),this._magnifierView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,super._teardown()}_updateStageChildren(){this._stage.removeAllChildren(),this.rootLayerViews.forEach(w=>{this._stage.addChild(w.container)}),this._stage.addChild(this.graphicsView.container),this._stage.addChild(this._magnifierView)}};(0,At._)([(0,zt.Cb)({type:mz})],gc.prototype,"background",null),(0,At._)([(0,zt.Cb)()],gc.prototype,"floors",void 0),(0,At._)([(0,zt.Cb)()],gc.prototype,"graphicsView",void 0),(0,At._)([(0,zt.Cb)({type:u6})],gc.prototype,"highlightOptions",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],gc.prototype,"inputManager",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],gc.prototype,"textureManager",null),(0,At._)([(0,zt.Cb)({readOnly:!0})],gc.prototype,"mapViewNavigation",void 0),(0,At._)([(0,zt.Cb)({type:Boolean})],gc.prototype,"navigating",null),(0,At._)([(0,zt.Cb)({type:Boolean,constructOnly:!0})],gc.prototype,"supersampleScreenhotsEnabled",void 0),(0,At._)([(0,zt.Cb)({type:b6})],gc.prototype,"ui",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],gc.prototype,"rendering",void 0),(0,At._)([(0,zt.Cb)({constructOnly:!0})],gc.prototype,"renderCanvas",void 0),(0,At._)([(0,zt.Cb)({constructOnly:!0})],gc.prototype,"deactivatedWebGLExtensions",void 0),(0,At._)([(0,zt.Cb)({constructOnly:!0})],gc.prototype,"debugWebGLExtensions",void 0),gc=(0,At._)([(0,br.j)("esri.views.MapView")],gc);var xS=gc,Lf=N(37299),Bf=N(55214);function M6(A){if(!A)return null;if(A.isGeographic&&A.wkid){const w=Lf.Dg[A.wkid];if(w)return w}if(A.wkt){const w=function(A){const w=Lf.yB.exec(A);if(!w||2!==w.length)return null;const _=w[1].split(",");if(!_||_.length<3)return null;const C=parseFloat(_[1]),I=parseFloat(_[2]);return isNaN(C)||isNaN(I)?null:{a:C,f:0===I?0:1/I}}(A.wkt);if(w)return w}return null}function Xy(A){return null!==M6(A)}function ES(A,w,_,C){const I=w[0]*Lf.Yr,j=w[1]*Lf.Yr,K=_[0]*Lf.Yr,q=_[1]*Lf.Yr,{a:ue,b:Re,f:Je,radius:wt}=function(A){const w=M6(A||Pp.Z.WGS84);if(function(A){return"b"in A&&"eSq"in A&&"radius"in A}(w))return w;const _=w.a*(1-w.f);return Object.assign(w,{b:_,eSq:1-(_/w.a)**2,radius:(2*w.a+_)/3,densificationRatio:1e4/((2*w.a+_)/3)})}(C),Qt=K-I,ri=Math.atan((1-Je)*Math.tan(j)),Ci=Math.atan((1-Je)*Math.tan(q)),Gi=Math.sin(ri),fn=Math.cos(ri),Mn=Math.sin(Ci),gn=Math.cos(Ci);let Zn,qn,mr,Mr,Qr,ws,as,ks,Co,Ma,Fo=1e3,Sa=Qt;do{if(as=Math.sin(Sa),ks=Math.cos(Sa),mr=Math.sqrt(gn*as*(gn*as)+(fn*Mn-Gi*gn*ks)*(fn*Mn-Gi*gn*ks)),0===mr)return A.distance=0,A.azimuth=void 0,A.reverseAzimuth=void 0,A;Qr=Gi*Mn+fn*gn*ks,ws=Math.atan2(mr,Qr),Co=fn*gn*as/mr,qn=1-Co*Co,Mr=Qr-2*Gi*Mn/qn,isNaN(Mr)&&(Mr=0),Ma=Je/16*qn*(4+Je*(4-3*qn)),Zn=Sa,Sa=Qt+(1-Ma)*Je*Co*(ws+Ma*mr*(Mr+Ma*Qr*(2*Mr*Mr-1)))}while(Math.abs(Sa-Zn)>1e-12&&--Fo>0);if(0===Fo){const aa=wt,Lu=Math.acos(Math.sin(j)*Math.sin(q)+Math.cos(j)*Math.cos(q)*Math.cos(K-I))*aa,Rc=K-I,jp=Math.sin(Rc)*Math.cos(q),la=Math.cos(j)*Math.sin(q)-Math.sin(j)*Math.cos(q)*Math.cos(Rc),wx=Math.atan2(jp,la);return A.azimuth=wx/Lf.Yr,A.distance=Lu,A.reverseAzimuth=void 0,A}const Na=qn*(ue*ue-Re*Re)/(Re*Re),Er=Na/1024*(256+Na*(Na*(74-47*Na)-128)),Gr=Re*(1+Na/16384*(4096+Na*(Na*(320-175*Na)-768)))*(ws-Er*mr*(Mr+Er/4*(Qr*(2*Mr*Mr-1)-Er/6*Mr*(4*mr*mr-3)*(4*Mr*Mr-3)))),Yr=Math.atan2(gn*Math.sin(Sa),fn*Mn-Gi*gn*Math.cos(Sa)),Ls=Math.atan2(fn*Math.sin(Sa),fn*Mn*Math.cos(Sa)-Gi*gn);return A.azimuth=Yr/Lf.Yr,A.distance=Gr,A.reverseAzimuth=Ls/Lf.Yr,A}var pC=N(84029);function T6(A,w){return A&&A.indexOf(w)>-1}function I6(A,w){const{x:_,y:C}="decimal-degrees"===A?(0,Ud.Sx)(w,!0):w;return[_,C]}function O6({state:{paddedViewState:A},spatialReference:w,width:_}){return w.isWrappable&&A.worldScreenWidth<_}let Yy=class extends no.Z{constructor(A){super(A),this.scaleComputedFrom=(0,Wo.vW)(),this.view=null}get state(){return this.get("view.ready")&&"2d"===this.get("view.type")?"ready":"disabled"}getScaleBarProperties(A,w){if("disabled"===this.state||isNaN(A)||!w)return null;const _=this._getDistanceInKm(this.view,this.scaleComputedFrom);return(0,Wi.Wi)(_)?null:"metric"===w?this._getScaleBarProps(A,_,"metric"):this._getScaleBarProps(A,_/1.609,"non-metric")}_getLocationUnit(){const A=this.get("view.spatialReference"),{isWebMercator:w,wkid:_,wkt:C}=A;return w||T6(C,"WGS_1984_Web_Mercator")?"decimal-degrees":null!=pC.Z[_]||T6(C,"PROJCS")?"linear-unit":"unknown"}_getDistanceInKm(A,w){const{state:_,spatialReference:C}=A,I=this._getLocationUnit();if("linear-unit"===I){const wt=1e3;return _.extent.width*function(A){const{wkid:w}=A;if(null!=pC.Z[w])return pC.Z.values[pC.Z[w]];const{wkt:_}=A,C=_.lastIndexOf(",")+1,I=_.lastIndexOf("]]");return parseFloat(_.substring(C,I))}(C)/wt}const[j,K]=this._getScaleMeasuringPoints(A,w),q="decimal-degrees"===I||C.isGeographic&&!Xy(C)?Pp.Z.WGS84:C,ue=new Bf.Z({paths:[[I6(I,j),I6(I,K)]],spatialReference:q}),Re=(0,lP.hR)(ue,10);let Je;try{[Je]=function(A,w="meters"){if(!A)throw new os.Z("geodesic-lengths:invalid-geometries","the input geometries type is not supported");if(A.some(C=>!Xy(C.spatialReference)))throw new os.Z("geodesic-lengths:invalid-spatial-reference","the input geometries spatial reference is not supported");const _=[];for(let C=0;C<A.length;C++){const I=A[C],{spatialReference:j}=I,K="polyline"===I.type?I.paths:I.rings;let q=0;for(let ue=0;ue<K.length;ue++){const Re=K[ue];let Je=0;for(let wt=1;wt<Re.length;wt++){const Qt=Re[wt-1][0],ri=Re[wt][0],Ci=Re[wt-1][1],Gi=Re[wt][1];if(Ci!==Gi||Qt!==ri){const fn={distance:null};ES(fn,[Qt,Ci],[ri,Gi],j),Je+=fn.distance}}q+=Je}q=(0,JN.En)(q,"meters",w),_.push(q)}return _}([Re],"kilometers")}catch(wt){return null}return Je}_getScaleMeasuringPoints(A,w){const{width:_,height:C,position:I,spatialReference:j}=A;if(O6(A)){const{valid:Re}=(0,qM.C5)(j);return[new Ys.Z(Re[0],0,j),new Ys.Z(Re[1],0,j)]}let K=w.y-I[1];K>C?K=C:K<0&&(K=0);const q=(0,Wo.vW)(0,K),ue=(0,Wo.vW)(_,K);return[A.toMap(q),A.toMap(ue)]}_getScaleBarProps(A,w,_){const{view:C}=this;let I=A*w/(O6(C)?C.state.paddedViewState.worldScreenWidth:C.width),j="metric"===_?"km":"mi";I<.1&&("mi"===j?(I*=5280,j="ft"):"km"===j&&(I*=1e3,j="m"));let K=0;for(;I>=1;)I/=10,K++;const q=this._getConstraints(I);if(!q)return null;const{min:ue,max:Re}=q,Je=Re/I>=I/ue?ue:Re;return{length:A*(Je/I),value:10**K*Je,unit:j}}_getConstraints(A){return A>.5?{min:.5,max:1}:A>.3?{min:.3,max:.5}:A>.2?{min:.2,max:.3}:A>.15?{min:.15,max:.2}:A>=.1?{min:.15,max:.1}:void 0}};(0,At._)([(0,zt.Cb)()],Yy.prototype,"scaleComputedFrom",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],Yy.prototype,"state",null),(0,At._)([(0,zt.Cb)()],Yy.prototype,"view",void 0),Yy=(0,At._)([(0,br.j)("esri.widgets.Scalebar.ScaleBarViewModel")],Yy);var xz=Yy;const Ea_label="esri-scale-bar__label",Ea_rulerBlock="esri-scale-bar__ruler-block";function fC(A){return 2*A}let Vd=class extends eu.Z{constructor(A,w){super(A,w),this.label=void 0,this.messages=null,this.unit="non-metric",this.view=null,this.viewModel=new xz}initialize(){this.own([(0,Ar.Z4)(this,"view.stationary",()=>this.scheduleRender()),(0,Ar.YP)(this,["view.center","view.scale","view.zoom"],()=>{this.view.stationary&&this.scheduleRender()})])}set style(A){this._set("style","dual"===this.unit?"line":A)}castStyle(A){return"line"===A?A:"ruler"}castUnit(A){return"metric"===A||"dual"===A?A:"non-metric"}render(){const A="disabled"===this.get("viewModel.state"),w={"esri-disabled":A};let _,C;if(!A){const{unit:I,style:j}=this,K="metric"===I||"dual"===I,q=50;if("non-metric"===I||"dual"===I){const ue=this.viewModel.getScaleBarProperties(q,"non-metric");ue&&(C="ruler"===j?this._renderRuler(ue):this._renderLine(ue,"bottom"))}if(K){const ue=this.viewModel.getScaleBarProperties(q,"metric");ue&&(_="ruler"===j?this._renderRuler(ue):this._renderLine(ue,"top"))}}return(0,Fn.u)("div",{afterCreate:this._handleRootCreateOrUpdate,afterUpdate:this._handleRootCreateOrUpdate,bind:this,class:this.classes("esri-scale-bar esri-widget",w)},_,C)}_renderRuler(A){const w=fC(Math.round(A.length)),{messages:_}=this,C=_[A.unit]||_.unknownUnit,I=`${fC(A.value)} ${C}`;return(0,Fn.u)("div",{class:this.classes("esri-scale-bar__bar-container","esri-scale-bar__bar-container--ruler"),key:"esri-scale-bar__ruler"},(0,Fn.u)("div",{class:"esri-scale-bar__ruler",styles:{width:`${w}px`}},(0,Fn.u)("div",{class:Ea_rulerBlock}),(0,Fn.u)("div",{class:Ea_rulerBlock}),(0,Fn.u)("div",{class:Ea_rulerBlock}),(0,Fn.u)("div",{class:Ea_rulerBlock})),(0,Fn.u)("div",{class:this.classes("esri-scale-bar__label-container","esri-scale-bar__label-container--ruler")},(0,Fn.u)("div",{class:Ea_label},"0"),(0,Fn.u)("div",{class:Ea_label},I)))}_renderLine(A,w){const{messages:_}=this,C=_[A.unit]||_.unknownUnit,I=`${fC(A.value)} ${C}`,K=(0,Fn.u)("div",{class:this.classes("esri-scale-bar__label-container","esri-scale-bar__label-container--line",{"esri-scale-bar__label-container--top":"top"===w,"esri-scale-bar__label-container--bottom":"bottom"===w}),key:"esri-scale-bar__label"},(0,Fn.u)("div",{class:Ea_label},I)),q={"esri-scale-bar__line--top":"top"===w,"esri-scale-bar__line--bottom":"bottom"===w},ue=fC(Math.round(A.length)),Re=(0,Fn.u)("div",{class:this.classes("esri-scale-bar__line",q),key:"esri-scale-bar__line",styles:{width:`${ue}px`}});return(0,Fn.u)("div",{class:this.classes("esri-scale-bar__bar-container","esri-scale-bar__bar-container--line"),key:"esri-scale-bar__line-container"},[Re,K])}_handleRootCreateOrUpdate(A){const w=this.viewModel;if(!w)return;const _=A.getBoundingClientRect(),C=_.left+window.pageXOffset,I=_.top+window.pageYOffset,j=(0,Wo.vW)(C,I);(j.x!==w.scaleComputedFrom.x||j.y!==w.scaleComputedFrom.y)&&(w.scaleComputedFrom=j)}};(0,At._)([(0,zt.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Vd.prototype,"label",void 0),(0,At._)([(0,zt.Cb)(),(0,tu.H)("esri/widgets/ScaleBar/t9n/ScaleBar")],Vd.prototype,"messages",void 0),(0,At._)([(0,zt.Cb)()],Vd.prototype,"style",null),(0,At._)([(0,Bd.p)("style")],Vd.prototype,"castStyle",null),(0,At._)([(0,zt.Cb)()],Vd.prototype,"unit",void 0),(0,At._)([(0,Bd.p)("unit")],Vd.prototype,"castUnit",null),(0,At._)([(0,ns.B)("viewModel.view")],Vd.prototype,"view",void 0),(0,At._)([(0,zt.Cb)()],Vd.prototype,"viewModel",void 0),Vd=(0,At._)([(0,br.j)("esri.widgets.ScaleBar")],Vd);var Ez=Vd;class mC{}class gC extends mC{}var nl=N(48887),Xg=N(59735),Dz=N(46894),DS=N(69526);class Mz extends Se{constructor(w){super(),this._value=w}get value(){return this.getValue()}_subscribe(w){const _=super._subscribe(w);return!_.closed&&w.next(this._value),_}getValue(){const{hasError:w,thrownError:_,_value:C}=this;if(w)throw _;return this._throwIfClosed(),C}next(w){super.next(this._value=w)}}var rh=(()=>(function(A){A.LIKELIHOOD="likelihood",A.CLASSIFIED="classified",A.BATHYMETRY="bathymetry",A.NONE=""}(rh||(rh={})),rh))();let qo=(()=>{class A{constructor(_,C){this.configurationService=_,this.translateService=C,this.activeDatatype="",this.mapStateSubject=new Se,this.maximizeToolSubject=new Se,this.disableMenuToggling=!1,this.changeMapEventSource=new Se,this.changeMapEventBus=this.changeMapEventSource.asObservable(),this.activeWdmType="ghg",this.activeNZSType={label:"folk",value:"folk"},this.noordzeeSedimentenOptions=[],this.nzsClassificationTranslationKeys=["folk","simplifiedFolk","eunis"],this.activeNZSSubType="classifiedMap",this.nzsPointDataChecked=!1,this.nzsSandExtractionChecked=!1,this.legendTitle$=new Mz(""),this.nl3dOptions=[],this.lithologyLayer="lithologyLayer",this.stratigraphyLayer="stratigraphyLayer",this.uncertaintyModelLayer="modelUncertaintyLayer",this.drillDensityLayer="drillDensityLayer",this.active3dLayer=this.lithologyLayer,this.active3dDeep=0,this.settings=this.configurationService.settings,this.geomorphologicalMapFeature=this.configurationService.getFeature("geomorphologicalMapFeature"),this.geokFeature=this.configurationService.getFeature("geokFeature"),this.wdmFeature=this.configurationService.getFeature("wdmFeature"),this.enable3D=this.configurationService.getFeature("enable3D"),this.gmd5Feature=this.configurationService.getFeature("gmd5"),this.createNzsLayerIdMap(),this.nzsClassificationTranslationKeys.forEach(q=>{this.translateService.get("NZS."+q).subscribe(ue=>this.noordzeeSedimentenOptions.push({label:ue,value:q}))});const I=new DS.default({url:this.settings.bgMapURL,serviceMode:"KVP",activeLayer:{id:this.settings.bgLayers,tileMatrixSetId:"EPSG:28992"}});this.mdlLayer=new nl.default({url:this.settings.mdlArcGisServerURLdynamic,visible:!1}),this.dgmStaticLayer=new Xg.default({url:this.settings.dgmArcGisServerURLstatic,maxScale:192e3,minScale:12288e3,visible:!1}),this.gtpStaticLayer=new Xg.default({url:this.settings.broGtpArcGisServerURLstatic,maxScale:192e3,minScale:12288e3,visible:!1}),this.rgsStaticLayer=new Xg.default({url:this.settings.rgsArcGisServerURLstatic,maxScale:192e3,minScale:12288e3,visible:!1}),this.setGmdLayer(),!0===this.geomorphologicalMapFeature&&(this.settings.gmmArcGisServerURLstatic&&this.settings.gmmArcGisServerURLdynamic?(this.gmmStaticLayer=new Xg.default({url:this.settings.gmmArcGisServerURLstatic,maxScale:192e3,minScale:12288e3,visible:!1,opacity:1}),this.gmmDynamicLayer=new nl.default({url:this.settings.gmmArcGisServerURLdynamic,minScale:191999,visible:!1,opacity:1})):console.error("ERROR: Map not properly configured for GMM. Check property files.")),this.setSgmLayers(),this.setGeokLayers(),this.setWdmLayers(),this.sandExtractionLayer=new Dz.default({url:"https://geoservices.rijkswaterstaat.nl/apps/geoserver/wingebieden_noordzee/ows?service=WMS&request=GetCapabilities&",opacity:.6,sublayers:[{name:"zandwingebieden_verlaten"},{name:"zandwingebieden_vergund"}]}),this.boundariesLayer=new nl.default({url:this.settings.boundariesArcGisServerURLdynamic,visible:!0,sublayers:[{id:Number(this.settings.provinceLine),visible:!0,definitionExpression:"1=0"},{id:Number(this.settings.watershipsLines),visible:!0,definitionExpression:"1=0"}]});let j=[{id:Number(this.settings.nzsFolkClassifiedMapLayerId),visible:!1,title:"folk:classifiedMap"},{id:Number(this.settings.nzsFolkUncertaintyMapLayerId),visible:!1,title:"folk:uncertaintyMap"},{id:Number(this.settings.nzsSimplifiedFolkClassifiedMapLayerId),visible:!1,title:"simplifiedFolk:classifiedMap"},{id:Number(this.settings.nzsSimplifiedFolkUncertaintyMapLayerId),visible:!1,title:"simplifiedFolk:uncertaintyMap"},{id:Number(this.settings.nzsEunisClassifiedMapLayerId),visible:!1,title:"eunis:classifiedMap"},{id:Number(this.settings.nzsEunisUncertaintyMapLayerId),visible:!1,title:"eunis:uncertaintyMap"},{id:Number(this.settings.bathymetryMapLayerId),visible:!1,title:"bathymetry:bathymetry"},{id:Number(this.settings.nzsFolkDataPointsLayerId),visible:!1,title:"folk:dataPoints"},{id:Number(this.settings.nzsSimplifiedFolkDataPointsLayerId),visible:!1,title:"simplifiedFolk:dataPoints"},{id:Number(this.settings.nzsEunisDataPointsLayerId),visible:!1,title:"eunis:dataPoints"}];this.nzsDynamicLayer=new nl.default({url:this.settings.nzsArcGisServerURLdynamic,visible:!0,sublayers:j});let K=[];for(let q=0;q<16;q++)this.nl3dOptions.push({label:q.toString().padStart(2,"0"),value:q,selected:0===q}),K.push({id:q,visible:!1});this.nl3dLithologyLayer=new nl.default({url:this.settings.nl3dLithologyURLDynamic.replace("${lang}",C.currentLang),visible:!1,sublayers:K}),this.nl3dStratigraphyLayer=new nl.default({url:this.settings.nl3dStratigraphyURLDynamic.replace("${lang}",C.currentLang),visible:!1,sublayers:K}),this.nl3dModelUncertaainityLayer=new nl.default({url:this.settings.nl3dModelUncertaintyURLDynamic,visible:!1,sublayers:K}),this.nl3dDrillDensityLayer=new nl.default({url:this.settings.nl3dDrillDensityURLDynamic.replace("${lang}",C.currentLang),visible:!1,sublayers:K}),this.map=new K3,this.map.add(I),this.map.add(this.mdlLayer),this.map.add(this.boundariesLayer),this.map.add(this.nzsDynamicLayer),this.map.add(this.dgmStaticLayer),this.map.add(this.rgsStaticLayer),this.map.add(this.gtpStaticLayer),this.map.add(this.gmdStaticLayer),this.map.add(this.nl3dLithologyLayer),this.map.add(this.nl3dStratigraphyLayer),this.map.add(this.nl3dModelUncertaainityLayer),this.map.add(this.nl3dDrillDensityLayer),null!=this.gmmDynamicLayer&&null!=this.gmmStaticLayer&&(this.map.add(this.gmmStaticLayer),this.map.add(this.gmmDynamicLayer)),null!=this.sgmDynamicLayer&&null!=this.sgmStaticLayer&&(this.map.add(this.sgmStaticLayer),this.map.add(this.sgmDynamicLayer)),null!=this.geokUraniaLayer&&null!=this.geokLineLayer&&null!=this.geokDynamicLayer&&null!=this.geokTiledLayer&&(this.map.add(this.geokDynamicLayer),this.map.add(this.geokTiledLayer),this.map.add(this.geokLineLayer),this.map.add(this.geokUraniaLayer)),null!=this.wdmGhgDynamicLayer&&(this.map.add(this.wdmGhgDynamicLayer),this.map.add(this.wdmGlgDynamicLayer),this.map.add(this.wdmGtModusDynamicLayer),this.map.add(this.wdmGvgDynamicLayer),this.map.add(this.wdmRefereceDynamicLayer),this.map.add(this.wdmBrhDynamicLayer)),this.updateTransparency(1),this.changeMapState(Jn.MAP_STATE)}createNzsLayerIdMap(){this.layerIdNzsMap=new Map([["folk:dataPoints",{id:this.settings.nzsFolkDataPointsLayerId,classification:rh.NONE}],["folk:classifiedMap",{id:this.settings.nzsFolkClassifiedMapLayerId,classification:rh.CLASSIFIED}],["folk:uncertaintyMap",{id:this.settings.nzsFolkUncertaintyMapLayerId,classification:rh.LIKELIHOOD}],["simplifiedFolk:dataPoints",{id:this.settings.nzsSimplifiedFolkDataPointsLayerId,classification:rh.NONE}],["simplifiedFolk:classifiedMap",{id:this.settings.nzsSimplifiedFolkClassifiedMapLayerId,classification:rh.CLASSIFIED}],["simplifiedFolk:uncertaintyMap",{id:this.settings.nzsSimplifiedFolkUncertaintyMapLayerId,classification:rh.LIKELIHOOD}],["eunis:dataPoints",{id:this.settings.nzsEunisDataPointsLayerId,classification:rh.NONE}],["eunis:classifiedMap",{id:this.settings.nzsEunisClassifiedMapLayerId,classification:rh.CLASSIFIED}],["eunis:uncertaintyMap",{id:this.settings.nzsEunisUncertaintyMapLayerId,classification:rh.LIKELIHOOD}],["bathymetry:bathymetry",{id:this.settings.bathymetryMapLayerId,classification:rh.BATHYMETRY}]])}setGmdLayer(){this.gmdStaticLayer=new Xg.default({url:this.gmd5Feature?this.settings.gmd5ArcGisServerURLstatic:this.settings.gmdArcGisServerURLstatic,maxScale:192e3,minScale:12288e3,visible:!1})}setSgmLayers(){this.settings.sgm2ArcGisServerURLdynamic&&this.settings.sgm2ArcGisServerURLstatic?(this.sgmStaticLayer=new Xg.default({url:this.settings.sgm2ArcGisServerURLstatic,maxScale:192e3,minScale:12288e3,visible:!1,opacity:1}),this.sgmDynamicLayer=new nl.default({url:this.settings.sgm2ArcGisServerURLdynamic,visible:!1,minScale:191999,opacity:1})):console.error("ERROR: Map not properly configured for SGM 2021. Check property files.")}setGeokLayers(){!0===this.geokFeature&&(this.settings.geokArcGisServerURLdynamic&&this.settings.geokArcGisServerURLstatic&&this.settings.geokLineArcGisServerURLdynamic&&this.settings.geokUraniaArcGisServerURLdynamic?(this.geokTiledLayer=new Xg.default({url:this.settings.geokArcGisServerURLstatic,maxScale:192e3,minScale:12288e3,visible:!1,opacity:1}),this.geokDynamicLayer=new nl.default({url:this.settings.geokArcGisServerURLdynamic,visible:!1,minScale:191999,opacity:1}),this.geokLineLayer=new nl.default({url:this.settings.geokLineArcGisServerURLdynamic,visible:!1}),this.geokUraniaLayer=new nl.default({url:this.settings.geokUraniaArcGisServerURLdynamic,visible:!1})):console.error("ERROR: Map not properly configured for GEOK. Check property files."))}setWdmLayers(){!0===this.wdmFeature&&(this.settings.wdmBrhArcGisServerURLdynamic&&this.settings.wdmGhgArcGisServerURLdynamic&&this.settings.wdmGlgArcGisServerURLDynamic&&this.settings.wdmGtModusArcGisServerURLDynamic&&this.settings.wdmGvgArcGisServerURLDynamic&&this.settings.wdmReferenceArcGisServerURLDynamic?(this.wdmBrhDynamicLayer=new nl.default({url:this.settings.wdmBrhArcGisServerURLdynamic,visible:!1,opacity:1}),this.wdmGhgDynamicLayer=new nl.default({url:this.settings.wdmGhgArcGisServerURLdynamic,visible:!1,opacity:1}),this.wdmGlgDynamicLayer=new nl.default({url:this.settings.wdmGlgArcGisServerURLDynamic,visible:!1,opacity:1}),this.wdmGtModusDynamicLayer=new nl.default({url:this.settings.wdmGtModusArcGisServerURLDynamic,visible:!1,opacity:1}),this.wdmGvgDynamicLayer=new nl.default({url:this.settings.wdmGvgArcGisServerURLDynamic,visible:!1,opacity:1}),this.wdmRefereceDynamicLayer=new nl.default({url:this.settings.wdmReferenceArcGisServerURLDynamic,visible:!1,opacity:1})):console.error("ERROR: Map not properly configured for WDM. Check property files."))}changeVisibleStaticLayer(_){this.dgmStaticLayer.visible="DGM"===_,this.rgsStaticLayer.visible="RGS"===_,this.gtpStaticLayer.visible="GTP"===_,this.gmdStaticLayer.visible="GMD"===_||"GMD5"===_,this.geomorphologicalMapFeature&&(this.gmmStaticLayer.visible="GMM"===_),this.sgmStaticLayer.visible="SGM2"===_,this.geokFeature&&(this.geokUraniaLayer.visible="GEOK"===_,this.geokLineLayer.visible="GEOK"===_,this.geokTiledLayer.visible="GEOK"===_)}changeDgmVisibleLayer(){this.changeLayerVisibility(this.settings.dgmLayerId,"DGM")}changeRgsVisibleLayer(){this.changeLayerVisibility(this.settings.rgsLayerId,"RGS")}changeGtpVisibleLayer(){this.changeLayerVisibility(this.settings.broGtpLayerId,"GTP")}changeGmdVisibleLayer(){this.gmd5Feature?this.changeLayerVisibility(this.settings.gmd5LayerId,"GMD5"):this.changeLayerVisibility(this.settings.gmdLayerId,"GMD")}changeGmmVisibleLayer(){this.changeLayerVisibility(this.settings.gmmLayerId,"GMM")}changeSgm2VisibleLayer(){this.changeLayerVisibility(this.settings.sgm2LayerId,"SGM2")}changeWdmVisibleLayer(){this.changeLayerVisibility(0,"WDM")}changeGeokVisibleLayer(){this.changeLayerVisibility(0,"GEOK")}changeNzsVisibleLayer(_){this.changeLayerVisibility(_,"NZS")}changeNL3DVisibleLayer(_){this.changeLayerVisibility(_,"NL3D")}changeMapState(_){_!==this.mapState&&(this.mapState=_,this.mapStateSubject.next(_))}getMapState(){return this.mapState}getDataType(){return"RGS"===this.activeDatatype?"REGIS":this.activeDatatype}toScreenPoints(_,C){const I=this.mapView.toScreen(_);return{top:I.y+30+"px",left:I.x-C/2+"px"}}changeLayer(_){"DGM"===_?this.changeDgmVisibleLayer():"RGS"===_?this.changeRgsVisibleLayer():"GTP"===_?this.changeGtpVisibleLayer():"GMD"===_||"GMD5"===_?this.changeGmdVisibleLayer():"GMM"===_?(this.updateStateForSimpleModel(),this.changeGmmVisibleLayer()):"SGM2"===_?(this.updateStateForSimpleModel(),this.changeSgm2VisibleLayer()):"GEOK"===_?(this.updateStateForSimpleModel(),this.changeGeokVisibleLayer()):"WDM"===_?(this.updateStateForSimpleModel(),this.changeWdmVisibleLayer()):"NZS"===_?this.changeNzsVisibleLayer(this.currentNzsLayer.id):"NL3D"===_&&this.changeNL3DVisibleLayer(this.active3dDeep),this.updateMapEvent()}updateMapEvent(){this.changeMapEventSource.next(!0)}updateStateForSimpleModel(){(this.getMapState()===Jn.DRAW_RECTANGLE_STATE||this.getMapState()===Jn.DRILL_STATE||this.getMapState()===Jn.CROSSECTION_STATE)&&this.changeMapState(Jn.MAP_STATE)}denyFunctionForSimpleModel(){return!!this.checkIfSimpleModel()&&(this.changeMapState(Jn.MAP_STATE),!0)}checkIfSimpleModel(){return"GMM"===this.getDataType()||"SGM2"===this.getDataType()||"GEOK"===this.getDataType()||"NZS"===this.getDataType()||"WDM"===this.getDataType()||"NL3D"===this.getDataType()}resetAllViews(){this.changeLayerVisibility("0",""),this.mdlLayer.visible=!1}get currentNzsLayer(){return this.layerIdNzsMap.get(`${this.activeNZSSubType.includes("bathymetry")?this.activeNZSSubType:this.activeNZSType.value}:${this.activeNZSSubType}`)}changeVisibleDynamicLayer(_){this.geomorphologicalMapFeature&&(this.gmmDynamicLayer.visible="GMM"===_),this.sgmDynamicLayer.visible="SGM2"===_,this.geokFeature&&(this.geokDynamicLayer.visible="GEOK"===_),this.wdmFeature&&("WDM"!==_&&(this.wdmBrhDynamicLayer.visible=!1),this.wdmGhgDynamicLayer.visible="ghg"===this.activeWdmType&&"WDM"===_,this.wdmGlgDynamicLayer.visible="glg"===this.activeWdmType&&"WDM"===_,this.wdmGtModusDynamicLayer.visible="gwt"===this.activeWdmType&&"WDM"===_,this.wdmGvgDynamicLayer.visible="voorjaarsNiveau"===this.activeWdmType&&"WDM"===_,this.wdmRefereceDynamicLayer.visible="statistischModel"===this.activeWdmType&&"WDM"===_),this.nzsDynamicLayer.visible="NZS"===this.activeDatatype}determineLegendTitle(){if("NZS"===this.activeDatatype)return this.determineNzsLegendTitle();if("NL3D"===this.activeDatatype)return this.determineNL3DLegendTitle();const _=this.activeDatatype+"LegendTitle";return this.legendTitle$.next(_),_}changeLayerVisibility(_,C){this.changeVisibleLayer(_,C),this.changeVisibleStaticLayer(C),this.changeVisibleDynamicLayer(C)}changeVisibleLayer(_,C){if(this.activeDatatype=C,this.activeLayerId=Number(_),"NZS"===this.activeDatatype&&this.changeNzsLayer(),"NL3D"===this.activeDatatype){let I=this.getCurrentNL3DLayer();this.nl3dLithologyLayer.visible=this.nl3dLithologyLayer===I,this.nl3dStratigraphyLayer.visible=this.nl3dStratigraphyLayer===I,this.nl3dModelUncertaainityLayer.visible=this.nl3dModelUncertaainityLayer===I,this.nl3dDrillDensityLayer.visible=this.nl3dDrillDensityLayer===I,I.allSublayers.forEach(j=>{j.visible=j.id===this.active3dDeep})}else this.nl3dLithologyLayer.visible=!1,this.nl3dStratigraphyLayer.visible=!1,this.nl3dModelUncertaainityLayer.visible=!1,this.nl3dDrillDensityLayer.visible=!1;this.checkIfSimpleModel()?this.mdlLayer.visible=!1:(this.mdlLayer.visible=!0,this.mdlLayer.allSublayers.forEach(I=>{I.id===Number(this.settings.cvrLayerId)?(I.visible=!0,I.definitionExpression=`MDL_CD = '${C}'`):I.visible=I.id===this.activeLayerId}))}changeNzsLayer(){this.toggleNzsSandExtractionLayer(),this.toggleNszDataPointsLayer(),this.nzsDynamicLayer.allSublayers.forEach(_=>{_.visible=this.isNzsPointDataSelected(_)&&this.isNZSLayerIncludesType()||_.id===this.activeLayerId,this.isNZSLayerIncludesType()||(this.nzsPointDataChecked=!1)})}toggleNszDataPointsLayer(){this.nzsDynamicLayer.sublayers.filter(_=>_.title.includes("dataPoints")).filter(_=>_.title.includes(this.activeNZSType.value)).map(_=>{this.activeNzsDataPointsLayer=_,_.visible=this.nzsPointDataChecked})}toggleNzsSandExtractionLayer(){this.nzsSandExtractionChecked?this.map.add(this.sandExtractionLayer):this.map.remove(this.sandExtractionLayer)}isNZSLayerIncludesType(){var _;return null===(_=this.activeNzsDataPointsLayer)||void 0===_?void 0:_.title.includes(this.activeNZSType.value)}isNzsPointDataSelected(_){return this.nzsPointDataChecked&&_.id===this.activeNzsDataPointsLayer.id}determineNzsLegendTitle(){let _="";this.nzsPointDataChecked&&(_="pointData."),_+=`${this.determineNzsClassification()}.LegendTitle`;const j=this.activeDatatype+"."+_;return this.legendTitle$.next(j),j}determineNL3DLegendTitle(){let _="";_+=".LegendTitle";const C=this.activeDatatype+"."+this.active3dLayer+".LegendTitle";return this.legendTitle$.next(C),C}determineNzsClassification(){let _;return Array.from(this.layerIdNzsMap.entries()).filter(C=>Number(C[1].id)===this.activeLayerId).forEach(C=>_=C[1].classification),_}updateTransparency(_){"GEOK"===this.activeDatatype?(this.geokTiledLayer.opacity=_,this.geokDynamicLayer.opacity=_,this.geokLineLayer.opacity=_,this.geokUraniaLayer.opacity=_):"GMM"===this.activeDatatype?(this.gmmStaticLayer.opacity=_,this.gmmDynamicLayer.opacity=_):"SGM2"===this.activeDatatype?(this.sgmStaticLayer.opacity=_,this.sgmDynamicLayer.opacity=_):"WDM"===this.activeDatatype?(this.wdmGhgDynamicLayer.opacity=_,this.wdmGlgDynamicLayer.opacity=_,this.wdmGvgDynamicLayer.opacity=_,this.wdmGtModusDynamicLayer.opacity=_,this.wdmRefereceDynamicLayer.opacity=_):"NZS"===this.activeDatatype?this.nzsDynamicLayer.opacity=_:"NL3D"===this.activeDatatype&&(this.getCurrentNL3DLayer().opacity=_)}getCurrentNL3DLayer(){return this.active3dLayer===this.lithologyLayer?this.nl3dLithologyLayer:this.active3dLayer===this.stratigraphyLayer?this.nl3dStratigraphyLayer:this.active3dLayer===this.uncertaintyModelLayer?this.nl3dModelUncertaainityLayer:this.active3dLayer===this.drillDensityLayer?this.nl3dDrillDensityLayer:null}}return A.\u0275fac=function(_){return new(_||A)(xr(fo),xr(Ll))},A.\u0275prov=di({token:A,factory:A.\u0275fac}),A})(),P6=(()=>{class A{constructor(_){this.http=_}columns(_){return this.http.post(Jn.URL_PREFIX+"/rest/models/columns/descripted",_)}virtualColumns(_){return this.http.post(Jn.URL_PREFIX+"/rest/models/columns/virtual",_)}}return A.\u0275fac=function(_){return new(_||A)(xr(Op))},A.\u0275prov=di({token:A,factory:A.\u0275fac}),A})(),MS=(()=>{class A{constructor(_){this.http=_}getLegend(_){return this.http.get(_+"?f=json")}}return A.\u0275fac=function(_){return new(_||A)(xr(Op))},A.\u0275prov=di({token:A,factory:A.\u0275fac}),A})(),SS=(()=>{class A{constructor(_){this.http=_}getSgm(_){return this.http.post(Jn.URL_PREFIX+"/rest/models/sgm",_)}getSgmDownload(_){return this.http.post(Jn.URL_PREFIX+"/rest/sgm/download",_,{responseType:"arraybuffer"})}}return A.\u0275fac=function(_){return new(_||A)(xr(Op))},A.\u0275prov=di({token:A,factory:A.\u0275fac}),A})(),qb=(()=>{class A{constructor(_){this.http=_,this.messageParams={},this.selection=[]}order(_){return this.http.post(Jn.URL_PREFIX+"/rest/order",_)}fileOverview(_){return this.http.post(Jn.URL_PREFIX+"/rest/models/fileoverview",_)}}return A.\u0275fac=function(_){return new(_||A)(xr(Op))},A.\u0275prov=di({token:A,factory:A.\u0275fac}),A})(),Sz=(()=>{class A{constructor(_){this.mapService=_,this.isMaximized=!1}maximize(){this.isMaximized=!this.isMaximized,this.mapService.maximizeToolSubject.next(this.isMaximized)}}return A.\u0275fac=function(_){return new(_||A)(rn(qo))},A.\u0275cmp=dr({type:A,selectors:[["dinoloket-maximize-tool"]],decls:4,vars:4,consts:[["id","maximize-button",1,"esri-widget--button","esri-widget","esri-interactive",3,"title","click"],[3,"ngClass"]],template:function(_,C){1&_&&(pt(0,"div"),pt(1,"div",0),An("click",function(){return C.maximize()}),sn(2,"translate"),Bn(3,"span",1),ft(),ft()),2&_&&(vt(1),It("title",on(2,2,C.isMaximized?"toolTipUnMaximizeScreen":"toolTipMaximizeScreen")),vt(2),It("ngClass",C.isMaximized?"esri-icon-zoom-in-fixed":"esri-icon-zoom-out-fixed"))},directives:[eo],pipes:[Xs],encapsulation:2}),A})();const Tz=function(A,w,_){return{bro:A,"esri-draw-button-selected":w,"not-clickable":_}};let Iz=(()=>{class A{constructor(_,C,I){this.mapService=_,this.errorService=C,this.configService=I,this.DRILL_STATE=Jn.DRILL_STATE}startDrill(){if(!this.mapService.denyFunctionForSimpleModel()){if(!this.mapService.activeDatatype)return void(this.errorService.message="selectModelFirst");this.mapService.mapState===Jn.DRILL_STATE?(this.mapService.changeMapState(Jn.MAP_STATE),this.mapService.disableMenuToggling=!1):this.mapService.changeMapState(Jn.DRILL_STATE)}}}return A.\u0275fac=function(_){return new(_||A)(rn(qo),rn(Ip),rn(fo))},A.\u0275cmp=dr({type:A,selectors:[["dinoloket-drilltool"]],decls:4,vars:11,consts:[["id","drill-button",1,"esri-widget--button","esri-widget","esri-interactive",3,"ngClass","title","click"],["src","images/drill_b_skin.png",3,"alt"]],template:function(_,C){1&_&&(pt(0,"div",0),An("click",function(){return C.startDrill()}),sn(1,"translate"),Bn(2,"img",1),sn(3,"translate"),ft()),2&_&&(It("ngClass",cc(7,Tz,C.configService.broOnly,C.mapService.mapState===C.DRILL_STATE,C.mapService.checkIfSimpleModel()))("title",on(1,3,"drillButtonToolTip")),vt(2),It("alt",on(3,5,"drillButtonToolTip")))},directives:[eo],pipes:[Xs],styles:[".bro.esri-draw-button-selected[_ngcontent-%COMP%]{opacity:1;background-color:#007bc7;color:#fff}.esri-draw-button-selected[_ngcontent-%COMP%]{opacity:1;background-color:#39870c;color:#fff}#drill-button[_ngcontent-%COMP%]{margin-bottom:1px}"]}),A})();class Oz{}class Pz{}var TS=N(52068),kz=N(51470),IS=N(38114),k6=N(54024),Os=N(28093);const ma={main:new ml.Z([255,127,0]),selected:new ml.Z([255,255,255]),outline:new ml.Z([0,0,0,.5]),selectedOutline:new ml.Z([255,255,255]),hoverOutline:new ml.Z([255,255,255]),secondary:new ml.Z([255,255,255]),secondaryOutline:new ml.Z([100,100,100]),transparent:new ml.Z([0,0,0,0])};function qy(A,w){if(w)for(const _ in w)A[_]=w[_]}class eA{constructor(w){this.size=8,this.hoverSize=10,this.color=ma.main,this.hoverColor=ma.main,this.outlineColor=ma.outline,this.hoverOutlineColor=ma.hoverOutline,qy(this,w)}}class Lz{constructor(w){this.color=ma.secondary,this.hoverColor=ma.main,qy(this,w)}}class Bz{constructor(w){this.color=ma.transparent,this.hoverColor=ma.transparent,this.outlineColor=ma.main,this.hoverOutlineColor=ma.main,this.stagedColor=ma.transparent,this.stagedOutlineColor=ma.secondary,qy(this,w)}}class Rz{constructor(w){this.vertex=new eA,this.midpoint=new eA({color:ma.secondary,outlineColor:ma.secondaryOutline,size:6}),this.selected=new eA({color:ma.selected,hoverColor:ma.selected,hoverOutlineColor:ma.hoverOutline}),qy(this,w)}}class Fz{constructor(w){this.center=new eA({color:ma.secondaryOutline}),this.fill=new Bz,this.line=new Lz,this.vertex=new eA({color:ma.selected,outlineColor:ma.main,hoverColor:ma.selected,hoverOutlineColor:ma.secondaryOutline}),qy(this,w)}}new class{constructor(w){this.reshapeGraphics=new Rz,this.transformGraphics=new Fz,qy(this,w)}};let zd=class extends Z0.wq{constructor(){super(...arguments),this.enabled=!0}};(0,At._)([(0,zt.Cb)({type:Boolean})],zd.prototype,"enabled",void 0),zd=(0,At._)([(0,br.j)("esri.views.interactive.snapping.Settings.DefaultSnappingAlgorithm")],zd);let Da=class extends Z0.wq{constructor(A){super(A),this.lineSnapper=new zd,this.parallelLineSnapper=new zd,this.rightAngleSnapper=new zd,this.rightAngleTriangleSnapper=new zd,this.shortLineThreshold=15,this.distance=5,this.pointThreshold=1e-6,this.intersectionParallelLineThreshold=1e-6,this.parallelLineThreshold=1e-6,this.touchSensitivityMultiplier=1.5,this.pointOnLineThreshold=1e-6,this.orange=new ml.Z([255,127,0]),this.lineHintWidthReference=3,this.lineHintWidthTarget=3,this.lineHintFadedExtensions=.3,this.parallelLineHintWidth=2,this.parallelLineHintLength=24,this.parallelLineHintOffset=1.5,this.rightAngleHintSize=24,this.rightAngleHintOutlineSize=1.5}};(0,At._)([(0,zt.Cb)({type:zd,constructOnly:!0,nonNullable:!0,json:{write:!0}})],Da.prototype,"lineSnapper",void 0),(0,At._)([(0,zt.Cb)({type:zd,constructOnly:!0,nonNullable:!0,json:{write:!0}})],Da.prototype,"parallelLineSnapper",void 0),(0,At._)([(0,zt.Cb)({type:zd,constructOnly:!0,nonNullable:!0,json:{write:!0}})],Da.prototype,"rightAngleSnapper",void 0),(0,At._)([(0,zt.Cb)({type:zd,constructOnly:!0,nonNullable:!0,json:{write:!0}})],Da.prototype,"rightAngleTriangleSnapper",void 0),(0,At._)([(0,zt.Cb)({type:Number,nonNullable:!0,range:{min:-1,max:50,step:1},json:{write:!0}})],Da.prototype,"shortLineThreshold",void 0),(0,At._)([(0,zt.Cb)({type:Number,nonNullable:!0,range:{min:-1,max:50,step:1},json:{write:!0}})],Da.prototype,"distance",void 0),(0,At._)([(0,zt.Cb)({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],Da.prototype,"pointThreshold",void 0),(0,At._)([(0,zt.Cb)({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],Da.prototype,"intersectionParallelLineThreshold",void 0),(0,At._)([(0,zt.Cb)({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],Da.prototype,"parallelLineThreshold",void 0),(0,At._)([(0,zt.Cb)({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],Da.prototype,"touchSensitivityMultiplier",void 0),(0,At._)([(0,zt.Cb)({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],Da.prototype,"pointOnLineThreshold",void 0),(0,At._)([(0,zt.Cb)({type:ml.Z,nonNullable:!0})],Da.prototype,"orange",void 0),(0,At._)([(0,zt.Cb)({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],Da.prototype,"lineHintWidthReference",void 0),(0,At._)([(0,zt.Cb)({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],Da.prototype,"lineHintWidthTarget",void 0),(0,At._)([(0,zt.Cb)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],Da.prototype,"lineHintFadedExtensions",void 0),(0,At._)([(0,zt.Cb)({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],Da.prototype,"parallelLineHintWidth",void 0),(0,At._)([(0,zt.Cb)({type:Number,nonNullable:!0,range:{min:0,max:50},json:{write:!0}})],Da.prototype,"parallelLineHintLength",void 0),(0,At._)([(0,zt.Cb)({type:Number,nonNullable:!0,range:{min:0,max:5},json:{write:!0}})],Da.prototype,"parallelLineHintOffset",void 0),(0,At._)([(0,zt.Cb)({type:Number,nonNullable:!0,range:{min:0,max:46},json:{write:!0}})],Da.prototype,"rightAngleHintSize",void 0),(0,At._)([(0,zt.Cb)({type:Number,nonNullable:!0,range:{min:0,max:6},json:{write:!0}})],Da.prototype,"rightAngleHintOutlineSize",void 0),Da=(0,At._)([(0,br.j)("esri.views.interactive.snapping.Settings.Defaults")],Da);const OS=new Da;function B6(A,w,_,C=null){return function(A,w,_,C,I,j,K=null){if((0,Wi.Wi)(j))return;const q=(0,Wi.pC)(K)?K.mode:"absolute-height";return"on-the-ground"===q?0:function(A,w,_,C,I,j,K,q){const ue=(0,Wi.pC)(K)&&(0,Wi.pC)(K.offset)?K.offset:0;switch(q){case"absolute-height":return A-ue;case"relative-to-ground":return A-((0,Wi.Pt)(j.elevationProvider.getElevation(w,_,C,I,"ground"),0)+ue);case"relative-to-scene":return A-((0,Wi.Pt)(j.elevationProvider.getElevation(w,_,C,I,"scene"),0)+ue)}}(function(A,w,_,C,I,j){const K=(0,Wi.pC)(j.offset)?j.offset:0;switch(j.mode){case"absolute-height":return _+K;case"on-the-ground":return(0,Wi.Pt)(I.elevationProvider.getElevation(A,w,0,C,"ground"),0);case"relative-to-ground":return _+(0,Wi.Pt)(I.elevationProvider.getElevation(A,w,_,C,"ground"),0)+K;case"relative-to-scene":return _+(0,Wi.Pt)(I.elevationProvider.getElevation(A,w,_,C,"scene"),0)+K}}(w,_,C,I,A,j),w,_,C,I,A,K,q)}(A,w.x,w.y,w.hasZ?w.z:0,w.spatialReference,_,C)}function Rf(A,w){const _=A.length===w.length&&A[0]===w[0]&&A[1]===w[1];switch(A.length){case 2:return _;case 3:return _&&A[2]===w[2];case 4:return _&&A[3]===w[3]}return!1}N(29505),(0,Os.c)(),(0,Wo.s1)(),new Ys.Z;class tA{}class LS extends tA{constructor(w){super(),this.intersectionPoint=w}equals(w){return w instanceof LS&&Rf(this.intersectionPoint,w.intersectionPoint)}}sa.Z.getLogger("esri.views.interactive.snapping.hints.LineSnappingHint");class BS extends tA{constructor(w,_,C,I=!0,j=!0){super(),this.type=w,this.lineStart=_,this.lineEnd=C,this.fadeLeft=I,this.fadeRight=j}equals(w){return w instanceof BS&&this.type===w.type&&Rf(this.lineStart,w.lineStart)&&Rf(this.lineEnd,w.lineEnd)&&this.fadeLeft===w.fadeLeft&&this.fadeRight===w.fadeRight}}sa.Z.getLogger("esri.views.interactive.snapping.hints.ParallelSnappingHint");class RS extends tA{constructor(w,_){super(),this.lineStart=w,this.lineEnd=_}equals(w){return w instanceof RS&&Rf(this.lineStart,w.lineStart)&&Rf(this.lineEnd,w.lineEnd)}}class FS extends tA{constructor(w){super(),this.point=w}equals(w){return w instanceof FS&&Rf(this.point,w.point)}}sa.Z.getLogger("esri.views.interactive.snapping.hints.RightAngleSnappingHint");class NS extends tA{constructor(w,_,C){super(),this.previousVertex=w,this.centerVertex=_,this.nextVertex=C}equals(w){return w instanceof NS&&Rf(this.previousVertex,w.previousVertex)&&Rf(this.centerVertex,w.centerVertex)&&Rf(this.nextVertex,w.nextVertex)}}var N6=N(57213),US=N(94398);class Gz extends class{draw(w,_){const C=this.getUniqueHints(w),I=[];for(const j of C)j instanceof LS&&I.push(this.visualizeIntersectionPoint(j,_)),j instanceof BS&&I.push(this.visualizeLine(j,_)),j instanceof RS&&I.push(this.visualizeParallelSign(j,_)),j instanceof NS&&I.push(this.visualizeRightAngleQuad(j,_)),j instanceof FS&&I.push(this.visualizePoint(j,_));return(0,k6.AL)(I)}getUniqueHints(w){const _=[];for(const C of w){let I=!0;for(const j of _)if(C.equals(j)){I=!1;break}I&&_.push(C)}return _}}{constructor(w){super(),this.graphicsLayer=w}visualizeIntersectionPoint(w,_){return this._visualizeSnappingIndicator(new Ys.Z({x:w.intersectionPoint[0],y:w.intersectionPoint[1],spatialReference:_.coordinateHelper.spatialReference}),Zz)}visualizePoint(w,_){return this._visualizeSnappingIndicator(new Ys.Z({x:w.point[0],y:w.point[1],spatialReference:_.coordinateHelper.spatialReference}),Jz)}visualizeLine(w,_){return this._visualizeSnappingIndicator(new Bf.Z({paths:[[w.lineStart,w.lineEnd]],spatialReference:_.coordinateHelper.spatialReference}),Xz)}visualizeParallelSign(w,_){return this._visualizeSnappingIndicator(new Bf.Z({paths:[[w.lineStart,w.lineEnd]],spatialReference:_.coordinateHelper.spatialReference}),Yz)}visualizeRightAngleQuad(w,_){return this._visualizeSnappingIndicator(new Bf.Z({paths:[[w.previousVertex,w.centerVertex,w.nextVertex]],spatialReference:_.coordinateHelper.spatialReference}),tW(w))}_visualizeSnappingIndicator(w,_){const C=new Fa.Z({geometry:w,symbol:_});return this.graphicsLayer.add(C),(0,k6.kB)(()=>{this.graphicsLayer.remove(C)})}}const ev=ma.main.toArray(),$z=[...ma.main.toRgb(),100],Zz=new N6.Z({outline:new TS.Z({width:1.5,color:ev}),size:15,color:[0,0,0,0]}),Jz=new N6.Z({outline:{width:.5,color:[0,0,0,1]},size:10,color:ev}),Xz=new US.Z({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Butt",joinStyle:"Round",miterLimit:10,width:(0,Wo.Wz)(OS.lineHintWidthTarget),color:ev}]}}}),Yz=new US.Z({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:-1,z:0},anchorPointUnits:"Relative",size:5,markerPlacement:{type:"CIMMarkerPlacementOnLine",placePerPart:!0,angleToLine:!0,relativeTo:"LineMiddle"},frame:{xmin:-5,ymin:-1.5,xmax:5,ymax:1.5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[7,0],[-7,0],[-7,1.5],[7,1.5]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:ev}]}}],scaleSymbolsProportionally:!0,respectFrame:!0},{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:1,z:0},anchorPointUnits:"Relative",size:5,markerPlacement:{type:"CIMMarkerPlacementOnLine",placePerPart:!0,angleToLine:!0,relativeTo:"LineMiddle"},frame:{xmin:-5,ymin:-1.5,xmax:5,ymax:1.5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[7,0],[-7,0],[-7,-1.5],[7,-1.5]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:ev}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}}),U6=A=>new US.Z({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:.5,y:.5,z:0},anchorPointUnits:"Relative",size:(0,Wo.Wz)(OS.rightAngleHintSize),rotation:A,markerPlacement:{type:"CIMMarkerPlacementOnVertices",placePerPart:!0,angleToLine:!0,placeOnEndPoints:!1},frame:{xmin:-5,ymin:-5,xmax:5,ymax:5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{paths:[[[5,-5],[-5,-5],[-5,5],[5,5],[5,-5]]]},symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Butt",joinStyle:"Round",miterLimit:10,width:(0,Wo.Wz)(OS.rightAngleHintOutlineSize),color:ev},{type:"CIMSolidFill",enable:!0,color:$z}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}}),qz=U6(45),eW=U6(225),tW=(()=>{const A=(0,yl.a)(),w=(0,yl.a)(),_=(0,Os.c)();return C=>((0,Ao.a)(A,C.centerVertex,C.previousVertex),(0,Ao.a)(w,C.nextVertex,C.previousVertex),(0,Ao.g)(_,A,w),_[2]<0?qz:eW)})();var j6=N(993),iA=N(4794);class iW{constructor(w){this.spatialReference=w}createVector(){return this.tag((0,yl.a)())}pointToVector(w){return this.tag((0,yl.f)(w.x,w.y))}arrayToVector(w){return this.tag((0,yl.f)(w[0],w[1]))}vectorToArray(w){return[w[0],w[1]]}pointToArray(w){return[w.x,w.y]}vectorToPoint(w,_=new Ys.Z){return _.x=w[0],_.y=w[1],_.z=void 0,_.m=void 0,_.spatialReference=this.spatialReference,_}arrayToPoint(w,_=new Ys.Z){return _.x=w[0],_.y=w[1],_.z=void 0,_.m=void 0,_.spatialReference=this.spatialReference,_}vectorToDehydratedPoint(w,_={x:void 0,y:void 0,z:void 0,m:void 0,hasZ:void 0,hasM:void 0,spatialReference:void 0,type:"point"}){return _.x=w[0],_.y=w[1],_.z=void 0,_.m=void 0,_.hasZ=!1,_.hasM=!1,_.spatialReference=this.spatialReference,_}lerp(w,_,C,I){return(0,Ao.m)(I,w,_,C)}addDelta(w,_,C){w[0]+=_,w[1]+=C}distance(w,_){return(0,Ao.d)(w,_)}getZ(w,_){return _}hasZ(){return!1}getM(w,_){return _}hasM(){return!1}clone(w){return this.tag((0,yl.d)(w))}copy(w,_){return(0,Ao.c)(_,w)}fromXYZ(w){return this.tag((0,yl.f)(w[0],w[1]))}toXYZ(w,_=0){return(0,Os.f)(w[0],w[1],_)}tag(w){return w}}class H6{constructor(w,_){this.valueType=w,this.spatialReference=_}createVector(){return this.tag((0,Os.c)())}pointToVector(w){return this.tag((0,Os.f)(w.x,w.y,0===this.valueType?w.z:w.m))}arrayToVector(w){return this.tag((0,Os.f)(w[0],w[1],w[2]||0))}vectorToArray(w){return[w[0],w[1],w[2]]}pointToArray(w){return 0===this.valueType?[w.x,w.y,w.z]:[w.x,w.y,w.m]}vectorToPoint(w,_=new Ys.Z){return _.x=w[0],_.y=w[1],_.z=0===this.valueType?w[2]:void 0,_.m=1===this.valueType?w[2]:void 0,_.spatialReference=this.spatialReference,_}arrayToPoint(w,_=new Ys.Z){return _.x=w[0],_.y=w[1],_.z=0===this.valueType?w[2]:void 0,_.m=1===this.valueType?w[2]:void 0,_.spatialReference=this.spatialReference,_}vectorToDehydratedPoint(w,_={x:void 0,y:void 0,z:void 0,m:void 0,hasZ:void 0,hasM:void 0,spatialReference:void 0,type:"point"}){const C=0===this.valueType,I=1===this.valueType;return _.x=w[0],_.y=w[1],_.z=C?w[2]:void 0,_.m=I?w[2]:void 0,_.hasZ=C,_.hasM=I,_.spatialReference=this.spatialReference,_}lerp(w,_,C,I){return(0,Ss.e)(I,w,_,C)}addDelta(w,_,C,I){w[0]+=_,w[1]+=C,0===this.valueType&&(w[2]+=I)}distance(w,_){return 0===this.valueType?(0,Ss.i)(w,_):(0,Ao.d)(w,_)}getZ(w,_){return 0===this.valueType?w[2]:_}hasZ(){return 0===this.valueType}getM(w,_){return 1===this.valueType?w[2]:_}hasM(){return 1===this.valueType}clone(w){return this.tag((0,Os.d)(w))}copy(w,_){return(0,Ss.g)(_,w)}fromXYZ(w,_=0,C=0){return this.tag((0,Os.f)(w[0],w[1],0===this.valueType?w.length>2?w[2]:_:C))}toXYZ(w,_=0){return this.tag((0,Os.f)(w[0],w[1],0===this.valueType?w[2]:_))}tag(w){return w}}class nW{constructor(w){this.spatialReference=w}createVector(){return this.tag((0,iA.c)())}pointToVector(w){return this.tag((0,iA.f)(w.x,w.y,w.z,w.m))}arrayToVector(w){return this.tag((0,iA.f)(w[0],w[1],w[2]||0,w[3]||0))}vectorToArray(w){return[w[0],w[1],w[2],w[3]]}pointToArray(w){return[w.x,w.y,w.z,w.m]}vectorToPoint(w,_=new Ys.Z){return _.x=w[0],_.y=w[1],_.z=w[2],_.m=w[3],_.spatialReference=this.spatialReference,_}arrayToPoint(w,_=new Ys.Z){return _.x=w[0],_.y=w[1],_.z=w[2],_.m=w[3],_.spatialReference=this.spatialReference,_}vectorToDehydratedPoint(w,_={x:void 0,y:void 0,z:void 0,m:void 0,hasZ:void 0,hasM:void 0,spatialReference:void 0,type:"point"}){return _.x=w[0],_.y=w[1],_.z=w[2],_.m=w[3],_.hasZ=!0,_.hasM=!0,_.spatialReference=this.spatialReference,_}lerp(w,_,C,I){return(0,j6.l)(I,w,_,C)}addDelta(w,_,C,I){w[0]+=_,w[1]+=C,w[2]+=I}distance(w,_){return(0,Ss.i)(w,_)}getZ(w){return w[2]}hasZ(){return!0}getM(w){return w[3]}hasM(){return!0}clone(w){return this.tag((0,iA.b)(w))}copy(w,_){return(0,j6.c)(_,w)}fromXYZ(w,_=0,C=0){return this.tag((0,iA.f)(w[0],w[1],w.length>2?w[2]:_,C))}toXYZ(w){return(0,Os.f)(w[0],w[1],w[2])}tag(w){return w}}function jS(A,w,_){return A&&w?new nW(_):w?new H6(1,_):A?new H6(0,_):new iW(_)}class nA{constructor(w){this.component=w,this.leftEdge=null,this.rightEdge=null,this.type="vertex",this.index=null}get pos(){return this._pos}set pos(w){this._pos=w,this.component.unnormalizeVertexPositions()}}class Ff{constructor(w,_,C){this.component=w,this.leftVertex=_,this.rightVertex=C,this.type="edge",_.rightEdge=this,C.leftEdge=this}}class tv{constructor(w,_){this.spatialReference=w,this.viewingMode=_,this.vertices=[],this.edges=[]}unnormalizeVertexPositions(){this.vertices.length<=1||function(A,w){if(!w.supported)return;let _=1/0,C=-1/0;const I=w.upperBoundX-w.lowerBoundX;A.forEach(K=>{let q=K.pos[0];for(;q<w.lowerBoundX;)q+=I;for(;q>w.upperBoundX;)q-=I;_=Math.min(_,q),C=Math.max(C,q),K.pos[0]=q});const j=C-_;I-j<j&&A.forEach(K=>{K.pos[0]<0&&(K.pos[0]+=I)})}(this.vertices,function(A,w){const _=(0,qM.C5)(A);return 1===w&&_?{supported:!0,lowerBoundX:_.valid[0],upperBoundX:_.valid[1]}:{supported:!1,lowerBoundX:null,upperBoundX:null}}(this.spatialReference,this.viewingMode))}updateVertexIndex(w,_){if(0===this.vertices.length)return;const C=this.vertices[0];let I=null,j=w,K=_;do{I=j,I.index=K++,j=I.rightEdge?I.rightEdge.rightVertex:null}while(null!=j&&j!==C);I.leftEdge&&I!==this.vertices[this.vertices.length-1]&&this.swapVertices(this.vertices.indexOf(I),this.vertices.length-1)}getFirstVertex(){return 0===this.vertices.length?null:this.vertices[0]}getLastVertex(){return 0===this.vertices.length?null:this.vertices[this.vertices.length-1]}isClosed(){return this.vertices.length>2&&null!==this.vertices[0].leftEdge}swapVertices(w,_){const C=this.vertices[w];this.vertices[w]=this.vertices[_],this.vertices[_]=C}iterateVertices(w){if(0===this.vertices.length)return;const _=this.vertices[0];let C=_;do{w(C,C.index),C=(0,Wi.pC)(C.rightEdge)?C.rightEdge.rightVertex:null}while(C!==_&&null!=C)}}class iv extends Nd.Z{constructor(w,_,C){super(),this.type=w,this.coordinateHelper=_,this.viewingMode=C,this._geometry=null,this.dirty=!0,this.components=[]}get geometry(){if(this.dirty){switch(this.type){case"point":this._geometry=this.toPoint();break;case"polyline":this._geometry=this.toPolyline();break;case"polygon":this._geometry=this.toPolygon()}this.dirty=!1}return this._geometry}get spatialReference(){return this.coordinateHelper.spatialReference}notifyChanges(w){this.dirty=!0,this.emit("change",w)}toPoint(){return 0===this.components.length||0===this.components[0].vertices.length?null:this.coordinateHelper.vectorToPoint(this.components[0].vertices[0].pos)}toPolyline(){const w=[],_=this.coordinateHelper.vectorToArray;return this.components.forEach((C,I)=>{const j=[];let K=C.vertices.find(ue=>null==ue.leftEdge);const q=K;do{j.push(_(K.pos)),K=K.rightEdge?K.rightEdge.rightVertex:null}while(K&&K!==q);w.push(j)}),new Bf.Z({paths:w,spatialReference:this.spatialReference,hasZ:this.coordinateHelper.hasZ(),hasM:this.coordinateHelper.hasM()})}toPolygon(){const w=[],_=this.coordinateHelper.vectorToArray;return this.components.forEach((C,I)=>{const j=[],K=C.vertices[0];let q=K;const ue=q;do{j.push(_(q.pos)),q=(0,Wi.pC)(q.rightEdge)?q.rightEdge.rightVertex:null}while(q&&q!==ue);C.isClosed()&&j.push(_(K.pos)),w.push(j)}),new hS.Z({rings:w,spatialReference:this.spatialReference,hasZ:this.coordinateHelper.hasZ(),hasM:this.coordinateHelper.hasM()})}static fromGeometry(w,_){const C=w.spatialReference,I=jS(w.hasZ,w.hasM,C),j=new iv(w.type,I,_);switch(w.type){case"polygon":{const K=w.rings;for(let q=0;q<K.length;++q){const ue=K[q],Re=new tv(C,_),Je=ue.length>2&&(0,Kg.fS)(ue[0],ue[ue.length-1]),wt=Je?ue.length-1:ue.length;for(let ri=0;ri<wt;++ri){const Ci=I.arrayToVector(ue[ri]),Gi=new nA(Re);Re.vertices.push(Gi),Gi.pos=Ci,Gi.index=ri}const Qt=Re.vertices.length-1;for(let ri=0;ri<Qt;++ri){const fn=new Ff(Re,Re.vertices[ri],Re.vertices[ri+1]);Re.edges.push(fn)}if(Je){const ri=new Ff(Re,Re.vertices[Re.vertices.length-1],Re.vertices[0]);Re.edges.push(ri)}j.components.push(Re)}break}case"polyline":for(const K of w.paths){const q=new tv(C,_),ue=K.length;for(let Je=0;Je<ue;++Je){const wt=I.arrayToVector(K[Je]),Qt=new nA(q);q.vertices.push(Qt),Qt.pos=wt,Qt.index=Je}const Re=q.vertices.length-1;for(let Je=0;Je<Re;++Je){const ri=new Ff(q,q.vertices[Je],q.vertices[Je+1]);q.edges.push(ri)}j.components.push(q)}break;case"point":{const K=new tv(C,_),q=new nA(K);q.index=0,q.pos=I.pointToVector(w),K.vertices.push(q),j.components.push(K);break}}return j}}class oW{constructor(w,_,C){this.editGeometry=w,this.component=_,this.pos=C,this.addedVertex=null,this.originalEdge=null,this.left=null,this.right=null}apply(){let w="redo";(0,Wi.Wi)(this.addedVertex)&&(w="apply",this.addedVertex=new nA(this.component));const _=this.component.getLastVertex();if((0,Wi.Wi)(_))this.component.vertices.push(this.addedVertex),this.addedVertex.pos=this.pos,this.addedVertex.index=0;else{let C=null;_.rightEdge&&(this.originalEdge=_.rightEdge,C=this.originalEdge.rightVertex,this.component.edges.splice(this.component.edges.indexOf(this.originalEdge),1)),this.component.vertices.push(this.addedVertex),this.addedVertex.pos=this.pos,(0,Wi.Wi)(this.left)&&(this.left=new Ff(this.component,_,this.addedVertex)),this.component.edges.push(this.left),_.rightEdge=this.left,(0,Wi.pC)(this.originalEdge)&&(0,Wi.pC)(C)&&((0,Wi.Wi)(this.right)&&(this.right=new Ff(this.component,this.addedVertex,C)),this.component.edges.push(this.right),C.leftEdge=this.right),this.component.updateVertexIndex(this.addedVertex,_.index+1)}this.editGeometry.notifyChanges({operation:w,addedVertices:[this.addedVertex]})}undo(){if((0,Wi.Wi)(this.addedVertex))return null;this.component.vertices.splice(this.component.vertices.indexOf(this.addedVertex),1),(0,Wi.pC)(this.left)&&(this.component.edges.splice(this.component.edges.indexOf(this.left),1),this.left.leftVertex.rightEdge=null),(0,Wi.pC)(this.right)&&(this.component.edges.splice(this.component.edges.indexOf(this.right),1),this.right.rightVertex.leftEdge=null),(0,Wi.pC)(this.originalEdge)&&(this.component.edges.push(this.originalEdge),this.originalEdge.leftVertex.rightEdge=this.originalEdge,this.originalEdge.rightVertex.leftEdge=this.originalEdge),(0,Wi.pC)(this.left)?this.component.updateVertexIndex(this.left.leftVertex,this.left.leftVertex.index):this.component.updateVertexIndex(this.addedVertex,0),this.editGeometry.notifyChanges({operation:"undo",removedVertices:[this.addedVertex]})}accumulate(){return!1}}class HS{constructor(w,_,C){this.editGeometry=w,this.vertices=_,this.operation=C,this.undone=!1}apply(){this.vertices.forEach(w=>this.operation.apply(w)),this.editGeometry.components.forEach(w=>w.unnormalizeVertexPositions()),this.editGeometry.notifyChanges({operation:this.undone?"redo":"apply",updatedVertices:this.vertices})}undo(){this.vertices.forEach(w=>this.operation.undo(w)),this.editGeometry.notifyChanges({operation:"undo",updatedVertices:this.vertices}),this.undone=!0}canAccumulate(w){if(this.undone||w.vertices.length!==this.vertices.length)return!1;for(let _=0;_<w.vertices.length;++_)if(w.vertices[_]!==this.vertices[_])return!1;return this.operation.canAccumulate(w.operation)}accumulate(w){return!!(w instanceof HS&&this.canAccumulate(w))&&(this.vertices.forEach(_=>this.operation.accumulate(_,w.operation)),this.operation.accumulateParams(w.operation),this.editGeometry.components.forEach(_=>_.unnormalizeVertexPositions()),this.editGeometry.notifyChanges({operation:"apply",updatedVertices:this.vertices}),!0)}}class aW{constructor(w,_,C=0){this.editGeometry=w,this.vertices=_,this.minNumberOfVertices=C,this.removedVertices=null}apply(){let w="redo";null==this.removedVertices?(this.removedVertices=[],this.vertices.forEach(_=>{const C=this._removeVertex(_);(0,Wi.pC)(C)&&this.removedVertices.push(C)}),w="apply"):this.removedVertices.forEach(_=>{this._removeVertex(_.removedVertex)}),this.editGeometry.notifyChanges({operation:w,removedVertices:this.vertices})}undo(){this.removedVertices.forEach(w=>{this._undoRemoveVertex(w)}),this.editGeometry.notifyChanges({operation:"undo",addedVertices:this.vertices})}accumulate(){return!1}_removeVertex(w){const _=w.component;if(_.vertices.length<=this.minNumberOfVertices)return null;const C={removedVertex:w,createdEdge:null},I=w.leftEdge,j=w.rightEdge;return _.vertices.splice(_.vertices.indexOf(w),1),I&&(_.edges.splice(_.edges.indexOf(I),1),I.leftVertex.rightEdge=null),j&&(_.edges.splice(_.edges.indexOf(j),1),j.rightVertex.leftEdge=null),0===w.index&&j&&this.vertices.length>0&&_.swapVertices(_.vertices.indexOf(j.rightVertex),0),I&&j&&(C.createdEdge=new Ff(_,I.leftVertex,j.rightVertex),_.edges.push(C.createdEdge)),j&&_.updateVertexIndex(j.rightVertex,j.rightVertex.index-1),C}_undoRemoveVertex(w){const _=w.removedVertex,C=w.removedVertex.component,I=_.leftEdge,j=_.rightEdge;w.createdEdge&&C.edges.splice(C.edges.indexOf(w.createdEdge),1),C.vertices.push(_),I&&(C.edges.push(I),I.leftVertex.rightEdge=I),j&&(C.edges.push(j),j.rightVertex.leftEdge=j),C.updateVertexIndex(_,_.index)}}class lW{constructor(w,_,C){this.editGeometry=w,this.edge=_,this.t=C,this.createdVertex=null,this.left=null,this.right=null}apply(){let w="redo";const _=this.edge,C=_.component,I=_.leftVertex,j=_.rightVertex;C.edges.splice(C.edges.indexOf(_),1),(0,Wi.Wi)(this.createdVertex)&&(w="apply",this.createdVertex=new nA(_.component)),C.vertices.push(this.createdVertex),this.createdVertex.pos=this.editGeometry.coordinateHelper.lerp(_.leftVertex.pos,_.rightVertex.pos,this.t,this.editGeometry.coordinateHelper.createVector()),(0,Wi.Wi)(this.left)&&(this.left=new Ff(C,I,this.createdVertex)),this.left.leftVertex.leftEdge?C.edges.push(this.left):C.edges.unshift(this.left),I.rightEdge=this.left,(0,Wi.Wi)(this.right)&&(this.right=new Ff(C,this.createdVertex,j)),C.edges.push(this.right),j.leftEdge=this.right,C.updateVertexIndex(this.createdVertex,I.index+1),this.editGeometry.notifyChanges({operation:w,addedVertices:[this.createdVertex]})}undo(){if((0,Wi.Wi)(this.createdVertex)||(0,Wi.Wi)(this.left)||(0,Wi.Wi)(this.right))return null;const w=this.edge,_=w.component,j=this.createdVertex.leftEdge.leftVertex,K=this.createdVertex.rightEdge.rightVertex;_.vertices.splice(_.vertices.indexOf(this.createdVertex),1),_.edges.splice(_.edges.indexOf(this.left),1),_.edges.splice(_.edges.indexOf(this.right),1),this.edge.leftVertex.leftEdge?_.edges.push(this.edge):_.edges.unshift(this.edge),j.rightEdge=w,K.leftEdge=w,_.updateVertexIndex(j,j.index),this.editGeometry.notifyChanges({operation:"undo",removedVertices:[this.createdVertex]})}accumulate(){return!1}}class VS{constructor(w,_,C){this.editGeometry=w,this.vertex=_,this.pos=C}apply(){const w=(0,Wi.Wi)(this.originalPosition);w&&(this.originalPosition=this.vertex.pos),this._apply(w?"apply":"redo")}undo(){this.vertex.pos=(0,Wi.Wg)(this.originalPosition),this.editGeometry.notifyChanges({operation:"undo",updatedVertices:[this.vertex]})}accumulate(w){return w instanceof VS&&w.vertex===this.vertex&&(this.pos=w.pos,this._apply("apply"),!0)}_apply(w){this.vertex.pos=this.pos,this.editGeometry.components.forEach(_=>_.unnormalizeVertexPositions()),this.editGeometry.notifyChanges({operation:w,updatedVertices:[this.vertex]})}}class cW{constructor(w,_){this.editGeometry=w,this.component=_,this.createdEdge=null}apply(){let w="redo";if((0,Wi.Wi)(this.createdEdge)){w="apply";const _=this.component.getFirstVertex(),C=this.component.getLastVertex();if(this.component.isClosed()||this.component.vertices.length<3||(0,Wi.Wi)(_)||(0,Wi.Wi)(C))return;this.createdEdge=new Ff(this.component,C,_)}this.createdEdge.leftVertex.rightEdge=this.createdEdge,this.createdEdge.rightVertex.leftEdge=this.createdEdge,this.component.edges.push(this.createdEdge),this.editGeometry.notifyChanges({operation:w})}undo(){(0,Wi.Wi)(this.createdEdge)||((0,Kg.Od)(this.component.edges,this.createdEdge),this.createdEdge.leftVertex.rightEdge=null,this.createdEdge.rightVertex.leftEdge=null,this.editGeometry.notifyChanges({operation:"undo"}))}accumulate(){return!1}}class zS{constructor(w,_,C,I){this.helper=w,this.dx=_,this.dy=C,this.dz=I}move(w,_,C,I){this.helper.addDelta(w.pos,_,C,I)}apply(w){this.move(w,this.dx,this.dy,this.dz)}undo(w){this.move(w,-this.dx,-this.dy,-this.dz)}canAccumulate(w){return w instanceof zS}accumulate(w,_){this.move(w,_.dx,_.dy,_.dz)}accumulateParams(w){this.dx+=w.dx,this.dy+=w.dy,this.dz+=w.dz}}N(43673);var uW=N(26242);function rA(A=mW){return[A[0],A[1],A[2],A[3]]}function yC(A,w=rA()){return function(A,w,_,C,I=rA()){return I[0]=A,I[1]=w,I[2]=_,I[3]=C,I}(A[0],A[1],A[2],A[3],w)}function Wd(A,w){return(0,Ss.d)(A,w)+A[3]}(0,Os.c)(),(0,Os.c)(),(0,Os.c)(),(0,Os.c)(),(0,Os.c)();const mW=[0,0,1,0];var WS=N(34054);function KS(A,w){return A[0]*w[1]-A[1]*w[0]}const Kd=(0,yl.a)(),K6=(0,yl.a)(),Yh=(0,yl.a)(),rv=(0,yl.a)();class AC{constructor(w,_,C,I=0,j=0){this.helper=w,this.planeType=_,this.edge=C,this.distance=I,this._plane=rA(),this._offsetPlane=rA(),this._minDistance=-1/0,this._maxDistance=1/0,0===j&&this._initialize()}get plane(){return this._plane}get requiresSplitEdgeLeft(){return!this._left.isOriginalDirection}get requiresSplitEdgeRight(){return!this._right.isOriginalDirection}get edgeDirection(){return this._edgeDirection}_initialize(){this._initializeNeighbors(),this._initializePlane(),this._initializeDistanceConstraints()}_initializeNeighbors(){var w,_,C,I;const j=this._toXYZ(this.edge.leftVertex.pos),K=this._toXYZ(null==(w=this.edge.leftVertex.leftEdge)||null==(_=w.leftVertex)?void 0:_.pos),q=this._toXYZ(this.edge.rightVertex.pos),ue=this._toXYZ(null==(C=this.edge.rightVertex.rightEdge)||null==(I=C.rightVertex)?void 0:I.pos);this._edgeDirection=(0,Ss.r)((0,Os.c)(),j,q),this._left=this._computeNeighbor(j,K,this._edgeDirection),this._right=this._computeNeighbor(q,ue,this._edgeDirection)}_toXYZ(w){return(0,Wi.pC)(w)?this.helper.toXYZ(w):null}_computeNeighbor(w,_,C){if((0,Wi.Wi)(_))return{start:w,end:_,direction:(0,Os.f)(-C[1],C[0],0),isOriginalDirection:!0};const I=(0,Ss.r)((0,Os.c)(),w,_),j=!this._passesBisectingAngleThreshold(I,C);return{start:w,end:_,direction:j?this._bisectVectorsPerpendicular(C,I):I,isOriginalDirection:!j}}_passesBisectingAngleThreshold(w,_){const C=Math.abs((0,WS.EU)(_,w));return C>=Q6&&C<=Math.PI-Q6}_bisectVectorsPerpendicular(w,_){const C=(0,Ss.d)(w,_)<0?w:(0,Ss.o)((0,Os.c)(),w),I=Math.abs((0,Ss.d)(C,_));if(!(I<.001||I>.999))return this._bisectDirection(C,_);const j=(0,Ss.c)((0,Os.c)(),C,[0,0,1]);return(0,Ss.n)(j,j)}_bisectDirection(w,_){const C=(0,Ss.b)((0,Os.c)(),w,_);return(0,Ss.n)(C,C)}_initializePlane(){const w=this._computeNormalDirection(this._left),_=this._computeNormalDirection(this._right);(0,Ss.d)(w,_)<0&&(0,Ss.o)(_,_),function(A,w,_){const C=w[0]*w[0]+w[1]*w[1]+w[2]*w[2],I=Math.abs(C-1)>1e-5&&C>1e-12?1/Math.sqrt(C):1;_[0]=w[0]*I,_[1]=w[1]*I,_[2]=w[2]*I,_[3]=-(_[0]*A[0]+_[1]*A[1]+_[2]*A[2])}(this._left.start,this._bisectDirection(w,_),this._plane)}_computeNormalDirection(w){const _=(0,Ss.c)((0,Os.c)(),w.direction,this._edgeDirection);(0,Ss.n)(_,_);const C=(0,Ss.c)((0,Os.c)(),this._edgeDirection,_);return 1===this.planeType&&(C[2]=0),(0,Ss.n)(C,C)}_initializeDistanceConstraints(){(0,Wi.pC)(this._left.end)&&!this.requiresSplitEdgeLeft&&this._updateDistanceConstraint(Wd(this._plane,this._left.end)),(0,Wi.pC)(this._right.end)&&!this.requiresSplitEdgeRight&&this._updateDistanceConstraint(Wd(this._plane,this._right.end)),this._updateIntersectDistanceConstraint(this._plane)}_updateDistanceConstraint(w){w<=0&&(this._minDistance=Math.max(this._minDistance,w)),w>=0&&(this._maxDistance=Math.min(this._maxDistance,w))}_updateIntersectDistanceConstraint(w){const _=w,C=this._edgeDirection,I=(0,Ss.b)((0,Os.c)(),this._left.start,this._left.direction),j=(0,Ss.b)((0,Os.c)(),this._right.start,this._right.direction),K=this._pointInBasis2D((0,yl.a)(),_,C,this._left.start),q=this._pointInBasis2D((0,yl.a)(),_,C,I),ue=this._pointInBasis2D((0,yl.a)(),_,C,this._right.start),Re=this._pointInBasis2D((0,yl.a)(),_,C,j),[Je]=function(A,w){const _=A.start,I=w.start,j=w.end,K=(0,Ao.a)(Kd,A.end,_),q=(0,Ao.a)(K6,j,I),ue=KS(K,q);if(Math.abs(ue)<=1e-6)return[];const Re=(0,Ao.a)(Yh,_,I),Je=KS(q,Re)/ue,wt=KS(K,Re)/ue;if(Je>=0){if(wt>=0||1===w.type)return[(0,Ao.u)(rv,_,K,Je)]}else if(1===A.type&&(wt>=0||1===w.type))return[(0,Ao.u)(rv,_,K,Je)];return[]}({start:q,end:K,type:1},{start:Re,end:ue,type:1});if(!Je)return;const wt=(0,Ao.a)((0,yl.a)(),K,q);(0,Ao.f)(wt,wt);const Qt=(0,Ao.a)((0,yl.a)(),Je,q),ri=(0,Ao.h)(wt,Qt),Gi=Wd(w,(0,Ss.b)((0,Os.c)(),I,(0,Ss.a)((0,Os.c)(),this._left.direction,-ri)));this._updateDistanceConstraint(Gi)}_pointInBasis2D(w,_,C,I){return w[0]=(0,WS.SR)(_,I),w[1]=(0,WS.SR)(C,I),w}_offset(w,_){Number.isFinite(this._minDistance)&&(_=Math.max(this._minDistance,_)),Number.isFinite(this._maxDistance)&&(_=Math.min(this._maxDistance,_)),yC(this._plane,this._offsetPlane),this._offsetPlane[3]-=_;const C=(j,K,q)=>(0,Wi.pC)(K)&&function(A,w,_,C){return function(A,w,_,C,I){const j=(0,Ss.d)(A,_);if(0===j)return!1;let K=-((0,Ss.d)(A,w)+A[3])/j;return 1&C&&(K=(0,em.uZ)(K,0,1)),!(!(4&C)&&K<0||!(8&C)&&K>1||((0,Ss.b)(I,w,(0,Ss.a)(I,_,K)),0))}(A,w,(0,Ss.f)(uW.WM.get(),_,w),12,C)}(this._offsetPlane,j,(0,Ss.b)((0,Os.c)(),j,K),q),I=(0,Os.c)();(w===this.edge.leftVertex?C(this._left.start,this._left.direction,I):C(this._right.start,this._right.direction,I))&&this.helper.copy(this.helper.fromXYZ(I,void 0,this.helper.getM(w.pos)),w.pos)}signedDistanceToPoint(w){return Wd(this.plane,this.helper.toXYZ(this.helper.pointToVector(w)))}apply(w){this._offset(w,this.distance)}undo(w){this._offset(w,0)}canAccumulate(w){return w instanceof AC&&this.edge.leftVertex.index===w.edge.leftVertex.index&&this.edge.rightVertex.index===w.edge.rightVertex.index&&this.edge.component===w.edge.component&&this._maybeEqualsVec3(this._left.direction,w._left.direction)&&this._maybeEqualsVec3(this._right.direction,w._right.direction)&&(0,Ss.z)(this._plane,w._plane)}accumulate(w,_){this._offset(w,this._plane[3]-_._plane[3]+_.distance)}accumulateParams(w){this.distance=w.distance-w._plane[3]+this._plane[3]}clone(){const w=new AC(this.helper,this.planeType,this.edge,this.distance,1);return yC(this._plane,w._plane),yC(this._offsetPlane,w._offsetPlane),w._maxDistance=this._maxDistance,w._minDistance=this._minDistance,w._left=this._cloneNeighbor(this._left),w._right=this._cloneNeighbor(this._right),w._edgeDirection=(0,Ss.g)((0,Os.c)(),this._edgeDirection),w}_maybeEqualsVec3(w,_){return(0,Wi.Wi)(w)&&(0,Wi.Wi)(_)||(0,Wi.pC)(w)&&(0,Wi.pC)(_)&&(0,Ss.z)(w,_)}_cloneNeighbor({start:w,end:_,direction:C,isOriginalDirection:I}){return{start:(0,Ss.g)((0,Os.c)(),w),end:(0,Wi.pC)(_)?(0,Ss.g)((0,Os.c)(),_):null,direction:(0,Ss.g)((0,Os.c)(),C),isOriginalDirection:I}}}const Q6=(0,em.Vl)(15);class QS{constructor(w,_,C=0){this.origin=w,this.angle=_,this.accumulationType=C}rotate(w,_){(0,Ao.r)(w.pos,w.pos,this.origin,_)}apply(w){this.rotate(w,this.angle)}undo(w){this.rotate(w,-this.angle)}canAccumulate(w){return w instanceof QS&&(0,Kg.fS)(this.origin,w.origin)}accumulate(w,_){this.rotate(w,1===_.accumulationType?_.angle-this.angle:_.angle)}accumulateParams(w){this.angle=1===w.accumulationType?w.angle:this.angle+w.angle}}class GS{constructor(w,_,C,I,j=0){this.origin=w,this.axis1=_,this.factor1=C,this.factor2=I,this.accumulationType=j,this.axis2=(0,yl.f)(_[1],-_[0])}scale(w,_,C){(0,Ao.p)(w.pos,w.pos,this.origin,this.axis1,_),(0,Ao.p)(w.pos,w.pos,this.origin,this.axis2,C)}apply(w){this.scale(w,this.factor1,this.factor2)}undo(w){this.scale(w,1/this.factor1,1/this.factor2)}canAccumulate(w){return w instanceof GS&&(0,Kg.fS)(this.origin,w.origin)&&(0,Kg.fS)(this.axis1,w.axis1)}accumulate(w,_){1===_.accumulationType?this.scale(w,_.factor1/this.factor1,_.factor2/this.factor2):this.scale(w,_.factor1,_.factor2)}accumulateParams(w){const _=1===w.accumulationType;this.factor1=_?w.factor1:this.factor1*w.factor1,this.factor2=_?w.factor2:this.factor2*w.factor2}}class CW{constructor(){this.operations=[],this.closed=!1}close(){this.closed=!0}apply(){for(const w of this.operations)w.apply()}undo(){for(let w=this.operations.length-1;w>=0;w--)this.operations[w].undo()}accumulate(w){if(this.closed)return!1;const _=this.operations.length?this.operations[this.operations.length-1]:null;return _&&_.accumulate(w)||(this.operations.push(w),w.apply()),!0}}class oA extends Nd.Z{constructor(w){super(),this.data=w,this.undoStack=[],this.redoStack=[],this.listener=this.data.on("change",_=>{_.addedVertices&&this.emit("vertex-add",{type:"vertex-add",vertices:_.addedVertices,operation:_.operation}),_.removedVertices&&this.emit("vertex-remove",{type:"vertex-remove",vertices:_.removedVertices,operation:_.operation}),_.updatedVertices&&this.emit("vertex-update",{type:"vertex-update",vertices:_.updatedVertices,operation:_.operation})})}destroy(){this.listener.remove()}splitEdge(w,_){return this.apply(new lW(this.data,w,_))}updateVertices(w,_,C=1){return this.apply(new HS(this.data,w,_),C)}moveVertices(w,_,C,I,j=1){return this.updateVertices(w,new zS(this.data.coordinateHelper,_,C,I),j)}scaleVertices(w,_,C,I,j,K=1,q=0){return this.updateVertices(w,new GS(_,C,I,j,q),K)}rotateVertices(w,_,C,I=1,j=0){return this.updateVertices(w,new QS(_,C,j),I)}removeVertices(w){return this.apply(new aW(this.data,w,this._minNumVerticesPerType))}appendVertex(w){return 0===this.data.components.length?null:this.apply(new oW(this.data,this.data.components[0],w))}setVertexPosition(w,_){return this.apply(new VS(this.data,w,_))}offsetEdge(w,_,C,I=1){return this.updateVertices([_.leftVertex,_.rightVertex],new AC(this.data.coordinateHelper,w,_,C),I)}closeComponent(w){return this.data.components.includes(w)?this.apply(new cW(this.data,w)):null}canRemoveVertex(){return this.data.components[0].vertices.length>this._minNumVerticesPerType}createUndoGroup(){const w=new CW;return this.apply(w),{remove:()=>w.close()}}undo(){if(this.undoStack.length>0){const w=this.undoStack.pop();return w.undo(),this.redoStack.push(w),w}return null}redo(){if(this.redoStack.length>0){const w=this.redoStack.pop();return w.apply(),this.undoStack.push(w),w}return null}get canUndo(){return this.undoStack.length>0}get canRedo(){return this.redoStack.length>0}get lastOperation(){return this.undoStack.length>0?this.undoStack[this.undoStack.length-1]:null}get _minNumVerticesPerType(){switch(this.data.type){case"point":return 1;case"polyline":return 2;case"polygon":return 3;default:return 0}}apply(w,_=1){return 0!==_&&!(0,Wi.Wi)(this.lastOperation)&&this.lastOperation.accumulate(w)||(w.apply(),this.undoStack.push(w),this.redoStack=[]),w}static fromGeometry(w,_){return new oA(iv.fromGeometry(w,_))}}class wC{constructor(w){this.vertexHandle=null,this.excludeFeature=null,this.visualizer=null,this.editGeometryOperations=w.editGeometryOperations,this.elevationInfo=w.elevationInfo,this.pointer=w.pointer,this.vertexHandle=w.vertexHandle,this.excludeFeature=w.excludeFeature,this.visualizer=w.visualizer}get coordinateHelper(){return this.editGeometryOperations.data.coordinateHelper}}var $S;let sh=$S=class extends Nd.Z.EventedAccessor{constructor(A){var w;super(A),this._hasZ=null,this._cursorScreenPoint=null,this._snappingTask=null,this._stagedVertex=null,this._stagedVertexUnsnapped=null,this._lastVertexUnsnapped=null,this._nativeEventHistory={undoStack:[],redoStack:[]},this.interactiveUndoDisabled=!1,this.history=[],this.redoHistory=[],this.snapToScene=!1,this.view=null,this.elevationInfo=null,this.defaultZ=0,this._coordinateHelper=jS(A.hasZ,!1,A.view.spatialReference),this._snappingManager=A.snappingManager,this._editGeometryOperations=new oA(new iv(null!=(w=A.editGeometryType)?w:"polygon",this._coordinateHelper,2)),this._snappingGraphicsLayer=new kz.Z({id:$S.SNAPPING_GRAPHICS_LAYER_ID,listMode:"hide",internal:!0}),this._snappingContext=new wC({editGeometryOperations:this._editGeometryOperations,elevationInfo:{mode:"on-the-ground",offset:0},pointer:"mouse",visualizer:new Gz(this._snappingGraphicsLayer)}),this._activeComponent=new tv(A.view.spatialReference,2),this._editGeometryOperations.data.components.push(this._activeComponent)}initialize(){"2d"===this.view.type&&this.view.map.layers.add(this._snappingGraphicsLayer)}destroy(){this._snappingTask=(0,Wi.IM)(this._snappingTask),this.view.map.layers.remove(this._snappingGraphicsLayer),this._snappingGraphicsLayer.destroy(),(0,Wi.pC)(this._snappingManager)&&this._snappingManager.doneSnapping(),this._editGeometryOperations.destroy()}get _committedVertices(){return this._editGeometryOperations.data.components[0].vertices.map(A=>A.pos)}get vertices(){return(0,Wi.pC)(this._stagedVertex)?[...this._committedVertices,this._coordinateHelper.pointToArray(this._stagedVertex)]:this._committedVertices}get hasZ(){return(0,Wi.pC)(this._hasZ)?this._hasZ:"3d"===this.view.type}set hasZ(A){this._hasZ=A,this.notifyChange("hasZ")}canUndo(){return this._editGeometryOperations.canUndo}canRedo(){return this._editGeometryOperations.canRedo}undo(){this.canUndo&&this._editGeometryOperations.undo()}redo(){this.canRedo&&this._editGeometryOperations.redo()}getCoordsFromScreenPoint(A){const w=this.screenToMap(A);return(0,Wi.pC)(w)?w.hasZ?[w.x,w.y,w.z]:[w.x,w.y]:null}getCoordsAndPointFromScreenPoint(A){const w=this.screenToMap(A);return(0,Wi.pC)(w)?w.hasZ?{vertex:[w.x,w.y,w.z],mapPoint:w}:{vertex:[w.x,w.y],mapPoint:w}:null}_pushCursorVertex(A){var w=this;const _=(0,IS.Tx)(A[0],A[1],null,this.view.spatialReference);this._stagedVertexUnsnapped=_,(0,Wi.Wi)(this._snappingManager)?this._stagedVertex=_:(this._stagedVertex=this._snappingManager.update(_,this._snappingContext),this._snappingTask=(0,Fs.vr)(function(){var C=(0,Es.Z)(function*(I){if((0,Wi.pC)(w._snappingManager)){const j=yield w._snappingManager.snap(_,w._snappingContext,I);return j.valid&&(w._stagedVertex=j.apply(),w.notifyChange("vertices")),j}return null});return function(I){return C.apply(this,arguments)}}()))}_popCursorVertex(){this._stagedVertex=null,this._stagedVertexUnsnapped=null,this.notifyChange("vertices")}getGeometryZValue(){return this.defaultZ}screenToMap(A){let w=null;if("3d"===this.view.type)if(this.hasZ){const _=(0,Wi.Pt)(this.elevationInfo,xW);w=this.view.sceneIntersectionHelper.intersectElevationFromScreen((0,Wo.s1)(A.x,A.y),_,this.getGeometryZValue())}else{const _=(0,Wi.Pt)(this.elevationInfo,EW);w=this.view.sceneIntersectionHelper.intersectElevationFromScreen((0,Wo.s1)(A.x,A.y),_,0),(0,Wi.pC)(w)&&(w.z=void 0)}else w=this.view.toMap(A),(0,Wi.pC)(w)&&(w.z=this.hasZ?this.getGeometryZValue():void 0);return w}_isDuplicateOfLastVertex(A){const w=this._editGeometryOperations.data.components[0].getLastVertex();if((0,Wi.pC)(w)&&A[0]===w[0]&&A[1]===w[1])return!0;const{x:_,y:C}=this._coordinateHelper.vectorToDehydratedPoint(A);return!(!(0,Wi.pC)(this._lastVertexUnsnapped)||_!==this._lastVertexUnsnapped.x||C!==this._lastVertexUnsnapped.y)}_vertexAddHandler(A){const w=(0,Wi.pC)(this._stagedVertex)?this._coordinateHelper.pointToArray(this._stagedVertex):this.getCoordsFromScreenPoint(this._cursorScreenPoint);(0,Wi.pC)(w)&&this._addVertex(w,A.native)}_drawCompleteHandler(A){this._completeDrawing(A.native)}};sh.SNAPPING_GRAPHICS_LAYER_ID="DrawAction-snapping-graphics-layer",(0,At._)([(0,zt.Cb)({readOnly:!0})],sh.prototype,"vertices",null),(0,At._)([(0,zt.Cb)({type:Boolean,nonNullable:!0})],sh.prototype,"interactiveUndoDisabled",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],sh.prototype,"history",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],sh.prototype,"redoHistory",void 0),(0,At._)([(0,zt.Cb)()],sh.prototype,"snapToScene",void 0),(0,At._)([(0,zt.Cb)()],sh.prototype,"view",void 0),(0,At._)([(0,zt.Cb)()],sh.prototype,"elevationInfo",void 0),(0,At._)([(0,zt.Cb)({nonNullable:!0})],sh.prototype,"defaultZ",void 0),(0,At._)([(0,zt.Cb)()],sh.prototype,"hasZ",null),sh=$S=(0,At._)([(0,br.j)("esri.views.draw.DrawAction")],sh);const xW={mode:"absolute-height",offset:0},EW={mode:"on-the-ground",offset:0};var aA=sh;class Fp{constructor(w,_,C,I){this.view=w,this.native=_,this.vertexIndex=C,this.vertices=I,this.defaultPrevented=!1,this.type="vertex-add"}preventDefault(){this.defaultPrevented=!0}}class ZS{constructor(w,_,C,I){this.view=w,this.native=_,this.vertexIndex=C,this.vertices=I,this.defaultPrevented=!1,this.type="vertex-remove"}preventDefault(){this.defaultPrevented=!0}}class Nf{constructor(w,_,C,I,j=null){this.view=w,this.native=_,this.vertexIndex=C,this.vertices=I,this.mapPoint=j,this.coordinates=null,this.defaultPrevented=!1,this.type="cursor-update",this.coordinates=1===I.length?I[0]:null}preventDefault(){this.defaultPrevented=!0}}class Uf{constructor(w,_){this.native=w,this.vertices=_,this.coordinates=null,this.defaultPrevented=!1,this.type="draw-complete",this.coordinates=1===_.length?_[0]:null}preventDefault(){this.defaultPrevented=!0}}let CC=class extends aA{constructor(A){super(A),this._popVertexOnPointerMove=!1,this._addVertexOnPointerUp=!1,this._activePointerId=null,this._viewHandles=new Bl.Z,this._undoRedoHandles=new Bl.Z}initialize(){this._addViewHandles(),this._addUndoRedoHandles()}destroy(){this._removeViewHandles(),this._viewHandles.destroy(),this._removeUndoRedoHandles(),this._undoRedoHandles.destroy(),this.emit("destroy")}undo(){super.undo(),this.notifyChange("vertices")}redo(){super.redo(),this.notifyChange("vertices")}complete(){this._completeDrawing()}_addViewHandles(){this._removeViewHandles(),this._viewHandles.add([this.view.on("click",A=>{A.stopPropagation()},es.f.TOOL),this.view.on("pointer-down",A=>{this._shouldHandlePointerEvent(A)&&(this._snappingTask=(0,Wi.IM)(this._snappingTask),this._activePointerId=A.pointerId,this._addVertexOnPointerUp=!0,this._cursorScreenPoint=Yo(A),"touch"===A.pointerType&&this._updateCursor(A.native))},es.f.TOOL),this.view.on("pointer-move",A=>{this._popVertexOnPointerMove&&(this.undo(),this._popVertexOnPointerMove=!1),this._snappingTask=(0,Wi.IM)(this._snappingTask),this._cursorScreenPoint=Yo(A),"touch"!==A.pointerType&&this._updateCursor(A.native)},es.f.TOOL),this.view.on("pointer-drag",A=>{this._shouldHandlePointerEvent(A)&&(this._snappingTask=(0,Wi.IM)(this._snappingTask),this._addVertexOnPointerUp=!1)},es.f.TOOL),this.view.on("pointer-up",A=>{this._shouldHandlePointerEvent(A)&&(this._snappingTask=(0,Wi.IM)(this._snappingTask),this._activePointerId=null,this._addVertexOnPointerUp?this._vertexAddHandler(A):this._updateCursor(A.native,"touch"===A.pointerType))},es.f.TOOL),this.view.on("drag",["Shift"],A=>{A.stopPropagation()},es.f.TOOL),this.view.on("double-click",A=>{A.stopPropagation(),this._drawCompleteHandler(A)},es.f.TOOL),this.view.on("double-click",["Control"],A=>{A.stopPropagation(),this._drawCompleteHandler(A)},es.f.TOOL),this.view.on("key-down",A=>{const{key:w,repeat:_}=A;"f"===w&&!_&&this._cursorScreenPoint?(A.stopPropagation(),this._snappingTask=(0,Wi.IM)(this._snappingTask),this._vertexAddHandler(A)):"Enter"!==w||_?"z"!==w||this.interactiveUndoDisabled||_?"r"!==w||this.interactiveUndoDisabled||_?" "!==w||_||A.stopPropagation():(A.stopPropagation(),this.redo()):(A.stopPropagation(),this.undo()):(A.stopPropagation(),this._drawCompleteHandler(A))},es.f.TOOL),this.view.on("key-up",A=>{" "===A.key&&A.stopPropagation()},es.f.TOOL)])}_addUndoRedoHandles(){this._removeUndoRedoHandles(),this._undoRedoHandles.add([this._editGeometryOperations.on("vertex-remove",A=>{if(this.notifyChange("vertices"),"undo"===A.operation){const w=this._nativeEventHistory.undoStack.pop();this._nativeEventHistory.redoStack.push(w);const _=[...this._committedVertices];(0,Wi.pC)(this._stagedVertex)&&_.push(this._coordinateHelper.pointToArray(this._stagedVertex)),this.emit("undo",new ZS(this.view,w,A.vertices[0].index,_))}}),this._editGeometryOperations.on("vertex-add",A=>{if(this.notifyChange("vertices"),"apply"===A.operation){const C=new Fp(this.view,this._nativeEventHistory.undoStack[this._nativeEventHistory.undoStack.length],this._committedVertices.length-1,this.vertices);this.emit("vertex-add",C),C.defaultPrevented&&(this._popVertexOnPointerMove=!0)}else if("redo"===A.operation){const w=this._nativeEventHistory.redoStack.pop();this._nativeEventHistory.undoStack.push(w);const _=[...this._committedVertices];(0,Wi.pC)(this._stagedVertex)&&_.push(this._coordinateHelper.pointToArray(this._stagedVertex)),this.emit("redo",new Fp(this.view,w,A.vertices[0].index,_))}})])}_removeViewHandles(){this._viewHandles.removeAll()}_removeUndoRedoHandles(){this._undoRedoHandles.removeAll()}_addVertex(A,w){const _=this._coordinateHelper.arrayToVector(A);if(this._isDuplicateOfLastVertex(_))return;this._lastVertexUnsnapped=this._stagedVertexUnsnapped,this._popCursorVertex(),this._editGeometryOperations.appendVertex(_);const C=w||new Event("placeholder");this._nativeEventHistory.undoStack.push(C)}_updateCursor(A,w=!1){if(this._popCursorVertex(),!this._cursorScreenPoint)return;const _=this.getCoordsAndPointFromScreenPoint(this._cursorScreenPoint);if((0,Wi.pC)(_)&&!w){this._pushCursorVertex(_.vertex);const C=()=>new Nf(this.view,A,this._activeComponent.vertices.length,this.vertices,(0,Wi.pC)(this._stagedVertex)?new Ys.Z(this._stagedVertex):null);this.emit("cursor-update",C()),(0,Wi.pC)(this._snappingTask)&&this._snappingTask.promise.then(I=>{I.valid&&this.emit("cursor-update",C())},()=>{})}}_completeDrawing(A){if(this._activePointerId=null,this._popCursorVertex(),this._snappingTask=(0,Wi.IM)(this._snappingTask),(0,Wi.pC)(this._snappingManager)&&this._snappingManager.doneSnapping(),this.vertices.length<1)return;const w=new Uf(A,this.vertices);this.emit("draw-complete",w),w.defaultPrevented||this._removeViewHandles()}_shouldHandlePointerEvent(A){return function(A){return"mouse"!==A.pointerType||0===A.button}(A)&&((0,Wi.Wi)(this._activePointerId)||this._activePointerId===A.pointerId)}};CC=(0,At._)([(0,br.j)("esri.views.draw.MultipointDrawAction")],CC),Object.freeze({__proto__:null,get MultipointDrawAction(){return CC}});var MW=N(55538),JS=N(53639);class SW{constructor({grabbableForEvent:w}){this.events=new Nd.Z,this.interactive=!0,this.selectable=!1,this.cursor=null,this.grabbable=!0,this.grabbableForEvent=w}intersectionDistance(w,_){return 0}attach(){}detach(){}}const G6=["freehand","hybrid","click"],xC="click";function DC(A,w){return A.events.on("drag",function(A,w){let _=null,C=null;return I=>{if("cancel"===I.action)return void((0,Wi.pC)(C)&&(C.execute({action:"cancel"}),_=null,C=null));const j={action:I.action,screenStart:I.start,screenEnd:I.screenPoint};"start"===I.action&&(0,Wi.Wi)(_)&&(_=new sv,C=new sv,w(A,_,C,I.pointerType,j)),(0,Wi.pC)(_)&&_.execute(j),"end"===I.action&&(0,Wi.pC)(_)&&(_=null,C=null)}}(A,w))}N(65401),N(32442);class sv{constructor(){this.execute=()=>{}}next(w,_=new sv){return(0,Wi.pC)(w)&&(this.execute=C=>{const I=w(C);(0,Wi.pC)(I)&&_.execute(I)}),_}}var XS=N(73362),YS=N(77029),RW=N(41291);let cA=class extends no.Z{constructor(){super(...arguments),this.SCHEDULER_LOG_SLOW_TASKS=!1,this.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1}};(0,At._)([(0,zt.Cb)()],cA.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0),(0,At._)([(0,zt.Cb)()],cA.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0),cA=(0,At._)([(0,br.j)("esri.views.support.DebugFlags")],cA);const FW=new cA,NW=sa.Z.getLogger("esri.views.support.Scheduler");var Ws;!function(A){A.RESOURCE_CONTROLLER="schedule",A.SLIDE="slide",A.STREAM_DATA_LOADER="stream loader",A.ELEVATION_QUERY="elevation query",A.TERRAIN_SURFACE="terrain",A.SURFACE_GEOMETRY_UPDATES="surface geometry updates",A.GRAPHICS_CORE="Graphics3D",A.I3S_CONTROLLER="I3S",A.POINT_CLOUD_LAYER="point cloud",A.FEATURE_TILE_FETCHER="feature fetcher",A.OVERLAY="overlay",A.STAGE="stage",A.GRAPHICS_DECONFLICTOR="graphics deconflictor",A.FILTER_VISIBILITY="Graphics3D filter visibility",A.SCALE_VISIBILITY="Graphics3D scale visibility",A.FRUSTUM_VISIBILITY="Graphics3D frustum visibility",A.POINT_OF_INTEREST_FREQUENT="POI frequent",A.POINT_OF_INTEREST_INFREQUENT="POI infrequent",A.LABELER="labeler",A.FEATURE_QUERY_ENGINE="feature query",A.FEATURE_TILE_TREE="feature tile tree",A.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree",A.ELEVATION_ALIGNMENT="elevation alignment",A.TEXT_TEXTURE_ATLAS="text texture atlas",A.TEXTURE_UNLOAD="texture unload",A.LINE_OF_SIGHT_TOOL="line of sight tool",A.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool",A.ELEVATION_PROFILE="elevation profile",A.SNAPPING="snapping",A.SHADOW_ACCUMULATOR="shadow accumulator",A[A.TEST_PRIO=1]="TEST_PRIO"}(Ws||(Ws={}));const X6=new Map([[Ws.RESOURCE_CONTROLLER,0],[Ws.SLIDE,0],[Ws.STREAM_DATA_LOADER,0],[Ws.ELEVATION_QUERY,0],[Ws.TERRAIN_SURFACE,1],[Ws.SURFACE_GEOMETRY_UPDATES,1],[Ws.GRAPHICS_CORE,2],[Ws.I3S_CONTROLLER,2],[Ws.POINT_CLOUD_LAYER,2],[Ws.FEATURE_TILE_FETCHER,2],[Ws.OVERLAY,4],[Ws.STAGE,4],[Ws.GRAPHICS_DECONFLICTOR,4],[Ws.FILTER_VISIBILITY,4],[Ws.SCALE_VISIBILITY,4],[Ws.FRUSTUM_VISIBILITY,4],[Ws.POINT_OF_INTEREST_FREQUENT,6],[Ws.POINT_OF_INTEREST_INFREQUENT,30],[Ws.LABELER,8],[Ws.FEATURE_QUERY_ENGINE,8],[Ws.FEATURE_TILE_TREE,16],[Ws.FEATURE_TILE_TREE_ACTIVE,0],[Ws.ELEVATION_ALIGNMENT,12],[Ws.TEXT_TEXTURE_ATLAS,12],[Ws.TEXTURE_UNLOAD,12],[Ws.LINE_OF_SIGHT_TOOL,16],[Ws.LINE_OF_SIGHT_TOOL_INTERACTIVE,0],[Ws.SNAPPING,0],[Ws.SHADOW_ACCUMULATOR,30]]);function Y6(A){return X6.has(A)?X6.get(A):"number"==typeof A?A:1}const q6=(0,ku.HA)(6.5),ek=(0,ku.HA)(1),UW=(0,ku.HA)(30),tk=(0,ku.HA)(1e3/30),ik=(0,ku.HA)(100);var MC,qg;(function(A){let w=class extends no.Z{constructor(I){super(I),this.updating=!0,this.performanceInfo={total:new XS.Z("total"),tasks:new Map},this._frameTaskTimes=new Map,this._budget=null,this._state=1,this._tasks=new YS.Z,this._runQueue=new YS.Z,this._load=0,this._idleStateCallbacks=new YS.Z,this._idleUpdatesStartFired=!1,this._maxReschedule=qS,this._forceTask=!1,this._debug=!1,this._debugHandle=(0,Ar.S1)(FW,"SCHEDULER_LOG_SLOW_TASKS",q=>this._debug=q),this._budget=new C(I.nowFunc);for(const q of Object.keys(Ws))this.performanceInfo.tasks.set(Ws[q],new XS.Z(Ws[q]));let j;const K=this;this._test={get state(){return(0,Wi.Wi)(j)?K._state:j},set state(q){j=q},FRAME_SAFETY_BUDGET:q6,INTERACTING_BUDGET:tk,IDLE_BUDGET:ik,get budget(){return K._budget.budget},usedBudget:0,updateTask:q=>this._updateTask(q),getState:q=>this._getState(q),getRuntime:q=>this._getRuntime(q),resetRuntimes:()=>this._resetRuntimes(),getRunning:()=>this._getRunning()}}destroy(){this._debugHandle&&this._debugHandle.remove()}registerTask(I,j){const K=Y6(I),q=new _(this,I,j,K);return this._tasks.push(q),this.performanceInfo.tasks.has(I)||this.performanceInfo.tasks.set(I,new XS.Z(I)),q}registerIdleStateCallbacks(I,j){const K={idleBegin:I,idleEnd:j};this._idleStateCallbacks.push(K),2===this.state&&this._idleUpdatesStartFired&&K.idleBegin();const q=this;return{remove:()=>this._removeIdleStateCallbacks(K),set idleBegin(ue){q._idleUpdatesStartFired&&(K.idleEnd(),2===q._state&&ue()),K.idleBegin=ue},set idleEnd(ue){K.idleEnd=ue}}}get now(){return this.nowFunc()}get load(){return this._load}set state(I){this._state!==I&&(this._state=I,2!==this.state&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll(j=>j.idleEnd())))}get state(){return(0,Wi.Wi)(this._test.state)?this._state:this._test.state}updateBudget(I){this._test.usedBudget=0;let j=q6,K=I.frameDuration,q=ek;switch(this.state){case 2:j=(0,ku.HA)(0),K=(0,ku.HA)(Math.max(ik,I.frameDuration)),q=UW;break;case 1:K=(0,ku.HA)(Math.max(tk,I.frameDuration))}return K=(0,ku.HA)(K-I.elapsedFrameTime-j),2!==this.state&&K<ek&&!this._forceTask?(this._forceTask=!0,!1):(K=(0,ku.HA)(Math.max(K,q)),this._budget.reset(K,this.state),this._maxReschedule=qS,this._updateLoad(),this._schedule())}frame(){switch(this._forceTask=!1,this.state){case 2:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll(I=>I.idleBegin())),this._runIdle();break;case 1:this._runInteracting();break;default:this._runAnimating()}this._test.usedBudget=this._budget.elapsed}stopFrame(){this._budget.reset((0,ku.HA)(0),this._state),this._budget.madeProgress()}_removeIdleStateCallbacks(I){this._idleUpdatesStartFired&&I.idleEnd(),this._idleStateCallbacks.removeUnordered(I)}removeTask(I){this._tasks.removeUnordered(I),this._runQueue.removeUnordered(I)}_updateTask(I){this._tasks.forAll(j=>{j.name===I&&j.setPriority(I)})}_getState(I){if(this._runQueue.some(K=>K.name===I))return qg.SCHEDULED;let j=qg.IDLE;return this._tasks.forAll(K=>{K.name===I&&K.needsUpdate&&(K.schedulePriority<=1?j=qg.READY:j!==qg.READY&&(j=qg.WAITING))}),j}_getRuntime(I){let j=0;return this._tasks.forAll(K=>{K.name===I&&(j+=K.runtime)}),j}_resetRuntimes(){this._tasks.forAll(I=>I.runtime=0)}_getRunning(){const I=new Map;if(this._tasks.forAll(K=>{K.needsUpdate&&I.set(K.name,(I.get(K.name)||0)+1)}),0===I.size)return null;let j="";return I.forEach((K,q)=>{j+=K>1?` ${K}x ${q}`:` ${q}`}),j}_runIdle(){this._run()}_runInteracting(){this._run()}_runAnimating(){this._run()}_updateLoad(){const I=this._tasks.reduce((j,K)=>K.needsUpdate?++j:j,0);this._load=.9*this._load+I*(1-.9)}_schedule(){if(this._maxReschedule<=0)return!1;for(this._runQueue.filterInPlace(I=>!!I.needsUpdate||(I.schedulePriority=I.basePriority,!1)),this._tasks.forAll(I=>{0===I.basePriority&&I.needsUpdate&&!this._runQueue.some(j=>j===I)&&this._runQueue.unshift(I)});0===this._runQueue.length;){let I=!1,j=0;if(this._tasks.forAll(K=>{K.needsUpdate&&0!==K.schedulePriority&&0!==K.basePriority&&(I=!0,j=Math.max(j,K.basePriority),1===K.schedulePriority?(K.schedulePriority=0,this._runQueue.push(K)):--K.schedulePriority)}),!I)return this.updating=!1,!1;this._maxReschedule===qS&&(this._maxReschedule=j),--this._maxReschedule}return this.updating=!0,!0}_run(){const I=this._budget.now();this._startFrameTaskTimes();do{for(;this._runQueue.length>0;){const j=this._budget.now(),K=this._runQueue.pop();this._budget.resetProgress();try{K.task.runTask(this._budget)}catch(ue){NW.error(`Exception in task "${K.name}"`,ue)}K.schedulePriority=K.basePriority;const q=this._budget.now()-j;if(K.runtime+=q,this._frameTaskTimes.set(K.priority,this._frameTaskTimes.get(K.priority)+q),this._debug&&this._budget.elapsed>2*this._budget.budget&&console.log("Task",K.name,"used",this._budget.elapsed,"of max",this._budget.budget,"ms"),this._budget.remaining<=0)return void this._recordFrameTaskTimes(this._budget.now()-I)}}while(this._schedule());this._recordFrameTaskTimes(this._budget.now()-I)}_startFrameTaskTimes(){for(const I of Object.keys(Ws))this._frameTaskTimes.set(Ws[I],0)}_recordFrameTaskTimes(I){this._frameTaskTimes.forEach((j,K)=>this.performanceInfo.tasks.get(K).record(j)),this.performanceInfo.total.record(I)}get test(){return this._test}};(0,At._)([(0,zt.Cb)()],w.prototype,"updating",void 0),(0,At._)([(0,zt.Cb)()],w.prototype,"nowFunc",void 0),w=(0,At._)([(0,br.j)("esri.views.support.Scheduler")],w),A.Scheduler=w;let _=class extends no.Z{constructor(I,j,K,q){super({}),this._scheduler=I,this.name=j,this._basePriority=q,this.runtime=0,this._queue=new RW.Z,this.updating=!1,this.schedulePriority=this._basePriority,this.task=(0,Wi.pC)(K)?K:{running:!1,runTask:ue=>this.processQueue(ue)}}normalizeCtorArgs(){return{}}remove(){this.processQueue(jW),this._scheduler.removeTask(this),this.schedule=SC.schedule,this.reschedule=SC.reschedule}get basePriority(){return this._basePriority}setPriority(I){this.name=I;const j=Y6(I);0!==this._basePriority&&0===this.schedulePriority||(this.schedulePriority=j),this._basePriority=j}get priority(){return this.name}set priority(I){this.setPriority(I)}get needsUpdate(){return this.updating||this.task.running}schedule(I,j,K){return this.updating=!0,this._queue.push(I,j,K)}reschedule(I,j,K){return this.updating=!0,this._queue.unshift(I,j,K)}processQueue(I){for(;!I.done&&this._queue.process();)I.madeProgress();this.updating=this._queue.length>0}};(0,At._)([(0,zt.Cb)()],_.prototype,"updating",void 0),_=(0,At._)([(0,br.j)("esri.views.support.SchedulerTask")],_);class C{constructor(j){this.now=j,this._begin=0,this._budget=0,this._state=2,this._didWork=!1,this._enabled=!0}run(j){return!this.done&&(!0===j()&&(this._didWork=!0),!0)}get done(){return this._didWork&&this.elapsed>=this._budget&&this._enabled}get budget(){return this._budget}madeProgress(){this._didWork=!0}get state(){return this._state}get enabled(){return this._enabled}set enabled(j){this._enabled=j}reset(j,K){this._begin=this.now(),this._budget=j,this._state=K,this._didWork=!1}get remaining(){return Math.max(this._budget-this.elapsed,0)}get elapsed(){return this.now()-this._begin}resetProgress(){this._didWork=!1}get hasProgressed(){return this._didWork}}A.Budget=C})(MC||(MC={})),function(A){A.SCHEDULED="s",A.READY="r",A.WAITING="w",A.IDLE="i"}(qg||(qg={}));const jW=(()=>{const A=new MC.Budget(()=>performance.now());return A.enabled=!1,A})(),SC=new class{remove(){}processQueue(){}schedule(w,_,C){try{if((0,Fs.Hc)(_)){const I=(0,Fs.zE)();return C?Promise.resolve(C(I)):Promise.reject(I)}return(0,Fs.gx)(w())}catch(I){return Promise.reject(I)}}reschedule(w,_,C){return this.schedule(w,_,C)}},qS=Number.MAX_SAFE_INTEGER;class VW{constructor(){this.next=new sv}createSnapDragEventPipelineStep({predicate:w=(()=>!0),cancel:_,snappingManager:C,snappingContext:I,updatingHandles:j}){var K=this;if((0,Wi.Wi)(C))return Je=>Je;let q=null,ue=null;const Re=()=>{q=(0,Wi.IM)(q),C.doneSnapping(),(0,Wi.pC)(ue)&&ue.frameTask.remove(),ue=null};return _.next(Je=>(Re(),Je)),this.next=new sv,Je=>{if(!w(Je))return Je;if(q=(0,Wi.IM)(q),"start"===Je.action){const wt="3d"===C.view.type?C.view.resourceController.scheduler.registerTask(Ws.SNAPPING):SC;ue={context:new wC({editGeometryOperations:I.editGeometryOperations,elevationInfo:I.elevationInfo,pointer:I.pointer,vertexHandle:(0,Wi.pC)(Je.info)?Je.info.handle:null,excludeFeature:I.excludeFeature,visualizer:I.visualizer}),originalPos:(0,Wi.pC)(Je.snapOrigin)?I.coordinateHelper.vectorToDehydratedPoint(Je.snapOrigin):Je.mapStart,frameTask:wt}}if((0,Wi.pC)(ue)){const wt=ue.context.coordinateHelper.vectorToDehydratedPoint(ue.context.coordinateHelper.arrayToVector([ue.originalPos.x,ue.originalPos.y,ue.originalPos.z]));wt.x+=Je.mapEnd.x-Je.mapStart.x,wt.y+=Je.mapEnd.y-Je.mapStart.y;const Qt=Je.mapStart.x-ue.originalPos.x,ri=Je.mapStart.y-ue.originalPos.y,Ci=fr(ji({},Je),{action:"udpate"}),Gi=ue.context,fn=C.update(wt,ue.context);if(Je.mapEnd.x=fn.x+Qt,Je.mapEnd.y=fn.y+ri,"end"!==Je.action){const Mn=ue.frameTask;q=(0,Fs.vr)(function(){var gn=(0,Es.Z)(function*(Zn){const qn=yield Mn.schedule(()=>C.snap(wt,Gi,Zn),Zn);if(qn.valid){const mr=yield Mn.schedule(()=>qn.apply(),Zn);(0,JS.k)(mr,fn)||(Ci.mapEnd.x=mr.x+Qt,Ci.mapEnd.y=mr.y+ri,K.next.execute(Ci))}});return function(Zn){return gn.apply(this,arguments)}}()),j.addPromise(q.promise)}}return"end"===Je.action&&Re(),Je}}}let yc=class extends(Nd.Z.EventedMixin(tm.r)){constructor(A){super(A),this._createOperationCompleted=!1,this._pointerDownStates=new Set,this._snappingPipeline=new VW,this._snappingTask=null,this._stagedVertex=null,this.snapToSceneEnabled=null,(0,Wi.Wi)(A.elevationInfo)&&(this.elevationInfo={mode:A.hasZ?"absolute-height":"on-the-ground",offset:0})}initialize(){var A,w;this.coordinateHelper=jS(this.hasZ,this.hasM,this.view.spatialReference);const _="3d"===this.view.type?null==(A=this.view)||null==(w=A.resourceController)?void 0:w.scheduler:null;this._frameTask=_?_.registerTask(Ws.SNAPPING):SC;const C="viewingMode"in this.view.state?this.view.state.viewingMode:2;this._editGeometryOperations=new oA(new iv("segment"===this.geometryType||"multipoint"===this.geometryType?"polyline":this.geometryType,this.coordinateHelper,C)),this._activeComponent=new tv(this.spatialReference,C),this._editGeometryOperations.data.components.push(this._activeComponent),this.handles.add(this._editGeometryOperations.on(["vertex-add","vertex-update","vertex-remove"],j=>{const K=j.vertices.map(ue=>({componentIndex:0,vertexIndex:ue.index,coordinates:this.coordinateHelper.vectorToArray(ue.pos)})),q=K.map(ue=>ue.coordinates);switch(j.type){case"vertex-add":this.emit(j.type,fr(ji({},j),{added:q,vertices:K}));break;case"vertex-update":this.emit(j.type,fr(ji({},j),{updated:q,vertices:K}));break;case"vertex-remove":this.emit(j.type,fr(ji({},j),{removed:q,vertices:K}))}})),this._manipulator=new SW({grabbableForEvent:j=>"click"!==this.drawingMode||"touch"===j.pointerType&&this._snappingEnabled&&1===this._pointerDownStates.size}),this.manipulators.add(this._manipulator),this._manipulator.grabbable="point"!==this.geometryType,this.handles.add([this._createManipulatorDragPipeline(this._manipulator),this._manipulator.events.on("immediate-click",j=>this._onImmediateClick(j)),this._manipulator.events.on("immediate-double-click",j=>this._onImmediateDoubleClick(j))])}destroy(){this._editGeometryOperations=(0,Wi.SC)(this._editGeometryOperations),this._frameTask=(0,Wi.hw)(this._frameTask)}get _snappingEnabled(){return(0,Wi.pC)(this.snappingManager)&&this.snappingManager.options.effectiveEnabled}get canRedo(){return this._editGeometryOperations.canRedo}get canUndo(){return this._editGeometryOperations.canUndo}get committedVertices(){return this._activeComponent.vertices.map(A=>this.coordinateHelper.vectorToArray(A.pos))}set drawingMode(A){this._set("drawingMode",null!=A?A:xC)}get hasStagedVertex(){return(0,Wi.pC)(this._stagedVertex)}get interactive(){return this._manipulator.interactive}set interactive(A){this._manipulator.interactive=A}get isCompleted(){return this._createOperationCompleted}get numCommittedVertices(){return this._activeComponent.vertices.length}get numVertices(){return(0,Wi.pC)(this._stagedVertex)?this._activeComponent.vertices.length+1:this._activeComponent.vertices.length}get spatialReference(){return this.view.spatialReference}get stagedVertex(){return this._stagedVertex}set stagedVertex(A){if((0,Wi.Wi)(A))this.discardStagedVertex();else if(!(0,Wi.pC)(this._stagedVertex)||!(0,JS.k)(this._stagedVertex,A)){if((0,Wi.Wi)(this._stagedVertex))this._stagedVertex=(0,V3.d9)(A);else{if((0,JS.k)(this._stagedVertex,A))return;this._stagedVertex.x=A.x,this._stagedVertex.y=A.y,this._stagedVertex.z=A.z,this._stagedVertex.m=A.m,this._stagedVertex.hasZ=A.hasZ,this._stagedVertex.hasM=A.hasM,this._stagedVertex.spatialReference=A.spatialReference}this.emit("cursor-update",{updated:null,vertices:[{componentIndex:0,vertexIndex:this._activeComponent.vertices.length,coordinates:this.coordinateHelper.pointToArray(A)}],operation:"apply",type:"vertex-update"})}}get updating(){return this.updatingHandles.updating}get vertices(){const A=this.committedVertices;return(0,Wi.pC)(this._stagedVertex)&&A.push(this.coordinateHelper.pointToArray(this._stagedVertex)),A}cancel(){this.complete({aborted:!0})}commitStagedVertex(){if(this._snappingTask=(0,Wi.IM)(this._snappingTask),(0,Wi.pC)(this._stagedVertex)){const A=this._stagedVertex;this._stagedVertex=null,this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(A))}}complete(A){const w=A&&A.aborted||!1;(0,Wi.IM)(this._snappingTask),(0,Wi.pC)(this.snappingManager)&&this.snappingManager.doneSnapping(),"segment"===this.geometryType||"point"===this.geometryType?this.commitStagedVertex():this.discardStagedVertex(),this._createOperationCompleted=!("multipoint"===this.geometryType&&0===this.numVertices||"polyline"===this.geometryType&&this.numVertices<2||"polygon"===this.geometryType&&this.numVertices<3),(this.isCompleted||w)&&this.emit("complete",{vertices:this.vertices.map((C,I)=>({componentIndex:0,vertexIndex:I,coordinates:C})),aborted:w,type:"complete"})}discardStagedVertex(){this._stagedVertex=null}onInputEvent(A){switch(A.type){case"pointer-down":this._pointerDownStates.add(A.pointerId);break;case"pointer-up":this._pointerDownStates.delete(A.pointerId)}switch(A.type){case"pointer-move":return this._onPointerMove(A);case"hold":return this._onHold(A)}}redo(){this._editGeometryOperations.redo()}undo(){(0,Wi.pC)(this.snappingManager)&&this.snappingManager.doneSnapping(),this._editGeometryOperations.undo()}_closeOnClickVertexIndex(A){const w=this._activeComponent;if("polygon"===this.geometryType&&w.vertices.length>2){if(this._vertexWithinPointerDistance(w.vertices[0].pos,A))return 0;if(this._vertexWithinPointerDistance(w.vertices[w.vertices.length-1].pos,A))return w.vertices.length-1}return null}_createManipulatorDragPipeline(A){switch(this.drawingMode){case"click":return this._createManipulatorDragPipelineClick(A);case"freehand":return this._createManipulatorDragPipelineFreehand(A);case"hybrid":return this._createManipulatorDragPipelineHybrid(A)}}_createManipulatorDragPipelineClick(A){return DC(A,(w,_,C,I)=>{const j="touch"===I&&this._snappingEnabled;!this.isCompleted&&j&&(_.next(this._screenToMapDragEventStep()).next(K=>("start"===K.action&&(this.stagedVertex=K.mapStart,("segment"===this.geometryType||j&&0===this.numVertices)&&this.commitStagedVertex()),K)).next(this._snappingPipeline.createSnapDragEventPipelineStep({predicate:()=>j,cancel:C,snappingManager:this.snappingManager,snappingContext:new wC({editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,pointer:I,visualizer:this.snappingVisualizer}),updatingHandles:this.updatingHandles}),this._snappingPipeline.next).next(K=>(j&&(this.stagedVertex=K.mapEnd,"end"===K.action&&this.commitStagedVertex()),K)).next(K=>("end"===K.action&&("segment"!==this.geometryType&&"point"!==this.geometryType||this.complete()),K)),C.next(()=>{j&&(0,Wi.pC)(this.snappingManager)&&this.snappingManager.doneSnapping()}))})}_createManipulatorDragPipelineFreehand(A){return DC(A,(w,_)=>{this.isCompleted||_.next(this._screenToMapDragEventStep()).next(C=>("start"===C.action&&((0,Wi.Wi)(this.stagedVertex)&&(this.stagedVertex=C.mapStart),"segment"===this.geometryType&&this.commitStagedVertex()),C)).next(C=>{switch(C.action){case"start":case"update":this.stagedVertex=C.mapEnd,"polygon"!==this.geometryType&&"polyline"!==this.geometryType||this.commitStagedVertex();break;case"end":this.complete()}return C})})}_createManipulatorDragPipelineHybrid(A){return DC(A,(w,_)=>{this.isCompleted||_.next(this._screenToMapDragEventStep()).next(C=>("start"===C.action&&((0,Wi.Wi)(this.stagedVertex)&&(this.stagedVertex=C.mapStart),this.commitStagedVertex()),C)).next(C=>{switch(C.action){case"start":case"update":this.stagedVertex=C.mapEnd,"polygon"!==this.geometryType&&"polyline"!==this.geometryType||this.commitStagedVertex();break;case"end":"segment"!==this.geometryType&&"point"!==this.geometryType||this.complete()}return C})})}_getDrawSurface(){if((0,Wi.Wi)(this.elevationDrawSurface))return this.drawSurface;if(!this.coordinateHelper.hasZ)return this.elevationDrawSurface.defaultZ=null,this.elevationDrawSurface;let A=this.defaultZ,w=!1;return(0,Wi.pC)(this.elevationInfo)&&"absolute-height"===this.elevationInfo.mode&&(w=!0),(0,Wi.pC)(this.snapToSceneEnabled)&&(w=this.snapToSceneEnabled),(0,Wi.pC)(this.elevationInfo)&&"on-the-ground"===this.elevationInfo.mode&&(w=!1),("segment"===this.geometryType||"polygon"===this.geometryType)&&this._activeComponent.vertices.length>0&&(A=this.coordinateHelper.getZ(this._activeComponent.vertices[0].pos),w=!1),w?this.drawSurface:(this.elevationDrawSurface.defaultZ=A,this.elevationDrawSurface)}_mapToScreen(A){return this._getDrawSurface().mapToScreen(A)}_onHold(A){(0,Wi.IM)(this._snappingTask),"click"===this.drawingMode&&"touch"===A.pointerType&&this._snappingEnabled&&(this.stagedVertex=A.mapPoint),A.stopPropagation()}_onImmediateClick(A){if(this._manipulator.dragging)return;const w=this._activeComponent,_=this._closeOnClickVertexIndex(A.screenPoint);if((0,Wi.pC)(_))return A.stopPropagation(),this.discardStagedVertex(),void this.complete();const C=this._screenToMap(A.screenPoint);if((0,Wi.pC)(C))switch(this.drawingMode){case"freehand":"point"===this.geometryType&&(this.hasStagedVertex?this.commitStagedVertex():this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(C)),this.complete());break;case"click":case"hybrid":this._snappingTask=(0,Wi.IM)(this._snappingTask),this.hasStagedVertex?this.commitStagedVertex():this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(C)),("point"===this.geometryType||"segment"===this.geometryType&&2===w.vertices.length||"segment"===this.geometryType&&"hybrid"===this.drawingMode&&1===w.vertices.length)&&this.complete()}A.stopPropagation()}_onImmediateDoubleClick(A){this._manipulator.dragging||"point"===this.geometryType||(this.complete(),A.stopPropagation())}_onPointerMove(A){var w=this;if((0,Wi.IM)(this._snappingTask),this._manipulator.dragging||this._pointerDownStates.has(A.pointerId)||this._manipulator.grabbing||!this._manipulator.interactive)return;const _=(0,Wo.vW)(A.x,A.y),C=this._closeOnClickVertexIndex(_);if((0,Wi.pC)(C)){this.discardStagedVertex();const I={componentIndex:0,vertexIndex:C,coordinates:this.coordinateHelper.vectorToArray(this._activeComponent.vertices[C].pos)};this.emit("cursor-update",{updated:null,vertices:[I],operation:"apply",type:"vertex-update"})}else{const I=this._screenToMap(_);if(this._manipulator.cursor=(0,Wi.pC)(I)?"crosshair":null,(0,Wi.pC)(I))if((0,Wi.pC)(this.snappingManager)){const j=this.snappingManager,K=new wC({editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,pointer:A.pointerType,visualizer:this.snappingVisualizer});this.stagedVertex=j.update(I,K),this._snappingTask=(0,Fs.vr)(function(){var q=(0,Es.Z)(function*(ue){const Re=yield w._frameTask.schedule(()=>j.snap(I,K,ue),ue);Re.valid&&(yield w._frameTask.schedule(()=>{w.stagedVertex=Re.apply()},ue))});return function(ue){return q.apply(this,arguments)}}()),this.updatingHandles.addPromise(this._snappingTask.promise)}else this.stagedVertex=I}A.stopPropagation()}_screenToMap(A){return this._getDrawSurface().screenToMap(A)}_screenToMapDragEventStep(){let A=null;return w=>{if("start"===w.action&&(A=this._screenToMap(w.screenStart)),(0,Wi.Wi)(A))return null;const _=this._screenToMap(w.screenEnd);return(0,Wi.pC)(_)?fr(ji({},w),{mapStart:A,mapEnd:_}):null}}_vertexWithinPointerDistance(A,w){const C=this._mapToScreen(this.coordinateHelper.vectorToDehydratedPoint(A));return!!(0,Wi.pC)(C)&&function(A,w,_){const C=A.x-w.x,I=A.y-w.y;return C*C+I*I<=25}(C,w)}};(0,At._)([(0,zt.Cb)()],yc.prototype,"defaultZ",void 0),(0,At._)([(0,zt.Cb)({value:xC})],yc.prototype,"drawingMode",null),(0,At._)([(0,zt.Cb)({constructOnly:!0})],yc.prototype,"elevationDrawSurface",void 0),(0,At._)([(0,zt.Cb)({constructOnly:!0})],yc.prototype,"elevationInfo",void 0),(0,At._)([(0,zt.Cb)({constructOnly:!0})],yc.prototype,"geometryType",void 0),(0,At._)([(0,zt.Cb)({constructOnly:!0})],yc.prototype,"hasM",void 0),(0,At._)([(0,zt.Cb)({constructOnly:!0})],yc.prototype,"hasZ",void 0),(0,At._)([(0,zt.Cb)({constructOnly:!0})],yc.prototype,"manipulators",void 0),(0,At._)([(0,zt.Cb)({constructOnly:!0})],yc.prototype,"drawSurface",void 0),(0,At._)([(0,zt.Cb)({constructOnly:!0})],yc.prototype,"snappingManager",void 0),(0,At._)([(0,zt.Cb)({constructOnly:!0})],yc.prototype,"snappingVisualizer",void 0),(0,At._)([(0,zt.Cb)()],yc.prototype,"snapToSceneEnabled",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],yc.prototype,"updating",null),(0,At._)([(0,zt.Cb)({constructOnly:!0})],yc.prototype,"view",void 0),yc=(0,At._)([(0,br.j)("esri.views.draw.DrawOperation")],yc);class WW{constructor(w,_,C,I=null){this.elevationInfo=w,this.defaultZ=_,this.view=C,this.excludeGraphics=I}screenToMap(w){if((0,Wi.pC)(this.defaultZ))return this.view.sceneIntersectionHelper.intersectElevationFromScreen((0,Wo.s1)(w.x,w.y),this.elevationInfo,this.defaultZ,this.excludeGraphics);const _=this.view.sceneIntersectionHelper.intersectElevationFromScreen((0,Wo.s1)(w.x,w.y),this.elevationInfo,0,this.excludeGraphics);return(0,Wi.pC)(_)&&(_.z=void 0),_}mapToScreen(w){const _=(0,IS.Tx)(w.x,w.y,B6(this.view,w,this.elevationInfo),w.spatialReference);return this.view.toScreen(_)}}class KW{constructor(w,_,C=[]){this.view=w,this.elevationInfo=_,this.exclude=C}screenToMap(w){const _=this.view.toMap(w,{exclude:this.exclude});return(0,Wi.pC)(_)&&(_.z=function(A,w,_){if((0,Wi.Wi)(_)||!_.mode)return;const C=A.hasZ?A.z:0,I=(0,Wi.pC)(_.offset)?_.offset:0;switch(_.mode){case"absolute-height":return C-I;case"on-the-ground":return 0;case"relative-to-ground":return C-((0,Wi.Pt)(w.elevationProvider.getElevation(A.x,A.y,A.z,A.spatialReference,"ground"),0)+I);case"relative-to-scene":return C-((0,Wi.Pt)(w.elevationProvider.getElevation(A.x,A.y,A.z,A.spatialReference,"scene"),0)+I)}}(_,this.view,this.elevationInfo)),_}mapToScreen(w){let _=w;return(0,Wi.pC)(this.elevationInfo)&&(_=(0,IS.Tx)(w.x,w.y,B6(this.view,w,this.elevationInfo),w.spatialReference)),this.view.toScreen(_)}}class QW{constructor(){this._isToolEditable=!0,this._manipulators=new tl.Z,this._nextManipulatorId=0,this._resourceContexts={manipulator3D:{}},this._attached=!1}set isToolEditable(w){this._isToolEditable=w}get length(){return this._manipulators.length}add(w,_=0){return this.addMany([w],_)[0]}addMany(w,_=0){return w.map(C=>{const I=this._nextManipulatorId++,j={id:I,manipulator:C,visibilityPredicate:_,attached:!1};return this._manipulators.add(j),this._attached&&this._updateManipulatorAttachment(j),I})}remove(w){if("number"==typeof w){const C=w;for(let I=0;I<this._manipulators.length;I++)if(this._manipulators.getItemAt(I).id===C){const j=this._manipulators.splice(I,1)[0];return this._detachManipulator(j),j.id}return null}const _=w;for(let C=0;C<this._manipulators.length;C++)if(this._manipulators.getItemAt(C).manipulator===_){const I=this._manipulators.splice(C,1)[0];return this._detachManipulator(I),I.id}return null}removeAll(){this._manipulators.forEach(w=>{this._detachManipulator(w)}),this._manipulators.removeAll()}attach(){this._manipulators.forEach(w=>{this._updateManipulatorAttachment(w)}),this._attached=!0}detach(){this._manipulators.forEach(w=>{this._detachManipulator(w)}),this._attached=!1}destroy(){this._manipulators.forEach(({manipulator:w})=>{w.destroy&&w.destroy()}),this._manipulators.destroy(),this._resourceContexts=null}on(w,_){return this._manipulators.on(w,C=>{_(C)})}forEach(w){for(const _ of this._manipulators.items)w(_)}some(w){return this._manipulators.items.some(w)}toArray(){const w=[];return this.forEach(_=>w.push(_.manipulator)),w}intersect(w,_){let C=null,I=Number.MAX_VALUE;return this._manipulators.forEach(({id:j,manipulator:K,attached:q})=>{if(!q||!K.interactive)return;const ue=K.intersectionDistance(w,_);(0,Wi.pC)(ue)&&ue<I&&(I=ue,C={id:j,manipulator:K})}),C}findById(w){if((0,Wi.Wi)(w))return null;for(const _ of this._manipulators.items)if(w===_.id)return _.manipulator;return null}_updateManipulatorAttachment(w){this._isManipulatorItemVisible(w)?this._attachManipulator(w):this._detachManipulator(w)}_attachManipulator(w){w.attached||(w.manipulator.attach&&w.manipulator.attach(this._resourceContexts),w.attached=!0)}_detachManipulator(w){if(!w.attached)return;const _=w.manipulator;_.grabbing=!1,_.dragging=!1,_.hovering=!1,_.selected=!1,_.detach&&_.detach(this._resourceContexts),w.attached=!1}_isManipulatorItemVisible(w){return 2===w.visibilityPredicate||(this._isToolEditable?0===w.visibilityPredicate:1===w.visibilityPredicate)}}const e1=sa.Z.getLogger("esri.views.interactive.InteractiveToolBase");let ru=class extends no.Z{constructor(A){super(A),this.toolState="pending",this.completed=!1,this.manipulators=new QW,this.updating=!1,this.automaticManipulatorSelection=!0,this._editableFlags=new Map([[1,!0],[0,!0]]),this._creationStartedResolver=(0,Fs.hh)(),this._creationFinishedResolver=(0,Fs.hh)()}get active(){return null!=this.view&&this.view.activeTool===this}set visible(A){this._set("visible",A),A||this.active&&(this.view.activeTool=null),this.attached&&(A?this._show():this._hide())}get editable(){return this.getEditableFlag(0)}set editable(A){this.setEditableFlag(0,A)}get attached(){return this._get("attached")}get created(){return"created"===this.toolState}get cursor(){return null}attach(){this.attached?e1.warn("Tool is already attached. Ignoring attach request."):(this.manipulators.attach(),this.onAttach(),this.visible&&this.onShow(),this._set("attached",!0))}detach(){this.attached?(this.visible&&this.onHide(),this.onDetach(),this.manipulators.detach(),this._set("attached",!1)):e1.error("Tool isn't currently attached. Ignoring detach request.")}activate(){(0,Wi.Wi)(this.view)?e1.error("Can't activate tool if view is not defined."):this.active?e1.warn("Tool is already active, ignoring activation request."):(function(A){return A&&"focus"in A}(this.view)&&this.view.focus(),this.onActivate())}deactivate(){this.active?this.onDeactivate():e1.warn("Tool is not active, ignoring deactivation request.")}handleInputEvent(A){this.attached?this.onInputEvent(A):e1.warn("handleInputEvent() called on detached tool")}handleInputEventAfter(A){this.attached?this.onInputEventAfter(A):e1.warn("handleInputEventAfter() called on detached tool")}destroy(){this.manipulators.destroy(),this._set("view",null),this._set("completed",!1)}setEditableFlag(A,w){this._editableFlags.set(A,w),this.manipulators.isToolEditable=this.internallyEditable,this._updateManipulatorAttachment(),0===A&&this.notifyChange("editable"),this.onEditableChange()}getEditableFlag(A){return this._editableFlags.get(A)}whenCreationStarted(){return this._creationStartedResolver.promise}when(){return this._creationFinishedResolver.promise}rejectCreation(A){"pending"!==this.toolState&&"creating"!==this.toolState||this._creationStartedResolver.resolve(this),this._creationFinishedResolver.reject(A)}onActivate(){}onDeactivate(){}onAttach(){}onDetach(){}onShow(){}onHide(){}onEditableChange(){}onInputEvent(A){}onInputEventAfter(A){}get internallyEditable(){return this.getEditableFlag(0)&&this.getEditableFlag(1)}startToolCreation(){if("pending"===this.toolState)return this._creationStartedResolver.resolve(this),void(this.toolState="creating");throw new Error(`Unexpected tool state ${this.toolState}`)}finishToolCreation(){switch(this.toolState){case"pending":this.startToolCreation();case"creating":this.created||this._creationFinishedResolver.resolve(this),this.toolState="created";break;case"created":break;default:throw new Error(`Unexpected tool state ${this.toolState}`)}}complete(){this.finishToolCreation(),this._set("completed",!0)}_show(){this._updateManipulatorAttachment(),this.onShow()}_hide(){this._updateManipulatorAttachment(),this.onHide()}_updateManipulatorAttachment(){this.attached&&this.visible?this.manipulators.attach():this.manipulators.detach()}};(0,At._)([(0,zt.Cb)()],ru.prototype,"toolState",void 0),(0,At._)([(0,zt.Cb)({constructOnly:!0})],ru.prototype,"view",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],ru.prototype,"active",null),(0,At._)([(0,zt.Cb)({value:!0})],ru.prototype,"visible",null),(0,At._)([(0,zt.Cb)({value:!0})],ru.prototype,"editable",null),(0,At._)([(0,zt.Cb)({value:!1,readOnly:!0})],ru.prototype,"attached",null),(0,At._)([(0,zt.Cb)({readOnly:!0})],ru.prototype,"created",null),(0,At._)([(0,zt.Cb)({readOnly:!0})],ru.prototype,"completed",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],ru.prototype,"manipulators",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],ru.prototype,"updating",void 0),(0,At._)([(0,zt.Cb)()],ru.prototype,"cursor",null),(0,At._)([(0,zt.Cb)()],ru.prototype,"automaticManipulatorSelection",void 0),ru=(0,At._)([(0,br.j)("esri.views.interactive.InteractiveToolBase")],ru);let vc=class extends((0,tm.p)(Nd.Z.EventedMixin(ru))){constructor(A){super(A),this.defaultZ=0,this.elevationInfo=null,this.hasZ=!0,this.mode=null,this.snapToScene=null,this.type="draw-3d"}initialize(){const A=(0,Wi.Pt)(this.elevationInfo,{mode:this.hasZ?"absolute-height":"on-the-ground",offset:0}),w=this.view;this.drawOperation=new yc({view:w,manipulators:this.manipulators,geometryType:this.geometryType,drawingMode:this.mode,hasZ:this.hasZ,defaultZ:this.defaultZ,snapToSceneEnabled:this.snapToScene,drawSurface:"3d"===w.type?new KW(w,A):null,elevationDrawSurface:"3d"===w.type?new WW(A,this.defaultZ,w):null,hasM:!1,elevationInfo:A}),this.handles.add([this.drawOperation.on("vertex-add",_=>this.onVertexAdd(_)),this.drawOperation.on("vertex-remove",_=>this.onVertexRemove(_)),this.drawOperation.on("vertex-update",_=>this.onVertexUpdate(_)),this.drawOperation.on("cursor-update",_=>this.onCursorUpdate(_)),this.drawOperation.on("complete",_=>this.onComplete(_))]),this.complete()}destroy(){this.drawOperation=(0,Wi.SC)(this.drawOperation),this._set("view",null)}get canRedo(){return this.drawOperation.canRedo}get canUndo(){return this.drawOperation.canUndo}set enabled(A){this.drawOperation.interactive=A,this._set("enabled",A)}get updating(){var A,w;return null!=(A=null==(w=this.drawOperation)?void 0:w.updating)&&A}completeCreateOperation(){this.drawOperation.complete()}onDeactivate(){this.drawOperation.isCompleted||this.drawOperation.cancel()}getVertexCoords(){return this.drawOperation.vertices}onInputEvent(A){this.drawOperation.onInputEvent(A)}redo(){this.drawOperation.redo()}reset(){}undo(){this.drawOperation.undo()}onComplete(A){this.emit("complete",A)}onCursorUpdate(A){this.emit("cursor-update",A)}onVertexAdd(A){this.emit("vertex-add",A)}onVertexRemove(A){this.emit("vertex-remove",A)}onVertexUpdate(A){this.emit("vertex-update",A)}};(0,At._)([(0,zt.Cb)({constructOnly:!0,nonNullable:!0})],vc.prototype,"defaultZ",void 0),(0,At._)([(0,zt.Cb)()],vc.prototype,"drawOperation",void 0),(0,At._)([(0,zt.Cb)({constructOnly:!0})],vc.prototype,"elevationInfo",void 0),(0,At._)([(0,zt.Cb)({value:!0})],vc.prototype,"enabled",null),(0,At._)([(0,zt.Cb)({constructOnly:!0})],vc.prototype,"geometryType",void 0),(0,At._)([(0,zt.Cb)({constructOnly:!0})],vc.prototype,"hasZ",void 0),(0,At._)([(0,zt.Cb)({constructOnly:!0})],vc.prototype,"mode",void 0),(0,At._)([(0,zt.Cb)()],vc.prototype,"snapToScene",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],vc.prototype,"type",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],vc.prototype,"updating",null),(0,At._)([(0,zt.Cb)({constructOnly:!0,nonNullable:!0})],vc.prototype,"view",void 0),vc=(0,At._)([(0,br.j)("esri.views.draw.DrawTool")],vc);let TC=class extends aA{constructor(A){super(A),this._addVertexOnPointerUp=!1,this._activePointerId=null,this._viewHandles=new Bl.Z}initialize(){"2d"===this.view.type?this._addViewHandles():this._addDrawTool(this.view)}destroy(){"2d"===this.view.type?(this._removeViewHandles(),this._viewHandles.destroy()):this._removeDrawTool(),this.emit("destroy")}get coordinates(){return(0,MW.Mr)(sa.Z.getLogger("esri.views.draw.PointDrawAction"),"coordinates",{replacement:"vertices",version:"4.19"}),this.vertices[0]}complete(){"2d"===this.view.type?this._cursorScreenPoint&&this._completeDrawing():this._drawTool.completeCreateOperation()}_addViewHandles(){this._removeViewHandles(),this._viewHandles.add([this.view.on("pointer-down",A=>{this._shouldHandlePointerEvent(A)&&(this._snappingTask=(0,Wi.IM)(this._snappingTask),this._activePointerId=A.pointerId,this._addVertexOnPointerUp=!0,this._cursorScreenPoint=Yo(A),"touch"===A.pointerType&&this._updateCursor(A.native))},es.f.TOOL),this.view.on("pointer-move",A=>{this._snappingTask=(0,Wi.IM)(this._snappingTask),this._cursorScreenPoint=Yo(A),"touch"!==A.pointerType&&this._updateCursor(A.native)},es.f.TOOL),this.view.on("pointer-drag",A=>{this._shouldHandlePointerEvent(A)&&(this._snappingTask=(0,Wi.IM)(this._snappingTask),this._addVertexOnPointerUp=!1)},es.f.TOOL),this.view.on("pointer-up",A=>{this._shouldHandlePointerEvent(A)&&(this._snappingTask=(0,Wi.IM)(this._snappingTask),this._activePointerId=null,this._addVertexOnPointerUp?(A.stopPropagation(),this._vertexAddHandler(A)):this._updateCursor(A.native,"touch"===A.pointerType))},es.f.TOOL),this.view.on("drag",["Shift"],A=>{A.stopPropagation()},es.f.TOOL),this.view.on("key-down",A=>{"Enter"===A.key&&this._cursorScreenPoint&&(this._snappingTask=(0,Wi.IM)(this._snappingTask),this._vertexAddHandler(A))},es.f.TOOL)])}_removeViewHandles(){this._viewHandles.removeAll()}_addDrawTool(A){this._drawTool=new vc({view:A,elevationInfo:this.elevationInfo,hasZ:this.hasZ,geometryType:"point",mode:"click"}),this.view.addAndActivateTool(this._drawTool),this._drawTool.on("cursor-update",w=>{1===w.vertices.length&&this.emit("cursor-update",new Nf(this.view,null,w.vertices[0].vertexIndex,this._drawTool.getVertexCoords()))}),this._drawTool.on("complete",w=>{this.emit("draw-complete",new Uf(null,this._drawTool.getVertexCoords())),this._removeDrawTool()})}_removeDrawTool(){this.view.tools.remove(this._drawTool),this._drawTool=(0,Wi.SC)(this._drawTool)}_addVertex(A){const w=this._coordinateHelper.arrayToVector(A);this._isDuplicateOfLastVertex(w)||(this._lastVertexUnsnapped=this._stagedVertexUnsnapped,this._popCursorVertex(),this._editGeometryOperations.appendVertex(w),this.notifyChange("vertices"),this._completeDrawing())}_updateCursor(A,w=!1){if(this._popCursorVertex(),!this._cursorScreenPoint)return;const _=this.getCoordsAndPointFromScreenPoint(this._cursorScreenPoint);if((0,Wi.pC)(_)&&!w){this._pushCursorVertex(_.vertex);const C=()=>new Nf(this.view,A,this._activeComponent.vertices.length,this.vertices,(0,Wi.pC)(this._stagedVertex)?new Ys.Z(this._stagedVertex):null);this.emit("cursor-update",C()),(0,Wi.pC)(this._snappingTask)&&this._snappingTask.promise.then(I=>{I.valid&&this.emit("cursor-update",C())},()=>{})}}_completeDrawing(A){this._activePointerId=null,this._popCursorVertex(),this._snappingTask=(0,Wi.IM)(this._snappingTask),(0,Wi.pC)(this._snappingManager)&&this._snappingManager.doneSnapping();const w=new Uf(A,this.vertices);this.emit("draw-complete",w),w.defaultPrevented||this._removeViewHandles()}_shouldHandlePointerEvent(A){return function(A){return"mouse"!==A.pointerType||0===A.button}(A)&&((0,Wi.Wi)(this._activePointerId)||this._activePointerId===A.pointerId)}};(0,At._)([(0,zt.Cb)({readOnly:!0})],TC.prototype,"coordinates",null),TC=(0,At._)([(0,br.j)("esri.views.draw.PointDrawAction")],TC);let ov=class extends aA{constructor(A){super(A),this._panEnabled=!1,this._popVertexOnPointerMove=!1,this._addVertexOnPointerUp=!1,this._activePointerId=null,this._viewHandles=new Bl.Z,this._undoRedoHandles=new Bl.Z,this.mode=xC}initialize(){"2d"===this.view.type?(this._addViewHandles(),this._addUndoRedoHandles()):this._addDrawTool(this.view)}destroy(){"2d"===this.view.type?(this._removeViewHandles(),this._viewHandles.destroy(),this._removeUndoRedoHandles(),this._undoRedoHandles.destroy()):this._removeDrawTool(),this.emit("destroy")}get _dragEnabled(){return"freehand"===this.mode||"hybrid"===this.mode}get _clickEnabled(){return"click"===this.mode||"hybrid"===this.mode}undo(){super.undo(),this.notifyChange("vertices")}redo(){super.redo(),this.notifyChange("vertices")}complete(){"2d"===this.view.type?this._completeDrawing():this._drawTool.completeCreateOperation()}getGeometryZValue(){return this.vertices.length>0&&this.vertices[0].length>2?this.vertices[0][2]:this._get("defaultZ")}_addViewHandles(){this._removeViewHandles(),this._viewHandles.add([this.view.on("click",A=>{A.stopPropagation()},es.f.TOOL),this.view.on("pointer-down",A=>{this._shouldHandlePointerEvent(A)&&(this._snappingTask=(0,Wi.IM)(this._snappingTask),this._activePointerId=A.pointerId,this._addVertexOnPointerUp=!0,this._cursorScreenPoint=Yo(A),"touch"===A.pointerType&&this._updateCursor(A.native))},es.f.TOOL),this.view.on("pointer-move",A=>{this._snappingTask=(0,Wi.IM)(this._snappingTask),this._popVertexOnPointerMove&&(this.undo(),this._popVertexOnPointerMove=!1),this._cursorScreenPoint=Yo(A),"touch"!==A.pointerType&&this._updateCursor(A.native)},es.f.TOOL),this.view.on("pointer-drag",A=>{this._shouldHandlePointerEvent(A)&&(this._snappingTask=(0,Wi.IM)(this._snappingTask),this._cursorScreenPoint=Yo(A),this._dragEnabled&&!this._panEnabled?this._vertexAddHandler(A):this._addVertexOnPointerUp=!1)},es.f.TOOL),this.view.on("pointer-up",A=>{if(this._shouldHandlePointerEvent(A))if(this._snappingTask=(0,Wi.IM)(this._snappingTask),this._activePointerId=null,this._addVertexOnPointerUp){if(!this._clickEnabled)return 1===this.vertices.length&&this.vertices.pop(),void this._drawCompleteHandler(A);this._vertexAddHandler(A)}else this._updateCursor(A.native,"touch"===A.pointerType)},es.f.TOOL),this.view.on("drag",A=>{this._dragEnabled&&(0,Wi.pC)(this._activePointerId)&&!this._panEnabled&&A.stopPropagation()},es.f.TOOL),this.view.on("drag",["Shift"],A=>{A.stopPropagation()},es.f.TOOL),this.view.on("double-click",A=>{A.stopPropagation(),this._drawCompleteHandler(A)},es.f.TOOL),this.view.on("double-click",["Control"],A=>{A.stopPropagation(),this._drawCompleteHandler(A)},es.f.TOOL),this.view.on("key-down",A=>{const{key:w,repeat:_}=A;"f"===w&&!_&&this._cursorScreenPoint?(A.stopPropagation(),this._snappingTask=(0,Wi.IM)(this._snappingTask),this._vertexAddHandler(A)):"Enter"!==w||_?"z"!==w||this.interactiveUndoDisabled||_?"r"!==w||this.interactiveUndoDisabled||_?" "!==w||_||(A.stopPropagation(),this._panEnabled=!0):(A.stopPropagation(),this.redo()):(A.stopPropagation(),this.undo()):(A.stopPropagation(),this._drawCompleteHandler(A))},es.f.TOOL),this.view.on("key-up",A=>{" "===A.key&&(A.stopPropagation(),this._panEnabled=!1)},es.f.TOOL)])}_addUndoRedoHandles(){this._removeUndoRedoHandles(),this._undoRedoHandles.add([this._editGeometryOperations.on("vertex-remove",A=>{if(this.notifyChange("vertices"),"undo"===A.operation){const w=this._nativeEventHistory.undoStack.pop();this._nativeEventHistory.redoStack.push(w);const _=[...this._committedVertices];(0,Wi.pC)(this._stagedVertex)&&_.push(this._coordinateHelper.pointToArray(this._stagedVertex)),this.emit("undo",new ZS(this.view,w,A.vertices[0].index,_))}}),this._editGeometryOperations.on("vertex-add",A=>{if(this.notifyChange("vertices"),"apply"===A.operation){const C=new Fp(this.view,this._nativeEventHistory.undoStack[this._nativeEventHistory.undoStack.length],this._committedVertices.length-1,this.vertices);this.emit("vertex-add",C),C.defaultPrevented&&(this._popVertexOnPointerMove=!0)}else if("redo"===A.operation){const w=this._nativeEventHistory.redoStack.pop();this._nativeEventHistory.undoStack.push(w);const _=[...this._committedVertices];(0,Wi.pC)(this._stagedVertex)&&_.push(this._coordinateHelper.pointToArray(this._stagedVertex)),this.emit("redo",new Fp(this.view,w,A.vertices[0].index,_))}})])}_removeViewHandles(){this._viewHandles.removeAll()}_removeUndoRedoHandles(){this._undoRedoHandles.removeAll()}_addDrawTool(A){this._drawTool=new vc({view:A,elevationInfo:this.elevationInfo,hasZ:this.hasZ,geometryType:"polygon",mode:this.mode}),this.view.addAndActivateTool(this._drawTool),this._drawTool.on("vertex-add",w=>{1===w.vertices.length&&this.emit("vertex-add",new Fp(this.view,null,w.vertices[0].vertexIndex,this._drawTool.getVertexCoords()))}),this._drawTool.on("cursor-update",w=>{1===w.vertices.length&&this.emit("cursor-update",new Nf(this.view,null,w.vertices[0].vertexIndex,this._drawTool.getVertexCoords()))}),this._drawTool.on("complete",w=>{this.emit("draw-complete",new Uf(null,this._drawTool.getVertexCoords())),this._removeDrawTool()})}_removeDrawTool(){this.view.tools.remove(this._drawTool),this._drawTool=(0,Wi.SC)(this._drawTool)}_addVertex(A,w){const _=this._coordinateHelper.arrayToVector(A);if(this._isDuplicateOfLastVertex(_))return;this._lastVertexUnsnapped=this._stagedVertexUnsnapped,this._popCursorVertex(),this._editGeometryOperations.appendVertex(_);const C=w||new Event("placeholder");this._nativeEventHistory.undoStack.push(C)}_updateCursor(A,w=!1){if(this._popCursorVertex(),!this._cursorScreenPoint)return;const _=this.getCoordsAndPointFromScreenPoint(this._cursorScreenPoint);if((0,Wi.pC)(_)&&!w){this._pushCursorVertex(_.vertex);const C=()=>new Nf(this.view,A,this._activeComponent.vertices.length,this.vertices,(0,Wi.pC)(this._stagedVertex)?new Ys.Z(this._stagedVertex):null);this.emit("cursor-update",C()),(0,Wi.pC)(this._snappingTask)&&this._snappingTask.promise.then(I=>{I.valid&&this.emit("cursor-update",C())},()=>{})}}_completeDrawing(A){if(this._activePointerId=null,this._popCursorVertex(),this._committedVertices.length<3)return;this._snappingTask=(0,Wi.IM)(this._snappingTask),(0,Wi.pC)(this._snappingManager)&&this._snappingManager.doneSnapping();const w=new Uf(A,this.vertices);this.emit("draw-complete",w),w.defaultPrevented||this._removeViewHandles()}_shouldHandlePointerEvent(A){return function(A){return"mouse"!==A.pointerType||0===A.button}(A)&&((0,Wi.Wi)(this._activePointerId)||this._activePointerId===A.pointerId)}};(0,At._)([(0,zt.Cb)()],ov.prototype,"_dragEnabled",null),(0,At._)([(0,zt.Cb)()],ov.prototype,"_clickEnabled",null),(0,At._)([(0,zt.Cb)({type:G6})],ov.prototype,"mode",void 0),ov=(0,At._)([(0,br.j)("esri.views.draw.PolygonDrawAction")],ov);let av=class extends aA{constructor(A){super(A),this._panEnabled=!1,this._popVertexOnPointerMove=!1,this._addVertexOnPointerUp=!1,this._activePointerId=null,this._viewHandles=new Bl.Z,this._undoRedoHandles=new Bl.Z,this.mode=xC}initialize(){"2d"===this.view.type?(this._addViewHandles(),this._addUndoRedoHandles()):this._addDrawTool(this.view)}destroy(){"2d"===this.view.type?(this._removeViewHandles(),this._viewHandles.destroy(),this._removeUndoRedoHandles(),this._undoRedoHandles.destroy()):this._removeDrawTool(),this.emit("destroy")}get _clickEnabled(){return"click"===this.mode||"hybrid"===this.mode}get _dragEnabled(){return"freehand"===this.mode||"hybrid"===this.mode}undo(){super.undo(),this.notifyChange("vertices")}redo(){super.redo(),this.notifyChange("vertices")}complete(){"2d"===this.view.type?this._completeDrawing():this._drawTool.completeCreateOperation()}_addViewHandles(){this._removeViewHandles(),this._viewHandles.add([this.view.on("click",A=>{A.stopPropagation()},es.f.TOOL),this.view.on("pointer-down",A=>{this._shouldHandlePointerEvent(A)&&!this._panEnabled&&(this._snappingTask=(0,Wi.IM)(this._snappingTask),this._activePointerId=A.pointerId,this._addVertexOnPointerUp=!0,this._cursorScreenPoint=Yo(A),"touch"===A.pointerType&&this._updateCursor(A.native))},es.f.TOOL),this.view.on("pointer-move",A=>{this._popVertexOnPointerMove&&(this.undo(),this._popVertexOnPointerMove=!1),this._snappingTask=(0,Wi.IM)(this._snappingTask),this._cursorScreenPoint=Yo(A),"touch"!==A.pointerType&&this._updateCursor(A.native)},es.f.TOOL),this.view.on("pointer-drag",A=>{this._shouldHandlePointerEvent(A)&&(this._snappingTask=(0,Wi.IM)(this._snappingTask),this._cursorScreenPoint=Yo(A),this._dragEnabled&&!this._panEnabled?this._vertexAddHandler(A):this._addVertexOnPointerUp=!1)},es.f.TOOL),this.view.on("pointer-up",A=>{if(this._shouldHandlePointerEvent(A))if(this._snappingTask=(0,Wi.IM)(this._snappingTask),this._activePointerId=null,this._addVertexOnPointerUp){if(!this._clickEnabled)return 1===this.vertices.length&&this.vertices.pop(),void this._drawCompleteHandler(A);this._vertexAddHandler(A)}else this._updateCursor(A.native,"touch"===A.pointerType)},es.f.TOOL),this.view.on("drag",A=>{this._dragEnabled&&(0,Wi.pC)(this._activePointerId)&&!this._panEnabled&&A.stopPropagation()},es.f.TOOL),this.view.on("drag",["Shift"],A=>{A.stopPropagation()},es.f.TOOL),this.view.on("double-click",A=>{A.stopPropagation(),this._drawCompleteHandler(A)},es.f.TOOL),this.view.on("double-click",["Control"],A=>{A.stopPropagation(),this._drawCompleteHandler(A)},es.f.TOOL),this.view.on("key-down",A=>{const{key:w,repeat:_}=A;"f"===w&&!_&&this._cursorScreenPoint?(A.stopPropagation(),this._snappingTask=(0,Wi.IM)(this._snappingTask),this._vertexAddHandler(A)):"Enter"!==w||_?"z"!==w||this.interactiveUndoDisabled||_?"r"!==w||this.interactiveUndoDisabled||_?" "!==w||_||(A.stopPropagation(),this._panEnabled=!0):(A.stopPropagation(),this.redo()):(A.stopPropagation(),this.undo()):(A.stopPropagation(),this._drawCompleteHandler(A))},es.f.TOOL),this.view.on("key-up",A=>{" "===A.key&&(A.stopPropagation(),this._panEnabled=!1)},es.f.TOOL)])}_addUndoRedoHandles(){this._removeUndoRedoHandles(),this._undoRedoHandles.add([this._editGeometryOperations.on("vertex-remove",A=>{if(this.notifyChange("vertices"),"undo"===A.operation){const w=this._nativeEventHistory.undoStack.pop();this._nativeEventHistory.redoStack.push(w);const _=[...this._committedVertices];(0,Wi.pC)(this._stagedVertex)&&_.push(this._coordinateHelper.pointToArray(this._stagedVertex)),this.emit("undo",new ZS(this.view,w,A.vertices[0].index,_))}}),this._editGeometryOperations.on("vertex-add",A=>{if(this.notifyChange("vertices"),"apply"===A.operation){const C=new Fp(this.view,this._nativeEventHistory.undoStack[this._nativeEventHistory.undoStack.length],this._committedVertices.length-1,this.vertices);this.emit("vertex-add",C),C.defaultPrevented&&(this._popVertexOnPointerMove=!0)}else if("redo"===A.operation){const w=this._nativeEventHistory.redoStack.pop();this._nativeEventHistory.undoStack.push(w);const _=[...this._committedVertices];(0,Wi.pC)(this._stagedVertex)&&_.push(this._coordinateHelper.pointToArray(this._stagedVertex)),this.emit("redo",new Fp(this.view,w,A.vertices[0].index,_))}})])}_removeViewHandles(){this._viewHandles.removeAll()}_removeUndoRedoHandles(){this._undoRedoHandles.removeAll()}_addDrawTool(A){this._drawTool=new vc({view:A,elevationInfo:this.elevationInfo,hasZ:this.hasZ,geometryType:"polyline",mode:this.mode}),this.view.addAndActivateTool(this._drawTool),this._drawTool.on("vertex-add",w=>{1===w.vertices.length&&this.emit("vertex-add",new Fp(this.view,null,w.vertices[0].vertexIndex,this._drawTool.getVertexCoords()))}),this._drawTool.on("cursor-update",w=>{1===w.vertices.length&&this.emit("cursor-update",new Nf(this.view,null,w.vertices[0].vertexIndex,this._drawTool.getVertexCoords()))}),this._drawTool.on("complete",w=>{this.emit("draw-complete",new Uf(null,this._drawTool.getVertexCoords())),this._removeDrawTool()})}_removeDrawTool(){this.view.tools.remove(this._drawTool),this._drawTool=(0,Wi.SC)(this._drawTool)}_addVertex(A,w){const _=this._coordinateHelper.arrayToVector(A);if(this._isDuplicateOfLastVertex(_))return;this._lastVertexUnsnapped=this._stagedVertexUnsnapped,this._popCursorVertex(),this._editGeometryOperations.appendVertex(_);const C=w||new Event("placeholder");this._nativeEventHistory.undoStack.push(C)}_updateCursor(A,w=!1){if(this._popCursorVertex(),!this._cursorScreenPoint)return;const _=this.getCoordsAndPointFromScreenPoint(this._cursorScreenPoint);if((0,Wi.pC)(_)&&!w){this._pushCursorVertex(_.vertex);const C=()=>new Nf(this.view,A,this._activeComponent.vertices.length,this.vertices,(0,Wi.pC)(this._stagedVertex)?new Ys.Z(this._stagedVertex):null);this.emit("cursor-update",C()),(0,Wi.pC)(this._snappingTask)&&this._snappingTask.promise.then(I=>{I.valid&&this.emit("cursor-update",C())},()=>{})}}_completeDrawing(A){if(this._activePointerId=null,this._popCursorVertex(),this._committedVertices.length<2)return;this._snappingTask=(0,Wi.IM)(this._snappingTask),(0,Wi.pC)(this._snappingManager)&&this._snappingManager.doneSnapping();const w=new Uf(A,this.vertices);this.emit("draw-complete",w),w.defaultPrevented||this._removeViewHandles()}_shouldHandlePointerEvent(A){return function(A){return"mouse"!==A.pointerType||0===A.button}(A)&&((0,Wi.Wi)(this._activePointerId)||this._activePointerId===A.pointerId)}};(0,At._)([(0,zt.Cb)()],av.prototype,"_clickEnabled",null),(0,At._)([(0,zt.Cb)()],av.prototype,"_dragEnabled",null),(0,At._)([(0,zt.Cb)({type:G6})],av.prototype,"mode",void 0),av=(0,At._)([(0,br.j)("esri.views.draw.PolylineDrawAction")],av);var rk=N(48977),sk=N(78451);function IC(A,w,_=null){return(0,Wi.pC)(_)?[A,w,_]:[A,w]}function ok(A,w,_=null){return(0,Wi.pC)(_)?{x:A,y:w,z:_}:{x:A,y:w}}class ak{constructor(w){this.spatialReference=w}mapToLocalMultiple(w){return(0,Wi.lV)(w.map(_=>this.mapToLocal(_)))}get doUnnormalization(){return!1}}class JW extends ak{constructor(w,_,C=null){super(_),this.defaultZ=C,this.transform=(0,zy.c)(),this.transformInv=(0,zy.c)(),this.transform=(0,zy.a)(w),(0,Vy.a)(this.transformInv,this.transform)}makeMapPoint(w,_){return IC(w,_,this.defaultZ)}mapToLocal(w){return ok(this.transform[0]*w[0]+this.transform[2]*w[1]+this.transform[4],this.transform[1]*w[0]+this.transform[3]*w[1]+this.transform[5])}localToMap(w){return IC(this.transformInv[0]*w.x+this.transformInv[2]*w.y+this.transformInv[4],this.transformInv[1]*w.x+this.transformInv[3]*w.y+this.transformInv[5],this.defaultZ)}}class XW extends ak{constructor(w,_){super(w.spatialReference),this.view=w,this.defaultZ=null,this.pWS=(0,Os.c)(),this.tangentFrameUpWS=(0,Os.c)(),this.tangentFrameRightWS=(0,Os.c)(),this.tangentFrameForwardWS=(0,Os.c)(),this.localFrameRightWS=(0,Os.c)(),this.localFrameUpWS=(0,Os.c)(),this.worldToLocalTransform=(0,sk.a)(),this.localToWorldTransform=(0,sk.a)(),this.scale=1,this.scale=w.resolution,this.referenceMapPoint=_,this.defaultZ=_.hasZ?_.z:null;const C=w.state.camera.viewRight;this.view.renderCoordsHelper.toRenderCoords(this.referenceMapPoint,this.pWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,0,this.tangentFrameRightWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,1,this.tangentFrameUpWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,2,this.tangentFrameForwardWS);const I=(0,Os.c)();(0,Ss.a)(I,this.tangentFrameForwardWS,(0,Ss.d)(C,this.tangentFrameForwardWS)),(0,Ss.f)(this.localFrameRightWS,C,I),(0,Ss.n)(this.localFrameRightWS,this.localFrameRightWS),(0,Ss.c)(this.localFrameUpWS,this.tangentFrameForwardWS,this.localFrameRightWS),(0,rk.r)(this.worldToLocalTransform,this.localFrameRightWS,this.tangentFrameRightWS),(0,rk.i)(this.localToWorldTransform,this.worldToLocalTransform)}get doUnnormalization(){return"global"===this.view.viewingMode}makeMapPoint(w,_){return IC(w,_,this.defaultZ)}mapToLocal(w){const _=(0,Os.c)();this.view.renderCoordsHelper.toRenderCoords(new Ys.Z({x:w[0],y:w[1],spatialReference:this.spatialReference}),_),(0,Ss.q)(_,_,this.worldToLocalTransform);const C=this.view.renderCoordsHelper.fromRenderCoords(_,this.view.spatialReference);return(0,Wi.pC)(C)?ok(C.x/this.scale,C.y/this.scale):null}localToMap(w){const _=(0,Os.c)();this.view.renderCoordsHelper.toRenderCoords(new Ys.Z({x:w.x*this.scale,y:w.y*this.scale,spatialReference:this.spatialReference}),_),(0,Ss.q)(_,_,this.localToWorldTransform);const C=this.view.renderCoordsHelper.fromRenderCoords(_,this.view.spatialReference);return(0,Wi.pC)(C)?IC(C.x,C.y,this.defaultZ):null}}let OC=class extends aA{constructor(A){super(A),this._isDragging=!1,this._panEnabled=!1,this._viewHandles=new Bl.Z,this._activePointerId=null,this._addVertexOnPointerUp=!1,this.viewAlignedCoordinateSystem=null,this.mode="freehand"}initialize(){"2d"===this.view.type?this._addViewHandles():this._addDrawTool(this.view)}destroy(){"2d"===this.view.type?(this._removeViewHandles(),this._viewHandles.destroy()):this._removeDrawTool(),this.emit("destroy")}complete(){"2d"===this.view.type?this._completeDrawing():this._drawTool.completeCreateOperation()}getGeometryZValue(){return this.vertices.length>0&&this.vertices[0].length>2?this.vertices[0][2]:this._get("defaultZ")}_addViewHandles(){this._removeViewHandles(),this._viewHandles.add("click"===this.mode?this._getClickModeViewHandles():this._getDragModeViewHandles())}_getDragModeViewHandles(){return[this.view.on("immediate-click",A=>{if(A.stopPropagation(),A.mapPoint&&!this._panEnabled){const w=this.getCoordsFromScreenPoint(Yo(A));(0,Wi.pC)(w)&&(this._vertexAddHandler(A),this._drawCompleteHandler(A))}},es.f.TOOL),this.view.on("pointer-down",A=>{this._shouldHandlePointerEvent(A)&&(this._snappingTask=(0,Wi.IM)(this._snappingTask),this._panEnabled||(this._resetGeometry(),this._addVertexOnPointerUp=!0,this._cursorScreenPoint=Yo(A),this._activePointerId=A.pointerId,this._vertexAddHandler(A),this._isDragging=!1,"touch"===A.pointerType&&this._updateCursor(A.native)))},es.f.TOOL),this.view.on("pointer-move",A=>{this._snappingTask=(0,Wi.IM)(this._snappingTask),(0,Wi.Wi)(this._activePointerId)&&"touch"!==A.pointerType&&(this._cursorScreenPoint=Yo(A),this._updateCursor(A.native))},es.f.TOOL),this.view.on("pointer-drag",A=>{this._shouldHandlePointerEvent(A)&&(this._snappingTask=(0,Wi.IM)(this._snappingTask),this._isDragging=!0,this._cursorScreenPoint=Yo(A),this._updateCursor(A.native))},es.f.TOOL),this.view.on("pointer-up",A=>{this._shouldHandlePointerEvent(A)&&this._addVertexOnPointerUp&&(this._snappingTask=(0,Wi.IM)(this._snappingTask),this._activePointerId=null,this._isDragging&&this._vertexAddHandler(A),2===this._committedVertices.length&&this._drawCompleteHandler(A),this._isDragging=!1)},es.f.TOOL),this.view.on("key-down",A=>{"Enter"===A.key&&this._cursorScreenPoint?(this._snappingTask=(0,Wi.IM)(this._snappingTask),this._vertexAddHandler(A),this._drawCompleteHandler(A)):" "===A.key&&(this._panEnabled=!0)},es.f.TOOL),this.view.on("key-up",A=>{" "===A.key&&(this._panEnabled=!1)},es.f.TOOL),this.view.on("drag",A=>{(0,Wi.pC)(this._activePointerId)&&A.stopPropagation()},es.f.TOOL),this.view.on("drag",["Shift"],A=>{A.stopPropagation()},es.f.TOOL)]}_getClickModeViewHandles(){return[this.view.on("pointer-down",A=>{this._snappingTask=(0,Wi.IM)(this._snappingTask),this._cursorScreenPoint=Yo(A),this._activePointerId=A.pointerId,this._isDragging=!1,"touch"===A.pointerType&&this._updateCursor(A.native)},es.f.TOOL),this.view.on("pointer-move",A=>{this._snappingTask=(0,Wi.IM)(this._snappingTask),this._cursorScreenPoint=Yo(A),(0,Wi.Wi)(this._activePointerId)&&"touch"!==A.pointerType&&this._updateCursor(A.native)},es.f.TOOL),this.view.on("pointer-drag",A=>{this._shouldHandlePointerEvent(A)&&(this._snappingTask=(0,Wi.IM)(this._snappingTask),this._isDragging=!0)},es.f.TOOL),this.view.on("pointer-up",A=>{this._shouldHandlePointerEvent(A)&&(this._snappingTask=(0,Wi.IM)(this._snappingTask),this._activePointerId=null,A.stopPropagation(),this._isDragging||this._vertexAddHandler(A),2!==this.vertices.length||this._isDragging||this._drawCompleteHandler(A),this._isDragging=!1)},es.f.TOOL),this.view.on("key-down",A=>{"f"===A.key&&this._cursorScreenPoint&&(this._vertexAddHandler(A),2===this.vertices.length&&this._drawCompleteHandler(A)),"Enter"===A.key&&this._cursorScreenPoint&&2===this.vertices.length&&(this._vertexAddHandler(A),this._drawCompleteHandler(A))},es.f.TOOL)]}_removeViewHandles(){this._viewHandles.removeAll()}_addDrawTool(A){this._drawTool=new vc({view:A,elevationInfo:this.elevationInfo,hasZ:this.hasZ,geometryType:"segment",mode:this.mode}),this.view.addAndActivateTool(this._drawTool),this._drawTool.on("vertex-add",w=>{1===w.vertices.length&&this.emit("vertex-add",new Fp(this.view,null,w.vertices[0].vertexIndex,this._drawTool.getVertexCoords()))}),this._drawTool.on("cursor-update",w=>{1===w.vertices.length&&this.emit("cursor-update",new Nf(this.view,null,w.vertices[0].vertexIndex,this._drawTool.getVertexCoords()))}),this._drawTool.on("complete",w=>{this.emit("draw-complete",new Uf(null,this._drawTool.getVertexCoords())),this._removeDrawTool()})}_removeDrawTool(){this.view.tools.remove(this._drawTool),this._drawTool=(0,Wi.SC)(this._drawTool)}_addVertex(A,w){const _=this._coordinateHelper.arrayToVector(A);if(this._isDuplicateOfLastVertex(_))return;this._lastVertexUnsnapped=this._stagedVertexUnsnapped,this._popCursorVertex(),this._editGeometryOperations.appendVertex(_),1===this._committedVertices.length&&(this.viewAlignedCoordinateSystem=function(A,w){if("2d"===A.type)return new JW(A.state.transform,A.spatialReference,w.length>2?w[2]:null);if("3d"===A.type){const _=new Ys.Z(w.length>2?{x:w[0],y:w[1],z:w[2],spatialReference:A.spatialReference}:{x:w[0],y:w[1],spatialReference:A.spatialReference});return new XW(A,_)}return null}(this.view,this._committedVertices[0]));const I=new Fp(this.view,w,this._committedVertices.length-1,this.vertices);this.emit("vertex-add",I)}_updateCursor(A){if(this._popCursorVertex(),!this._cursorScreenPoint)return;const w=this.getCoordsAndPointFromScreenPoint(this._cursorScreenPoint);if((0,Wi.pC)(w)){this._pushCursorVertex(w.vertex);const _=()=>new Nf(this.view,A,this._activeComponent.vertices.length,this.vertices,(0,Wi.pC)(this._stagedVertex)?new Ys.Z(this._stagedVertex):null);this.emit("cursor-update",_()),(0,Wi.pC)(this._snappingTask)&&this._snappingTask.promise.then(C=>{C.valid&&this.emit("cursor-update",_())},()=>{})}}_completeDrawing(A){if(this._activePointerId=null,this._popCursorVertex(),this._cursorScreenPoint=null,this._isDragging=!1,this._snappingTask=(0,Wi.IM)(this._snappingTask),(0,Wi.pC)(this._snappingManager)&&this._snappingManager.doneSnapping(),this.vertices.length<1)return;const w=new Uf(A,this.vertices);this.emit("draw-complete",w),w.defaultPrevented||this._removeViewHandles()}_resetGeometry(){this._editGeometryOperations.destroy(),this._editGeometryOperations=new oA(new iv("polygon",this._coordinateHelper,2)),this._activeComponent=new tv(this._coordinateHelper.spatialReference,2),this._editGeometryOperations.data.components.push(this._activeComponent)}_shouldHandlePointerEvent(A){return function(A){return"mouse"!==A.pointerType||0===A.button}(A)&&((0,Wi.Wi)(this._activePointerId)||this._activePointerId===A.pointerId)}};(0,At._)([(0,zt.Cb)({type:["freehand","click"]})],OC.prototype,"mode",void 0),OC=(0,At._)([(0,br.j)("esri/views/2d/engine/markup/SegmentDrawAction")],OC);let lv=class extends no.Z{constructor(){super(...arguments),this.activeAction=null,this.type="draw",this.view=null}destroy(){this.activeAction&&(this.activeAction.destroy(),this.activeAction=null)}create(A,w){this.reset();const _=ji({view:this.view},w);switch(A){case"point":_.editGeometryType="point",this.activeAction=new TC(_);break;case"polyline":_.editGeometryType="polyline",this.activeAction=new av(_);break;case"multipoint":_.editGeometryType="polygon",this.activeAction=new CC(_);break;case"polygon":_.editGeometryType="polygon",this.activeAction=new ov(_);break;case"rectangle":case"circle":case"ellipse":case"triangle":_.editGeometryType="polygon",this.activeAction=new OC(_)}return this.activeAction}complete(){this.activeAction&&this.activeAction.complete(),this.activeAction=null}reset(){this.activeAction&&this.activeAction.destroy(),this.activeAction=null}};(0,At._)([(0,zt.Cb)()],lv.prototype,"activeAction",void 0),(0,At._)([(0,zt.Cb)({readOnly:!0})],lv.prototype,"type",void 0),(0,At._)([(0,zt.Cb)()],lv.prototype,"view",void 0),lv=(0,At._)([(0,br.j)("esri.views.draw.Draw")],lv);var tK=lv;let PC=(()=>{class A{constructor(_){this.http=_,this.crossectionUpdateCrossectionSource=new Se,this.crossectionUpdateCrossectionBus=this.crossectionUpdateCrossectionSource.asObservable(),this.hideWaitScreenSource=new Se}nextVertices(_){this.crossectionUpdateCrossectionSource.next(_)}nextHideScreen(_){this.hideWaitScreenSource.next(_)}crossection(_){return this.http.post(Jn.URL_PREFIX+"/rest/models/crossection",_)}}return A.\u0275fac=function(_){return new(_||A)(xr(Op))},A.\u0275prov=di({token:A,factory:A.\u0275fac}),A})(),uA=(()=>{class A{constructor(_){this.elementRef=_}ngOnInit(){this.elementRef.nativeElement.focus()}}return A.\u0275fac=function(_){return new(_||A)(rn(_o))},A.\u0275dir=Fr({type:A,selectors:[["","dinoloketAutoFocus",""]]}),A})(),iK=(()=>{class A{constructor(){this.showCrossection=new er,this.cancelCrossection=new er}showCrossectionPressed(){this.showCrossection.emit(!0)}cancelCrossectionPressed(){this.cancelCrossection.emit(!0)}}return A.\u0275fac=function(_){return new(_||A)},A.\u0275cmp=dr({type:A,selectors:[["dinoloket-crossection-dialog"]],outputs:{showCrossection:"showCrossection",cancelCrossection:"cancelCrossection"},decls:9,vars:6,consts:[[1,"modal","row","crossection_dialog"],[1,"modal-content","col-sm-2","col-sm-offset-3","main-content","buttons"],["type","button",1,"btn","btn-default","btn-small","pull-left","secondary-button",3,"click"],["dinoloketAutoFocus","","type","button",1,"btn","btn-default","btn-small","pull-right","secondary-button",3,"click"]],template:function(_,C){1&_&&(pt(0,"div",0),pt(1,"div",1),pt(2,"button",2),An("click",function(){return C.cancelCrossectionPressed()}),tn(3),sn(4,"translate"),ft(),tn(5,"\xa0\xa0 "),pt(6,"button",3),An("click",function(){return C.showCrossectionPressed()}),tn(7),sn(8,"translate"),ft(),ft(),ft()),2&_&&(vt(3),Kr("",on(4,2,"crossSectionConfirmErase")," "),vt(4),Kr("",on(8,4,"crossSectionConfirmShow")," "))},directives:[uA],pipes:[Xs],styles:[".crossection_dialog[_ngcontent-%COMP%]{visibility:visible;display:inherit;padding:150px 120px 0}.buttons[_ngcontent-%COMP%]{width:auto}"]}),A})();var nK=N(30813),eT=N.n(nK);class cv{static getDataUri(w,_){const C=new Image;C.onload=function(){const I=document.createElement("canvas"),j=this;I.width=j.naturalWidth,I.height=j.naturalHeight,I.getContext("2d").drawImage(j,0,0);const K=I.toDataURL("image/png");_(K,j)},C.src=w}}function kC(A,w=0){return function(A){return!isNaN(parseFloat(A))&&!isNaN(Number(A))}(A)?Number(A):w}const aK=["addListener","removeListener"],lK=["addEventListener","removeEventListener"],cK=["on","off"];function LC(A,w,_,C){if(z(_)&&(C=_,_=void 0),C)return LC(A,w,_).pipe(FO(C));const[I,j]=function(A){return z(A.addEventListener)&&z(A.removeEventListener)}(A)?lK.map(K=>q=>A[K](w,q,_)):function(A){return z(A.addListener)&&z(A.removeListener)}(A)?aK.map(lk(A,w)):function(A){return z(A.on)&&z(A.off)}(A)?cK.map(lk(A,w)):[];if(!I&&li(A))return _t(K=>LC(K,w,_))(F(A));if(!I)throw new TypeError("Invalid event target");return new qe(K=>{const q=(...ue)=>K.next(1<ue.length?ue:ue[0]);return I(q),()=>j(q)})}function lk(A,w){return _=>C=>A[_](w,C)}class pK extends Ce{constructor(w,_){super()}schedule(w,_=0){return this}}const BC={setInterval(...A){const{delegate:w}=BC;return((null==w?void 0:w.setInterval)||setInterval)(...A)},clearInterval(A){const{delegate:w}=BC;return((null==w?void 0:w.clearInterval)||clearInterval)(A)},delegate:void 0};class tT extends pK{constructor(w,_){super(w,_),this.scheduler=w,this.work=_,this.pending=!1}schedule(w,_=0){if(this.closed)return this;this.state=w;const C=this.id,I=this.scheduler;return null!=C&&(this.id=this.recycleAsyncId(I,C,_)),this.pending=!0,this.delay=_,this.id=this.id||this.requestAsyncId(I,this.id,_),this}requestAsyncId(w,_,C=0){return BC.setInterval(w.flush.bind(w,this),C)}recycleAsyncId(w,_,C=0){if(null!=C&&this.delay===C&&!1===this.pending)return _;BC.clearInterval(_)}execute(w,_){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const C=this._execute(w,_);if(C)return C;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(w,_){let I,C=!1;try{this.work(w)}catch(j){C=!0,I=j||new Error("Scheduled action threw falsy error")}if(C)return this.unsubscribe(),I}unsubscribe(){if(!this.closed){const{id:w,scheduler:_}=this,{actions:C}=_;this.work=this.state=this.scheduler=null,this.pending=!1,Me(C,this),null!=w&&(this.id=this.recycleAsyncId(_,w,null)),this.delay=null,super.unsubscribe()}}}const hA={schedule(A){let w=requestAnimationFrame,_=cancelAnimationFrame;const{delegate:C}=hA;C&&(w=C.requestAnimationFrame,_=C.cancelAnimationFrame);const I=w(j=>{_=void 0,A(j)});return new Ce(()=>null==_?void 0:_(I))},requestAnimationFrame(...A){const{delegate:w}=hA;return((null==w?void 0:w.requestAnimationFrame)||requestAnimationFrame)(...A)},cancelAnimationFrame(...A){const{delegate:w}=hA;return((null==w?void 0:w.cancelAnimationFrame)||cancelAnimationFrame)(...A)},delegate:void 0};class dA{constructor(w,_=dA.now){this.schedulerActionCtor=w,this.now=_}schedule(w,_=0,C){return new this.schedulerActionCtor(this,w).schedule(C,_)}}dA.now=BD.now;class iT extends dA{constructor(w,_=dA.now){super(w,_),this.actions=[],this._active=!1,this._scheduled=void 0}flush(w){const{actions:_}=this;if(this._active)return void _.push(w);let C;this._active=!0;do{if(C=w.execute(w.state,w.delay))break}while(w=_.shift());if(this._active=!1,C){for(;w=_.shift();)w.unsubscribe();throw C}}}const gK=new class extends iT{flush(w){this._active=!0,this._scheduled=void 0;const{actions:_}=this;let C,I=-1;w=w||_.shift();const j=_.length;do{if(C=w.execute(w.state,w.delay))break}while(++I<j&&(w=_.shift()));if(this._active=!1,C){for(;++I<j&&(w=_.shift());)w.unsubscribe();throw C}}}(class extends tT{constructor(w,_){super(w,_),this.scheduler=w,this.work=_}requestAsyncId(w,_,C=0){return null!==C&&C>0?super.requestAsyncId(w,_,C):(w.actions.push(this),w._scheduled||(w._scheduled=hA.requestAnimationFrame(()=>w.flush(void 0))))}recycleAsyncId(w,_,C=0){if(null!=C&&C>0||null==C&&this.delay>0)return super.recycleAsyncId(w,_,C);0===w.actions.length&&(hA.cancelAnimationFrame(_),w._scheduled=void 0)}});let nT,yK=1;const RC={};function ck(A){return A in RC&&(delete RC[A],!0)}const vK={setImmediate(A){const w=yK++;return RC[w]=!0,nT||(nT=Promise.resolve()),nT.then(()=>ck(w)&&A()),w},clearImmediate(A){ck(A)}},{setImmediate:_K,clearImmediate:bK}=vK,FC={setImmediate(...A){const{delegate:w}=FC;return((null==w?void 0:w.setImmediate)||_K)(...A)},clearImmediate(A){const{delegate:w}=FC;return((null==w?void 0:w.clearImmediate)||bK)(A)},delegate:void 0},CK=new class extends iT{flush(w){this._active=!0,this._scheduled=void 0;const{actions:_}=this;let C,I=-1;w=w||_.shift();const j=_.length;do{if(C=w.execute(w.state,w.delay))break}while(++I<j&&(w=_.shift()));if(this._active=!1,C){for(;++I<j&&(w=_.shift());)w.unsubscribe();throw C}}}(class extends tT{constructor(w,_){super(w,_),this.scheduler=w,this.work=_}requestAsyncId(w,_,C=0){return null!==C&&C>0?super.requestAsyncId(w,_,C):(w.actions.push(this),w._scheduled||(w._scheduled=FC.setImmediate(w.flush.bind(w,void 0))))}recycleAsyncId(w,_,C=0){if(null!=C&&C>0||null==C&&this.delay>0)return super.recycleAsyncId(w,_,C);0===w.actions.length&&(FC.clearImmediate(_),w._scheduled=void 0)}});function EK(A,w){return A===w}const uk=new iT(tT);function rT(A,w=uk){return function(A){return ut((w,_)=>{let C=!1,I=null,j=null,K=!1;const q=()=>{if(null==j||j.unsubscribe(),j=null,C){C=!1;const Re=I;I=null,_.next(Re)}K&&_.complete()},ue=()=>{j=null,K&&_.complete()};w.subscribe(new xt(_,Re=>{C=!0,I=Re,j||F(A()).subscribe(j=new xt(_,q,ue))},()=>{K=!0,(!C||!j||j.closed)&&_.complete()}))})}(()=>function(A=0,w,_=uk){let C=-1;return null!=w&&(ht(w)?_=w:C=w),new qe(I=>{let j=function(A){return A instanceof Date&&!isNaN(A)}(A)?+A-_.now():A;j<0&&(j=0);let K=0;return _.schedule(function(){I.closed||(I.next(K++),0<=C?this.schedule(void 0,C):I.complete())},j)})}(A,w))}function sT(A){return ut((w,_)=>{F(A).subscribe(new xt(_,()=>_.complete(),xe)),!_.closed&&w.subscribe(_)})}function hk(...A){const w=Ot(A);return ut((_,C)=>{(w?T3(A,_,w):T3(A,_)).subscribe(C)})}let oT;try{oT="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(A){oT=!1}let NC,t1,dk=(()=>{class A{constructor(_){this._platformId=_,this.isBrowser=this._platformId?function(A){return A===AO}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!oT)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return A.\u0275fac=function(_){return new(_||A)(xr(Mb))},A.\u0275prov=di({token:A,factory:A.\u0275fac,providedIn:"root"}),A})(),IK=(()=>{class A{}return A.\u0275fac=function(_){return new(_||A)},A.\u0275mod=Rr({type:A}),A.\u0275inj=Bi({}),A})();function fA(){if("object"!=typeof document||!document)return 0;if(null==NC){const A=document.createElement("div"),w=A.style;A.dir="rtl",w.width="1px",w.overflow="auto",w.visibility="hidden",w.pointerEvents="none",w.position="absolute";const _=document.createElement("div"),C=_.style;C.width="2px",C.height="1px",A.appendChild(_),document.body.appendChild(A),NC=0,0===A.scrollLeft&&(A.scrollLeft=1,NC=0===A.scrollLeft?1:2),A.remove()}return NC}const LK=new ms("cdk-dir-doc",{providedIn:"root",factory:function(){return Vm(Lc)}}),RK=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let fk=(()=>{class A{constructor(_){if(this.value="ltr",this.change=new er,_){const I=_.documentElement?_.documentElement.dir:null;this.value=function(A){const w=(null==A?void 0:A.toLowerCase())||"";return"auto"===w&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?RK.test(navigator.language)?"rtl":"ltr":"rtl"===w?"rtl":"ltr"}((_.body?_.body.dir:null)||I||"ltr")}}ngOnDestroy(){this.change.complete()}}return A.\u0275fac=function(_){return new(_||A)(xr(LK,8))},A.\u0275prov=di({token:A,factory:A.\u0275fac,providedIn:"root"}),A})(),mk=(()=>{class A{}return A.\u0275fac=function(_){return new(_||A)},A.\u0275mod=Rr({type:A}),A.\u0275inj=Bi({}),A})();class jK extends class{}{constructor(w){super(),this._data=w}connect(){return Tp(this._data)?this._data:Kh(this._data)}disconnect(){}}class HK{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(w,_,C,I,j){w.forEachOperation((K,q,ue)=>{let Re,Je;null==K.previousIndex?(Re=this._insertView(()=>C(K,q,ue),ue,_,I(K)),Je=Re?1:0):null==ue?(this._detachAndCacheView(q,_),Je=3):(Re=this._moveView(q,ue,_,I(K)),Je=2),j&&j({context:null==Re?void 0:Re.context,operation:Je,record:K})})}detach(){for(const w of this._viewCache)w.destroy();this._viewCache=[]}_insertView(w,_,C,I){const j=this._insertViewFromCache(_,C);if(j)return void(j.context.$implicit=I);const K=w();return C.createEmbeddedView(K.templateRef,K.context,K.index)}_detachAndCacheView(w,_){const C=_.detach(w);this._maybeCacheView(C,_)}_moveView(w,_,C,I){const j=C.get(w);return C.move(j,_),j.context.$implicit=I,j}_maybeCacheView(w,_){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(w);else{const C=_.indexOf(w);-1===C?w.destroy():_.remove(C)}}_insertViewFromCache(w,_){const C=this._viewCache.pop();return C&&_.insert(C,w),C||null}}const gk=new ms("_ViewRepeater"),VK=["contentWrapper"],zK=["*"],yk=new ms("VIRTUAL_SCROLL_STRATEGY");class WK{constructor(w,_,C){this._scrolledIndexChange=new Se,this.scrolledIndexChange=this._scrolledIndexChange.pipe(function(A,w=je){return A=null!=A?A:EK,ut((_,C)=>{let I,j=!0;_.subscribe(new xt(C,K=>{const q=w(K);(j||!A(I,q))&&(j=!1,I=q,C.next(K))}))})}()),this._viewport=null,this._itemSize=w,this._minBufferPx=_,this._maxBufferPx=C}attach(w){this._viewport=w,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(w,_,C){this._itemSize=w,this._minBufferPx=_,this._maxBufferPx=C,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(w,_){this._viewport&&this._viewport.scrollToOffset(w*this._itemSize,_)}_updateTotalContentSize(){!this._viewport||this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const w=this._viewport.getRenderedRange(),_={start:w.start,end:w.end},C=this._viewport.getViewportSize(),I=this._viewport.getDataLength();let j=this._viewport.measureScrollOffset(),K=this._itemSize>0?j/this._itemSize:0;if(_.end>I){const ue=Math.ceil(C/this._itemSize),Re=Math.max(0,Math.min(K,I-ue));K!=Re&&(K=Re,j=Re*this._itemSize,_.start=Math.floor(K)),_.end=Math.max(0,Math.min(I,_.start+ue))}const q=j-_.start*this._itemSize;if(q<this._minBufferPx&&0!=_.start){const ue=Math.ceil((this._maxBufferPx-q)/this._itemSize);_.start=Math.max(0,_.start-ue),_.end=Math.min(I,Math.ceil(K+(C+this._minBufferPx)/this._itemSize))}else{const ue=_.end*this._itemSize-(j+C);if(ue<this._minBufferPx&&_.end!=I){const Re=Math.ceil((this._maxBufferPx-ue)/this._itemSize);Re>0&&(_.end=Math.min(I,_.end+Re),_.start=Math.max(0,Math.floor(K-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(_),this._viewport.setRenderedContentOffset(this._itemSize*_.start),this._scrolledIndexChange.next(Math.floor(K))}}function KK(A){return A._scrollStrategy}let vk=(()=>{class A{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new WK(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(_){this._itemSize=kC(_)}get minBufferPx(){return this._minBufferPx}set minBufferPx(_){this._minBufferPx=kC(_)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(_){this._maxBufferPx=kC(_)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return A.\u0275fac=function(_){return new(_||A)},A.\u0275dir=Fr({type:A,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[Vs([{provide:yk,useFactory:KK,deps:[Ht(()=>A)]}]),go]}),A})(),_k=(()=>{class A{constructor(_,C,I){this._ngZone=_,this._platform=C,this._scrolled=new Se,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=I}register(_){this.scrollContainers.has(_)||this.scrollContainers.set(_,_.elementScrolled().subscribe(()=>this._scrolled.next(_)))}deregister(_){const C=this.scrollContainers.get(_);C&&(C.unsubscribe(),this.scrollContainers.delete(_))}scrolled(_=20){return this._platform.isBrowser?new qe(C=>{this._globalSubscription||this._addGlobalListener();const I=_>0?this._scrolled.pipe(rT(_)).subscribe(C):this._scrolled.subscribe(C);return this._scrolledCount++,()=>{I.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Kh()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((_,C)=>this.deregister(C)),this._scrolled.complete()}ancestorScrolled(_,C){const I=this.getAncestorScrollContainers(_);return this.scrolled(C).pipe(GO(j=>!j||I.indexOf(j)>-1))}getAncestorScrollContainers(_){const C=[];return this.scrollContainers.forEach((I,j)=>{this._scrollableContainsElement(j,_)&&C.push(j)}),C}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(_,C){let I=function(A){return A instanceof _o?A.nativeElement:A}(C),j=_.getElementRef().nativeElement;do{if(I==j)return!0}while(I=I.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>LC(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return A.\u0275fac=function(_){return new(_||A)(xr(Eo),xr(dk),xr(Lc,8))},A.\u0275prov=di({token:A,factory:A.\u0275fac,providedIn:"root"}),A})(),bk=(()=>{class A{constructor(_,C,I,j){this.elementRef=_,this.scrollDispatcher=C,this.ngZone=I,this.dir=j,this._destroyed=new Se,this._elementScrolled=new qe(K=>this.ngZone.runOutsideAngular(()=>LC(this.elementRef.nativeElement,"scroll").pipe(sT(this._destroyed)).subscribe(K)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(_){const C=this.elementRef.nativeElement,I=this.dir&&"rtl"==this.dir.value;null==_.left&&(_.left=I?_.end:_.start),null==_.right&&(_.right=I?_.start:_.end),null!=_.bottom&&(_.top=C.scrollHeight-C.clientHeight-_.bottom),I&&0!=fA()?(null!=_.left&&(_.right=C.scrollWidth-C.clientWidth-_.left),2==fA()?_.left=_.right:1==fA()&&(_.left=_.right?-_.right:_.right)):null!=_.right&&(_.left=C.scrollWidth-C.clientWidth-_.right),this._applyScrollToOptions(_)}_applyScrollToOptions(_){const C=this.elementRef.nativeElement;!function(){if(null==t1){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return t1=!1,t1;if("scrollBehavior"in document.documentElement.style)t1=!0;else{const A=Element.prototype.scrollTo;t1=!!A&&!/\{\s*\[native code\]\s*\}/.test(A.toString())}}return t1}()?(null!=_.top&&(C.scrollTop=_.top),null!=_.left&&(C.scrollLeft=_.left)):C.scrollTo(_)}measureScrollOffset(_){const C="left",I="right",j=this.elementRef.nativeElement;if("top"==_)return j.scrollTop;if("bottom"==_)return j.scrollHeight-j.clientHeight-j.scrollTop;const K=this.dir&&"rtl"==this.dir.value;return"start"==_?_=K?I:C:"end"==_&&(_=K?C:I),K&&2==fA()?_==C?j.scrollWidth-j.clientWidth-j.scrollLeft:j.scrollLeft:K&&1==fA()?_==C?j.scrollLeft+j.scrollWidth-j.clientWidth:-j.scrollLeft:_==C?j.scrollLeft:j.scrollWidth-j.clientWidth-j.scrollLeft}}return A.\u0275fac=function(_){return new(_||A)(rn(_o),rn(_k),rn(Eo),rn(fk,8))},A.\u0275dir=Fr({type:A,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),A})(),$K=(()=>{class A{constructor(_,C,I){this._platform=_,this._change=new Se,this._changeListener=j=>{this._change.next(j)},this._document=I,C.runOutsideAngular(()=>{if(_.isBrowser){const j=this._getWindow();j.addEventListener("resize",this._changeListener),j.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const _=this._getWindow();_.removeEventListener("resize",this._changeListener),_.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const _={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),_}getViewportRect(){const _=this.getViewportScrollPosition(),{width:C,height:I}=this.getViewportSize();return{top:_.top,left:_.left,bottom:_.top+I,right:_.left+C,height:I,width:C}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const _=this._document,C=this._getWindow(),I=_.documentElement,j=I.getBoundingClientRect();return{top:-j.top||_.body.scrollTop||C.scrollY||I.scrollTop||0,left:-j.left||_.body.scrollLeft||C.scrollX||I.scrollLeft||0}}change(_=20){return _>0?this._change.pipe(rT(_)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const _=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:_.innerWidth,height:_.innerHeight}:{width:0,height:0}}}return A.\u0275fac=function(_){return new(_||A)(xr(dk),xr(Eo),xr(Lc,8))},A.\u0275prov=di({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();const JK="undefined"!=typeof requestAnimationFrame?gK:CK;let mA=(()=>{class A extends bk{constructor(_,C,I,j,K,q,ue){super(_,q,I,K),this.elementRef=_,this._changeDetectorRef=C,this._scrollStrategy=j,this._detachedSubject=new Se,this._renderedRangeSubject=new Se,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new qe(Re=>this._scrollStrategy.scrolledIndexChange.subscribe(Je=>Promise.resolve().then(()=>this.ngZone.run(()=>Re.next(Je))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Ce.EMPTY,this._viewportChanges=ue.change().subscribe(()=>{this.checkViewportSize()})}get orientation(){return this._orientation}set orientation(_){this._orientation!==_&&(this._orientation=_,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(_){this._appendOnly=function(A){return null!=A&&"false"!=`${A}`}(_)}ngOnInit(){super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.elementScrolled().pipe(hk(null),rT(0,JK)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()}))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(_){this.ngZone.runOutsideAngular(()=>{this._forOf=_,this._forOf.dataStream.pipe(sT(this._detachedSubject)).subscribe(C=>{const I=C.length;I!==this._dataLength&&(this._dataLength=I,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}setTotalContentSize(_){this._totalContentSize!==_&&(this._totalContentSize=_,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(_){(function(A,w){return A.start==w.start&&A.end==w.end})(this._renderedRange,_)||(this.appendOnly&&(_={start:0,end:Math.max(this._renderedRange.end,_.end)}),this._renderedRangeSubject.next(this._renderedRange=_),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(_,C="to-start"){const j="horizontal"==this.orientation,K=j?"X":"Y";let ue=`translate${K}(${Number((j&&this.dir&&"rtl"==this.dir.value?-1:1)*_)}px)`;this._renderedContentOffset=_,"to-end"===C&&(ue+=` translate${K}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=ue&&(this._renderedContentTransform=ue,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(_,C="auto"){const I={behavior:C};"horizontal"===this.orientation?I.start=_:I.top=_,this.scrollTo(I)}scrollToIndex(_,C="auto"){this._scrollStrategy.scrollToIndex(_,C)}measureScrollOffset(_){return super.measureScrollOffset(_||("horizontal"===this.orientation?"start":"top"))}measureRenderedContentSize(){const _=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?_.offsetWidth:_.offsetHeight}measureRangeSize(_){return this._forOf?this._forOf.measureRangeSize(_,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){const _=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?_.clientWidth:_.clientHeight}_markChangeDetectionNeeded(_){_&&this._runAfterChangeDetection.push(_),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const _=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const C of _)C()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return A.\u0275fac=function(_){return new(_||A)(rn(_o),rn(Gl),rn(Eo),rn(yk,8),rn(fk,8),rn(_k),rn($K))},A.\u0275cmp=dr({type:A,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(_,C){if(1&_&&zo(VK,7),2&_){let I;lo(I=co())&&(C._contentWrapper=I.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(_,C){2&_&&Sd("cdk-virtual-scroll-orientation-horizontal","horizontal"===C.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==C.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[Vs([{provide:bk,useExisting:A}]),Sr],ngContentSelectors:zK,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(_,C){1&_&&(vf(),pt(0,"div",0,1),Nh(2),ft(),Bn(3,"div",2)),2&_&&(vt(3),Dp("width",C._totalContentWidth)("height",C._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),A})();function Ak(A,w,_){if(!_.getBoundingClientRect)return 0;const I=_.getBoundingClientRect();return"horizontal"===A?"start"===w?I.left:I.right:"start"===w?I.top:I.bottom}let wk=(()=>{class A{constructor(_,C,I,j,K,q){this._viewContainerRef=_,this._template=C,this._differs=I,this._viewRepeater=j,this._viewport=K,this.viewChange=new Se,this._dataSourceChanges=new Se,this.dataStream=this._dataSourceChanges.pipe(hk(null),ut((A,w)=>{let _,C=!1;A.subscribe(new xt(w,I=>{const j=_;_=I,C&&w.next([j,I]),C=!0}))}),FD(([ue,Re])=>this._changeDataSource(ue,Re)),RD(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new Se,this.dataStream.subscribe(ue=>{this._data=ue,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(sT(this._destroyed)).subscribe(ue=>{this._renderedRange=ue,q.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(_){this._cdkVirtualForOf=_,function(A){return A&&"function"==typeof A.connect}(_)?this._dataSourceChanges.next(_):this._dataSourceChanges.next(new jK(Tp(_)?_:Array.from(_||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(_){this._needsUpdate=!0,this._cdkVirtualForTrackBy=_?(C,I)=>_(C+(this._renderedRange?this._renderedRange.start:0),I):void 0}set cdkVirtualForTemplate(_){_&&(this._needsUpdate=!0,this._template=_)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(_){this._viewRepeater.viewCacheSize=kC(_)}measureRangeSize(_,C){if(_.start>=_.end)return 0;const I=_.start-this._renderedRange.start,j=_.end-_.start;let K,q;for(let ue=0;ue<j;ue++){const Re=this._viewContainerRef.get(ue+I);if(Re&&Re.rootNodes.length){K=q=Re.rootNodes[0];break}}for(let ue=j-1;ue>-1;ue--){const Re=this._viewContainerRef.get(ue+I);if(Re&&Re.rootNodes.length){q=Re.rootNodes[Re.rootNodes.length-1];break}}return K&&q?Ak(C,"end",q)-Ak(C,"start",K):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const _=this._differ.diff(this._renderedItems);_?this._applyChanges(_):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){!this._renderedRange||(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((_,C)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(_,C):C)),this._needsUpdate=!0)}_changeDataSource(_,C){return _&&_.disconnect(this),this._needsUpdate=!0,C?C.connect(this):Kh()}_updateContext(){const _=this._data.length;let C=this._viewContainerRef.length;for(;C--;){const I=this._viewContainerRef.get(C);I.context.index=this._renderedRange.start+C,I.context.count=_,this._updateComputedContextProperties(I.context),I.detectChanges()}}_applyChanges(_){this._viewRepeater.applyChanges(_,this._viewContainerRef,(j,K,q)=>this._getEmbeddedViewArgs(j,q),j=>j.item),_.forEachIdentityChange(j=>{this._viewContainerRef.get(j.currentIndex).context.$implicit=j.item});const C=this._data.length;let I=this._viewContainerRef.length;for(;I--;){const j=this._viewContainerRef.get(I);j.context.index=this._renderedRange.start+I,j.context.count=C,this._updateComputedContextProperties(j.context)}}_updateComputedContextProperties(_){_.first=0===_.index,_.last=_.index===_.count-1,_.even=_.index%2==0,_.odd=!_.even}_getEmbeddedViewArgs(_,C){return{templateRef:this._template,context:{$implicit:_.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:C}}}return A.\u0275fac=function(_){return new(_||A)(rn(Od),rn(Vh),rn(Sy),rn(gk),rn(mA,4),rn(Eo))},A.\u0275dir=Fr({type:A,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[Vs([{provide:gk,useClass:HK}])]}),A})(),Ck=(()=>{class A{}return A.\u0275fac=function(_){return new(_||A)},A.\u0275mod=Rr({type:A}),A.\u0275inj=Bi({}),A})(),UC=(()=>{class A{}return A.\u0275fac=function(_){return new(_||A)},A.\u0275mod=Rr({type:A}),A.\u0275inj=Bi({imports:[[mk,IK,Ck],mk,Ck]}),A})();class xk{}const jf="*";function lT(A,w){return{type:7,name:A,definitions:w,options:{}}}function ym(A,w=null){return{type:4,styles:w,timings:A}}function Ek(A,w=null){return{type:2,steps:A,options:w}}function qh(A){return{type:6,styles:A,offset:null}}function YK(A,w,_){return{type:0,name:A,styles:w,options:_}}function vm(A,w,_=null){return{type:1,expr:A,animation:w,options:_}}function Dk(A,w=null){return{type:8,animation:A,options:w}}function Mk(A,w=null){return{type:10,animation:A,options:w}}function Sk(A){Promise.resolve(null).then(A)}class hv{constructor(w=0,_=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=w+_}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(w=>w()),this._onDoneFns=[])}onStart(w){this._onStartFns.push(w)}onDone(w){this._onDoneFns.push(w)}onDestroy(w){this._onDestroyFns.push(w)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Sk(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(w=>w()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(w=>w()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(w){this._position=this.totalTime?w*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(w){const _="start"==w?this._onStartFns:this._onDoneFns;_.forEach(C=>C()),_.length=0}}class Tk{constructor(w){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=w;let _=0,C=0,I=0;const j=this.players.length;0==j?Sk(()=>this._onFinish()):this.players.forEach(K=>{K.onDone(()=>{++_==j&&this._onFinish()}),K.onDestroy(()=>{++C==j&&this._onDestroy()}),K.onStart(()=>{++I==j&&this._onStart()})}),this.totalTime=this.players.reduce((K,q)=>Math.max(K,q.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(w=>w()),this._onDoneFns=[])}init(){this.players.forEach(w=>w.init())}onStart(w){this._onStartFns.push(w)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(w=>w()),this._onStartFns=[])}onDone(w){this._onDoneFns.push(w)}onDestroy(w){this._onDestroyFns.push(w)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(w=>w.play())}pause(){this.players.forEach(w=>w.pause())}restart(){this.players.forEach(w=>w.restart())}finish(){this._onFinish(),this.players.forEach(w=>w.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(w=>w.destroy()),this._onDestroyFns.forEach(w=>w()),this._onDestroyFns=[])}reset(){this.players.forEach(w=>w.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(w){const _=w*this.totalTime;this.players.forEach(C=>{const I=C.totalTime?Math.min(1,_/C.totalTime):1;C.setPosition(I)})}getPosition(){const w=this.players.reduce((_,C)=>null===_||C.totalTime>_.totalTime?C:_,null);return null!=w?w.getPosition():0}beforeDestroy(){this.players.forEach(w=>{w.beforeDestroy&&w.beforeDestroy()})}triggerCallback(w){const _="start"==w?this._onStartFns:this._onDoneFns;_.forEach(C=>C()),_.length=0}}class Jr{static equals(w,_,C){return C?this.resolveFieldData(w,C)===this.resolveFieldData(_,C):this.equalsByValue(w,_)}static equalsByValue(w,_){if(w===_)return!0;if(w&&_&&"object"==typeof w&&"object"==typeof _){var j,K,q,C=Array.isArray(w),I=Array.isArray(_);if(C&&I){if((K=w.length)!=_.length)return!1;for(j=K;0!=j--;)if(!this.equalsByValue(w[j],_[j]))return!1;return!0}if(C!=I)return!1;var ue=w instanceof Date,Re=_ instanceof Date;if(ue!=Re)return!1;if(ue&&Re)return w.getTime()==_.getTime();var Je=w instanceof RegExp,wt=_ instanceof RegExp;if(Je!=wt)return!1;if(Je&&wt)return w.toString()==_.toString();var Qt=Object.keys(w);if((K=Qt.length)!==Object.keys(_).length)return!1;for(j=K;0!=j--;)if(!Object.prototype.hasOwnProperty.call(_,Qt[j]))return!1;for(j=K;0!=j--;)if(!this.equalsByValue(w[q=Qt[j]],_[q]))return!1;return!0}return w!=w&&_!=_}static resolveFieldData(w,_){if(w&&_){if(this.isFunction(_))return _(w);if(-1==_.indexOf("."))return w[_];{let C=_.split("."),I=w;for(let j=0,K=C.length;j<K;++j){if(null==I)return null;I=I[C[j]]}return I}}return null}static isFunction(w){return!!(w&&w.constructor&&w.call&&w.apply)}static reorderArray(w,_,C){w&&_!==C&&(C>=w.length&&(C%=w.length,_%=w.length),w.splice(C,0,w.splice(_,1)[0]))}static insertIntoOrderedArray(w,_,C,I){if(C.length>0){let j=!1;for(let K=0;K<C.length;K++)if(this.findIndexInList(C[K],I)>_){C.splice(K,0,w),j=!0;break}j||C.push(w)}else C.push(w)}static findIndexInList(w,_){let C=-1;if(_)for(let I=0;I<_.length;I++)if(_[I]==w){C=I;break}return C}static contains(w,_){if(null!=w&&_&&_.length)for(let C of _)if(this.equals(w,C))return!0;return!1}static removeAccents(w){return w&&w.search(/[\xC0-\xFF]/g)>-1&&(w=w.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),w}}var Ik=0;function uT(){return"pr_id_"+ ++Ik}var ed=function(){let A=[];const I=j=>j&&parseInt(j.style.zIndex,10)||0;return{get:I,set:(j,K,q)=>{K&&(K.style.zIndex=String(((j,K)=>{let q=A.length>0?A[A.length-1]:{key:j,value:K},ue=q.value+(q.key===j?0:K)+1;return A.push({key:j,value:ue}),ue})(j,q)))},clear:j=>{j&&((j=>{A=A.filter(K=>K.value!==j)})(I(j)),j.style.zIndex="")},getCurrent:()=>A.length>0?A[A.length-1].value:0}}();const Ok=["*"];let _c=(()=>{class A{}return A.STARTS_WITH="startsWith",A.CONTAINS="contains",A.NOT_CONTAINS="notContains",A.ENDS_WITH="endsWith",A.EQUALS="equals",A.NOT_EQUALS="notEquals",A.IN="in",A.LESS_THAN="lt",A.LESS_THAN_OR_EQUAL_TO="lte",A.GREATER_THAN="gt",A.GREATER_THAN_OR_EQUAL_TO="gte",A.BETWEEN="between",A.IS="is",A.IS_NOT="isNot",A.BEFORE="before",A.AFTER="after",A.DATE_IS="dateIs",A.DATE_IS_NOT="dateIsNot",A.DATE_BEFORE="dateBefore",A.DATE_AFTER="dateAfter",A})(),gA=(()=>{class A{constructor(){this.ripple=!1,this.filterMatchModeOptions={text:[_c.STARTS_WITH,_c.CONTAINS,_c.NOT_CONTAINS,_c.ENDS_WITH,_c.EQUALS,_c.NOT_EQUALS],numeric:[_c.EQUALS,_c.NOT_EQUALS,_c.LESS_THAN,_c.LESS_THAN_OR_EQUAL_TO,_c.GREATER_THAN,_c.GREATER_THAN_OR_EQUAL_TO],date:[_c.DATE_IS,_c.DATE_IS_NOT,_c.DATE_BEFORE,_c.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new Se,this.translationObserver=this.translationSource.asObservable()}getTranslation(_){return this.translation[_]}setTranslation(_){this.translation=Object.assign(Object.assign({},this.translation),_),this.translationSource.next(this.translation)}}return A.\u0275fac=function(_){return new(_||A)},A.\u0275prov=di({token:A,factory:A.\u0275fac,providedIn:"root"}),A})(),td=(()=>{class A{}return A.STARTS_WITH="startsWith",A.CONTAINS="contains",A.NOT_CONTAINS="notContains",A.ENDS_WITH="endsWith",A.EQUALS="equals",A.NOT_EQUALS="notEquals",A.NO_FILTER="noFilter",A.LT="lt",A.LTE="lte",A.GT="gt",A.GTE="gte",A.IS="is",A.IS_NOT="isNot",A.BEFORE="before",A.AFTER="after",A.CLEAR="clear",A.APPLY="apply",A.MATCH_ALL="matchAll",A.MATCH_ANY="matchAny",A.ADD_RULE="addRule",A.REMOVE_RULE="removeRule",A.ACCEPT="accept",A.REJECT="reject",A.CHOOSE="choose",A.UPLOAD="upload",A.CANCEL="cancel",A.DAY_NAMES="dayNames",A.DAY_NAMES_SHORT="dayNamesShort",A.DAY_NAMES_MIN="dayNamesMin",A.MONTH_NAMES="monthNames",A.MONTH_NAMES_SHORT="monthNamesShort",A.TODAY="today",A.WEEK_HEADER="weekHeader",A.WEAK="weak",A.MEDIUM="medium",A.STRONG="strong",A.PASSWORD_PROMPT="passwordPrompt",A.EMPTY_MESSAGE="emptyMessage",A.EMPTY_FILTER_MESSAGE="emptyFilterMessage",A})(),Pk=(()=>{class A{constructor(){this.filters={startsWith:(_,C,I)=>{if(null==C||""===C.trim())return!0;if(null==_)return!1;let j=Jr.removeAccents(C.toString()).toLocaleLowerCase(I);return Jr.removeAccents(_.toString()).toLocaleLowerCase(I).slice(0,j.length)===j},contains:(_,C,I)=>{if(null==C||"string"==typeof C&&""===C.trim())return!0;if(null==_)return!1;let j=Jr.removeAccents(C.toString()).toLocaleLowerCase(I);return-1!==Jr.removeAccents(_.toString()).toLocaleLowerCase(I).indexOf(j)},notContains:(_,C,I)=>{if(null==C||"string"==typeof C&&""===C.trim())return!0;if(null==_)return!1;let j=Jr.removeAccents(C.toString()).toLocaleLowerCase(I);return-1===Jr.removeAccents(_.toString()).toLocaleLowerCase(I).indexOf(j)},endsWith:(_,C,I)=>{if(null==C||""===C.trim())return!0;if(null==_)return!1;let j=Jr.removeAccents(C.toString()).toLocaleLowerCase(I),K=Jr.removeAccents(_.toString()).toLocaleLowerCase(I);return-1!==K.indexOf(j,K.length-j.length)},equals:(_,C,I)=>null==C||"string"==typeof C&&""===C.trim()||null!=_&&(_.getTime&&C.getTime?_.getTime()===C.getTime():Jr.removeAccents(_.toString()).toLocaleLowerCase(I)==Jr.removeAccents(C.toString()).toLocaleLowerCase(I)),notEquals:(_,C,I)=>!(null==C||"string"==typeof C&&""===C.trim()||null!=_&&(_.getTime&&C.getTime?_.getTime()===C.getTime():Jr.removeAccents(_.toString()).toLocaleLowerCase(I)==Jr.removeAccents(C.toString()).toLocaleLowerCase(I))),in:(_,C)=>{if(null==C||0===C.length)return!0;for(let I=0;I<C.length;I++)if(Jr.equals(_,C[I]))return!0;return!1},between:(_,C)=>null==C||null==C[0]||null==C[1]||null!=_&&(_.getTime?C[0].getTime()<=_.getTime()&&_.getTime()<=C[1].getTime():C[0]<=_&&_<=C[1]),lt:(_,C,I)=>null==C||null!=_&&(_.getTime&&C.getTime?_.getTime()<C.getTime():_<C),lte:(_,C,I)=>null==C||null!=_&&(_.getTime&&C.getTime?_.getTime()<=C.getTime():_<=C),gt:(_,C,I)=>null==C||null!=_&&(_.getTime&&C.getTime?_.getTime()>C.getTime():_>C),gte:(_,C,I)=>null==C||null!=_&&(_.getTime&&C.getTime?_.getTime()>=C.getTime():_>=C),is:(_,C,I)=>this.filters.equals(_,C,I),isNot:(_,C,I)=>this.filters.notEquals(_,C,I),before:(_,C,I)=>this.filters.lt(_,C,I),after:(_,C,I)=>this.filters.gt(_,C,I),dateIs:(_,C)=>null==C||null!=_&&_.toDateString()===C.toDateString(),dateIsNot:(_,C)=>null==C||null!=_&&_.toDateString()!==C.toDateString(),dateBefore:(_,C)=>null==C||null!=_&&_.getTime()<C.getTime(),dateAfter:(_,C)=>null==C||null!=_&&_.getTime()>C.getTime()}}filter(_,C,I,j,K){let q=[];if(_)for(let ue of _)for(let Re of C){let Je=Jr.resolveFieldData(ue,Re);if(this.filters[j](Je,I,K)){q.push(ue);break}}return q}register(_,C){this.filters[_]=C}}return A.\u0275fac=function(_){return new(_||A)},A.\u0275prov=di({token:A,factory:A.\u0275fac,providedIn:"root"}),A})(),hT=(()=>{class A{constructor(){this.clickSource=new Se,this.clickObservable=this.clickSource.asObservable()}add(_){_&&this.clickSource.next(_)}}return A.\u0275fac=function(_){return new(_||A)},A.\u0275prov=di({token:A,factory:A.\u0275fac,providedIn:"root"}),A})(),kk=(()=>{class A{}return A.AND="and",A.OR="or",A})(),eQ=(()=>{class A{}return A.\u0275fac=function(_){return new(_||A)},A.\u0275cmp=dr({type:A,selectors:[["p-header"]],ngContentSelectors:Ok,decls:1,vars:0,template:function(_,C){1&_&&(vf(),Nh(0))},encapsulation:2}),A})(),tQ=(()=>{class A{}return A.\u0275fac=function(_){return new(_||A)},A.\u0275cmp=dr({type:A,selectors:[["p-footer"]],ngContentSelectors:Ok,decls:1,vars:0,template:function(_,C){1&_&&(vf(),Nh(0))},encapsulation:2}),A})(),dv=(()=>{class A{constructor(_){this.template=_}getType(){return this.name}}return A.\u0275fac=function(_){return new(_||A)(rn(Vh))},A.\u0275dir=Fr({type:A,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),A})(),_m=(()=>{class A{}return A.\u0275fac=function(_){return new(_||A)},A.\u0275mod=Rr({type:A}),A.\u0275inj=Bi({imports:[[pl]]}),A})(),Nn=(()=>{class A{static addClass(_,C){_.classList?_.classList.add(C):_.className+=" "+C}static addMultipleClasses(_,C){if(_.classList){let I=C.trim().split(" ");for(let j=0;j<I.length;j++)_.classList.add(I[j])}else{let I=C.split(" ");for(let j=0;j<I.length;j++)_.className+=" "+I[j]}}static removeClass(_,C){_.classList?_.classList.remove(C):_.className=_.className.replace(new RegExp("(^|\\b)"+C.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(_,C){return _.classList?_.classList.contains(C):new RegExp("(^| )"+C+"( |$)","gi").test(_.className)}static siblings(_){return Array.prototype.filter.call(_.parentNode.children,function(C){return C!==_})}static find(_,C){return Array.from(_.querySelectorAll(C))}static findSingle(_,C){return _?_.querySelector(C):null}static index(_){let C=_.parentNode.childNodes,I=0;for(var j=0;j<C.length;j++){if(C[j]==_)return I;1==C[j].nodeType&&I++}return-1}static indexWithinGroup(_,C){let I=_.parentNode?_.parentNode.childNodes:[],j=0;for(var K=0;K<I.length;K++){if(I[K]==_)return j;I[K].attributes&&I[K].attributes[C]&&1==I[K].nodeType&&j++}return-1}static relativePosition(_,C){let I=_.offsetParent?{width:_.offsetWidth,height:_.offsetHeight}:this.getHiddenElementDimensions(_);const j=C.offsetHeight,K=C.getBoundingClientRect(),q=this.getViewport();let ue,Re;K.top+j+I.height>q.height?(ue=-1*I.height,_.style.transformOrigin="bottom",K.top+ue<0&&(ue=-1*K.top)):(ue=j,_.style.transformOrigin="top"),Re=I.width>q.width?-1*K.left:K.left+I.width>q.width?-1*(K.left+I.width-q.width):0,_.style.top=ue+"px",_.style.left=Re+"px"}static absolutePosition(_,C){let ri,Ci,I=_.offsetParent?{width:_.offsetWidth,height:_.offsetHeight}:this.getHiddenElementDimensions(_),j=I.height,K=I.width,q=C.offsetHeight,ue=C.offsetWidth,Re=C.getBoundingClientRect(),Je=this.getWindowScrollTop(),wt=this.getWindowScrollLeft(),Qt=this.getViewport();Re.top+q+j>Qt.height?(ri=Re.top+Je-j,_.style.transformOrigin="bottom",ri<0&&(ri=Je)):(ri=q+Re.top+Je,_.style.transformOrigin="top"),Ci=Re.left+K>Qt.width?Math.max(0,Re.left+wt+ue-K):Re.left+wt,_.style.top=ri+"px",_.style.left=Ci+"px"}static getParents(_,C=[]){return null===_.parentNode?C:this.getParents(_.parentNode,C.concat([_.parentNode]))}static getScrollableParents(_){let C=[];if(_){let I=this.getParents(_);const j=/(auto|scroll)/,K=q=>{let ue=window.getComputedStyle(q,null);return j.test(ue.getPropertyValue("overflow"))||j.test(ue.getPropertyValue("overflowX"))||j.test(ue.getPropertyValue("overflowY"))};for(let q of I){let ue=1===q.nodeType&&q.dataset.scrollselectors;if(ue){let Re=ue.split(",");for(let Je of Re){let wt=this.findSingle(q,Je);wt&&K(wt)&&C.push(wt)}}9!==q.nodeType&&K(q)&&C.push(q)}}return C}static getHiddenElementOuterHeight(_){_.style.visibility="hidden",_.style.display="block";let C=_.offsetHeight;return _.style.display="none",_.style.visibility="visible",C}static getHiddenElementOuterWidth(_){_.style.visibility="hidden",_.style.display="block";let C=_.offsetWidth;return _.style.display="none",_.style.visibility="visible",C}static getHiddenElementDimensions(_){let C={};return _.style.visibility="hidden",_.style.display="block",C.width=_.offsetWidth,C.height=_.offsetHeight,_.style.display="none",_.style.visibility="visible",C}static scrollInView(_,C){let I=getComputedStyle(_).getPropertyValue("borderTopWidth"),j=I?parseFloat(I):0,K=getComputedStyle(_).getPropertyValue("paddingTop"),q=K?parseFloat(K):0,ue=_.getBoundingClientRect(),Je=C.getBoundingClientRect().top+document.body.scrollTop-(ue.top+document.body.scrollTop)-j-q,wt=_.scrollTop,Qt=_.clientHeight,ri=this.getOuterHeight(C);Je<0?_.scrollTop=wt+Je:Je+ri>Qt&&(_.scrollTop=wt+Je-Qt+ri)}static fadeIn(_,C){_.style.opacity=0;let I=+new Date,j=0,K=function(){j=+_.style.opacity.replace(",",".")+((new Date).getTime()-I)/C,_.style.opacity=j,I=+new Date,+j<1&&(window.requestAnimationFrame&&requestAnimationFrame(K)||setTimeout(K,16))};K()}static fadeOut(_,C){var I=1,q=50/C;let ue=setInterval(()=>{(I-=q)<=0&&(I=0,clearInterval(ue)),_.style.opacity=I},50)}static getWindowScrollTop(){let _=document.documentElement;return(window.pageYOffset||_.scrollTop)-(_.clientTop||0)}static getWindowScrollLeft(){let _=document.documentElement;return(window.pageXOffset||_.scrollLeft)-(_.clientLeft||0)}static matches(_,C){var I=Element.prototype;return(I.matches||I.webkitMatchesSelector||I.mozMatchesSelector||I.msMatchesSelector||function(K){return-1!==[].indexOf.call(document.querySelectorAll(K),this)}).call(_,C)}static getOuterWidth(_,C){let I=_.offsetWidth;if(C){let j=getComputedStyle(_);I+=parseFloat(j.marginLeft)+parseFloat(j.marginRight)}return I}static getHorizontalPadding(_){let C=getComputedStyle(_);return parseFloat(C.paddingLeft)+parseFloat(C.paddingRight)}static getHorizontalMargin(_){let C=getComputedStyle(_);return parseFloat(C.marginLeft)+parseFloat(C.marginRight)}static innerWidth(_){let C=_.offsetWidth,I=getComputedStyle(_);return C+=parseFloat(I.paddingLeft)+parseFloat(I.paddingRight),C}static width(_){let C=_.offsetWidth,I=getComputedStyle(_);return C-=parseFloat(I.paddingLeft)+parseFloat(I.paddingRight),C}static getInnerHeight(_){let C=_.offsetHeight,I=getComputedStyle(_);return C+=parseFloat(I.paddingTop)+parseFloat(I.paddingBottom),C}static getOuterHeight(_,C){let I=_.offsetHeight;if(C){let j=getComputedStyle(_);I+=parseFloat(j.marginTop)+parseFloat(j.marginBottom)}return I}static getHeight(_){let C=_.offsetHeight,I=getComputedStyle(_);return C-=parseFloat(I.paddingTop)+parseFloat(I.paddingBottom)+parseFloat(I.borderTopWidth)+parseFloat(I.borderBottomWidth),C}static getWidth(_){let C=_.offsetWidth,I=getComputedStyle(_);return C-=parseFloat(I.paddingLeft)+parseFloat(I.paddingRight)+parseFloat(I.borderLeftWidth)+parseFloat(I.borderRightWidth),C}static getViewport(){let _=window,C=document,I=C.documentElement,j=C.getElementsByTagName("body")[0];return{width:_.innerWidth||I.clientWidth||j.clientWidth,height:_.innerHeight||I.clientHeight||j.clientHeight}}static getOffset(_){var C=_.getBoundingClientRect();return{top:C.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:C.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(_,C){let I=_.parentNode;if(!I)throw"Can't replace element";return I.replaceChild(C,_)}static getUserAgent(){return navigator.userAgent}static isIE(){var _=window.navigator.userAgent;return _.indexOf("MSIE ")>0||(_.indexOf("Trident/")>0?(_.indexOf("rv:"),!0):_.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}static appendChild(_,C){if(this.isElement(C))C.appendChild(_);else{if(!C.el||!C.el.nativeElement)throw"Cannot append "+C+" to "+_;C.el.nativeElement.appendChild(_)}}static removeChild(_,C){if(this.isElement(C))C.removeChild(_);else{if(!C.el||!C.el.nativeElement)throw"Cannot remove "+_+" from "+C;C.el.nativeElement.removeChild(_)}}static removeElement(_){"remove"in Element.prototype?_.remove():_.parentNode.removeChild(_)}static isElement(_){return"object"==typeof HTMLElement?_ instanceof HTMLElement:_&&"object"==typeof _&&null!==_&&1===_.nodeType&&"string"==typeof _.nodeName}static calculateScrollbarWidth(_){if(_){let C=getComputedStyle(_);return _.offsetWidth-_.clientWidth-parseFloat(C.borderLeftWidth)-parseFloat(C.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let C=document.createElement("div");C.className="p-scrollbar-measure",document.body.appendChild(C);let I=C.offsetWidth-C.clientWidth;return document.body.removeChild(C),this.calculatedScrollbarWidth=I,I}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let _=document.createElement("div");_.className="p-scrollbar-measure",document.body.appendChild(_);let C=_.offsetHeight-_.clientHeight;return document.body.removeChild(_),this.calculatedScrollbarWidth=C,C}static invokeElementMethod(_,C,I){_[C].apply(_,I)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(_){}}static getBrowser(){if(!this.browser){let _=this.resolveUserAgent();this.browser={},_.browser&&(this.browser[_.browser]=!0,this.browser.version=_.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let _=navigator.userAgent.toLowerCase(),C=/(chrome)[ \/]([\w.]+)/.exec(_)||/(webkit)[ \/]([\w.]+)/.exec(_)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(_)||/(msie) ([\w.]+)/.exec(_)||_.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(_)||[];return{browser:C[1]||"",version:C[2]||"0"}}static isInteger(_){return Number.isInteger?Number.isInteger(_):"number"==typeof _&&isFinite(_)&&Math.floor(_)===_}static isHidden(_){return null===_.offsetParent}static getFocusableElements(_){let C=A.find(_,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]:not(.p-disabled))'),I=[];for(let j of C)"none"!=getComputedStyle(j).display&&"hidden"!=getComputedStyle(j).visibility&&I.push(j);return I}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}}return A.zindex=1e3,A.calculatedScrollbarWidth=null,A.calculatedScrollbarHeight=null,A})();class dT{constructor(w,_=(()=>{})){this.element=w,this.listener=_}bindScrollListener(){this.scrollableParents=Nn.getScrollableParents(this.element);for(let w=0;w<this.scrollableParents.length;w++)this.scrollableParents[w].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let w=0;w<this.scrollableParents.length;w++)this.scrollableParents[w].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}let Lk=(()=>{class A{constructor(_,C){this._renderer=_,this._elementRef=C,this.onChange=I=>{},this.onTouched=()=>{}}setProperty(_,C){this._renderer.setProperty(this._elementRef.nativeElement,_,C)}registerOnTouched(_){this.onTouched=_}registerOnChange(_){this.onChange=_}setDisabledState(_){this.setProperty("disabled",_)}}return A.\u0275fac=function(_){return new(_||A)(rn(Hh),rn(_o))},A.\u0275dir=Fr({type:A}),A})(),n1=(()=>{class A extends Lk{}return A.\u0275fac=function(){let w;return function(C){return(w||(w=al(A)))(C||A)}}(),A.\u0275dir=Fr({type:A,features:[Sr]}),A})();const Fl=new ms("NgValueAccessor"),nQ={provide:Fl,useExisting:Ht(()=>pv),multi:!0},sQ=new ms("CompositionEventMode");let pv=(()=>{class A extends Lk{constructor(_,C,I){super(_,C),this._compositionMode=I,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const A=Ng()?Ng().getUserAgent():"";return/android (\d+)/.test(A.toLowerCase())}())}writeValue(_){this.setProperty("value",null==_?"":_)}_handleInput(_){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(_)}_compositionStart(){this._composing=!0}_compositionEnd(_){this._composing=!1,this._compositionMode&&this.onChange(_)}}return A.\u0275fac=function(_){return new(_||A)(rn(Hh),rn(_o),rn(sQ,8))},A.\u0275dir=Fr({type:A,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(_,C){1&_&&An("input",function(j){return C._handleInput(j.target.value)})("blur",function(){return C.onTouched()})("compositionstart",function(){return C._compositionStart()})("compositionend",function(j){return C._compositionEnd(j.target.value)})},features:[Vs([nQ]),Sr]}),A})();function bm(A){return null==A||0===A.length}function Rk(A){return null!=A&&"number"==typeof A.length}const bc=new ms("NgValidators"),Am=new ms("NgAsyncValidators"),oQ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function yA(A){return null}function Kk(A){return null!=A}function Qk(A){const w=Mg(A)?Oi(A):A;return uy(w),w}function Gk(A){let w={};return A.forEach(_=>{w=null!=_?Object.assign(Object.assign({},w),_):w}),0===Object.keys(w).length?null:w}function $k(A,w){return w.map(_=>_(A))}function Zk(A){return A.map(w=>function(A){return!A.validate}(w)?w:_=>w.validate(_))}function pT(A){return null!=A?function(A){if(!A)return null;const w=A.filter(Kk);return 0==w.length?null:function(_){return Gk($k(_,w))}}(Zk(A)):null}function fT(A){return null!=A?function(A){if(!A)return null;const w=A.filter(Kk);return 0==w.length?null:function(_){return NO($k(_,w).map(Qk)).pipe(Ze(Gk))}}(Zk(A)):null}function Yk(A,w){return null===A?[w]:Array.isArray(A)?[...A,w]:[A,w]}function mT(A){return A?Array.isArray(A)?A:[A]:[]}function jC(A,w){return Array.isArray(A)?A.includes(w):A===w}function tL(A,w){const _=mT(w);return mT(A).forEach(I=>{jC(_,I)||_.push(I)}),_}function iL(A,w){return mT(w).filter(_=>!jC(A,_))}class nL{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(w){this._rawValidators=w||[],this._composedValidatorFn=pT(this._rawValidators)}_setAsyncValidators(w){this._rawAsyncValidators=w||[],this._composedAsyncValidatorFn=fT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(w){this._onDestroyCallbacks.push(w)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(w=>w()),this._onDestroyCallbacks=[]}reset(w){this.control&&this.control.reset(w)}hasError(w,_){return!!this.control&&this.control.hasError(w,_)}getError(w,_){return this.control?this.control.getError(w,_):null}}class Hf extends nL{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class su extends nL{get formDirective(){return null}get path(){return null}}class rL{constructor(w){this._cd=w}is(w){var _,C,I;return"submitted"===w?!!(null===(_=this._cd)||void 0===_?void 0:_.submitted):!!(null===(I=null===(C=this._cd)||void 0===C?void 0:C.control)||void 0===I?void 0:I[w])}}let Qd=(()=>{class A extends rL{constructor(_){super(_)}}return A.\u0275fac=function(_){return new(_||A)(rn(Hf,2))},A.\u0275dir=Fr({type:A,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(_,C){2&_&&Sd("ng-untouched",C.is("untouched"))("ng-touched",C.is("touched"))("ng-pristine",C.is("pristine"))("ng-dirty",C.is("dirty"))("ng-valid",C.is("valid"))("ng-invalid",C.is("invalid"))("ng-pending",C.is("pending"))},features:[Sr]}),A})(),sL=(()=>{class A extends rL{constructor(_){super(_)}}return A.\u0275fac=function(_){return new(_||A)(rn(su,10))},A.\u0275dir=Fr({type:A,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(_,C){2&_&&Sd("ng-untouched",C.is("untouched"))("ng-touched",C.is("touched"))("ng-pristine",C.is("pristine"))("ng-dirty",C.is("dirty"))("ng-valid",C.is("valid"))("ng-invalid",C.is("invalid"))("ng-pending",C.is("pending"))("ng-submitted",C.is("submitted"))},features:[Sr]}),A})();function vA(A,w){vT(A,w),w.valueAccessor.writeValue(A.value),function(A,w){w.valueAccessor.registerOnChange(_=>{A._pendingValue=_,A._pendingChange=!0,A._pendingDirty=!0,"change"===A.updateOn&&aL(A,w)})}(A,w),function(A,w){const _=(C,I)=>{w.valueAccessor.writeValue(C),I&&w.viewToModelUpdate(C)};A.registerOnChange(_),w._registerOnDestroy(()=>{A._unregisterOnChange(_)})}(A,w),function(A,w){w.valueAccessor.registerOnTouched(()=>{A._pendingTouched=!0,"blur"===A.updateOn&&A._pendingChange&&aL(A,w),"submit"!==A.updateOn&&A.markAsTouched()})}(A,w),function(A,w){if(w.valueAccessor.setDisabledState){const _=C=>{w.valueAccessor.setDisabledState(C)};A.registerOnDisabledChange(_),w._registerOnDestroy(()=>{A._unregisterOnDisabledChange(_)})}}(A,w)}function WC(A,w){A.forEach(_=>{_.registerOnValidatorChange&&_.registerOnValidatorChange(w)})}function vT(A,w){const _=function(A){return A._rawValidators}(A);null!==w.validator?A.setValidators(Yk(_,w.validator)):"function"==typeof _&&A.setValidators([_]);const C=function(A){return A._rawAsyncValidators}(A);null!==w.asyncValidator?A.setAsyncValidators(Yk(C,w.asyncValidator)):"function"==typeof C&&A.setAsyncValidators([C]);const I=()=>A.updateValueAndValidity();WC(w._rawValidators,I),WC(w._rawAsyncValidators,I)}function aL(A,w){A._pendingDirty&&A.markAsDirty(),A.setValue(A._pendingValue,{emitModelToViewChange:!1}),w.viewToModelUpdate(A._pendingValue),A._pendingChange=!1}function QC(A,w){const _=A.indexOf(w);_>-1&&A.splice(_,1)}const _A="VALID",GC="INVALID",fv="PENDING",bA="DISABLED";function wT(A){return(xT(A)?A.validators:A)||null}function uL(A){return Array.isArray(A)?pT(A):A||null}function CT(A,w){return(xT(w)?w.asyncValidators:A)||null}function hL(A){return Array.isArray(A)?fT(A):A||null}function xT(A){return null!=A&&!Array.isArray(A)&&"object"==typeof A}const ET=A=>A instanceof MT;function pL(A){return(A=>A instanceof gL)(A)?A.value:A.getRawValue()}function fL(A,w){const _=ET(A),C=A.controls;if(!(_?Object.keys(C):C).length)throw new Jt(1e3,"");if(!C[w])throw new Jt(1001,"")}function mL(A,w){ET(A),A._forEachChild((C,I)=>{if(void 0===w[I])throw new Jt(1002,"")})}class DT{constructor(w,_){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=w,this._rawAsyncValidators=_,this._composedValidatorFn=uL(this._rawValidators),this._composedAsyncValidatorFn=hL(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(w){this._rawValidators=this._composedValidatorFn=w}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(w){this._rawAsyncValidators=this._composedAsyncValidatorFn=w}get parent(){return this._parent}get valid(){return this.status===_A}get invalid(){return this.status===GC}get pending(){return this.status==fv}get disabled(){return this.status===bA}get enabled(){return this.status!==bA}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(w){this._rawValidators=w,this._composedValidatorFn=uL(w)}setAsyncValidators(w){this._rawAsyncValidators=w,this._composedAsyncValidatorFn=hL(w)}addValidators(w){this.setValidators(tL(w,this._rawValidators))}addAsyncValidators(w){this.setAsyncValidators(tL(w,this._rawAsyncValidators))}removeValidators(w){this.setValidators(iL(w,this._rawValidators))}removeAsyncValidators(w){this.setAsyncValidators(iL(w,this._rawAsyncValidators))}hasValidator(w){return jC(this._rawValidators,w)}hasAsyncValidator(w){return jC(this._rawAsyncValidators,w)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(w={}){this.touched=!0,this._parent&&!w.onlySelf&&this._parent.markAsTouched(w)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(w=>w.markAllAsTouched())}markAsUntouched(w={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(_=>{_.markAsUntouched({onlySelf:!0})}),this._parent&&!w.onlySelf&&this._parent._updateTouched(w)}markAsDirty(w={}){this.pristine=!1,this._parent&&!w.onlySelf&&this._parent.markAsDirty(w)}markAsPristine(w={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(_=>{_.markAsPristine({onlySelf:!0})}),this._parent&&!w.onlySelf&&this._parent._updatePristine(w)}markAsPending(w={}){this.status=fv,!1!==w.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!w.onlySelf&&this._parent.markAsPending(w)}disable(w={}){const _=this._parentMarkedDirty(w.onlySelf);this.status=bA,this.errors=null,this._forEachChild(C=>{C.disable(Object.assign(Object.assign({},w),{onlySelf:!0}))}),this._updateValue(),!1!==w.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},w),{skipPristineCheck:_})),this._onDisabledChange.forEach(C=>C(!0))}enable(w={}){const _=this._parentMarkedDirty(w.onlySelf);this.status=_A,this._forEachChild(C=>{C.enable(Object.assign(Object.assign({},w),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:w.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},w),{skipPristineCheck:_})),this._onDisabledChange.forEach(C=>C(!1))}_updateAncestors(w){this._parent&&!w.onlySelf&&(this._parent.updateValueAndValidity(w),w.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(w){this._parent=w}updateValueAndValidity(w={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_A||this.status===fv)&&this._runAsyncValidator(w.emitEvent)),!1!==w.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!w.onlySelf&&this._parent.updateValueAndValidity(w)}_updateTreeValidity(w={emitEvent:!0}){this._forEachChild(_=>_._updateTreeValidity(w)),this.updateValueAndValidity({onlySelf:!0,emitEvent:w.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?bA:_A}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(w){if(this.asyncValidator){this.status=fv,this._hasOwnPendingAsyncValidator=!0;const _=Qk(this.asyncValidator(this));this._asyncValidationSubscription=_.subscribe(C=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(C,{emitEvent:w})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(w,_={}){this.errors=w,this._updateControlsErrors(!1!==_.emitEvent)}get(w){return function(A,w,_){if(null==w||(Array.isArray(w)||(w=w.split(".")),Array.isArray(w)&&0===w.length))return null;let C=A;return w.forEach(I=>{C=ET(C)?C.controls.hasOwnProperty(I)?C.controls[I]:null:(A=>A instanceof CQ)(C)&&C.at(I)||null}),C}(this,w)}getError(w,_){const C=_?this.get(_):this;return C&&C.errors?C.errors[w]:null}hasError(w,_){return!!this.getError(w,_)}get root(){let w=this;for(;w._parent;)w=w._parent;return w}_updateControlsErrors(w){this.status=this._calculateStatus(),w&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(w)}_initObservables(){this.valueChanges=new er,this.statusChanges=new er}_calculateStatus(){return this._allControlsDisabled()?bA:this.errors?GC:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fv)?fv:this._anyControlsHaveStatus(GC)?GC:_A}_anyControlsHaveStatus(w){return this._anyControls(_=>_.status===w)}_anyControlsDirty(){return this._anyControls(w=>w.dirty)}_anyControlsTouched(){return this._anyControls(w=>w.touched)}_updatePristine(w={}){this.pristine=!this._anyControlsDirty(),this._parent&&!w.onlySelf&&this._parent._updatePristine(w)}_updateTouched(w={}){this.touched=this._anyControlsTouched(),this._parent&&!w.onlySelf&&this._parent._updateTouched(w)}_isBoxedValue(w){return"object"==typeof w&&null!==w&&2===Object.keys(w).length&&"value"in w&&"disabled"in w}_registerOnCollectionChange(w){this._onCollectionChange=w}_setUpdateStrategy(w){xT(w)&&null!=w.updateOn&&(this._updateOn=w.updateOn)}_parentMarkedDirty(w){return!w&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class gL extends DT{constructor(w=null,_,C){super(wT(_),CT(C,_)),this._onChange=[],this._pendingChange=!1,this._applyFormState(w),this._setUpdateStrategy(_),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(w,_={}){this.value=this._pendingValue=w,this._onChange.length&&!1!==_.emitModelToViewChange&&this._onChange.forEach(C=>C(this.value,!1!==_.emitViewToModelChange)),this.updateValueAndValidity(_)}patchValue(w,_={}){this.setValue(w,_)}reset(w=null,_={}){this._applyFormState(w),this.markAsPristine(_),this.markAsUntouched(_),this.setValue(this.value,_),this._pendingChange=!1}_updateValue(){}_anyControls(w){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(w){this._onChange.push(w)}_unregisterOnChange(w){QC(this._onChange,w)}registerOnDisabledChange(w){this._onDisabledChange.push(w)}_unregisterOnDisabledChange(w){QC(this._onDisabledChange,w)}_forEachChild(w){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(w){this._isBoxedValue(w)?(this.value=this._pendingValue=w.value,w.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=w}}class MT extends DT{constructor(w,_,C){super(wT(_),CT(C,_)),this.controls=w,this._initObservables(),this._setUpdateStrategy(_),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(w,_){return this.controls[w]?this.controls[w]:(this.controls[w]=_,_.setParent(this),_._registerOnCollectionChange(this._onCollectionChange),_)}addControl(w,_,C={}){this.registerControl(w,_),this.updateValueAndValidity({emitEvent:C.emitEvent}),this._onCollectionChange()}removeControl(w,_={}){this.controls[w]&&this.controls[w]._registerOnCollectionChange(()=>{}),delete this.controls[w],this.updateValueAndValidity({emitEvent:_.emitEvent}),this._onCollectionChange()}setControl(w,_,C={}){this.controls[w]&&this.controls[w]._registerOnCollectionChange(()=>{}),delete this.controls[w],_&&this.registerControl(w,_),this.updateValueAndValidity({emitEvent:C.emitEvent}),this._onCollectionChange()}contains(w){return this.controls.hasOwnProperty(w)&&this.controls[w].enabled}setValue(w,_={}){mL(this,w),Object.keys(w).forEach(C=>{fL(this,C),this.controls[C].setValue(w[C],{onlySelf:!0,emitEvent:_.emitEvent})}),this.updateValueAndValidity(_)}patchValue(w,_={}){null!=w&&(Object.keys(w).forEach(C=>{this.controls[C]&&this.controls[C].patchValue(w[C],{onlySelf:!0,emitEvent:_.emitEvent})}),this.updateValueAndValidity(_))}reset(w={},_={}){this._forEachChild((C,I)=>{C.reset(w[I],{onlySelf:!0,emitEvent:_.emitEvent})}),this._updatePristine(_),this._updateTouched(_),this.updateValueAndValidity(_)}getRawValue(){return this._reduceChildren({},(w,_,C)=>(w[C]=pL(_),w))}_syncPendingControls(){let w=this._reduceChildren(!1,(_,C)=>!!C._syncPendingControls()||_);return w&&this.updateValueAndValidity({onlySelf:!0}),w}_forEachChild(w){Object.keys(this.controls).forEach(_=>{const C=this.controls[_];C&&w(C,_)})}_setUpControls(){this._forEachChild(w=>{w.setParent(this),w._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(w){for(const _ of Object.keys(this.controls)){const C=this.controls[_];if(this.contains(_)&&w(C))return!0}return!1}_reduceValue(){return this._reduceChildren({},(w,_,C)=>((_.enabled||this.disabled)&&(w[C]=_.value),w))}_reduceChildren(w,_){let C=w;return this._forEachChild((I,j)=>{C=_(C,I,j)}),C}_allControlsDisabled(){for(const w of Object.keys(this.controls))if(this.controls[w].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class CQ extends DT{constructor(w,_,C){super(wT(_),CT(C,_)),this.controls=w,this._initObservables(),this._setUpdateStrategy(_),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(w){return this.controls[w]}push(w,_={}){this.controls.push(w),this._registerControl(w),this.updateValueAndValidity({emitEvent:_.emitEvent}),this._onCollectionChange()}insert(w,_,C={}){this.controls.splice(w,0,_),this._registerControl(_),this.updateValueAndValidity({emitEvent:C.emitEvent})}removeAt(w,_={}){this.controls[w]&&this.controls[w]._registerOnCollectionChange(()=>{}),this.controls.splice(w,1),this.updateValueAndValidity({emitEvent:_.emitEvent})}setControl(w,_,C={}){this.controls[w]&&this.controls[w]._registerOnCollectionChange(()=>{}),this.controls.splice(w,1),_&&(this.controls.splice(w,0,_),this._registerControl(_)),this.updateValueAndValidity({emitEvent:C.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(w,_={}){mL(this,w),w.forEach((C,I)=>{fL(this,I),this.at(I).setValue(C,{onlySelf:!0,emitEvent:_.emitEvent})}),this.updateValueAndValidity(_)}patchValue(w,_={}){null!=w&&(w.forEach((C,I)=>{this.at(I)&&this.at(I).patchValue(C,{onlySelf:!0,emitEvent:_.emitEvent})}),this.updateValueAndValidity(_))}reset(w=[],_={}){this._forEachChild((C,I)=>{C.reset(w[I],{onlySelf:!0,emitEvent:_.emitEvent})}),this._updatePristine(_),this._updateTouched(_),this.updateValueAndValidity(_)}getRawValue(){return this.controls.map(w=>pL(w))}clear(w={}){this.controls.length<1||(this._forEachChild(_=>_._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:w.emitEvent}))}_syncPendingControls(){let w=this.controls.reduce((_,C)=>!!C._syncPendingControls()||_,!1);return w&&this.updateValueAndValidity({onlySelf:!0}),w}_forEachChild(w){this.controls.forEach((_,C)=>{w(_,C)})}_updateValue(){this.value=this.controls.filter(w=>w.enabled||this.disabled).map(w=>w.value)}_anyControls(w){return this.controls.some(_=>_.enabled&&w(_))}_setUpControls(){this._forEachChild(w=>this._registerControl(w))}_allControlsDisabled(){for(const w of this.controls)if(w.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(w){w.setParent(this),w._registerOnCollectionChange(this._onCollectionChange)}}const xQ={provide:su,useExisting:Ht(()=>$C)},AA=(()=>Promise.resolve(null))();let $C=(()=>{class A extends su{constructor(_,C){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new er,this.form=new MT({},pT(_),fT(C))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(_){AA.then(()=>{const C=this._findContainer(_.path);_.control=C.registerControl(_.name,_.control),vA(_.control,_),_.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(_)})}getControl(_){return this.form.get(_.path)}removeControl(_){AA.then(()=>{const C=this._findContainer(_.path);C&&C.removeControl(_.name),QC(this._directives,_)})}addFormGroup(_){AA.then(()=>{const C=this._findContainer(_.path),I=new MT({});(function(A,w){vT(A,w)})(I,_),C.registerControl(_.name,I),I.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(_){AA.then(()=>{const C=this._findContainer(_.path);C&&C.removeControl(_.name)})}getFormGroup(_){return this.form.get(_.path)}updateModel(_,C){AA.then(()=>{this.form.get(_.path).setValue(C)})}setValue(_){this.control.setValue(_)}onSubmit(_){return this.submitted=!0,function(A,w){A._syncPendingControls(),w.forEach(_=>{const C=_.control;"submit"===C.updateOn&&C._pendingChange&&(_.viewToModelUpdate(C._pendingValue),C._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(_),!1}onReset(){this.resetForm()}resetForm(_){this.form.reset(_),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(_){return _.pop(),_.length?this.form.get(_):this.form}}return A.\u0275fac=function(_){return new(_||A)(rn(bc,10),rn(Am,10))},A.\u0275dir=Fr({type:A,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(_,C){1&_&&An("submit",function(j){return C.onSubmit(j)})("reset",function(){return C.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Vs([xQ]),Sr]}),A})();const DQ={provide:Hf,useExisting:Ht(()=>oh)},_L=(()=>Promise.resolve(null))();let oh=(()=>{class A extends Hf{constructor(_,C,I,j){super(),this.control=new gL,this._registered=!1,this.update=new er,this._parent=_,this._setValidators(C),this._setAsyncValidators(I),this.valueAccessor=function(A,w){if(!w)return null;let _,C,I;return Array.isArray(w),w.forEach(j=>{j.constructor===pv?_=j:function(A){return Object.getPrototypeOf(A.constructor)===n1}(j)?C=j:I=j}),I||C||_||null}(0,j)}ngOnChanges(_){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in _&&this._updateDisabled(_),function(A,w){if(!A.hasOwnProperty("model"))return!1;const _=A.model;return!!_.isFirstChange()||!Object.is(w,_.currentValue)}(_,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(A,w){return[...w.path,A]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(_){this.viewModel=_,this.update.emit(_)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){vA(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(_){_L.then(()=>{this.control.setValue(_,{emitViewToModelChange:!1})})}_updateDisabled(_){const C=_.isDisabled.currentValue,I=""===C||C&&"false"!==C;_L.then(()=>{I&&!this.control.disabled?this.control.disable():!I&&this.control.disabled&&this.control.enable()})}}return A.\u0275fac=function(_){return new(_||A)(rn(su,9),rn(bc,10),rn(Am,10),rn(Fl,10))},A.\u0275dir=Fr({type:A,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Vs([DQ]),Sr,go]}),A})(),bL=(()=>{class A{}return A.\u0275fac=function(_){return new(_||A)},A.\u0275dir=Fr({type:A,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),A})(),wL=(()=>{class A{}return A.\u0275fac=function(_){return new(_||A)},A.\u0275mod=Rr({type:A}),A.\u0275inj=Bi({}),A})();function OL(A){return"number"==typeof A?A:parseInt(A,10)}let ZC=(()=>{class A{constructor(){this._validator=yA}ngOnChanges(_){if(this.inputName in _){const C=this.normalizeInput(_[this.inputName].currentValue);this._enabled=this.enabled(C),this._validator=this._enabled?this.createValidator(C):yA,this._onChange&&this._onChange()}}validate(_){return this._validator(_)}registerOnValidatorChange(_){this._onChange=_}enabled(_){return null!=_}}return A.\u0275fac=function(_){return new(_||A)},A.\u0275dir=Fr({type:A,features:[go]}),A})();const WQ={provide:bc,useExisting:Ht(()=>JC),multi:!0};let JC=(()=>{class A{constructor(){this._required=!1}get required(){return this._required}set required(_){this._required=null!=_&&!1!==_&&"false"!=`${_}`,this._onChange&&this._onChange()}validate(_){return this.required?function(A){return bm(A.value)?{required:!0}:null}(_):null}registerOnValidatorChange(_){this._onChange=_}}return A.\u0275fac=function(_){return new(_||A)},A.\u0275dir=Fr({type:A,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(_,C){2&_&&Is("required",C.required?"":null)},inputs:{required:"required"},features:[Vs([WQ])]}),A})();const QQ={provide:bc,useExisting:Ht(()=>kT),multi:!0};let kT=(()=>{class A{constructor(){this._enabled=!1}set email(_){this._enabled=""===_||!0===_||"true"===_,this._onChange&&this._onChange()}validate(_){return this._enabled?function(A){return bm(A.value)||oQ.test(A.value)?null:{email:!0}}(_):null}registerOnValidatorChange(_){this._onChange=_}}return A.\u0275fac=function(_){return new(_||A)},A.\u0275dir=Fr({type:A,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[Vs([QQ])]}),A})();const GQ={provide:bc,useExisting:Ht(()=>LT),multi:!0};let LT=(()=>{class A extends ZC{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=_=>OL(_),this.createValidator=_=>function(A){return w=>bm(w.value)||!Rk(w.value)?null:w.value.length<A?{minlength:{requiredLength:A,actualLength:w.value.length}}:null}(_)}}return A.\u0275fac=function(){let w;return function(C){return(w||(w=al(A)))(C||A)}}(),A.\u0275dir=Fr({type:A,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(_,C){2&_&&Is("minlength",C._enabled?C.minlength:null)},inputs:{minlength:"minlength"},features:[Vs([GQ]),Sr]}),A})();const $Q={provide:bc,useExisting:Ht(()=>BT),multi:!0};let BT=(()=>{class A extends ZC{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=_=>OL(_),this.createValidator=_=>function(A){return w=>Rk(w.value)&&w.value.length>A?{maxlength:{requiredLength:A,actualLength:w.value.length}}:null}(_)}}return A.\u0275fac=function(){let w;return function(C){return(w||(w=al(A)))(C||A)}}(),A.\u0275dir=Fr({type:A,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(_,C){2&_&&Is("maxlength",C._enabled?C.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Vs([$Q]),Sr]}),A})(),JQ=(()=>{class A{}return A.\u0275fac=function(_){return new(_||A)},A.\u0275mod=Rr({type:A}),A.\u0275inj=Bi({imports:[[wL]]}),A})(),XC=(()=>{class A{}return A.\u0275fac=function(_){return new(_||A)},A.\u0275mod=Rr({type:A}),A.\u0275inj=Bi({imports:[JQ]}),A})(),XQ=(()=>{class A{constructor(_,C,I){this.el=_,this.zone=C,this.config=I,this.escape=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!1,positionTop:0,positionLeft:0}}get disabled(){return this._disabled}set disabled(_){this._disabled=_,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{"hover"===this.getOption("tooltipEvent")?(this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.addEventListener("click",this.clickListener)):"focus"===this.getOption("tooltipEvent")&&(this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this),this.el.nativeElement.addEventListener("focus",this.focusListener),this.el.nativeElement.addEventListener("blur",this.blurListener))})}ngOnChanges(_){_.tooltipPosition&&this.setOption({tooltipPosition:_.tooltipPosition.currentValue}),_.tooltipEvent&&this.setOption({tooltipEvent:_.tooltipEvent.currentValue}),_.appendTo&&this.setOption({appendTo:_.appendTo.currentValue}),_.positionStyle&&this.setOption({positionStyle:_.positionStyle.currentValue}),_.tooltipStyleClass&&this.setOption({tooltipStyleClass:_.tooltipStyleClass.currentValue}),_.tooltipZIndex&&this.setOption({tooltipZIndex:_.tooltipZIndex.currentValue}),_.escape&&this.setOption({escape:_.escape.currentValue}),_.showDelay&&this.setOption({showDelay:_.showDelay.currentValue}),_.hideDelay&&this.setOption({hideDelay:_.hideDelay.currentValue}),_.life&&this.setOption({life:_.life.currentValue}),_.positionTop&&this.setOption({positionTop:_.positionTop.currentValue}),_.positionLeft&&this.setOption({positionLeft:_.positionLeft.currentValue}),_.disabled&&this.setOption({disabled:_.disabled.currentValue}),_.text&&(this.setOption({tooltipLabel:_.text.currentValue}),this.active&&(_.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),_.tooltipOptions&&(this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),_.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}onMouseEnter(_){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(_){this.deactivate()}onFocus(_){this.activate()}onBlur(_){this.deactivate()}onClick(_){this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let _=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},_)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let _=document.createElement("div");_.className="p-tooltip-arrow",this.container.appendChild(_),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?Nn.appendChild(this.container,this.el.nativeElement):Nn.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block"}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),Nn.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?ed.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&ed.clear(this.container),this.remove()}updateText(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let _=this.el.nativeElement.getBoundingClientRect();return{left:_.left+Nn.getWindowScrollLeft(),top:_.top+Nn.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let _=this.getHostOffset(),C=_.left+Nn.getOuterWidth(this.el.nativeElement),I=_.top+(Nn.getOuterHeight(this.el.nativeElement)-Nn.getOuterHeight(this.container))/2;this.container.style.left=C+this.getOption("positionLeft")+"px",this.container.style.top=I+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let _=this.getHostOffset(),C=_.left-Nn.getOuterWidth(this.container),I=_.top+(Nn.getOuterHeight(this.el.nativeElement)-Nn.getOuterHeight(this.container))/2;this.container.style.left=C+this.getOption("positionLeft")+"px",this.container.style.top=I+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let _=this.getHostOffset(),C=_.left+(Nn.getOuterWidth(this.el.nativeElement)-Nn.getOuterWidth(this.container))/2,I=_.top-Nn.getOuterHeight(this.container);this.container.style.left=C+this.getOption("positionLeft")+"px",this.container.style.top=I+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let _=this.getHostOffset(),C=_.left+(Nn.getOuterWidth(this.el.nativeElement)-Nn.getOuterWidth(this.container))/2,I=_.top+Nn.getOuterHeight(this.el.nativeElement);this.container.style.left=C+this.getOption("positionLeft")+"px",this.container.style.top=I+this.getOption("positionTop")+"px"}setOption(_){this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),_)}getOption(_){return this._tooltipOptions[_]}preAlign(_){this.container.style.left="-999px",this.container.style.top="-999px";let C="p-tooltip p-component p-tooltip-"+_;this.container.className=this.getOption("tooltipStyleClass")?C+" "+this.getOption("tooltipStyleClass"):C}isOutOfBounds(){let _=this.container.getBoundingClientRect(),C=_.top,I=_.left,j=Nn.getOuterWidth(this.container),K=Nn.getOuterHeight(this.container),q=Nn.getViewport();return I+j>q.width||I<0||C<0||C+K>q.height}onWindowResize(_){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new dT(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){"hover"===this.getOption("tooltipEvent")?(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)):"focus"===this.getOption("tooltipEvent")&&(this.el.nativeElement.removeEventListener("focus",this.focusListener),this.el.nativeElement.removeEventListener("blur",this.blurListener)),this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):Nn.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&ed.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return A.\u0275fac=function(_){return new(_||A)(rn(_o),rn(Eo),rn(gA))},A.\u0275dir=Fr({type:A,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[go]}),A})(),YQ=(()=>{class A{}return A.\u0275fac=function(_){return new(_||A)},A.\u0275mod=Rr({type:A}),A.\u0275inj=Bi({imports:[[pl]]}),A})(),wA=(()=>{class A{constructor(_,C,I){this.el=_,this.zone=C,this.config=I}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(_){let C=this.getInk();if(!C||"none"===getComputedStyle(C,null).display)return;if(Nn.removeClass(C,"p-ink-active"),!Nn.getHeight(C)&&!Nn.getWidth(C)){let q=Math.max(Nn.getOuterWidth(this.el.nativeElement),Nn.getOuterHeight(this.el.nativeElement));C.style.height=q+"px",C.style.width=q+"px"}let I=Nn.getOffset(this.el.nativeElement),j=_.pageX-I.left+document.body.scrollTop-Nn.getWidth(C)/2,K=_.pageY-I.top+document.body.scrollLeft-Nn.getHeight(C)/2;C.style.top=K+"px",C.style.left=j+"px",Nn.addClass(C,"p-ink-active")}getInk(){for(let _=0;_<this.el.nativeElement.children.length;_++)if(-1!==this.el.nativeElement.children[_].className.indexOf("p-ink"))return this.el.nativeElement.children[_];return null}resetInk(){let _=this.getInk();_&&Nn.removeClass(_,"p-ink-active")}onAnimationEnd(_){Nn.removeClass(_.currentTarget,"p-ink-active")}create(){let _=document.createElement("span");_.className="p-ink",this.el.nativeElement.appendChild(_),this.animationListener=this.onAnimationEnd.bind(this),_.addEventListener("animationend",this.animationListener)}remove(){let _=this.getInk();_&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),_.removeEventListener("animationend",this.animationListener),Nn.removeElement(_))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return A.\u0275fac=function(_){return new(_||A)(rn(_o),rn(Eo),rn(gA,8))},A.\u0275dir=Fr({type:A,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),A})(),mv=(()=>{class A{}return A.\u0275fac=function(_){return new(_||A)},A.\u0275mod=Rr({type:A}),A.\u0275inj=Bi({imports:[[pl]]}),A})();function qQ(A,w){if(1&A&&(pt(0,"span"),tn(1),ft()),2&A){const _=Wt();vt(1),Rn(_.label||"empty")}}function eG(A,w){1&A&&Ms(0)}const FL=function(A){return{height:A}},tG=function(A,w){return{"p-dropdown-item":!0,"p-highlight":A,"p-disabled":w}},RT=function(A){return{$implicit:A}},iG=["container"],nG=["filter"],rG=["in"],sG=["editableInput"];function oG(A,w){if(1&A&&(ao(0),tn(1),$s()),2&A){const _=Wt(2);vt(1),Rn(_.label||"empty")}}function aG(A,w){1&A&&Ms(0)}const lG=function(A){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":A}};function cG(A,w){if(1&A&&(pt(0,"span",12),Pi(1,oG,2,1,"ng-container",13),Pi(2,aG,1,0,"ng-container",14),ft()),2&A){const _=Wt();It("ngClass",Or(9,lG,null==_.label||0===_.label.length))("pTooltip",_.tooltip)("tooltipPosition",_.tooltipPosition)("positionStyle",_.tooltipPositionStyle)("tooltipStyleClass",_.tooltipStyleClass),Is("id",_.labelId),vt(1),It("ngIf",!_.selectedItemTemplate),vt(1),It("ngTemplateOutlet",_.selectedItemTemplate)("ngTemplateOutletContext",Or(11,RT,_.selectedOption))}}const uG=function(A){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":A}};function hG(A,w){if(1&A&&(pt(0,"span",15),tn(1),ft()),2&A){const _=Wt();It("ngClass",Or(2,uG,null==_.placeholder||0===_.placeholder.length)),vt(1),Rn(_.placeholder||"empty")}}function dG(A,w){if(1&A){const _=tr();pt(0,"input",16,17),An("click",function(){return zi(_),Wt().onEditableInputClick()})("input",function(I){return zi(_),Wt().onEditableInputChange(I)})("focus",function(I){return zi(_),Wt().onEditableInputFocus(I)})("blur",function(I){return zi(_),Wt().onInputBlur(I)}),ft()}if(2&A){const _=Wt();It("disabled",_.disabled),Is("maxlength",_.maxlength)("placeholder",_.placeholder)("aria-expanded",_.overlayVisible)}}function pG(A,w){if(1&A){const _=tr();pt(0,"i",18),An("click",function(I){return zi(_),Wt().clear(I)}),ft()}}function fG(A,w){1&A&&Ms(0)}function mG(A,w){if(1&A){const _=tr();pt(0,"div",26),pt(1,"div",27),An("click",function(I){return I.stopPropagation()}),pt(2,"input",28,29),An("keydown.enter",function(I){return I.preventDefault()})("keydown",function(I){return zi(_),Wt(2).onKeydown(I,!1)})("input",function(I){return zi(_),Wt(2).onFilterInputChange(I)}),ft(),Bn(4,"span",30),ft(),ft()}if(2&A){const _=Wt(2);vt(2),It("value",_.filterValue||""),Is("placeholder",_.filterPlaceholder)("aria-label",_.ariaFilterLabel)("aria-activedescendant",_.overlayVisible?"p-highlighted-option":_.labelId)}}function gG(A,w){if(1&A&&(pt(0,"span"),tn(1),ft()),2&A){const _=Wt().$implicit,C=Wt(3);vt(1),Rn(C.getOptionGroupLabel(_)||"empty")}}function yG(A,w){1&A&&Ms(0)}function vG(A,w){1&A&&Ms(0)}const NL=function(A,w){return{$implicit:A,selectedOption:w}};function _G(A,w){if(1&A&&(pt(0,"li",32),Pi(1,gG,2,1,"span",13),Pi(2,yG,1,0,"ng-container",14),ft(),Pi(3,vG,1,0,"ng-container",14)),2&A){const _=w.$implicit;Wt(2);const C=To(8),I=Wt();vt(1),It("ngIf",!I.groupTemplate),vt(1),It("ngTemplateOutlet",I.groupTemplate)("ngTemplateOutletContext",Or(5,RT,_)),vt(1),It("ngTemplateOutlet",C)("ngTemplateOutletContext",bo(7,NL,I.getOptionGroupChildren(_),I.selectedOption))}}function bG(A,w){if(1&A&&(ao(0),Pi(1,_G,4,10,"ng-template",31),$s()),2&A){const _=Wt(2);vt(1),It("ngForOf",_.optionsToDisplay)}}function AG(A,w){1&A&&Ms(0)}function wG(A,w){if(1&A&&(ao(0),Pi(1,AG,1,0,"ng-container",14),$s()),2&A){Wt();const _=To(8),C=Wt();vt(1),It("ngTemplateOutlet",_)("ngTemplateOutletContext",bo(2,NL,C.optionsToDisplay,C.selectedOption))}}function CG(A,w){if(1&A){const _=tr();pt(0,"p-dropdownItem",35),An("onClick",function(I){return zi(_),Wt(4).onItemClick(I)}),ft()}if(2&A){const _=w.$implicit,C=Wt(2).selectedOption,I=Wt(2);It("option",_)("selected",C==_)("label",I.getOptionLabel(_))("disabled",I.isOptionDisabled(_))("template",I.itemTemplate)}}function xG(A,w){if(1&A&&(ao(0),Pi(1,CG,1,5,"ng-template",31),$s()),2&A){const _=Wt().$implicit;vt(1),It("ngForOf",_)}}function EG(A,w){if(1&A){const _=tr();ao(0),pt(1,"p-dropdownItem",35),An("onClick",function(I){return zi(_),Wt(5).onItemClick(I)}),ft(),$s()}if(2&A){const _=w.$implicit,C=Wt(3).selectedOption,I=Wt(2);vt(1),It("option",_)("selected",C==_)("label",I.getOptionLabel(_))("disabled",I.isOptionDisabled(_))("template",I.itemTemplate)}}function DG(A,w){if(1&A){const _=tr();pt(0,"cdk-virtual-scroll-viewport",37,38),An("scrolledIndexChange",function(){return zi(_),Wt(4).scrollToSelectedVirtualScrollElement()}),Pi(2,EG,2,5,"ng-container",39),ft()}if(2&A){const _=Wt(2).$implicit,C=Wt(2);It("ngStyle",Or(3,FL,C.scrollHeight))("itemSize",C.itemSize),vt(2),It("cdkVirtualForOf",_)}}function MG(A,w){if(1&A&&Pi(0,DG,3,5,"cdk-virtual-scroll-viewport",36),2&A){const _=Wt(3);It("ngIf",_.virtualScroll&&_.optionsToDisplay&&_.optionsToDisplay.length)}}function SG(A,w){if(1&A&&(Pi(0,xG,2,1,"ng-container",33),Pi(1,MG,1,1,"ng-template",null,34,a3)),2&A){const _=To(2);It("ngIf",!Wt(2).virtualScroll)("ngIfElse",_)}}function TG(A,w){if(1&A&&(ao(0),tn(1),$s()),2&A){const _=Wt(3);vt(1),Kr(" ",_.emptyFilterMessageLabel," ")}}function IG(A,w){1&A&&Ms(0,null,41)}function OG(A,w){if(1&A&&(pt(0,"li",40),Pi(1,TG,2,1,"ng-container",33),Pi(2,IG,2,0,"ng-container",20),ft()),2&A){const _=Wt(2);vt(1),It("ngIf",!_.emptyFilterTemplate&&!_.emptyTemplate)("ngIfElse",_.emptyFilter),vt(1),It("ngTemplateOutlet",_.emptyFilterTemplate||_.emptyTemplate)}}function PG(A,w){if(1&A&&(ao(0),tn(1),$s()),2&A){const _=Wt(3);vt(1),Kr(" ",_.emptyMessageLabel," ")}}function kG(A,w){1&A&&Ms(0,null,42)}function LG(A,w){if(1&A&&(pt(0,"li",40),Pi(1,PG,2,1,"ng-container",33),Pi(2,kG,2,0,"ng-container",20),ft()),2&A){const _=Wt(2);vt(1),It("ngIf",!_.emptyTemplate)("ngIfElse",_.empty),vt(1),It("ngTemplateOutlet",_.emptyTemplate)}}function BG(A,w){1&A&&Ms(0)}const RG=function(A,w){return{showTransitionParams:A,hideTransitionParams:w}},FG=function(A){return{value:"visible",params:A}},NG=function(A){return{"p-dropdown-virtualscroll":A}};function UG(A,w){if(1&A){const _=tr();pt(0,"div",19),An("click",function(I){return zi(_),Wt().onOverlayClick(I)})("@overlayAnimation.start",function(I){return zi(_),Wt().onOverlayAnimationStart(I)})("@overlayAnimation.start",function(I){return zi(_),Wt().onOverlayAnimationEnd(I)}),Pi(1,fG,1,0,"ng-container",20),Pi(2,mG,5,4,"div",21),pt(3,"div",22),pt(4,"ul",23),Pi(5,bG,2,1,"ng-container",13),Pi(6,wG,2,5,"ng-container",13),Pi(7,SG,3,2,"ng-template",null,24,a3),Pi(9,OG,3,3,"li",25),Pi(10,LG,3,3,"li",25),ft(),ft(),Pi(11,BG,1,0,"ng-container",20),ft()}if(2&A){const _=Wt();vo(_.panelStyleClass),It("ngClass","p-dropdown-panel p-component")("@overlayAnimation",Or(19,FG,bo(16,RG,_.showTransitionOptions,_.hideTransitionOptions)))("ngStyle",_.panelStyle),vt(1),It("ngTemplateOutlet",_.headerTemplate),vt(1),It("ngIf",_.filter),vt(1),Dp("max-height",_.virtualScroll?"auto":_.scrollHeight||"auto"),vt(1),It("ngClass",Or(21,NG,_.virtualScroll)),Is("id",_.listId),vt(1),It("ngIf",_.group),vt(1),It("ngIf",!_.group),vt(3),It("ngIf",_.filterValue&&_.isEmpty()),vt(1),It("ngIf",!_.filterValue&&_.isEmpty()),vt(1),It("ngTemplateOutlet",_.footerTemplate)}}const jG=function(A,w,_,C){return{"p-dropdown p-component":!0,"p-disabled":A,"p-dropdown-open":w,"p-focus":_,"p-dropdown-clearable":C}},HG={provide:Fl,useExisting:Ht(()=>r1),multi:!0};let VG=(()=>{class A{constructor(){this.onClick=new er}onOptionClick(_){this.onClick.emit({originalEvent:_,option:this.option})}}return A.\u0275fac=function(_){return new(_||A)},A.\u0275cmp=dr({type:A,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:15,consts:[["role","option","pRipple","",3,"ngStyle","id","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(_,C){1&_&&(pt(0,"li",0),An("click",function(j){return C.onOptionClick(j)}),Pi(1,qQ,2,1,"span",1),Pi(2,eG,1,0,"ng-container",2),ft()),2&_&&(It("ngStyle",Or(8,FL,C.itemSize+"px"))("id",C.selected?"p-highlighted-option":"")("ngClass",bo(10,tG,C.selected,C.disabled)),Is("aria-label",C.label)("aria-selected",C.selected),vt(1),It("ngIf",!C.template),vt(1),It("ngTemplateOutlet",C.template)("ngTemplateOutletContext",Or(13,RT,C.option)))},directives:[wA,el,eo,to,Cf],encapsulation:2}),A})(),r1=(()=>{class A{constructor(_,C,I,j,K,q,ue){this.el=_,this.renderer=C,this.cd=I,this.zone=j,this.filterService=K,this.config=q,this.overlayService=ue,this.scrollHeight="200px",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.autoDisplayFirst=!0,this.emptyFilterMessage="",this.emptyMessage="",this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.onChange=new er,this.onFilter=new er,this.onFocus=new er,this.onBlur=new er,this.onClick=new er,this.onShow=new er,this.onHide=new er,this.onClear=new er,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.viewPortOffsetTop=0,this.id=uT()}get disabled(){return this._disabled}set disabled(_){_&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=_,this.cd.destroyed||this.cd.detectChanges()}ngAfterContentInit(){this.templates.forEach(_=>{switch(_.getType()){case"item":default:this.itemTemplate=_.template;break;case"selectedItem":this.selectedItemTemplate=_.template;break;case"header":this.headerTemplate=_.template;break;case"footer":this.footerTemplate=_.template;break;case"emptyfilter":this.emptyFilterTemplate=_.template;break;case"empty":this.emptyTemplate=_.template;break;case"group":this.groupTemplate=_.template}})}ngOnInit(){this.optionsToDisplay=this.options,this.updateSelectedOption(null),this.labelId=this.id+"_label",this.listId=this.id+"_list"}get options(){return this._options}set options(_){this._options=_,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.optionsChanged=!0,this._filterValue&&this._filterValue.length&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(_){this._filterValue=_,this.activateFilter()}ngAfterViewInit(){this.editable&&this.updateEditableLabel()}get label(){return this.selectedOption?this.getOptionLabel(this.selectedOption):null}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(td.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(td.EMPTY_FILTER_MESSAGE)}get filled(){return this.value||null!=this.value||null!=this.value}updateEditableLabel(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}getOptionLabel(_){return this.optionLabel?Jr.resolveFieldData(_,this.optionLabel):null!=_.label?_.label:_}getOptionValue(_){return this.optionValue?Jr.resolveFieldData(_,this.optionValue):this.optionLabel||void 0===_.value?_:_.value}isOptionDisabled(_){return this.optionDisabled?Jr.resolveFieldData(_,this.optionDisabled):void 0!==_.disabled&&_.disabled}getOptionGroupLabel(_){return this.optionGroupLabel?Jr.resolveFieldData(_,this.optionGroupLabel):null!=_.label?_.label:_}getOptionGroupChildren(_){return this.optionGroupChildren?Jr.resolveFieldData(_,this.optionGroupChildren):_.items}onItemClick(_){const C=_.option;this.isOptionDisabled(C)||(this.selectItem(_,C),this.accessibleViewChild.nativeElement.focus()),setTimeout(()=>{this.hide()},150)}selectItem(_,C){this.selectedOption!=C&&(this.selectedOption=C,this.value=this.getOptionValue(C),this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:_.originalEvent,value:this.value}),this.virtualScroll&&setTimeout(()=>{this.viewPortOffsetTop=this.viewPort?this.viewPort.measureScrollOffset():0},1))}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.virtualScroll&&this.updateVirtualScrollSelectedIndex(!0),this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){if(this.virtualScroll&&this.viewPort){let C=this.viewPort.getRenderedRange();this.updateVirtualScrollSelectedIndex(!1),(C.start>this.virtualScrollSelectedIndex||C.end<this.virtualScrollSelectedIndex)&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)}Nn.findSingle(this.overlay,"li.p-highlight")&&Nn.scrollInView(this.itemsWrapper,Nn.findSingle(this.overlay,"li.p-highlight")),this.selectedOptionUpdated=!1}}writeValue(_){this.filter&&this.resetFilter(),this.value=_,this.updateSelectedOption(_),this.updateEditableLabel(),this.cd.markForCheck()}resetFilter(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}updateSelectedOption(_){this.selectedOption=this.findOption(_,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.optionsToDisplay[0],this.value=this.getOptionValue(this.selectedOption),this.onModelChange(this.value)),this.selectedOptionUpdated=!0}registerOnChange(_){this.onModelChange=_}registerOnTouched(_){this.onModelTouched=_}setDisabledState(_){this.disabled=_,this.cd.markForCheck()}onMouseclick(_){this.disabled||this.readonly||this.isInputClick(_)||(this.onClick.emit(_),this.accessibleViewChild.nativeElement.focus(),this.overlayVisible?this.hide():this.show(),this.cd.detectChanges())}onOverlayClick(_){this.overlayService.add({originalEvent:_,target:this.el.nativeElement})}isInputClick(_){return Nn.hasClass(_.target,"p-dropdown-clear-icon")||_.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&_.target.isSameNode(this.editableInputViewChild.nativeElement)}isOutsideClicked(_){return!(this.el.nativeElement.isSameNode(_.target)||this.el.nativeElement.contains(_.target)||this.overlay&&this.overlay.contains(_.target))}isEmpty(){return!this.optionsToDisplay||this.optionsToDisplay&&0===this.optionsToDisplay.length}onEditableInputClick(){this.bindDocumentClickListener()}onEditableInputFocus(_){this.focused=!0,this.hide(),this.onFocus.emit(_)}onEditableInputChange(_){this.value=_.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:_,value:this.value})}show(){this.overlayVisible=!0}onOverlayAnimationStart(_){switch(_.toState){case"visible":if(this.overlay=_.element,this.itemsWrapper=Nn.findSingle(this.overlay,this.virtualScroll?".cdk-virtual-scroll-viewport":".p-dropdown-items-wrapper"),this.appendOverlay(),this.autoZIndex&&ed.set("overlay",this.overlay,this.baseZIndex+this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.options&&this.options.length&&!this.virtualScroll){let I=Nn.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");I&&I.scrollIntoView({block:"nearest",inline:"start"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(_);break;case"void":this.onOverlayHide(),this.onHide.emit(_)}}onOverlayAnimationEnd(_){"void"===_.toState&&ed.clear(_.element)}scrollToSelectedVirtualScrollElement(){this.virtualAutoScrolled||(this.viewPortOffsetTop?this.viewPort.scrollToOffset(this.viewPortOffsetTop):this.virtualScrollSelectedIndex>-1&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)),this.virtualAutoScrolled=!0}updateVirtualScrollSelectedIndex(_){this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&(_&&(this.viewPortOffsetTop=0),this.virtualScrollSelectedIndex=this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay))}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):Nn.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=Nn.getWidth(this.containerViewChild.nativeElement)+"px"))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}hide(){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.virtualScroll&&(this.virtualAutoScrolled=!1),this.cd.markForCheck()}alignOverlay(){this.overlay&&(this.appendTo?Nn.absolutePosition(this.overlay,this.containerViewChild.nativeElement):Nn.relativePosition(this.overlay,this.containerViewChild.nativeElement))}onInputFocus(_){this.focused=!0,this.onFocus.emit(_)}onInputBlur(_){this.focused=!1,this.onBlur.emit(_),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}findPrevEnabledOption(_){let C;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let I=_-1;0<=I;I--){let j=this.optionsToDisplay[I];if(!j.disabled){C=j;break}}if(!C)for(let I=this.optionsToDisplay.length-1;I>=_;I--){let j=this.optionsToDisplay[I];if(!this.isOptionDisabled(j)){C=j;break}}}return C}findNextEnabledOption(_){let C;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let I=_+1;I<this.optionsToDisplay.length;I++){let j=this.optionsToDisplay[I];if(!this.isOptionDisabled(j)){C=j;break}}if(!C)for(let I=0;I<_;I++){let j=this.optionsToDisplay[I];if(!this.isOptionDisabled(j)){C=j;break}}}return C}onKeydown(_,C){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(_.which){case 40:if(!this.overlayVisible&&_.altKey)this.show();else if(this.group){let I=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==I){let j=I.itemIndex+1;j<this.getOptionGroupChildren(this.optionsToDisplay[I.groupIndex]).length?(this.selectItem(_,this.getOptionGroupChildren(this.optionsToDisplay[I.groupIndex])[j]),this.selectedOptionUpdated=!0):this.optionsToDisplay[I.groupIndex+1]&&(this.selectItem(_,this.getOptionGroupChildren(this.optionsToDisplay[I.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.optionsToDisplay&&this.optionsToDisplay.length>0&&this.selectItem(_,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{let I=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,j=this.findNextEnabledOption(I);j&&(this.selectItem(_,j),this.selectedOptionUpdated=!0)}_.preventDefault();break;case 38:if(this.group){let I=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==I){let j=I.itemIndex-1;if(j>=0)this.selectItem(_,this.getOptionGroupChildren(this.optionsToDisplay[I.groupIndex])[j]),this.selectedOptionUpdated=!0;else if(j<0){let K=this.optionsToDisplay[I.groupIndex-1];K&&(this.selectItem(_,this.getOptionGroupChildren(K)[this.getOptionGroupChildren(K).length-1]),this.selectedOptionUpdated=!0)}}}else{let I=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,j=this.findPrevEnabledOption(I);j&&(this.selectItem(_,j),this.selectedOptionUpdated=!0)}_.preventDefault();break;case 32:C&&(this.overlayVisible?this.hide():this.show(),_.preventDefault());break;case 13:this.overlayVisible&&(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)?this.hide():this.overlayVisible||this.show(),_.preventDefault();break;case 27:case 9:this.hide();break;default:C&&!_.metaKey&&this.search(_)}}search(_){this.searchTimeout&&clearTimeout(this.searchTimeout);const C=_.key;let I;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=C,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+C:C,this.group){let j=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};I=this.searchOptionWithinGroup(j)}else{let j=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;I=this.searchOption(++j)}I&&!this.isOptionDisabled(I)&&(this.selectItem(_,I),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(()=>{this.searchValue=null},250)}searchOption(_){let C;return this.searchValue&&(C=this.searchOptionInRange(_,this.optionsToDisplay.length),C||(C=this.searchOptionInRange(0,_))),C}searchOptionInRange(_,C){for(let I=_;I<C;I++){let j=this.optionsToDisplay[I];if(this.getOptionLabel(j).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(j))return j}return null}searchOptionWithinGroup(_){if(this.searchValue){for(let I=_.groupIndex;I<this.optionsToDisplay.length;I++)for(let j=_.groupIndex===I?_.itemIndex+1:0;j<this.getOptionGroupChildren(this.optionsToDisplay[I]).length;j++){let K=this.getOptionGroupChildren(this.optionsToDisplay[I])[j];if(this.getOptionLabel(K).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(K))return K}for(let I=0;I<=_.groupIndex;I++)for(let j=0;j<(_.groupIndex===I?_.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[I]).length);j++){let K=this.getOptionGroupChildren(this.optionsToDisplay[I])[j];if(this.getOptionLabel(K).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(K))return K}}return null}findOptionIndex(_,C){let I=-1;if(C)for(let j=0;j<C.length;j++)if(null==_&&null==this.getOptionValue(C[j])||Jr.equals(_,this.getOptionValue(C[j]),this.dataKey)){I=j;break}return I}findOptionGroupIndex(_,C){let I,j;if(C)for(let K=0;K<C.length&&(I=K,j=this.findOptionIndex(_,this.getOptionGroupChildren(C[K])),-1===j);K++);return-1!==j?{groupIndex:I,itemIndex:j}:-1}findOption(_,C,I){if(this.group&&!I){let j;if(C&&C.length)for(let K of C)if(j=this.findOption(_,this.getOptionGroupChildren(K),!0),j)break;return j}{let j=this.findOptionIndex(_,C);return-1!=j?C[j]:null}}onFilterInputChange(_){let C=_.target.value;C&&C.length?(this._filterValue=C,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.optionsChanged=!0,this.onFilter.emit({originalEvent:_,filter:this._filterValue})}activateFilter(){let _=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){let C=[];for(let I of this.options){let j=this.filterService.filter(this.getOptionGroupChildren(I),_,this.filterValue,this.filterMatchMode,this.filterLocale);j&&j.length&&C.push(Object.assign(Object.assign({},I),{[this.optionGroupChildren]:j}))}this.optionsToDisplay=C}else this.optionsToDisplay=this.filterService.filter(this.options,_,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}applyFocus(){this.editable?Nn.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():Nn.findSingle(this.el.nativeElement,"input[readonly]").focus()}focus(){this.applyFocus()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",C=>{this.isOutsideClicked(C)&&(this.hide(),this.unbindDocumentClickListener()),this.cd.markForCheck()}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){this.overlayVisible&&!Nn.isTouchDevice()&&this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new dT(this.containerViewChild.nativeElement,_=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}clear(_){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:_,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.onClear.emit(_)}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.itemsWrapper=null,this.onModelTouched()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&ed.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}return A.\u0275fac=function(_){return new(_||A)(rn(_o),rn(Hh),rn(Gl),rn(Eo),rn(Pk),rn(gA),rn(hT))},A.\u0275cmp=dr({type:A,selectors:[["p-dropdown"]],contentQueries:function(_,C,I){if(1&_&&Q0(I,dv,4),2&_){let j;lo(j=co())&&(C.templates=j)}},viewQuery:function(_,C){if(1&_&&(zo(iG,5),zo(nG,5),zo(rG,5),zo(mA,5),zo(sG,5)),2&_){let I;lo(I=co())&&(C.containerViewChild=I.first),lo(I=co())&&(C.filterViewChild=I.first),lo(I=co())&&(C.accessibleViewChild=I.first),lo(I=co())&&(C.viewPort=I.first),lo(I=co())&&(C.editableInputViewChild=I.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(_,C){2&_&&Sd("p-inputwrapper-filled",C.filled)("p-inputwrapper-focus",C.focused||C.overlayVisible)},inputs:{scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",filterBy:"filterBy",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",virtualScroll:"virtualScroll",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",disabled:"disabled",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear"},features:[Vs([HG])],decls:12,vars:24,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox","role","listbox",3,"disabled","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","click","input","focus","blur",4,"ngIf"],["class","p-dropdown-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-haspopup","listbox",1,"p-dropdown-trigger"],[1,"p-dropdown-trigger-icon",3,"ngClass"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","click","input","focus","blur"],["editableInput",""],[1,"p-dropdown-clear-icon","pi","pi-times",3,"click"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","click"],[4,"ngTemplateOutlet"],["class","p-dropdown-header",4,"ngIf"],[1,"p-dropdown-items-wrapper"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["itemslist",""],["class","p-dropdown-empty-message",4,"ngIf"],[1,"p-dropdown-header"],[1,"p-dropdown-filter-container",3,"click"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],[1,"p-dropdown-filter-icon","pi","pi-search"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group"],[4,"ngIf","ngIfElse"],["virtualScrollList",""],[3,"option","selected","label","disabled","template","onClick"],[3,"ngStyle","itemSize","scrolledIndexChange",4,"ngIf"],[3,"ngStyle","itemSize","scrolledIndexChange"],["viewport",""],[4,"cdkVirtualFor","cdkVirtualForOf"],[1,"p-dropdown-empty-message"],["emptyFilter",""],["empty",""]],template:function(_,C){1&_&&(pt(0,"div",0,1),An("click",function(j){return C.onMouseclick(j)}),pt(2,"div",2),pt(3,"input",3,4),An("focus",function(j){return C.onInputFocus(j)})("blur",function(j){return C.onInputBlur(j)})("keydown",function(j){return C.onKeydown(j,!0)}),ft(),ft(),Pi(5,cG,3,13,"span",5),Pi(6,hG,2,4,"span",6),Pi(7,dG,2,4,"input",7),Pi(8,pG,1,0,"i",8),pt(9,"div",9),Bn(10,"span",10),ft(),Pi(11,UG,12,23,"div",11),ft()),2&_&&(vo(C.styleClass),It("ngClass",Rg(19,jG,C.disabled,C.overlayVisible,C.focused,C.showClear&&!C.disabled))("ngStyle",C.style),vt(3),It("disabled",C.disabled),Is("id",C.inputId)("placeholder",C.placeholder)("aria-expanded",C.overlayVisible)("aria-labelledby",C.ariaLabelledBy)("tabindex",C.tabindex)("autofocus",C.autofocus)("aria-activedescendant",C.overlayVisible?"p-highlighted-option":C.labelId),vt(2),It("ngIf",!C.editable&&null!=C.label),vt(1),It("ngIf",!C.editable&&null==C.label),vt(1),It("ngIf",C.editable),vt(1),It("ngIf",null!=C.value&&C.showClear&&!C.disabled),vt(1),Is("aria-expanded",C.overlayVisible),vt(1),It("ngClass",C.dropdownIcon),vt(1),It("ngIf",C.overlayVisible))},directives:[VG,mA,eo,el,to,XQ,Cf,uc,vk,wk],styles:[".p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;-ms-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-panel{position:absolute;top:0;left:0}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}"],encapsulation:2,data:{animation:[lT("overlayAnimation",[vm(":enter",[qh({opacity:0,transform:"scaleY(0.8)"}),ym("{{showTransitionParams}}")]),vm(":leave",[ym("{{hideTransitionParams}}",qh({opacity:0}))])])]},changeDetection:0}),A})(),YC=(()=>{class A{}return A.\u0275fac=function(_){return new(_||A)},A.\u0275mod=Rr({type:A}),A.\u0275inj=Bi({imports:[[pl,_m,UC,YQ,mv],_m,UC]}),A})(),zG=(()=>{class A{constructor(_,C,I,j){this.mapService=_,this.crossectionService=C,this.configurationService=I,this.translateService=j,this.dataTypeItems=this.getDataTypeItems(),this.dataType=this.mapService.activeDatatype}updateDrillholeChart(){this.crossectionService.nextVertices(this.dataType)}getDataTypeItems(){const _=[];return _.push({label:this.translateService.instant("dgmName")+" "+this.translateService.instant("dgmVersion"),value:"DGM"}),_.push({label:this.translateService.instant("rgsName")+" "+this.translateService.instant("rgsVersion"),value:"RGS"}),_.push({label:this.translateService.instant("gtpName")+" "+this.translateService.instant("gtpVersion"),value:"GTP"}),this.configurationService.broOnly||_.push(this.mapService.gmd5Feature?{label:this.translateService.instant("gmd5Name")+" "+this.translateService.instant("gmd5Version"),value:"GMD5"}:{label:this.translateService.instant("gmdName")+" "+this.translateService.instant("gmdVersion"),value:"GMD"}),_}}return A.\u0275fac=function(_){return new(_||A)(rn(qo),rn(PC),rn(fo),rn(Ll))},A.\u0275cmp=dr({type:A,selectors:[["dinoloket-crossection-drillselect"]],decls:2,vars:6,consts:[["baseZIndex","5000","appendTo","body","id","drillselect-tool",3,"ngModel","options","styleClass","title","onChange","ngModelChange"]],template:function(_,C){1&_&&(pt(0,"p-dropdown",0),An("onChange",function(){return C.updateDrillholeChart()})("ngModelChange",function(j){return C.dataType=j}),sn(1,"translate"),ft()),2&_&&It("ngModel",C.dataType)("options",C.dataTypeItems)("styleClass","input-dropdown drillselect")("title",on(1,4,"drillselect.toggle.mouseOver"))},directives:[r1,Qd,oh],pipes:[Xs],styles:["[_nghost-%COMP%]     .drillselect{margin-bottom:10px}"]}),A})();function WG(A,w){if(1&A&&(pt(0,"strong"),tn(1),Bn(2,"br"),ft()),2&A){const _=Wt().$implicit;vt(1),Kr("",_.value," ")}}function KG(A,w){if(1&A&&(pt(0,"a",6),tn(1),ft(),Bn(2,"br")),2&A){const _=w.index,C=w.$implicit,I=Wt(4);It("href",C,$o),vt(1),Kr(" ",I.getLinkName(_)," ")}}function QG(A,w){1&A&&Pi(0,KG,3,2,"ng-template",3),2&A&&It("ngForOf",Wt().$implicit.value.split(";"))}function GG(A,w){if(1&A&&(Pi(0,WG,3,1,"strong",5),Pi(1,QG,1,1,"ng-template",4)),2&A){const _=w.$implicit;It("ngIf","NAME"===_.code),vt(1),It("ngIf","URL"===_.code)}}function $G(A,w){1&A&&(Bn(0,"br"),pt(1,"strong"),tn(2),sn(3,"translate"),ft(),Bn(4,"br")),2&A&&(vt(2),Rn(on(3,1,"crossSection.toMap")))}function ZG(A,w){if(1&A){const _=tr();pt(0,"a",7),An("click",function(){zi(_);const I=Wt().$implicit;return Wt(2).showMap(I)}),tn(1),sn(2,"translate"),ft(),Bn(3,"br")}if(2&A){const _=Wt().$implicit;vt(1),Rn(on(2,1,"crossSection."+_.code))}}function JG(A,w){if(1&A&&Pi(0,ZG,4,3,"ng-template",4),2&A){const _=w.$implicit;It("ngIf",_.code.startsWith("MAP_")&&"MAP_SERVICE"!==_.code&&"MAP_FAULTS"!==_.code&&"MAP_AREAS"!==_.code&&"MAP_NSI"!==_.code)}}function XG(A,w){if(1&A){const _=tr();pt(0,"div",1,2),An("mouseleave",function(){return zi(_),Wt().popupInvisible.emit(!0)}),Pi(2,GG,2,2,"ng-template",3),Pi(3,$G,5,3,"ng-template",4),Pi(4,JG,1,1,"ng-template",3),ft()}if(2&A){const _=Wt();It("ngStyle",_.popupStyle()),vt(2),It("ngForOf",_.data),vt(1),It("ngIf",_.mapData.length>0),vt(1),It("ngForOf",_.mapData)}}let YG=(()=>{class A{constructor(_,C){this.translateService=_,this.configService=C,this.data=[],this.mapData=[],this.popupInvisible=new er,this.showFormationMap=new er,this.translateService.get("lithoLinkName").subscribe(I=>this.lithoLinkName=I)}set metadata(_){if(this.allMetadata=_,this.mapData=[],this.data=[],null!=_)for(const C of _.layerInfos)C.code.startsWith("MAP_")?this.mapData.push(C):this.data.push(C)}popupStyle(){return{top:this.y+"px",left:this.x+15+"px"}}getLinkName(_){let C=this.lithoLinkName;return this.allMetadata.layerInfos.forEach(I=>{"LINK_NAME"===I.code&&(C=I.value.split(";")[_])}),C}showMap(_){this.showFormationMap.emit({vertices:this.vertices,layerInfo:_,metadata:this.allMetadata,crossection:this.crossection})}}return A.\u0275fac=function(_){return new(_||A)(rn(Ll),rn(fo))},A.\u0275cmp=dr({type:A,selectors:[["dinoloket-crossection-mdl-tooltip"]],inputs:{y:"y",x:"x",crossection:"crossection",vertices:"vertices",metadata:"metadata"},outputs:{popupInvisible:"popupInvisible",showFormationMap:"showFormationMap"},decls:1,vars:1,consts:[["class","mdl-crossection-tooltip","id","crossection-tooltip",3,"ngStyle","mouseleave",4,"ngIf"],["id","crossection-tooltip",1,"mdl-crossection-tooltip",3,"ngStyle","mouseleave"],["toolTip",""],["ngFor","",3,"ngForOf"],[3,"ngIf"],[4,"ngIf"],["target","_blank",3,"href"],[1,"mousepointer",3,"click"]],template:function(_,C){1&_&&Pi(0,XG,5,4,"div",0),2&_&&It("ngIf",C.data&&C.data.length>0||C.mapData&&C.mapData.length>0)},directives:[to,el,uc],pipes:[Xs],styles:[".mdl-crossection-tooltip[_ngcontent-%COMP%]{position:absolute;z-index:100;background-color:#fff;padding:5px;border:black 1px solid}"]}),A})();const qG=["sliderHandle"],e$=["sliderHandleStart"],t$=["sliderHandleEnd"],i$=function(A,w){return{left:A,width:w}};function n$(A,w){if(1&A&&Bn(0,"span",4),2&A){const _=Wt();It("ngStyle",bo(1,i$,_.handleValues[0]+"%",_.handleValues[1]-_.handleValues[0]+"%"))}}const r$=function(A,w){return{bottom:A,height:w}};function s$(A,w){if(1&A&&Bn(0,"span",4),2&A){const _=Wt();It("ngStyle",bo(1,r$,_.handleValues[0]+"%",_.handleValues[1]-_.handleValues[0]+"%"))}}const o$=function(A){return{height:A}};function a$(A,w){if(1&A&&Bn(0,"span",4),2&A){const _=Wt();It("ngStyle",Or(1,o$,_.handleValue+"%"))}}const l$=function(A){return{width:A}};function c$(A,w){if(1&A&&Bn(0,"span",4),2&A){const _=Wt();It("ngStyle",Or(1,l$,_.handleValue+"%"))}}const FT=function(A,w){return{left:A,bottom:w}};function u$(A,w){if(1&A){const _=tr();pt(0,"span",5,6),An("keydown",function(I){return zi(_),Wt().onHandleKeydown(I)})("mousedown",function(I){return zi(_),Wt().onMouseDown(I)})("touchstart",function(I){return zi(_),Wt().onTouchStart(I)})("touchmove",function(I){return zi(_),Wt().onTouchMove(I)})("touchend",function(I){return zi(_),Wt().onTouchEnd(I)}),ft()}if(2&A){const _=Wt();Dp("transition",_.dragging?"none":null),It("ngStyle",bo(8,FT,"horizontal"==_.orientation?_.handleValue+"%":null,"vertical"==_.orientation?_.handleValue+"%":null)),Is("tabindex",_.disabled?null:_.tabindex)("aria-valuemin",_.min)("aria-valuenow",_.value)("aria-valuemax",_.max)("aria-labelledby",_.ariaLabelledBy)}}const UL=function(A){return{"p-slider-handle-active":A}};function h$(A,w){if(1&A){const _=tr();pt(0,"span",7,8),An("keydown",function(I){return zi(_),Wt().onHandleKeydown(I,0)})("mousedown",function(I){return zi(_),Wt().onMouseDown(I,0)})("touchstart",function(I){return zi(_),Wt().onTouchStart(I,0)})("touchmove",function(I){return zi(_),Wt().onTouchMove(I,0)})("touchend",function(I){return zi(_),Wt().onTouchEnd(I)}),ft()}if(2&A){const _=Wt();Dp("transition",_.dragging?"none":null),It("ngStyle",bo(9,FT,_.rangeStartLeft,_.rangeStartBottom))("ngClass",Or(12,UL,0==_.handleIndex)),Is("tabindex",_.disabled?null:_.tabindex)("aria-valuemin",_.min)("aria-valuenow",_.value?_.value[0]:null)("aria-valuemax",_.max)("aria-labelledby",_.ariaLabelledBy)}}function d$(A,w){if(1&A){const _=tr();pt(0,"span",7,9),An("keydown",function(I){return zi(_),Wt().onHandleKeydown(I,1)})("mousedown",function(I){return zi(_),Wt().onMouseDown(I,1)})("touchstart",function(I){return zi(_),Wt().onTouchStart(I,1)})("touchmove",function(I){return zi(_),Wt().onTouchMove(I,1)})("touchend",function(I){return zi(_),Wt().onTouchEnd(I)}),ft()}if(2&A){const _=Wt();Dp("transition",_.dragging?"none":null),It("ngStyle",bo(9,FT,_.rangeEndLeft,_.rangeEndBottom))("ngClass",Or(12,UL,1==_.handleIndex)),Is("tabindex",_.disabled?null:_.tabindex)("aria-valuemin",_.min)("aria-valuenow",_.value?_.value[1]:null)("aria-valuemax",_.max)("aria-labelledby",_.ariaLabelledBy)}}const p$=function(A,w,_,C){return{"p-slider p-component":!0,"p-disabled":A,"p-slider-horizontal":w,"p-slider-vertical":_,"p-slider-animate":C}},f$={provide:Fl,useExisting:Ht(()=>NT),multi:!0};let NT=(()=>{class A{constructor(_,C,I,j){this.el=_,this.renderer=C,this.ngZone=I,this.cd=j,this.min=0,this.max=100,this.orientation="horizontal",this.tabindex=0,this.onChange=new er,this.onSlideEnd=new er,this.handleValues=[],this.onModelChange=()=>{},this.onModelTouched=()=>{},this.handleIndex=0}onMouseDown(_,C){this.disabled||(this.dragging=!0,this.updateDomData(),this.sliderHandleClick=!0,this.handleIndex=this.range&&this.handleValues&&this.handleValues[0]===this.max?0:C,this.bindDragListeners(),_.target.focus(),_.preventDefault(),this.animate&&Nn.removeClass(this.el.nativeElement.children[0],"p-slider-animate"))}onTouchStart(_,C){if(!this.disabled){var I=_.changedTouches[0];this.startHandleValue=this.range?this.handleValues[C]:this.handleValue,this.dragging=!0,this.handleIndex=this.range&&this.handleValues&&this.handleValues[0]===this.max?0:C,"horizontal"===this.orientation?(this.startx=parseInt(I.clientX,10),this.barWidth=this.el.nativeElement.children[0].offsetWidth):(this.starty=parseInt(I.clientY,10),this.barHeight=this.el.nativeElement.children[0].offsetHeight),this.animate&&Nn.removeClass(this.el.nativeElement.children[0],"p-slider-animate"),_.preventDefault()}}onTouchMove(_,C){if(!this.disabled){var j,I=_.changedTouches[0];j="horizontal"===this.orientation?Math.floor(100*(parseInt(I.clientX,10)-this.startx)/this.barWidth)+this.startHandleValue:Math.floor(100*(this.starty-parseInt(I.clientY,10))/this.barHeight)+this.startHandleValue,this.setValueFromHandle(_,j),_.preventDefault()}}onTouchEnd(_,C){this.disabled||(this.dragging=!1,this.onSlideEnd.emit(this.range?{originalEvent:_,values:this.values}:{originalEvent:_,value:this.value}),this.animate&&Nn.addClass(this.el.nativeElement.children[0],"p-slider-animate"),_.preventDefault())}onBarClick(_){this.disabled||(this.sliderHandleClick||(this.updateDomData(),this.handleChange(_)),this.sliderHandleClick=!1)}onHandleKeydown(_,C){this.disabled||(38==_.which||39==_.which?this.spin(_,1,C):(37==_.which||40==_.which)&&this.spin(_,-1,C))}spin(_,C,I){let j=(this.step||1)*C;this.range?(this.handleIndex=I,this.updateValue(this.values[this.handleIndex]+j),this.updateHandleValue()):(this.updateValue(this.value+j),this.updateHandleValue()),_.preventDefault()}handleChange(_){let C=this.calculateHandleValue(_);this.setValueFromHandle(_,C)}bindDragListeners(){this.ngZone.runOutsideAngular(()=>{const _=this.el?this.el.nativeElement.ownerDocument:"document";this.dragListener||(this.dragListener=this.renderer.listen(_,"mousemove",C=>{this.dragging&&this.ngZone.run(()=>{this.handleChange(C)})})),this.mouseupListener||(this.mouseupListener=this.renderer.listen(_,"mouseup",C=>{this.dragging&&(this.dragging=!1,this.ngZone.run(()=>{this.onSlideEnd.emit(this.range?{originalEvent:C,values:this.values}:{originalEvent:C,value:this.value}),this.animate&&Nn.addClass(this.el.nativeElement.children[0],"p-slider-animate")}))}))})}unbindDragListeners(){this.dragListener&&this.dragListener(),this.mouseupListener&&this.mouseupListener()}setValueFromHandle(_,C){this.sliderHandleClick=!1;let I=this.getValueFromHandle(C);this.range?this.step?this.handleStepChange(I,this.values[this.handleIndex]):(this.handleValues[this.handleIndex]=C,this.updateValue(I,_)):this.step?this.handleStepChange(I,this.value):(this.handleValue=C,this.updateValue(I,_)),this.cd.markForCheck()}handleStepChange(_,C){let I=_-C,j=C;I<0?j=C+Math.ceil(_/this.step-C/this.step)*this.step:I>0&&(j=C+Math.floor(_/this.step-C/this.step)*this.step),this.updateValue(j),this.updateHandleValue()}writeValue(_){this.range?this.values=_||[0,0]:this.value=_||0,this.updateHandleValue(),this.cd.markForCheck()}registerOnChange(_){this.onModelChange=_}registerOnTouched(_){this.onModelTouched=_}setDisabledState(_){this.disabled=_,this.cd.markForCheck()}get rangeStartLeft(){return this.isVertical()?"auto":this.handleValues[0]+"%"}get rangeStartBottom(){return this.isVertical()?this.handleValues[0]+"%":"auto"}get rangeEndLeft(){return this.isVertical()?"auto":this.handleValues[1]+"%"}get rangeEndBottom(){return this.isVertical()?this.handleValues[1]+"%":"auto"}isVertical(){return"vertical"===this.orientation}updateDomData(){let _=this.el.nativeElement.children[0].getBoundingClientRect();this.initX=_.left+Nn.getWindowScrollLeft(),this.initY=_.top+Nn.getWindowScrollTop(),this.barWidth=this.el.nativeElement.children[0].offsetWidth,this.barHeight=this.el.nativeElement.children[0].offsetHeight}calculateHandleValue(_){return"horizontal"===this.orientation?100*(_.pageX-this.initX)/this.barWidth:100*(this.initY+this.barHeight-_.pageY)/this.barHeight}updateHandleValue(){this.range?(this.handleValues[0]=100*(this.values[0]<this.min?0:this.values[0]-this.min)/(this.max-this.min),this.handleValues[1]=100*(this.values[1]>this.max?100:this.values[1]-this.min)/(this.max-this.min)):this.handleValue=this.value<this.min?0:this.value>this.max?100:100*(this.value-this.min)/(this.max-this.min)}updateValue(_,C){if(this.range){let I=_;0==this.handleIndex?(I<this.min?(I=this.min,this.handleValues[0]=0):I>this.values[1]&&(I=this.values[1],this.handleValues[0]=this.handleValues[1]),this.sliderHandleStart.nativeElement.focus()):(I>this.max?(I=this.max,this.handleValues[1]=100):I<this.values[0]&&(I=this.values[0],this.handleValues[1]=this.handleValues[0]),this.sliderHandleEnd.nativeElement.focus()),this.values[this.handleIndex]=this.getNormalizedValue(I),this.values=this.values.slice(),this.onModelChange(this.values),this.onChange.emit({event:C,values:this.values})}else _<this.min?(_=this.min,this.handleValue=0):_>this.max&&(_=this.max,this.handleValue=100),this.value=this.getNormalizedValue(_),this.onModelChange(this.value),this.onChange.emit({event:C,value:this.value}),this.sliderHandle.nativeElement.focus()}getValueFromHandle(_){return _/100*(this.max-this.min)+this.min}getDecimalsCount(_){return _&&Math.floor(_)!==_&&_.toString().split(".")[1].length||0}getNormalizedValue(_){let C=this.getDecimalsCount(this.step);return C>0?+_.toFixed(C):Math.floor(_)}ngOnDestroy(){this.unbindDragListeners()}}return A.\u0275fac=function(_){return new(_||A)(rn(_o),rn(Hh),rn(Eo),rn(Gl))},A.\u0275cmp=dr({type:A,selectors:[["p-slider"]],viewQuery:function(_,C){if(1&_&&(zo(qG,5),zo(e$,5),zo(t$,5)),2&_){let I;lo(I=co())&&(C.sliderHandle=I.first),lo(I=co())&&(C.sliderHandleStart=I.first),lo(I=co())&&(C.sliderHandleEnd=I.first)}},hostAttrs:[1,"p-element"],inputs:{animate:"animate",disabled:"disabled",min:"min",max:"max",orientation:"orientation",step:"step",range:"range",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex"},outputs:{onChange:"onChange",onSlideEnd:"onSlideEnd"},features:[Vs([f$])],decls:8,vars:16,consts:[[3,"ngStyle","ngClass","click"],["class","p-slider-range",3,"ngStyle",4,"ngIf"],["class","p-slider-handle",3,"transition","ngStyle","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],["class","p-slider-handle",3,"transition","ngStyle","ngClass","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],[1,"p-slider-range",3,"ngStyle"],[1,"p-slider-handle",3,"ngStyle","keydown","mousedown","touchstart","touchmove","touchend"],["sliderHandle",""],[1,"p-slider-handle",3,"ngStyle","ngClass","keydown","mousedown","touchstart","touchmove","touchend"],["sliderHandleStart",""],["sliderHandleEnd",""]],template:function(_,C){1&_&&(pt(0,"div",0),An("click",function(j){return C.onBarClick(j)}),Pi(1,n$,1,4,"span",1),Pi(2,s$,1,4,"span",1),Pi(3,a$,1,3,"span",1),Pi(4,c$,1,3,"span",1),Pi(5,u$,2,11,"span",2),Pi(6,h$,2,14,"span",3),Pi(7,d$,2,14,"span",3),ft()),2&_&&(vo(C.styleClass),It("ngStyle",C.style)("ngClass",Rg(11,p$,C.disabled,"horizontal"==C.orientation,"vertical"==C.orientation,C.animate)),vt(1),It("ngIf",C.range&&"horizontal"==C.orientation),vt(1),It("ngIf",C.range&&"vertical"==C.orientation),vt(1),It("ngIf",!C.range&&"vertical"==C.orientation),vt(1),It("ngIf",!C.range&&"horizontal"==C.orientation),vt(1),It("ngIf",!C.range),vt(1),It("ngIf",C.range),vt(1),It("ngIf",C.range))},directives:[el,eo,to],styles:[".p-slider{position:relative}.p-slider .p-slider-handle{cursor:grab;touch-action:none}.p-slider-range,.p-slider .p-slider-handle{position:absolute;display:block}.p-slider-horizontal .p-slider-range{top:0;left:0;height:100%}.p-slider-horizontal .p-slider-handle{top:50%}.p-slider-vertical{height:100px}.p-slider-vertical .p-slider-handle{left:50%}.p-slider-vertical .p-slider-range{bottom:0;left:0;width:100%}"],encapsulation:2,changeDetection:0}),A})(),m$=(()=>{class A{}return A.\u0275fac=function(_){return new(_||A)},A.\u0275mod=Rr({type:A}),A.\u0275inj=Bi({imports:[[pl]]}),A})();function g$(A,w){if(1&A&&(pt(0,"span"),tn(1),sn(2,"translate"),sn(3,"translate"),ft()),2&A){const _=Wt();vt(1),pb(" ",on(2,4,"genericBetween"),"",_.selectionRange[0],"",on(3,6,"genericAnd"),"",_.selectionRange[1]," ")}}function y$(A,w){if(1&A&&(pt(0,"span"),tn(1),sn(2,"translate"),ft()),2&A){const _=Wt();vt(1),Mu(" ",on(2,2,"genericStartingFrom"),"",_.selection," ")}}function v$(A,w){if(1&A&&(pt(0,"span"),tn(1),ft()),2&A){const _=Wt();vt(1),Kr(" ",_.unit," ")}}function _$(A,w){if(1&A){const _=tr();pt(0,"div"),pt(1,"p-slider",6),An("onChange",function(I){zi(_);const j=Wt();return j.detectAllChanges&&j.updateRangeValues(I)})("onSlideEnd",function(I){zi(_);const j=Wt();return!j.detectAllChanges&&j.updateRangeValues(I)})("ngModelChange",function(I){return zi(_),Wt().selectionRange=I}),ft(),ft()}if(2&A){const _=Wt();vt(1),It("ngModel",_.selectionRange)("animate",!0)("disabled",_.disabled)("max",_.max)("min",_.min)("range",_.range)("step",_.step)}}function b$(A,w){if(1&A){const _=tr();pt(0,"div"),pt(1,"p-slider",6),An("onChange",function(I){zi(_);const j=Wt();return j.detectAllChanges&&j.updateSliderValue(I)})("onSlideEnd",function(I){zi(_);const j=Wt();return!j.detectAllChanges&&j.updateSliderValue(I)})("ngModelChange",function(I){return zi(_),Wt().selection=I}),ft(),ft()}if(2&A){const _=Wt();vt(1),It("ngModel",_.selection)("animate",!0)("disabled",_.disabled)("max",_.max)("min",_.min)("range",_.range)("step",_.step)}}const A$=function(A){return{"selected-text":A}},w$=function(A){return{"selected-triangle":A}};let jL=(()=>{class A{constructor(){this.step=1,this.range=!0,this.detectAllChanges=!0,this.updateValues=new er,this.updateValue=new er}updateRangeValues(_){this.updateValues.emit(_.values)}updateSliderValue(_){this.updateValue.emit(_.value)}sliderHasChanged(){return this.range?this.selectionRange[0]!==this.min||this.selectionRange[1]!==this.max:this.selection!==this.min}}return A.\u0275fac=function(_){return new(_||A)},A.\u0275cmp=dr({type:A,selectors:[["dinoloket-slider"]],inputs:{min:"min",max:"max",step:"step",range:"range",selectionRange:"selectionRange",selection:"selection",disabled:"disabled",unit:"unit",detectAllChanges:"detectAllChanges"},outputs:{updateValues:"updateValues",updateValue:"updateValue"},decls:10,vars:11,consts:[[1,"slider"],[1,"slider-message-container"],[1,"slider-message-body"],[1,"slider-message-text",3,"ngClass"],[4,"ngIf"],[1,"slider-message-triangle",3,"ngClass"],[3,"ngModel","animate","disabled","max","min","range","step","onChange","onSlideEnd","ngModelChange"]],template:function(_,C){1&_&&(pt(0,"div",0),pt(1,"div",1),pt(2,"div",2),pt(3,"div",3),Pi(4,g$,4,8,"span",4),Pi(5,y$,3,4,"span",4),Pi(6,v$,2,1,"span",4),ft(),Bn(7,"div",5),ft(),ft(),Pi(8,_$,2,7,"div",4),Pi(9,b$,2,7,"div",4),ft()),2&_&&(vt(3),It("ngClass",Or(7,A$,C.sliderHasChanged())),vt(1),It("ngIf",C.selectionRange),vt(1),It("ngIf",C.selection),vt(1),It("ngIf",C.unit),vt(1),It("ngClass",Or(9,w$,C.sliderHasChanged())),vt(1),It("ngIf",C.range),vt(1),It("ngIf",!C.range))},directives:[eo,to,NT,Qd,oh],pipes:[Xs],styles:[".slider[_ngcontent-%COMP%]{padding:10px}.slider-message-container[_ngcontent-%COMP%]{text-align:center}.slider-message-body[_ngcontent-%COMP%]{display:inline-block}.slider-message-text[_ngcontent-%COMP%]{Box-shadow:0 2px 4px 0 rgba(0,0,0,.18);width:-moz-fit-content;width:fit-content;border-radius:6px;padding:5px}.slider-message-triangle[_ngcontent-%COMP%]{margin-left:45%;width:0;height:0;border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #E9E9E9}.selected-text[_ngcontent-%COMP%]{background-color:#ccc;color:#fff}.selected-triangle[_ngcontent-%COMP%]{border-top:7px solid #cccccc}  p-slider .p-slider .p-slider-range{background-color:#000}  p-slider .p-slider .p-slider-handle{background-color:#000;cursor:pointer;height:12px;width:12px;margin-top:-.62em}"]}),A})();class ah{}ah.SPATIAL_REFERENCE=new Pp.Z({wkid:28992});let HL=(()=>{class A{constructor(_,C){this.configurationService=_,this.elementRef=C}ngAfterContentInit(){this.settings=this.configurationService.settings;const _=new DS.default({url:this.settings.bgMapURL,serviceMode:"KVP",activeLayer:{id:this.settings.bgLayers,tileMatrixSetId:"EPSG:28992"}});this.map=new K3,this.map.add(_),this.addExtraLayers();const C=[],I=[];let j;this.vertices.forEach(K=>{if(C.push([K.xcoordinate,K.ycoordinate]),K.objectId){const q=new Ys.Z;q.x=K.xcoordinate,q.y=K.ycoordinate,q.spatialReference=ah.SPATIAL_REFERENCE;const ue={type:"simple-marker",color:new ml.Z("#000000"),size:"10px"},Re=new Fa.Z({geometry:q,symbol:ue});I.push(Re)}}),j=new Fa.Z({geometry:new Bf.Z({paths:[C],spatialReference:ah.SPATIAL_REFERENCE}),symbol:new TS.Z({color:new ml.Z("#000000"),width:2,cap:"round",join:"round"})}),this.view=new xS({spatialReference:ah.SPATIAL_REFERENCE,container:this.elementRef.nativeElement.firstChild,map:this.map,constraints:{snapToZoom:!1},extent:new Iu.Z({xmin:-285402,ymin:22598,xmax:595402,ymax:903402,spatialReference:ah.SPATIAL_REFERENCE})}),this.view.graphics.addMany(I),this.view.graphics.add(j),this.setStartEndPoints(this.vertices),this.view.when(K=>{const q=j.geometry.extent.clone();this.view.extent=q.expand(1.5),this.view.popup.dockEnabled=!0,this.view.popup.actions.removeAll(),this.view.ui.components=[]})}setStartEndPoints(_){this.addMarker(_[1],_[0],"A"),this.addMarker(_[_.length-2],_[_.length-1],"A'")}addExtraLayers(){if(this.extraLayers){const _=[];this.extraLayers.visibleLayers.forEach(C=>_.push({id:C.layerId,visible:!0,opacity:C.opacity})),this.extraImageLayer=new nl.default({url:this.extraLayers.mapUrl,visible:!0,sublayers:_}),this.map.add(this.extraImageLayer)}}addMarker(_,C,I){const j=Math.atan2(_.ycoordinate-C.ycoordinate,_.xcoordinate-C.xcoordinate),K={type:"text",font:{family:"Verdana",size:15,weight:"bold"},color:new ml.Z("#FF0000"),text:I,xoffset:-10*Math.cos(j),yoffset:-10*Math.sin(j)},q=new Ys.Z({x:C.xcoordinate,y:C.ycoordinate,spatialReference:ah.SPATIAL_REFERENCE}),ue=new Fa.Z({geometry:q,symbol:K});this.view.graphics.add(ue)}}return A.\u0275fac=function(_){return new(_||A)(rn(fo),rn(_o))},A.\u0275cmp=dr({type:A,selectors:[["dinoloket-crossection-map"]],inputs:{vertices:"vertices",extraLayers:"extraLayers"},decls:1,vars:0,consts:[[1,"crossection_map"]],template:function(_,C){1&_&&Bn(0,"div",0)},styles:[".crossection_map[_ngcontent-%COMP%]{width:100%;height:100%}"]}),A})(),C$=(()=>{class A{}return A.\u0275fac=function(_){return new(_||A)},A.\u0275cmp=dr({type:A,selectors:[["dinoloket-crossection-wait"]],decls:4,vars:3,consts:[[1,"modal","crossection_wait"],[1,"modal-dialog","modal-sm"],[1,"modal-content","main-content",3,"innerHtml"]],template:function(_,C){1&_&&(pt(0,"div",0),pt(1,"div",1),Bn(2,"div",2),sn(3,"translate"),ft(),ft()),2&_&&(vt(2),It("innerHtml",on(3,1,"waitForCrossectionDataRetrieval"),ul))},pipes:[Xs],styles:[".crossection_wait[_ngcontent-%COMP%]{visibility:visible;display:inherit;padding-top:100px}"]}),A})();function x$(A,w){if(1&A&&Bn(0,"img",37),2&A){const _=Wt(2);It("alt",_.Crossection)("src",_.crossection.imageUrl,$o)}}function E$(A,w){if(1&A&&(Bn(0,"img",28),sn(1,"translate")),2&A){const _=Wt(2);It("alt",on(1,2,"alt-text-crossection"))("src",_.crossection.imageUrl,$o)}}function D$(A,w){if(1&A){const _=tr();pt(0,"area",40),An("mousemove",function(I){return zi(_),Wt(3).mouseMove(I.clientX,I.clientY)})("mouseover",function(I){const K=zi(_).$implicit;return Wt(3).setPopupVisible(I.clientX,I.clientY,K)}),ft()}2&A&&It("coords",w.$implicit.areaPoint)}function M$(A,w){if(1&A&&(pt(0,"map",38),Pi(1,D$,1,1,"area",39),ft()),2&A){const _=Wt(2);vt(1),It("ngForOf",_.crossection.profileMetadata)}}function S$(A,w){1&A&&(Bn(0,"img",45),sn(1,"translate")),2&A&&It("alt",on(1,1,"alt-text-crossection-help"))}function T$(A,w){1&A&&(Bn(0,"img",46),sn(1,"translate")),2&A&&It("alt",on(1,1,"alt-text-crossection-help"))}function I$(A,w){if(1&A&&(pt(0,"div",41),pt(1,"h5",42),tn(2),sn(3,"translate"),ft(),Pi(4,S$,2,3,"img",43),Pi(5,T$,2,3,"img",44),ft()),2&A){const _=Wt(2);vt(2),Rn(on(3,3,"symbolsExplanation")),vt(2),It("ngIf","en"!==_.translateService.currentLang),vt(1),It("ngIf","en"===_.translateService.currentLang)}}function O$(A,w){if(1&A){const _=tr();pt(0,"p-dropdown",47),An("onChange",function(){return zi(_),Wt(2).getCrossection()})("ngModelChange",function(I){return zi(_),Wt(2).crossectionInput.property=I}),ft()}if(2&A){const _=Wt(2);It("ngModel",_.crossectionInput.property)("options",_.crossSectionOptions)("styleClass","input-dropdown")}}const P$=function(A){return{width:A}},k$=function(A,w){return[A,w]},L$=function(A){return{"disabled-link":A}};function B$(A,w){if(1&A){const _=tr();pt(0,"div",5),pt(1,"div",6),pt(2,"div",7),pt(3,"div",8),pt(4,"h4",9,10),tn(6),sn(7,"translate"),sn(8,"translate"),sn(9,"translate"),ft(),ft(),pt(10,"div",11),pt(11,"span",12),An("click",function(){zi(_);const I=Wt();return I.crossection=null,I.closeButton.emit(!0)}),Bn(12,"img",13),sn(13,"translate"),ft(),ft(),pt(14,"div",14),Bn(15,"dinoloket-crossection-drillselect"),ft(),ft(),ft(),pt(16,"div",15),pt(17,"div",16),An("mouseleave",function(I){return zi(_),Wt().setPopupInVisible(I)}),Pi(18,x$,1,2,"img",17),Pi(19,E$,2,4,"img",18),Pi(20,M$,2,1,"map",19),ft(),ft(),pt(21,"dinoloket-crossection-mdl-tooltip",20),An("popupInvisible",function(){return zi(_),Wt().setPopupInVisible(null)})("showFormationMap",function(I){return zi(_),Wt().showFormationMap.emit(I)}),ft(),pt(22,"div",21),pt(23,"div",22),Pi(24,I$,6,5,"div",23),pt(25,"div",24),pt(26,"div",25),pt(27,"a",26),An("mouseout",function(){return zi(_),Wt().helpForDummies=!1})("mouseover",function(){return zi(_),Wt().helpForDummies=!0}),tn(28,"?"),ft(),ft(),pt(29,"div",27),Bn(30,"img",28),sn(31,"translate"),ft(),ft(),pt(32,"div",24),pt(33,"div",29),pt(34,"label"),tn(35),sn(36,"translate"),ft(),Bn(37,"br"),pt(38,"div",30),pt(39,"dinoloket-slider",31),An("updateValues",function(I){return zi(_),Wt().crossectionDepthTraject(I)}),ft(),ft(),ft(),Pi(40,O$,1,3,"p-dropdown",32),ft(),pt(41,"div",33),Bn(42,"dinoloket-crossection-map",34,35),ft(),pt(44,"button",36),An("click",function(){zi(_);const I=To(5),j=To(43);return Wt().saveAsPdf(I,j.view)}),tn(45),sn(46,"translate"),ft(),ft(),ft(),ft()}if(2&A){const _=Wt();vt(6),Rn(on(7,26,"crossSectionTitle")+" "+on(8,28,_.titleName+"Name")+" "+on(9,30,_.titleName+"Version")),vt(6),It("alt",on(13,32,"alt-text-close-button")),vt(5),It("ngStyle",Or(40,P$,_.crossection.renderSizeWidth)),vt(1),It("ngIf","GTP"!==_.crossection.modelType||"GTP"===_.crossection.modelType&&"LITHOSTRATIGRAPHY"===_.crossection.crosssectionType),vt(1),It("ngIf","GTP"===_.crossection.modelType&&"LITHOSTRATIGRAPHY"!==_.crossection.crosssectionType),vt(1),It("ngIf",null!==_.crossection.profileMetadata),vt(1),It("crossection",_.crossection)("metadata",_.metadata)("vertices",_.crossectionInput.vertices)("x",_.x)("y",_.y),vt(3),It("ngIf",_.helpForDummies),vt(6),It("alt",on(31,34,"alt-text-legend"))("src",_.crossection.legendUrl,$o),vt(5),Rn(on(36,36,"depthRefNAP")),vt(4),It("detectAllChanges",!1)("disabled",!_.crossection.profileMetadata)("max",_.initialTopDepth)("min",_.initialBottomDepth)("selectionRange",bo(42,k$,_.initialBottomDepth,_.initialTopDepth))("step",1)("unit","m"),vt(1),It("ngIf","GTP"===_.crossection.modelType),vt(2),It("vertices",_.crossectionInput.vertices),vt(2),It("ngClass",Or(45,L$,_.saveAsPdfDisabled)),vt(1),Rn(on(46,38,"saveAsPdf"))}}function R$(A,w){1&A&&(pt(0,"div",48),Bn(1,"div",49),sn(2,"translate"),ft()),2&A&&(vt(1),It("innerHtml",on(2,1,"waitForCrossectionDataRetrieval"),ul))}function F$(A,w){1&A&&Bn(0,"dinoloket-crossection-wait")}let N$=(()=>{class A{constructor(_,C,I,j,K){this.crossectionService=_,this.errorService=C,this.translateService=I,this.mapService=j,this.configurationService=K,this.saveAsPdfDisabled=!0,this.crossSectionOptions=[],this.closeButton=new er,this.showFormationMap=new er,this.crossSectionOptions=this.getCrossSectionOptions()}get crossection(){return this.crossectionLocal}set crossection(_){_&&null==this.crossectionLocal&&(this.initialTopDepth=Math.floor(_.topDepth),this.initialBottomDepth=Math.ceil(_.bottomDepth)),this.crossectionLocal=_,this.saveAsPdfDisabled=!1}ngOnInit(){this.titleName=this.mapService.activeDatatype.toLowerCase()}crossectionDepthTraject(_){if(_[0]===_[1])return this.errorService.message="crosssection.sameValue",void this.crossectionService.nextVertices(this.mapService.activeDatatype);this.crossectionInput.bottomDepth=_[0],this.crossectionInput.topDepth=_[1],this.getCrossection()}setPopupVisible(_,C,I){I&&(this.x=_,this.y=C,this.metadata=I)}mouseMove(_,C){this.x=_,this.y=C}setPopupInVisible(_){null!=_&&null!=_.relatedTarget&&_.relatedTarget instanceof Node&&null!=_.relatedTarget.attributes.getNamedItem("id")&&"crossection-tooltip"===_.relatedTarget.attributes.getNamedItem("id").value||(this.metadata=null)}saveAsPdf(_,C){if(this.saveAsPdfDisabled)return;this.saveAsPdfDisabled=!0,this.pdfDocument=new(eT())({orientation:"landscape",unit:"px"}),this.pdfDocument.setFontSize(14),this.configurationService.broOnly||this.pdfDocument.setTextColor(141,183,89),this.pdfDocument.setFontStyle("bold");let I=30;this.pdfDocument.text(_.innerText,A.X_POSITION_LEFT,I),I+=20,C.takeScreenshot().then(j=>{cv.getDataUri(this.crossection.pdfImageUrl,(K,q)=>{this.pdfDocument.addImage(K,"PNG",A.X_POSITION_LEFT,I,q.naturalWidth/A.ZOOM_FACTOR,q.naturalHeight/A.ZOOM_FACTOR),this.pdfDocument.addPage(),I=30,cv.getDataUri(this.crossection.legendUrl,(ue,Re)=>{this.pdfDocument.addImage(ue,"PNG",A.X_POSITION_LEFT,I,Re.naturalWidth/A.ZOOM_FACTOR,Re.naturalHeight/A.ZOOM_FACTOR),I+=q.naturalHeight/2,cv.getDataUri("images/crosssectionHelp.png",(Je,wt)=>{this.pdfDocument.addImage(Je,"PNG",A.X_POSITION_LEFT,I,wt.naturalWidth/A.ZOOM_FACTOR,wt.naturalHeight/A.ZOOM_FACTOR),this.pdfDocument.addImage(j.dataUrl,"PNG",A.X_POSITION_LEFT+200,I,j.data.width/A.ZOOM_FACTOR,j.data.height/A.ZOOM_FACTOR),this.translateService.get(this.titleName+"Name").subscribe(Qt=>{const ri=Qt+" Verticale doorsnede ";"GTP"===this.crossection.modelType?this.translateService.get("crossSection.short."+this.crossectionInput.property).subscribe(Ci=>{this.pdfDocument.save(ri+Ci+" "+this.crossectionInput.vertices[0].xcoordinate.toFixed(0)+","+this.crossectionInput.vertices[0].ycoordinate.toFixed(0)+".pdf")}):(this.pdfDocument.save(ri+this.crossectionInput.vertices[0].xcoordinate.toFixed(0)+","+this.crossectionInput.vertices[0].ycoordinate.toFixed(0)+".pdf"),this.saveAsPdfDisabled=!1)})})})})})}getCrossection(){this.saveAsPdfDisabled=!0,this.metadata=null,this.crossection.profileMetadata=null,this.crossectionService.crossection(this.crossectionInput).subscribe(_=>{-1!==_.status?(this.crossection=_,this.saveAsPdfDisabled=!1):this.errorService.message=_.statusMessage})}getCrossSectionOptions(){return[{label:this.translateService.instant("crossSection.short.LITHOSTRATIGRAPHY"),value:"LITHOSTRATIGRAPHY"},{label:this.translateService.instant("crossSection.short.ENTROPY_LITHOSTRATIGRAPHY"),value:"ENTROPY_LITHOSTRATIGRAPHY"},{label:this.translateService.instant("crossSection.short.LITHOCLASSES"),value:"LITHOCLASSES"},{label:this.translateService.instant("crossSection.short.ENTROPY_LITHOCLASS"),value:"ENTROPY_LITHOCLASS"},{label:this.translateService.instant("crossSection.short.PROBABILITY_V"),value:"PROBABILITY_V"},{label:this.translateService.instant("crossSection.short.PROBABILITY_K"),value:"PROBABILITY_K"},{label:this.translateService.instant("crossSection.short.PROBABILITY_KZ"),value:"PROBABILITY_KZ"},{label:this.translateService.instant("crossSection.short.PROBABILITY_ZF"),value:"PROBABILITY_ZF"},{label:this.translateService.instant("crossSection.short.PROBABILITY_ZM"),value:"PROBABILITY_ZM"},{label:this.translateService.instant("crossSection.short.PROBABILITY_ZG"),value:"PROBABILITY_ZG"},{label:this.translateService.instant("crossSection.short.PROBABILITY_G"),value:"PROBABILITY_G"},{label:this.translateService.instant("crossSection.short.PROBABILITY_SHE"),value:"PROBABILITY_SHE"}]}}return A.ZOOM_FACTOR=1.3,A.X_POSITION_LEFT=25,A.\u0275fac=function(_){return new(_||A)(rn(PC),rn(Ip),rn(Ll),rn(qo),rn(fo))},A.\u0275cmp=dr({type:A,selectors:[["dinoloket-crossection-mdl"]],inputs:{crossectionInput:"crossectionInput",crossection:"crossection"},outputs:{closeButton:"closeButton",showFormationMap:"showFormationMap"},decls:5,vars:3,consts:[["id","mdl-crossection",1,"modal"],[1,"modal-dialog"],["class","modal-content main-content row",4,"ngIf"],["class","modal-content row wait_for_data_retrieval",4,"ngIf"],[4,"ngIf"],[1,"modal-content","main-content","row"],[1,"col-sm-12"],[1,"row"],[1,"col-sm-10"],[1,"green","header"],["header",""],[1,"col-sm-2","drillselect"],[1,"pull-right","mousepointer",3,"click"],["src","images/close_button.png",3,"alt"],[1,"col-sm-2"],[1,"col-xs-8","col-sm-10","pull-left"],[3,"ngStyle","mouseleave"],["usemap","#crossectionMap",3,"alt","src",4,"ngIf"],[3,"alt","src",4,"ngIf"],["name","crossectionMap",4,"ngIf"],[3,"crossection","metadata","vertices","x","y","popupInvisible","showFormationMap"],[1,"col-xs-4","col-sm-2","pull-right","bg-white"],[1,"line-container-scroll"],["class","crossectionHelp border",4,"ngIf"],[1,"border"],[1,"help"],[3,"mouseout","mouseover"],[1,"overflow"],[3,"alt","src"],["id","crossSectionDepthRefNAP",1,"slider-toolbar"],[1,"slider_filter"],[3,"detectAllChanges","disabled","max","min","selectionRange","step","unit","updateValues"],["baseZIndex","5000","appendTo","body","id","sectionType",3,"ngModel","options","styleClass","onChange","ngModelChange",4,"ngIf"],[1,"border","map"],[3,"vertices"],["crossectionOverviewMap",""],["type","button",1,"mousepointer","saveAsLink","btn","btn-default","btn-sm","secondary-button","max-width",3,"ngClass","click"],["usemap","#crossectionMap",3,"alt","src"],["name","crossectionMap"],["shape","poly",3,"coords","mousemove","mouseover",4,"ngFor","ngForOf"],["shape","poly",3,"coords","mousemove","mouseover"],[1,"crossectionHelp","border"],[1,"green","dummyHelp"],["src","images/crosssectionHelp.png",3,"alt",4,"ngIf"],["src","images/crosssectionHelp_en.png",3,"alt",4,"ngIf"],["src","images/crosssectionHelp.png",3,"alt"],["src","images/crosssectionHelp_en.png",3,"alt"],["baseZIndex","5000","appendTo","body","id","sectionType",3,"ngModel","options","styleClass","onChange","ngModelChange"],[1,"modal-content","row","wait_for_data_retrieval"],[1,"col-sm-12",3,"innerHtml"]],template:function(_,C){1&_&&(pt(0,"div",0),pt(1,"div",1),Pi(2,B$,47,47,"div",2),Pi(3,R$,3,3,"div",3),ft(),ft(),Pi(4,F$,1,0,"dinoloket-crossection-wait",4)),2&_&&(vt(2),It("ngIf",C.crossection),vt(1),It("ngIf",!C.crossection),vt(1),It("ngIf",C.crossection&&!C.crossection.profileMetadata))},directives:[to,zG,el,uc,YG,jL,r1,Qd,oh,HL,eo,C$],pipes:[Xs],styles:["#mdl-crossection[_ngcontent-%COMP%]{visibility:visible;display:inherit}.wait_for_data_retrieval[_ngcontent-%COMP%]{padding:10px 0}.bg-white[_ngcontent-%COMP%]{background-color:#fff}.modal-dialog[_ngcontent-%COMP%]{width:100%;height:100%;margin:0;padding:0}.modal-content[_ngcontent-%COMP%]{height:auto;min-height:100%;border-radius:0;border:0}.border[_ngcontent-%COMP%]{border:black solid 1px;border-radius:4px;padding:3px;margin-bottom:10px}.help[_ngcontent-%COMP%]{position:relative;text-align:right}.help[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-weight:700;font-size:15px;cursor:pointer;color:#000}.map[_ngcontent-%COMP%]{height:250px}.overflow[_ngcontent-%COMP%]{max-width:100%;overflow-x:auto}.slider_toolbar[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}.crossectionHelp[_ngcontent-%COMP%]{position:fixed;z-index:120;background-color:#fff;right:30px}.saveAsLink[_ngcontent-%COMP%]{color:#000;white-space:nowrap}.dummyHelp[_ngcontent-%COMP%]{padding-left:5px;font-weight:700}.line-container-scroll[_ngcontent-%COMP%]{max-height:85vh;overflow-x:hidden;overflow-y:auto}.scroll-placement-wrapper[_ngcontent-%COMP%]{margin:0 5px 0 0}"]}),A})();var U$=N(4159),j$=N.n(U$);const H$=function(A){return{"legend-image":A}},V$=function(A,w){return{"legend-label-depth-low":A,"legend-label-depth-high":w}};function z$(A,w){if(1&A&&(pt(0,"tr"),pt(1,"td"),Bn(2,"img",8),sn(3,"translate"),ft(),pt(4,"td",9),tn(5),ft(),ft()),2&A){const _=w.$implicit,C=Wt().$implicit,I=Wt();vt(2),It("alt",on(3,5,"alt-text-legend"))("ngClass",Or(7,H$,I.isStyledLegend(C.layerId)))("src","data:image/png;base64,"+_.imageData,$o),vt(2),It("ngClass",bo(9,V$,I.isStyledLabelLow(_.label),I.isStyledLabelHigh(_.label))),vt(1),Kr("",I.getLegendLabel(_.label)," \xa0 ")}}const W$=function(A){return{"no-floating-legends":A}};function K$(A,w){if(1&A&&(pt(0,"div",5),Bn(1,"span",6),sn(2,"translate"),pt(3,"table"),Pi(4,z$,6,12,"tr",7),ft(),ft()),2&A){const _=w.$implicit,C=w.first,I=Wt();It("ngClass",Or(5,W$,!C)),vt(1),It("innerHTML",on(2,3,"formationLegend."+I.getLegendCode(_.layerId)),ul),vt(3),It("ngForOf",_.legend)}}let Q$=(()=>{class A{constructor(){}getLegendCode(_){return this.layerInfos.filter(I=>Number(I.value)===_)[0].code}getLegendLabel(_){if(_.indexOf(":")>=0){let C="";const I=_.split(":")[1];return isNaN(parseFloat(I))||(C=Math.round(parseFloat(I.replace(",","."))).toString()),C}return this.checkUnicodeString(this.toUnicode(_))&&(_="1.0E6 \u2264 c < 1.0E9"),_}checkUnicodeString(_){const C=[49,46,48,69,49,32,8804,32,99,32,60,32,49,46,48,69,57];if(_.length!==C.length)return!1;for(const I in C)if(_[I]!==C[I])return!1;return!0}toUnicode(_){const C=[];for(let I=0;I<_.length;I++)C.push(_.charCodeAt(I));return C}isStyledLegend(_){const C=this.getLegendCode(_);return"MAP_THICKNESS"===C||"MAP_BOTTOM"===C||"MAP_TOP"===C}isStyledLabelLow(_){return _.indexOf("Low")>=0}isStyledLabelHigh(_){return _.indexOf("High")>=0}}return A.\u0275fac=function(_){return new(_||A)},A.\u0275cmp=dr({type:A,selectors:[["dinoloket-mdl-legend"]],inputs:{legends:"legends",layerInfos:"layerInfos"},decls:9,vars:7,consts:[[1,"row","legend"],["class","col-sm-2 legend-size",3,"ngClass",4,"ngFor","ngForOf"],[1,"col-sm-2","legend-size","no-floating-legends"],[1,"legend-title"],["src","images/legend_line.png",3,"alt"],[1,"col-sm-2","legend-size",3,"ngClass"],[1,"legend-title",3,"innerHTML"],[4,"ngFor","ngForOf"],[3,"alt","ngClass","src"],[1,"legend-label",3,"ngClass"]],template:function(_,C){1&_&&(pt(0,"div",0),Pi(1,K$,5,7,"div",1),pt(2,"div",2),pt(3,"span",3),tn(4),sn(5,"translate"),ft(),pt(6,"div"),Bn(7,"img",4),sn(8,"translate"),ft(),ft(),ft()),2&_&&(vt(1),It("ngForOf",C.legends),vt(3),Rn(on(5,3,"formationLegend.line")),vt(3),It("alt",on(8,5,"alt-text-legend")))},directives:[uc,eo],pipes:[Xs],styles:[".legend-label[_ngcontent-%COMP%]{font-size:10px;padding-left:3px}.legend-size[_ngcontent-%COMP%]{width:auto;padding-left:4px;padding-top:4px}.legend-image[_ngcontent-%COMP%]{width:20px;height:40px}.legend-label-depth-low[_ngcontent-%COMP%]{vertical-align:bottom}.legend-label-depth-high[_ngcontent-%COMP%]{vertical-align:top}.legend-title[_ngcontent-%COMP%]{font-weight:700}.legend[_ngcontent-%COMP%]{max-width:100%;overflow-x:auto;margin:0;padding:4px}.no-floating-legends[_ngcontent-%COMP%]{float:none}"]}),A})();const G$=function(A){return{width:A}},$$=function(A,w){return{height:A,width:w}},Z$=function(A){return{"disabled-link":A}};let J$=(()=>{class A{constructor(_,C,I,j){this.mapService=_,this.configurationService=C,this.legendService=I,this.translateService=j,this.closeButton=new er,this.saveAsPdfDisabled=!0}ngAfterContentInit(){const _=[];_.push({layerId:Number(this.showMap.layerInfo.value),opacity:.6});const C=[];C.push(Number(this.showMap.layerInfo.value));const I=this.showMap.metadata.layerInfos;I.filter(q=>"MAP_FAULTS"===q.code||"MAP_AREAS"===q.code||"MAP_NSI"===q.code).forEach(q=>{_.push({layerId:Number(q.value),opacity:1}),C.push(Number(q.value))}),this.formationName=I.filter(q=>"NAME"===q.code)[0].value;const j=I.filter(q=>"MAP_SERVICE"===q.code);let K;if(0===j.length){let q;switch(this.mapService.activeDatatype){case"GTP":q=this.configurationService.settings.broGtpArcGisServerURLmaps;break;case"DGM":q=this.configurationService.settings.dgmArcGisServerURLmaps;break;case"RGS":q=this.configurationService.settings.rgsArcGisServerURLmaps;break;case"GMD":q=this.configurationService.settings.gmdArcGisServerURLmaps}K=q}else K=this.configurationService.settings.baseArcGisServerURL+"/rest/services"+j[0].value;this.formationMapLayer={mapUrl:K,visibleLayers:_},this.legendService.getLegend(K+"legend").subscribe(q=>{this.legends=q.layers.filter(ue=>C.indexOf(ue.layerId)>=0).reverse(),this.saveAsPdfDisabled=!1})}saveAsPdf(_,C,I){if(this.saveAsPdfDisabled)return;this.saveAsPdfDisabled=!0,this.pdfDocument=new(eT())({orientation:"landscape",unit:"px"}),this.pdfDocument.setFontSize(14),this.configurationService.broOnly||this.pdfDocument.setTextColor(141,183,89),this.pdfDocument.setFontStyle("bold");let j=30;this.pdfDocument.text(_.innerText,A.X_POSITION_LEFT,j),j+=20,C.takeScreenshot().then(K=>{this.pdfDocument.addImage(K.dataUrl,"PNG",A.X_POSITION_LEFT,j,K.data.width/A.ZOOM_FACTOR_MAP,K.data.height/A.ZOOM_FACTOR_MAP),this.pdfDocument.addPage(),j$()(I,{useCORS:!0,allowTaint:!0}).then(q=>{const ue=q.toDataURL("image/png");this.pdfDocument.addImage(ue,"PNG",A.X_POSITION_LEFT,j,q.width/A.ZOOM_FACTOR,q.height/A.ZOOM_FACTOR),cv.getDataUri(this.showMap.crossection.pdfImageUrl,(Re,Je)=>{this.pdfDocument.addImage(Re,"PNG",300,j,Je.naturalWidth/A.ZOOM_FACTOR_LEGEND,Je.naturalHeight/A.ZOOM_FACTOR_LEGEND),this.translateService.get(this.getModelName()).subscribe(wt=>{this.translateService.get("crossSection."+this.showMap.layerInfo.code).subscribe(Qt=>{wt=wt+" "+this.formationName+" "+Qt+" "+this.showMap.vertices[0].xcoordinate.toFixed(0)+","+this.showMap.vertices[0].ycoordinate.toFixed(0)+".pdf",this.pdfDocument.save(wt),this.saveAsPdfDisabled=!1})})})})}).catch(K=>{console.log("error canvas",K)})}getModelName(){return this.mapService.getDataType().toLowerCase()+"Name"}getModelVersion(){return this.mapService.getDataType().toLowerCase()+"Version"}}return A.ZOOM_FACTOR_MAP=3,A.ZOOM_FACTOR=1.5,A.X_POSITION_LEFT=25,A.ZOOM_FACTOR_LEGEND=2.5,A.\u0275fac=function(_){return new(_||A)(rn(qo),rn(fo),rn(MS),rn(Ll))},A.\u0275cmp=dr({type:A,selectors:[["dinoloket-formation-mdl"]],inputs:{showMap:"showMap"},outputs:{closeButton:"closeButton"},decls:31,vars:31,consts:[["id","mdl-formation",1,"modal"],[1,"modal-dialog"],[1,"modal-content","main-content","row"],[1,"col-sm-10","pull-left","no-padding-right",3,"ngStyle"],[1,"row","col-sm-12"],[1,"green","header"],["header",""],[3,"ngStyle"],[3,"extraLayers","vertices"],["mapElement",""],[1,"col-sm-2","pull-right","legends"],[1,"row","legend"],[1,"col-sm-12","no-padding"],[1,"col-sm-8"],[1,"mousepointer","saveAsLink","btn","btn-default","btn-sm","secondary-button","max-width",3,"ngClass","click"],[1,"col-sm-4","close-button"],[1,"pull-right","mousepointer",3,"click"],["src","images/close_button.png",3,"alt"],[1,"border"],["legendElem",""],[3,"layerInfos","legends"],[1,"border","overflow"],[1,"legend-image",3,"alt","src"]],template:function(_,C){if(1&_){const I=tr();pt(0,"div",0),pt(1,"div",1),pt(2,"div",2),pt(3,"div",3),pt(4,"div",4),pt(5,"h4",5,6),tn(7),sn(8,"translate"),sn(9,"translate"),ft(),ft(),pt(10,"div",7),Bn(11,"dinoloket-crossection-map",8,9),ft(),ft(),pt(13,"div",10),pt(14,"div",11),pt(15,"div",12),pt(16,"div",13),pt(17,"a",14),An("click",function(){zi(I);const K=To(6),q=To(12),ue=To(26);return C.saveAsPdf(K,q.view,ue)}),tn(18),sn(19,"translate"),ft(),ft(),pt(20,"div",15),pt(21,"span",16),An("click",function(){return C.showMap=null,C.closeButton.emit(!0)}),Bn(22,"img",17),sn(23,"translate"),ft(),ft(),ft(),ft(),pt(24,"div",18),pt(25,"div",null,19),Bn(27,"dinoloket-mdl-legend",20),ft(),ft(),pt(28,"div",21),Bn(29,"img",22),sn(30,"translate"),ft(),ft(),ft(),ft(),ft()}2&_&&(vt(3),It("ngStyle",Or(24,G$,C.mapService.mapView.width-390+"px")),vt(4),py("",C.formationName," (",on(8,14,C.getModelName())," ",on(9,16,C.getModelVersion()),")"),vt(3),It("ngStyle",bo(26,$$,C.mapService.mapView.height-70+"px",C.mapService.mapView.width-390+"px")),vt(1),It("extraLayers",C.formationMapLayer)("vertices",C.showMap.vertices),vt(6),It("ngClass",Or(29,Z$,C.saveAsPdfDisabled)),vt(1),Rn(on(19,18,"saveAsPdf")),vt(4),It("alt",on(23,20,"alt-text-close-button")),vt(5),It("layerInfos",C.showMap.metadata.layerInfos)("legends",C.legends),vt(2),It("alt",on(30,22,"alt-text-thumbnail"))("src",C.showMap.crossection.smallImageUrl,$o))},directives:[el,HL,eo,Q$],pipes:[Xs],styles:["#mdl-formation[_ngcontent-%COMP%]{visibility:visible;display:inherit}.modal-dialog[_ngcontent-%COMP%]{width:100%;height:100%;margin:0;padding:0}.modal-content[_ngcontent-%COMP%]{height:auto;min-height:100%;border-radius:0;border:0}.border[_ngcontent-%COMP%]{border:black solid 1px;border-radius:4px;padding:3px;margin-bottom:10px}.saveAsLink[_ngcontent-%COMP%]{color:#000;white-space:nowrap}.overflow[_ngcontent-%COMP%]{max-width:100%;overflow-x:auto}.legend-image[_ngcontent-%COMP%]{padding-left:6px;padding-top:16px}.legend[_ngcontent-%COMP%]{padding-bottom:11px;width:385px}.close-button[_ngcontent-%COMP%]{padding-right:7px}.no-padding[_ngcontent-%COMP%]{padding:0}.no-padding-right[_ngcontent-%COMP%]{padding-right:0}.legends[_ngcontent-%COMP%]{width:auto}"]}),A})();function X$(A,w){if(1&A){const _=tr();pt(0,"dinoloket-crossection-dialog",5),An("cancelCrossection",function(){zi(_);const I=Wt();return I.showCrossectionDialog=!1,I.closeCrossection()})("showCrossection",function(){return zi(_),Wt().showCrossection()}),ft()}}function Y$(A,w){if(1&A){const _=tr();pt(0,"dinoloket-crossection-mdl",6),An("closeButton",function(){return zi(_),Wt().closeCrossection()})("showFormationMap",function(I){return zi(_),Wt().showMap=I}),ft()}if(2&A){const _=Wt();It("crossection",_.crossection)("crossectionInput",_.crossectionInput)}}function q$(A,w){if(1&A){const _=tr();pt(0,"dinoloket-formation-mdl",7),An("closeButton",function(){return zi(_),Wt().showMap=null}),ft()}2&A&&It("showMap",Wt().showMap)}const eZ=function(A,w,_){return{bro:A,"esri-draw-button-selected":w,"not-clickable":_}};let tZ=(()=>{class A{constructor(_,C,I,j,K){this.mapService=_,this.configurationService=C,this.errorService=I,this.crossectionService=j,this.translateService=K,this.CROSSECTION_STATE=Jn.CROSSECTION_STATE,this.pointGraphics=[],this.verticesSubscription=j.crossectionUpdateCrossectionBus.subscribe(q=>{this.updateCrossection(q)})}ngOnInit(){this.mapService.mapStateSubject.subscribe(_=>{_===Jn.CROSSECTION_STATE?this.activateDraw():this.stopDraw()})}startDrawLineTool(){if(!this.mapService.denyFunctionForSimpleModel()){if(!this.mapService.activeDatatype)return void(this.errorService.message="selectModelFirst");this.mapService.mapState!==Jn.CROSSECTION_STATE?this.mapService.changeMapState(Jn.CROSSECTION_STATE):this.mapService.mapState===Jn.CROSSECTION_STATE&&this.mapService.changeMapState(Jn.MAP_STATE)}}activateDraw(){this.vertices=[],this.draw=new tK({view:this.mapService.mapView});const _=this.draw.create("polyline","hybrid");this.mapService.mapView.focus(),this.cursorUpdateHandle=_.on("cursor-update",C=>this.createGraphic(C,this.mapService.mapView)),this.vertextAddHandle=_.on("vertex-add",C=>this.updateVertices(C)),this.vertextRemoveHandle=_.on("vertex-remove",C=>this.updateVertices(C)),this.drawCompleteHandle=_.on("draw-complete",C=>this.drawComplete(C))}executeIdentifyTask(_){if(this.mapService.denyFunctionForSimpleModel())return;const C=new Ys.Z;C.x=_[0],C.y=_[1],C.spatialReference=new Pp.Z({wkid:28992});const j=new Iy({url:this.mapService.mdlLayer.url}),K=new XD;K.tolerance=3,K.returnGeometry=!0,K.geometry=C,K.mapExtent=this.mapService.mapView.extent,K.layerIds=[this.mapService.activeLayerId],K.width=this.mapService.mapView.width,K.height=this.mapService.mapView.height,j.execute(K).then(q=>{const ue=q.results,Re=new Oz;Re.xcoordinate=C.x,Re.ycoordinate=C.y,ue.length>0&&ue.forEach(Je=>{if(0===this.vertices.filter(Qt=>Qt.objectId===Je.feature.attributes.DINO_NR).length){Re.objectId=Je.feature.attributes.DINO_NR;const Qt=Je.feature.geometry;Re.xcoordinate=Qt.x,Re.ycoordinate=Qt.y}}),this.vertices.push(Re)})}drawComplete(_){this.eventVerticesStorage=_.vertices,this.createGraphic(_,this.mapService.mapView,!0),this.validateLineLength(this.eventVerticesStorage)&&this.checkIfDatailsAvailible().then(C=>{C.features.length>0?this.showCrossectionDialog=!0:(this.errorService.message="crossSection.noInformation",this.mapService.changeMapState(Jn.MAP_STATE))})}checkIfDatailsAvailible(){const _=new Ug.Z;return _.spatialRelationship="intersects",_.geometry=new Bf.Z({paths:[this.eventVerticesStorage],spatialReference:this.mapService.mapView.spatialReference}),_.outFields=["*"],_.where=" MDL_CD = '"+this.mapService.activeDatatype.toUpperCase()+"'",new Fb.Z({url:this.configurationService.settings.mdlArcGisServerURLdynamic+"/4"}).execute(_)}validateLineLength(_){let C=0;const I="GMD5"===this.mapService.activeDatatype?A.CROSS_SECTION_MAXIMUM_GMD:A.CROSS_SECTION_MAXIMUM;for(let j=1;j<_.length;j++)C+=this.calculateLineDistance(_[j-1],_[j]);return C<A.CROSS_SECTION_MINIMUM&&(this.errorService.message="crossSection.tooShort",this.mapService.changeMapState(Jn.MAP_STATE)),C>I&&(this.errorService.message="GMD5"===this.mapService.activeDatatype?"crossSection.tooLongGmd":"crossSection.tooLong",this.mapService.changeMapState(Jn.MAP_STATE)),C>A.CROSS_SECTION_MINIMUM&&C<I}updateVertices(_){this.createGraphic(_,this.mapService.mapView),this.executeIdentifyTask(_.vertices[_.vertexIndex])}createGraphic(_,C,I=!1){const j=_.vertices,K=this.configurationService.broOnly?Jn.BLUE_COLOR_CLASS:Jn.GREEN_COLOR_CLASS;this.crossectionGraphic&&(C.graphics.remove(this.crossectionGraphic),this.pointGraphics.forEach(q=>{C.graphics.remove(q)}),this.pointGraphics=[]),this.crossectionGraphic=new Fa.Z({geometry:new Bf.Z({paths:j,spatialReference:C.spatialReference}),symbol:new TS.Z({color:K,width:I?2:1,cap:"round",join:"round"})}),this.vertices.forEach(q=>{if(q.objectId){const ue=new Ys.Z;ue.x=q.xcoordinate,ue.y=q.ycoordinate,ue.spatialReference=new Pp.Z({wkid:28992});const Je=new Fa.Z({geometry:ue,symbol:{type:"simple-marker",color:K,size:"10px"}});this.pointGraphics.push(Je),C.graphics.add(Je)}}),C.graphics.add(this.crossectionGraphic)}getLastSegment(_){const C=_.clone(),I=C.removePoint(0,C.paths[0].length-1),j=C.getPoint(0,C.paths[0].length-1);return new Bf.Z({spatialReference:this.mapService.mapView.spatialReference,hasZ:!1,paths:[[[j.x,j.y],[I.x,I.y]]]})}showCrossection(){this.showCrossectionPopup=!0,this.showCrossectionDialog=!1;const _=new Pz;_.vertices=this.vertices,_.modelType=this.mapService.activeDatatype,_.model=this.mapService.getDataType(),_.resolution=this.configurationService.settings[this.mapService.activeDatatype.toLowerCase()+"Resolution"],_.version=this.configurationService.settings[this.mapService.activeDatatype.toLowerCase()+"Version"],_.renderSizeWidth=.83*this.mapService.mapView.width,_.renderSizeHeight=.83*this.mapService.mapView.height,_.legendHeight=10,_.property="RGS"===this.mapService.activeDatatype?"HYDROGEOLOGY":"LITHOSTRATIGRAPHY",_.language=this.translateService.currentLang,this.crossectionService.crossection(_).subscribe(C=>{-1!==C.status?(this.crossectionService.nextHideScreen(!1),this.crossection=C,this.crossectionInput=_):this.errorService.message=C.statusMessage})}updateCrossection(_){this.showCrossectionPopup=!1,this.crossectionInput=null,this.crossection=null,this.mapService.activeDatatype=_.toUpperCase(),this.checkIfDatailsAvailible().then(C=>{C.features.length>0?this.showCrossection():(this.errorService.message="crossSection.noInformation",this.redrawMainMap(),this.mapService.changeMapState(Jn.MAP_STATE))})}closeCrossection(){this.redrawMainMap(),this.showCrossectionPopup=!1,this.showCrossectionDialog=!1,this.stopDraw(),this.activateDraw()}redrawMainMap(){"DGM"===this.mapService.activeDatatype?this.mapService.changeDgmVisibleLayer():"RGS"===this.mapService.activeDatatype?this.mapService.changeRgsVisibleLayer():"GTP"===this.mapService.activeDatatype?this.mapService.changeGtpVisibleLayer():"GMD"===this.mapService.activeDatatype?this.mapService.changeGmdVisibleLayer():"GMM"===this.mapService.activeDatatype&&this.mapService.changeGmmVisibleLayer()}calculateLineDistance(_,C){return Math.sqrt(Math.pow(_[0]-C[0],2)+Math.pow(_[1]-C[1],2))}stopDraw(){this.showCrossectionPopup=!1,this.showCrossectionDialog=!1,this.crossection=null,this.crossectionInput=null,null!=this.drawCompleteHandle&&(this.drawCompleteHandle.remove(),this.drawCompleteHandle=null),null!=this.cursorUpdateHandle&&(this.cursorUpdateHandle.remove(),this.cursorUpdateHandle=null),null!=this.vertextRemoveHandle&&(this.vertextRemoveHandle.remove(),this.vertextRemoveHandle=null),null!=this.vertextAddHandle&&(this.vertextAddHandle.remove(),this.vertextAddHandle=null),null!=this.crossectionGraphic&&this.mapService.mapView.graphics.remove(this.crossectionGraphic),this.pointGraphics.forEach(_=>{this.mapService.mapView.graphics.remove(_)}),this.pointGraphics=[],null!=this.draw&&this.draw.reset()}}return A.CROSS_SECTION_MINIMUM=1e3,A.CROSS_SECTION_MAXIMUM=35e4,A.CROSS_SECTION_MAXIMUM_GMD=7e5,A.\u0275fac=function(_){return new(_||A)(rn(qo),rn(fo),rn(Ip),rn(PC),rn(Ll))},A.\u0275cmp=dr({type:A,selectors:[["dinoloket-crossection-tool"]],decls:7,vars:14,consts:[["id","crossection-button",1,"esri-widget--button","esri-widget","esri-interactive",3,"ngClass","title","click"],["src","images/cross_sect_b_skin.png",3,"alt"],[3,"cancelCrossection","showCrossection",4,"ngIf"],[3,"crossection","crossectionInput","closeButton","showFormationMap",4,"ngIf"],[3,"showMap","closeButton",4,"ngIf"],[3,"cancelCrossection","showCrossection"],[3,"crossection","crossectionInput","closeButton","showFormationMap"],[3,"showMap","closeButton"]],template:function(_,C){1&_&&(pt(0,"div",0),An("click",function(){return C.startDrawLineTool()}),sn(1,"translate"),Bn(2,"img",1),sn(3,"translate"),ft(),Pi(4,X$,1,0,"dinoloket-crossection-dialog",2),Pi(5,Y$,1,2,"dinoloket-crossection-mdl",3),Pi(6,q$,1,1,"dinoloket-formation-mdl",4)),2&_&&(It("ngClass",cc(10,eZ,C.configurationService.broOnly,C.mapService.mapState===C.CROSSECTION_STATE,C.mapService.checkIfSimpleModel()))("title",on(1,6,"crossectionButtonToolTip")),vt(2),It("alt",on(3,8,"crossectionButtonToolTip")),vt(2),It("ngIf",C.showCrossectionDialog),vt(1),It("ngIf",C.showCrossectionPopup),vt(1),It("ngIf",C.showMap))},directives:[eo,to,iK,N$,J$],pipes:[Xs],styles:[".bro.esri-draw-button-selected[_ngcontent-%COMP%]{opacity:1;background-color:#007bc7;color:#fff}.esri-draw-button-selected[_ngcontent-%COMP%]{opacity:1;background-color:#39870c;color:#fff}"]}),A})();class iZ{}const nZ=["rb"],rZ=function(A,w,_){return{"p-radiobutton-label":!0,"p-radiobutton-label-active":A,"p-disabled":w,"p-radiobutton-label-focus":_}};function sZ(A,w){if(1&A){const _=tr();pt(0,"label",4),An("click",function(I){return zi(_),Wt().select(I)}),tn(1),ft()}if(2&A){const _=Wt(),C=To(3);vo(_.labelStyleClass),It("ngClass",cc(5,rZ,C.checked,_.disabled,_.focused)),Is("for",_.inputId),vt(1),Rn(_.label)}}const oZ=function(A,w,_){return{"p-radiobutton p-component":!0,"p-radiobutton-checked":A,"p-radiobutton-disabled":w,"p-radiobutton-focused":_}},aZ=function(A,w,_){return{"p-radiobutton-box":!0,"p-highlight":A,"p-disabled":w,"p-focus":_}},lZ={provide:Fl,useExisting:Ht(()=>UT),multi:!0};let cZ=(()=>{class A{constructor(){this.accessors=[]}add(_,C){this.accessors.push([_,C])}remove(_){this.accessors=this.accessors.filter(C=>C[1]!==_)}select(_){this.accessors.forEach(C=>{this.isSameGroup(C,_)&&C[1]!==_&&C[1].writeValue(_.value)})}isSameGroup(_,C){return!!_[0].control&&_[0].control.root===C.control.control.root&&_[1].name===C.name}}return A.\u0275fac=function(_){return new(_||A)},A.\u0275prov=di({token:A,factory:A.\u0275fac,providedIn:"root"}),A})(),UT=(()=>{class A{constructor(_,C,I){this.cd=_,this.injector=C,this.registry=I,this.onClick=new er,this.onFocus=new er,this.onBlur=new er,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngOnInit(){this.control=this.injector.get(Hf),this.checkName(),this.registry.add(this.control,this)}handleClick(_,C,I){_.preventDefault(),!this.disabled&&(this.select(_),I&&C.focus())}select(_){this.disabled||(this.inputViewChild.nativeElement.checked=!0,this.checked=!0,this.onModelChange(this.value),this.registry.select(this),this.onClick.emit(_))}writeValue(_){this.checked=_==this.value,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.checked=this.checked),this.cd.markForCheck()}registerOnChange(_){this.onModelChange=_}registerOnTouched(_){this.onModelTouched=_}setDisabledState(_){this.disabled=_,this.cd.markForCheck()}onInputFocus(_){this.focused=!0,this.onFocus.emit(_)}onInputBlur(_){this.focused=!1,this.onModelTouched(),this.onBlur.emit(_)}onChange(_){this.select(_)}focus(){this.inputViewChild.nativeElement.focus()}ngOnDestroy(){this.registry.remove(this)}checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this.throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}throwNameError(){throw new Error('\n          If you define both a name and a formControlName attribute on your radio button, their values\n          must match. Ex: <p-radioButton formControlName="food" name="food"></p-radioButton>\n        ')}}return A.\u0275fac=function(_){return new(_||A)(rn(Gl),rn(Tl),rn(cZ))},A.\u0275cmp=dr({type:A,selectors:[["p-radioButton"]],viewQuery:function(_,C){if(1&_&&zo(nZ,5),2&_){let I;lo(I=co())&&(C.inputViewChild=I.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",formControlName:"formControlName",name:"name",disabled:"disabled",label:"label",tabindex:"tabindex",inputId:"inputId",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[Vs([lZ])],decls:7,vars:23,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","radio",3,"checked","disabled","change","focus","blur"],["rb",""],[3,"ngClass","click"],[1,"p-radiobutton-icon"],[3,"class","ngClass","click",4,"ngIf"]],template:function(_,C){if(1&_){const I=tr();pt(0,"div",0),pt(1,"div",1),pt(2,"input",2,3),An("change",function(K){return C.onChange(K)})("focus",function(K){return C.onInputFocus(K)})("blur",function(K){return C.onInputBlur(K)}),ft(),ft(),pt(4,"div",4),An("click",function(K){zi(I);const q=To(3);return C.handleClick(K,q,!0)}),Bn(5,"span",5),ft(),ft(),Pi(6,sZ,2,9,"label",6)}2&_&&(vo(C.styleClass),It("ngStyle",C.style)("ngClass",cc(15,oZ,C.checked,C.disabled,C.focused)),vt(2),It("checked",C.checked)("disabled",C.disabled),Is("id",C.inputId)("name",C.name)("value",C.value)("tabindex",C.tabindex)("aria-checked",C.checked)("aria-label",C.ariaLabel)("aria-labelledby",C.ariaLabelledBy),vt(2),It("ngClass",cc(19,aZ,C.checked,C.disabled,C.focused)),vt(2),It("ngIf",C.label))},directives:[el,eo,to],encapsulation:2,changeDetection:0}),A})(),uZ=(()=>{class A{}return A.\u0275fac=function(_){return new(_||A)},A.\u0275mod=Rr({type:A}),A.\u0275inj=Bi({imports:[[pl]]}),A})(),VL=(()=>{class A{constructor(_,C,I){this.el=_,this.ngModel=C,this.cd=I}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(_){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}return A.\u0275fac=function(_){return new(_||A)(rn(_o),rn(oh,8),rn(Gl))},A.\u0275dir=Fr({type:A,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(_,C){1&_&&An("input",function(j){return C.onInput(j)}),2&_&&Sd("p-filled",C.filled)}}),A})(),jT=(()=>{class A{}return A.\u0275fac=function(_){return new(_||A)},A.\u0275mod=Rr({type:A}),A.\u0275inj=Bi({imports:[[pl]]}),A})(),zL=(()=>{class A{constructor(_){this.el=_,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1}ngAfterViewInit(){this._initialStyleClass=this.el.nativeElement.className,Nn.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),(this.icon||this.loading)&&this.createIconEl();let _=document.createElement("span");this.icon&&!this.label&&_.setAttribute("aria-hidden","true"),_.className="p-button-label",this.label?_.appendChild(document.createTextNode(this.label)):_.innerHTML="&nbsp;",this.el.nativeElement.appendChild(_),this.initialized=!0}getStyleClass(){let _="p-button p-component";return this.icon&&!this.label&&(_+=" p-button-icon-only"),this.loading&&(_+=" p-disabled p-button-loading",!this.icon&&this.label&&(_+=" p-button-loading-label-only")),_}setStyleClass(){let _=this.getStyleClass();this.el.nativeElement.className=_+" "+this._initialStyleClass}createIconEl(){let _=document.createElement("span");_.className="p-button-icon",_.setAttribute("aria-hidden","true");let C=this.label?"p-button-icon-"+this.iconPos:null;C&&Nn.addClass(_,C);let I=this.getIconClass();I&&Nn.addMultipleClasses(_,I);let j=Nn.findSingle(this.el.nativeElement,".p-button-label");j?this.el.nativeElement.insertBefore(_,j):this.el.nativeElement.appendChild(_)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}setIconClass(){let _=Nn.findSingle(this.el.nativeElement,".p-button-icon");_?_.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIconEl()}removeIconElement(){let _=Nn.findSingle(this.el.nativeElement,".p-button-icon");this.el.nativeElement.removeChild(_)}get label(){return this._label}set label(_){this._label=_,this.initialized&&(Nn.findSingle(this.el.nativeElement,".p-button-label").textContent=this._label||"&nbsp;",(this.loading||this.icon)&&this.setIconClass(),this.setStyleClass())}get icon(){return this._icon}set icon(_){this._icon=_,this.initialized&&(this.setIconClass(),this.setStyleClass())}get loading(){return this._loading}set loading(_){this._loading=_,this.initialized&&(this.loading||this.icon?this.setIconClass():this.removeIconElement(),this.setStyleClass())}ngOnDestroy(){this.initialized=!1}}return A.\u0275fac=function(_){return new(_||A)(rn(_o))},A.\u0275dir=Fr({type:A,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),A})(),qC=(()=>{class A{}return A.\u0275fac=function(_){return new(_||A)},A.\u0275mod=Rr({type:A}),A.\u0275inj=Bi({imports:[[pl,mv]]}),A})();const dZ=["input"],WL=function(){return{"p-inputnumber-button p-inputnumber-button-up":!0}},KL=function(){return{"p-inputnumber-button p-inputnumber-button-down":!0}};function pZ(A,w){if(1&A){const _=tr();pt(0,"span",5),pt(1,"button",6),An("mousedown",function(I){return zi(_),Wt().onUpButtonMouseDown(I)})("mouseup",function(){return zi(_),Wt().onUpButtonMouseUp()})("mouseleave",function(){return zi(_),Wt().onUpButtonMouseLeave()})("keydown",function(I){return zi(_),Wt().onUpButtonKeyDown(I)})("keyup",function(){return zi(_),Wt().onUpButtonKeyUp()}),ft(),pt(2,"button",6),An("mousedown",function(I){return zi(_),Wt().onDownButtonMouseDown(I)})("mouseup",function(){return zi(_),Wt().onDownButtonMouseUp()})("mouseleave",function(){return zi(_),Wt().onDownButtonMouseLeave()})("keydown",function(I){return zi(_),Wt().onDownButtonKeyDown(I)})("keyup",function(){return zi(_),Wt().onDownButtonKeyUp()}),ft(),ft()}if(2&A){const _=Wt();vt(1),vo(_.incrementButtonClass),It("ngClass",Yc(10,WL))("icon",_.incrementButtonIcon)("disabled",_.disabled),vt(1),vo(_.decrementButtonClass),It("ngClass",Yc(11,KL))("icon",_.decrementButtonIcon)("disabled",_.disabled)}}function fZ(A,w){if(1&A){const _=tr();pt(0,"button",6),An("mousedown",function(I){return zi(_),Wt().onUpButtonMouseDown(I)})("mouseup",function(){return zi(_),Wt().onUpButtonMouseUp()})("mouseleave",function(){return zi(_),Wt().onUpButtonMouseLeave()})("keydown",function(I){return zi(_),Wt().onUpButtonKeyDown(I)})("keyup",function(){return zi(_),Wt().onUpButtonKeyUp()}),ft()}if(2&A){const _=Wt();vo(_.incrementButtonClass),It("ngClass",Yc(5,WL))("icon",_.incrementButtonIcon)("disabled",_.disabled)}}function mZ(A,w){if(1&A){const _=tr();pt(0,"button",6),An("mousedown",function(I){return zi(_),Wt().onDownButtonMouseDown(I)})("mouseup",function(){return zi(_),Wt().onDownButtonMouseUp()})("mouseleave",function(){return zi(_),Wt().onDownButtonMouseLeave()})("keydown",function(I){return zi(_),Wt().onDownButtonKeyDown(I)})("keyup",function(){return zi(_),Wt().onDownButtonKeyUp()}),ft()}if(2&A){const _=Wt();vo(_.decrementButtonClass),It("ngClass",Yc(5,KL))("icon",_.decrementButtonIcon)("disabled",_.disabled)}}const gZ=function(A,w,_){return{"p-inputnumber p-component":!0,"p-inputnumber-buttons-stacked":A,"p-inputnumber-buttons-horizontal":w,"p-inputnumber-buttons-vertical":_}},yZ={provide:Fl,useExisting:Ht(()=>QL),multi:!0};let QL=(()=>{class A{constructor(_,C){this.el=_,this.cd=C,this.showButtons=!1,this.format=!0,this.buttonLayout="stacked",this.incrementButtonIcon="pi pi-angle-up",this.decrementButtonIcon="pi pi-angle-down",this.readonly=!1,this.step=1,this.allowEmpty=!0,this.mode="decimal",this.useGrouping=!0,this.onInput=new er,this.onFocus=new er,this.onBlur=new er,this.onKeyDown=new er,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.groupChar="",this.prefixChar="",this.suffixChar=""}get disabled(){return this._disabled}set disabled(_){_&&(this.focused=!1),this._disabled=_,this.timer&&this.clearTimer()}ngOnChanges(_){["locale","localeMatcher","mode","currency","currencyDisplay","useGrouping","minFractionDigits","maxFractionDigits","prefix","suffix"].some(I=>!!_[I])&&this.updateConstructParser()}ngOnInit(){this.constructParser(),this.initialized=!0}getOptions(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits,maximumFractionDigits:this.maxFractionDigits}}constructParser(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());const _=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),C=new Map(_.map((I,j)=>[I,j]));this._numeral=new RegExp(`[${_.join("")}]`,"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=I=>C.get(I)}updateConstructParser(){this.initialized&&this.constructParser()}escapeRegExp(_){return _.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}getDecimalExpression(){const _=new Intl.NumberFormat(this.locale,Object.assign(Object.assign({},this.getOptions()),{useGrouping:!1}));return new RegExp(`[${_.format(1.1).replace(this._currency,"").trim().replace(this._numeral,"")}]`,"g")}getGroupingExpression(){const _=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=_.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")}getMinusSignExpression(){const _=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${_.format(-1).trim().replace(this._numeral,"")}]`,"g")}getCurrencyExpression(){if(this.currency){const _=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp(`[${_.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")}getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{const _=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=_.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")}getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{const _=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=_.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")}formatValue(_){if(null!=_){if("-"===_)return _;if(this.format){let I=new Intl.NumberFormat(this.locale,this.getOptions()).format(_);return this.prefix&&(I=this.prefix+I),this.suffix&&(I+=this.suffix),I}return _.toString()}return""}parseValue(_){let C=_.replace(this._suffix,"").replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(C){if("-"===C)return C;let I=+C;return isNaN(I)?null:I}return null}repeat(_,C,I){if(this.readonly)return;let j=C||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(_,40,I)},j),this.spin(_,I)}spin(_,C){let I=this.step*C,j=this.parseValue(this.input.nativeElement.value)||0,K=this.validateValue(j+I);this.maxlength&&this.maxlength<this.formatValue(K).length||(this.updateInput(K,null,"spin",null),this.updateModel(_,K),this.handleOnInput(_,j,K))}onUpButtonMouseDown(_){this.input.nativeElement.focus(),this.repeat(_,null,1),_.preventDefault()}onUpButtonMouseUp(){this.clearTimer()}onUpButtonMouseLeave(){this.clearTimer()}onUpButtonKeyDown(_){(32===_.keyCode||13===_.keyCode)&&this.repeat(_,null,1)}onUpButtonKeyUp(){this.clearTimer()}onDownButtonMouseDown(_){this.input.nativeElement.focus(),this.repeat(_,null,-1),_.preventDefault()}onDownButtonMouseUp(){this.clearTimer()}onDownButtonMouseLeave(){this.clearTimer()}onDownButtonKeyUp(){this.clearTimer()}onDownButtonKeyDown(_){(32===_.keyCode||13===_.keyCode)&&this.repeat(_,null,-1)}onUserInput(_){this.isSpecialChar&&(_.target.value=this.lastValue),this.isSpecialChar=!1}onInputKeyDown(_){if(this.lastValue=_.target.value,_.shiftKey||_.altKey)return void(this.isSpecialChar=!0);let C=_.target.selectionStart,I=_.target.selectionEnd,j=_.target.value,K=null;switch(_.altKey&&_.preventDefault(),_.which){case 38:this.spin(_,1),_.preventDefault();break;case 40:this.spin(_,-1),_.preventDefault();break;case 37:this.isNumeralChar(j.charAt(C-1))||_.preventDefault();break;case 39:this.isNumeralChar(j.charAt(C))||_.preventDefault();break;case 13:K=this.validateValue(this.parseValue(this.input.nativeElement.value)),this.input.nativeElement.value=this.formatValue(K),this.input.nativeElement.setAttribute("aria-valuenow",K),this.updateModel(_,K);break;case 8:if(_.preventDefault(),C===I){const q=j.charAt(C-1),{decimalCharIndex:ue,decimalCharIndexWithoutPrefix:Re}=this.getDecimalCharIndexes(j);if(this.isNumeralChar(q)){const Je=this.getDecimalLength(j);if(this._group.test(q))this._group.lastIndex=0,K=j.slice(0,C-2)+j.slice(C-1);else if(this._decimal.test(q))this._decimal.lastIndex=0,Je?this.input.nativeElement.setSelectionRange(C-1,C-1):K=j.slice(0,C-1)+j.slice(C);else if(ue>0&&C>ue){const wt=this.isDecimalMode()&&(this.minFractionDigits||0)<Je?"":"0";K=j.slice(0,C-1)+wt+j.slice(C)}else 1===Re?(K=j.slice(0,C-1)+"0"+j.slice(C),K=this.parseValue(K)>0?K:""):K=j.slice(0,C-1)+j.slice(C)}this.updateValue(_,K,null,"delete-single")}else K=this.deleteRange(j,C,I),this.updateValue(_,K,null,"delete-range");break;case 46:if(_.preventDefault(),C===I){const q=j.charAt(C),{decimalCharIndex:ue,decimalCharIndexWithoutPrefix:Re}=this.getDecimalCharIndexes(j);if(this.isNumeralChar(q)){const Je=this.getDecimalLength(j);if(this._group.test(q))this._group.lastIndex=0,K=j.slice(0,C)+j.slice(C+2);else if(this._decimal.test(q))this._decimal.lastIndex=0,Je?this.input.nativeElement.setSelectionRange(C+1,C+1):K=j.slice(0,C)+j.slice(C+1);else if(ue>0&&C>ue){const wt=this.isDecimalMode()&&(this.minFractionDigits||0)<Je?"":"0";K=j.slice(0,C)+wt+j.slice(C+1)}else 1===Re?(K=j.slice(0,C)+"0"+j.slice(C+1),K=this.parseValue(K)>0?K:""):K=j.slice(0,C)+j.slice(C+1)}this.updateValue(_,K,null,"delete-back-single")}else K=this.deleteRange(j,C,I),this.updateValue(_,K,null,"delete-range")}this.onKeyDown.emit(_)}onInputKeyPress(_){_.preventDefault();let C=_.which||_.keyCode,I=String.fromCharCode(C);const j=this.isDecimalSign(I),K=this.isMinusSign(I);(48<=C&&C<=57||K||j)&&this.insert(_,I,{isDecimalSign:j,isMinusSign:K})}onPaste(_){if(!this.disabled){_.preventDefault();let C=(_.clipboardData||window.clipboardData).getData("Text");if(C){let I=this.parseValue(C);null!=I&&this.insert(_,I.toString())}}}allowMinusSign(){return null==this.min||this.min<0}isMinusSign(_){return!(!this._minusSign.test(_)&&"-"!==_||(this._minusSign.lastIndex=0,0))}isDecimalSign(_){return!!this._decimal.test(_)&&(this._decimal.lastIndex=0,!0)}isDecimalMode(){return"decimal"===this.mode}getDecimalCharIndexes(_){let C=_.search(this._decimal);this._decimal.lastIndex=0;const j=_.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:C,decimalCharIndexWithoutPrefix:j}}getCharIndexes(_){const C=_.search(this._decimal);this._decimal.lastIndex=0;const I=_.search(this._minusSign);this._minusSign.lastIndex=0;const j=_.search(this._suffix);this._suffix.lastIndex=0;const K=_.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:C,minusCharIndex:I,suffixCharIndex:j,currencyCharIndex:K}}insert(_,C,I={isDecimalSign:!1,isMinusSign:!1}){const j=C.search(this._minusSign);if(this._minusSign.lastIndex=0,!this.allowMinusSign()&&-1!==j)return;let K=this.input.nativeElement.selectionStart,q=this.input.nativeElement.selectionEnd,ue=this.input.nativeElement.value.trim();const{decimalCharIndex:Re,minusCharIndex:Je,suffixCharIndex:wt,currencyCharIndex:Qt}=this.getCharIndexes(ue);let ri;if(I.isMinusSign)0===K&&(ri=ue,(-1===Je||0!==q)&&(ri=this.insertText(ue,C,0,q)),this.updateValue(_,ri,C,"insert"));else if(I.isDecimalSign)Re>0&&K===Re?this.updateValue(_,ue,C,"insert"):(Re>K&&Re<q||-1===Re&&this.maxFractionDigits)&&(ri=this.insertText(ue,C,K,q),this.updateValue(_,ri,C,"insert"));else{const Ci=this.numberFormat.resolvedOptions().maximumFractionDigits,Gi=K!==q?"range-insert":"insert";if(Re>0&&K>Re){if(K+C.length-(Re+1)<=Ci){const fn=Qt>=K?Qt-1:wt>=K?wt:ue.length;ri=ue.slice(0,K)+C+ue.slice(K+C.length,fn)+ue.slice(fn),this.updateValue(_,ri,C,Gi)}}else ri=this.insertText(ue,C,K,q),this.updateValue(_,ri,C,Gi)}}insertText(_,C,I,j){if(2===("."===C?C:C.split(".")).length){const q=_.slice(I,j).search(this._decimal);return this._decimal.lastIndex=0,q>0?_.slice(0,I)+this.formatValue(C)+_.slice(j):_||this.formatValue(C)}return j-I===_.length?this.formatValue(C):0===I?C+_.slice(j):j===_.length?_.slice(0,I)+C:_.slice(0,I)+C+_.slice(j)}deleteRange(_,C,I){let j;return j=I-C===_.length?"":0===C?_.slice(I):I===_.length?_.slice(0,C):_.slice(0,C)+_.slice(I),j}initCursor(){let _=this.input.nativeElement.selectionStart,C=this.input.nativeElement.value,I=C.length,j=null,K=(this.prefixChar||"").length;C=C.replace(this._prefix,""),_-=K;let q=C.charAt(_);if(this.isNumeralChar(q))return _+K;let ue=_-1;for(;ue>=0;){if(q=C.charAt(ue),this.isNumeralChar(q)){j=ue+K;break}ue--}if(null!==j)this.input.nativeElement.setSelectionRange(j+1,j+1);else{for(ue=_;ue<I;){if(q=C.charAt(ue),this.isNumeralChar(q)){j=ue+K;break}ue++}null!==j&&this.input.nativeElement.setSelectionRange(j,j)}return j||0}onInputClick(){this.initCursor()}isNumeralChar(_){return!(1!==_.length||!(this._numeral.test(_)||this._decimal.test(_)||this._group.test(_)||this._minusSign.test(_))||(this.resetRegex(),0))}resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0}updateValue(_,C,I,j){let K=this.input.nativeElement.value,q=null;null!=C&&(q=this.parseValue(C),q=q||this.allowEmpty?q:0,this.updateInput(q,I,j,C),this.handleOnInput(_,K,q))}handleOnInput(_,C,I){this.isValueChanged(C,I)&&this.onInput.emit({originalEvent:_,value:I})}isValueChanged(_,C){return null===C&&null!==_||null!=C&&C!==("string"==typeof _?this.parseValue(_):_)}validateValue(_){return"-"===_||null==_?null:null!=this.min&&_<this.min?this.min:null!=this.max&&_>this.max?this.max:_}updateInput(_,C,I,j){C=C||"";let K=this.input.nativeElement.value,q=this.formatValue(_),ue=K.length;if(q!==j&&(q=this.concatValues(q,j)),0===ue){this.input.nativeElement.value=q,this.input.nativeElement.setSelectionRange(0,0);const Je=this.initCursor()+C.length;this.input.nativeElement.setSelectionRange(Je,Je)}else{let Re=this.input.nativeElement.selectionStart,Je=this.input.nativeElement.selectionEnd;if(this.maxlength&&this.maxlength<q.length)return;this.input.nativeElement.value=q;let wt=q.length;if("range-insert"===I){const Qt=this.parseValue((K||"").slice(0,Re)),Ci=(null!==Qt?Qt.toString():"").split("").join(`(${this.groupChar})?`),Gi=new RegExp(Ci,"g");Gi.test(q);const fn=C.split("").join(`(${this.groupChar})?`),Mn=new RegExp(fn,"g");Mn.test(q.slice(Gi.lastIndex)),Je=Gi.lastIndex+Mn.lastIndex,this.input.nativeElement.setSelectionRange(Je,Je)}else if(wt===ue)"insert"===I||"delete-back-single"===I?this.input.nativeElement.setSelectionRange(Je+1,Je+1):"delete-single"===I?this.input.nativeElement.setSelectionRange(Je-1,Je-1):("delete-range"===I||"spin"===I)&&this.input.nativeElement.setSelectionRange(Je,Je);else if("delete-back-single"===I){let Qt=K.charAt(Je-1),ri=K.charAt(Je),Ci=ue-wt,Gi=this._group.test(ri);Gi&&1===Ci?Je+=1:!Gi&&this.isNumeralChar(Qt)&&(Je+=-1*Ci+1),this._group.lastIndex=0,this.input.nativeElement.setSelectionRange(Je,Je)}else if("-"===K&&"insert"===I){this.input.nativeElement.setSelectionRange(0,0);const ri=this.initCursor()+C.length+1;this.input.nativeElement.setSelectionRange(ri,ri)}else Je+=wt-ue,this.input.nativeElement.setSelectionRange(Je,Je)}this.input.nativeElement.setAttribute("aria-valuenow",_)}concatValues(_,C){if(_&&C){let I=C.search(this._decimal);return this._decimal.lastIndex=0,-1!==I?_.split(this._decimal)[0]+C.slice(I):_}return _}getDecimalLength(_){if(_){const C=_.split(this._decimal);if(2===C.length)return C[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0}onInputFocus(_){this.focused=!0,this.onFocus.emit(_)}onInputBlur(_){this.focused=!1;let C=this.validateValue(this.parseValue(this.input.nativeElement.value));this.input.nativeElement.value=this.formatValue(C),this.input.nativeElement.setAttribute("aria-valuenow",C),this.updateModel(_,C),this.onBlur.emit(_)}formattedValue(){return this.formatValue(this.value||this.allowEmpty?this.value:0)}updateModel(_,C){this.value!==C&&(this.value=C,this.onModelChange(C)),this.onModelTouched()}writeValue(_){this.value=_,this.cd.markForCheck()}registerOnChange(_){this.onModelChange=_}registerOnTouched(_){this.onModelTouched=_}setDisabledState(_){this.disabled=_,this.cd.markForCheck()}get filled(){return null!=this.value&&this.value.toString().length>0}clearTimer(){this.timer&&clearInterval(this.timer)}getFormatter(){return this.numberFormat}}return A.\u0275fac=function(_){return new(_||A)(rn(_o),rn(Gl))},A.\u0275cmp=dr({type:A,selectors:[["p-inputNumber"]],viewQuery:function(_,C){if(1&_&&zo(dZ,5),2&_){let I;lo(I=co())&&(C.input=I.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(_,C){2&_&&Sd("p-inputwrapper-filled",C.filled)("p-inputwrapper-focus",C.focused)},inputs:{showButtons:"showButtons",format:"format",buttonLayout:"buttonLayout",inputId:"inputId",styleClass:"styleClass",style:"style",placeholder:"placeholder",size:"size",maxlength:"maxlength",tabindex:"tabindex",title:"title",ariaLabel:"ariaLabel",ariaRequired:"ariaRequired",name:"name",required:"required",autocomplete:"autocomplete",min:"min",max:"max",incrementButtonClass:"incrementButtonClass",decrementButtonClass:"decrementButtonClass",incrementButtonIcon:"incrementButtonIcon",decrementButtonIcon:"decrementButtonIcon",readonly:"readonly",step:"step",allowEmpty:"allowEmpty",locale:"locale",localeMatcher:"localeMatcher",mode:"mode",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:"useGrouping",minFractionDigits:"minFractionDigits",maxFractionDigits:"maxFractionDigits",prefix:"prefix",suffix:"suffix",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",disabled:"disabled"},outputs:{onInput:"onInput",onFocus:"onFocus",onBlur:"onBlur",onKeyDown:"onKeyDown"},features:[Vs([yZ]),go],decls:6,vars:31,consts:[[3,"ngClass","ngStyle"],["pInputText","","inputmode","decimal",3,"ngClass","ngStyle","value","disabled","readonly","input","keydown","keypress","paste","click","focus","blur"],["input",""],["class","p-inputnumber-button-group",4,"ngIf"],["type","button","pButton","",3,"ngClass","class","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup",4,"ngIf"],[1,"p-inputnumber-button-group"],["type","button","pButton","",3,"ngClass","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup"]],template:function(_,C){1&_&&(pt(0,"span",0),pt(1,"input",1,2),An("input",function(j){return C.onUserInput(j)})("keydown",function(j){return C.onInputKeyDown(j)})("keypress",function(j){return C.onInputKeyPress(j)})("paste",function(j){return C.onPaste(j)})("click",function(){return C.onInputClick()})("focus",function(j){return C.onInputFocus(j)})("blur",function(j){return C.onInputBlur(j)}),ft(),Pi(3,pZ,3,12,"span",3),Pi(4,fZ,1,6,"button",4),Pi(5,mZ,1,6,"button",4),ft()),2&_&&(vo(C.styleClass),It("ngClass",cc(27,gZ,C.showButtons&&"stacked"===C.buttonLayout,C.showButtons&&"horizontal"===C.buttonLayout,C.showButtons&&"vertical"===C.buttonLayout))("ngStyle",C.style),vt(1),vo(C.inputStyleClass),It("ngClass","p-inputnumber-input")("ngStyle",C.inputStyle)("value",C.formattedValue())("disabled",C.disabled)("readonly",C.readonly),Is("placeholder",C.placeholder)("title",C.title)("id",C.inputId)("size",C.size)("name",C.name)("autocomplete",C.autocomplete)("maxlength",C.maxlength)("tabindex",C.tabindex)("aria-label",C.ariaLabel)("aria-required",C.ariaRequired)("required",C.required)("aria-valuemin",C.min)("aria-valuemax",C.max),vt(2),It("ngIf",C.showButtons&&"stacked"===C.buttonLayout),vt(1),It("ngIf",C.showButtons&&"stacked"!==C.buttonLayout),vt(1),It("ngIf",C.showButtons&&"stacked"!==C.buttonLayout))},directives:[eo,el,VL,to,zL],styles:[".p-inputnumber,p-inputnumber{display:inline-flex}.p-inputnumber-button{display:flex;align-items:center;justify-content:center;flex:0 0 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label,.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label{display:none}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up{border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-input{border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-button-group{display:flex;flex-direction:column}.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button{flex:1 1 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up{order:3;border-top-left-radius:0;border-bottom-left-radius:0}.p-inputnumber-buttons-horizontal .p-inputnumber-input{order:2;border-radius:0}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down{order:1;border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-vertical{flex-direction:column}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up{order:1;border-bottom-left-radius:0;border-bottom-right-radius:0;width:100%}.p-inputnumber-buttons-vertical .p-inputnumber-input{order:2;border-radius:0;text-align:center}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down{order:3;border-top-left-radius:0;border-top-right-radius:0;width:100%}.p-inputnumber-input{flex:1 1 auto}.p-fluid .p-inputnumber,.p-fluid p-inputnumber{width:100%}.p-fluid .p-inputnumber .p-inputnumber-input{width:1%}.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input{width:100%}"],encapsulation:2,changeDetection:0}),A})(),HT=(()=>{class A{}return A.\u0275fac=function(_){return new(_||A)},A.\u0275mod=Rr({type:A}),A.\u0275inj=Bi({imports:[[pl,jT,qC]]}),A})();function vZ(A,w){1&A&&Ms(0)}const VT=function(A){return{$implicit:A}};function _Z(A,w){if(1&A&&(pt(0,"div",15),Pi(1,vZ,1,0,"ng-container",16),ft()),2&A){const _=Wt(2);vt(1),It("ngTemplateOutlet",_.templateLeft)("ngTemplateOutletContext",Or(2,VT,_.paginatorState))}}function bZ(A,w){if(1&A&&(pt(0,"span",17),tn(1),ft()),2&A){const _=Wt(2);vt(1),Rn(_.currentPageReport)}}const ex=function(A){return{"p-disabled":A}};function AZ(A,w){if(1&A){const _=tr();pt(0,"button",18),An("click",function(I){return zi(_),Wt(2).changePageToFirst(I)}),Bn(1,"span",19),ft()}if(2&A){const _=Wt(2);It("disabled",_.isFirstPage()||_.empty())("ngClass",Or(2,ex,_.isFirstPage()||_.empty()))}}const wZ=function(A){return{"p-highlight":A}};function CZ(A,w){if(1&A){const _=tr();pt(0,"button",22),An("click",function(I){const K=zi(_).$implicit;return Wt(3).onPageLinkClick(I,K-1)}),tn(1),ft()}if(2&A){const _=w.$implicit,C=Wt(3);It("ngClass",Or(2,wZ,_-1==C.getPage())),vt(1),Rn(_)}}function xZ(A,w){if(1&A&&(pt(0,"span",20),Pi(1,CZ,2,4,"button",21),ft()),2&A){const _=Wt(2);vt(1),It("ngForOf",_.pageLinks)}}function EZ(A,w){1&A&&tn(0),2&A&&Rn(Wt(3).currentPageReport)}function DZ(A,w){if(1&A){const _=tr();pt(0,"p-dropdown",23),An("onChange",function(I){return zi(_),Wt(2).onPageDropdownChange(I)}),Pi(1,EZ,1,1,"ng-template",24),ft()}if(2&A){const _=Wt(2);It("options",_.pageItems)("ngModel",_.getPage())("disabled",_.empty())("appendTo",_.dropdownAppendTo)("scrollHeight",_.dropdownScrollHeight)}}function MZ(A,w){if(1&A){const _=tr();pt(0,"button",25),An("click",function(I){return zi(_),Wt(2).changePageToLast(I)}),Bn(1,"span",26),ft()}if(2&A){const _=Wt(2);It("disabled",_.isLastPage()||_.empty())("ngClass",Or(2,ex,_.isLastPage()||_.empty()))}}function SZ(A,w){if(1&A){const _=tr();pt(0,"p-inputNumber",27),An("ngModelChange",function(I){return zi(_),Wt(2).changePage(I-1)}),ft()}if(2&A){const _=Wt(2);It("ngModel",_.currentPage())("disabled",_.empty())}}function TZ(A,w){1&A&&Ms(0)}function IZ(A,w){if(1&A&&Pi(0,TZ,1,0,"ng-container",16),2&A){const _=w.$implicit;It("ngTemplateOutlet",Wt(4).dropdownItemTemplate)("ngTemplateOutletContext",Or(2,VT,_))}}function OZ(A,w){1&A&&(ao(0),Pi(1,IZ,1,4,"ng-template",30),$s())}function PZ(A,w){if(1&A){const _=tr();pt(0,"p-dropdown",28),An("ngModelChange",function(I){return zi(_),Wt(2).rows=I})("onChange",function(I){return zi(_),Wt(2).onRppChange(I)}),Pi(1,OZ,2,0,"ng-container",29),ft()}if(2&A){const _=Wt(2);It("options",_.rowsPerPageItems)("ngModel",_.rows)("disabled",_.empty())("appendTo",_.dropdownAppendTo)("scrollHeight",_.dropdownScrollHeight),vt(1),It("ngIf",_.dropdownItemTemplate)}}function kZ(A,w){1&A&&Ms(0)}function LZ(A,w){if(1&A&&(pt(0,"div",31),Pi(1,kZ,1,0,"ng-container",16),ft()),2&A){const _=Wt(2);vt(1),It("ngTemplateOutlet",_.templateRight)("ngTemplateOutletContext",Or(2,VT,_.paginatorState))}}function BZ(A,w){if(1&A){const _=tr();pt(0,"div",1),Pi(1,_Z,2,4,"div",2),Pi(2,bZ,2,1,"span",3),Pi(3,AZ,2,4,"button",4),pt(4,"button",5),An("click",function(I){return zi(_),Wt().changePageToPrev(I)}),Bn(5,"span",6),ft(),Pi(6,xZ,2,1,"span",7),Pi(7,DZ,2,5,"p-dropdown",8),pt(8,"button",9),An("click",function(I){return zi(_),Wt().changePageToNext(I)}),Bn(9,"span",10),ft(),Pi(10,MZ,2,4,"button",11),Pi(11,SZ,1,2,"p-inputNumber",12),Pi(12,PZ,2,6,"p-dropdown",13),Pi(13,LZ,2,4,"div",14),ft()}if(2&A){const _=Wt();vo(_.styleClass),It("ngStyle",_.style)("ngClass","p-paginator p-component"),vt(1),It("ngIf",_.templateLeft),vt(1),It("ngIf",_.showCurrentPageReport),vt(1),It("ngIf",_.showFirstLastIcon),vt(1),It("disabled",_.isFirstPage()||_.empty())("ngClass",Or(17,ex,_.isFirstPage()||_.empty())),vt(2),It("ngIf",_.showPageLinks),vt(1),It("ngIf",_.showJumpToPageDropdown),vt(1),It("disabled",_.isLastPage()||_.empty())("ngClass",Or(19,ex,_.isLastPage()||_.empty())),vt(2),It("ngIf",_.showFirstLastIcon),vt(1),It("ngIf",_.showJumpToPageInput),vt(1),It("ngIf",_.rowsPerPageOptions),vt(1),It("ngIf",_.templateRight)}}let RZ=(()=>{class A{constructor(_){this.cd=_,this.pageLinkSize=5,this.onPageChange=new er,this.alwaysShow=!0,this.dropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.totalRecords=0,this.rows=0,this.showPageLinks=!0,this._first=0,this._page=0}ngOnInit(){this.updatePaginatorState()}ngOnChanges(_){_.totalRecords&&(this.updatePageLinks(),this.updatePaginatorState(),this.updateFirst(),this.updateRowsPerPageOptions()),_.first&&(this._first=_.first.currentValue,this.updatePageLinks(),this.updatePaginatorState()),_.rows&&(this.updatePageLinks(),this.updatePaginatorState()),_.rowsPerPageOptions&&this.updateRowsPerPageOptions()}get first(){return this._first}set first(_){this._first=_}updateRowsPerPageOptions(){if(this.rowsPerPageOptions){this.rowsPerPageItems=[];for(let _ of this.rowsPerPageOptions)"object"==typeof _&&_.showAll?this.rowsPerPageItems.unshift({label:_.showAll,value:this.totalRecords}):this.rowsPerPageItems.push({label:String(_),value:_})}}isFirstPage(){return 0===this.getPage()}isLastPage(){return this.getPage()===this.getPageCount()-1}getPageCount(){return Math.ceil(this.totalRecords/this.rows)}calculatePageLinkBoundaries(){let _=this.getPageCount(),C=Math.min(this.pageLinkSize,_),I=Math.max(0,Math.ceil(this.getPage()-C/2)),j=Math.min(_-1,I+C-1);return I=Math.max(0,I-(this.pageLinkSize-(j-I+1))),[I,j]}updatePageLinks(){this.pageLinks=[];let _=this.calculatePageLinkBoundaries(),I=_[1];for(let j=_[0];j<=I;j++)this.pageLinks.push(j+1);if(this.showJumpToPageDropdown){this.pageItems=[];for(let j=0;j<this.getPageCount();j++)this.pageItems.push({label:String(j+1),value:j})}}changePage(_){var C=this.getPageCount();if(_>=0&&_<C){this._first=this.rows*_;var I={page:_,first:this.first,rows:this.rows,pageCount:C};this.updatePageLinks(),this.onPageChange.emit(I),this.updatePaginatorState()}}updateFirst(){const _=this.getPage();_>0&&this.totalRecords&&this.first>=this.totalRecords&&Promise.resolve(null).then(()=>this.changePage(_-1))}getPage(){return Math.floor(this.first/this.rows)}changePageToFirst(_){this.isFirstPage()||this.changePage(0),_.preventDefault()}changePageToPrev(_){this.changePage(this.getPage()-1),_.preventDefault()}changePageToNext(_){this.changePage(this.getPage()+1),_.preventDefault()}changePageToLast(_){this.isLastPage()||this.changePage(this.getPageCount()-1),_.preventDefault()}onPageLinkClick(_,C){this.changePage(C),_.preventDefault()}onRppChange(_){this.changePage(this.getPage())}onPageDropdownChange(_){this.changePage(_.value)}updatePaginatorState(){this.paginatorState={page:this.getPage(),pageCount:this.getPageCount(),rows:this.rows,first:this.first,totalRecords:this.totalRecords}}empty(){return 0===this.getPageCount()}currentPage(){return this.getPageCount()>0?this.getPage()+1:0}get currentPageReport(){return this.currentPageReportTemplate.replace("{currentPage}",String(this.currentPage())).replace("{totalPages}",String(this.getPageCount())).replace("{first}",String(this.totalRecords>0?this._first+1:0)).replace("{last}",String(Math.min(this._first+this.rows,this.totalRecords))).replace("{rows}",String(this.rows)).replace("{totalRecords}",String(this.totalRecords))}}return A.\u0275fac=function(_){return new(_||A)(rn(Gl))},A.\u0275cmp=dr({type:A,selectors:[["p-paginator"]],hostAttrs:[1,"p-element"],inputs:{pageLinkSize:"pageLinkSize",style:"style",styleClass:"styleClass",alwaysShow:"alwaysShow",templateLeft:"templateLeft",templateRight:"templateRight",dropdownAppendTo:"dropdownAppendTo",dropdownScrollHeight:"dropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showFirstLastIcon:"showFirstLastIcon",totalRecords:"totalRecords",rows:"rows",rowsPerPageOptions:"rowsPerPageOptions",showJumpToPageDropdown:"showJumpToPageDropdown",showJumpToPageInput:"showJumpToPageInput",showPageLinks:"showPageLinks",dropdownItemTemplate:"dropdownItemTemplate",first:"first"},outputs:{onPageChange:"onPageChange"},features:[go],decls:1,vars:1,consts:[[3,"class","ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["class","p-paginator-left-content",4,"ngIf"],["class","p-paginator-current",4,"ngIf"],["type","button","pRipple","","class","p-paginator-first p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-prev","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-left"],["class","p-paginator-pages",4,"ngIf"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-next","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-right"],["type","button","pRipple","","class","p-paginator-last p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["class","p-paginator-page-input",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange",4,"ngIf"],["class","p-paginator-right-content",4,"ngIf"],[1,"p-paginator-left-content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-paginator-current"],["type","button","pRipple","",1,"p-paginator-first","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-left"],[1,"p-paginator-pages"],["type","button","class","p-paginator-page p-paginator-element p-link","pRipple","",3,"ngClass","click",4,"ngFor","ngForOf"],["type","button","pRipple","",1,"p-paginator-page","p-paginator-element","p-link",3,"ngClass","click"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange"],["pTemplate","selectedItem"],["type","button","pRipple","",1,"p-paginator-last","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-right"],[1,"p-paginator-page-input",3,"ngModel","disabled","ngModelChange"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange"],[4,"ngIf"],["pTemplate","item"],[1,"p-paginator-right-content"]],template:function(_,C){1&_&&Pi(0,BZ,14,21,"div",0),2&_&&It("ngIf",!!C.alwaysShow||C.pageLinks&&C.pageLinks.length>1)},directives:[r1,QL,to,el,eo,Cf,wA,uc,Qd,oh,dv],styles:[".p-paginator{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.p-paginator-left-content{margin-right:auto}.p-paginator-right-content{margin-left:auto}.p-paginator-current,.p-paginator-first,.p-paginator-last,.p-paginator-next,.p-paginator-page,.p-paginator-prev{cursor:pointer;display:inline-flex;align-items:center;justify-content:center;line-height:1;-webkit-user-select:none;-ms-user-select:none;user-select:none;overflow:hidden;position:relative}.p-paginator-element:focus{z-index:1;position:relative}"],encapsulation:2,changeDetection:0}),A})(),FZ=(()=>{class A{}return A.\u0275fac=function(_){return new(_||A)},A.\u0275mod=Rr({type:A}),A.\u0275inj=Bi({imports:[[pl,YC,HT,XC,_m,mv],YC,HT,XC,_m]}),A})();function NZ(A,w){1&A&&Bn(0,"span",8),2&A&&(vo(Wt(2).$implicit.icon),It("ngClass","p-button-icon p-button-icon-left"))}function UZ(A,w){if(1&A&&(ao(0),Pi(1,NZ,1,3,"span",6),pt(2,"span",7),tn(3),ft(),$s()),2&A){const _=Wt().$implicit,C=Wt();vt(1),It("ngIf",_.icon),vt(2),Rn(C.getOptionLabel(_))}}function jZ(A,w){1&A&&Ms(0)}const HZ=function(A,w){return{$implicit:A,index:w}};function VZ(A,w){if(1&A&&Pi(0,jZ,1,0,"ng-container",9),2&A){const _=Wt(),C=_.$implicit,I=_.index;It("ngTemplateOutlet",Wt().itemTemplate)("ngTemplateOutletContext",bo(2,HZ,C,I))}}const zZ=function(A,w,_){return{"p-highlight":A,"p-disabled":w,"p-button-icon-only":_}};function WZ(A,w){if(1&A){const _=tr();pt(0,"div",2,3),An("click",function(I){const j=zi(_),K=j.$implicit,q=j.index;return Wt().onItemClick(I,K,q)})("keydown.enter",function(I){const j=zi(_),K=j.$implicit,q=j.index;return Wt().onItemClick(I,K,q)})("blur",function(){return zi(_),Wt().onBlur()}),Pi(2,UZ,4,2,"ng-container",4),Pi(3,VZ,1,5,"ng-template",null,5,a3),ft()}if(2&A){const _=w.$implicit,C=To(4),I=Wt();vo(_.styleClass),It("ngClass",cc(10,zZ,I.isSelected(_),I.disabled||I.isOptionDisabled(_),_.icon&&!I.getOptionLabel(_))),Is("aria-pressed",I.isSelected(_))("title",_.title)("aria-label",_.label)("tabindex",I.disabled?null:I.tabindex)("aria-labelledby",I.getOptionLabel(_)),vt(2),It("ngIf",!I.itemTemplate)("ngIfElse",C)}}const KZ={provide:Fl,useExisting:Ht(()=>QZ),multi:!0};let QZ=(()=>{class A{constructor(_){this.cd=_,this.tabindex=0,this.onOptionClick=new er,this.onChange=new er,this.onModelChange=()=>{},this.onModelTouched=()=>{}}getOptionLabel(_){return this.optionLabel?Jr.resolveFieldData(_,this.optionLabel):null!=_.label?_.label:_}getOptionValue(_){return this.optionValue?Jr.resolveFieldData(_,this.optionValue):this.optionLabel||void 0===_.value?_:_.value}isOptionDisabled(_){return this.optionDisabled?Jr.resolveFieldData(_,this.optionDisabled):void 0!==_.disabled&&_.disabled}writeValue(_){this.value=_,this.cd.markForCheck()}registerOnChange(_){this.onModelChange=_}registerOnTouched(_){this.onModelTouched=_}setDisabledState(_){this.disabled=_,this.cd.markForCheck()}onItemClick(_,C,I){this.disabled||this.isOptionDisabled(C)||(this.multiple?this.isSelected(C)?this.removeOption(C):this.value=[...this.value||[],this.getOptionValue(C)]:this.value=this.getOptionValue(C),this.onOptionClick.emit({originalEvent:_,option:C,index:I}),this.onModelChange(this.value),this.onChange.emit({originalEvent:_,value:this.value}))}onBlur(){this.onModelTouched()}removeOption(_){this.value=this.value.filter(C=>!Jr.equals(C,this.getOptionValue(_),this.dataKey))}isSelected(_){let C=!1,I=this.getOptionValue(_);if(this.multiple){if(this.value)for(let j of this.value)if(Jr.equals(j,I,this.dataKey)){C=!0;break}}else C=Jr.equals(this.getOptionValue(_),this.value,this.dataKey);return C}}return A.\u0275fac=function(_){return new(_||A)(rn(Gl))},A.\u0275cmp=dr({type:A,selectors:[["p-selectButton"]],contentQueries:function(_,C,I){if(1&_&&Q0(I,Vh,5),2&_){let j;lo(j=co())&&(C.itemTemplate=j.first)}},hostAttrs:[1,"p-element"],inputs:{options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",tabindex:"tabindex",multiple:"multiple",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",dataKey:"dataKey"},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[Vs([KZ])],decls:2,vars:5,consts:[["role","group",3,"ngClass","ngStyle"],["class","p-button p-component","role","button","pRipple","",3,"class","ngClass","click","keydown.enter","blur",4,"ngFor","ngForOf"],["role","button","pRipple","",1,"p-button","p-component",3,"ngClass","click","keydown.enter","blur"],["btn",""],[4,"ngIf","ngIfElse"],["customcontent",""],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(_,C){1&_&&(pt(0,"div",0),Pi(1,WZ,5,14,"div",1),ft()),2&_&&(vo(C.styleClass),It("ngClass","p-selectbutton p-buttonset p-component")("ngStyle",C.style),vt(1),It("ngForOf",C.options))},directives:[eo,el,uc,wA,to,Cf],styles:[".p-button{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;-ms-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label{flex:1 1 auto}.p-button-icon-right{order:1}.p-button:disabled{cursor:default}.p-button-icon-only{justify-content:center}.p-button-icon-only .p-button-label{visibility:hidden;width:0;flex:0 0 auto}.p-button-vertical{flex-direction:column}.p-button-icon-bottom{order:2}.p-buttonset .p-button{margin:0}.p-buttonset .p-button:not(:last-child){border-right:0}.p-buttonset .p-button:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset .p-button:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset .p-button:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset .p-button:focus{position:relative;z-index:1}.p-button-label{transition:all .2s}"],encapsulation:2,changeDetection:0}),A})(),GZ=(()=>{class A{}return A.\u0275fac=function(_){return new(_||A)},A.\u0275mod=Rr({type:A}),A.\u0275inj=Bi({imports:[[pl,mv]]}),A})();const $Z=function(A,w,_){return{"p-checkbox-label-active":A,"p-disabled":w,"p-checkbox-label-focus":_}};function ZZ(A,w){if(1&A){const _=tr();pt(0,"label",7),An("click",function(I){zi(_);const j=Wt(),K=To(3);return j.onClick(I,K)}),tn(1),ft()}if(2&A){const _=Wt();It("ngClass",cc(3,$Z,null!=_.value,_.disabled,_.focused)),Is("for",_.inputId),vt(1),Rn(_.label)}}const JZ=function(A,w){return{"p-checkbox p-component":!0,"p-checkbox-disabled":A,"p-checkbox-focused":w}},XZ=function(A,w,_){return{"p-highlight":A,"p-disabled":w,"p-focus":_}},YZ={provide:Fl,useExisting:Ht(()=>qZ),multi:!0};let qZ=(()=>{class A{constructor(_){this.cd=_,this.checkboxTrueIcon="pi pi-check",this.checkboxFalseIcon="pi pi-times",this.onChange=new er,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClick(_,C){!this.disabled&&!this.readonly&&(this.toggle(_),this.focused=!0,C.focus())}onKeydown(_){32==_.keyCode&&_.preventDefault()}onKeyup(_){32==_.keyCode&&!this.readonly&&(this.toggle(_),_.preventDefault())}toggle(_){null==this.value||null==this.value?this.value=!0:1==this.value?this.value=!1:0==this.value&&(this.value=null),this.onModelChange(this.value),this.onChange.emit({originalEvent:_,value:this.value})}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}registerOnChange(_){this.onModelChange=_}registerOnTouched(_){this.onModelTouched=_}writeValue(_){this.value=_,this.cd.markForCheck()}setDisabledState(_){this.disabled=_,this.cd.markForCheck()}}return A.\u0275fac=function(_){return new(_||A)(rn(Gl))},A.\u0275cmp=dr({type:A,selectors:[["p-triStateCheckbox"]],hostAttrs:[1,"p-element"],inputs:{disabled:"disabled",name:"name",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",label:"label",readonly:"readonly",checkboxTrueIcon:"checkboxTrueIcon",checkboxFalseIcon:"checkboxFalseIcon"},outputs:{onChange:"onChange"},features:[Vs([YZ])],decls:7,vars:21,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","text","inputmode","none",3,"name","readonly","disabled","keyup","keydown","focus","blur"],["input",""],["role","checkbox",1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],["class","p-checkbox-label",3,"ngClass","click",4,"ngIf"],[1,"p-checkbox-label",3,"ngClass","click"]],template:function(_,C){if(1&_){const I=tr();pt(0,"div",0),pt(1,"div",1),pt(2,"input",2,3),An("keyup",function(K){return C.onKeyup(K)})("keydown",function(K){return C.onKeydown(K)})("focus",function(){return C.onFocus()})("blur",function(){return C.onBlur()}),ft(),ft(),pt(4,"div",4),An("click",function(K){zi(I);const q=To(3);return C.onClick(K,q)}),Bn(5,"span",5),ft(),ft(),Pi(6,ZZ,2,7,"label",6)}2&_&&(vo(C.styleClass),It("ngStyle",C.style)("ngClass",bo(14,JZ,C.disabled,C.focused)),vt(2),It("name",C.name)("readonly",C.readonly)("disabled",C.disabled),Is("id",C.inputId)("tabindex",C.tabindex)("aria-labelledby",C.ariaLabelledBy),vt(2),It("ngClass",cc(17,XZ,null!=C.value,C.disabled,C.focused)),Is("aria-checked",!0===C.value),vt(1),It("ngClass",!0===C.value?C.checkboxTrueIcon:!1===C.value?C.checkboxFalseIcon:""),vt(1),It("ngIf",C.label))},directives:[el,eo,to],encapsulation:2,changeDetection:0}),A})(),eJ=(()=>{class A{}return A.\u0275fac=function(_){return new(_||A)},A.\u0275mod=Rr({type:A}),A.\u0275inj=Bi({imports:[[pl]]}),A})();const tJ=["container"],iJ=["inputfield"],nJ=["contentWrapper"];function rJ(A,w){if(1&A){const _=tr();pt(0,"button",7),An("click",function(I){zi(_),Wt();const j=To(1);return Wt().onButtonClick(I,j)}),ft()}if(2&A){const _=Wt(2);It("icon",_.icon)("disabled",_.disabled),Is("aria-label",_.iconAriaLabel)}}function sJ(A,w){if(1&A){const _=tr();pt(0,"input",4,5),An("focus",function(I){return zi(_),Wt().onInputFocus(I)})("keydown",function(I){return zi(_),Wt().onInputKeydown(I)})("click",function(){return zi(_),Wt().onInputClick()})("blur",function(I){return zi(_),Wt().onInputBlur(I)})("input",function(I){return zi(_),Wt().onUserInput(I)}),ft(),Pi(2,rJ,1,3,"button",6)}if(2&A){const _=Wt();vo(_.inputStyleClass),It("value",_.inputFieldValue)("readonly",_.readonlyInput)("ngStyle",_.inputStyle)("placeholder",_.placeholder||"")("disabled",_.disabled)("ngClass","p-inputtext p-component"),Is("id",_.inputId)("name",_.name)("required",_.required)("aria-required",_.required)("tabindex",_.tabindex)("inputmode",_.touchUI?"off":null)("aria-labelledby",_.ariaLabelledBy),vt(2),It("ngIf",_.showIcon)}}function oJ(A,w){1&A&&Ms(0)}function aJ(A,w){if(1&A){const _=tr();pt(0,"button",27),An("keydown",function(I){return zi(_),Wt(4).onContainerButtonKeydown(I)})("click",function(I){return zi(_),Wt(4).onPrevButtonClick(I)}),Bn(1,"span",28),ft()}}function lJ(A,w){if(1&A&&(pt(0,"span",29),tn(1),ft()),2&A){const _=Wt().$implicit,C=Wt(3);vt(1),Rn(C.getTranslation("monthNames")[_.month])}}function cJ(A,w){if(1&A&&(pt(0,"option",32),tn(1),ft()),2&A){const _=w.$implicit,C=w.index,I=Wt(2).$implicit;It("value",C)("selected",C===I.month),vt(1),Rn(_)}}function uJ(A,w){if(1&A){const _=tr();pt(0,"select",30),An("change",function(I){return zi(_),Wt(4).onMonthDropdownChange(I.target.value)}),Pi(1,cJ,2,3,"option",31),ft()}if(2&A){const _=Wt(4);vt(1),It("ngForOf",_.getTranslation("monthNames"))}}function hJ(A,w){if(1&A&&(pt(0,"option",32),tn(1),ft()),2&A){const _=w.$implicit,C=Wt(5);It("value",_)("selected",_===C.currentYear),vt(1),Rn(_)}}function dJ(A,w){if(1&A){const _=tr();pt(0,"select",33),An("change",function(I){return zi(_),Wt(4).onYearDropdownChange(I.target.value)}),Pi(1,hJ,2,3,"option",31),ft()}if(2&A){const _=Wt(4);vt(1),It("ngForOf",_.yearOptions)}}function pJ(A,w){if(1&A&&(pt(0,"span",34),tn(1),ft()),2&A){const _=Wt().$implicit,C=Wt(3);vt(1),Rn("month"===C.view?C.currentYear:_.year)}}function fJ(A,w){if(1&A){const _=tr();pt(0,"button",35),An("keydown",function(I){return zi(_),Wt(4).onContainerButtonKeydown(I)})("click",function(I){return zi(_),Wt(4).onNextButtonClick(I)}),Bn(1,"span",36),ft()}}function mJ(A,w){if(1&A&&(pt(0,"th",42),pt(1,"span"),tn(2),ft(),ft()),2&A){const _=Wt(5);vt(2),Rn(_.getTranslation("weekHeader"))}}function gJ(A,w){if(1&A&&(pt(0,"th",43),pt(1,"span"),tn(2),ft(),ft()),2&A){const _=w.$implicit;vt(2),Rn(_)}}function yJ(A,w){if(1&A&&(pt(0,"td",46),pt(1,"span",47),tn(2),ft(),ft()),2&A){const _=Wt().index,C=Wt(2).$implicit;vt(2),Kr(" ",C.weekNumbers[_]," ")}}function vJ(A,w){if(1&A&&(ao(0),tn(1),$s()),2&A){const _=Wt(2).$implicit;vt(1),Rn(_.day)}}function _J(A,w){1&A&&Ms(0)}const GL=function(A,w){return{"p-highlight":A,"p-disabled":w}},bJ=function(A){return{$implicit:A}};function AJ(A,w){if(1&A){const _=tr();ao(0),pt(1,"span",49),An("click",function(I){zi(_);const j=Wt().$implicit;return Wt(6).onDateSelect(I,j)})("keydown",function(I){zi(_);const j=Wt().$implicit,K=Wt(3).index;return Wt(3).onDateCellKeydown(I,j,K)}),Pi(2,vJ,2,1,"ng-container",11),Pi(3,_J,1,0,"ng-container",50),ft(),$s()}if(2&A){const _=Wt().$implicit,C=Wt(6);vt(1),It("ngClass",bo(4,GL,C.isSelected(_),!_.selectable)),vt(1),It("ngIf",!C.dateTemplate),vt(1),It("ngTemplateOutlet",C.dateTemplate)("ngTemplateOutletContext",Or(7,bJ,_))}}const wJ=function(A,w){return{"p-datepicker-other-month":A,"p-datepicker-today":w}};function CJ(A,w){if(1&A&&(pt(0,"td",48),Pi(1,AJ,4,9,"ng-container",11),ft()),2&A){const _=w.$implicit,C=Wt(6);It("ngClass",bo(2,wJ,_.otherMonth,_.today)),vt(1),It("ngIf",!_.otherMonth||C.showOtherMonths)}}function xJ(A,w){if(1&A&&(pt(0,"tr"),Pi(1,yJ,3,1,"td",44),Pi(2,CJ,2,5,"td",45),ft()),2&A){const _=w.$implicit,C=Wt(5);vt(1),It("ngIf",C.showWeek),vt(1),It("ngForOf",_)}}function EJ(A,w){if(1&A&&(pt(0,"div",37),pt(1,"table",38),pt(2,"thead"),pt(3,"tr"),Pi(4,mJ,3,1,"th",39),Pi(5,gJ,3,1,"th",40),ft(),ft(),pt(6,"tbody"),Pi(7,xJ,3,2,"tr",41),ft(),ft(),ft()),2&A){const _=Wt().$implicit,C=Wt(3);vt(4),It("ngIf",C.showWeek),vt(1),It("ngForOf",C.weekDays),vt(2),It("ngForOf",_.dates)}}function DJ(A,w){if(1&A&&(pt(0,"div",17),pt(1,"div",18),Pi(2,aJ,2,0,"button",19),pt(3,"div",20),Pi(4,lJ,2,1,"span",21),Pi(5,uJ,2,1,"select",22),Pi(6,dJ,2,1,"select",23),Pi(7,pJ,2,1,"span",24),ft(),Pi(8,fJ,2,0,"button",25),ft(),Pi(9,EJ,8,3,"div",26),ft()),2&A){const _=w.index,C=Wt(3);vt(2),It("ngIf",0===_),vt(2),It("ngIf",!C.monthNavigator&&"month"!==C.view),vt(1),It("ngIf",C.monthNavigator&&"month"!==C.view&&1===C.numberOfMonths),vt(1),It("ngIf",C.yearNavigator&&1===C.numberOfMonths),vt(1),It("ngIf",!C.yearNavigator),vt(1),It("ngIf",1===C.numberOfMonths||_===C.numberOfMonths-1),vt(1),It("ngIf","date"===C.view)}}function MJ(A,w){if(1&A){const _=tr();pt(0,"span",53),An("click",function(I){const K=zi(_).index;return Wt(4).onMonthSelect(I,K)})("keydown",function(I){const K=zi(_).index;return Wt(4).onMonthCellKeydown(I,K)}),tn(1),ft()}if(2&A){const _=w.$implicit,C=w.index,I=Wt(4);It("ngClass",bo(2,GL,I.isMonthSelected(C),!I.isSelectable(1,C,I.currentYear,!1))),vt(1),Kr(" ",_," ")}}function SJ(A,w){if(1&A&&(pt(0,"div",51),Pi(1,MJ,2,5,"span",52),ft()),2&A){const _=Wt(3);vt(1),It("ngForOf",_.monthPickerValues)}}function TJ(A,w){if(1&A&&(ao(0),pt(1,"div",14),Pi(2,DJ,10,7,"div",15),ft(),Pi(3,SJ,2,1,"div",16),$s()),2&A){const _=Wt(2);vt(2),It("ngForOf",_.months),vt(1),It("ngIf","month"===_.view)}}function IJ(A,w){1&A&&(ao(0),tn(1,"0"),$s())}function OJ(A,w){1&A&&(ao(0),tn(1,"0"),$s())}function PJ(A,w){if(1&A&&(pt(0,"div",59),pt(1,"span"),tn(2),ft(),ft()),2&A){const _=Wt(3);vt(2),Rn(_.timeSeparator)}}function kJ(A,w){1&A&&(ao(0),tn(1,"0"),$s())}function LJ(A,w){if(1&A){const _=tr();pt(0,"div",64),pt(1,"button",56),An("keydown",function(I){return zi(_),Wt(3).onContainerButtonKeydown(I)})("keydown.enter",function(I){return zi(_),Wt(3).incrementSecond(I)})("mousedown",function(I){return zi(_),Wt(3).onTimePickerElementMouseDown(I,2,1)})("mouseup",function(I){return zi(_),Wt(3).onTimePickerElementMouseUp(I)})("mouseleave",function(){return zi(_),Wt(3).onTimePickerElementMouseLeave()}),Bn(2,"span",57),ft(),pt(3,"span"),Pi(4,kJ,2,0,"ng-container",11),tn(5),ft(),pt(6,"button",56),An("keydown",function(I){return zi(_),Wt(3).onContainerButtonKeydown(I)})("keydown.enter",function(I){return zi(_),Wt(3).decrementSecond(I)})("mousedown",function(I){return zi(_),Wt(3).onTimePickerElementMouseDown(I,2,-1)})("mouseup",function(I){return zi(_),Wt(3).onTimePickerElementMouseUp(I)})("mouseleave",function(){return zi(_),Wt(3).onTimePickerElementMouseLeave()}),Bn(7,"span",58),ft(),ft()}if(2&A){const _=Wt(3);vt(4),It("ngIf",_.currentSecond<10),vt(1),Rn(_.currentSecond)}}function BJ(A,w){if(1&A){const _=tr();pt(0,"div",65),pt(1,"button",66),An("keydown",function(I){return zi(_),Wt(3).onContainerButtonKeydown(I)})("click",function(I){return zi(_),Wt(3).toggleAMPM(I)})("keydown.enter",function(I){return zi(_),Wt(3).toggleAMPM(I)}),Bn(2,"span",57),ft(),pt(3,"span"),tn(4),ft(),pt(5,"button",66),An("keydown",function(I){return zi(_),Wt(3).onContainerButtonKeydown(I)})("click",function(I){return zi(_),Wt(3).toggleAMPM(I)})("keydown.enter",function(I){return zi(_),Wt(3).toggleAMPM(I)}),Bn(6,"span",58),ft(),ft()}if(2&A){const _=Wt(3);vt(4),Rn(_.pm?"PM":"AM")}}function RJ(A,w){if(1&A){const _=tr();pt(0,"div",54),pt(1,"div",55),pt(2,"button",56),An("keydown",function(I){return zi(_),Wt(2).onContainerButtonKeydown(I)})("keydown.enter",function(I){return zi(_),Wt(2).incrementHour(I)})("mousedown",function(I){return zi(_),Wt(2).onTimePickerElementMouseDown(I,0,1)})("mouseup",function(I){return zi(_),Wt(2).onTimePickerElementMouseUp(I)})("mouseleave",function(){return zi(_),Wt(2).onTimePickerElementMouseLeave()}),Bn(3,"span",57),ft(),pt(4,"span"),Pi(5,IJ,2,0,"ng-container",11),tn(6),ft(),pt(7,"button",56),An("keydown",function(I){return zi(_),Wt(2).onContainerButtonKeydown(I)})("keydown.enter",function(I){return zi(_),Wt(2).decrementHour(I)})("mousedown",function(I){return zi(_),Wt(2).onTimePickerElementMouseDown(I,0,-1)})("mouseup",function(I){return zi(_),Wt(2).onTimePickerElementMouseUp(I)})("mouseleave",function(){return zi(_),Wt(2).onTimePickerElementMouseLeave()}),Bn(8,"span",58),ft(),ft(),pt(9,"div",59),pt(10,"span"),tn(11),ft(),ft(),pt(12,"div",60),pt(13,"button",56),An("keydown",function(I){return zi(_),Wt(2).onContainerButtonKeydown(I)})("keydown.enter",function(I){return zi(_),Wt(2).incrementMinute(I)})("mousedown",function(I){return zi(_),Wt(2).onTimePickerElementMouseDown(I,1,1)})("mouseup",function(I){return zi(_),Wt(2).onTimePickerElementMouseUp(I)})("mouseleave",function(){return zi(_),Wt(2).onTimePickerElementMouseLeave()}),Bn(14,"span",57),ft(),pt(15,"span"),Pi(16,OJ,2,0,"ng-container",11),tn(17),ft(),pt(18,"button",56),An("keydown",function(I){return zi(_),Wt(2).onContainerButtonKeydown(I)})("keydown.enter",function(I){return zi(_),Wt(2).decrementMinute(I)})("mousedown",function(I){return zi(_),Wt(2).onTimePickerElementMouseDown(I,1,-1)})("mouseup",function(I){return zi(_),Wt(2).onTimePickerElementMouseUp(I)})("mouseleave",function(){return zi(_),Wt(2).onTimePickerElementMouseLeave()}),Bn(19,"span",58),ft(),ft(),Pi(20,PJ,3,1,"div",61),Pi(21,LJ,8,2,"div",62),Pi(22,BJ,7,1,"div",63),ft()}if(2&A){const _=Wt(2);vt(5),It("ngIf",_.currentHour<10),vt(1),Rn(_.currentHour),vt(5),Rn(_.timeSeparator),vt(5),It("ngIf",_.currentMinute<10),vt(1),Rn(_.currentMinute),vt(3),It("ngIf",_.showSeconds),vt(1),It("ngIf",_.showSeconds),vt(1),It("ngIf","12"==_.hourFormat)}}const $L=function(A){return[A]};function FJ(A,w){if(1&A){const _=tr();pt(0,"div",67),pt(1,"button",68),An("keydown",function(I){return zi(_),Wt(2).onContainerButtonKeydown(I)})("click",function(I){return zi(_),Wt(2).onTodayButtonClick(I)}),ft(),pt(2,"button",68),An("keydown",function(I){return zi(_),Wt(2).onContainerButtonKeydown(I)})("click",function(I){return zi(_),Wt(2).onClearButtonClick(I)}),ft(),ft()}if(2&A){const _=Wt(2);vt(1),It("label",_.getTranslation("today"))("ngClass",Or(4,$L,_.todayButtonStyleClass)),vt(1),It("label",_.getTranslation("clear"))("ngClass",Or(6,$L,_.clearButtonStyleClass))}}function NJ(A,w){1&A&&Ms(0)}const UJ=function(A,w,_,C,I,j){return{"p-datepicker p-component":!0,"p-datepicker-inline":A,"p-disabled":w,"p-datepicker-timeonly":_,"p-datepicker-multiple-month":C,"p-datepicker-monthpicker":I,"p-datepicker-touch-ui":j}},ZL=function(A,w){return{showTransitionParams:A,hideTransitionParams:w}},jJ=function(A){return{value:"visibleTouchUI",params:A}},HJ=function(A){return{value:"visible",params:A}};function VJ(A,w){if(1&A){const _=tr();pt(0,"div",8,9),An("@overlayAnimation.start",function(I){return zi(_),Wt().onOverlayAnimationStart(I)})("@overlayAnimation.done",function(I){return zi(_),Wt().onOverlayAnimationDone(I)})("click",function(I){return zi(_),Wt().onOverlayClick(I)}),Nh(2),Pi(3,oJ,1,0,"ng-container",10),Pi(4,TJ,4,2,"ng-container",11),Pi(5,RJ,23,8,"div",12),Pi(6,FJ,3,8,"div",13),Nh(7,1),Pi(8,NJ,1,0,"ng-container",10),ft()}if(2&A){const _=Wt();vo(_.panelStyleClass),It("ngStyle",_.panelStyle)("ngClass",Ey(11,UJ,_.inline,_.disabled,_.timeOnly,_.numberOfMonths>1,"month"===_.view,_.touchUI))("@overlayAnimation",_.touchUI?Or(21,jJ,bo(18,ZL,_.showTransitionOptions,_.hideTransitionOptions)):Or(26,HJ,bo(23,ZL,_.showTransitionOptions,_.hideTransitionOptions)))("@.disabled",!0===_.inline),vt(3),It("ngTemplateOutlet",_.headerTemplate),vt(1),It("ngIf",!_.timeOnly),vt(1),It("ngIf",_.showTime||_.timeOnly),vt(1),It("ngIf",_.showButtonBar),vt(2),It("ngTemplateOutlet",_.footerTemplate)}}const zJ=[[["p-header"]],[["p-footer"]]],WJ=function(A,w,_,C){return{"p-calendar":!0,"p-calendar-w-btn":A,"p-calendar-timeonly":w,"p-calendar-disabled":_,"p-focus":C}},KJ=["p-header","p-footer"],QJ={provide:Fl,useExisting:Ht(()=>GJ),multi:!0};let GJ=(()=>{class A{constructor(_,C,I,j,K,q){this.el=_,this.renderer=C,this.cd=I,this.zone=j,this.config=K,this.overlayService=q,this.multipleSeparator=",",this.rangeSeparator="-",this.inline=!1,this.showOtherMonths=!0,this.icon="pi pi-calendar",this.shortYearCutoff="+10",this.hourFormat="24",this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.showSeconds=!1,this.showOnFocus=!0,this.showWeek=!1,this.dataType="date",this.selectionMode="single",this.todayButtonStyleClass="p-button-text",this.clearButtonStyleClass="p-button-text",this.autoZIndex=!0,this.baseZIndex=0,this.keepInvalid=!1,this.hideOnDateTimeSelect=!0,this.numberOfMonths=1,this.view="date",this.timeSeparator=":",this.focusTrap=!0,this.firstDayOfWeek=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onFocus=new er,this.onBlur=new er,this.onClose=new er,this.onSelect=new er,this.onInput=new er,this.onTodayClick=new er,this.onClearClick=new er,this.onMonthChange=new er,this.onYearChange=new er,this.onClickOutside=new er,this.onShow=new er,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.inputFieldValue=null,this.navigationState=null,this.convertTo24Hour=function(ue,Re){return"12"==this.hourFormat?12===ue?Re?12:0:Re?ue+12:ue:ue}}set content(_){this.contentViewChild=_,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(()=>this.updateFocus()),this.isMonthNavigate=!1):this.initFocusableCell())}get defaultDate(){return this._defaultDate}set defaultDate(_){if(this._defaultDate=_,this.initialized){const C=_||new Date;this.currentMonth=C.getMonth(),this.currentYear=C.getFullYear(),this.initTime(C),this.createMonths(this.currentMonth,this.currentYear)}}get minDate(){return this._minDate}set minDate(_){this._minDate=_,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get maxDate(){return this._maxDate}set maxDate(_){this._maxDate=_,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDates(){return this._disabledDates}set disabledDates(_){this._disabledDates=_,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDays(){return this._disabledDays}set disabledDays(_){this._disabledDays=_,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get yearRange(){return this._yearRange}set yearRange(_){if(this._yearRange=_,_){const C=_.split(":"),I=parseInt(C[0]),j=parseInt(C[1]);this.populateYearOptions(I,j)}}get showTime(){return this._showTime}set showTime(_){this._showTime=_,void 0===this.currentHour&&this.initTime(this.value||new Date),this.updateInputfield()}get locale(){return this._locale}set locale(_){console.warn("Locale property has no effect, use new i18n API instead.")}ngOnInit(){const _=this.defaultDate||new Date;this.currentMonth=_.getMonth(),this.currentYear=_.getFullYear(),"date"===this.view?(this.createWeekDays(),this.initTime(_),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7):"month"===this.view&&this.createMonthPickerValues(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.createWeekDays()}),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(_=>{switch(_.getType()){case"date":default:this.dateTemplate=_.template;break;case"disabledDate":this.disabledDateTemplate=_.template;break;case"header":this.headerTemplate=_.template;break;case"footer":this.footerTemplate=_.template}})}getTranslation(_){return this.config.getTranslation(_)}populateYearOptions(_,C){this.yearOptions=[];for(let I=_;I<=C;I++)this.yearOptions.push(I)}createWeekDays(){this.weekDays=[];let _=this.firstDayOfWeek,C=this.getTranslation(td.DAY_NAMES_MIN);for(let I=0;I<7;I++)this.weekDays.push(C[_]),_=6==_?0:++_}createMonthPickerValues(){this.monthPickerValues=[];let _=this.getTranslation(td.MONTH_NAMES_SHORT);for(let C=0;C<=11;C++)this.monthPickerValues.push(_[C])}createMonths(_,C){this.months=this.months=[];for(let I=0;I<this.numberOfMonths;I++){let j=_+I,K=C;j>11&&(j=j%11-1,K=C+1),this.months.push(this.createMonth(j,K))}}getWeekNumber(_){let C=new Date(_.getTime());C.setDate(C.getDate()+4-(C.getDay()||7));let I=C.getTime();return C.setMonth(0),C.setDate(1),Math.floor(Math.round((I-C.getTime())/864e5)/7)+1}createMonth(_,C){let I=[],j=this.getFirstDayOfMonthIndex(_,C),K=this.getDaysCountInMonth(_,C),q=this.getDaysCountInPrevMonth(_,C),ue=1,Re=new Date,Je=[],wt=Math.ceil((K+j)/7);for(let Qt=0;Qt<wt;Qt++){let ri=[];if(0==Qt){for(let Gi=q-j+1;Gi<=q;Gi++){let fn=this.getPreviousMonthAndYear(_,C);ri.push({day:Gi,month:fn.month,year:fn.year,otherMonth:!0,today:this.isToday(Re,Gi,fn.month,fn.year),selectable:this.isSelectable(Gi,fn.month,fn.year,!0)})}let Ci=7-ri.length;for(let Gi=0;Gi<Ci;Gi++)ri.push({day:ue,month:_,year:C,today:this.isToday(Re,ue,_,C),selectable:this.isSelectable(ue,_,C,!1)}),ue++}else for(let Ci=0;Ci<7;Ci++){if(ue>K){let Gi=this.getNextMonthAndYear(_,C);ri.push({day:ue-K,month:Gi.month,year:Gi.year,otherMonth:!0,today:this.isToday(Re,ue-K,Gi.month,Gi.year),selectable:this.isSelectable(ue-K,Gi.month,Gi.year,!0)})}else ri.push({day:ue,month:_,year:C,today:this.isToday(Re,ue,_,C),selectable:this.isSelectable(ue,_,C,!1)});ue++}this.showWeek&&Je.push(this.getWeekNumber(new Date(ri[0].year,ri[0].month,ri[0].day))),I.push(ri)}return{month:_,year:C,dates:I,weekNumbers:Je}}initTime(_){this.pm=_.getHours()>11,this.showTime?(this.currentMinute=_.getMinutes(),this.currentSecond=_.getSeconds(),this.setCurrentHourPM(_.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}navBackward(_){_.stopPropagation(),this.disabled?_.preventDefault():(this.isMonthNavigate=!0,"month"===this.view?(this.decrementYear(),setTimeout(()=>{this.updateFocus()},1)):(0===this.currentMonth?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}navForward(_){_.stopPropagation(),this.disabled?_.preventDefault():(this.isMonthNavigate=!0,"month"===this.view?(this.incrementYear(),setTimeout(()=>{this.updateFocus()},1)):(11===this.currentMonth?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}decrementYear(){if(this.currentYear--,this.yearNavigator&&this.currentYear<this.yearOptions[0]){let _=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]-_,this.yearOptions[this.yearOptions.length-1]-_)}}incrementYear(){if(this.currentYear++,this.yearNavigator&&this.currentYear>this.yearOptions[this.yearOptions.length-1]){let _=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]+_,this.yearOptions[this.yearOptions.length-1]+_)}}onDateSelect(_,C){!this.disabled&&C.selectable?(this.isMultipleSelection()&&this.isSelected(C)?(this.value=this.value.filter((I,j)=>!this.isDateEquals(I,C)),0===this.value.length&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(C)&&this.selectDate(C),this.isSingleSelection()&&this.hideOnDateTimeSelect&&setTimeout(()=>{_.preventDefault(),this.hideOverlay(),this.mask&&this.disableModality(),this.cd.markForCheck()},150),this.updateInputfield(),_.preventDefault()):_.preventDefault()}shouldSelectDate(_){return!this.isMultipleSelection()||null==this.maxDateCount||this.maxDateCount>(this.value?this.value.length:0)}onMonthSelect(_,C){Nn.hasClass(_.target,"p-disabled")||this.onDateSelect(_,{year:this.currentYear,month:C,day:1,selectable:!0})}updateInputfield(){let _="";if(this.value)if(this.isSingleSelection())_=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(let C=0;C<this.value.length;C++)_+=this.formatDateTime(this.value[C]),C!==this.value.length-1&&(_+=this.multipleSeparator+" ");else if(this.isRangeSelection()&&this.value&&this.value.length){let I=this.value[1];_=this.formatDateTime(this.value[0]),I&&(_+=" "+this.rangeSeparator+" "+this.formatDateTime(I))}this.inputFieldValue=_,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}formatDateTime(_){let C=null;return _&&(this.timeOnly?C=this.formatTime(_):(C=this.formatDate(_,this.getDateFormat()),this.showTime&&(C+=" "+this.formatTime(_)))),C}setCurrentHourPM(_){"12"==this.hourFormat?(this.pm=_>11,this.currentHour=_>=12?12==_?12:_-12:0==_?12:_):this.currentHour=_}selectDate(_){let C=new Date(_.year,_.month,_.day);if(this.showTime&&(C.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),C.setMinutes(this.currentMinute),C.setSeconds(this.currentSecond)),this.minDate&&this.minDate>C&&(C=this.minDate,this.setCurrentHourPM(C.getHours()),this.currentMinute=C.getMinutes(),this.currentSecond=C.getSeconds()),this.maxDate&&this.maxDate<C&&(C=this.maxDate,this.setCurrentHourPM(C.getHours()),this.currentMinute=C.getMinutes(),this.currentSecond=C.getSeconds()),this.isSingleSelection())this.updateModel(C);else if(this.isMultipleSelection())this.updateModel(this.value?[...this.value,C]:[C]);else if(this.isRangeSelection())if(this.value&&this.value.length){let I=this.value[0],j=this.value[1];!j&&C.getTime()>=I.getTime()?j=C:(I=C,j=null),this.updateModel([I,j])}else this.updateModel([C,null]);this.onSelect.emit(C)}updateModel(_){if(this.value=_,"date"==this.dataType)this.onModelChange(this.value);else if("string"==this.dataType)if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{let C=null;this.value&&(C=this.value.map(I=>this.formatDateTime(I))),this.onModelChange(C)}}getFirstDayOfMonthIndex(_,C){let I=new Date;I.setDate(1),I.setMonth(_),I.setFullYear(C);let j=I.getDay()+this.getSundayIndex();return j>=7?j-7:j}getDaysCountInMonth(_,C){return 32-this.daylightSavingAdjust(new Date(C,_,32)).getDate()}getDaysCountInPrevMonth(_,C){let I=this.getPreviousMonthAndYear(_,C);return this.getDaysCountInMonth(I.month,I.year)}getPreviousMonthAndYear(_,C){let I,j;return 0===_?(I=11,j=C-1):(I=_-1,j=C),{month:I,year:j}}getNextMonthAndYear(_,C){let I,j;return 11===_?(I=0,j=C+1):(I=_+1,j=C),{month:I,year:j}}getSundayIndex(){return this.firstDayOfWeek>0?7-this.firstDayOfWeek:0}isSelected(_){if(!this.value)return!1;if(this.isSingleSelection())return this.isDateEquals(this.value,_);if(this.isMultipleSelection()){let C=!1;for(let I of this.value)if(C=this.isDateEquals(I,_),C)break;return C}return this.isRangeSelection()?this.value[1]?this.isDateEquals(this.value[0],_)||this.isDateEquals(this.value[1],_)||this.isDateBetween(this.value[0],this.value[1],_):this.isDateEquals(this.value[0],_):void 0}isMonthSelected(_){let C=this.value?Array.isArray(this.value)?this.value[0].getDate():this.value.getDate():1;return this.isSelected({year:this.currentYear,month:_,day:C,selectable:!0})}isDateEquals(_,C){return!!_&&_.getDate()===C.day&&_.getMonth()===C.month&&_.getFullYear()===C.year}isDateBetween(_,C,I){if(_&&C){let K=new Date(I.year,I.month,I.day);return _.getTime()<=K.getTime()&&C.getTime()>=K.getTime()}return!1}isSingleSelection(){return"single"===this.selectionMode}isRangeSelection(){return"range"===this.selectionMode}isMultipleSelection(){return"multiple"===this.selectionMode}isToday(_,C,I,j){return _.getDate()===C&&_.getMonth()===I&&_.getFullYear()===j}isSelectable(_,C,I,j){let K=!0,q=!0,ue=!0,Re=!0;return!(j&&!this.selectOtherMonths)&&(this.minDate&&(this.minDate.getFullYear()>I||this.minDate.getFullYear()===I&&(this.minDate.getMonth()>C||this.minDate.getMonth()===C&&this.minDate.getDate()>_))&&(K=!1),this.maxDate&&(this.maxDate.getFullYear()<I||this.maxDate.getFullYear()===I&&(this.maxDate.getMonth()<C||this.maxDate.getMonth()===C&&this.maxDate.getDate()<_))&&(q=!1),this.disabledDates&&(ue=!this.isDateDisabled(_,C,I)),this.disabledDays&&(Re=!this.isDayDisabled(_,C,I)),K&&q&&ue&&Re)}isDateDisabled(_,C,I){if(this.disabledDates)for(let j of this.disabledDates)if(j.getFullYear()===I&&j.getMonth()===C&&j.getDate()===_)return!0;return!1}isDayDisabled(_,C,I){if(this.disabledDays){let K=new Date(I,C,_).getDay();return-1!==this.disabledDays.indexOf(K)}return!1}onInputFocus(_){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(_)}onInputClick(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}onInputBlur(_){this.focus=!1,this.onBlur.emit(_),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}onButtonClick(_,C){this.overlayVisible?this.hideOverlay():(C.focus(),this.showOverlay())}onOverlayClick(_){this.overlayService.add({originalEvent:_,target:this.el.nativeElement})}onPrevButtonClick(_){this.navigationState={backward:!0,button:!0},this.navBackward(_)}onNextButtonClick(_){this.navigationState={backward:!1,button:!0},this.navForward(_)}onContainerButtonKeydown(_){switch(_.which){case 9:this.inline||this.trapFocus(_);break;case 27:this.overlayVisible=!1,_.preventDefault()}}onInputKeydown(_){this.isKeydown=!0,40===_.keyCode&&this.contentViewChild?this.trapFocus(_):27===_.keyCode||13===_.keyCode?this.overlayVisible&&(this.overlayVisible=!1,_.preventDefault()):9===_.keyCode&&this.contentViewChild&&(Nn.getFocusableElements(this.contentViewChild.nativeElement).forEach(C=>C.tabIndex="-1"),this.overlayVisible&&(this.overlayVisible=!1))}onDateCellKeydown(_,C,I){const j=_.currentTarget,K=j.parentElement;switch(_.which){case 40:{j.tabIndex="-1";let q=Nn.index(K),ue=K.parentElement.nextElementSibling;ue?Nn.hasClass(ue.children[q].children[0],"p-disabled")?(this.navigationState={backward:!1},this.navForward(_)):(ue.children[q].children[0].tabIndex="0",ue.children[q].children[0].focus()):(this.navigationState={backward:!1},this.navForward(_)),_.preventDefault();break}case 38:{j.tabIndex="-1";let q=Nn.index(K),ue=K.parentElement.previousElementSibling;if(ue){let Re=ue.children[q].children[0];Nn.hasClass(Re,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(_)):(Re.tabIndex="0",Re.focus())}else this.navigationState={backward:!0},this.navBackward(_);_.preventDefault();break}case 37:{j.tabIndex="-1";let q=K.previousElementSibling;if(q){let ue=q.children[0];Nn.hasClass(ue,"p-disabled")||Nn.hasClass(ue.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,I):(ue.tabIndex="0",ue.focus())}else this.navigateToMonth(!0,I);_.preventDefault();break}case 39:{j.tabIndex="-1";let q=K.nextElementSibling;if(q){let ue=q.children[0];Nn.hasClass(ue,"p-disabled")?this.navigateToMonth(!1,I):(ue.tabIndex="0",ue.focus())}else this.navigateToMonth(!1,I);_.preventDefault();break}case 13:this.onDateSelect(_,C),_.preventDefault();break;case 27:this.overlayVisible=!1,_.preventDefault();break;case 9:this.inline||this.trapFocus(_)}}onMonthCellKeydown(_,C){const I=_.currentTarget;switch(_.which){case 38:case 40:{I.tabIndex="-1";var j=I.parentElement.children,K=Nn.index(I);let q=j[40===_.which?K+3:K-3];q&&(q.tabIndex="0",q.focus()),_.preventDefault();break}case 37:{I.tabIndex="-1";let q=I.previousElementSibling;q&&(q.tabIndex="0",q.focus()),_.preventDefault();break}case 39:{I.tabIndex="-1";let q=I.nextElementSibling;q&&(q.tabIndex="0",q.focus()),_.preventDefault();break}case 13:this.onMonthSelect(_,C),_.preventDefault();break;case 27:this.overlayVisible=!1,_.preventDefault();break;case 9:this.inline||this.trapFocus(_)}}navigateToMonth(_,C){if(_)if(1===this.numberOfMonths||0===C)this.navigationState={backward:!0},this.navBackward(event);else{let j=Nn.find(this.contentViewChild.nativeElement.children[C-1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),K=j[j.length-1];K.tabIndex="0",K.focus()}else if(1===this.numberOfMonths||C===this.numberOfMonths-1)this.navigationState={backward:!1},this.navForward(event);else{let j=Nn.findSingle(this.contentViewChild.nativeElement.children[C+1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");j.tabIndex="0",j.focus()}}updateFocus(){let _;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?Nn.findSingle(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():Nn.findSingle(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){let C=Nn.find(this.contentViewChild.nativeElement,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");_=C[C.length-1]}else _=Nn.findSingle(this.contentViewChild.nativeElement,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");_&&(_.tabIndex="0",_.focus())}this.navigationState=null}else this.initFocusableCell()}initFocusableCell(){let _;if("month"===this.view){let C=Nn.find(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),I=Nn.findSingle(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month.p-highlight");C.forEach(j=>j.tabIndex=-1),_=I||C[0],0===C.length&&Nn.find(this.contentViewChild.nativeElement,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(K=>K.tabIndex=-1)}else if(_=Nn.findSingle(this.contentViewChild.nativeElement,"span.p-highlight"),!_){_=Nn.findSingle(this.contentViewChild.nativeElement,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)")||Nn.findSingle(this.contentViewChild.nativeElement,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)")}_&&(_.tabIndex="0")}trapFocus(_){let C=Nn.getFocusableElements(this.contentViewChild.nativeElement);if(C&&C.length>0)if(C[0].ownerDocument.activeElement){let I=C.indexOf(C[0].ownerDocument.activeElement);if(_.shiftKey)if(-1==I||0===I)if(this.focusTrap)C[C.length-1].focus();else{if(-1===I)return this.hideOverlay();if(0===I)return}else C[I-1].focus();else if(-1==I||I===C.length-1){if(!this.focusTrap&&-1!=I)return this.hideOverlay();C[0].focus()}else C[I+1].focus()}else C[0].focus();_.preventDefault()}onMonthDropdownChange(_){this.currentMonth=parseInt(_),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}onYearDropdownChange(_){this.currentYear=parseInt(_),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}validateTime(_,C,I,j){let K=this.value;const q=this.convertTo24Hour(_,j);this.isRangeSelection()&&(K=this.value[1]||this.value[0]),this.isMultipleSelection()&&(K=this.value[this.value.length-1]);const ue=K?K.toDateString():null;return!(this.minDate&&ue&&this.minDate.toDateString()===ue&&(this.minDate.getHours()>q||this.minDate.getHours()===q&&(this.minDate.getMinutes()>C||this.minDate.getMinutes()===C&&this.minDate.getSeconds()>I))||this.maxDate&&ue&&this.maxDate.toDateString()===ue&&(this.maxDate.getHours()<q||this.maxDate.getHours()===q&&(this.maxDate.getMinutes()<C||this.maxDate.getMinutes()===C&&this.maxDate.getSeconds()<I)))}incrementHour(_){let I=this.currentHour+this.stepHour,j=this.pm;"24"==this.hourFormat?I=I>=24?I-24:I:"12"==this.hourFormat&&(this.currentHour<12&&I>11&&(j=!this.pm),I=I>=13?I-12:I),this.validateTime(I,this.currentMinute,this.currentSecond,j)&&(this.currentHour=I,this.pm=j),_.preventDefault()}onTimePickerElementMouseDown(_,C,I){this.disabled||(this.repeat(_,null,C,I),_.preventDefault())}onTimePickerElementMouseUp(_){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}onTimePickerElementMouseLeave(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}repeat(_,C,I,j){let K=C||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(()=>{this.repeat(_,100,I,j),this.cd.markForCheck()},K),I){case 0:1===j?this.incrementHour(_):this.decrementHour(_);break;case 1:1===j?this.incrementMinute(_):this.decrementMinute(_);break;case 2:1===j?this.incrementSecond(_):this.decrementSecond(_)}this.updateInputfield()}clearTimePickerTimer(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}decrementHour(_){let C=this.currentHour-this.stepHour,I=this.pm;"24"==this.hourFormat?C=C<0?24+C:C:"12"==this.hourFormat&&(12===this.currentHour&&(I=!this.pm),C=C<=0?12+C:C),this.validateTime(C,this.currentMinute,this.currentSecond,I)&&(this.currentHour=C,this.pm=I),_.preventDefault()}incrementMinute(_){let C=this.currentMinute+this.stepMinute;C=C>59?C-60:C,this.validateTime(this.currentHour,C,this.currentSecond,this.pm)&&(this.currentMinute=C),_.preventDefault()}decrementMinute(_){let C=this.currentMinute-this.stepMinute;C=C<0?60+C:C,this.validateTime(this.currentHour,C,this.currentSecond,this.pm)&&(this.currentMinute=C),_.preventDefault()}incrementSecond(_){let C=this.currentSecond+this.stepSecond;C=C>59?C-60:C,this.validateTime(this.currentHour,this.currentMinute,C,this.pm)&&(this.currentSecond=C),_.preventDefault()}decrementSecond(_){let C=this.currentSecond-this.stepSecond;C=C<0?60+C:C,this.validateTime(this.currentHour,this.currentMinute,C,this.pm)&&(this.currentSecond=C),_.preventDefault()}updateTime(){let _=this.value;this.isRangeSelection()&&(_=this.value[1]||this.value[0]),this.isMultipleSelection()&&(_=this.value[this.value.length-1]),_=_?new Date(_.getTime()):new Date,_.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),_.setMinutes(this.currentMinute),_.setSeconds(this.currentSecond),this.isRangeSelection()&&(_=this.value[1]?[this.value[0],_]:[_,null]),this.isMultipleSelection()&&(_=[...this.value.slice(0,-1),_]),this.updateModel(_),this.onSelect.emit(_),this.updateInputfield()}toggleAMPM(_){const C=!this.pm;this.validateTime(this.currentHour,this.currentMinute,this.currentSecond,C)&&(this.pm=C,this.updateTime()),_.preventDefault()}onUserInput(_){if(!this.isKeydown)return;this.isKeydown=!1;let C=_.target.value;try{let I=this.parseValueFromString(C);this.isValidSelection(I)&&(this.updateModel(I),this.updateUI())}catch(I){this.updateModel(null)}this.filled=null!=C&&C.length,this.onInput.emit(_)}isValidSelection(_){let C=!0;return this.isSingleSelection()?this.isSelectable(_.getDate(),_.getMonth(),_.getFullYear(),!1)||(C=!1):_.every(I=>this.isSelectable(I.getDate(),I.getMonth(),I.getFullYear(),!1))&&this.isRangeSelection()&&(C=_.length>1&&_[1]>_[0]),C}parseValueFromString(_){if(!_||0===_.trim().length)return null;let C;if(this.isSingleSelection())C=this.parseDateTime(_);else if(this.isMultipleSelection()){let I=_.split(this.multipleSeparator);C=[];for(let j of I)C.push(this.parseDateTime(j.trim()))}else if(this.isRangeSelection()){let I=_.split(" "+this.rangeSeparator+" ");C=[];for(let j=0;j<I.length;j++)C[j]=this.parseDateTime(I[j].trim())}return C}parseDateTime(_){let C,I=_.split(" ");if(this.timeOnly)C=new Date,this.populateTime(C,I[0],I[1]);else{const j=this.getDateFormat();if(this.showTime){let K="12"==this.hourFormat?I.pop():null,q=I.pop();C=this.parseDate(I.join(" "),j),this.populateTime(C,q,K)}else C=this.parseDate(_,j)}return C}populateTime(_,C,I){if("12"==this.hourFormat&&!I)throw"Invalid Time";this.pm="PM"===I||"pm"===I;let j=this.parseTime(C);_.setHours(j.hour),_.setMinutes(j.minute),_.setSeconds(j.second)}updateUI(){let _=this.value||this.defaultDate||new Date;Array.isArray(_)&&(_=_[0]),this.currentMonth=_.getMonth(),this.currentYear=_.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(_.getHours()),this.currentMinute=_.getMinutes(),this.currentSecond=_.getSeconds())}showOverlay(){this.overlayVisible||(this.updateUI(),this.overlayVisible=!0)}hideOverlay(){this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}toggle(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild.nativeElement.focus()))}onOverlayAnimationStart(_){switch(_.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=_.element,this.appendOverlay(),this.autoZIndex&&(this.touchUI?ed.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):ed.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(_));break;case"void":this.onOverlayHide(),this.onClose.emit(_)}}onOverlayAnimationDone(_){switch(_.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&ed.clear(_.element)}}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):Nn.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.touchUI?this.enableModality(this.overlay):this.appendTo?Nn.absolutePosition(this.overlay,this.inputfieldViewChild.nativeElement):Nn.relativePosition(this.overlay,this.inputfieldViewChild.nativeElement)}enableModality(_){this.mask||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(_.style.zIndex)-1),Nn.addMultipleClasses(this.mask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay p-component-overlay-enter"),this.maskClickListener=this.renderer.listen(this.mask,"click",I=>{this.disableModality()}),document.body.appendChild(this.mask),Nn.addClass(document.body,"p-overflow-hidden"))}disableModality(){this.mask&&(Nn.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.destroyMask.bind(this),this.mask.addEventListener("animationend",this.animationEndListener))}destroyMask(){document.body.removeChild(this.mask);let C,_=document.body.children;for(let I=0;I<_.length;I++)if(Nn.hasClass(_[I],"p-datepicker-mask-scrollblocker")){C=!0;break}C||Nn.removeClass(document.body,"p-overflow-hidden"),this.unbindAnimationEndListener(),this.unbindMaskClickListener(),this.mask=null}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.mask.removeEventListener("animationend",this.animationEndListener),this.animationEndListener=null)}writeValue(_){this.value=_,this.value&&"string"==typeof this.value&&(this.value=this.parseValueFromString(this.value)),this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}registerOnChange(_){this.onModelChange=_}registerOnTouched(_){this.onModelTouched=_}setDisabledState(_){this.disabled=_,this.cd.markForCheck()}getDateFormat(){return this.dateFormat||this.getTranslation("dateFormat")}formatDate(_,C){if(!_)return"";let I;const j=Je=>{const wt=I+1<C.length&&C.charAt(I+1)===Je;return wt&&I++,wt},K=(Je,wt,Qt)=>{let ri=""+wt;if(j(Je))for(;ri.length<Qt;)ri="0"+ri;return ri},q=(Je,wt,Qt,ri)=>j(Je)?ri[wt]:Qt[wt];let ue="",Re=!1;if(_)for(I=0;I<C.length;I++)if(Re)"'"!==C.charAt(I)||j("'")?ue+=C.charAt(I):Re=!1;else switch(C.charAt(I)){case"d":ue+=K("d",_.getDate(),2);break;case"D":ue+=q("D",_.getDay(),this.getTranslation(td.DAY_NAMES_SHORT),this.getTranslation(td.DAY_NAMES));break;case"o":ue+=K("o",Math.round((new Date(_.getFullYear(),_.getMonth(),_.getDate()).getTime()-new Date(_.getFullYear(),0,0).getTime())/864e5),3);break;case"m":ue+=K("m",_.getMonth()+1,2);break;case"M":ue+=q("M",_.getMonth(),this.getTranslation(td.MONTH_NAMES_SHORT),this.getTranslation(td.MONTH_NAMES));break;case"y":ue+=j("y")?_.getFullYear():(_.getFullYear()%100<10?"0":"")+_.getFullYear()%100;break;case"@":ue+=_.getTime();break;case"!":ue+=1e4*_.getTime()+this.ticksTo1970;break;case"'":j("'")?ue+="'":Re=!0;break;default:ue+=C.charAt(I)}return ue}formatTime(_){if(!_)return"";let C="",I=_.getHours(),j=_.getMinutes(),K=_.getSeconds();return"12"==this.hourFormat&&I>11&&12!=I&&(I-=12),C+="12"==this.hourFormat&&0===I?12:I<10?"0"+I:I,C+=":",C+=j<10?"0"+j:j,this.showSeconds&&(C+=":",C+=K<10?"0"+K:K),"12"==this.hourFormat&&(C+=_.getHours()>11?" PM":" AM"),C}parseTime(_){let C=_.split(":");if(C.length!==(this.showSeconds?3:2))throw"Invalid time";let j=parseInt(C[0]),K=parseInt(C[1]),q=this.showSeconds?parseInt(C[2]):null;if(isNaN(j)||isNaN(K)||j>23||K>59||"12"==this.hourFormat&&j>12||this.showSeconds&&(isNaN(q)||q>59))throw"Invalid time";return"12"==this.hourFormat&&(12!==j&&this.pm?j+=12:!this.pm&&12===j&&(j-=12)),{hour:j,minute:K,second:q}}parseDate(_,C){if(null==C||null==_)throw"Invalid arguments";if(""===(_="object"==typeof _?_.toString():_+""))return null;let I,j,K,Ci,q=0,ue="string"!=typeof this.shortYearCutoff?this.shortYearCutoff:(new Date).getFullYear()%100+parseInt(this.shortYearCutoff,10),Re=-1,Je=-1,wt=-1,Qt=-1,ri=!1,Gi=Zn=>{let qn=I+1<C.length&&C.charAt(I+1)===Zn;return qn&&I++,qn},fn=Zn=>{let qn=Gi(Zn),mr="@"===Zn?14:"!"===Zn?20:"y"===Zn&&qn?4:"o"===Zn?3:2,Qr=new RegExp("^\\d{"+("y"===Zn?mr:1)+","+mr+"}"),ws=_.substring(q).match(Qr);if(!ws)throw"Missing number at position "+q;return q+=ws[0].length,parseInt(ws[0],10)},Mn=(Zn,qn,mr)=>{let Mr=-1,Qr=Gi(Zn)?mr:qn,ws=[];for(let as=0;as<Qr.length;as++)ws.push([as,Qr[as]]);ws.sort((as,ks)=>-(as[1].length-ks[1].length));for(let as=0;as<ws.length;as++){let ks=ws[as][1];if(_.substr(q,ks.length).toLowerCase()===ks.toLowerCase()){Mr=ws[as][0],q+=ks.length;break}}if(-1!==Mr)return Mr+1;throw"Unknown name at position "+q},gn=()=>{if(_.charAt(q)!==C.charAt(I))throw"Unexpected literal at position "+q;q++};for("month"===this.view&&(wt=1),I=0;I<C.length;I++)if(ri)"'"!==C.charAt(I)||Gi("'")?gn():ri=!1;else switch(C.charAt(I)){case"d":wt=fn("d");break;case"D":Mn("D",this.getTranslation(td.DAY_NAMES_SHORT),this.getTranslation(td.DAY_NAMES));break;case"o":Qt=fn("o");break;case"m":Je=fn("m");break;case"M":Je=Mn("M",this.getTranslation(td.MONTH_NAMES_SHORT),this.getTranslation(td.MONTH_NAMES));break;case"y":Re=fn("y");break;case"@":Ci=new Date(fn("@")),Re=Ci.getFullYear(),Je=Ci.getMonth()+1,wt=Ci.getDate();break;case"!":Ci=new Date((fn("!")-this.ticksTo1970)/1e4),Re=Ci.getFullYear(),Je=Ci.getMonth()+1,wt=Ci.getDate();break;case"'":Gi("'")?gn():ri=!0;break;default:gn()}if(q<_.length&&(K=_.substr(q),!/^\s+/.test(K)))throw"Extra/unparsed characters found in date: "+K;if(-1===Re?Re=(new Date).getFullYear():Re<100&&(Re+=(new Date).getFullYear()-(new Date).getFullYear()%100+(Re<=ue?0:-100)),Qt>-1)for(Je=1,wt=Qt;j=this.getDaysCountInMonth(Re,Je-1),!(wt<=j);)Je++,wt-=j;if(Ci=this.daylightSavingAdjust(new Date(Re,Je-1,wt)),Ci.getFullYear()!==Re||Ci.getMonth()+1!==Je||Ci.getDate()!==wt)throw"Invalid date";return Ci}daylightSavingAdjust(_){return _?(_.setHours(_.getHours()>12?_.getHours()+2:0),_):null}updateFilledState(){this.filled=this.inputFieldValue&&""!=this.inputFieldValue}onTodayButtonClick(_){let C=new Date,I={day:C.getDate(),month:C.getMonth(),year:C.getFullYear(),otherMonth:C.getMonth()!==this.currentMonth||C.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.onDateSelect(_,I),this.onTodayClick.emit(_)}onClearButtonClick(_){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(_)}bindDocumentClickListener(){this.documentClickListener||this.zone.runOutsideAngular(()=>{this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",C=>{this.isOutsideClicked(C)&&this.overlayVisible&&this.zone.run(()=>{this.hideOverlay(),this.onClickOutside.emit(C),this.cd.markForCheck()})})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener))}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new dT(this.containerViewChild.nativeElement,()=>{this.overlayVisible&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}isOutsideClicked(_){return!(this.el.nativeElement.isSameNode(_.target)||this.isNavIconClicked(_)||this.el.nativeElement.contains(_.target)||this.overlay&&this.overlay.contains(_.target))}isNavIconClicked(_){return Nn.hasClass(_.target,"p-datepicker-prev")||Nn.hasClass(_.target,"p-datepicker-prev-icon")||Nn.hasClass(_.target,"p-datepicker-next")||Nn.hasClass(_.target,"p-datepicker-next-icon")}onWindowResize(){this.overlayVisible&&!Nn.isAndroid()&&this.hideOverlay()}onOverlayHide(){this.mask&&this.destroyMask(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&ed.clear(this.overlay),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}}return A.\u0275fac=function(_){return new(_||A)(rn(_o),rn(Hh),rn(Gl),rn(Eo),rn(gA),rn(hT))},A.\u0275cmp=dr({type:A,selectors:[["p-calendar"]],contentQueries:function(_,C,I){if(1&_&&Q0(I,dv,4),2&_){let j;lo(j=co())&&(C.templates=j)}},viewQuery:function(_,C){if(1&_&&(zo(tJ,5),zo(iJ,5),zo(nJ,5)),2&_){let I;lo(I=co())&&(C.containerViewChild=I.first),lo(I=co())&&(C.inputfieldViewChild=I.first),lo(I=co())&&(C.content=I.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(_,C){2&_&&Sd("p-inputwrapper-filled",C.filled)("p-inputwrapper-focus",C.focus)},inputs:{style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",iconAriaLabel:"iconAriaLabel",disabled:"disabled",dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:"inline",showOtherMonths:"showOtherMonths",selectOtherMonths:"selectOtherMonths",showIcon:"showIcon",icon:"icon",appendTo:"appendTo",readonlyInput:"readonlyInput",shortYearCutoff:"shortYearCutoff",monthNavigator:"monthNavigator",yearNavigator:"yearNavigator",hourFormat:"hourFormat",timeOnly:"timeOnly",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",showSeconds:"showSeconds",required:"required",showOnFocus:"showOnFocus",showWeek:"showWeek",dataType:"dataType",selectionMode:"selectionMode",maxDateCount:"maxDateCount",showButtonBar:"showButtonBar",todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:"keepInvalid",hideOnDateTimeSelect:"hideOnDateTimeSelect",numberOfMonths:"numberOfMonths",view:"view",touchUI:"touchUI",timeSeparator:"timeSeparator",focusTrap:"focusTrap",firstDayOfWeek:"firstDayOfWeek",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:"tabindex",defaultDate:"defaultDate",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",locale:"locale"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[Vs([QJ])],ngContentSelectors:KJ,decls:4,vars:11,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"ngIf"],[3,"class","ngStyle","ngClass","click",4,"ngIf"],["type","text","autocomplete","off",3,"value","readonly","ngStyle","placeholder","disabled","ngClass","focus","keydown","click","blur","input"],["inputfield",""],["type","button","pButton","","pRipple","","class","p-datepicker-trigger","tabindex","0",3,"icon","disabled","click",4,"ngIf"],["type","button","pButton","","pRipple","","tabindex","0",1,"p-datepicker-trigger",3,"icon","disabled","click"],[3,"ngStyle","ngClass","click"],["contentWrapper",""],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-timepicker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-group-container"],["class","p-datepicker-group",4,"ngFor","ngForOf"],["class","p-monthpicker",4,"ngIf"],[1,"p-datepicker-group"],[1,"p-datepicker-header"],["class","p-datepicker-prev p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],[1,"p-datepicker-title"],["class","p-datepicker-month",4,"ngIf"],["tabindex","0","class","p-datepicker-month",3,"change",4,"ngIf"],["tabindex","0","class","p-datepicker-year",3,"change",4,"ngIf"],["class","p-datepicker-year",4,"ngIf"],["class","p-datepicker-next p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],["class","p-datepicker-calendar-container",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-prev","p-link",3,"keydown","click"],[1,"p-datepicker-prev-icon","pi","pi-chevron-left"],[1,"p-datepicker-month"],["tabindex","0",1,"p-datepicker-month",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"],["tabindex","0",1,"p-datepicker-year",3,"change"],[1,"p-datepicker-year"],["type","button","pRipple","",1,"p-datepicker-next","p-link",3,"keydown","click"],[1,"p-datepicker-next-icon","pi","pi-chevron-right"],[1,"p-datepicker-calendar-container"],[1,"p-datepicker-calendar"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-disabled"],[3,"ngClass"],["draggable","false","pRipple","",3,"ngClass","click","keydown"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-monthpicker"],["class","p-monthpicker-month","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-monthpicker-month",3,"ngClass","click","keydown"],[1,"p-timepicker"],[1,"p-hour-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","keydown.enter","mousedown","mouseup","mouseleave"],[1,"pi","pi-chevron-up"],[1,"pi","pi-chevron-down"],[1,"p-separator"],[1,"p-minute-picker"],["class","p-separator",4,"ngIf"],["class","p-second-picker",4,"ngIf"],["class","p-ampm-picker",4,"ngIf"],[1,"p-second-picker"],[1,"p-ampm-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["type","button","pButton","","pRipple","",3,"label","ngClass","keydown","click"]],template:function(_,C){1&_&&(vf(zJ),pt(0,"span",0,1),Pi(2,sJ,3,16,"ng-template",2),Pi(3,VJ,9,28,"div",3),ft()),2&_&&(vo(C.styleClass),It("ngClass",Rg(6,WJ,C.showIcon,C.timeOnly,C.disabled,C.focus))("ngStyle",C.style),vt(2),It("ngIf",!C.inline),vt(1),It("ngIf",C.inline||C.overlayVisible))},directives:[eo,el,to,zL,wA,Cf,uc],styles:[".p-calendar{position:relative;display:inline-flex}.p-calendar .p-inputtext{flex:1 1 auto;width:1%}.p-calendar-w-btn .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}.p-calendar-w-btn .p-datepicker-trigger{border-top-left-radius:0;border-bottom-left-radius:0}.p-fluid .p-calendar{display:flex}.p-fluid .p-calendar .p-inputtext{width:1%}.p-calendar .p-datepicker{min-width:100%}.p-datepicker{width:auto;position:absolute;top:0;left:0}.p-datepicker-inline{position:static}.p-datepicker-header{display:flex;align-items:center;justify-content:space-between}.p-datepicker-header .p-datepicker-title{margin:0 auto}.p-datepicker-next,.p-datepicker-prev{cursor:pointer;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-datepicker-multiple-month .p-datepicker-group-container{display:flex}.p-datepicker table{width:100%;border-collapse:collapse}.p-datepicker td>span{display:flex;margin:0 auto}.p-datepicker td>span,.p-monthpicker-month{justify-content:center;align-items:center;cursor:pointer;overflow:hidden;position:relative}.p-monthpicker-month{width:33.3%;display:inline-flex}.p-datepicker-buttonbar{display:flex;justify-content:space-between;align-items:center}.p-timepicker,.p-timepicker button{display:flex;justify-content:center;align-items:center}.p-timepicker button{cursor:pointer;overflow:hidden;position:relative}.p-timepicker>div{display:flex;align-items:center;flex-direction:column}.p-calendar .p-datepicker-touch-ui,.p-datepicker-touch-ui{position:fixed;top:50%;left:50%;min-width:80vw;transform:translate(-50%,-50%)}"],encapsulation:2,data:{animation:[lT("overlayAnimation",[YK("visibleTouchUI",qh({transform:"translate(-50%,-50%)",opacity:1})),vm("void => visible",[qh({opacity:0,transform:"scaleY(0.8)"}),ym("{{showTransitionParams}}",qh({opacity:1,transform:"*"}))]),vm("visible => void",[ym("{{hideTransitionParams}}",qh({opacity:0}))]),vm("void => visibleTouchUI",[qh({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),ym("{{showTransitionParams}}")]),vm("visibleTouchUI => void",[ym("{{hideTransitionParams}}",qh({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0}),A})(),$J=(()=>{class A{}return A.\u0275fac=function(_){return new(_||A)},A.\u0275mod=Rr({type:A}),A.\u0275inj=Bi({imports:[[pl,qC,_m,mv],qC,_m]}),A})();const ZJ=["container"],JJ=["resizeHelper"],XJ=["reorderIndicatorUp"],YJ=["reorderIndicatorDown"],qJ=["wrapper"],eX=["table"],tX=["tableHeader"];function iX(A,w){if(1&A&&(pt(0,"div",14),Bn(1,"i"),ft()),2&A){const _=Wt();vt(1),vo("p-datatable-loading-icon pi-spin "+_.loadingIcon)}}function nX(A,w){1&A&&Ms(0)}function rX(A,w){if(1&A&&(pt(0,"div",15),Pi(1,nX,1,0,"ng-container",16),ft()),2&A){const _=Wt();vt(1),It("ngTemplateOutlet",_.captionTemplate)}}function sX(A,w){if(1&A){const _=tr();pt(0,"p-paginator",17),An("onPageChange",function(I){return zi(_),Wt().onPageChange(I)}),ft()}if(2&A){const _=Wt();It("rows",_.rows)("first",_.first)("totalRecords",_.totalRecords)("pageLinkSize",_.pageLinks)("alwaysShow",_.alwaysShowPaginator)("rowsPerPageOptions",_.rowsPerPageOptions)("templateLeft",_.paginatorLeftTemplate)("templateRight",_.paginatorRightTemplate)("dropdownAppendTo",_.paginatorDropdownAppendTo)("dropdownScrollHeight",_.paginatorDropdownScrollHeight)("currentPageReportTemplate",_.currentPageReportTemplate)("showFirstLastIcon",_.showFirstLastIcon)("dropdownItemTemplate",_.paginatorDropdownItemTemplate)("showCurrentPageReport",_.showCurrentPageReport)("showJumpToPageDropdown",_.showJumpToPageDropdown)("showJumpToPageInput",_.showJumpToPageInput)("showPageLinks",_.showPageLinks)}}function oX(A,w){1&A&&Ms(0)}function aX(A,w){1&A&&Ms(0)}function lX(A,w){if(1&A&&Bn(0,"tbody",25),2&A){const _=Wt(2);It("value",_.frozenValue)("frozenRows",!0)("pTableBody",_.columns)("pTableBodyTemplate",_.frozenBodyTemplate)("frozen",!0)}}function cX(A,w){1&A&&Ms(0)}const wm=function(A){return{$implicit:A}};function uX(A,w){if(1&A&&(pt(0,"tfoot",26),Pi(1,cX,1,0,"ng-container",20),ft()),2&A){const _=Wt(2);vt(1),It("ngTemplateOutlet",_.footerGroupedTemplate||_.footerTemplate)("ngTemplateOutletContext",Or(2,wm,_.columns))}}function hX(A,w){if(1&A&&(pt(0,"table",18,19),Pi(2,oX,1,0,"ng-container",20),pt(3,"thead",21),Pi(4,aX,1,0,"ng-container",20),ft(),Pi(5,lX,1,5,"tbody",22),Bn(6,"tbody",23),Pi(7,uX,2,4,"tfoot",24),ft()),2&A){const _=Wt();It("ngClass",_.tableStyleClass)("ngStyle",_.tableStyle),Is("id",_.id+"-table"),vt(2),It("ngTemplateOutlet",_.colGroupTemplate)("ngTemplateOutletContext",Or(12,wm,_.columns)),vt(2),It("ngTemplateOutlet",_.headerGroupedTemplate||_.headerTemplate)("ngTemplateOutletContext",Or(14,wm,_.columns)),vt(1),It("ngIf",_.frozenValue||_.frozenBodyTemplate),vt(1),It("value",_.dataToRender)("pTableBody",_.columns)("pTableBodyTemplate",_.bodyTemplate),vt(1),It("ngIf",_.footerGroupedTemplate||_.footerTemplate)}}function dX(A,w){1&A&&Ms(0)}function pX(A,w){1&A&&Ms(0)}function fX(A,w){if(1&A&&Bn(0,"tbody",25),2&A){const _=Wt(2);It("value",_.frozenValue)("frozenRows",!0)("pTableBody",_.columns)("pTableBodyTemplate",_.bodyTemplate)("frozen",!0)}}function mX(A,w){1&A&&Ms(0)}function gX(A,w){if(1&A&&(pt(0,"tfoot",26),Pi(1,mX,1,0,"ng-container",20),ft()),2&A){const _=Wt(2);vt(1),It("ngTemplateOutlet",_.footerGroupedTemplate||_.footerTemplate)("ngTemplateOutletContext",Or(2,wm,_.columns))}}function yX(A,w){if(1&A){const _=tr();pt(0,"cdk-virtual-scroll-viewport",27),An("scrolledIndexChange",function(I){return zi(_),Wt().onScrollIndexChange(I)}),pt(1,"table",18,19),Pi(3,dX,1,0,"ng-container",20),pt(4,"thead",21,28),Pi(6,pX,1,0,"ng-container",20),ft(),Pi(7,fX,1,5,"tbody",22),Bn(8,"tbody",23),Pi(9,gX,2,4,"tfoot",24),ft(),ft()}if(2&A){const _=Wt();Dp("height","flex"!==_.scrollHeight?_.scrollHeight:void 0),It("itemSize",_.virtualRowHeight)("minBufferPx",_.minBufferPx)("maxBufferPx",_.maxBufferPx),vt(1),It("ngClass",_.tableStyleClass)("ngStyle",_.tableStyle),Is("id",_.id+"-table"),vt(2),It("ngTemplateOutlet",_.colGroupTemplate)("ngTemplateOutletContext",Or(17,wm,_.columns)),vt(3),It("ngTemplateOutlet",_.headerGroupedTemplate||_.headerTemplate)("ngTemplateOutletContext",Or(19,wm,_.columns)),vt(1),It("ngIf",_.frozenValue||_.frozenBodyTemplate),vt(1),It("value",_.dataToRender)("pTableBody",_.columns)("pTableBodyTemplate",_.bodyTemplate),vt(1),It("ngIf",_.footerGroupedTemplate||_.footerTemplate)}}function vX(A,w){if(1&A){const _=tr();pt(0,"p-paginator",29),An("onPageChange",function(I){return zi(_),Wt().onPageChange(I)}),ft()}if(2&A){const _=Wt();It("rows",_.rows)("first",_.first)("totalRecords",_.totalRecords)("pageLinkSize",_.pageLinks)("alwaysShow",_.alwaysShowPaginator)("rowsPerPageOptions",_.rowsPerPageOptions)("templateLeft",_.paginatorLeftTemplate)("templateRight",_.paginatorRightTemplate)("dropdownAppendTo",_.paginatorDropdownAppendTo)("dropdownScrollHeight",_.paginatorDropdownScrollHeight)("currentPageReportTemplate",_.currentPageReportTemplate)("showFirstLastIcon",_.showFirstLastIcon)("dropdownItemTemplate",_.paginatorDropdownItemTemplate)("showCurrentPageReport",_.showCurrentPageReport)("showJumpToPageDropdown",_.showJumpToPageDropdown)("showJumpToPageInput",_.showJumpToPageInput)("showPageLinks",_.showPageLinks)}}function _X(A,w){1&A&&Ms(0)}function bX(A,w){if(1&A&&(pt(0,"div",30),Pi(1,_X,1,0,"ng-container",16),ft()),2&A){const _=Wt();vt(1),It("ngTemplateOutlet",_.summaryTemplate)}}function AX(A,w){1&A&&Bn(0,"div",31,32)}function wX(A,w){1&A&&Bn(0,"span",33,34)}function CX(A,w){1&A&&Bn(0,"span",35,36)}const xX=function(A,w,_,C,I,j,K,q,ue,Re,Je,wt,Qt,ri){return{"p-datatable p-component":!0,"p-datatable-hoverable-rows":A,"p-datatable-auto-layout":w,"p-datatable-resizable":_,"p-datatable-resizable-fit":C,"p-datatable-scrollable":I,"p-datatable-scrollable-vertical":j,"p-datatable-scrollable-horizontal":K,"p-datatable-scrollable-both":q,"p-datatable-flex-scrollable":ue,"p-datatable-responsive-stack":Re,"p-datatable-responsive-scroll":Je,"p-datatable-responsive":wt,"p-datatable-grouped-header":Qt,"p-datatable-grouped-footer":ri}},EX=function(A){return{height:A}},DX=["pTableBody",""];function MX(A,w){1&A&&Ms(0)}const tx=function(A,w,_,C,I){return{$implicit:A,rowIndex:w,columns:_,editing:C,frozen:I}};function SX(A,w){if(1&A&&(ao(0,3),Pi(1,MX,1,0,"ng-container",4),$s()),2&A){const _=Wt(),C=_.$implicit,I=_.index,j=Wt(2);vt(1),It("ngTemplateOutlet",j.dt.groupHeaderTemplate)("ngTemplateOutletContext",Ab(2,tx,C,j.dt.paginator?j.dt.first+I:I,j.columns,"row"===j.dt.editMode&&j.dt.isRowEditing(C),j.frozen))}}function TX(A,w){1&A&&Ms(0)}function IX(A,w){if(1&A&&(ao(0),Pi(1,TX,1,0,"ng-container",4),$s()),2&A){const _=Wt(),C=_.$implicit,I=_.index,j=Wt(2);vt(1),It("ngTemplateOutlet",j.template)("ngTemplateOutletContext",Ab(2,tx,C,j.dt.paginator?j.dt.first+I:I,j.columns,"row"===j.dt.editMode&&j.dt.isRowEditing(C),j.frozen))}}function OX(A,w){1&A&&Ms(0)}const PX=function(A,w,_,C,I,j,K){return{$implicit:A,rowIndex:w,columns:_,editing:C,frozen:I,rowgroup:j,rowspan:K}};function kX(A,w){if(1&A&&(ao(0),Pi(1,OX,1,0,"ng-container",4),$s()),2&A){const _=Wt(),C=_.$implicit,I=_.index,j=Wt(2);vt(1),It("ngTemplateOutlet",j.template)("ngTemplateOutletContext",function(A,w,_,C,I,j,K,q,ue,Re){const Je=_a()+A,wt=or();let Qt=wu(wt,Je,_,C,I,j);return iy(wt,Je+4,K,q,ue)||Qt?Rh(wt,Je+7,Re?w.call(Re,_,C,I,j,K,q,ue):w(_,C,I,j,K,q,ue)):B0(wt,Je+7)}(2,PX,C,j.dt.paginator?j.dt.first+I:I,j.columns,"row"===j.dt.editMode&&j.dt.isRowEditing(C),j.frozen,j.shouldRenderRowspan(j.value,C,I),j.calculateRowGroupSize(j.value,C,I)))}}function LX(A,w){1&A&&Ms(0)}function BX(A,w){if(1&A&&(ao(0,3),Pi(1,LX,1,0,"ng-container",4),$s()),2&A){const _=Wt(),C=_.$implicit,I=_.index,j=Wt(2);vt(1),It("ngTemplateOutlet",j.dt.groupFooterTemplate)("ngTemplateOutletContext",Ab(2,tx,C,j.dt.paginator?j.dt.first+I:I,j.columns,"row"===j.dt.editMode&&j.dt.isRowEditing(C),j.frozen))}}function RX(A,w){if(1&A&&(Pi(0,SX,2,8,"ng-container",2),Pi(1,IX,2,8,"ng-container",0),Pi(2,kX,2,10,"ng-container",0),Pi(3,BX,2,8,"ng-container",2)),2&A){const _=w.$implicit,C=w.index,I=Wt(2);It("ngIf",I.dt.groupHeaderTemplate&&"subheader"===I.dt.rowGroupMode&&I.shouldRenderRowGroupHeader(I.value,_,C)),vt(1),It("ngIf","rowspan"!==I.dt.rowGroupMode),vt(1),It("ngIf","rowspan"===I.dt.rowGroupMode),vt(1),It("ngIf",I.dt.groupFooterTemplate&&"subheader"===I.dt.rowGroupMode&&I.shouldRenderRowGroupFooter(I.value,_,C))}}function FX(A,w){if(1&A&&(ao(0),Pi(1,RX,4,4,"ng-template",1),$s()),2&A){const _=Wt();vt(1),It("ngForOf",_.value)("ngForTrackBy",_.dt.rowTrackBy)}}function NX(A,w){1&A&&Ms(0)}function UX(A,w){if(1&A&&Pi(0,NX,1,0,"ng-container",4),2&A){const _=w.$implicit,C=w.index,I=Wt(2);It("ngTemplateOutlet",_?I.template:I.dt.loadingBodyTemplate)("ngTemplateOutletContext",Ab(2,tx,_,I.dt.paginator?I.dt.first+C:C,I.columns,"row"===I.dt.editMode&&I.dt.isRowEditing(_),I.frozen))}}function jX(A,w){if(1&A&&(ao(0),Pi(1,UX,1,8,"ng-template",5),$s()),2&A){const _=Wt();vt(1),It("cdkVirtualForOf",_.value)("cdkVirtualForTrackBy",_.dt.rowTrackBy)("cdkVirtualForTemplateCacheSize",0)}}function HX(A,w){1&A&&Ms(0)}const ix=function(A,w,_,C,I,j){return{$implicit:A,rowIndex:w,columns:_,expanded:C,editing:I,frozen:j}};function VX(A,w){if(1&A&&(ao(0),Pi(1,HX,1,0,"ng-container",4),$s()),2&A){const _=Wt(),C=_.$implicit,I=_.index,j=Wt(2);vt(1),It("ngTemplateOutlet",j.template)("ngTemplateOutletContext",Ey(2,ix,C,j.dt.paginator?j.dt.first+I:I,j.columns,j.dt.isRowExpanded(C),"row"===j.dt.editMode&&j.dt.isRowEditing(C),j.frozen))}}function zX(A,w){1&A&&Ms(0)}function WX(A,w){if(1&A&&(ao(0,3),Pi(1,zX,1,0,"ng-container",4),$s()),2&A){const _=Wt(),C=_.$implicit,I=_.index,j=Wt(2);vt(1),It("ngTemplateOutlet",j.dt.groupHeaderTemplate)("ngTemplateOutletContext",Ey(2,ix,C,j.dt.paginator?j.dt.first+I:I,j.columns,j.dt.isRowExpanded(C),"row"===j.dt.editMode&&j.dt.isRowEditing(C),j.frozen))}}function KX(A,w){1&A&&Ms(0)}function QX(A,w){1&A&&Ms(0)}function GX(A,w){if(1&A&&(ao(0,3),Pi(1,QX,1,0,"ng-container",4),$s()),2&A){const _=Wt(2),C=_.$implicit,I=_.index,j=Wt(2);vt(1),It("ngTemplateOutlet",j.dt.groupFooterTemplate)("ngTemplateOutletContext",Ey(2,ix,C,j.dt.paginator?j.dt.first+I:I,j.columns,j.dt.isRowExpanded(C),"row"===j.dt.editMode&&j.dt.isRowEditing(C),j.frozen))}}const JL=function(A,w,_,C){return{$implicit:A,rowIndex:w,columns:_,frozen:C}};function $X(A,w){if(1&A&&(ao(0),Pi(1,KX,1,0,"ng-container",4),Pi(2,GX,2,9,"ng-container",2),$s()),2&A){const _=Wt(),C=_.$implicit,I=_.index,j=Wt(2);vt(1),It("ngTemplateOutlet",j.dt.expandedRowTemplate)("ngTemplateOutletContext",Rg(3,JL,C,j.dt.paginator?j.dt.first+I:I,j.columns,j.frozen)),vt(1),It("ngIf",j.dt.groupFooterTemplate&&"subheader"===j.dt.rowGroupMode&&j.shouldRenderRowGroupFooter(j.value,C,I))}}function ZX(A,w){if(1&A&&(Pi(0,VX,2,9,"ng-container",0),Pi(1,WX,2,9,"ng-container",2),Pi(2,$X,3,8,"ng-container",0)),2&A){const _=w.$implicit,C=w.index,I=Wt(2);It("ngIf",!I.dt.groupHeaderTemplate),vt(1),It("ngIf",I.dt.groupHeaderTemplate&&"subheader"===I.dt.rowGroupMode&&I.shouldRenderRowGroupHeader(I.value,_,C)),vt(1),It("ngIf",I.dt.isRowExpanded(_))}}function JX(A,w){if(1&A&&(ao(0),Pi(1,ZX,3,3,"ng-template",1),$s()),2&A){const _=Wt();vt(1),It("ngForOf",_.value)("ngForTrackBy",_.dt.rowTrackBy)}}function XX(A,w){1&A&&Ms(0)}function YX(A,w){1&A&&Ms(0)}function qX(A,w){if(1&A&&(ao(0),Pi(1,YX,1,0,"ng-container",4),$s()),2&A){const _=Wt(),C=_.$implicit,I=_.index,j=Wt(2);vt(1),It("ngTemplateOutlet",j.dt.frozenExpandedRowTemplate)("ngTemplateOutletContext",Rg(2,JL,C,j.dt.paginator?j.dt.first+I:I,j.columns,j.frozen))}}function eY(A,w){if(1&A&&(Pi(0,XX,1,0,"ng-container",4),Pi(1,qX,2,7,"ng-container",0)),2&A){const _=w.$implicit,C=w.index,I=Wt(2);It("ngTemplateOutlet",I.template)("ngTemplateOutletContext",Ey(3,ix,_,I.dt.paginator?I.dt.first+C:C,I.columns,I.dt.isRowExpanded(_),"row"===I.dt.editMode&&I.dt.isRowEditing(_),I.frozen)),vt(1),It("ngIf",I.dt.isRowExpanded(_))}}function tY(A,w){if(1&A&&(ao(0),Pi(1,eY,2,10,"ng-template",1),$s()),2&A){const _=Wt();vt(1),It("ngForOf",_.value)("ngForTrackBy",_.dt.rowTrackBy)}}function iY(A,w){1&A&&Ms(0)}const XL=function(A,w){return{$implicit:A,frozen:w}};function nY(A,w){if(1&A&&(ao(0),Pi(1,iY,1,0,"ng-container",4),$s()),2&A){const _=Wt();vt(1),It("ngTemplateOutlet",_.dt.loadingBodyTemplate)("ngTemplateOutletContext",bo(2,XL,_.columns,_.frozen))}}function rY(A,w){1&A&&Ms(0)}function sY(A,w){if(1&A&&(ao(0),Pi(1,rY,1,0,"ng-container",4),$s()),2&A){const _=Wt();vt(1),It("ngTemplateOutlet",_.dt.emptyMessageTemplate)("ngTemplateOutletContext",bo(2,XL,_.columns,_.frozen))}}let zT=(()=>{class A{constructor(){this.sortSource=new Se,this.selectionSource=new Se,this.contextMenuSource=new Se,this.valueSource=new Se,this.totalRecordsSource=new Se,this.columnsSource=new Se,this.resetSource=new Se,this.sortSource$=this.sortSource.asObservable(),this.selectionSource$=this.selectionSource.asObservable(),this.contextMenuSource$=this.contextMenuSource.asObservable(),this.valueSource$=this.valueSource.asObservable(),this.totalRecordsSource$=this.totalRecordsSource.asObservable(),this.columnsSource$=this.columnsSource.asObservable(),this.resetSource$=this.resetSource.asObservable()}onSort(_){this.sortSource.next(_)}onSelectionChange(){this.selectionSource.next(null)}onResetChange(){this.resetSource.next(null)}onContextMenu(_){this.contextMenuSource.next(_)}onValueChange(_){this.valueSource.next(_)}onTotalRecordsChange(_){this.totalRecordsSource.next(_)}onColumnsChange(_){this.columnsSource.next(_)}}return A.\u0275fac=function(_){return new(_||A)},A.\u0275prov=di({token:A,factory:A.\u0275fac}),A})(),YL=(()=>{class A{constructor(_,C,I,j,K,q){this.el=_,this.zone=C,this.tableService=I,this.cd=j,this.filterService=K,this.overlayService=q,this.pageLinks=5,this.alwaysShowPaginator=!0,this.paginatorPosition="bottom",this.paginatorDropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.showPageLinks=!0,this.defaultSortOrder=1,this.sortMode="single",this.resetPageOnSort=!0,this.selectionChange=new er,this.contextMenuSelectionChange=new er,this.contextMenuSelectionMode="separate",this.rowTrackBy=(ue,Re)=>Re,this.lazy=!1,this.lazyLoadOnInit=!0,this.compareSelectionBy="deepEquals",this.csvSeparator=",",this.exportFilename="download",this.filters={},this.filterDelay=300,this.expandedRowKeys={},this.editingRowKeys={},this.rowExpandMode="multiple",this.scrollDirection="vertical",this.virtualScrollDelay=250,this.virtualRowHeight=28,this.columnResizeMode="fit",this.loadingIcon="pi pi-spinner",this.showLoader=!0,this.showInitialSortBadge=!0,this.stateStorage="session",this.editMode="cell",this.groupRowsByOrder=1,this.responsiveLayout="stack",this.breakpoint="960px",this.onRowSelect=new er,this.onRowUnselect=new er,this.onPage=new er,this.onSort=new er,this.onFilter=new er,this.onLazyLoad=new er,this.onRowExpand=new er,this.onRowCollapse=new er,this.onContextMenuSelect=new er,this.onColResize=new er,this.onColReorder=new er,this.onRowReorder=new er,this.onEditInit=new er,this.onEditComplete=new er,this.onEditCancel=new er,this.onHeaderCheckboxToggle=new er,this.sortFunction=new er,this.firstChange=new er,this.rowsChange=new er,this.onStateSave=new er,this.onStateRestore=new er,this._value=[],this._totalRecords=0,this._first=0,this.selectionKeys={},this._sortOrder=1,this.columnResizing=!1,this.rowGroupHeaderStyleObject={},this.id=uT()}ngOnInit(){this.lazy&&this.lazyLoadOnInit&&(this.virtualScroll||this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.restoringFilter&&(this.restoringFilter=!1)),"stack"===this.responsiveLayout&&!this.scrollable&&this.createResponsiveStyle(),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(_=>{switch(_.getType()){case"caption":this.captionTemplate=_.template;break;case"header":this.headerTemplate=_.template;break;case"headergrouped":this.headerGroupedTemplate=_.template;break;case"body":this.bodyTemplate=_.template;break;case"loadingbody":this.loadingBodyTemplate=_.template;break;case"footer":this.footerTemplate=_.template;break;case"footergrouped":this.footerGroupedTemplate=_.template;break;case"summary":this.summaryTemplate=_.template;break;case"colgroup":this.colGroupTemplate=_.template;break;case"rowexpansion":this.expandedRowTemplate=_.template;break;case"groupheader":this.groupHeaderTemplate=_.template;break;case"rowspan":this.rowspanTemplate=_.template;break;case"groupfooter":this.groupFooterTemplate=_.template;break;case"frozenrows":this.frozenRowsTemplate=_.template;break;case"frozenheader":this.frozenHeaderTemplate=_.template;break;case"frozenbody":this.frozenBodyTemplate=_.template;break;case"frozenfooter":this.frozenFooterTemplate=_.template;break;case"frozencolgroup":this.frozenColGroupTemplate=_.template;break;case"frozenrowexpansion":this.frozenExpandedRowTemplate=_.template;break;case"emptymessage":this.emptyMessageTemplate=_.template;break;case"paginatorleft":this.paginatorLeftTemplate=_.template;break;case"paginatorright":this.paginatorRightTemplate=_.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=_.template}})}ngAfterViewInit(){this.isStateful()&&this.resizableColumns&&this.restoreColumnWidths(),this.scrollable&&this.virtualScroll&&(this.virtualScrollSubscription=this.virtualScrollBody.renderedRangeStream.subscribe(_=>{this.tableHeaderViewChild.nativeElement.style.top=_.start*this.virtualRowHeight*-1+"px"}))}ngOnChanges(_){_.value&&(this.isStateful()&&!this.stateRestored&&this.restoreState(),this._value=_.value.currentValue,this.lazy||(this.totalRecords=this._value?this._value.length:0,"single"==this.sortMode&&(this.sortField||this.groupRowsBy)?this.sortSingle():"multiple"==this.sortMode&&(this.multiSortMeta||this.groupRowsBy)?this.sortMultiple():this.hasFilter()&&this._filter()),this.tableService.onValueChange(_.value.currentValue)),_.columns&&(this._columns=_.columns.currentValue,this.tableService.onColumnsChange(_.columns.currentValue),this._columns&&this.isStateful()&&this.reorderableColumns&&!this.columnOrderStateRestored&&this.restoreColumnOrder()),_.sortField&&(this._sortField=_.sortField.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),_.groupRowsBy&&(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle(),_.sortOrder&&(this._sortOrder=_.sortOrder.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),_.groupRowsByOrder&&(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle(),_.multiSortMeta&&(this._multiSortMeta=_.multiSortMeta.currentValue,"multiple"===this.sortMode&&(this.initialized||!this.lazy&&!this.virtualScroll)&&this.sortMultiple()),_.selection&&(this._selection=_.selection.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1)}get value(){return this._value}set value(_){this._value=_}get columns(){return this._columns}set columns(_){this._columns=_}get first(){return this._first}set first(_){this._first=_}get rows(){return this._rows}set rows(_){this._rows=_}get totalRecords(){return this._totalRecords}set totalRecords(_){this._totalRecords=_,this.tableService.onTotalRecordsChange(this._totalRecords)}get sortField(){return this._sortField}set sortField(_){this._sortField=_}get sortOrder(){return this._sortOrder}set sortOrder(_){this._sortOrder=_}get multiSortMeta(){return this._multiSortMeta}set multiSortMeta(_){this._multiSortMeta=_}get selection(){return this._selection}set selection(_){this._selection=_}get dataToRender(){let _=this.filteredValue||this.value;return _?this.paginator&&!this.lazy?_.slice(this.first,this.first+this.rows):_:[]}updateSelectionKeys(){if(this.dataKey&&this._selection)if(this.selectionKeys={},Array.isArray(this._selection))for(let _ of this._selection)this.selectionKeys[String(Jr.resolveFieldData(_,this.dataKey))]=1;else this.selectionKeys[String(Jr.resolveFieldData(this._selection,this.dataKey))]=1}onPageChange(_){this.first=_.first,this.rows=_.rows,this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.onPage.emit({first:this.first,rows:this.rows}),this.firstChange.emit(this.first),this.rowsChange.emit(this.rows),this.tableService.onValueChange(this.value),this.isStateful()&&this.saveState(),this.anchorRowIndex=null,this.scrollable&&this.resetScrollTop()}sort(_){let C=_.originalEvent;if("single"===this.sortMode&&(this._sortOrder=this.sortField===_.field?-1*this.sortOrder:this.defaultSortOrder,this._sortField=_.field,this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop()),this.sortSingle()),"multiple"===this.sortMode){let I=C.metaKey||C.ctrlKey,j=this.getSortMeta(_.field);j?I?j.order=-1*j.order:(this._multiSortMeta=[{field:_.field,order:-1*j.order}],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop())):((!I||!this.multiSortMeta)&&(this._multiSortMeta=[],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first))),this._multiSortMeta.push({field:_.field,order:this.defaultSortOrder})),this.sortMultiple()}this.isStateful()&&this.saveState(),this.anchorRowIndex=null}sortSingle(){let _=this.sortField||this.groupRowsBy,C=this.sortField?this.sortOrder:this.groupRowsByOrder;if(this.groupRowsBy&&this.sortField&&this.groupRowsBy!==this.sortField)return this._multiSortMeta=[this.getGroupRowsMeta(),{field:this.sortField,order:this.sortOrder}],void this.sortMultiple();if(_&&C){this.restoringSort&&(this.restoringSort=!1),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,field:_,order:C}):(this.value.sort((j,K)=>{let q=Jr.resolveFieldData(j,_),ue=Jr.resolveFieldData(K,_),Re=null;return Re=null==q&&null!=ue?-1:null!=q&&null==ue?1:null==q&&null==ue?0:"string"==typeof q&&"string"==typeof ue?q.localeCompare(ue):q<ue?-1:q>ue?1:0,C*Re}),this._value=[...this.value]),this.hasFilter()&&this._filter());let I={field:_,order:C};this.onSort.emit(I),this.tableService.onSort(I)}}sortMultiple(){this.groupRowsBy&&(this._multiSortMeta?this.multiSortMeta[0].field!==this.groupRowsBy&&(this._multiSortMeta=[this.getGroupRowsMeta(),...this._multiSortMeta]):this._multiSortMeta=[this.getGroupRowsMeta()]),this.multiSortMeta&&(this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):(this.value.sort((_,C)=>this.multisortField(_,C,this.multiSortMeta,0)),this._value=[...this.value]),this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.tableService.onSort(this.multiSortMeta))}multisortField(_,C,I,j){let K=Jr.resolveFieldData(_,I[j].field),q=Jr.resolveFieldData(C,I[j].field),ue=null;if(null==K&&null!=q)ue=-1;else if(null!=K&&null==q)ue=1;else if(null==K&&null==q)ue=0;else if("string"==typeof K||K instanceof String){if(K.localeCompare&&K!=q)return I[j].order*K.localeCompare(q)}else ue=K<q?-1:1;return K==q?I.length-1>j?this.multisortField(_,C,I,j+1):0:I[j].order*ue}getSortMeta(_){if(this.multiSortMeta&&this.multiSortMeta.length)for(let C=0;C<this.multiSortMeta.length;C++)if(this.multiSortMeta[C].field===_)return this.multiSortMeta[C];return null}isSorted(_){if("single"===this.sortMode)return this.sortField&&this.sortField===_;if("multiple"===this.sortMode){let C=!1;if(this.multiSortMeta)for(let I=0;I<this.multiSortMeta.length;I++)if(this.multiSortMeta[I].field==_){C=!0;break}return C}}handleRowClick(_){let C=_.originalEvent.target,I=C.nodeName,j=C.parentElement&&C.parentElement.nodeName;if("INPUT"!=I&&"BUTTON"!=I&&"A"!=I&&"INPUT"!=j&&"BUTTON"!=j&&"A"!=j&&!Nn.hasClass(_.originalEvent.target,"p-clickable")){if(this.selectionMode){if(this.preventSelectionSetterPropagation=!0,this.isMultipleSelectionMode()&&_.originalEvent.shiftKey&&null!=this.anchorRowIndex)Nn.clearSelection(),null!=this.rangeRowIndex&&this.clearSelectionRange(_.originalEvent),this.rangeRowIndex=_.rowIndex,this.selectRange(_.originalEvent,_.rowIndex);else{let K=_.rowData,q=this.isSelected(K),ue=!this.rowTouched&&this.metaKeySelection,Re=this.dataKey?String(Jr.resolveFieldData(K,this.dataKey)):null;if(this.anchorRowIndex=_.rowIndex,this.rangeRowIndex=_.rowIndex,ue){let Je=_.originalEvent.metaKey||_.originalEvent.ctrlKey;if(q&&Je){if(this.isSingleSelectionMode())this._selection=null,this.selectionKeys={},this.selectionChange.emit(null);else{let wt=this.findIndexInSelection(K);this._selection=this.selection.filter((Qt,ri)=>ri!=wt),this.selectionChange.emit(this.selection),Re&&delete this.selectionKeys[Re]}this.onRowUnselect.emit({originalEvent:_.originalEvent,data:K,type:"row"})}else this.isSingleSelectionMode()?(this._selection=K,this.selectionChange.emit(K),Re&&(this.selectionKeys={},this.selectionKeys[Re]=1)):this.isMultipleSelectionMode()&&(Je?this._selection=this.selection||[]:(this._selection=[],this.selectionKeys={}),this._selection=[...this.selection,K],this.selectionChange.emit(this.selection),Re&&(this.selectionKeys[Re]=1)),this.onRowSelect.emit({originalEvent:_.originalEvent,data:K,type:"row",index:_.rowIndex})}else if("single"===this.selectionMode)q?(this._selection=null,this.selectionKeys={},this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:_.originalEvent,data:K,type:"row",index:_.rowIndex})):(this._selection=K,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:_.originalEvent,data:K,type:"row",index:_.rowIndex}),Re&&(this.selectionKeys={},this.selectionKeys[Re]=1));else if("multiple"===this.selectionMode)if(q){let Je=this.findIndexInSelection(K);this._selection=this.selection.filter((wt,Qt)=>Qt!=Je),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:_.originalEvent,data:K,type:"row",index:_.rowIndex}),Re&&delete this.selectionKeys[Re]}else this._selection=this.selection?[...this.selection,K]:[K],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:_.originalEvent,data:K,type:"row",index:_.rowIndex}),Re&&(this.selectionKeys[Re]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}this.rowTouched=!1}}handleRowTouchEnd(_){this.rowTouched=!0}handleRowRightClick(_){if(this.contextMenu){const C=_.rowData;if("separate"===this.contextMenuSelectionMode)this.contextMenuSelection=C,this.contextMenuSelectionChange.emit(C),this.onContextMenuSelect.emit({originalEvent:_.originalEvent,data:C,index:_.rowIndex}),this.contextMenu.show(_.originalEvent),this.tableService.onContextMenu(C);else if("joint"===this.contextMenuSelectionMode){this.preventSelectionSetterPropagation=!0;let I=this.isSelected(C),j=this.dataKey?String(Jr.resolveFieldData(C,this.dataKey)):null;I||(this.isSingleSelectionMode()?(this.selection=C,this.selectionChange.emit(C),j&&(this.selectionKeys={},this.selectionKeys[j]=1)):this.isMultipleSelectionMode()&&(this._selection=this.selection?[...this.selection,C]:[C],this.selectionChange.emit(this.selection),j&&(this.selectionKeys[j]=1))),this.tableService.onSelectionChange(),this.contextMenu.show(_.originalEvent),this.onContextMenuSelect.emit({originalEvent:_,data:C,index:_.rowIndex})}}}selectRange(_,C){let I,j;this.anchorRowIndex>C?(I=C,j=this.anchorRowIndex):this.anchorRowIndex<C?(I=this.anchorRowIndex,j=C):(I=C,j=C),this.lazy&&this.paginator&&(I-=this.first,j-=this.first);let K=[];for(let q=I;q<=j;q++){let ue=this.filteredValue?this.filteredValue[q]:this.value[q];if(!this.isSelected(ue)){K.push(ue),this._selection=[...this.selection,ue];let Re=this.dataKey?String(Jr.resolveFieldData(ue,this.dataKey)):null;Re&&(this.selectionKeys[Re]=1)}}this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:_,data:K,type:"row"})}clearSelectionRange(_){let C,I;this.rangeRowIndex>this.anchorRowIndex?(C=this.anchorRowIndex,I=this.rangeRowIndex):this.rangeRowIndex<this.anchorRowIndex?(C=this.rangeRowIndex,I=this.anchorRowIndex):(C=this.rangeRowIndex,I=this.rangeRowIndex);for(let j=C;j<=I;j++){let K=this.value[j],q=this.findIndexInSelection(K);this._selection=this.selection.filter((Re,Je)=>Je!=q);let ue=this.dataKey?String(Jr.resolveFieldData(K,this.dataKey)):null;ue&&delete this.selectionKeys[ue],this.onRowUnselect.emit({originalEvent:_,data:K,type:"row"})}}isSelected(_){return!(!_||!this.selection)&&(this.dataKey?void 0!==this.selectionKeys[Jr.resolveFieldData(_,this.dataKey)]:this.selection instanceof Array?this.findIndexInSelection(_)>-1:this.equals(_,this.selection))}findIndexInSelection(_){let C=-1;if(this.selection&&this.selection.length)for(let I=0;I<this.selection.length;I++)if(this.equals(_,this.selection[I])){C=I;break}return C}toggleRowWithRadio(_,C){this.preventSelectionSetterPropagation=!0,this.selection!=C?(this._selection=C,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:_.originalEvent,index:_.rowIndex,data:C,type:"radiobutton"}),this.dataKey&&(this.selectionKeys={},this.selectionKeys[String(Jr.resolveFieldData(C,this.dataKey))]=1)):(this._selection=null,this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:_.originalEvent,index:_.rowIndex,data:C,type:"radiobutton"})),this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowWithCheckbox(_,C){this.selection=this.selection||[];let I=this.isSelected(C),j=this.dataKey?String(Jr.resolveFieldData(C,this.dataKey)):null;if(this.preventSelectionSetterPropagation=!0,I){let K=this.findIndexInSelection(C);this._selection=this.selection.filter((q,ue)=>ue!=K),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:_.originalEvent,index:_.rowIndex,data:C,type:"checkbox"}),j&&delete this.selectionKeys[j]}else this._selection=this.selection?[...this.selection,C]:[C],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:_.originalEvent,index:_.rowIndex,data:C,type:"checkbox"}),j&&(this.selectionKeys[j]=1);this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowsWithCheckbox(_,C){this._selection=C?this.filteredValue?this.filteredValue.slice():this.value.slice():[],this.preventSelectionSetterPropagation=!0,this.updateSelectionKeys(),this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:_,checked:C}),this.isStateful()&&this.saveState()}equals(_,C){return"equals"===this.compareSelectionBy?_===C:Jr.equals(_,C,this.dataKey)}filter(_,C,I){this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(_)?this.filters[C]&&delete this.filters[C]:this.filters[C]={value:_,matchMode:I},this.filterTimeout=setTimeout(()=>{this._filter(),this.filterTimeout=null},this.filterDelay),this.anchorRowIndex=null}filterGlobal(_,C){this.filter(_,"global",C)}isFilterBlank(_){return null==_||"string"==typeof _&&0==_.trim().length||_ instanceof Array&&0==_.length}_filter(){if(this.restoringFilter||(this.first=0,this.firstChange.emit(this.first)),this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(this.hasFilter()){let _;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");_=this.globalFilterFields||this.columns}this.filteredValue=[];for(let C=0;C<this.value.length;C++){let q,I=!0,j=!1,K=!1;for(let ue in this.filters)if(this.filters.hasOwnProperty(ue)&&"global"!==ue){K=!0;let Re=ue,Je=this.filters[Re];if(Array.isArray(Je)){for(let wt of Je)if(I=this.executeLocalFilter(Re,this.value[C],wt),wt.operator===kk.OR&&I||wt.operator===kk.AND&&!I)break}else I=this.executeLocalFilter(Re,this.value[C],Je);if(!I)break}if(this.filters.global&&!j&&_)for(let ue=0;ue<_.length&&(j=this.filterService.filters[this.filters.global.matchMode](Jr.resolveFieldData(this.value[C],_[ue].field||_[ue]),this.filters.global.value,this.filterLocale),!j);ue++);q=this.filters.global?K?K&&I&&j:j:K&&I,q&&this.filteredValue.push(this.value[C])}this.filteredValue.length===this.value.length&&(this.filteredValue=null),this.paginator&&(this.totalRecords=this.filteredValue?this.filteredValue.length:this.value?this.value.length:0)}else this.filteredValue=null,this.paginator&&(this.totalRecords=this.value?this.value.length:0)}this.onFilter.emit({filters:this.filters,filteredValue:this.filteredValue||this.value}),this.tableService.onValueChange(this.value),this.isStateful()&&!this.restoringFilter&&this.saveState(),this.restoringFilter&&(this.restoringFilter=!1),this.cd.markForCheck(),this.scrollable&&this.resetScrollTop()}executeLocalFilter(_,C,I){let j=I.value,K=I.matchMode||_c.STARTS_WITH,q=Jr.resolveFieldData(C,_);return this.filterService.filters[K](q,j,this.filterLocale)}hasFilter(){let _=!0;for(let C in this.filters)if(this.filters.hasOwnProperty(C)){_=!1;break}return!_}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta}}clear(){this._sortField=null,this._sortOrder=this.defaultSortOrder,this._multiSortMeta=null,this.tableService.onSort(null),this.filteredValue=null,this.tableService.onResetChange(),this.first=0,this.firstChange.emit(this.first),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._value?this._value.length:0}reset(){this.clear()}exportCSV(_){let C,I="",j=this.frozenColumns?[...this.frozenColumns,...this.columns]:this.columns;_&&_.selectionOnly?C=this.selection||[]:(C=this.filteredValue||this.value,this.frozenValue&&(C=C?[...this.frozenValue,...C]:this.frozenValue));for(let ue=0;ue<j.length;ue++){let Re=j[ue];!1!==Re.exportable&&Re.field&&(I+='"'+(Re.header||Re.field)+'"',ue<j.length-1&&(I+=this.csvSeparator))}C.forEach((ue,Re)=>{I+="\n";for(let Je=0;Je<j.length;Je++){let wt=j[Je];if(!1!==wt.exportable&&wt.field){let Qt=Jr.resolveFieldData(ue,wt.field);Qt=null!=Qt?this.exportFunction?this.exportFunction({data:Qt,field:wt.field}):String(Qt).replace(/"/g,'""'):"",I+='"'+Qt+'"',Je<j.length-1&&(I+=this.csvSeparator)}}});let K=new Blob([I],{type:"text/csv;charset=utf-8;"}),q=document.createElement("a");q.style.display="none",document.body.appendChild(q),void 0!==q.download?(q.setAttribute("href",URL.createObjectURL(K)),q.setAttribute("download",this.exportFilename+".csv"),q.click()):(I="data:text/csv;charset=utf-8,"+I,window.open(encodeURI(I))),document.body.removeChild(q)}resetScrollTop(){this.virtualScroll?this.scrollToVirtualIndex(0):this.scrollTo({top:0})}scrollToVirtualIndex(_){this.virtualScrollBody&&this.virtualScrollBody.scrollToIndex(_)}onScrollIndexChange(_){this.lazy&&(this.virtualScrollTimeout&&clearTimeout(this.virtualScrollTimeout),this.virtualScrollTimeout=setTimeout(()=>{let C=Math.floor(_/this.rows),I=0===C?0:(C-1)*this.rows,j=0===C?2*this.rows:3*this.rows;C!==this.virtualPage&&(this.virtualPage=C,this.onLazyLoad.emit({first:I,rows:j,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta}))},this.virtualScrollDelay))}scrollTo(_){this.virtualScrollBody?this.virtualScrollBody.scrollTo(_):this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(_):(this.wrapperViewChild.nativeElement.scrollLeft=_.left,this.wrapperViewChild.nativeElement.scrollTop=_.top)}updateEditingCell(_,C,I,j){this.editingCell=_,this.editingCellData=C,this.editingCellField=I,this.editingCellRowIndex=j,this.bindDocumentEditListener()}isEditingCellValid(){return this.editingCell&&0===Nn.find(this.editingCell,".ng-invalid.ng-dirty").length}bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=_=>{this.editingCell&&!this.selfClick&&this.isEditingCellValid()&&(Nn.removeClass(this.editingCell,"p-cell-editing"),this.editingCell=null,this.onEditComplete.emit({field:this.editingCellField,data:this.editingCellData,originalEvent:_,index:this.editingCellRowIndex}),this.editingCellField=null,this.editingCellData=null,this.editingCellRowIndex=null,this.unbindDocumentEditListener(),this.cd.markForCheck(),this.overlaySubscription&&this.overlaySubscription.unsubscribe()),this.selfClick=!1},document.addEventListener("click",this.documentEditListener))}unbindDocumentEditListener(){this.documentEditListener&&(document.removeEventListener("click",this.documentEditListener),this.documentEditListener=null)}initRowEdit(_){let C=String(Jr.resolveFieldData(_,this.dataKey));this.editingRowKeys[C]=!0}saveRowEdit(_,C){if(0===Nn.find(C,".ng-invalid.ng-dirty").length){let I=String(Jr.resolveFieldData(_,this.dataKey));delete this.editingRowKeys[I]}}cancelRowEdit(_){let C=String(Jr.resolveFieldData(_,this.dataKey));delete this.editingRowKeys[C]}toggleRow(_,C){if(!this.dataKey)throw new Error("dataKey must be defined to use row expansion");let I=String(Jr.resolveFieldData(_,this.dataKey));null!=this.expandedRowKeys[I]?(delete this.expandedRowKeys[I],this.onRowCollapse.emit({originalEvent:C,data:_})):("single"===this.rowExpandMode&&(this.expandedRowKeys={}),this.expandedRowKeys[I]=!0,this.onRowExpand.emit({originalEvent:C,data:_})),C&&C.preventDefault(),this.isStateful()&&this.saveState()}isRowExpanded(_){return!0===this.expandedRowKeys[String(Jr.resolveFieldData(_,this.dataKey))]}isRowEditing(_){return!0===this.editingRowKeys[String(Jr.resolveFieldData(_,this.dataKey))]}isSingleSelectionMode(){return"single"===this.selectionMode}isMultipleSelectionMode(){return"multiple"===this.selectionMode}onColumnResizeBegin(_){let C=Nn.getOffset(this.containerViewChild.nativeElement).left;this.resizeColumnElement=_.target.parentElement,this.columnResizing=!0,this.lastResizerHelperX=_.pageX-C+this.containerViewChild.nativeElement.scrollLeft,this.onColumnResize(_),_.preventDefault()}onColumnResize(_){let C=Nn.getOffset(this.containerViewChild.nativeElement).left;Nn.addClass(this.containerViewChild.nativeElement,"p-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.containerViewChild.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",this.resizeHelperViewChild.nativeElement.style.left=_.pageX-C+this.containerViewChild.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"}onColumnResizeEnd(){let _=this.resizeHelperViewChild.nativeElement.offsetLeft-this.lastResizerHelperX,I=this.resizeColumnElement.offsetWidth+_;if(I>=(this.resizeColumnElement.style.minWidth||15)){if("fit"===this.columnResizeMode){let K=this.resizeColumnElement.nextElementSibling,q=K.offsetWidth-_;I>15&&q>15&&(this.scrollable?this.resizeTableCells(I,q):(this.resizeColumnElement.style.width=I+"px",K&&(K.style.width=q+"px")))}else if("expand"===this.columnResizeMode){let K=this.tableViewChild.nativeElement.offsetWidth+_;this.tableViewChild.nativeElement.style.minWidth=K+"px",this.resizeColumnElement.style.width=I+"px",this.scrollable?this.resizeTableCells(I,null):this.tableViewChild.nativeElement.style.width=K+"px"}this.onColResize.emit({element:this.resizeColumnElement,delta:_}),this.isStateful()&&this.saveState()}this.resizeHelperViewChild.nativeElement.style.display="none",Nn.removeClass(this.containerViewChild.nativeElement,"p-unselectable-text")}resizeTableCells(_,C){let I=Nn.index(this.resizeColumnElement),j=[];const K=Nn.findSingle(this.containerViewChild.nativeElement,".p-datatable-thead");Nn.find(K,"tr > th").forEach(Re=>j.push(Nn.getOuterWidth(Re))),this.destroyStyleElement(),this.createStyleElement();let ue="";j.forEach((Re,Je)=>{let wt=Je===I?_:C&&Je===I+1?C:Re;ue+=`\n                #${this.id}-table > .p-datatable-thead > tr > th:nth-child(${Je+1}) {\n                    flex: 0 0 ${wt}px !important;\n                }\n\n                #${this.id}-table > .p-datatable-tbody > tr > td:nth-child(${Je+1}) {\n                    flex: 0 0 ${wt}px !important;\n                }\n            `}),this.styleElement.innerHTML=ue}onColumnDragStart(_,C){this.reorderIconWidth=Nn.getHiddenElementOuterWidth(this.reorderIndicatorUpViewChild.nativeElement),this.reorderIconHeight=Nn.getHiddenElementOuterHeight(this.reorderIndicatorDownViewChild.nativeElement),this.draggedColumn=C,_.dataTransfer.setData("text","b")}onColumnDragEnter(_,C){if(this.reorderableColumns&&this.draggedColumn&&C){_.preventDefault();let I=Nn.getOffset(this.containerViewChild.nativeElement),j=Nn.getOffset(C);if(this.draggedColumn!=C){let K=Nn.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),q=Nn.indexWithinGroup(C,"preorderablecolumn"),ue=j.left-I.left,Je=j.left+C.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=j.top-I.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=j.top-I.top+C.offsetHeight+"px",_.pageX>Je?(this.reorderIndicatorUpViewChild.nativeElement.style.left=ue+C.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=ue+C.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=ue-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=ue-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),q-K==1&&-1===this.dropPosition||q-K==-1&&1===this.dropPosition?(this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none"):(this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block")}else _.dataTransfer.dropEffect="none"}}onColumnDragLeave(_){this.reorderableColumns&&this.draggedColumn&&(_.preventDefault(),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none")}onColumnDrop(_,C){if(_.preventDefault(),this.draggedColumn){let I=Nn.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),j=Nn.indexWithinGroup(C,"preorderablecolumn"),K=I!=j;K&&(j-I==1&&-1===this.dropPosition||I-j==1&&1===this.dropPosition)&&(K=!1),K&&j<I&&1===this.dropPosition&&(j+=1),K&&j>I&&-1===this.dropPosition&&(j-=1),K&&(Jr.reorderArray(this.columns,I,j),this.onColReorder.emit({dragIndex:I,dropIndex:j,columns:this.columns}),this.isStateful()&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.saveState()})})),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}}onRowDragStart(_,C){this.rowDragging=!0,this.draggedRowIndex=C,_.dataTransfer.setData("text","b")}onRowDragOver(_,C,I){if(this.rowDragging&&this.draggedRowIndex!==C){let j=Nn.getOffset(I).top+Nn.getWindowScrollTop(),K=_.pageY,q=j+Nn.getOuterHeight(I)/2,ue=I.previousElementSibling;K<q?(Nn.removeClass(I,"p-datatable-dragpoint-bottom"),this.droppedRowIndex=C,ue?Nn.addClass(ue,"p-datatable-dragpoint-bottom"):Nn.addClass(I,"p-datatable-dragpoint-top")):(ue?Nn.removeClass(ue,"p-datatable-dragpoint-bottom"):Nn.addClass(I,"p-datatable-dragpoint-top"),this.droppedRowIndex=C+1,Nn.addClass(I,"p-datatable-dragpoint-bottom"))}}onRowDragLeave(_,C){let I=C.previousElementSibling;I&&Nn.removeClass(I,"p-datatable-dragpoint-bottom"),Nn.removeClass(C,"p-datatable-dragpoint-bottom"),Nn.removeClass(C,"p-datatable-dragpoint-top")}onRowDragEnd(_){this.rowDragging=!1,this.draggedRowIndex=null,this.droppedRowIndex=null}onRowDrop(_,C){if(null!=this.droppedRowIndex){let I=this.draggedRowIndex>this.droppedRowIndex?this.droppedRowIndex:0===this.droppedRowIndex?0:this.droppedRowIndex-1;Jr.reorderArray(this.value,this.draggedRowIndex,I),this.onRowReorder.emit({dragIndex:this.draggedRowIndex,dropIndex:I})}this.onRowDragLeave(_,C),this.onRowDragEnd(_)}isEmpty(){let _=this.filteredValue||this.value;return null==_||0==_.length}getBlockableElement(){return this.el.nativeElement.children[0]}getStorage(){switch(this.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}}isStateful(){return null!=this.stateKey}saveState(){const _=this.getStorage();let C={};this.paginator&&(C.first=this.first,C.rows=this.rows),this.sortField&&(C.sortField=this.sortField,C.sortOrder=this.sortOrder),this.multiSortMeta&&(C.multiSortMeta=this.multiSortMeta),this.hasFilter()&&(C.filters=this.filters),this.resizableColumns&&this.saveColumnWidths(C),this.reorderableColumns&&this.saveColumnOrder(C),this.selection&&(C.selection=this.selection),Object.keys(this.expandedRowKeys).length&&(C.expandedRowKeys=this.expandedRowKeys),_.setItem(this.stateKey,JSON.stringify(C)),this.onStateSave.emit(C)}clearState(){const _=this.getStorage();this.stateKey&&_.removeItem(this.stateKey)}restoreState(){const C=this.getStorage().getItem(this.stateKey),I=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/;if(C){let K=JSON.parse(C,function(K,q){return"string"==typeof q&&I.test(q)?new Date(q):q});this.paginator&&(void 0!==this.first&&(this.first=K.first,this.firstChange.emit(this.first)),void 0!==this.rows&&(this.rows=K.rows,this.rowsChange.emit(this.rows))),K.sortField&&(this.restoringSort=!0,this._sortField=K.sortField,this._sortOrder=K.sortOrder),K.multiSortMeta&&(this.restoringSort=!0,this._multiSortMeta=K.multiSortMeta),K.filters&&(this.restoringFilter=!0,this.filters=K.filters),this.resizableColumns&&(this.columnWidthsState=K.columnWidths,this.tableWidthState=K.tableWidth),K.expandedRowKeys&&(this.expandedRowKeys=K.expandedRowKeys),K.selection&&Promise.resolve(null).then(()=>this.selectionChange.emit(K.selection)),this.stateRestored=!0,this.onStateRestore.emit(K)}}saveColumnWidths(_){let C=[];Nn.find(this.containerViewChild.nativeElement,".p-datatable-thead > tr > th").forEach(j=>C.push(Nn.getOuterWidth(j))),_.columnWidths=C.join(","),"expand"===this.columnResizeMode&&(_.tableWidth=Nn.getOuterWidth(this.tableViewChild.nativeElement)+"px")}restoreColumnWidths(){if(this.columnWidthsState){let _=this.columnWidthsState.split(",");if("expand"===this.columnResizeMode&&this.tableWidthState&&(this.tableViewChild.nativeElement.style.width=this.tableWidthState,this.tableViewChild.nativeElement.style.minWidth=this.tableWidthState,this.containerViewChild.nativeElement.style.width=this.tableWidthState),this.createStyleElement(),this.scrollable&&_&&_.length>0){let C="";_.forEach((I,j)=>{C+=`\n                            #${this.id}-table > .p-datatable-thead > tr > th:nth-child(${j+1}) {\n                                flex: 0 0 ${I}px;\n                            }\n\n                            #${this.id}-table > .p-datatable-tbody > tr > td:nth-child(${j+1}) {\n                                flex: 0 0 ${I}px;\n                            }\n                        `}),this.styleElement.innerHTML=C}else Nn.find(this.tableViewChild.nativeElement,".p-datatable-thead > tr > th").forEach((C,I)=>{C.style.width=_[I]+"px"})}}saveColumnOrder(_){if(this.columns){let C=[];this.columns.map(I=>{C.push(I.field||I.key)}),_.columnOrder=C}}restoreColumnOrder(){const C=this.getStorage().getItem(this.stateKey);if(C){let j=JSON.parse(C).columnOrder;if(j){let K=[];j.map(q=>{let ue=this.findColumnByKey(q);ue&&K.push(ue)}),this.columnOrderStateRestored=!0,this.columns=K}}}findColumnByKey(_){if(!this.columns)return null;for(let C of this.columns)if(C.key===_||C.field===_)return C}createStyleElement(){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement)}getGroupRowsMeta(){return{field:this.groupRowsBy,order:this.groupRowsByOrder}}createResponsiveStyle(){this.responsiveStyleElement||(this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.head.appendChild(this.responsiveStyleElement),this.responsiveStyleElement.innerHTML=`\n@media screen and (max-width: ${this.breakpoint}) {\n    #${this.id} .p-datatable-thead > tr > th,\n    #${this.id} .p-datatable-tfoot > tr > td {\n        display: none !important;\n    }\n\n    #${this.id} .p-datatable-tbody > tr > td {\n        display: flex;\n        width: 100% !important;\n        align-items: center;\n        justify-content: space-between;\n    }\n\n    #${this.id} .p-datatable-tbody > tr > td:not(:last-child) {\n        border: 0 none;\n    }\n\n    #${this.id}.p-datatable-gridlines .p-datatable-tbody > tr > td:last-child {\n        border-top: 0;\n        border-right: 0;\n        border-left: 0;\n    }\n\n    #${this.id} .p-datatable-tbody > tr > td > .p-column-title {\n        display: block;\n    }\n}\n`)}destroyResponsiveStyle(){this.responsiveStyleElement&&(document.head.removeChild(this.responsiveStyleElement),this.responsiveStyleElement=null)}destroyStyleElement(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.unbindDocumentEditListener(),this.editingCell=null,this.initialized=null,this.virtualScrollSubscription&&this.virtualScrollSubscription.unsubscribe(),this.destroyStyleElement(),this.destroyResponsiveStyle()}}return A.\u0275fac=function(_){return new(_||A)(rn(_o),rn(Eo),rn(zT),rn(Gl),rn(Pk),rn(hT))},A.\u0275cmp=dr({type:A,selectors:[["p-table"]],contentQueries:function(_,C,I){if(1&_&&Q0(I,dv,4),2&_){let j;lo(j=co())&&(C.templates=j)}},viewQuery:function(_,C){if(1&_&&(zo(ZJ,5),zo(JJ,5),zo(XJ,5),zo(YJ,5),zo(qJ,5),zo(eX,5),zo(tX,5),zo(mA,5)),2&_){let I;lo(I=co())&&(C.containerViewChild=I.first),lo(I=co())&&(C.resizeHelperViewChild=I.first),lo(I=co())&&(C.reorderIndicatorUpViewChild=I.first),lo(I=co())&&(C.reorderIndicatorDownViewChild=I.first),lo(I=co())&&(C.wrapperViewChild=I.first),lo(I=co())&&(C.tableViewChild=I.first),lo(I=co())&&(C.tableHeaderViewChild=I.first),lo(I=co())&&(C.virtualScrollBody=I.first)}},hostAttrs:[1,"p-element"],inputs:{frozenColumns:"frozenColumns",frozenValue:"frozenValue",style:"style",styleClass:"styleClass",tableStyle:"tableStyle",tableStyleClass:"tableStyleClass",paginator:"paginator",pageLinks:"pageLinks",rowsPerPageOptions:"rowsPerPageOptions",alwaysShowPaginator:"alwaysShowPaginator",paginatorPosition:"paginatorPosition",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",paginatorDropdownScrollHeight:"paginatorDropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showJumpToPageDropdown:"showJumpToPageDropdown",showJumpToPageInput:"showJumpToPageInput",showFirstLastIcon:"showFirstLastIcon",showPageLinks:"showPageLinks",defaultSortOrder:"defaultSortOrder",sortMode:"sortMode",resetPageOnSort:"resetPageOnSort",selectionMode:"selectionMode",contextMenuSelection:"contextMenuSelection",contextMenuSelectionMode:"contextMenuSelectionMode",dataKey:"dataKey",metaKeySelection:"metaKeySelection",rowTrackBy:"rowTrackBy",lazy:"lazy",lazyLoadOnInit:"lazyLoadOnInit",compareSelectionBy:"compareSelectionBy",csvSeparator:"csvSeparator",exportFilename:"exportFilename",filters:"filters",globalFilterFields:"globalFilterFields",filterDelay:"filterDelay",filterLocale:"filterLocale",expandedRowKeys:"expandedRowKeys",editingRowKeys:"editingRowKeys",rowExpandMode:"rowExpandMode",scrollable:"scrollable",scrollDirection:"scrollDirection",rowGroupMode:"rowGroupMode",scrollHeight:"scrollHeight",virtualScroll:"virtualScroll",virtualScrollDelay:"virtualScrollDelay",virtualRowHeight:"virtualRowHeight",frozenWidth:"frozenWidth",responsive:"responsive",contextMenu:"contextMenu",resizableColumns:"resizableColumns",columnResizeMode:"columnResizeMode",reorderableColumns:"reorderableColumns",loading:"loading",loadingIcon:"loadingIcon",showLoader:"showLoader",rowHover:"rowHover",customSort:"customSort",showInitialSortBadge:"showInitialSortBadge",autoLayout:"autoLayout",exportFunction:"exportFunction",stateKey:"stateKey",stateStorage:"stateStorage",editMode:"editMode",groupRowsBy:"groupRowsBy",groupRowsByOrder:"groupRowsByOrder",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx",responsiveLayout:"responsiveLayout",breakpoint:"breakpoint",value:"value",columns:"columns",first:"first",rows:"rows",totalRecords:"totalRecords",sortField:"sortField",sortOrder:"sortOrder",multiSortMeta:"multiSortMeta",selection:"selection"},outputs:{selectionChange:"selectionChange",contextMenuSelectionChange:"contextMenuSelectionChange",onRowSelect:"onRowSelect",onRowUnselect:"onRowUnselect",onPage:"onPage",onSort:"onSort",onFilter:"onFilter",onLazyLoad:"onLazyLoad",onRowExpand:"onRowExpand",onRowCollapse:"onRowCollapse",onContextMenuSelect:"onContextMenuSelect",onColResize:"onColResize",onColReorder:"onColReorder",onRowReorder:"onRowReorder",onEditInit:"onEditInit",onEditComplete:"onEditComplete",onEditCancel:"onEditCancel",onHeaderCheckboxToggle:"onHeaderCheckboxToggle",sortFunction:"sortFunction",firstChange:"firstChange",rowsChange:"rowsChange",onStateSave:"onStateSave",onStateRestore:"onStateRestore"},features:[Vs([zT]),go],decls:14,vars:33,consts:[[3,"ngStyle","ngClass"],["container",""],["class","p-datatable-loading-overlay p-component-overlay",4,"ngIf"],["class","p-datatable-header",4,"ngIf"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange",4,"ngIf"],[1,"p-datatable-wrapper",3,"ngStyle"],["wrapper",""],["role","table","class","p-datatable-table",3,"ngClass","ngStyle",4,"ngIf"],["tabindex","0","class","p-datatable-virtual-scrollable-body",3,"itemSize","height","minBufferPx","maxBufferPx","scrolledIndexChange",4,"ngIf"],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange",4,"ngIf"],["class","p-datatable-footer",4,"ngIf"],["class","p-column-resizer-helper","style","display:none",4,"ngIf"],["class","pi pi-arrow-down p-datatable-reorder-indicator-up","style","display:none",4,"ngIf"],["class","pi pi-arrow-up p-datatable-reorder-indicator-down","style","display:none",4,"ngIf"],[1,"p-datatable-loading-overlay","p-component-overlay"],[1,"p-datatable-header"],[4,"ngTemplateOutlet"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange"],["role","table",1,"p-datatable-table",3,"ngClass","ngStyle"],["table",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-datatable-thead"],["class","p-datatable-tbody p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen",4,"ngIf"],[1,"p-datatable-tbody",3,"value","pTableBody","pTableBodyTemplate"],["class","p-datatable-tfoot",4,"ngIf"],[1,"p-datatable-tbody","p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen"],[1,"p-datatable-tfoot"],["tabindex","0",1,"p-datatable-virtual-scrollable-body",3,"itemSize","minBufferPx","maxBufferPx","scrolledIndexChange"],["tableHeader",""],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange"],[1,"p-datatable-footer"],[1,"p-column-resizer-helper",2,"display","none"],["resizeHelper",""],[1,"pi","pi-arrow-down","p-datatable-reorder-indicator-up",2,"display","none"],["reorderIndicatorUp",""],[1,"pi","pi-arrow-up","p-datatable-reorder-indicator-down",2,"display","none"],["reorderIndicatorDown",""]],template:function(_,C){1&_&&(pt(0,"div",0,1),Pi(2,iX,2,2,"div",2),Pi(3,rX,2,1,"div",3),Pi(4,sX,1,17,"p-paginator",4),pt(5,"div",5,6),Pi(7,hX,8,16,"table",7),Pi(8,yX,10,21,"cdk-virtual-scroll-viewport",8),ft(),Pi(9,vX,1,17,"p-paginator",9),Pi(10,bX,2,1,"div",10),Pi(11,AX,2,0,"div",11),Pi(12,wX,2,0,"span",12),Pi(13,CX,2,0,"span",13),ft()),2&_&&(vo(C.styleClass),It("ngStyle",C.style)("ngClass",Q5(16,xX,[C.rowHover||C.selectionMode,C.autoLayout,C.resizableColumns,C.resizableColumns&&"fit"===C.columnResizeMode,C.scrollable,C.scrollable&&"vertical"===C.scrollDirection,C.scrollable&&"horizontal"===C.scrollDirection,C.scrollable&&"both"===C.scrollDirection,C.scrollable&&"flex"===C.scrollHeight,"stack"===C.responsiveLayout,"scroll"===C.responsiveLayout,C.responsive,null!=C.headerGroupedTemplate,null!=C.footerGroupedTemplate])),Is("id",C.id),vt(2),It("ngIf",C.loading&&C.showLoader),vt(1),It("ngIf",C.captionTemplate),vt(1),It("ngIf",C.paginator&&("top"===C.paginatorPosition||"both"==C.paginatorPosition)),vt(1),It("ngStyle",Or(31,EX,C.scrollHeight)),vt(2),It("ngIf",!C.virtualScroll),vt(1),It("ngIf",C.virtualScroll),vt(1),It("ngIf",C.paginator&&("bottom"===C.paginatorPosition||"both"==C.paginatorPosition)),vt(1),It("ngIf",C.summaryTemplate),vt(1),It("ngIf",C.resizableColumns),vt(1),It("ngIf",C.reorderableColumns),vt(1),It("ngIf",C.reorderableColumns))},directives:function(){return[RZ,IY,mA,el,eo,to,Cf,vk]},styles:[".p-datatable{position:relative}.p-datatable table{border-collapse:collapse;min-width:100%;table-layout:fixed}.p-datatable .p-sortable-column{cursor:pointer;-webkit-user-select:none;-ms-user-select:none;user-select:none}.p-datatable .p-sortable-column .p-column-title,.p-datatable .p-sortable-column .p-sortable-column-badge,.p-datatable .p-sortable-column .p-sortable-column-icon{vertical-align:middle}.p-datatable .p-sortable-column .p-sortable-column-badge{display:inline-flex;align-items:center;justify-content:center}.p-datatable-auto-layout>.p-datatable-wrapper{overflow-x:auto}.p-datatable-auto-layout>.p-datatable-wrapper>table{table-layout:auto}.p-datatable-responsive-scroll>.p-datatable-wrapper{overflow-x:auto}.p-datatable-auto-layout>.p-datatable-wrapper>table,.p-datatable-responsive-scroll>.p-datatable-wrapper>table{table-layout:auto}.p-datatable-hoverable-rows .p-selectable-row{cursor:pointer}.p-datatable-scrollable .p-datatable-wrapper{position:relative;overflow:auto}.p-datatable-scrollable .p-datatable-tbody,.p-datatable-scrollable .p-datatable-tfoot,.p-datatable-scrollable .p-datatable-thead{display:block}.p-datatable-scrollable .p-datatable-tbody>tr,.p-datatable-scrollable .p-datatable-tfoot>tr,.p-datatable-scrollable .p-datatable-thead>tr{display:flex;flex-wrap:nowrap;width:100%}.p-datatable-scrollable .p-datatable-tbody>tr>td,.p-datatable-scrollable .p-datatable-tfoot>tr>td,.p-datatable-scrollable .p-datatable-thead>tr>th{display:flex;flex:1 1 0;align-items:center}.p-datatable-scrollable .p-datatable-thead{position:sticky;top:0;z-index:1}.p-datatable-scrollable .p-datatable-frozen-tbody{position:sticky;z-index:1}.p-datatable-scrollable .p-datatable-tfoot{position:sticky;bottom:0;z-index:1}.p-datatable-scrollable .p-frozen-column{position:sticky;background:inherit}.p-datatable-scrollable th.p-frozen-column{z-index:1}.p-datatable-scrollable-both .p-datatable-tbody>tr>td,.p-datatable-scrollable-both .p-datatable-tfoot>tr>td,.p-datatable-scrollable-both .p-datatable-thead>tr>th,.p-datatable-scrollable-horizontal .p-datatable-tfoot>tr>td,.p-datatable-scrollable-horizontal .p-datatable-thead>tr>th\n.p-datatable-scrollable-horizontal .p-datatable-tbody>tr>td{flex:0 0 auto}.p-datatable-flex-scrollable .p-datatable-wrapper{display:flex;flex-direction:column;flex:1;height:100%}.p-datatable-scrollable .p-rowgroup-header{position:sticky;z-index:1}.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot,.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead{display:table;border-collapse:collapse;width:100%;table-layout:fixed}.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot>tr,.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead>tr{display:table-row}.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot>tr>td,.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead>tr>th{display:table-cell}.p-datatable-flex-scrollable{display:flex;flex-direction:column;flex:1;height:100%}.p-datatable-flex-scrollable .p-datatable-virtual-scrollable-body{flex:1}.p-datatable-resizable>.p-datatable-wrapper{overflow-x:auto}.p-datatable-resizable .p-datatable-tbody>tr>td,.p-datatable-resizable .p-datatable-tfoot>tr>td,.p-datatable-resizable .p-datatable-thead>tr>th{overflow:hidden;white-space:nowrap}.p-datatable-resizable .p-resizable-column{background-clip:padding-box;position:relative}.p-datatable-resizable-fit .p-resizable-column:last-child .p-column-resizer{display:none}.p-datatable .p-column-resizer{display:block;position:absolute!important;top:0;right:0;margin:0;width:.5rem;height:100%;padding:0;cursor:col-resize;border:1px solid transparent}.p-datatable .p-column-resizer-helper{width:1px;position:absolute;z-index:10;display:none}.p-datatable .p-row-editor-cancel,.p-datatable .p-row-editor-init,.p-datatable .p-row-editor-save,.p-datatable .p-row-toggler{display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-datatable-reorder-indicator-down,.p-datatable-reorder-indicator-up{position:absolute;display:none}.p-datatable-reorderablerow-handle,[pReorderableColumn]{cursor:move}.p-datatable .p-datatable-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}.p-column-filter-row{display:flex;align-items:center;width:100%}.p-column-filter-menu{display:inline-flex}.p-column-filter-row p-columnfilterformelement{flex:1 1 auto;width:1%}.p-column-filter-clear-button,.p-column-filter-menu-button{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}.p-column-filter-overlay{position:absolute;top:0;left:0}.p-column-filter-row-items{margin:0;padding:0;list-style:none}.p-column-filter-row-item{cursor:pointer}.p-column-filter-add-button,.p-column-filter-remove-button{justify-content:center}.p-column-filter-add-button .p-button-label,.p-column-filter-remove-button .p-button-label{flex-grow:0}.p-column-filter-buttonbar{display:flex;align-items:center;justify-content:space-between}.p-column-filter-buttonbar .p-button{width:auto}.p-datatable .p-datatable-tbody>tr>td>.p-column-title{display:none}cdk-virtual-scroll-viewport{outline:0 none}"],encapsulation:2}),A})(),IY=(()=>{class A{constructor(_,C,I,j){this.dt=_,this.tableService=C,this.cd=I,this.el=j,this.subscription=this.dt.tableService.valueSource$.subscribe(()=>{this.dt.virtualScroll&&this.cd.detectChanges()})}get value(){return this._value}set value(_){this._value=_,this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}ngAfterViewInit(){this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}shouldRenderRowGroupHeader(_,C,I){let j=Jr.resolveFieldData(C,this.dt.groupRowsBy),K=_[I-1];return!K||j!==Jr.resolveFieldData(K,this.dt.groupRowsBy)}shouldRenderRowGroupFooter(_,C,I){let j=Jr.resolveFieldData(C,this.dt.groupRowsBy),K=_[I+1];return!K||j!==Jr.resolveFieldData(K,this.dt.groupRowsBy)}shouldRenderRowspan(_,C,I){let j=Jr.resolveFieldData(C,this.dt.groupRowsBy),K=_[I-1];return!K||j!==Jr.resolveFieldData(K,this.dt.groupRowsBy)}calculateRowGroupSize(_,C,I){let j=Jr.resolveFieldData(C,this.dt.groupRowsBy),K=j,q=0;for(;j===K;){q++;let ue=_[++I];if(!ue)break;K=Jr.resolveFieldData(ue,this.dt.groupRowsBy)}return 1===q?null:q}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}updateFrozenRowStickyPosition(){this.el.nativeElement.style.top=Nn.getOuterHeight(this.el.nativeElement.previousElementSibling)+"px"}updateFrozenRowGroupHeaderStickyPosition(){if(this.el.nativeElement.previousElementSibling){let _=Nn.getOuterHeight(this.el.nativeElement.previousElementSibling);this.dt.rowGroupHeaderStyleObject.top=_+"px"}}}return A.\u0275fac=function(_){return new(_||A)(rn(YL),rn(zT),rn(Gl),rn(_o))},A.\u0275cmp=dr({type:A,selectors:[["","pTableBody",""]],hostAttrs:[1,"p-element"],inputs:{columns:["pTableBody","columns"],template:["pTableBodyTemplate","template"],value:"value",frozen:"frozen",frozenRows:"frozenRows"},attrs:DX,decls:6,vars:6,consts:[[4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],["role","row",4,"ngIf"],["role","row"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["cdkVirtualFor","",3,"cdkVirtualForOf","cdkVirtualForTrackBy","cdkVirtualForTemplateCacheSize"]],template:function(_,C){1&_&&(Pi(0,FX,2,2,"ng-container",0),Pi(1,jX,2,3,"ng-container",0),Pi(2,JX,2,2,"ng-container",0),Pi(3,tY,2,2,"ng-container",0),Pi(4,nY,2,5,"ng-container",0),Pi(5,sY,2,5,"ng-container",0)),2&_&&(It("ngIf",!C.dt.expandedRowTemplate&&!C.dt.virtualScroll),vt(1),It("ngIf",!C.dt.expandedRowTemplate&&C.dt.virtualScroll),vt(1),It("ngIf",C.dt.expandedRowTemplate&&!(C.frozen&&C.dt.frozenExpandedRowTemplate)),vt(1),It("ngIf",C.dt.frozenExpandedRowTemplate&&C.frozen),vt(1),It("ngIf",C.dt.loading),vt(1),It("ngIf",C.dt.isEmpty()&&!C.dt.loading))},directives:[to,uc,Cf,wk],encapsulation:2}),A})(),OY=(()=>{class A{}return A.\u0275fac=function(_){return new(_||A)},A.\u0275mod=Rr({type:A}),A.\u0275inj=Bi({imports:[[pl,FZ,jT,YC,UC,XC,qC,GZ,$J,HT,eJ],_m,UC]}),A})();const PY=["cb"],kY=function(A,w,_){return{"p-checkbox-label":!0,"p-checkbox-label-active":A,"p-disabled":w,"p-checkbox-label-focus":_}};function LY(A,w){if(1&A){const _=tr();pt(0,"label",7),An("click",function(I){zi(_);const j=Wt(),K=To(3);return j.onClick(I,K,!0)}),tn(1),ft()}if(2&A){const _=Wt();vo(_.labelStyleClass),It("ngClass",cc(5,kY,_.checked(),_.disabled,_.focused)),Is("for",_.inputId),vt(1),Rn(_.label)}}const BY=function(A,w,_){return{"p-checkbox p-component":!0,"p-checkbox-checked":A,"p-checkbox-disabled":w,"p-checkbox-focused":_}},RY=function(A,w,_){return{"p-highlight":A,"p-disabled":w,"p-focus":_}},FY={provide:Fl,useExisting:Ht(()=>WT),multi:!0};let WT=(()=>{class A{constructor(_){this.cd=_,this.checkboxIcon="pi pi-check",this.trueValue=!0,this.falseValue=!1,this.onChange=new er,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.focused=!1}onClick(_,C,I){_.preventDefault(),!this.disabled&&!this.readonly&&(this.updateModel(_),I&&C.focus())}updateModel(_){let C;this.binary?(C=this.checked()?this.falseValue:this.trueValue,this.model=C,this.onModelChange(C)):(C=this.checked()?this.model.filter(I=>!Jr.equals(I,this.value)):this.model?[...this.model,this.value]:[this.value],this.onModelChange(C),this.model=C,this.formControl&&this.formControl.setValue(C)),this.onChange.emit({checked:C,originalEvent:_})}handleChange(_){this.readonly||this.updateModel(_)}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}focus(){this.inputViewChild.nativeElement.focus()}writeValue(_){this.model=_,this.cd.markForCheck()}registerOnChange(_){this.onModelChange=_}registerOnTouched(_){this.onModelTouched=_}setDisabledState(_){this.disabled=_,this.cd.markForCheck()}checked(){return this.binary?this.model===this.trueValue:Jr.contains(this.value,this.model)}}return A.\u0275fac=function(_){return new(_||A)(rn(Gl))},A.\u0275cmp=dr({type:A,selectors:[["p-checkbox"]],viewQuery:function(_,C){if(1&_&&zo(PY,5),2&_){let I;lo(I=co())&&(C.inputViewChild=I.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",name:"name",disabled:"disabled",binary:"binary",label:"label",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:"readonly",required:"required",trueValue:"trueValue",falseValue:"falseValue"},outputs:{onChange:"onChange"},features:[Vs([FY])],decls:7,vars:26,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox",3,"readonly","value","checked","disabled","focus","blur","change"],["cb",""],[1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],[3,"class","ngClass","click",4,"ngIf"],[3,"ngClass","click"]],template:function(_,C){if(1&_){const I=tr();pt(0,"div",0),pt(1,"div",1),pt(2,"input",2,3),An("focus",function(){return C.onFocus()})("blur",function(){return C.onBlur()})("change",function(K){return C.handleChange(K)}),ft(),ft(),pt(4,"div",4),An("click",function(K){zi(I);const q=To(3);return C.onClick(K,q,!0)}),Bn(5,"span",5),ft(),ft(),Pi(6,LY,2,9,"label",6)}2&_&&(vo(C.styleClass),It("ngStyle",C.style)("ngClass",cc(18,BY,C.checked(),C.disabled,C.focused)),vt(2),It("readonly",C.readonly)("value",C.value)("checked",C.checked())("disabled",C.disabled),Is("id",C.inputId)("name",C.name)("tabindex",C.tabindex)("aria-labelledby",C.ariaLabelledBy)("aria-label",C.ariaLabel)("aria-checked",C.checked())("required",C.required),vt(2),It("ngClass",cc(22,RY,C.checked(),C.disabled,C.focused)),vt(1),It("ngClass",C.checked()?C.checkboxIcon:null),vt(1),It("ngIf",C.label))},directives:[el,eo,to],styles:[".p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;-ms-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}"],encapsulation:2,changeDetection:0}),A})(),NY=(()=>{class A{}return A.\u0275fac=function(_){return new(_||A)},A.\u0275mod=Rr({type:A}),A.\u0275inj=Bi({imports:[[pl]]}),A})();function UY(A,w){1&A&&(pt(0,"span",19),tn(1),sn(2,"translate"),ft()),2&A&&(vt(1),Rn(on(2,1,"filesOfInterest")))}function jY(A,w){if(1&A){const _=tr();pt(0,"div",20),pt(1,"p-radioButton",21),An("onClick",function(){return zi(_),Wt(2).changeFilesOfInterest()})("ngModelChange",function(I){return zi(_),Wt(2).filesOfInterest=I}),ft(),pt(2,"label",22),tn(3),sn(4,"translate"),ft(),ft()}if(2&A){const _=Wt(2);vt(1),It("ngModel",_.filesOfInterest)("disabled",!_.selection&&null!==_.filesOfInterest),vt(2),Kr(" ",on(4,3,"filesOfInterest.BRODOCUMENT")," ")}}function HY(A,w){if(1&A){const _=tr();pt(0,"div",20),pt(1,"p-radioButton",23),An("onClick",function(){return zi(_),Wt(2).changeFilesOfInterest()})("ngModelChange",function(I){return zi(_),Wt(2).filesOfInterest=I}),ft(),pt(2,"label",24),tn(3),sn(4,"translate"),ft(),ft()}if(2&A){const _=Wt(2);vt(1),It("ngModel",_.filesOfInterest)("disabled",!_.selection&&null!==_.filesOfInterest),vt(2),Kr(" ",on(4,3,"filesOfInterest.ARC")," ")}}function VY(A,w){if(1&A){const _=tr();pt(0,"div",20),pt(1,"p-radioButton",25),An("onClick",function(){return zi(_),Wt(2).changeFilesOfInterest()})("ngModelChange",function(I){return zi(_),Wt(2).filesOfInterest=I}),ft(),pt(2,"label",26),tn(3),sn(4,"translate"),ft(),ft()}if(2&A){const _=Wt(2);vt(1),It("ngModel",_.filesOfInterest)("disabled",!_.selection&&null!==_.filesOfInterest),vt(2),Kr(" ",on(4,3,"filesOfInterest.ZMAP")," ")}}function zY(A,w){if(1&A){const _=tr();pt(0,"div",20),pt(1,"p-radioButton",27),An("onClick",function(){return zi(_),Wt(2).changeFilesOfInterest()})("ngModelChange",function(I){return zi(_),Wt(2).filesOfInterest=I}),ft(),pt(2,"label",28),tn(3),sn(4,"translate"),ft(),ft()}if(2&A){const _=Wt(2);vt(1),It("ngModel",_.filesOfInterest)("disabled",!_.selection&&null!==_.filesOfInterest),vt(2),Kr(" ",on(4,3,"filesOfInterest.BROSUBSURFACE")," ")}}function WY(A,w){if(1&A){const _=tr();pt(0,"div",20),pt(1,"p-radioButton",29),An("onClick",function(){return zi(_),Wt(2).changeFilesOfInterest()})("ngModelChange",function(I){return zi(_),Wt(2).filesOfInterest=I}),ft(),pt(2,"label",30),tn(3),sn(4,"translate"),ft(),ft()}if(2&A){const _=Wt(2);vt(1),It("ngModel",_.filesOfInterest)("disabled",!_.selection&&null!==_.filesOfInterest),vt(2),Kr(" ",on(4,3,"filesOfInterest.SSV")," ")}}function KY(A,w){1&A&&(pt(0,"label",33),tn(1),sn(2,"translate"),ft()),2&A&&(vt(1),Kr(" ",on(2,1,"filesOfInterest.BRODOCUMENT")," "))}function QY(A,w){1&A&&(pt(0,"label",33),tn(1),sn(2,"translate"),ft()),2&A&&(vt(1),Kr(" ",on(2,1,"filesOfInterest.GEOKDOCUMENT")," "))}function GY(A,w){if(1&A){const _=tr();pt(0,"div",20),pt(1,"p-radioButton",31),An("onClick",function(){return zi(_),Wt(2).changeFilesOfInterest()})("ngModelChange",function(I){return zi(_),Wt(2).filesOfInterest=I}),ft(),Pi(2,KY,3,3,"label",32),Pi(3,QY,3,3,"label",32),ft()}if(2&A){const _=Wt(2);vt(1),It("ngModel",_.filesOfInterest)("disabled",!_.selection&&null!==_.filesOfInterest),vt(1),It("ngIf","GEOK"!==_.mapService.activeDatatype),vt(1),It("ngIf","GEOK"===_.mapService.activeDatatype)}}function $Y(A,w){if(1&A&&(pt(0,"div",5),pt(1,"div",34),pt(2,"h5",12),tn(3),sn(4,"translate"),sn(5,"translate"),ft(),ft(),pt(6,"div",35),pt(7,"strong",36),tn(8),sn(9,"translate"),ft(),ft(),ft()),2&A){const _=Wt(2);vt(3),Kr("",on(4,4,_.mapService.getDataType().toLowerCase()+"Name")+" "+on(5,6,_.mapService.getDataType().toLowerCase()+"Version")," "),vt(5),py("",_.totalFiles," ",on(9,8,"orderTotalFilesStep5_2")," (",(_.totalFileSize/1048576).toFixed(2)," MB)")}}function ZY(A,w){if(1&A){const _=tr();pt(0,"th",44),pt(1,"p-checkbox",45),An("onChange",function(){return zi(_),Wt(4).changeAll()})("ngModelChange",function(I){return zi(_),Wt(4).isAllSelected=I}),sn(2,"translate"),ft(),ft()}if(2&A){const _=Wt(4);vt(1),It("ngModel",_.isAllSelected)("title",on(2,2,"selection_results.download"))}}function JY(A,w){1&A&&(pt(0,"th"),tn(1),sn(2,"translate"),ft()),2&A&&(vt(1),Rn(on(2,1,"fileListAreaDescription")))}function XY(A,w){1&A&&(pt(0,"th"),tn(1),sn(2,"translate"),ft()),2&A&&(vt(1),Rn(on(2,1,"fileListAreaCode")))}function YY(A,w){if(1&A&&(pt(0,"tr"),Pi(1,ZY,3,4,"th",42),pt(2,"th"),tn(3),sn(4,"translate"),ft(),Pi(5,JY,3,3,"th",43),pt(6,"th"),tn(7),sn(8,"translate"),ft(),pt(9,"th"),tn(10),sn(11,"translate"),ft(),pt(12,"th"),tn(13),sn(14,"translate"),ft(),Pi(15,XY,3,3,"th",43),ft()),2&A){const _=Wt(3);vt(1),It("ngIf",_.hasSelectbox),vt(2),Rn(on(4,7,"fileListFileName")),vt(2),It("ngIf",!_.hideCols),vt(2),Rn(on(8,9,"fileListShortDescription")),vt(3),Rn(on(11,11,"fileListFileType")),vt(3),Rn(on(14,13,"fileListAreaKind")),vt(2),It("ngIf",!_.hideCols)}}function qY(A,w){if(1&A){const _=tr();pt(0,"td",44),pt(1,"p-checkbox",46),An("onChange",function(){return zi(_),Wt(4).updateAllValues()})("ngModelChange",function(I){zi(_);const j=Wt().$implicit;return Wt(3).checkFiles[j.alfrescoId]=I}),ft(),ft()}if(2&A){const _=Wt().$implicit,C=Wt(3);vt(1),It("ngModel",C.checkFiles[_.alfrescoId])}}function eq(A,w){if(1&A&&(pt(0,"td"),tn(1),ft()),2&A){const _=Wt().$implicit;vt(1),Rn(_.areaDescription)}}function tq(A,w){if(1&A&&(pt(0,"td"),tn(1),ft()),2&A){const _=Wt().$implicit;vt(1),Rn(_.areaCode)}}function iq(A,w){if(1&A&&(pt(0,"tr"),Pi(1,qY,2,1,"td",42),pt(2,"td"),tn(3),ft(),Pi(4,eq,2,1,"td",43),pt(5,"td"),tn(6),ft(),pt(7,"td"),tn(8),ft(),pt(9,"td"),tn(10),ft(),Pi(11,tq,2,1,"td",43),ft()),2&A){const _=w.$implicit,C=Wt(3);vt(1),It("ngIf",C.hasSelectbox),vt(2),Rn(_.fileName),vt(1),It("ngIf",!C.hideCols),vt(2),Rn(_.shortDescription),vt(2),Rn(_.fileType),vt(2),Rn(_.areaKind),vt(1),It("ngIf",!C.hideCols)}}const nq=function(A){return{"max-height":A}};function rq(A,w){if(1&A&&(pt(0,"div",37),pt(1,"div",38),pt(2,"p-table",39),Pi(3,YY,16,15,"ng-template",40),Pi(4,iq,12,7,"ng-template",41),ft(),ft(),ft()),2&A){const _=Wt(2);vt(1),It("ngStyle",Or(5,nq,.65*_.mapService.mapView.height+"px")),vt(1),It("autoLayout",!0)("paginator",!0)("rows",12)("value",_.selection.files)}}const sq=function(A){return{bro:A}};function oq(A,w){if(1&A){const _=tr();pt(0,"div",1),pt(1,"div",2,3),pt(3,"div",4),pt(4,"div",5),pt(5,"div",6),pt(6,"h2",7),tn(7),sn(8,"translate"),ft(),ft(),pt(9,"div",8),pt(10,"span",9),An("click",function(){return zi(_),Wt().closePopup()}),Bn(11,"img",10),sn(12,"translate"),ft(),ft(),ft(),pt(13,"div",5),pt(14,"div",11),pt(15,"h5",12),tn(16),sn(17,"translate"),ft(),ft(),ft(),pt(18,"div",13),Pi(19,UY,3,3,"span",14),Pi(20,jY,5,5,"div",15),Pi(21,HY,5,5,"div",15),Pi(22,VY,5,5,"div",15),Pi(23,zY,5,5,"div",15),Pi(24,WY,5,5,"div",15),Pi(25,GY,4,4,"div",15),Bn(26,"br"),Pi(27,$Y,10,10,"div",16),Pi(28,rq,5,7,"div",17),ft(),Bn(29,"br"),pt(30,"input",18),An("click",function(){return zi(_),Wt().orderFormOpen()}),sn(31,"translate"),sn(32,"translate"),ft(),ft(),ft(),ft()}if(2&A){const _=Wt();vt(7),Rn(on(8,16,"orderOm")),vt(4),It("alt",on(12,18,"alt-text-close-button")),vt(5),Rn(on(17,20,"selectedObjectsHeader")),vt(3),It("ngIf",!_.mapService.checkIfSimpleModel()),vt(1),It("ngIf","DGM"===_.mapService.activeDatatype||"RGS"===_.mapService.activeDatatype||"GTP"===_.mapService.activeDatatype),vt(1),It("ngIf","GMD"===_.mapService.activeDatatype||"GMD5"===_.mapService.activeDatatype),vt(1),It("ngIf","GMD"===_.mapService.activeDatatype||"GMD5"===_.mapService.activeDatatype),vt(1),It("ngIf","DGM"===_.mapService.activeDatatype||"RGS"===_.mapService.activeDatatype||"GTP"===_.mapService.activeDatatype),vt(1),It("ngIf","GMD"===_.mapService.activeDatatype||"GMD5"===_.mapService.activeDatatype),vt(1),It("ngIf",_.mapService.checkIfSimpleModel()),vt(2),It("ngIf",_.selection),vt(1),It("ngIf",_.selection),vt(2),It("disabled",!_.selection||_.disableButton)("ngClass",Or(26,sq,_.configurationService.broOnly))("value",on(32,24,"gotoOrder")),Is("title",_.selection?null:on(31,22,"gotoOrder.mouseOver"))}}let aq=(()=>{class A{constructor(_,C,I,j){this.orderService=_,this.mapService=C,this.configurationService=I,this.translateService=j,this.ORDER_OVERVIEW_STATE=Jn.ORDER_OVERVIEW_STATE,this.hideCols=!1,this.hasSelectbox=!1,this.checkFiles=[]}ngOnInit(){this.selection=null,this.orderService.selection=null,this.totalFileSize=0,this.filesOfInterest=null,this.mapService.mapStateSubject.subscribe(_=>{_===Jn.ORDER_OVERVIEW_STATE&&(this.selection=null,this.mapService.checkIfSimpleModel()&&(this.filesOfInterest="MD",this.changeFilesOfInterest()))})}closePopup(){this.selection=null,this.filesOfInterest=null,this.totalFileSize=0,this.mapService.changeMapState(Jn.MAP_STATE),this.orderService.orderState=Jn.ORDER_NO_ORDER_STATE,this.orderService.selection=null}changeFilesOfInterest(){this.selection=null;const _=new iZ;if(_.dataType=this.mapService.activeDatatype,_.filesOfInterest=this.filesOfInterest,_.language=this.translateService.currentLang,this.totalFileSize=0,this.totalFiles=0,this.hideCols=this.doHideCols(this.filesOfInterest),this.isNationWide(this.filesOfInterest))this.orderService.fileOverview(_).subscribe(C=>{this.getSelectionFiles(_)});else{const C=new Ug.Z;C.spatialRelationship="intersects",C.where="  type_cd = '"+this.filesOfInterest+"'",C.outFields=["*"],C.returnGeometry=!0,new Fb.Z({url:this.configurationService.settings.areasArcGisServerURL}).execute(C).then(j=>{j.features.length>0&&(_.files=[],j.features.forEach(K=>_.files.push(K.attributes.UNIT_NM)),this.getSelectionFiles(_))})}}changeAll(){for(const _ in this.checkFiles)this.checkFiles.hasOwnProperty(_)&&(this.checkFiles[_]=this.isAllSelected);this.updateAllValues()}checkAllTrue(_){for(const C in _)if(!1===_[C])return!1;return!0}isNationWide(_){return"MD"===_||"ARC"===_||"ZMAP"===_||"SSV"===_||"BRO_LANDELIJK"===_}orderFormOpen(){this.orderService.selection=[];for(const _ in this.checkFiles)this.checkFiles[_]&&this.orderService.selection.push(_);this.orderService.orderState=Jn.ORDER_CONTACT_FORM_STATE,this.filesOfInterest=null}updateAllValues(){this.isAllSelected=this.checkAllTrue(this.checkFiles),this.updateFilesize(),this.disableButton=!this.checkforTrue(this.checkFiles)}updateFilesize(){this.totalFileSize=0,this.totalFiles=0;for(const _ of this.selection.files)this.checkFiles[_.alfrescoId]&&(this.totalFileSize=this.totalFileSize+_.fileSize,this.totalFiles++)}checkforTrue(_){for(const C in _)if(!0===_[C])return!0;return!1}doHideCols(_){return"BRO_LANDELIJK"===_||"ZMAP"===_||"ARC"===_||"MD"===_}getSelectionFiles(_){this.orderService.fileOverview(_).subscribe(C=>{this.selection=C,this.checkFiles=[];for(const I of this.selection.files)this.checkFiles[I.alfrescoId]=!I.areaKind.match("^Kaartblad");this.updateAllValues(),this.hasSelectbox=!0})}}return A.\u0275fac=function(_){return new(_||A)(rn(qb),rn(qo),rn(fo),rn(Ll))},A.\u0275cmp=dr({type:A,selectors:[["dinoloket-selectionresult-generic"]],decls:1,vars:1,consts:[["class","modal","id","selectionResults",4,"ngIf"],["id","selectionResults",1,"modal"],[1,"modal-dialog"],["modalDialog",""],[1,"modal-content","main-content"],[1,"row"],[1,"col-sm-10"],[1,"header"],[1,"col-sm-2"],["data-html2canvas-ignore","true",1,"pull-right","mousepointer",3,"click"],["id","closeWindowImage","src","images/close_button.png",3,"alt"],[1,"col-sm-12"],[1,"green","detaillist-header"],[1,"scroll-bar-container"],["class","interesting-files",4,"ngIf"],["class","p-field-radiobutton",4,"ngIf"],["class","row",4,"ngIf"],["class","row result-table",4,"ngIf"],["id","goto-order","type","button",1,"btn","btn-default","btn-sm","bottom","left","green-button","button-size",3,"disabled","ngClass","value","click"],[1,"interesting-files"],[1,"p-field-radiobutton"],["id","MD","inputId","MD","name","filesOfInterest","value","BRO_LANDELIJK",3,"ngModel","disabled","onClick","ngModelChange"],["for","MD",1,"files-of-interest-label"],["inputId","ARC","id","ARC","name","filesOfInterest","value","ARC",3,"ngModel","disabled","onClick","ngModelChange"],["for","ARC",1,"files-of-interest-label"],["inputId","ZMAP","id","ZMAP","name","filesOfInterest","value","ZMAP",3,"ngModel","disabled","onClick","ngModelChange"],["for","ZMAP",1,"files-of-interest-label"],["inputId","K50","id","K50","name","filesOfInterest","value","K50",3,"ngModel","disabled","onClick","ngModelChange"],["for","K50",1,"files-of-interest-label"],["inputId","SSV","id","SSV","name","filesOfInterest","value","SSV",3,"ngModel","disabled","onClick","ngModelChange"],["for","SSV",1,"files-of-interest-label"],["inputId","MD_Simple","id","MD_Simple","name","filesOfInterest","value","MD",3,"ngModel","disabled","onClick","ngModelChange"],["class","files-of-interest-label","for","MD_Simple",4,"ngIf"],["for","MD_Simple",1,"files-of-interest-label"],[1,"col-sm-1","fix-width"],[1,"col-sm-11","fix-width"],[1,"filesize"],[1,"row","result-table"],[1,"col-sm-12",3,"ngStyle"],[3,"autoLayout","paginator","rows","value"],["pTemplate","header"],["pTemplate","body"],["class","checkbox-width",4,"ngIf"],[4,"ngIf"],[1,"checkbox-width"],["binary","true","ngDefaultControl","",3,"ngModel","title","onChange","ngModelChange"],["binary","true","ngDefaultControl","",3,"ngModel","onChange","ngModelChange"]],template:function(_,C){1&_&&Pi(0,oq,33,28,"div",0),2&_&&It("ngIf",C.orderService.orderState===C.ORDER_OVERVIEW_STATE)},directives:[to,UT,Qd,oh,el,YL,dv,WT,pv,eo],pipes:[Xs],styles:["#selectionResults[_ngcontent-%COMP%]{visibility:visible;display:inherit}@media screen and (min-width: 1300px){.modal-dialog[_ngcontent-%COMP%]{height:calc(100vh - 30px);width:70%;margin-bottom:15px;margin-top:15px}}@media screen and (max-width: 1300px){.modal-dialog[_ngcontent-%COMP%]{width:100%;height:100%;margin:0;padding:0}}.modal-content[_ngcontent-%COMP%]{height:auto;min-height:100%;border-radius:0;border:0}.filesize[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px;display:block}.files-of-interest[_ngcontent-%COMP%]{width:15px;margin-top:2px}.files-of-interest-label[_ngcontent-%COMP%]{font-weight:400}.overflow[_ngcontent-%COMP%]{overflow:auto}.result-table[_ngcontent-%COMP%]{padding-right:15px}.detaillist-header[_ngcontent-%COMP%]{font-weight:700}.bro.green-button[_ngcontent-%COMP%]{background-color:#007bc7}.green-button[_ngcontent-%COMP%]{background-color:#39870c;color:#fff}.bro.green-button[_ngcontent-%COMP%]:disabled{background-color:#007bc7}.green-button[_ngcontent-%COMP%]:disabled{cursor:auto;text-decoration:none;background-color:#39870c;color:#fff}.scroll-bar-container[_ngcontent-%COMP%]{overflow:auto;overflow-x:hidden;max-height:calc(100vh - 165px)}.interesting-files[_ngcontent-%COMP%]{font-weight:700}.fix-width[_ngcontent-%COMP%]{width:auto!important}"]}),A})();const lq=function(A,w,_){return{bro:A,"download-button-selected":w,"not-clickable":_}};let cq=(()=>{class A{constructor(_,C,I,j){this.mapService=_,this.orderService=C,this.errorService=I,this.configService=j,this.ORDER_OVERVIEW_STATE=Jn.ORDER_OVERVIEW_STATE}showDownloadScreen(){""!==this.mapService.getDataType()?(this.orderService.orderState=Jn.ORDER_OVERVIEW_STATE,this.mapService.changeMapState(Jn.ORDER_OVERVIEW_STATE)):this.errorService.message="selectModelFirst"}}return A.\u0275fac=function(_){return new(_||A)(rn(qo),rn(qb),rn(Ip),rn(fo))},A.\u0275cmp=dr({type:A,selectors:[["dinoloket-download-general"]],decls:5,vars:8,consts:[["id","download-button",1,"esri-widget--button","esri-widget","esri-interactive",3,"title","ngClass","click"],[1,"esri-icon-download"]],template:function(_,C){1&_&&(Bn(0,"dinoloket-selectionresult-generic"),pt(1,"div"),pt(2,"div",0),An("click",function(){return C.showDownloadScreen()}),sn(3,"translate"),Bn(4,"span",1),ft(),ft()),2&_&&(vt(2),It("title",on(3,2,"toolTipOrderObjects"))("ngClass",cc(4,lq,C.configService.broOnly,C.mapService.mapState===C.ORDER_OVERVIEW_STATE,"NZS"===C.mapService.activeDatatype&&"classifiedMap"!==C.mapService.activeNZSSubType)))},directives:[aq,eo],pipes:[Xs],styles:[".bro.download-button-selected[_ngcontent-%COMP%]{opacity:1;background-color:#007bc7;color:#fff}.download-button-selected[_ngcontent-%COMP%]{opacity:1;background-color:#39870c;color:#fff}"]}),A})();const uq=function(A,w,_){return{bro:A,"esri-draw-button-selected":w,"not-clickable":_}};let hq=(()=>{class A{constructor(_,C){this.mapService=_,this.configurationService=C,this.DRAW_RECTANGLE_STATE=Jn.DRAW_RECTANGLE_STATE,this.queryGeometry=new er,this.extentGraphic=null}ngOnInit(){this.mapService.mapStateSubject.subscribe(_=>{_===Jn.DRAW_RECTANGLE_STATE?this.activateDraw():this.resetRectSelectionResult()})}startDrawtool(){this.mapService.mapState!==Jn.DRAW_RECTANGLE_STATE?this.mapService.changeMapState(Jn.DRAW_RECTANGLE_STATE):this.mapService.mapState===Jn.DRAW_RECTANGLE_STATE&&this.mapService.changeMapState(Jn.MAP_STATE)}activateDraw(){this.mapService.mapState=this.DRAW_RECTANGLE_STATE,this.extentGraphic=null;let _=null;const C=this.mapService.mapView;this.dragListener=C.on("drag",I=>{if(I.stopPropagation(),"start"===I.action)this.extentGraphic&&C.graphics.remove(this.extentGraphic),_=C.toMap(I);else if("update"===I.action){this.extentGraphic&&C.graphics.remove(this.extentGraphic);const j=C.toMap(I),K=Jn.drawConfig.finishedSymbol;this.extentGraphic=new Fa.Z({geometry:new Iu.Z({xmin:Math.min(j.x,_.x),xmax:Math.max(j.x,_.x),ymin:Math.min(j.y,_.y),ymax:Math.max(j.y,_.y),spatialReference:{wkid:28992}}),symbol:K}),C.graphics.add(this.extentGraphic)}else"end"===I.action&&this.queryGeometry.emit(this.extentGraphic.geometry)})}resetRectSelectionResult(){this.clearPolygon(),null!=this.dragListener&&(this.dragListener.remove(),this.dragListener=null)}clearPolygon(){this.mapService.mapView.graphics.remove(this.extentGraphic)}}return A.\u0275fac=function(_){return new(_||A)(rn(qo),rn(fo))},A.\u0275cmp=dr({type:A,selectors:[["dinoloket-map-drawtool-rectangle"]],outputs:{queryGeometry:"queryGeometry"},decls:4,vars:8,consts:[["id","draw-rectangle-button",1,"esri-widget--button","esri-widget","esri-interactive",3,"ngClass","title","click"],[1,"esri-icon-checkbox-unchecked"]],template:function(_,C){1&_&&(pt(0,"div"),pt(1,"div",0),An("click",function(){return C.startDrawtool()}),sn(2,"translate"),Bn(3,"span",1),ft(),ft()),2&_&&(vt(1),It("ngClass",cc(4,uq,C.configurationService.broOnly,C.mapService.mapState===C.DRAW_RECTANGLE_STATE,"SGM2"!==C.mapService.activeDatatype))("title",on(2,2,"toolTipSelectObjectsByRectangle")))},directives:[eo],pipes:[Xs],styles:[".esri-draw-button-selected[_ngcontent-%COMP%]{opacity:1;background-color:#39870c;color:#fff}.bro.esri-draw-button-selected[_ngcontent-%COMP%]{background-color:#007bc7}#draw-rectangle-button[_ngcontent-%COMP%]{margin-bottom:1px}"]}),A})();var dq=N(44766);const pq=function(A,w,_){return{bro:A,"esri-draw-button-selected":w,"not-clickable":_}};let fq=(()=>{class A{constructor(_,C){this.mapService=_,this.configurationService=C,this.queryGeometry=new er,this.DRAW_STATE=Jn.DRAW_STATE}ngOnInit(){this.mapService.mapStateSubject.subscribe(_=>{_===Jn.DRAW_STATE?this.activateDraw():this.stopDraw()})}startDrawtool(){this.mapService.mapState!==Jn.DRAW_STATE?this.mapService.changeMapState(Jn.DRAW_STATE):this.mapService.mapState===Jn.DRAW_STATE&&this.mapService.changeMapState(Jn.MAP_STATE)}activateDraw(){this.clearPolygon(),this.pointerDownListener=this.mapService.mapView.on("pointer-down",_=>{_.stopPropagation();const C=this.createPoint(_);this.addVertex(C,!1)}),this.pointerMoveListener=this.mapService.mapView.on("pointer-move",_=>{if(this.activePolygon){const C=this.createPoint(_);this.updateFinalVertex(C)}}),this.doubleClickListener=this.mapService.mapView.on("double-click",_=>{_.stopPropagation();const C=this.addVertex(_.mapPoint,!0);if(!C)return null;this.deactivateDraw(),this.querySelection(C)})}deactivateDraw(){null!=this.pointerDownListener&&(this.pointerDownListener.remove(),this.pointerDownListener=null),null!=this.pointerMoveListener&&(this.pointerMoveListener.remove(),this.pointerMoveListener=null),null!=this.doubleClickListener&&(this.doubleClickListener.remove(),this.doubleClickListener=null),this.activePolygon=null}createPoint(_){return this.mapService.mapView.toMap(_)}addVertex(_,C){let j,I=this.activePolygon;return I?(j=I.rings[0].length,I.insertPoint(0,j-1,_)):(I=new hS.Z({spatialReference:{wkid:28992}}),I.addRing([_,_])),this.activePolygon=I,this.redrawPolygon(I,C)}redrawPolygon(_,C){const I=C?dq.simplify(_):_;if(!I&&C)return console.log("Cannot finish polygon. It must be a triangle at minimum. Resume drawing..."),null;this.clearPolygon();const K=new Fa.Z({geometry:I,symbol:C?Jn.drawConfig.finishedSymbol:Jn.drawConfig.drawingSymbol});return this.mapService.mapView.graphics.add(K),this.currentGraphic=K,I}updateFinalVertex(_){const C=this.activePolygon.clone();C.insertPoint(0,C.rings[0].length-1,_),this.redrawPolygon(C)}clearPolygon(){this.currentGraphic&&(this.mapService.mapView.graphics.remove(this.currentGraphic),this.currentGraphic=null)}querySelection(_){this.queryGeometry.emit(_)}stopDraw(){this.deactivateDraw(),this.clearPolygon()}}return A.\u0275fac=function(_){return new(_||A)(rn(qo),rn(fo))},A.\u0275cmp=dr({type:A,selectors:[["dinoloket-map-drawtool-polygon"]],outputs:{queryGeometry:"queryGeometry"},decls:4,vars:8,consts:[["id","draw-polygon-button",1,"esri-widget--button","esri-widget","esri-interactive",3,"ngClass","title","click"],[1,"esri-icon-polygon"]],template:function(_,C){1&_&&(pt(0,"div"),pt(1,"div",0),An("click",function(){return C.startDrawtool()}),sn(2,"translate"),Bn(3,"span",1),ft(),ft()),2&_&&(vt(1),It("ngClass",cc(4,pq,C.configurationService.broOnly,C.mapService.mapState===C.DRAW_STATE,"SGM2"!==C.mapService.activeDatatype))("title",on(2,2,"toolTipSelectObjectsByPolygon")))},directives:[eo],pipes:[Xs],styles:[".esri-draw-button-selected[_ngcontent-%COMP%]{opacity:1;background-color:#39870c;color:#fff}.bro.esri-draw-button-selected[_ngcontent-%COMP%]{background-color:#007bc7}"]}),A})();const mq=function(A){return{active:A}},gq=function(A){return{bro:A}};function yq(A,w){if(1&A){const _=tr();pt(0,"li",7),An("click",function(){const j=zi(_).index;return Wt().changeTab.emit(j)}),pt(1,"a",8),tn(2),sn(3,"translate"),ft(),ft()}if(2&A){const _=w.$implicit,C=w.index,I=Wt();It("ngClass",Or(5,mq,C===I.activeTabIndex)),vt(1),It("ngClass",Or(7,gq,I.configService.broOnly)),vt(1),Kr(" ",on(3,3,_)," ")}}let nx=(()=>{class A{constructor(_){this.configService=_,this.changeTab=new er,this.closeWindow=new er}close(){this.closeWindow.emit(!0)}}return A.\u0275fac=function(_){return new(_||A)(rn(fo))},A.\u0275cmp=dr({type:A,selectors:[["dinoloket-tabbed-header"]],inputs:{tabs:"tabs",activeTabIndex:"activeTabIndex"},outputs:{changeTab:"changeTab",closeWindow:"closeWindow"},decls:8,vars:4,consts:[[1,"row"],[1,"col-sm-11","menu-items"],[1,"nav","nav-pills"],["ngFor","",3,"ngForOf"],[1,"col-sm-1"],[1,"pull-right","mousepointer",3,"click"],["id","closeWindowImage","src","images/close_button.png",3,"alt"],[3,"ngClass","click"],[3,"ngClass"]],template:function(_,C){1&_&&(pt(0,"div",0),pt(1,"div",1),pt(2,"ul",2),Pi(3,yq,4,9,"ng-template",3),ft(),ft(),pt(4,"div",4),pt(5,"span",5),An("click",function(){return C.close()}),Bn(6,"img",6),sn(7,"translate"),ft(),ft(),ft()),2&_&&(vt(3),It("ngForOf",C.tabs),vt(3),It("alt",on(7,2,"alt-text-close-button")))},directives:[uc,eo],pipes:[Xs],styles:[".close-button[_ngcontent-%COMP%]{padding:0 5px;position:fixed;top:9px;right:9px;z-index:1000}.menu-items[_ngcontent-%COMP%]{padding-bottom:3px}.nav[_ngcontent-%COMP%]{border-bottom:1px solid #999999;color:#000;font-family:OpenSans,RO Sans,Calibri,sans-serifbody,serif;font-size:13px;font-weight:600;border-radius:0}.nav-pills[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{cursor:pointer}.nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border-bottom:5px solid white}.nav-pills[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;font-weight:400;background-color:#fff;border-radius:0}.nav-pills[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#39870c}.nav-pills[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   a.bro[_ngcontent-%COMP%]:hover, .nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.bro[_ngcontent-%COMP%]:focus{color:#007bc7}.nav-pills[_ngcontent-%COMP%] > li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border-bottom:5px solid;color:#39870c;border-bottom-color:#39870c}.nav-pills[_ngcontent-%COMP%] > li.active[_ngcontent-%COMP%]   a.bro[_ngcontent-%COMP%]{border-bottom:5px solid;color:#007bc7;border-bottom-color:#007bc7}"]}),A})();function vq(A,w){if(1&A&&(pt(0,"tr"),pt(1,"td",7),tn(2),sn(3,"translate"),ft(),pt(4,"td"),tn(5),ft(),ft()),2&A){const _=Wt(2);vt(2),Rn(on(3,2,"gmm.additionRelief")),vt(3),Rn(_.gmm.feature.attributes.ADDITIONAL_SURFACE_RELIEF_CODE)}}function _q(A,w){if(1&A&&(pt(0,"tr"),pt(1,"td",7),tn(2),sn(3,"translate"),ft(),pt(4,"td"),tn(5),ft(),ft()),2&A){const _=Wt(2);vt(2),Rn(on(3,2,"gmm.additionCoverage")),vt(3),Rn(_.gmm.feature.attributes.ADDITIONAL_SURFACE_COVER_CODE)}}function bq(A,w){if(1&A&&(pt(0,"tr"),pt(1,"td",7),tn(2),sn(3,"translate"),ft(),pt(4,"td"),tn(5),ft(),ft()),2&A){const _=Wt(2);vt(2),Rn(on(3,2,"gmm.activeProcess")),vt(3),Rn(_.gmm.feature.attributes.ACTIVE_PROCESS)}}function Aq(A,w){if(1&A){const _=tr();pt(0,"div",2),pt(1,"div",3),pt(2,"dinoloket-tabbed-header",4),An("closeWindow",function(){zi(_);const I=Wt();return I.gmmResults=null,I.gmm=null,I.windowClosed.emit(!0)}),ft(),pt(3,"div",5),pt(4,"table",6),pt(5,"tr"),pt(6,"td",7),tn(7),sn(8,"translate"),ft(),pt(9,"td"),tn(10),ft(),ft(),pt(11,"tr"),pt(12,"td"),tn(13),sn(14,"translate"),ft(),pt(15,"td"),tn(16),sn(17,"translate"),ft(),ft(),Pi(18,vq,6,4,"tr",8),pt(19,"tr"),pt(20,"td",7),tn(21),sn(22,"translate"),ft(),pt(23,"td"),tn(24),ft(),ft(),Pi(25,_q,6,4,"tr",8),Pi(26,bq,6,4,"tr",8),ft(),ft(),ft(),ft()}if(2&A){const _=Wt();vt(2),It("tabs",_.tabs)("activeTabIndex",_.activeTabIndex),vt(5),Rn(on(8,12,"gmm.landformUnit")),vt(3),Rn(_.gmm.feature.attributes.LANDFORM_SUBGROUP_CODE),vt(3),Rn(on(14,14,"gmm.relief")),vt(3),Kr("","Null"!==_.gmm.feature.attributes.RELIEF_CODE?_.gmm.feature.attributes.RELIEF_CODE+" "+on(17,16,"GMM.relief."+_.gmm.feature.attributes.RELIEF_CODE):_.gmm.feature.attributes.RELIEF_KLASSE," "),vt(2),It("ngIf","Null"!==_.gmm.feature.attributes.ADDITIONAL_SURFACE_RELIEF_CODE),vt(3),Rn(on(22,18,"gmm.landformsubgroup")),vt(3),Mu("",_.gmm.feature.attributes.LANDFORM_SUBGROUP_CODE," ",null==_.gmm.feature.attributes?null:_.gmm.feature.attributes.LANDFORM_SUBGROUP_DESCRIPTION,""),vt(1),It("ngIf","Null"!==_.gmm.feature.attributes.ADDITIONAL_SURFACE_COVER_CODE),vt(1),It("ngIf","Null"!==_.gmm.feature.attributes.ACTIVE_PROCESS)}}let wq=(()=>{class A{constructor(){this.windowClosed=new er,this.legendChanged=new er,this.geometryChanged=new er}ngOnChanges(){this.gmmResults&&(this.gmm=this.gmmResults[0],this.legendChanged.emit(this.gmm.feature.attributes.LANDFORM_SUBGROUP_CODE),this.geometryChanged.emit({id:this.gmm.feature.attributes.OBJECTID,field:"OBJECTID"}),this.tabs=["gmmFullName"],this.activeTabIndex=0)}}return A.\u0275fac=function(_){return new(_||A)},A.\u0275cmp=dr({type:A,selectors:[["dinoloket-identify-gmm"]],inputs:{gmmResults:"gmmResults",clickedLocation:"clickedLocation"},outputs:{windowClosed:"windowClosed",legendChanged:"legendChanged",geometryChanged:"geometryChanged"},features:[go],decls:2,vars:1,consts:[["id","identifyGmmHolder",1,"hideEsriBorder"],["class","identifyPopup","id","identifyGmm",4,"ngIf"],["id","identifyGmm",1,"identifyPopup"],[1,"row","col-sm-12","main-content","identifyData"],[3,"tabs","activeTabIndex","closeWindow"],[1,"identifyOverflow"],[1,"table","identify_grid"],[1,"nowrap"],[4,"ngIf"]],template:function(_,C){1&_&&(pt(0,"div",0),Pi(1,Aq,27,20,"div",1),ft()),2&_&&(vt(1),It("ngIf",C.gmmResults))},directives:[to,nx],pipes:[Xs],styles:[".width-40[_ngcontent-%COMP%]{width:40%}.nowrap[_ngcontent-%COMP%]{white-space:nowrap}"]}),A})();var Cq=N(94327);let xq=(()=>{class A{constructor(_){this.el=_}onkeydown(_){if(!0!==this.pFocusTrapDisabled){_.preventDefault();let C=Nn.getFocusableElements(this.el.nativeElement);if(C&&C.length>0)if(C[0].ownerDocument.activeElement){let I=C.indexOf(C[0].ownerDocument.activeElement);_.shiftKey?-1==I||0===I?C[C.length-1].focus():C[I-1].focus():-1==I||I===C.length-1?C[0].focus():C[I+1].focus()}else C[0].focus()}}}return A.\u0275fac=function(_){return new(_||A)(rn(_o))},A.\u0275dir=Fr({type:A,selectors:[["","pFocusTrap",""]],hostAttrs:[1,"p-element"],hostBindings:function(_,C){1&_&&An("keydown.tab",function(j){return C.onkeydown(j)})("keydown.shift.tab",function(j){return C.onkeydown(j)})},inputs:{pFocusTrapDisabled:"pFocusTrapDisabled"}}),A})(),Eq=(()=>{class A{}return A.\u0275fac=function(_){return new(_||A)},A.\u0275mod=Rr({type:A}),A.\u0275inj=Bi({imports:[[pl]]}),A})();const Dq=["titlebar"],Mq=["content"],Sq=["footer"];function Tq(A,w){if(1&A&&(pt(0,"span",17),tn(1),ft()),2&A){const _=Wt(4);Is("id",_.id+"-label"),vt(1),Rn(_.header)}}function Iq(A,w){1&A&&(pt(0,"span",17),Nh(1,1),ft()),2&A&&Is("id",Wt(4).id+"-label")}function Oq(A,w){1&A&&Ms(0)}const Pq=function(){return{"p-dialog-header-icon p-dialog-header-maximize p-link":!0}};function kq(A,w){if(1&A){const _=tr();pt(0,"button",18),An("click",function(){return zi(_),Wt(4).maximize()})("keydown.enter",function(){return zi(_),Wt(4).maximize()}),Bn(1,"span",19),ft()}if(2&A){const _=Wt(4);It("ngClass",Yc(2,Pq)),vt(1),It("ngClass",_.maximized?_.minimizeIcon:_.maximizeIcon)}}const Lq=function(){return{"p-dialog-header-icon p-dialog-header-close p-link":!0}};function Bq(A,w){if(1&A){const _=tr();pt(0,"button",20),An("click",function(I){return zi(_),Wt(4).close(I)})("keydown.enter",function(I){return zi(_),Wt(4).close(I)}),Bn(1,"span",21),ft()}if(2&A){const _=Wt(4);It("ngClass",Yc(4,Lq)),Is("aria-label",_.closeAriaLabel)("tabindex",_.closeTabindex),vt(1),It("ngClass",_.closeIcon)}}function Rq(A,w){if(1&A){const _=tr();pt(0,"div",11,12),An("mousedown",function(I){return zi(_),Wt(3).initDrag(I)}),Pi(2,Tq,2,2,"span",13),Pi(3,Iq,2,1,"span",13),Pi(4,Oq,1,0,"ng-container",8),pt(5,"div",14),Pi(6,kq,2,3,"button",15),Pi(7,Bq,2,5,"button",16),ft(),ft()}if(2&A){const _=Wt(3);vt(2),It("ngIf",!_.headerFacet&&!_.headerTemplate),vt(1),It("ngIf",_.headerFacet),vt(1),It("ngTemplateOutlet",_.headerTemplate),vt(2),It("ngIf",_.maximizable),vt(1),It("ngIf",_.closable)}}function Fq(A,w){1&A&&Ms(0)}function Nq(A,w){1&A&&Ms(0)}function Uq(A,w){if(1&A&&(pt(0,"div",22,23),Nh(2,2),Pi(3,Nq,1,0,"ng-container",8),ft()),2&A){const _=Wt(3);vt(3),It("ngTemplateOutlet",_.footerTemplate)}}function jq(A,w){if(1&A){const _=tr();pt(0,"div",24),An("mousedown",function(I){return zi(_),Wt(3).initResize(I)}),ft()}}const Hq=function(A,w,_,C){return{"p-dialog p-component":!0,"p-dialog-rtl":A,"p-dialog-draggable":w,"p-dialog-resizable":_,"p-dialog-maximized":C}},Vq=function(A,w){return{transform:A,transition:w}},zq=function(A){return{value:"visible",params:A}};function Wq(A,w){if(1&A){const _=tr();pt(0,"div",3,4),An("@animation.start",function(I){return zi(_),Wt(2).onAnimationStart(I)})("@animation.done",function(I){return zi(_),Wt(2).onAnimationEnd(I)}),Pi(2,Rq,8,5,"div",5),pt(3,"div",6,7),Nh(5),Pi(6,Fq,1,0,"ng-container",8),ft(),Pi(7,Uq,4,1,"div",9),Pi(8,jq,1,0,"div",10),ft()}if(2&A){const _=Wt(2);vo(_.styleClass),It("ngClass",Rg(15,Hq,_.rtl,_.draggable,_.resizable,_.maximized))("ngStyle",_.style)("pFocusTrapDisabled",!1===_.focusTrap)("@animation",Or(23,zq,bo(20,Vq,_.transformOptions,_.transitionOptions))),Is("aria-labelledby",_.id+"-label"),vt(2),It("ngIf",_.showHeader),vt(1),vo(_.contentStyleClass),It("ngClass","p-dialog-content")("ngStyle",_.contentStyle),vt(3),It("ngTemplateOutlet",_.contentTemplate),vt(1),It("ngIf",_.footerFacet||_.footerTemplate),vt(1),It("ngIf",_.resizable)}}const Kq=function(A,w,_,C,I,j,K,q,ue,Re){return{"p-dialog-mask":!0,"p-component-overlay p-component-overlay-enter":A,"p-dialog-mask-scrollblocker":w,"p-dialog-left":_,"p-dialog-right":C,"p-dialog-top":I,"p-dialog-top-left":j,"p-dialog-top-right":K,"p-dialog-bottom":q,"p-dialog-bottom-left":ue,"p-dialog-bottom-right":Re}};function Qq(A,w){if(1&A&&(pt(0,"div",1),Pi(1,Wq,9,25,"div",2),ft()),2&A){const _=Wt();vo(_.maskStyleClass),It("ngClass",Q5(4,Kq,[_.modal,_.modal||_.blockScroll,"left"===_.position,"right"===_.position,"top"===_.position,"topleft"===_.position||"top-left"===_.position,"topright"===_.position||"top-right"===_.position,"bottom"===_.position,"bottomleft"===_.position||"bottom-left"===_.position,"bottomright"===_.position||"bottom-right"===_.position])),vt(1),It("ngIf",_.visible)}}const Gq=["*",[["p-header"]],[["p-footer"]]],$q=["*","p-header","p-footer"],Zq=Dk([qh({transform:"{{transform}}",opacity:0}),ym("{{transition}}")]),Jq=Dk([ym("{{transition}}",qh({transform:"{{transform}}",opacity:0}))]);let Xq=(()=>{class A{constructor(_,C,I,j,K){this.el=_,this.renderer=C,this.zone=I,this.cd=j,this.config=K,this.draggable=!0,this.resizable=!0,this.closeOnEscape=!0,this.closable=!0,this.showHeader=!0,this.blockScroll=!1,this.autoZIndex=!0,this.baseZIndex=0,this.minX=0,this.minY=0,this.focusOnShow=!0,this.keepInViewport=!0,this.focusTrap=!0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.closeIcon="pi pi-times",this.closeTabindex="-1",this.minimizeIcon="pi pi-window-minimize",this.maximizeIcon="pi pi-window-maximize",this.onShow=new er,this.onHide=new er,this.visibleChange=new er,this.onResizeInit=new er,this.onResizeEnd=new er,this.onDragEnd=new er,this.onMaximize=new er,this.id=uT(),this._style={},this._position="center",this.transformOptions="scale(0.7)"}get positionLeft(){return 0}set positionLeft(_){console.log("positionLeft property is deprecated.")}get positionTop(){return 0}set positionTop(_){console.log("positionTop property is deprecated.")}get responsive(){return!1}set responsive(_){console.log("Responsive property is deprecated.")}get breakpoint(){return 649}set breakpoint(_){console.log("Breakpoint property is not utilized and deprecated, use breakpoints or CSS media queries instead.")}ngAfterContentInit(){this.templates.forEach(_=>{switch(_.getType()){case"header":this.headerTemplate=_.template;break;case"content":default:this.contentTemplate=_.template;break;case"footer":this.footerTemplate=_.template}})}ngOnInit(){this.breakpoints&&this.createStyle()}get visible(){return this._visible}set visible(_){this._visible=_,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}get style(){return this._style}set style(_){_&&(this._style=Object.assign({},_),this.originalStyle=_)}get position(){return this._position}set position(_){switch(this._position=_,_){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}focus(){let _=Nn.findSingle(this.container,"[autofocus]");_&&this.zone.runOutsideAngular(()=>{setTimeout(()=>_.focus(),5)})}close(_){this.visibleChange.emit(!1),_.preventDefault()}enableModality(){this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",_=>{this.wrapper&&this.wrapper.isSameNode(_.target)&&this.close(_)})),this.modal&&Nn.addClass(document.body,"p-overflow-hidden")}disableModality(){this.wrapper&&(this.dismissableMask&&this.unbindMaskClickListener(),this.modal&&Nn.removeClass(document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}maximize(){this.maximized=!this.maximized,!this.modal&&!this.blockScroll&&(this.maximized?Nn.addClass(document.body,"p-overflow-hidden"):Nn.removeClass(document.body,"p-overflow-hidden")),this.onMaximize.emit({maximized:this.maximized})}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}moveOnTop(){this.autoZIndex&&(ed.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let _="";for(let C in this.breakpoints)_+=`\n                    @media screen and (max-width: ${C}) {\n                        .p-dialog[${this.id}] {\n                            width: ${this.breakpoints[C]} !important;\n                        }\n                    }\n                `;this.styleElement.innerHTML=_}}initDrag(_){Nn.hasClass(_.target,"p-dialog-header-icon")||Nn.hasClass(_.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=_.pageX,this.lastPageY=_.pageY,this.container.style.margin="0",Nn.addClass(document.body,"p-unselectable-text"))}onKeydown(_){if(this.focusTrap&&9===_.which){_.preventDefault();let C=Nn.getFocusableElements(this.container);if(C&&C.length>0)if(C[0].ownerDocument.activeElement){let I=C.indexOf(C[0].ownerDocument.activeElement);_.shiftKey?-1==I||0===I?C[C.length-1].focus():C[I-1].focus():-1==I||I===C.length-1?C[0].focus():C[I+1].focus()}else C[0].focus()}}onDrag(_){if(this.dragging){let C=Nn.getOuterWidth(this.container),I=Nn.getOuterHeight(this.container),j=_.pageX-this.lastPageX,K=_.pageY-this.lastPageY,q=Nn.getOffset(this.container),ue=q.left+j,Re=q.top+K,Je=Nn.getViewport();this.container.style.position="fixed",this.keepInViewport?(ue>=this.minX&&ue+C<Je.width&&(this._style.left=ue+"px",this.lastPageX=_.pageX,this.container.style.left=ue+"px"),Re>=this.minY&&Re+I<Je.height&&(this._style.top=Re+"px",this.lastPageY=_.pageY,this.container.style.top=Re+"px")):(this.lastPageX=_.pageX,this.container.style.left=ue+"px",this.lastPageY=_.pageY,this.container.style.top=Re+"px")}}endDrag(_){this.dragging&&(this.dragging=!1,Nn.removeClass(document.body,"p-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(_))}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}center(){this.resetPosition()}initResize(_){this.resizable&&(this.resizing=!0,this.lastPageX=_.pageX,this.lastPageY=_.pageY,Nn.addClass(document.body,"p-unselectable-text"),this.onResizeInit.emit(_))}onResize(_){if(this.resizing){let C=_.pageX-this.lastPageX,I=_.pageY-this.lastPageY,j=Nn.getOuterWidth(this.container),K=Nn.getOuterHeight(this.container),q=Nn.getOuterHeight(this.contentViewChild.nativeElement),ue=j+C,Re=K+I,Je=this.container.style.minWidth,wt=this.container.style.minHeight,Qt=Nn.getOffset(this.container),ri=Nn.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(ue+=C,Re+=I),(!Je||ue>parseInt(Je))&&Qt.left+ue<ri.width&&(this._style.width=ue+"px",this.container.style.width=this._style.width),(!wt||Re>parseInt(wt))&&Qt.top+Re<ri.height&&(this.contentViewChild.nativeElement.style.height=q+Re-K+"px",this._style.height&&(this._style.height=Re+"px",this.container.style.height=this._style.height)),this.lastPageX=_.pageX,this.lastPageY=_.pageY}}resizeEnd(_){this.resizing&&(this.resizing=!1,Nn.removeClass(document.body,"p-unselectable-text"),this.onResizeEnd.emit(_))}bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}bindDocumentDragListener(){this.zone.runOutsideAngular(()=>{this.documentDragListener=this.onDrag.bind(this),window.document.addEventListener("mousemove",this.documentDragListener)})}unbindDocumentDragListener(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)}bindDocumentDragEndListener(){this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.endDrag.bind(this),window.document.addEventListener("mouseup",this.documentDragEndListener)})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)}bindDocumentResizeListeners(){this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.onResize.bind(this),this.documentResizeEndListener=this.resizeEnd.bind(this),window.document.addEventListener("mousemove",this.documentResizeListener),window.document.addEventListener("mouseup",this.documentResizeEndListener)})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(window.document.removeEventListener("mousemove",this.documentResizeListener),window.document.removeEventListener("mouseup",this.documentResizeEndListener),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",C=>{27==C.which&&this.close(C)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):Nn.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}onAnimationStart(_){switch(_.toState){case"visible":this.container=_.element,this.wrapper=this.container.parentElement,this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.container.setAttribute(this.id,""),this.modal&&this.enableModality(),!this.modal&&this.blockScroll&&Nn.addClass(document.body,"p-overflow-hidden"),this.focusOnShow&&this.focus();break;case"void":this.modal&&Nn.addClass(this.wrapper,"p-component-overlay-leave")}}onAnimationEnd(_){switch(_.toState){case"void":this.onContainerDestroy(),this.onHide.emit({});break;case"visible":this.onShow.emit({})}}onContainerDestroy(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&(Nn.removeClass(document.body,"p-overflow-hidden"),this.maximized=!1),this.modal&&this.disableModality(),this.blockScroll&&Nn.removeClass(document.body,"p-overflow-hidden"),this.container&&this.autoZIndex&&ed.clear(this.container),this.container=null,this.wrapper=null,this._style=this.originalStyle?Object.assign({},this.originalStyle):{}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.destroyStyle()}}return A.\u0275fac=function(_){return new(_||A)(rn(_o),rn(Hh),rn(Eo),rn(Gl),rn(gA))},A.\u0275cmp=dr({type:A,selectors:[["p-dialog"]],contentQueries:function(_,C,I){if(1&_&&(Q0(I,eQ,5),Q0(I,tQ,5),Q0(I,dv,4)),2&_){let j;lo(j=co())&&(C.headerFacet=j.first),lo(j=co())&&(C.footerFacet=j.first),lo(j=co())&&(C.templates=j)}},viewQuery:function(_,C){if(1&_&&(zo(Dq,5),zo(Mq,5),zo(Sq,5)),2&_){let I;lo(I=co())&&(C.headerViewChild=I.first),lo(I=co())&&(C.contentViewChild=I.first),lo(I=co())&&(C.footerViewChild=I.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",draggable:"draggable",resizable:"resizable",positionLeft:"positionLeft",positionTop:"positionTop",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:"modal",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",rtl:"rtl",closable:"closable",responsive:"responsive",appendTo:"appendTo",breakpoints:"breakpoints",styleClass:"styleClass",maskStyleClass:"maskStyleClass",showHeader:"showHeader",breakpoint:"breakpoint",blockScroll:"blockScroll",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",minX:"minX",minY:"minY",focusOnShow:"focusOnShow",maximizable:"maximizable",keepInViewport:"keepInViewport",focusTrap:"focusTrap",transitionOptions:"transitionOptions",closeIcon:"closeIcon",closeAriaLabel:"closeAriaLabel",closeTabindex:"closeTabindex",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",visible:"visible",style:"style",position:"position"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd",onMaximize:"onMaximize"},ngContentSelectors:$q,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","class","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","pFocusTrapDisabled"],["container",""],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[3,"ngClass","ngStyle"],["content",""],[4,"ngTemplateOutlet"],["class","p-dialog-footer",4,"ngIf"],["class","p-resizable-handle","style","z-index: 90;",3,"mousedown",4,"ngIf"],[1,"p-dialog-header",3,"mousedown"],["titlebar",""],["class","p-dialog-title",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],["type","button","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-close-icon",3,"ngClass"],[1,"p-dialog-footer"],["footer",""],[1,"p-resizable-handle",2,"z-index","90",3,"mousedown"]],template:function(_,C){1&_&&(vf(Gq),Pi(0,Qq,2,15,"div",0)),2&_&&It("ngIf",C.maskVisible)},directives:[to,eo,xq,el,Cf,wA],styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog,.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-top .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top,.p-dialog-top-left{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}"],encapsulation:2,data:{animation:[lT("animation",[vm("void => visible",[Mk(Zq)]),vm("visible => void",[Mk(Jq)])])]},changeDetection:0}),A})(),Yq=(()=>{class A{}return A.\u0275fac=function(_){return new(_||A)},A.\u0275mod=Rr({type:A}),A.\u0275inj=Bi({imports:[[pl,Eq,mv],_m]}),A})(),qL=(()=>{class A{}return A.\u0275fac=function(_){return new(_||A)},A.\u0275cmp=dr({type:A,selectors:[["dinoloket-loading-progress"]],decls:15,vars:3,consts:[[1,"loadingio-spinner-spinner"],[1,"loading-icon",3,"title"]],template:function(_,C){1&_&&(pt(0,"div",0),pt(1,"div",1),sn(2,"translate"),Bn(3,"div"),Bn(4,"div"),Bn(5,"div"),Bn(6,"div"),Bn(7,"div"),Bn(8,"div"),Bn(9,"div"),Bn(10,"div"),Bn(11,"div"),Bn(12,"div"),Bn(13,"div"),Bn(14,"div"),ft(),ft()),2&_&&(vt(1),qu("title",on(2,1,"loadingData")))},pipes:[Xs],styles:["@keyframes loading-animation{0%{opacity:1}to{opacity:0}}.loading-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{left:47px;top:15px;position:absolute;animation:loading-animation linear 1s infinite;background:#39870c;width:6px;height:23px;border-radius:3px/11.5px;transform-origin:3px 41.5px}.loading-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){transform:rotate(0);animation-delay:-.9166666667s}.loading-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){transform:rotate(30deg);animation-delay:-.8333333333s}.loading-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){transform:rotate(60deg);animation-delay:-.75s}.loading-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){transform:rotate(90deg);animation-delay:-.6666666667s}.loading-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5){transform:rotate(120deg);animation-delay:-.5833333333s}.loading-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6){transform:rotate(150deg);animation-delay:-.5s}.loading-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7){transform:rotate(180deg);animation-delay:-.4166666667s}.loading-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8){transform:rotate(210deg);animation-delay:-.3333333333s}.loading-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(9){transform:rotate(240deg);animation-delay:-.25s}.loading-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(10){transform:rotate(270deg);animation-delay:-.1666666667s}.loading-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(11){transform:rotate(300deg);animation-delay:-.0833333333s}.loading-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(12){transform:rotate(330deg);animation-delay:0s}.loadingio-spinner-spinner[_ngcontent-%COMP%]{width:24px;height:24px;display:inline-block;overflow:hidden;background:none}.loading-icon[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;transform:translateZ(0) scale(.24);backface-visibility:hidden;transform-origin:0 0}"]}),A})(),eB=(()=>{class A{}return A.\u0275fac=function(_){return new(_||A)},A.\u0275cmp=dr({type:A,selectors:[["dinoloket-loading-progress-dialog"]],inputs:{message:"message"},decls:7,vars:8,consts:[[3,"baseZIndex","modal","showHeader","visible","resizable"],[1,"dialog-container"],[1,"loading-text"]],template:function(_,C){1&_&&(pt(0,"p-dialog",0),pt(1,"div",1),pt(2,"div",2),tn(3),sn(4,"translate"),ft(),Bn(5,"br"),Bn(6,"dinoloket-loading-progress"),ft(),ft()),2&_&&(It("baseZIndex",1e4)("modal",!0)("showHeader",!1)("visible",!0)("resizable",!1),vt(3),Rn(on(4,6,C.message)))},directives:[Xq,qL],pipes:[Xs],styles:[".dialog-container[_ngcontent-%COMP%]{text-align:center;padding:40px 150px;font-size:20px}.loading-text[_ngcontent-%COMP%]{color:#000}"]}),A})();const tB=function(){return{color:"black"}},iB=function(){return{color:"#cbcbcb"}};function qq(A,w){if(1&A){const _=tr();pt(0,"div",4),pt(1,"em",5),An("click",function(){return zi(_),Wt().previousResult()}),ft(),pt(2,"span",6),pt(3,"strong"),tn(4),ft(),tn(5),sn(6,"translate"),ft(),pt(7,"em",7),An("click",function(){return zi(_),Wt().nextResult()}),ft(),ft()}if(2&A){const _=Wt();vt(1),It("ngStyle",_.hasPrevious?Yc(7,tB):Yc(8,iB)),vt(3),Rn(_.pageNumber),vt(1),Mu(" ",on(6,5,"identify.paginationOf")," ",_.totalPages,""),vt(2),It("ngStyle",_.hasNext?Yc(9,tB):Yc(10,iB))}}let eee=(()=>{class A{constructor(){this.next=new er,this.previous=new er}nextResult(){this.next.emit(!0)}previousResult(){this.previous.emit(!0)}}return A.\u0275fac=function(_){return new(_||A)},A.\u0275cmp=dr({type:A,selectors:[["dinoloket-identify-pagination-header"]],inputs:{hasNext:"hasNext",hasPrevious:"hasPrevious",totalPages:"totalPages",pageNumber:"pageNumber",title:"title"},outputs:{next:"next",previous:"previous"},decls:5,vars:2,consts:[[1,"row"],[1,"col-sm-12"],["class","loket-pagination pull-right",4,"ngIf"],[1,"tab-header"],[1,"loket-pagination","pull-right"],[1,"pi","pi-angle-left","arrow-left","pager-button","mousepointer",3,"ngStyle","click"],[1,"pagination-text"],[1,"pi","pi-angle-right","pager-button","mousepointer",3,"ngStyle","click"]],template:function(_,C){1&_&&(pt(0,"div",0),pt(1,"div",1),Pi(2,qq,8,11,"div",2),pt(3,"h4",3),tn(4),ft(),ft(),ft()),2&_&&(vt(2),It("ngIf",C.totalPages>1),vt(2),Rn(C.title))},directives:[to,el],pipes:[Xs],styles:[".pagination-text[_ngcontent-%COMP%]{font-size:14px;float:left;padding-left:5px;padding-right:5px}.loket-pagination[_ngcontent-%COMP%]{padding-top:10px}.pager-button[_ngcontent-%COMP%]{background-color:#f4f5f6;font-size:18px;padding:2px}.arrow-left[_ngcontent-%COMP%]{float:left}"]}),A})(),nB=(()=>{class A{constructor(_,C,I){this.configurationService=_,this.elementRef=C,this.mapService=I,this.geometriesSubject=null}ngAfterContentInit(){this.settings=this.configurationService.settings;const _=this.buildWMTSLayer();if(this.map=new K3,this.map.add(_),this.mapService.checkIfSimpleModel())this.layerUrls.forEach(C=>{const I=new nl.default({url:C,visible:!0,opacity:.7});this.map.add(I)});else{const C=new nl.default({url:this.settings.mdlArcGisServerURLdynamic,visible:!0,sublayers:[{id:5},{id:4},{id:3},{id:2},{id:1},{id:0}]});this.map.add(C),this.setVisibleLayer(C)}this.view=this.buildView(),this.configureView(),this.view.when(C=>{if(this.polygon)this.addPolygon(this.polygon);else if(this.x&&this.y){const I=new Ys.Z;I.x=this.x,I.y=this.y,I.spatialReference=ah.SPATIAL_REFERENCE,this.mapService.mapState===Jn.DRILL_STATE?this.addParkMeter(I):this.addMarker(I),this.navigateToGeometry(I),this.zoomToPoint(I)}this.view.popup.dockEnabled=!0,this.view.popup.actions.removeAll(),this.view.ui.components=[]}),null!=this.geometriesSubject&&(this.geometrySubscription=this.geometriesSubject.subscribe(C=>{this.view.ready&&null!=C&&this.addPolygon(C)}))}ngOnDestroy(){this.map.allLayers.forEach(_=>_.destroy()),this.map.destroy(),this.view.destroy()}changeVisibleLayer(_,C,I){I.allSublayers.forEach(j=>{j.id===Number(this.settings.cvrLayerId)?(j.visible=!0,j.definitionExpression="MDL_CD = '"+C+"'"):j.visible=j.id===Number(_)})}buildView(){return new xS({spatialReference:ah.SPATIAL_REFERENCE,container:this.elementRef.nativeElement.firstChild,map:this.map,constraints:{snapToZoom:!1,maxScale:40,minScale:2280903},extent:new Iu.Z({xmin:-285402,ymin:22598,xmax:595402,ymax:903402,spatialReference:ah.SPATIAL_REFERENCE})})}configureView(){this.view.on("mouse-wheel",_=>{(this.view.scale>228e4&&_.deltaY>0||this.view.scale<40&&_.deltaY<0)&&_.stopPropagation()})}buildWMTSLayer(){return new DS.default({url:this.settings.bgMapURL,serviceMode:"KVP",activeLayer:{id:this.settings.bgLayers,tileMatrixSetId:"EPSG:28992"}})}navigateToGeometry(_){this.view.goTo({target:_},{animate:!0,easing:Jn.EASING,duration:750})}addMarker(_){this.view.graphics.removeAll();const C=new Fa.Z({geometry:_,symbol:this.configurationService.broOnly?Jn.broDrawConfig.greenCircleSymbol:Jn.drawConfig.greenCircleSymbol});this.view.graphics.add(C)}addParkMeter(_){this.view.graphics.removeAll();const C=new Fa.Z({geometry:_,symbol:this.configurationService.broOnly?Jn.broDrawConfig.parkeerMeterGreen:Jn.drawConfig.parkeerMeterGreen});this.view.graphics.add(C)}addPolygon(_){this.view.graphics.removeAll();const C=new WM.Z({outline:{color:[0,0,0],width:2}}),I=new Fa.Z({geometry:_,symbol:C});this.view.graphics.add(I),this.zoomToGeometry(_)}setVisibleLayer(_){let C=this.mapService.getDataType(),I="";"DGM"===C?I=this.settings.dgmLayerId:"REGIS"===C?(I=this.settings.rgsLayerId,C="RGS"):"GTP"===C?I=this.settings.broGtpLayerId:"GMD"===C?I=this.settings.gmdLayerId:"GMD5"===C&&(I=this.settings.gmd5LayerId),this.changeVisibleLayer(I,C,_)}zoomToPoint(_){const C=this.polygon?250200:51200;setTimeout(()=>{this.view.goTo({scale:C},{animate:!0,easing:Jn.EASING,duration:750}),setTimeout(()=>{this.view.goTo({target:_,scale:C},{animate:!0,easing:Jn.EASING,duration:750})},300)},300)}zoomToGeometry(_){let C=new Iu.Z({xmin:-285402,ymin:22598,xmax:595402,ymax:903402,spatialReference:ah.SPATIAL_REFERENCE});_&&null!==_.extent&&(C=_.extent.clone().expand(1.3)),this.view.goTo({target:C.center,scale:35e3},{animate:!0,easing:Jn.EASING,duration:750}).finally(()=>{this.view.extent=C})}}return A.\u0275fac=function(_){return new(_||A)(rn(fo),rn(_o),rn(qo))},A.\u0275cmp=dr({type:A,selectors:[["dinoloket-identify-map"]],inputs:{x:"x",y:"y",polygon:"polygon",layerUrls:"layerUrls",geometriesSubject:"geometriesSubject"},decls:1,vars:0,consts:[[1,"identify_map"]],template:function(_,C){1&_&&Bn(0,"div",0)},styles:[".identify_map[_ngcontent-%COMP%]{width:100%;height:100%}"]}),A})();function tee(A,w){1&A&&Bn(0,"dinoloket-loading-progress-dialog",14)}function iee(A,w){if(1&A&&(pt(0,"tr"),pt(1,"td",19),tn(2),sn(3,"translate"),ft(),pt(4,"td"),tn(5),ft(),ft()),2&A){const _=Wt(4);vt(2),Rn(on(3,2,"sgm.pedologicalInterest")),vt(3),Rn(_.sgm2.pedologicalInterest)}}function nee(A,w){1&A&&(pt(0,"span"),tn(1," - "),ft())}function ree(A,w){if(1&A&&(Pi(0,nee,2,0,"span",13),tn(1),sn(2,"translate")),2&A){const C=w.$implicit;It("ngIf",w.index>0),vt(1),Kr(" ",on(2,2,"SGM2."+C.unit)," ")}}function see(A,w){if(1&A&&(pt(0,"tr"),pt(1,"td",19),tn(2),sn(3,"translate"),ft(),pt(4,"td"),Pi(5,ree,3,4,"ng-template",20),tn(6),ft(),ft()),2&A){const _=Wt(4);vt(2),Rn(on(3,3,"sgm.soilClass")),vt(3),It("ngForOf",_.sgm2.layers),vt(1),Kr(" (",_.sgm2.fullUnit,") ")}}function oee(A,w){if(1&A&&(pt(0,"tr"),pt(1,"td",19),tn(2),sn(3,"translate"),ft(),pt(4,"td"),tn(5),ft(),ft()),2&A){const _=Wt(4);vt(2),Rn(on(3,2,"sgm.slope")),vt(3),Rn(_.sgm2.slope)}}function aee(A,w){if(1&A&&(pt(0,"tr"),pt(1,"td",17),tn(2),sn(3,"translate"),ft(),pt(4,"td"),tn(5),ft(),ft()),2&A){const _=Wt(2).$implicit;vt(2),Rn(on(3,2,"sgm.kenmerkboven")),vt(3),Rn(_.topLayer)}}function lee(A,w){if(1&A&&(pt(0,"tr"),pt(1,"td",17),tn(2),sn(3,"translate"),ft(),pt(4,"td"),tn(5),ft(),ft()),2&A){const _=Wt(2).$implicit;vt(2),Rn(on(3,2,"sgm.kenmerkonder")),vt(3),Rn(_.bottomLayer)}}function cee(A,w){if(1&A&&(pt(0,"tr"),pt(1,"td",21),Bn(2,"br"),pt(3,"strong"),tn(4),sn(5,"translate"),ft(),ft(),ft(),Pi(6,aee,6,4,"tr",13),pt(7,"tr"),pt(8,"td",19),tn(9),sn(10,"translate"),ft(),pt(11,"td"),tn(12),ft(),ft(),Pi(13,lee,6,4,"tr",13)),2&A){const _=Wt(),C=_.index,I=_.$implicit;vt(4),Mu("",on(5,6,"sgm.soilUnit")," ",C+1,""),vt(2),It("ngIf",I.topLayer),vt(3),Rn(on(10,8,"sgm.soilClass")),vt(3),Rn(I.unit),vt(1),It("ngIf",I.bottomLayer)}}function uee(A,w){if(1&A&&Pi(0,cee,14,10,"ng-template",18),2&A){const _=w.$implicit;It("ngIf",Wt(5).sgm2.layers.length>1||_.bottomLayer||_.topLayer)}}function hee(A,w){1&A&&Pi(0,uee,1,1,"ng-template",20),2&A&&It("ngForOf",Wt(4).sgm2.layers)}function dee(A,w){if(1&A&&(pt(0,"table",16),pt(1,"tr"),pt(2,"td",17),tn(3),sn(4,"translate"),ft(),pt(5,"td"),tn(6),ft(),ft(),Pi(7,iee,6,4,"tr",13),Pi(8,see,7,5,"tr",13),Pi(9,oee,6,4,"tr",13),Pi(10,hee,1,1,"ng-template",18),ft()),2&A){const _=Wt(3);vt(3),Rn(on(4,6,"sgm.identification")),vt(3),Rn(_.sgm2.mapId),vt(1),It("ngIf",_.sgm2.pedologicalInterest),vt(1),It("ngIf",_.sgm2.layers.length>0),vt(1),It("ngIf",_.sgm2.slope),vt(1),It("ngIf",_.sgm2.layers.length>0)}}function pee(A,w){if(1&A&&(pt(0,"tr"),pt(1,"td"),tn(2),ft(),pt(3,"td"),tn(4),ft(),pt(5,"td"),tn(6),ft(),pt(7,"td"),tn(8),ft(),pt(9,"td"),tn(10),ft(),pt(11,"td"),tn(12),ft(),pt(13,"td"),tn(14),ft(),pt(15,"td"),tn(16),ft(),pt(17,"td"),tn(18),ft(),pt(19,"td"),tn(20),ft(),pt(21,"td"),tn(22),ft(),pt(23,"td"),tn(24),ft(),pt(25,"td"),tn(26),ft(),pt(27,"td"),tn(28),ft(),ft()),2&A){const _=w.$implicit;vt(2),Rn(_.faoHorizonNotation),vt(2),Rn(_.lowerValue),vt(2),Rn(_.upperValue),vt(2),Rn(_.organicMatterContent),vt(2),Rn(_.peattype),vt(2),Rn(_.lutiteContent),vt(2),Rn(_.siltContent),vt(2),Rn(_.loamContent),vt(2),Rn(_.sandmedian),vt(2),Rn(_.acidity),vt(2),Rn(_.calcicContent),vt(2),Rn(_.fedith),vt(2),Rn(_.cnratio),vt(2),Rn(_.density)}}function fee(A,w){if(1&A&&(pt(0,"div"),Bn(1,"br"),pt(2,"table",22),pt(3,"tr"),pt(4,"th"),tn(5),sn(6,"translate"),ft(),pt(7,"th"),tn(8),sn(9,"translate"),ft(),pt(10,"th"),tn(11),sn(12,"translate"),ft(),pt(13,"th"),tn(14),sn(15,"translate"),ft(),pt(16,"th"),tn(17),sn(18,"translate"),ft(),pt(19,"th"),tn(20),sn(21,"translate"),ft(),pt(22,"th"),tn(23),sn(24,"translate"),ft(),pt(25,"th"),tn(26),sn(27,"translate"),ft(),pt(28,"th"),tn(29),sn(30,"translate"),ft(),pt(31,"th"),tn(32),sn(33,"translate"),ft(),pt(34,"th"),tn(35),sn(36,"translate"),ft(),pt(37,"th"),tn(38),sn(39,"translate"),ft(),pt(40,"th"),tn(41),sn(42,"translate"),ft(),pt(43,"th"),tn(44),sn(45,"translate"),ft(),ft(),Pi(46,pee,29,14,"tr",23),ft(),ft()),2&A){const _=Wt(3);vt(5),Rn(on(6,15,"sgm2.profile.faoHorizonNotation")),vt(3),Rn(on(9,17,"sgm2.profile.lowerValue")),vt(3),Rn(on(12,19,"sgm2.profile.upperValue")),vt(3),Rn(on(15,21,"sgm2.profile.organicMatterContent")),vt(3),Rn(on(18,23,"sgm2.profile.peatType")),vt(3),Rn(on(21,25,"sgm2.profile.lutiteContent")),vt(3),Rn(on(24,27,"sgm2.profile.siltContent")),vt(3),Rn(on(27,29,"sgm2.profile.loamContent")),vt(3),Rn(on(30,31,"sgm2.profile.sandMedian")),vt(3),Rn(on(33,33,"sgm2.profile.acidity")),vt(3),Rn(on(36,35,"sgm2.profile.calcicContent")),vt(3),Rn(on(39,37,"sgm2.profile.fedith")),vt(3),Rn(on(42,39,"sgm2.profile.cnRatio")),vt(3),Rn(on(45,41,"sgm2.profile.density")),vt(2),It("ngForOf",_.sgm2.horizon)}}function mee(A,w){if(1&A&&(pt(0,"div"),Pi(1,dee,11,8,"table",15),Pi(2,fee,47,43,"div",13),ft()),2&A){const _=Wt(2);vt(1),It("ngIf",0===_.activeTabIndex),vt(1),It("ngIf",1===_.activeTabIndex)}}const gee=function(A,w){return[A,w]};function yee(A,w){if(1&A){const _=tr();pt(0,"div",1),pt(1,"div",2),pt(2,"div",3),Pi(3,tee,1,0,"dinoloket-loading-progress-dialog",4),pt(4,"div",5),pt(5,"div",6),pt(6,"dinoloket-identify-pagination-header",7),An("next",function(){return zi(_),Wt().next()})("previous",function(){return zi(_),Wt().previous()}),sn(7,"translate"),ft(),Bn(8,"br"),pt(9,"div",8),Bn(10,"dinoloket-identify-map",9),ft(),Bn(11,"br"),pt(12,"input",10),An("click",function(){return zi(_),Wt().save()}),sn(13,"translate"),ft(),ft(),pt(14,"div",11),pt(15,"dinoloket-tabbed-header",12),An("changeTab",function(I){return zi(_),Wt().activeTabIndex=I})("closeWindow",function(){zi(_);const I=Wt();return I.sgm2Results=null,I.sgm2=null,I.windowClosed.emit(!0)}),ft(),Pi(16,mee,3,2,"div",13),ft(),ft(),ft(),ft(),ft()}if(2&A){const _=Wt();vt(3),It("ngIf",_.downloading),vt(3),It("hasNext",_.hasNext())("hasPrevious",_.hasPrevious())("pageNumber",_.sgm2Index+1)("title",on(7,14,"sgm2FullName"))("totalPages",_.sgm2Results.length),vt(4),It("layerUrls",bo(18,gee,_.mapService.settings.sgm2ArcGisServerURLstatic,_.mapService.settings.sgm2ArcGisServerURLdynamic))("geometriesSubject",_.updateGeometries)("polygon",_.polygon),vt(2),qu("value",on(13,16,"downloadAll")),It("disabled",_.downloading),vt(3),It("activeTabIndex",_.activeTabIndex)("tabs",_.tabs),vt(1),It("ngIf",_.sgm2)}}let vee=(()=>{class A{constructor(_,C){this.mapService=_,this.simpleModelService=C,this.geometryChanged=new er,this.windowClosed=new er,this.updateGeometries=new Se,this.downloading=!1}ngOnChanges(){this.sgm2Index=0,this.activeTabIndex=0,this.updateData()}save(){const _=[];this.downloading=!0;for(const C of this.identifyResults)_.push(C.attributes.MAP_AREA_ID);this.simpleModelService.getSgmDownload(_).subscribe(C=>{const I=new Blob([C],{type:"application/octetstream"});(0,Cq.saveAs)(I,"sgm.zip"),this.downloading=!1})}updatePolygon(){for(const _ of this.identifyResults)_.attributes.MAP_AREA_ID===this.sgm2.mapId&&(this.polygon=_.geometry,this.updateGeometries.next(_.geometry))}next(){this.hasNext()&&(this.sgm2Index++,this.updateData())}hasNext(){return this.sgm2Index+1<this.sgm2Results.length}hasPrevious(){return this.sgm2Index-1>=0}previous(){this.hasPrevious()&&(this.sgm2Index--,this.updateData())}updateData(){this.sgm2Results&&(this.sgm2=this.sgm2Results[this.sgm2Index],this.geometryChanged.emit({id:this.sgm2.mapId,field:"MAP_AREA_ID"}),this.tabs=["tab.basicData"],this.sgm2.horizon&&this.sgm2.horizon.length>0&&this.tabs.push("sgm2.profile.tabName"),this.activeTabIndex=0,this.updatePolygon())}}return A.\u0275fac=function(_){return new(_||A)(rn(qo),rn(SS))},A.\u0275cmp=dr({type:A,selectors:[["dinoloket-identify-sgm2"]],inputs:{sgm2Results:"sgm2Results",identifyResults:"identifyResults"},outputs:{geometryChanged:"geometryChanged",windowClosed:"windowClosed"},features:[go],decls:1,vars:1,consts:[["class","modal","id","mdl-sgm2",4,"ngIf"],["id","mdl-sgm2",1,"modal"],[1,"modal-dialog"],[1,"modal-content","main-content"],["message","downloadProgress",4,"ngIf"],[1,"row"],["id","left-column",1,"col-sm-4"],[3,"hasNext","hasPrevious","pageNumber","title","totalPages","next","previous"],[1,"map"],[3,"layerUrls","geometriesSubject","polygon"],["type","button",1,"btn","btn-default","btn-sm","secondary-button","max-width","green-button",3,"disabled","value","click"],[1,"col-sm-8"],[3,"activeTabIndex","tabs","changeTab","closeWindow"],[4,"ngIf"],["message","downloadProgress"],["class","table identify_grid",4,"ngIf"],[1,"table","identify_grid"],[1,"nowrap","table-label"],[3,"ngIf"],[1,"table-label"],["ngFor","",3,"ngForOf"],["colspan","2"],[1,"profileTable"],[4,"ngFor","ngForOf"]],template:function(_,C){1&_&&Pi(0,yee,17,21,"div",0),2&_&&It("ngIf",C.sgm2Results)},directives:[to,eB,eee,nB,nx,uc],pipes:[Xs],styles:["#mdl-sgm2[_ngcontent-%COMP%]{visibility:visible;display:inherit}.modal-dialog[_ngcontent-%COMP%]{width:100%;height:100%;margin:0;padding:0}.modal-content[_ngcontent-%COMP%]{height:auto;min-height:100%;border-radius:0;border:0}.nowrap[_ngcontent-%COMP%]{white-space:nowrap}.table-label[_ngcontent-%COMP%]{width:200px}.identify_grid[_ngcontent-%COMP%]{margin-bottom:0;margin-top:10px;line-height:20px}.identifyOverflow[_ngcontent-%COMP%]{margin-bottom:0}.profileTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .profileTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:3px;border:1px solid;text-align:center}.map[_ngcontent-%COMP%]{height:550px}@media (max-height: 700px){.map[_ngcontent-%COMP%]{height:250px}}@media (min-height: 701px) and (max-height: 900px){.map[_ngcontent-%COMP%]{height:400px}}@media (max-width: 1280px){#left-column[_ngcontent-%COMP%]{max-width:25%!important}}@media (min-width: 1281px) and (max-width: 1600px){#left-column[_ngcontent-%COMP%]{max-width:33%!important}}"]}),A})();function _ee(A,w){if(1&A&&(pt(0,"td"),tn(1),sn(2,"translate"),ft()),2&A){const _=Wt().$implicit,C=Wt(2);vt(1),Rn(on(2,1,"geok.info."+C.geok.feature.attributes.CODE+"."+_))}}function bee(A,w){if(1&A&&(pt(0,"td"),pt(1,"a",10),sn(2,"translate"),tn(3),sn(4,"translate"),ft(),ft()),2&A){const _=Wt().$implicit,C=Wt(2);vt(1),qu("href",on(2,2,"geok.info."+C.geok.feature.attributes.CODE+"."+_),$o),vt(2),Rn(on(4,4,"geok.label.nomenclator"))}}function Aee(A,w){if(1&A&&(pt(0,"tr"),pt(1,"td",7),tn(2),sn(3,"translate"),ft(),Pi(4,_ee,3,3,"td",9),Pi(5,bee,5,6,"td",9),ft()),2&A){const _=w.$implicit;vt(2),Rn(on(3,3,"geok.label."+_)),vt(2),It("ngIf","url"!==_&&"url2"!==_&&"url3"!==_&&"url4"!==_),vt(1),It("ngIf","url"===_||"url2"===_||"url3"===_||"url4"===_)}}function wee(A,w){if(1&A){const _=tr();pt(0,"div",2),pt(1,"div",3),pt(2,"dinoloket-tabbed-header",4),An("changeTab",function(I){return zi(_),Wt().changeTab(I)})("closeWindow",function(){zi(_);const I=Wt();return I.geokResults=null,I.geok=null,I.windowClosed.emit(!0)}),ft(),pt(3,"div",5),pt(4,"table",6),pt(5,"tr"),pt(6,"td",7),tn(7),sn(8,"translate"),ft(),pt(9,"td"),tn(10),ft(),ft(),Pi(11,Aee,6,5,"tr",8),ft(),ft(),ft(),ft()}if(2&A){const _=Wt();vt(2),It("tabs",_.tabs)("activeTabIndex",_.activeTabIndex),vt(5),Rn(on(8,5,"geok.label.code")),vt(3),Rn(_.geok.feature.attributes.CODE),vt(1),It("ngForOf",_.geokInfo[_.geok.feature.attributes.CODE])}}let Cee=(()=>{class A{constructor(){this.windowClosed=new er,this.legendChanged=new er,this.geometryChanged=new er,this.geokInfo={U:["desc","litho","ouderdom","name","url"],SB1:["desc","litho","ouderdom","name","url"],SB2:["desc","litho","ouderdom","name","url"],ds:["desc","litho","ouderdom","name","url","name2","url2"],dsg:["desc","litho","ouderdom","name","url","name2","url2","name3","url3"],dg:["desc","litho","ouderdom","name","url","name2","url2"],do:["desc","litho","ouderdom","name","url","name2","url2"],s:["desc","litho","ouderdom","name","url"],sg:["desc","litho","ouderdom","name","url","name2","url2"],g:["desc","litho","ouderdom","name","url"],o:["desc","litho","ouderdom","name","url"],os:["desc","litho","ouderdom","name","url","name2","url2","name3","url3"],osg:["desc","litho","ouderdom","name","url","name2","url2","name3","url3"],ov:["desc","litho","ouderdom","name","url","name2","url2"],"ovg*":["desc","litho","ouderdom","name","url","name2","url2","name3","url3"],"ovo*":["desc","litho","ouderdom","name","url","name2","url2","name3","url3"],"og*":["desc","litho","ouderdom","name","url","name2","url2"],"oo*":["desc","litho","ouderdom","name","url","name2","url2"],v:["desc","litho","ouderdom","name","url"],"vg*":["desc","litho","ouderdom","name","url","name2","url2"],"vo*":["desc","litho","ouderdom","name","url","name2","url2"],"g*":["desc","litho","ouderdom","name","url"],"o*":["desc","litho","ouderdom","name","url"],b:["desc","litho","ouderdom","name","url"],k:["desc","litho","ouderdom","name","url"],kb:["desc","litho","ouderdom","name","url"],kv:["desc","litho","ouderdom","name","url","name2","url2"],"kvo*":["desc","litho","ouderdom","name","url","name2","url2","name3","url3"],"kg*":["desc","litho","ouderdom","name","url","name2","url2"],"v*":["desc","litho","ouderdom","name","url"],BX1:["desc","litho","ouderdom","name","url"],BX2:["desc","litho","ouderdom","name","url"],BX3:["desc","litho","ouderdom","name","url"],BX4:["desc","litho","ouderdom","name","url","name2","url2"],BX5:["desc","litho","ouderdom","name","url"],BE1:["desc","litho","ouderdom","name","url"],BE2:["desc","litho","ouderdom","name","url"],BE3:["desc","litho","ouderdom","name","url"],KR1:["desc","litho","ouderdom","name","url"],KR2:["desc","litho","ouderdom","name","url"],DB1:["desc","litho","ouderdom","name","url"],DB2:["desc","litho","ouderdom","name","url"],EE1:["desc","litho","ouderdom","name","url"],EE2:["desc","litho","ouderdom","name","url"],DR1:["desc","litho","ouderdom","name","url"],DR2:["desc","litho","ouderdom","name","url"],G1:["desc"],G2:["desc"],DN:["desc","litho","ouderdom","name","url"],PE:["desc","litho","ouderdom","name","url"],UR:["desc","litho","ouderdom","name","url"],UAP:["desc","litho","ouderdom","name","url","name2","url2","name3","url3"],ST:["desc","litho","ouderdom","name","url"],SY:["desc","litho","ouderdom","name","url"],YS:["desc","litho","ouderdom","name","url","name2","url2"],WA:["desc","litho","ouderdom","name","url"],MO:["desc","litho","ouderdom","name","url","name2","url2"],KI:["desc","litho","ouderdom","name","url"],BR:["desc","litho","ouderdom","name","url"],RTD:["desc","litho","ouderdom","name","url","name2","url2","name3","url3"],MT:["desc","litho","ouderdom","name","url"],GU:["desc","litho","ouderdom","name","url"],VA:["desc","litho","ouderdom","name","url","name2","url2"],VKZ:["desc","litho","ouderdom","name","url","name2","url2"],MR:["desc","litho","ouderdom","name","url","name2","url2"],EP:["desc","litho","ouderdom","name","url"],BRL1:["desc"],BRL2:["desc"],SAA1:["desc","ouderdom"],SAA2:["desc","ouderdom"],WEI1:["desc","ouderdom"],WEI2:["desc","ouderdom"]}}ngOnChanges(){if(this.geokResults){this.activeTabIndex=0;const _=this.geokResults.filter(C=>"U"!==C.feature.attributes.CODE);_.length>0?(this.geok=_[0],this.tabs=["formationName"],this.geokResults.filter(C=>"U"===C.feature.attributes.CODE).length>0&&this.tabs.push("uraniaName")):(this.tabs=["uraniaName"],this.geok=this.geokResults.filter(C=>"U"===C.feature.attributes.CODE)[0]),this.update()}}changeTab(_){_!==this.activeTabIndex&&(this.activeTabIndex=_,this.geok=0===_?this.geokResults.filter(C=>"U"!==C.feature.attributes.CODE)[0]:this.geokResults.filter(C=>"U"===C.feature.attributes.CODE)[0],this.update())}update(){this.legendChanged.emit(this.geok.feature.attributes.CODE),this.geometryChanged.emit({id:this.geok.feature.attributes.OBJECTID,field:"OBJECTID"})}}return A.\u0275fac=function(_){return new(_||A)},A.\u0275cmp=dr({type:A,selectors:[["dinoloket-identify-geok"]],inputs:{geokResults:"geokResults",clickedLocation:"clickedLocation"},outputs:{windowClosed:"windowClosed",legendChanged:"legendChanged",geometryChanged:"geometryChanged"},features:[go],decls:2,vars:1,consts:[["id","identifyGeokHolder",1,"hideEsriBorder"],["class","identifyPopup","id","identifyGeok",4,"ngIf"],["id","identifyGeok",1,"identifyPopup"],[1,"row","col-sm-12","main-content","identifyData"],[3,"tabs","activeTabIndex","changeTab","closeWindow"],[1,"identifyOverflow"],[1,"table","identify_grid"],[1,"nowrap"],[4,"ngFor","ngForOf"],[4,"ngIf"],["target","_blank",3,"href"]],template:function(_,C){1&_&&(pt(0,"div",0),Pi(1,wee,12,7,"div",1),ft()),2&_&&(vt(1),It("ngIf",C.geokResults))},directives:[to,nx,uc],pipes:[Xs],styles:[".nowrap[_ngcontent-%COMP%]{white-space:nowrap}"]}),A})();class rB{static getDate(w){return null!=w&&"Null"!==w?Date.parse(w):null}}function xee(A,w){1&A&&(Bn(0,"img",16),sn(1,"translate")),2&A&&It("alt",on(1,1,"arrow-left-black"))}function Eee(A,w){1&A&&(Bn(0,"img",17),sn(1,"translate")),2&A&&It("alt",on(1,1,"arrow-left-green"))}function Dee(A,w){if(1&A){const _=tr();pt(0,"span",13),An("click",function(){return zi(_),Wt(3).previous()}),Pi(1,xee,2,3,"img",14),Pi(2,Eee,2,3,"img",15),ft()}if(2&A){const _=Wt(3);vt(1),It("ngIf",_.configService.broOnly),vt(1),It("ngIf",!_.configService.broOnly)}}function Mee(A,w){1&A&&(Bn(0,"img",20),sn(1,"translate")),2&A&&It("alt",on(1,1,"arrow-right-black"))}function See(A,w){1&A&&(Bn(0,"img",21),sn(1,"translate")),2&A&&It("alt",on(1,1,"arrow-right-green"))}function Tee(A,w){if(1&A){const _=tr();pt(0,"span",13),An("click",function(){return zi(_),Wt(3).next()}),Pi(1,Mee,2,3,"img",18),Pi(2,See,2,3,"img",19),ft()}if(2&A){const _=Wt(3);vt(1),It("ngIf",_.configService.broOnly),vt(1),It("ngIf",!_.configService.broOnly)}}function Iee(A,w){if(1&A&&(pt(0,"div",8),pt(1,"div",9),pt(2,"div",10),Pi(3,Dee,3,2,"span",11),pt(4,"span",12),pt(5,"strong"),tn(6),ft(),tn(7),sn(8,"translate"),ft(),Pi(9,Tee,3,2,"span",11),ft(),ft(),ft()),2&A){const _=Wt(2);vt(3),It("ngIf",_.hasPrevious()),vt(3),Rn(_.currentBoreholeIndex),vt(1),Mu(" ",on(8,5,"paginationOf")," ",_.boreholes.length,""),vt(2),It("ngIf",_.hasNext())}}function Oee(A,w){if(1&A&&(pt(0,"div"),pt(1,"table",22),pt(2,"tr"),pt(3,"td"),tn(4),sn(5,"translate"),ft(),pt(6,"td"),tn(7),sn(8,"translate"),ft(),ft(),pt(9,"tr"),pt(10,"td"),tn(11),sn(12,"translate"),ft(),pt(13,"td"),tn(14),ft(),ft(),pt(15,"tr"),pt(16,"td"),tn(17),sn(18,"translate"),ft(),pt(19,"td"),tn(20),sn(21,"date"),ft(),ft(),pt(22,"tr"),pt(23,"td"),tn(24),sn(25,"translate"),ft(),pt(26,"td"),tn(27),ft(),ft(),ft(),ft()),2&A){const _=Wt(2);vt(4),Rn(on(5,8,"wdm.depth")),vt(3),Rn("Null"!==_.wdm.feature.attributes.DEPTH?_.wdm.feature.attributes.DEPTH+" "+on(8,10,"cm"):""),vt(4),Rn(on(12,12,"wdm.observationType")),vt(3),Rn("Null"!==_.wdm.feature.attributes.OBSERVATION_TYPE?_.wdm.feature.attributes.OBSERVATION_TYPE:""),vt(3),Rn(on(18,14,"wdm.observationDate")),vt(3),Rn(s3(21,16,_.getDate(_.wdm.feature.attributes.OBSERVATION_DATE),"dd-MM-yyyy")),vt(4),Rn(on(25,19,"wdm.commentType")),vt(3),Rn("Null"!==_.wdm.feature.attributes.COMMENT_TYPE?_.wdm.feature.attributes.COMMENT_TYPE:"")}}function Pee(A,w){if(1&A&&(pt(0,"td"),tn(1),ft()),2&A){const _=Wt(3);vt(1),Rn(_.wdm.feature.attributes["Pixel Value"])}}function kee(A,w){1&A&&(pt(0,"span"),tn(1,">250"),ft())}function Lee(A,w){if(1&A&&(pt(0,"span"),tn(1),ft()),2&A){const _=Wt(4);vt(1),Rn(_.wdm.feature.attributes["Pixel Value"])}}function Bee(A,w){if(1&A&&(pt(0,"td"),Pi(1,kee,2,0,"span",7),Pi(2,Lee,2,1,"span",7),tn(3),sn(4,"translate"),ft()),2&A){const _=Wt(3);vt(1),It("ngIf",254===_.wdm.feature.attributes["Pixel Value"]),vt(1),It("ngIf",254!==_.wdm.feature.attributes["Pixel Value"]),vt(1),Kr(" ",on(4,3,"cm"),"")}}function Ree(A,w){if(1&A&&(pt(0,"td"),pt(1,"a",24),sn(2,"translate"),tn(3),sn(4,"translate"),ft(),ft()),2&A){const _=Wt(3);vt(1),qu("href",on(2,2,"WDM.url_"+_.wdm.feature.attributes["Pixel Value"]),$o),vt(2),Rn(on(4,4,"WDM.ref_"+_.wdm.feature.attributes["Pixel Value"]))}}function Fee(A,w){if(1&A&&(pt(0,"td"),tn(1),sn(2,"translate"),ft()),2&A){const _=Wt(3);vt(1),Rn(on(2,1,"WDM.M_"+_.wdm.feature.attributes["Pixel Value"]))}}function Nee(A,w){if(1&A&&(pt(0,"div"),pt(1,"table",22),pt(2,"tr"),pt(3,"td",23),tn(4),sn(5,"translate"),ft(),Pi(6,Pee,2,1,"td",7),Pi(7,Bee,5,5,"td",7),Pi(8,Ree,5,6,"td",7),Pi(9,Fee,3,3,"td",7),ft(),ft(),ft()),2&A){const _=Wt(2);vt(4),Rn(on(5,5,"wdm.value")),vt(2),It("ngIf","NoData"===_.wdm.feature.attributes["Pixel Value"]),vt(1),It("ngIf","NoData"!==_.wdm.feature.attributes["Pixel Value"]&&("ghg"===_.mapService.activeWdmType||"glg"===_.mapService.activeWdmType||"voorjaarsNiveau"===_.mapService.activeWdmType)),vt(1),It("ngIf","NoData"!==_.wdm.feature.attributes["Pixel Value"]&&"statistischModel"===_.mapService.activeWdmType),vt(1),It("ngIf","NoData"!==_.wdm.feature.attributes["Pixel Value"]&&"gwt"===_.mapService.activeWdmType)}}function Uee(A,w){if(1&A){const _=tr();pt(0,"div",2),pt(1,"div",3),pt(2,"dinoloket-tabbed-header",4),An("changeTab",function(I){return zi(_),Wt().changeTab(I)})("closeWindow",function(){zi(_);const I=Wt();return I.wdmResults=null,I.wdm=null,I.windowClosed.emit(!0)}),ft(),Pi(3,Iee,10,7,"div",5),pt(4,"div",6),Pi(5,Oee,28,21,"div",7),Pi(6,Nee,10,7,"div",7),ft(),ft(),ft()}if(2&A){const _=Wt();vt(2),It("tabs",_.tabs)("activeTabIndex",_.activeTabIndex),vt(1),It("ngIf",0===_.activeTabIndex&&_.boreholes.length>1),vt(2),It("ngIf",0===_.activeTabIndex&&_.boreholes.length>0),vt(1),It("ngIf",0===_.activeTabIndex&&0===_.boreholes.length||1===_.activeTabIndex&&_.boreholes.length>0)}}let jee=(()=>{class A{constructor(_,C){this.mapService=_,this.configService=C,this.windowClosed=new er,this.legendChanged=new er,this.geometryChanged=new er}ngOnChanges(){this.wdmResults&&(this.test=this.sortByLastModifiedDesc,this.activeTabIndex=0,this.boreholes=this.wdmResults.filter(_=>_.feature.attributes.OBJECTID),this.boreholes&&this.boreholes.length>0?(this.tabs=["WDM.boring"],this.tabs.push("WDM."+this.mapService.activeWdmType),this.currentBoreholeIndex=1,this.wdm=this.wdmResults.filter(_=>_.feature.attributes.OBJECTID)[0]):(this.wdm=this.wdmResults.filter(_=>!_.feature.attributes.OBJECTID)[0],this.tabs=["WDM."+this.mapService.activeWdmType]),this.update())}get sortByLastModifiedDesc(){return this.wdmResults.sort((_,C)=>new Date(C.OBSERVATION_DATE)-new Date(_.OBSERVATION_DATE))}next(){this.hasNext()&&(this.wdm=this.boreholes[this.boreholes.indexOf(this.wdm)+1],this.currentBoreholeIndex++,this.update())}hasNext(){return this.boreholes.indexOf(this.wdm)+1<this.boreholes.length}hasPrevious(){return this.boreholes.indexOf(this.wdm)>0}previous(){this.hasPrevious()&&(this.wdm=this.boreholes[this.boreholes.indexOf(this.wdm)-1],this.currentBoreholeIndex--,this.update())}changeTab(_){_!==this.activeTabIndex&&(this.activeTabIndex=_,1===_?this.wdm=this.wdmResults.filter(C=>!C.feature.attributes.OBJECTID)[0]:(this.wdm=this.wdmResults.filter(C=>C.feature.attributes.OBJECTID)[0],this.currentBoreholeIndex=1),this.update())}getDate(_){return rB.getDate(_)}update(){this.wdm.feature.attributes.OBJECTID?(this.legendChanged.emit("boring"),this.geometryChanged.emit({id:this.wdm.feature.attributes.OBJECTID,field:"OBJECTID"})):(this.legendChanged.emit(this.wdm.feature.attributes["Class value"]),this.geometryChanged.emit({id:this.wdm.feature.attributes.OBJECTID,field:"OBJECTID"}))}}return A.\u0275fac=function(_){return new(_||A)(rn(qo),rn(fo))},A.\u0275cmp=dr({type:A,selectors:[["dinoloket-identify-wdm"]],inputs:{wdmResults:"wdmResults",clickedLocation:"clickedLocation"},outputs:{windowClosed:"windowClosed",legendChanged:"legendChanged",geometryChanged:"geometryChanged"},features:[go],decls:2,vars:1,consts:[["id","identifyWdmHolder",1,"hideEsriBorder"],["class","identifyPopup","id","identifyWdm",4,"ngIf"],["id","identifyWdm",1,"identifyPopup"],[1,"row","col-sm-12","main-content","identifyData"],[3,"tabs","activeTabIndex","changeTab","closeWindow"],["class","row",4,"ngIf"],[1,"identifyOverflow"],[4,"ngIf"],[1,"row"],[1,"col-sm-offset-8","col-sm-4","profile"],[1,"navigation"],["class","pager-button mousepointer",3,"click",4,"ngIf"],[1,"pagination-text"],[1,"pager-button","mousepointer",3,"click"],["src","images/arrow-left-black.png","class","pager-icon",3,"alt",4,"ngIf"],["src","images/arrow-left-green.png","class","pager-icon",3,"alt",4,"ngIf"],["src","images/arrow-left-black.png",1,"pager-icon",3,"alt"],["src","images/arrow-left-green.png",1,"pager-icon",3,"alt"],["src","images/arrow-right-black.png","class","pager-icon",3,"alt",4,"ngIf"],["src","images/arrow-right-green.png","class","pager-icon",3,"alt",4,"ngIf"],["src","images/arrow-right-black.png",1,"pager-icon",3,"alt"],["src","images/arrow-right-green.png",1,"pager-icon",3,"alt"],[1,"table","identify_grid"],[1,"nowrap"],["target","_blank","rel","noopener",3,"href"]],template:function(_,C){1&_&&(pt(0,"div",0),Pi(1,Uee,7,5,"div",1),ft()),2&_&&(vt(1),It("ngIf",C.wdmResults))},directives:[to,nx],pipes:[Xs,_O],styles:[".nowrap[_ngcontent-%COMP%]{white-space:nowrap;width:30%}.pagination-text[_ngcontent-%COMP%]{font-size:14px;padding-left:5px;padding-right:5px;font-family:OpenSans,RO Sans,Calibri,sans-serifbody,serif}.pager-button[_ngcontent-%COMP%]{padding:2px}.pager-icon[_ngcontent-%COMP%]{height:16px}"]}),A})(),Hee=(()=>{class A{constructor(_){this.mapService=_}set vertices(_){this.setVertices(_)}resetVertices(){this.mapService.mapView.graphics.remove(this.polygonGraphic)}setVertices(_){if(this.resetVertices(),_){const C=new WM.Z({outline:{color:[0,0,0],width:2}});this.polygonGraphic=new Fa.Z({geometry:_,symbol:C}),this.mapService.mapView.graphics.add(this.polygonGraphic)}}}return A.\u0275fac=function(_){return new(_||A)(rn(qo))},A.\u0275cmp=dr({type:A,selectors:[["dinoloket-draw-geometry"]],inputs:{vertices:"vertices"},decls:0,vars:0,template:function(_,C){},encapsulation:2}),A})();class sB{static formatCoordinates(w,_,C,I=null){let j=`${Number(w).toFixed(C)}, ${Number(_).toFixed(C)}`;return null!=I&&(j=`${j} (${I})`),j}static formatNumber(w,_){return Number(w).toFixed(_)}}let Vee=(()=>{class A{constructor(_){this.mapService=_,this.closeWindow=new er}closePopupWindow(){this.mapService.disableMenuToggling=!1,this.closeWindow.emit(!0)}}return A.\u0275fac=function(_){return new(_||A)(rn(qo))},A.\u0275cmp=dr({type:A,selectors:[["dinoloket-identify-header"]],inputs:{title:"title"},outputs:{closeWindow:"closeWindow"},decls:8,vars:4,consts:[[1,"row"],[1,"col-sm-11"],[1,"green","header"],[1,"col-sm-1","closeButton"],[1,"pull-right","mousepointer",3,"click"],["id","closeWindowImage","src","images/close_button.png",3,"alt"]],template:function(_,C){1&_&&(pt(0,"div",0),pt(1,"div",1),pt(2,"h4",2),tn(3),ft(),ft(),pt(4,"div",3),pt(5,"span",4),An("click",function(){return C.closePopupWindow()}),Bn(6,"img",5),sn(7,"translate"),ft(),ft(),ft()),2&_&&(vt(3),Rn(C.title),vt(3),It("alt",on(7,2,"alt-text-close-button")))},pipes:[Xs],encapsulation:2}),A})(),zee=(()=>{class A{constructor(_,C,I){this.mapService=_,this.configurationService=C,this.translateService=I,this.DRILL_STATE=Jn.DRILL_STATE,this.geomorphologicalMapFeature=this.configurationService.getFeature("geomorphologicalMapFeature"),this.dataTypeItems=this.getDataTypeItems(),this.dataType=this.mapService.activeDatatype}onChange(){this.mapService.changeLayer(this.dataType)}getDataTypeItems(){const _=[];return _.push({label:this.translateService.instant("dgmName")+" "+this.translateService.instant("dgmVersion"),value:"DGM"}),_.push({label:this.translateService.instant("rgsName")+" "+this.translateService.instant("rgsVersion"),value:"RGS"}),_.push({label:this.translateService.instant("gtpName")+" "+this.translateService.instant("gtpVersion"),value:"GTP"}),this.configurationService.broOnly||_.push(this.mapService.gmd5Feature?{label:this.translateService.instant("gmd5Name")+" "+this.translateService.instant("gmd5Version"),value:"GMD5"}:{label:this.translateService.instant("gmdName")+" "+this.translateService.instant("gmdVersion"),value:"GMD"}),_}}return A.\u0275fac=function(_){return new(_||A)(rn(qo),rn(fo),rn(Ll))},A.\u0275cmp=dr({type:A,selectors:[["dinoloket-columns-mdl-toggle"]],decls:3,vars:8,consts:[["baseZIndex","5000","appendTo","body","id","columns-mdl-toggle",3,"ngModel","options","styleClass","title","onChange","ngModelChange"]],template:function(_,C){1&_&&(pt(0,"p-dropdown",0),An("onChange",function(){return C.onChange()})("ngModelChange",function(j){return C.dataType=j}),sn(1,"translate"),sn(2,"translate"),ft()),2&_&&It("ngModel",C.dataType)("options",C.dataTypeItems)("styleClass","input-dropdown")("title",C.mapService.getMapState()===C.DRILL_STATE?on(1,4,"collums.mdl.toggle.applehole.mouseover"):on(2,6,"collums.mdl.toggle.borehole.mouseover"))},directives:[r1,Qd,oh],pipes:[Xs],encapsulation:2}),A})();function Wee(A,w){1&A&&(Bn(0,"strong",6),sn(1,"translate")),2&A&&It("innerHTML",on(1,1,"column."+Wt(2).$implicit.code),ul)}function Kee(A,w){if(1&A&&(pt(0,"span"),Pi(1,Wee,2,3,"ng-template",5),tn(2),Bn(3,"br"),ft()),2&A){const _=Wt().$implicit;vt(1),It("ngIf","DEPTH"!==_.code),vt(1),Kr(" ",_.value," ")}}function Qee(A,w){1&A&&Bn(0,"br")}function Gee(A,w){if(1&A&&(pt(0,"a",8),tn(1),Pi(2,Qee,1,0,"br",4),ft()),2&A){const _=w.$implicit,C=w.index,I=w.last,j=Wt(4);It("href",_,$o),vt(1),Kr(" Nomenclator ",j.getLinkName(C)," "),vt(1),It("ngIf",!I)}}function $ee(A,w){1&A&&Pi(0,Gee,3,3,"a",7),2&A&&It("ngForOf",Wt().$implicit.value.split(";"))}function Zee(A,w){if(1&A&&(Pi(0,Kee,4,2,"span",4),Pi(1,$ee,1,1,"ng-template",5)),2&A){const _=w.$implicit;It("ngIf","URL"!==_.code&&"LINK_NAME"!==_.code),vt(1),It("ngIf","URL"===_.code)}}function Jee(A,w){if(1&A){const _=tr();pt(0,"div",1,2),An("mouseleave",function(){return zi(_),Wt().popupInvisible.emit(!0)}),Pi(2,Zee,2,2,"ng-template",3),ft()}if(2&A){const _=Wt();It("ngStyle",_.popupStyle()),vt(2),It("ngForOf",_.metadata.layerInfos)}}let Xee=(()=>{class A{constructor(_){this.configService=_,this.popupInvisible=new er}popupStyle(){return{top:this.y+"px",left:this.x+"px"}}getLinkName(_){let C="";return this.metadata.layerInfos.forEach(I=>{"LINK_NAME"===I.code&&(C=I.value.split(";")[_])}),C}}return A.\u0275fac=function(_){return new(_||A)(rn(fo))},A.\u0275cmp=dr({type:A,selectors:[["dinoloket-columns-mdl-tooltip"]],inputs:{y:"y",x:"x",metadata:"metadata"},outputs:{popupInvisible:"popupInvisible"},decls:1,vars:1,consts:[["class","mdl-columns-tooltip","id","columns-tooltip",3,"ngStyle","mouseleave",4,"ngIf"],["id","columns-tooltip",1,"mdl-columns-tooltip",3,"ngStyle","mouseleave"],["toolTip",""],["ngFor","",3,"ngForOf"],[4,"ngIf"],[3,"ngIf"],[3,"innerHTML"],["target","_blank",3,"href",4,"ngFor","ngForOf"],["target","_blank",3,"href"]],template:function(_,C){1&_&&Pi(0,Jee,3,2,"div",0),2&_&&It("ngIf",C.metadata)},directives:[to,el,uc],pipes:[Xs],styles:[".mdl-columns-tooltip[_ngcontent-%COMP%]{position:fixed;z-index:100;background-color:#fff;padding:5px;border:black 1px solid}"]}),A})();const oB=function(){return{color:"black"}},aB=function(){return{color:"grey"}};let Yee=(()=>{class A{constructor(){this.next=new er,this.previous=new er}nextResult(){this.next.emit(!0)}previousResult(){this.previous.emit(!0)}}return A.\u0275fac=function(_){return new(_||A)},A.\u0275cmp=dr({type:A,selectors:[["dinoloket-identify-footer"]],inputs:{hasNext:"hasNext",hasPrevious:"hasPrevious"},outputs:{next:"next",previous:"previous"},decls:3,vars:6,consts:[[1,"pull-right","navigation"],["aria-hidden","true",1,"esri-popup__icon","esri-icon-left-triangle-arrow","esri-popup__pagination-next-icon","mousepointer",3,"ngStyle","click"],["aria-hidden","true",1,"esri-popup__icon","esri-icon-right-triangle-arrow","esri-popup__pagination-previous-icon","mousepointer",3,"ngStyle","click"]],template:function(_,C){1&_&&(pt(0,"div",0),pt(1,"span",1),An("click",function(){return C.previousResult()}),ft(),pt(2,"span",2),An("click",function(){return C.nextResult()}),ft(),ft()),2&_&&(vt(1),It("ngStyle",C.hasPrevious?Yc(2,oB):Yc(3,aB)),vt(1),It("ngStyle",C.hasNext?Yc(4,oB):Yc(5,aB)))},directives:[el],styles:[".navigation[_ngcontent-%COMP%]{padding-top:26px}"]}),A})();function qee(A,w){if(1&A){const _=tr();pt(0,"div"),pt(1,"dinoloket-identify-header",5),An("closeWindow",function(){return zi(_),Wt().close()}),sn(2,"translate"),ft(),tn(3),sn(4,"translate"),ft()}2&A&&(vt(1),It("title",on(2,2,"loadingData")),vt(2),Kr(" ",on(4,4,"waitForDataRetrieval")," "))}function ete(A,w){if(1&A&&(pt(0,"tr"),pt(1,"td"),tn(2),sn(3,"translate"),ft(),pt(4,"td"),tn(5),ft(),ft()),2&A){const _=Wt(2);vt(2),Kr("",on(3,2,"identNumber"),":"),vt(3),Rn(_.mdlColumns.columnId)}}function tte(A,w){if(1&A&&(pt(0,"td"),tn(1),sn(2,"translate"),ft()),2&A){const _=Wt(2);vt(1),Mu("",_.formatNumber(_.mdlColumns.surfacelevelHeight,2),"\xa0m\xa0",on(2,2,"mdl.identDepthRef.tovNAP"),"")}}function ite(A,w){1&A&&(pt(0,"td"),tn(1),sn(2,"translate"),ft()),2&A&&(vt(1),Rn(on(2,1,"genericUnknown")))}function nte(A,w){if(1&A&&(pt(0,"td"),tn(1),ft()),2&A){const _=Wt(2);vt(1),Mu("",_.formatNumber(_.mdlColumns.topDepth,2),"\xa0m\xa0-\xa0",_.formatNumber(_.mdlColumns.bottomDepth,2),"\xa0m")}}function rte(A,w){if(1&A&&(pt(0,"td"),tn(1),ft()),2&A){const _=Wt(2);vt(1),Mu("",_.formatNumber(_.mdlColumns.bottomDepth,2),"\xa0m\xa0-\xa0",_.formatNumber(_.mdlColumns.topDepth,2),"\xa0m")}}function ste(A,w){if(1&A&&(pt(0,"td"),tn(1),ft()),2&A){const _=Wt(3);vt(1),Rn(_.getMVNumericalLine())}}function ote(A,w){if(1&A&&(pt(0,"td"),tn(1),ft()),2&A){const _=Wt(3);vt(1),Kr("",_.getNAPNumericalLine()," ")}}function ate(A,w){if(1&A&&(pt(0,"tr"),pt(1,"td"),tn(2),ft(),Pi(3,ste,2,1,"td",3),Pi(4,ote,2,1,"td",3),ft()),2&A){const _=Wt(2);vt(2),Rn(_.getSelectedRangeLineHeader()),vt(1),It("ngIf","MV"===_.mdlColumns.depthReference),vt(1),It("ngIf","NAP"===_.mdlColumns.depthReference)}}const lB=function(A,w){return[A,w]};function lte(A,w){if(1&A){const _=tr();pt(0,"dinoloket-slider",25),An("updateValues",function(I){return zi(_),Wt(2).columnDepthTraject(I)}),ft()}if(2&A){const _=Wt(2);It("detectAllChanges",!1)("max",_.mdlColumns.bottomDepth)("min",_.mdlColumns.topDepth)("selectionRange",bo(6,lB,_.mdlColumns.topDepth,_.mdlColumns.bottomDepth))("step",.01)("unit","m")}}function cte(A,w){if(1&A){const _=tr();pt(0,"dinoloket-slider",26),An("updateValues",function(I){return zi(_),Wt(2).columnDepthTrajectNAP(I)}),ft()}if(2&A){const _=Wt(2);It("detectAllChanges",!1)("max",_.mdlColumns.topDepth)("min",_.mdlColumns.bottomDepth)("selectionRange",bo(6,lB,_.mdlColumns.bottomDepth,_.mdlColumns.topDepth))("unit","m")("step",.01)}}function ute(A,w){if(1&A){const _=tr();pt(0,"p-dropdown",27),An("onChange",function(){return zi(_),Wt(2).updateDepthReference()})("ngModelChange",function(I){return zi(_),Wt(2).selectedDepthReference=I}),ft()}if(2&A){const _=Wt(2);It("ngModel",_.selectedDepthReference)("options",_.depthReferences)("styleClass","input-dropdown")}}function hte(A,w){if(1&A&&(pt(0,"td"),Bn(1,"img",32),sn(2,"translate"),ft()),2&A){const _=w.$implicit;vt(1),hy("useMap","#",_.sequenceNumber,""),It("alt",on(2,3,"alt-text-column"))("src",_.imageUrl,$o)}}function dte(A,w){if(1&A){const _=tr();pt(0,"area",35),An("mouseover",function(I){const K=zi(_).$implicit;return Wt(4).setPopupVisible(I.clientX,I.clientY,K)}),ft()}if(2&A){const _=w.$implicit;It("coords",_.left+","+_.upper+","+_.right+","+_.lower)}}function pte(A,w){if(1&A&&(pt(0,"map",33),Pi(1,dte,1,1,"area",34),ft()),2&A){const _=w.$implicit;It("id",_.sequenceNumber)("name",_.sequenceNumber),vt(1),It("ngForOf",_.profileMetadata)}}function fte(A,w){if(1&A){const _=tr();pt(0,"div",28),An("mouseleave",function(I){return zi(_),Wt(2).setPopupInVisible(I)}),pt(1,"table"),pt(2,"tr"),Pi(3,hte,3,5,"td",29),ft(),ft(),Pi(4,pte,2,3,"map",30),pt(5,"dinoloket-columns-mdl-tooltip",31),An("popupInvisible",function(){return zi(_),Wt(2).setPopupInVisible(null)}),ft(),ft()}if(2&A){const _=Wt(2);vt(3),It("ngForOf",null==_.mdlColumns?null:_.mdlColumns.columns),vt(1),It("ngForOf",_.mdlColumns.columns),vt(1),It("metadata",_.metadata)("x",_.x)("y",_.y)}}function mte(A,w){if(1&A){const _=tr();pt(0,"p-dropdown",40),An("ngModelChange",function(I){return zi(_),Wt(3).selectedLegend=I}),ft()}if(2&A){const _=Wt(3);It("ngModel",_.selectedLegend)("options",_.legendItems)("styleClass","input-dropdown")}}function gte(A,w){if(1&A&&(pt(0,"h5",42),tn(1),sn(2,"translate"),ft(),Bn(3,"img",43),sn(4,"translate"),Bn(5,"br")),2&A){const _=Wt().$implicit;vt(1),Rn(on(2,3,"mdl.columnsType."+_.columnType)),vt(2),It("alt",on(4,5,"alt-text-legend"))("src",_.legendUrl,$o)}}function yte(A,w){if(1&A&&(pt(0,"div"),Pi(1,gte,6,7,"ng-template",41),ft()),2&A){const _=w.$implicit,C=Wt(3);vt(1),It("ngIf",_.columnType===C.selectedLegend)}}function vte(A,w){if(1&A){const _=tr();pt(0,"div"),pt(1,"div",44),pt(2,"div",45),pt(3,"dinoloket-identify-footer",46),An("next",function(){return zi(_),Wt(3).next()})("previous",function(){return zi(_),Wt(3).previous()}),ft(),ft(),ft(),ft()}if(2&A){const _=Wt(3);vt(3),It("hasNext",_.hasNext())("hasPrevious",_.hasPrevious())}}function _te(A,w){if(1&A&&(pt(0,"div",36),pt(1,"div",37),Pi(2,mte,1,3,"p-dropdown",38),Pi(3,yte,2,1,"div",29),ft(),pt(4,"div",39),tn(5,"\xa0"),ft(),Pi(6,vte,4,2,"div",3),ft()),2&A){const _=Wt(2);vt(2),It("ngIf",_.legendItems.length>1),vt(1),It("ngForOf",null==_.mdlColumns?null:_.mdlColumns.columns),vt(3),It("ngIf",0!==_.dinoIds.length)}}function bte(A,w){if(1&A){const _=tr();pt(0,"div",6),pt(1,"dinoloket-identify-header",5,7),An("closeWindow",function(){return zi(_),Wt().close()}),sn(3,"translate"),sn(4,"translate"),sn(5,"translate"),ft(),pt(6,"div",8),pt(7,"div",9),pt(8,"table",10),Pi(9,ete,6,4,"tr",3),pt(10,"tr"),pt(11,"td"),tn(12),sn(13,"translate"),ft(),pt(14,"td"),tn(15),ft(),ft(),pt(16,"tr"),pt(17,"td"),tn(18),sn(19,"translate"),ft(),Pi(20,tte,3,4,"td",3),Pi(21,ite,3,3,"td",3),ft(),pt(22,"tr"),Bn(23,"td",11),sn(24,"translate"),Pi(25,nte,2,2,"td",3),Pi(26,rte,2,2,"td",3),ft(),Pi(27,ate,5,3,"tr",3),ft(),pt(28,"div",12),sn(29,"translate"),Bn(30,"label",11),sn(31,"translate"),Bn(32,"br"),pt(33,"div",13),Pi(34,lte,1,9,"dinoloket-slider",14),Pi(35,cte,1,9,"dinoloket-slider",15),ft(),ft(),pt(36,"div",8),pt(37,"div",16),pt(38,"input",17),An("click",function(){zi(_);const I=To(2);return Wt().saveToImage(I)}),sn(39,"translate"),ft(),ft(),pt(40,"div",18),Pi(41,ute,1,3,"p-dropdown",19),ft(),ft(),Bn(42,"br"),pt(43,"label"),tn(44),sn(45,"translate"),ft(),pt(46,"div",8),pt(47,"div",18),Bn(48,"dinoloket-columns-mdl-toggle"),ft(),pt(49,"div",18),tn(50,"\xa0"),ft(),ft(),Bn(51,"br"),pt(52,"div",20,21),Bn(54,"dinoloket-identify-map",22),ft(),ft(),Pi(55,fte,6,5,"div",23),Pi(56,_te,7,3,"div",24),ft(),ft()}if(2&A){const _=Wt();vt(1),It("title",on(3,22,_.mdlColumns.columnId?"columnTitle":"virtualColumnTitle")+" "+on(4,24,_.titleName+"Name")+" "+on(5,26,_.titleName+"Version")),vt(8),It("ngIf",_.mdlColumns.columnId),vt(3),Kr("",on(13,28,"identCoordinates"),":"),vt(3),Rn(_.formatCoordinates(_.mdlColumns.xcoordinate,_.mdlColumns.ycoordinate,0,"RD")),vt(3),Kr("",on(19,30,"identDepthRef."+("GMD5"===_.mapService.activeDatatype?"GMD5.MV":"MV")),":"),vt(2),It("ngIf",null!==_.mdlColumns.surfacelevelHeight),vt(1),It("ngIf",null===_.mdlColumns.surfacelevelHeight),vt(2),It("innerHTML",on(24,32,_.mdlColumns.depthReference+"asLabelShort"),ul),vt(2),It("ngIf","MV"===_.mdlColumns.depthReference),vt(1),It("ngIf","NAP"===_.mdlColumns.depthReference),vt(1),It("ngIf",_.showSelectedRangeLineCheck()),vt(1),It("title",on(29,34,"toolTooltipBottomDepth")),vt(2),It("innerHTML",on(31,36,_.mdlColumns.depthReference+"SliderLabelShort"),ul),vt(4),It("ngIf","MV"===_.mdlColumns.depthReference),vt(1),It("ngIf","NAP"===_.mdlColumns.depthReference),vt(3),qu("value",on(39,38,"saveProfile")),vt(3),It("ngIf",2===_.depthReferenceAccepted.length),vt(3),Rn(on(45,40,"chooseModel")),vt(10),It("x",_.mdlColumns.xcoordinate)("y",_.mdlColumns.ycoordinate),vt(1),It("ngIf",_.columnsUpdated),vt(1),It("ngIf",_.columnsUpdated)}}let Ate=(()=>{class A{constructor(_,C,I,j){this.mapService=_,this.translateService=C,this.errorService=I,this.configurationService=j,this.closeButton=new er,this.depthReference=new er,this.depthRange=new er,this.formatCoordinates=sB.formatCoordinates,this.formatNumber=sB.formatNumber,this.legendItems=[],this.depthReferences=this.getDepthReferences()}get mdlColumns(){return this.columnsDto}set mdlColumns(_){_&&(-1===_.status?(this.close(),this.errorService.message=_.statusMessage):(_.topDepth=Number(Number(_.topDepth).toFixed(2)),_.bottomDepth=Number(Number(_.bottomDepth).toFixed(2)),this.columnsDto=_,this.columnsUpdated=!0,this.selectedLegend=_.columns[0].columnType,this.legendItems=this.getLegendItems()))}ngOnInit(){this.showSelectedRangeLine=!1,this.titleName=this.mdlColumnsInput.modelType.toLowerCase()}close(){this.closeButton.emit(!0)}getDate(_){return rB.getDate(_)}getMVNumericalLine(){return this.formatNumber(this.mdlColumnsInput.topDepth/100,2)+" m - "+this.formatNumber(this.mdlColumnsInput.bottomDepth/100,2)+" m"}getNAPNumericalLine(){return this.formatNumber(this.mdlColumnsInput.bottomDepth/100,2)+" m - "+this.formatNumber(this.mdlColumnsInput.topDepth/100,2)+" m"}getSelectedRangeLineHeader(){return this.translateService.instant("slider.selectedValue")+" "+this.translateService.instant("MV"===this.mdlColumns.depthReference?"slider.selectedValue.depth":"slider.selectedValue.height")+":"}showSelectedRangeLineCheck(){return this.showSelectedRangeLine&&(this.mdlColumnsInput.topDepth/100!==this.mdlColumns.topDepth||this.mdlColumnsInput.bottomDepth/100!==this.mdlColumns.bottomDepth)}updateDepthReference(){this.showSelectedRangeLine=!1,this.columnsUpdated=!1,this.depthReference.emit(this.selectedDepthReference)}saveToImage(_){this.pdfDocument=new(eT())({orientation:"landscape",unit:"px"}),this.pdfDocument.setFontSize(14),this.configurationService.broOnly||this.pdfDocument.setTextColor(141,183,89),this.pdfDocument.setFontStyle("bold");let C=30;this.pdfDocument.text(_.title,A.X_POSITION_LEFT,C),this.pdfDocument.setFontStyle("normal"),this.pdfDocument.setFontSize(10),this.pdfDocument.setTextColor(15,15,15),C+=20;const I=A.X_POSITION_LEFT+A.X_POSITION_METADATA_VALUE;if(this.mdlColumns.columnId){const ue=this.translateService.instant("identNumber")+": ";this.pdfDocument.text(ue,A.X_POSITION_LEFT,C),this.pdfDocument.text(this.mdlColumns.columnId,I,C),C+=10}const j=this.translateService.instant("identCoordinates")+": ";this.pdfDocument.text(j,A.X_POSITION_LEFT,C);const K=this.formatCoordinates(this.mdlColumns.xcoordinate,this.mdlColumns.ycoordinate,0,"RD");if(this.pdfDocument.text(K,I,C),C+=10,null!==this.mdlColumns.surfacelevelHeight){const ue=this.translateService.instant("identDepthRef.MV")+": ";this.pdfDocument.text(ue,A.X_POSITION_LEFT,C);const Re=this.translateService.instant("mdl.identDepthRef.tovNAP"),Je=this.formatNumber(this.mdlColumns.surfacelevelHeight,2)+" m "+Re;this.pdfDocument.text(Je,I,C)}else{const ue=this.translateService.instant("genericUnknown");this.pdfDocument.text(ue,A.X_POSITION_LEFT,C)}C+=10;const q=this.translateService.instant(this.mdlColumns.depthReference+"asLabelShort");"MV"===this.mdlColumns.depthReference?(this.pdfDocument.text(q,A.X_POSITION_LEFT,C),this.pdfDocument.text(this.formatNumber(this.mdlColumns.topDepth,2)+" m - "+this.formatNumber(this.mdlColumns.bottomDepth,2)+" m",I,C)):"NAP"===this.mdlColumns.depthReference&&(this.pdfDocument.text(q,A.X_POSITION_LEFT,C),this.pdfDocument.text(this.formatNumber(this.mdlColumns.bottomDepth,2)+" m - "+this.formatNumber(this.mdlColumns.topDepth,2)+" m",I,C)),this.showSelectedRangeLineCheck()&&(C+=10,this.pdfDocument.text(this.getSelectedRangeLineHeader(),A.X_POSITION_LEFT,C),"MV"===this.mdlColumns.depthReference?this.pdfDocument.text(this.getMVNumericalLine(),I,C):"NAP"===this.mdlColumns.depthReference&&this.pdfDocument.text(this.getNAPNumericalLine(),I,C)),C+=20,this.addColumnsToPdf(C)}setPopupVisible(_,C,I){I&&(this.x=_,this.y=C,this.metadata=I)}setPopupInVisible(_){null!=_&&null!=_.relatedTarget&&_.relatedTarget instanceof Node&&null!=_.relatedTarget.attributes.getNamedItem("id")&&"columns-tooltip"===_.relatedTarget.attributes.getNamedItem("id").value||(this.metadata=null)}isLarge(){return!!this.mdlColumns&&this.mdlColumns.columns.length>4}isExtraLarge(){return!!this.mdlColumns&&this.mdlColumnsInput instanceof gC&&"GTP"===this.mdlColumnsInput.model}getLocation(){let _=600;return _=this.isLarge()?710:_,_=this.isExtraLarge()?830:_,this.mapService.toScreenPoints(this.mapService.popupLocation,_)}columnDepthTraject(_){if(_[0]===_[1])return this.errorService.message="colums.notSameValueDepth",void this.mapService.changeLayer(this.mdlColumnsInput.modelType);this.mdlColumnsInput.topDepth=100*_[0],this.mdlColumnsInput.bottomDepth=100*_[1],this.showSelectedRangeLine=!0,this.columnsUpdated=!1,this.depthRange.emit(this.mdlColumnsInput)}columnDepthTrajectNAP(_){this.columnDepthTraject([_[1],_[0]])}next(){this.hasNext()&&(this.mdlColumnsInput.dinoId=this.dinoIds[this.dinoIds.indexOf(this.mdlColumnsInput.dinoId)+1],this.updateColumn())}hasNext(){return this.dinoIds.indexOf(this.mdlColumnsInput.dinoId)+1<this.dinoIds.length}hasPrevious(){return this.dinoIds.indexOf(this.mdlColumnsInput.dinoId)>0}previous(){this.hasPrevious()&&(this.mdlColumnsInput.dinoId=this.dinoIds[this.dinoIds.indexOf(this.mdlColumnsInput.dinoId)-1],this.updateColumn())}updateColumn(){this.mdlColumnsInput.topDepth=0,this.mdlColumnsInput.bottomDepth=0,this.depthRange.emit(this.mdlColumnsInput)}addColumnsToPdf(_){let C=A.X_POSITION_LEFT,I=0;this.mdlColumns.columns.forEach(j=>{cv.getDataUri(j.imageUrl,(K,q)=>{this.pdfDocument.addImage(K,"PNG",C,_,q.naturalWidth/A.ZOOM_FACTOR,q.naturalHeight/A.ZOOM_FACTOR),C+=q.naturalWidth/A.ZOOM_FACTOR,I++,I===this.mdlColumns.columns.length&&(_+=10,_+=q.naturalHeight/A.ZOOM_FACTOR,this.addLegend())})})}addLegend(){let _=0;this.pdfDocument.addPage(),this.mdlColumns.columns.forEach(I=>{cv.getDataUri(I.legendUrl,(j,K)=>{this.translateService.get("mdl.columnsType.legend."+I.columnType).subscribe(q=>{const ue=A.X_POSITION_LEFT+A.COLUMN_LEGEND_WIDTH*I.sequenceNumber;this.pdfDocument.text(q,ue,20),this.pdfDocument.addImage(j,"png",ue,30,K.naturalWidth/2,K.naturalHeight/2),_++,_===this.mdlColumns.columns.length&&this.savePdf()})})})}savePdf(){this.translateService.get(this.titleName+"Name").subscribe(_=>{this.pdfDocument.save((_=null===this.mdlColumns.columnId?_+" Appelboor "+this.mdlColumns.xcoordinate+", "+this.mdlColumns.ycoordinate:_+" Boormonsterprofiel "+this.mdlColumns.columnId)+".pdf")})}getDepthReferences(){return[{label:this.translateService.instant("identDepthRef.MV"),value:"MV"},{label:this.translateService.instant("identDepthRef.NAP"),value:"NAP"}]}getLegendItems(){const _=[];return this.columnsDto.columns.forEach(C=>{_.push({label:this.translateService.instant("mdl.columnsType.legend."+C.columnType),value:C.columnType})}),_}}return A.COLUMN_LEGEND_WIDTH=110,A.ZOOM_FACTOR=1.3,A.X_POSITION_LEFT=25,A.X_POSITION_METADATA_VALUE=150,A.\u0275fac=function(_){return new(_||A)(rn(qo),rn(Ll),rn(Ip),rn(fo))},A.\u0275cmp=dr({type:A,selectors:[["dinoloket-columns-mdl"]],inputs:{mdlColumnsInput:"mdlColumnsInput",dinoIds:"dinoIds",selectedDepthReference:"selectedDepthReference",depthReferenceAccepted:"depthReferenceAccepted",mdlColumns:"mdlColumns"},outputs:{closeButton:"closeButton",depthReference:"depthReference",depthRange:"depthRange"},decls:5,vars:2,consts:[["id","mdl-columns",1,"modal"],[1,"modal-dialog"],[1,"modal-content","main-content"],[4,"ngIf"],["class","center",4,"ngIf"],[3,"title","closeWindow"],[1,"center"],["headerTitle",""],[1,"row"],["id","left-column",1,"col-sm-4"],[1,"table","identify_grid"],[3,"innerHTML"],["id","columnsDepthRef",1,"slider-toolbar",3,"title"],[1,"slider_filter"],[3,"detectAllChanges","max","min","selectionRange","step","unit","updateValues",4,"ngIf"],[3,"detectAllChanges","max","min","selectionRange","unit","step","updateValues",4,"ngIf"],[1,"button_bar","col-sm-6"],["type","button",1,"btn","btn-default","btn-sm","secondary-button","max-width",3,"value","click"],[1,"col-sm-6"],["baseZIndex","5000","appendTo","body","id","depthRef",3,"ngModel","options","styleClass","onChange","ngModelChange",4,"ngIf"],[1,"map"],["crossectionOverviewMap",""],[3,"x","y"],["class","col-sm-5","id","middle-column",3,"mouseleave",4,"ngIf"],["class","col-sm-3","id","legend",4,"ngIf"],[3,"detectAllChanges","max","min","selectionRange","step","unit","updateValues"],[3,"detectAllChanges","max","min","selectionRange","unit","step","updateValues"],["baseZIndex","5000","appendTo","body","id","depthRef",3,"ngModel","options","styleClass","onChange","ngModelChange"],["id","middle-column",1,"col-sm-5",3,"mouseleave"],[4,"ngFor","ngForOf"],[3,"id","name",4,"ngFor","ngForOf"],[3,"metadata","x","y","popupInvisible"],[3,"alt","src","useMap"],[3,"id","name"],["shape","rect",3,"coords","mouseover",4,"ngFor","ngForOf"],["shape","rect",3,"coords","mouseover"],["id","legend",1,"col-sm-3"],[1,"mdl-columns-legend"],["baseZIndex","5000","appendTo","body","id","legendSwitch",3,"ngModel","options","styleClass","ngModelChange",4,"ngIf"],[1,"spacing"],["baseZIndex","5000","appendTo","body","id","legendSwitch",3,"ngModel","options","styleClass","ngModelChange"],[3,"ngIf"],[1,"green"],[3,"alt","src"],[1,"profile"],[1,"pull-right","navigation"],[3,"hasNext","hasPrevious","next","previous"]],template:function(_,C){1&_&&(pt(0,"div",0),pt(1,"div",1),pt(2,"div",2),Pi(3,qee,5,6,"div",3),Pi(4,bte,57,42,"div",4),ft(),ft(),ft()),2&_&&(vt(3),It("ngIf",!C.mdlColumns),vt(1),It("ngIf",C.mdlColumns))},directives:[to,Vee,jL,r1,Qd,oh,zee,nB,uc,Xee,Yee],pipes:[Xs],styles:["#mdl-columns[_ngcontent-%COMP%]{visibility:visible;display:inherit}.modal-dialog[_ngcontent-%COMP%]{width:100%;height:100%;margin:0;padding:0}.modal-content[_ngcontent-%COMP%]{height:auto;min-height:100%;border-radius:0;border:0}.border[_ngcontent-%COMP%]{border:black solid 1px;border-radius:4px;padding:3px;margin-bottom:10px}.mdl-columns-legend[_ngcontent-%COMP%]{max-width:245px;min-width:200px;min-height:600px;overflow:auto}#mdl-columns[_ngcontent-%COMP%]   div.modal-dialog[_ngcontent-%COMP%]{font-size:12px}.profile[_ngcontent-%COMP%]{height:44px}.spacing[_ngcontent-%COMP%]{height:20px}.profile[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{max-width:125px;display:inline;vertical-align:top}.navigation[_ngcontent-%COMP%], .navigation[_ngcontent-%COMP%]   .col-sm-12[_ngcontent-%COMP%]{padding-right:0}select[_ngcontent-%COMP%]:focus::-ms-value{color:#000;background:white}.slider_toolbar[_ngcontent-%COMP%]{width:90%;padding-left:10px}.map[_ngcontent-%COMP%]{height:200px}@media (min-width: 1400px){.col1-medium[_ngcontent-%COMP%]{max-width:33%!important}}@media (max-width: 1280px){#left-column[_ngcontent-%COMP%]{max-width:25%!important;width:auto!important}#middle-column[_ngcontent-%COMP%]{width:auto!important}}#legend[_ngcontent-%COMP%]{width:auto!important}@media (min-height: 700px){.map[_ngcontent-%COMP%]{height:500px}}"]}),A})(),cB=(()=>{class A{constructor(_){this.http=_}menu(_){return this.http.get(("nl"===_?"/menu.json":"/en/menu.json")+"?viewer=ondergrondmodellen")}}return A.\u0275fac=function(_){return new(_||A)(xr(Op))},A.\u0275prov=di({token:A,factory:A.\u0275fac}),A})();function wte(A,w){1&A&&Bn(0,"em",6)}function Cte(A,w){1&A&&Bn(0,"em",7)}function xte(A,w){if(1&A&&(pt(0,"strong"),pt(1,"a",11),tn(2),ft(),ft()),2&A){const _=Wt().$implicit;vt(1),It("href",_.link,$o),vt(1),Rn(_.title)}}function Ete(A,w){if(1&A&&(pt(0,"span"),pt(1,"a",11),tn(2),ft(),ft()),2&A){const _=Wt().$implicit;vt(1),It("href",_.link,$o),vt(1),Rn(_.title)}}function Dte(A,w){if(1&A&&(pt(0,"li"),Pi(1,xte,3,2,"strong",0),Pi(2,Ete,3,2,"span",0),ft()),2&A){const _=w.$implicit;vt(1),It("ngIf",_.active),vt(1),It("ngIf",!_.active)}}function Mte(A,w){if(1&A&&(pt(0,"li"),pt(1,"a",11),tn(2),ft(),ft()),2&A){const _=w.$implicit;vt(1),It("href",_.link,$o),vt(1),Rn(_.title)}}function Ste(A,w){if(1&A&&(pt(0,"div",8),pt(1,"ul",9),Pi(2,Dte,3,2,"li",10),ft(),Bn(3,"hr"),pt(4,"ul",9),Pi(5,Mte,3,2,"li",10),ft(),ft()),2&A){const _=Wt(2);vt(2),It("ngForOf",_.menu.primaryMenuItems),vt(3),It("ngForOf",_.menu.secondaryMenuItems)}}const uB=function(A){return{bro:A}};function Tte(A,w){if(1&A){const _=tr();pt(0,"div"),pt(1,"div",1),An("click",function(){zi(_);const I=Wt();return I.menuExpanded=!I.menuExpanded}),Pi(2,wte,1,0,"em",2),Pi(3,Cte,1,0,"em",3),ft(),pt(4,"div",4),pt(5,"strong"),tn(6),sn(7,"translate"),ft(),ft(),Pi(8,Ste,6,2,"div",5),ft()}if(2&A){const _=Wt();vt(1),It("ngClass",Or(8,uB,_.configurationService.broOnly)),vt(1),It("ngIf",!_.menuExpanded),vt(1),It("ngIf",_.menuExpanded),vt(1),It("ngClass",Or(10,uB,_.configurationService.broOnly)),vt(2),Rn(on(7,6,"broloket")),vt(2),It("ngIf",_.menuExpanded)}}let Ite=(()=>{class A{constructor(_,C,I,j){this.translateService=_,this.mapService=C,this.configurationService=I,this.menuToolbarService=j}ngOnInit(){this.menuToolbarService.menu(this.translateService.currentLang).subscribe(_=>{this.menu=_}),this.mapService.maximizeToolSubject.subscribe(_=>{try{const C=window.frameElement,I=window.parent.document.getElementsByTagName("body")[0];_?(C.classList.add("maximized"),I.classList.add("has-maximized-iframe")):(C.classList.remove("maximized"),I.classList.remove("has-maximized-iframe"))}catch(C){}})}}return A.\u0275fac=function(_){return new(_||A)(rn(Ll),rn(qo),rn(fo),rn(cB))},A.\u0275cmp=dr({type:A,selectors:[["dinoloket-menu-toolbar"]],decls:1,vars:1,consts:[[4,"ngIf"],["id","menu-toggle",1,"menu-bar-item","mousepointer",3,"ngClass","click"],["class","fa fa-bars",4,"ngIf"],["class","fa fa-close",4,"ngIf"],["id","menu-title",1,"menu-bar-item",3,"ngClass"],["id","menu-body",4,"ngIf"],[1,"fa","fa-bars"],[1,"fa","fa-close"],["id","menu-body"],[1,"menu-list"],[4,"ngFor","ngForOf"],["target","_parent",1,"menu-link",3,"href"]],template:function(_,C){1&_&&Pi(0,Tte,9,12,"div",0),2&_&&It("ngIf",null!==C.menu)},directives:[to,eo,uc],pipes:[Xs],styles:["#menu-toggle[_ngcontent-%COMP%]{padding:5px 10px;width:35px}#menu-title[_ngcontent-%COMP%]{padding:5px 5px 5px 13px;margin-left:2px;width:208px}#menu-body[_ngcontent-%COMP%]{position:absolute;z-index:5;width:100%;background-color:#fff;box-shadow:3px 3px 5px #0000001f,0 -1px 6px #0000000f;padding-top:5px}.menu-list[_ngcontent-%COMP%]{list-style:none;padding:0}.menu-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-top:5px;margin-left:5px}.menu-link[_ngcontent-%COMP%]{color:#009ade}.menu-bar-item[_ngcontent-%COMP%]{font-size:14px;display:inline-block;background-color:#39870c;color:#fff}.bro.menu-bar-item[_ngcontent-%COMP%]{font-size:14px;display:inline-block;background-color:#007bc7;color:#fff}hr[_ngcontent-%COMP%]{margin:0}"]}),A})();const Ote=function(A,w,_){return{"p-inputswitch p-component":!0,"p-inputswitch-checked":A,"p-disabled":w,"p-focus":_}},Pte={provide:Fl,useExisting:Ht(()=>hB),multi:!0};let hB=(()=>{class A{constructor(_){this.cd=_,this.trueValue=!0,this.falseValue=!1,this.onChange=new er,this.modelValue=!1,this.focused=!1,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClick(_,C){!this.disabled&&!this.readonly&&(_.preventDefault(),this.toggle(_),C.focus())}onInputChange(_){this.readonly||this.updateModel(_,_.target.checked)}toggle(_){this.updateModel(_,!this.checked())}updateModel(_,C){this.modelValue=C?this.trueValue:this.falseValue,this.onModelChange(this.modelValue),this.onChange.emit({originalEvent:_,checked:this.modelValue})}onFocus(_){this.focused=!0}onBlur(_){this.focused=!1,this.onModelTouched()}writeValue(_){this.modelValue=_,this.cd.markForCheck()}registerOnChange(_){this.onModelChange=_}registerOnTouched(_){this.onModelTouched=_}setDisabledState(_){this.disabled=_,this.cd.markForCheck()}checked(){return this.modelValue===this.trueValue}}return A.\u0275fac=function(_){return new(_||A)(rn(Gl))},A.\u0275cmp=dr({type:A,selectors:[["p-inputSwitch"]],hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",tabindex:"tabindex",inputId:"inputId",name:"name",disabled:"disabled",readonly:"readonly",trueValue:"trueValue",falseValue:"falseValue",ariaLabelledBy:"ariaLabelledBy"},outputs:{onChange:"onChange"},features:[Vs([Pte])],decls:5,vars:15,consts:[[3,"ngClass","ngStyle","click"],[1,"p-hidden-accessible"],["type","checkbox","role","switch",3,"checked","disabled","change","focus","blur"],["cb",""],[1,"p-inputswitch-slider"]],template:function(_,C){if(1&_){const I=tr();pt(0,"div",0),An("click",function(K){zi(I);const q=To(3);return C.onClick(K,q)}),pt(1,"div",1),pt(2,"input",2,3),An("change",function(K){return C.onInputChange(K)})("focus",function(K){return C.onFocus(K)})("blur",function(K){return C.onBlur(K)}),ft(),ft(),Bn(4,"span",4),ft()}2&_&&(vo(C.styleClass),It("ngClass",cc(11,Ote,C.checked(),C.disabled,C.focused))("ngStyle",C.style),vt(2),It("checked",C.checked())("disabled",C.disabled),Is("id",C.inputId)("name",C.name)("tabindex",C.tabindex)("aria-checked",C.checked())("aria-labelledby",C.ariaLabelledBy))},directives:[eo,el],styles:['.p-inputswitch{position:relative;display:inline-block;-webkit-user-select:none;-ms-user-select:none;user-select:none}.p-inputswitch-slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0}.p-inputswitch-slider:before{position:absolute;content:"";top:50%}'],encapsulation:2,changeDetection:0}),A})(),kte=(()=>{class A{}return A.\u0275fac=function(_){return new(_||A)},A.\u0275mod=Rr({type:A}),A.\u0275inj=Bi({imports:[[pl]]}),A})();function Lte(A,w){1&A&&Bn(0,"dinoloket-loading-progress")}function Bte(A,w){if(1&A){const _=tr();pt(0,"div",18),pt(1,"strong"),tn(2),sn(3,"translate"),ft(),pt(4,"span",19),pt(5,"p-inputSwitch",20),An("onChange",function(I){return zi(_),Wt().toggleBroData(I.checked)}),ft(),ft(),Bn(6,"br",21),ft()}2&A&&(vt(2),Rn(on(3,1,"filterBroSwitchText")))}const Ac=function(A){return{grayedOut:A}};function Rte(A,w){if(1&A){const _=tr();pt(0,"div",7),pt(1,"p-radioButton",22),An("onClick",function(){return zi(_),Wt().changeModel()})("ngModelChange",function(I){return zi(_),Wt().mapService.activeDatatype=I}),ft(),pt(2,"label",23),tn(3),sn(4,"translate"),sn(5,"translate"),ft(),ft()}if(2&A){const _=Wt();vt(1),It("ngModel",_.mapService.activeDatatype)("disabled",_.mapService.disableMenuToggling),vt(1),It("ngClass",Or(8,Ac,_.mapService.disableMenuToggling&&"GMM"!==_.mapService.activeDatatype)),vt(1),Kr(" ",on(4,4,"gmmName")+" "+on(5,6,"gmmVersion")," ")}}function Fte(A,w){if(1&A){const _=tr();pt(0,"div",26),pt(1,"p-radioButton",27),An("onClick",function(){return zi(_),Wt(2).changeWdmLayer()})("ngModelChange",function(I){return zi(_),Wt(2).mapService.activeWdmType=I}),ft(),pt(2,"label",28),tn(3),sn(4,"translate"),ft(),Bn(5,"br"),pt(6,"p-radioButton",29),An("onClick",function(){return zi(_),Wt(2).changeWdmLayer()})("ngModelChange",function(I){return zi(_),Wt(2).mapService.activeWdmType=I}),ft(),pt(7,"label",30),tn(8),sn(9,"translate"),ft(),Bn(10,"br"),pt(11,"p-radioButton",31),An("onClick",function(){return zi(_),Wt(2).changeWdmLayer()})("ngModelChange",function(I){return zi(_),Wt(2).mapService.activeWdmType=I}),ft(),pt(12,"label",32),tn(13),sn(14,"translate"),ft(),Bn(15,"br"),pt(16,"p-radioButton",33),An("onClick",function(){return zi(_),Wt(2).changeWdmLayer()})("ngModelChange",function(I){return zi(_),Wt(2).mapService.activeWdmType=I}),ft(),pt(17,"label",34),tn(18),sn(19,"translate"),ft(),Bn(20,"br"),pt(21,"p-radioButton",35),An("onClick",function(){return zi(_),Wt(2).changeWdmLayer()})("ngModelChange",function(I){return zi(_),Wt(2).mapService.activeWdmType=I}),ft(),pt(22,"label",36),tn(23),sn(24,"translate"),ft(),Bn(25,"br"),pt(26,"p-checkbox",37),An("ngModelChange",function(I){return zi(_),Wt(2).mapService.wdmBrhDynamicLayer.visible=I}),ft(),pt(27,"label",38),tn(28),sn(29,"translate"),ft(),Bn(30,"br"),ft()}if(2&A){const _=Wt(2);vt(1),It("ngModel",_.mapService.activeWdmType)("disabled",_.mapService.disableMenuToggling),vt(2),Rn(on(4,17,"WDM.ghg")),vt(3),It("ngModel",_.mapService.activeWdmType)("disabled",_.mapService.disableMenuToggling),vt(2),Rn(on(9,19,"WDM.glg")),vt(3),It("ngModel",_.mapService.activeWdmType)("disabled",_.mapService.disableMenuToggling),vt(2),Rn(on(14,21,"WDM.voorjaarsNiveau")),vt(3),It("ngModel",_.mapService.activeWdmType)("disabled",_.mapService.disableMenuToggling),vt(2),Rn(on(19,23,"WDM.gwt")),vt(3),It("ngModel",_.mapService.activeWdmType)("disabled",_.mapService.disableMenuToggling),vt(2),Rn(on(24,25,"WDM.statistischModel")),vt(3),It("ngModel",_.mapService.wdmBrhDynamicLayer.visible),vt(2),Rn(on(29,27,"WDM.boreholeLayer"))}}function Nte(A,w){if(1&A){const _=tr();pt(0,"div",7),pt(1,"p-radioButton",24),An("onClick",function(){return zi(_),Wt().changeModel()})("ngModelChange",function(I){return zi(_),Wt().mapService.activeDatatype=I}),ft(),pt(2,"label",25),tn(3),sn(4,"translate"),sn(5,"translate"),ft(),Pi(6,Fte,31,29,"div",17),ft()}if(2&A){const _=Wt();vt(1),It("ngModel",_.mapService.activeDatatype)("disabled",_.mapService.disableMenuToggling),vt(1),It("ngClass",Or(9,Ac,_.mapService.disableMenuToggling&&"WDM"!==_.mapService.activeDatatype)),vt(1),Kr(" ",on(4,5,"wdmName")+" "+on(5,7,"wdmVersion")," "),vt(3),It("ngIf","WDM"===_.mapService.activeDatatype)}}function Ute(A,w){if(1&A){const _=tr();pt(0,"div",7),pt(1,"p-radioButton",39),An("onClick",function(){return zi(_),Wt().changeModel()})("ngModelChange",function(I){return zi(_),Wt().mapService.activeDatatype=I}),ft(),pt(2,"label",40),tn(3),sn(4,"translate"),sn(5,"translate"),ft(),ft()}if(2&A){const _=Wt();vt(1),It("ngModel",_.mapService.activeDatatype)("disabled",_.mapService.disableMenuToggling),vt(1),It("ngClass",Or(8,Ac,_.mapService.disableMenuToggling&&"GEOK"!==_.mapService.activeDatatype)),vt(1),Kr(" ",on(4,4,"geokName")+" "+on(5,6,"geokVersion")," ")}}function jte(A,w){if(1&A){const _=tr();pt(0,"div",7),pt(1,"p-radioButton",41),An("onClick",function(){return zi(_),Wt().changeModel()})("ngModelChange",function(I){return zi(_),Wt().mapService.activeDatatype=I}),ft(),pt(2,"label",42),tn(3),sn(4,"translate"),ft(),ft()}if(2&A){const _=Wt();vt(1),It("ngModel",_.mapService.activeDatatype)("disabled",_.mapService.disableMenuToggling),vt(1),It("ngClass",Or(6,Ac,_.mapService.disableMenuToggling&&"NZS"!==_.mapService.activeDatatype)),vt(1),Kr(" ",on(4,4,"NZSName")," ")}}function Hte(A,w){if(1&A){const _=tr();pt(0,"div",26),pt(1,"p-dropdown",43),An("ngModelChange",function(I){return zi(_),Wt().mapService.activeNZSType=I})("onChange",function(){return zi(_),Wt().changeModel()}),ft(),pt(2,"label",44),tn(3),sn(4,"translate"),ft(),Bn(5,"br"),pt(6,"p-radioButton",45),An("onClick",function(){return zi(_),Wt().changeModel()})("ngModelChange",function(I){return zi(_),Wt().mapService.activeNZSSubType=I}),ft(),pt(7,"label",46),tn(8),sn(9,"translate"),ft(),Bn(10,"br"),pt(11,"p-radioButton",47),An("onClick",function(){return zi(_),Wt().changeModel()})("ngModelChange",function(I){return zi(_),Wt().mapService.activeNZSSubType=I}),ft(),pt(12,"label",48),tn(13),sn(14,"translate"),ft(),Bn(15,"br"),pt(16,"p-checkbox",49),An("ngModelChange",function(I){return zi(_),Wt().mapService.nzsPointDataChecked=I})("onChange",function(){return zi(_),Wt().changeModel()}),ft(),pt(17,"label",50),tn(18),sn(19,"translate"),ft(),Bn(20,"br"),pt(21,"p-checkbox",51),An("ngModelChange",function(I){return zi(_),Wt().mapService.nzsSandExtractionChecked=I})("onChange",function(){return zi(_),Wt().changeModel()}),ft(),pt(22,"label",52),tn(23),sn(24,"translate"),ft(),Bn(25,"br"),pt(26,"p-radioButton",53),An("onClick",function(){return zi(_),Wt().changeModel()})("ngModelChange",function(I){return zi(_),Wt().mapService.activeNZSSubType=I}),ft(),pt(27,"label",54),tn(28),sn(29,"translate"),ft(),Bn(30,"br"),ft()}if(2&A){const _=Wt();vt(1),It("options",_.mapService.noordzeeSedimentenOptions)("ngModel",_.mapService.activeNZSType),vt(2),Rn(on(4,16,"NZS.classifiedValues")),vt(3),It("ngModel",_.mapService.activeNZSSubType)("disabled",_.mapService.disableMenuToggling),vt(2),Rn(on(9,18,"NZS.classifiedMap")),vt(3),It("ngModel",_.mapService.activeNZSSubType)("disabled",_.mapService.disableMenuToggling),vt(2),Rn(on(14,20,"NZS.uncertaintyMap")),vt(3),It("ngModel",_.mapService.nzsPointDataChecked),vt(2),Rn(on(19,22,"NZS.dataPoints")),vt(3),It("ngModel",_.mapService.nzsSandExtractionChecked),vt(2),Rn(on(24,24,"NZS.sandExtraction")),vt(3),It("ngModel",_.mapService.activeNZSSubType)("disabled",_.mapService.disableMenuToggling),vt(2),Rn(on(29,26,"NZS.bathymetryLayer"))}}function Vte(A,w){if(1&A){const _=tr();pt(0,"div"),pt(1,"p-radioButton",55),An("onClick",function(){return zi(_),Wt(2).changeModel()})("ngModelChange",function(I){return zi(_),Wt(2).mapService.activeDatatype=I}),ft(),pt(2,"label",56),tn(3),sn(4,"translate"),sn(5,"translate"),ft(),ft()}if(2&A){const _=Wt(2);vt(1),It("ngModel",_.mapService.activeDatatype)("disabled",_.mapService.disableMenuToggling),vt(1),It("ngClass",Or(8,Ac,_.mapService.disableMenuToggling&&"GMD5"!==_.mapService.activeDatatype)),vt(1),Kr(" ",on(4,4,"gmd5Name")+" "+on(5,6,"gmd5Version")," ")}}function zte(A,w){if(1&A){const _=tr();pt(0,"div"),pt(1,"p-radioButton",57),An("onClick",function(){return zi(_),Wt(2).changeModel()})("ngModelChange",function(I){return zi(_),Wt(2).mapService.activeDatatype=I}),ft(),pt(2,"label",58),tn(3),sn(4,"translate"),sn(5,"translate"),ft(),ft()}if(2&A){const _=Wt(2);vt(1),It("ngModel",_.mapService.activeDatatype)("disabled",_.mapService.disableMenuToggling),vt(1),It("ngClass",Or(8,Ac,_.mapService.disableMenuToggling&&"GMD"!==_.mapService.activeDatatype)),vt(1),Kr(" ",on(4,4,"gmdName")+" "+on(5,6,"gmdVersion")," ")}}function Wte(A,w){if(1&A&&(pt(0,"div",7),Pi(1,Vte,6,10,"div",4),Pi(2,zte,6,10,"div",4),ft()),2&A){const _=Wt();vt(1),It("ngIf",_.mapService.gmd5Feature),vt(1),It("ngIf",!_.mapService.gmd5Feature)}}function Kte(A,w){if(1&A){const _=tr();pt(0,"div",26),pt(1,"div"),pt(2,"p-radioButton",61),An("onClick",function(){return zi(_),Wt(2).changeModel()})("ngModelChange",function(I){return zi(_),Wt(2).mapService.active3dLayer=I}),ft(),pt(3,"label",62),tn(4),sn(5,"translate"),ft(),ft(),pt(6,"div"),pt(7,"p-radioButton",63),An("onClick",function(){return zi(_),Wt(2).changeModel()})("ngModelChange",function(I){return zi(_),Wt(2).mapService.active3dLayer=I}),ft(),pt(8,"label",64),tn(9),sn(10,"translate"),ft(),ft(),pt(11,"div"),pt(12,"p-radioButton",65),An("onClick",function(){return zi(_),Wt(2).changeModel()})("ngModelChange",function(I){return zi(_),Wt(2).mapService.active3dLayer=I}),ft(),pt(13,"label",66),tn(14),sn(15,"translate"),ft(),ft(),pt(16,"div"),pt(17,"p-radioButton",67),An("onClick",function(){return zi(_),Wt(2).changeModel()})("ngModelChange",function(I){return zi(_),Wt(2).mapService.active3dLayer=I}),ft(),pt(18,"label",68),tn(19),sn(20,"translate"),ft(),ft(),pt(21,"label",69),tn(22),sn(23,"translate"),ft(),pt(24,"p-dropdown",70),An("ngModelChange",function(I){return zi(_),Wt(2).mapService.active3dDeep=I})("onChange",function(){return zi(_),Wt(2).changeModel()}),ft(),pt(25,"label",69),tn(26),sn(27,"translate"),ft(),ft()}if(2&A){const _=Wt(2);vt(2),qu("value",_.mapService.lithologyLayer),It("ngModel",_.mapService.active3dLayer)("disabled",_.mapService.disableMenuToggling),vt(1),It("ngClass",Or(38,Ac,_.mapService.disableMenuToggling&&"NL3D"!==_.mapService.activeDatatype)),vt(1),Kr(" ",on(5,26,"NL3D.lithologyLayer.name")," "),vt(3),qu("value",_.mapService.stratigraphyLayer),It("ngModel",_.mapService.active3dLayer)("disabled",_.mapService.disableMenuToggling),vt(1),It("ngClass",Or(40,Ac,_.mapService.disableMenuToggling&&"NL3D"!==_.mapService.activeDatatype)),vt(1),Kr(" ",on(10,28,"NL3D.stratigraphyLayer.name")," "),vt(3),qu("value",_.mapService.uncertaintyModelLayer),It("ngModel",_.mapService.active3dLayer)("disabled",_.mapService.disableMenuToggling),vt(1),It("ngClass",Or(42,Ac,_.mapService.disableMenuToggling)),vt(1),Kr(" ",on(15,30,"NL3D.modelUncertaintyLayer.name")," "),vt(3),qu("value",_.mapService.drillDensityLayer),It("ngModel",_.mapService.active3dLayer)("disabled",_.mapService.disableMenuToggling),vt(1),It("ngClass",Or(44,Ac,_.mapService.disableMenuToggling)),vt(1),Kr(" ",on(20,32,"NL3D.drillDensityLayer.name")," "),vt(2),It("ngClass",Or(46,Ac,_.mapService.disableMenuToggling)),vt(1),Kr(" ",on(23,34,"NL3D.prefix"),"\xa0 "),vt(2),It("options",_.mapService.nl3dOptions)("ngModel",_.mapService.active3dDeep),vt(1),It("ngClass",Or(48,Ac,_.mapService.disableMenuToggling)),vt(1),Kr(" \xa0",on(27,36,"NL3D.unit")," ")}}function Qte(A,w){if(1&A){const _=tr();pt(0,"div",7),pt(1,"p-radioButton",59),An("onClick",function(){return zi(_),Wt().changeModel()})("ngModelChange",function(I){return zi(_),Wt().mapService.activeDatatype=I}),ft(),pt(2,"label",60),tn(3),sn(4,"translate"),sn(5,"translate"),ft(),Pi(6,Kte,28,50,"div",17),ft()}if(2&A){const _=Wt();vt(1),It("ngModel",_.mapService.activeDatatype)("disabled",_.mapService.disableMenuToggling),vt(1),It("ngClass",Or(9,Ac,_.mapService.disableMenuToggling&&"NL3D"!==_.mapService.activeDatatype)),vt(1),Kr(" ",on(4,5,"NL3D.name")+" "+on(5,7,"nl3dVersion")," "),vt(3),It("ngIf","NL3D"===_.mapService.activeDatatype)}}let Gte=(()=>{class A{constructor(_,C){this.mapService=_,this.configurationService=C,this.updateModel=new er,this.hideBroCheckbox=!1,this.gtpVersion="gtpVersion",this.geomorphologicalMapFeature=this.configurationService.getFeature("geomorphologicalMapFeature"),this.enableBroFilter=this.configurationService.getFeature("enableBroFilter"),this.geokFeature=this.configurationService.getFeature("geokFeature"),this.nzsFeature=this.configurationService.getFeature("nzsFeature"),this.wdmFeature=this.configurationService.getFeature("wdmFeature")}ngOnInit(){this.configurationService.broOnly&&(this.toggleBroData(!0),this.hideBroCheckbox=!0)}changeModel(){this.mapService.changeLayer(this.mapService.activeDatatype),this.updateModel.emit(!0),this.mapService.determineLegendTitle()}toggleBroData(_){this.onlyBroVisible=_,this.mapService.resetAllViews()}changeWdmLayer(){this.mapService.changeVisibleDynamicLayer("WDM"),this.updateModel.emit(!0),this.mapService.updateMapEvent()}}return A.\u0275fac=function(_){return new(_||A)(rn(qo),rn(fo))},A.\u0275cmp=dr({type:A,selectors:[["dinoloket-filter-toolbar"]],outputs:{updateModel:"updateModel"},decls:40,vars:52,consts:[[1,"filter"],[1,"models"],[1,"horizontal-align"],[1,"green",2,"font-weight","bold"],[4,"ngIf"],["class","bro-toggle",4,"ngIf"],[1,"max-height"],[1,"p-field-radiobutton"],["inputId","dgm","id","dgm","name","layer","value","DGM",3,"ngModel","disabled","onClick","ngModelChange"],["for","dgm",1,"mousepointer",3,"ngClass"],["inputId","rgs","id","rgs","name","layer","value","RGS",3,"ngModel","disabled","onClick","ngModelChange"],["for","rgs",1,"mousepointer",3,"ngClass"],["inputId","gtp","id","gtp","name","layer","value","GTP",3,"ngModel","disabled","onClick","ngModelChange"],["for","gtp",1,"mousepointer",3,"ngClass"],["class","p-field-radiobutton",4,"ngIf"],["inputId","sgm2","id","sgm2","name","layer","value","SGM2",3,"ngModel","disabled","onClick","ngModelChange"],["for","sgm2",1,"mousepointer",3,"ngClass"],["class","padding-wdm",4,"ngIf"],[1,"bro-toggle"],[1,"input-switch"],[3,"onChange"],[1,"clear-br"],["inputId","gmm","id","gmm","name","layer","value","GMM",3,"ngModel","disabled","onClick","ngModelChange"],["for","gmm",1,"mousepointer",3,"ngClass"],["inputId","wdm","id","wdm","name","layer","value","WDM",3,"ngModel","disabled","onClick","ngModelChange"],["for","wdm",1,"mousepointer",3,"ngClass"],[1,"padding-wdm"],["inputId","ghg","id","ghg","name","wdmSublayer","value","ghg",3,"ngModel","disabled","onClick","ngModelChange"],["for","ghg",1,"mousepointer"],["inputId","glg","id","glg","name","wdmSublayer","value","glg",3,"ngModel","disabled","onClick","ngModelChange"],["for","glg",1,"mousepointer"],["inputId","voorjaarsNiveau","id","voorjaarsNiveau","name","wdmSublayer","value","voorjaarsNiveau",3,"ngModel","disabled","onClick","ngModelChange"],["for","voorjaarsNiveau",1,"mousepointer"],["inputId","gwt","id","gwt","name","wdmSublayer","value","gwt",3,"ngModel","disabled","onClick","ngModelChange"],["for","gwt",1,"mousepointer"],["inputId","statistischModel","id","statistischModel","name","wdmSublayer","value","statistischModel",3,"ngModel","disabled","onClick","ngModelChange"],["for","statistischModel",1,"mousepointer"],["binary","true","inputId","wdmBrhLayer","id","wdmBrhLayer","ngDefaultControl","",3,"ngModel","ngModelChange"],["for","wdmBrhLayer",1,"mousepointer"],["inputId","geok","id","geok","name","layer","value","GEOK",3,"ngModel","disabled","onClick","ngModelChange"],["for","geok",1,"mousepointer",3,"ngClass"],["inputId","noordzeeSedimenten","id","noordzeeSedimenten","name","layer","value","NZS",3,"ngModel","disabled","onClick","ngModelChange"],["for","noordzeeSedimenten",1,"mousepointer",3,"ngClass"],["optionLabel","label","id","nzsClass",3,"options","ngModel","ngModelChange","onChange"],["for","nzsClass",1,"mousepointer",2,"margin-left","5px"],["inputId","classifiedMap","id","classifiedMap","name","NZSSublayer","value","classifiedMap",3,"ngModel","disabled","onClick","ngModelChange"],["for","classifiedMap",1,"mousepointer"],["inputId","uncertaintyMap","id","uncertaintyMap","name","NZSSublayer","value","uncertaintyMap",3,"ngModel","disabled","onClick","ngModelChange"],["for","uncertaintyMap",1,"mousepointer"],["binary","true","id","dataPoints","inputId","dataPoints","value","dataPoints","ngDefaultControl","",3,"ngModel","ngModelChange","onChange"],["for","dataPoints",1,"mousepointer"],["binary","true","id","sandExtraction","inputId","sandExtraction","value","sandExtraction","ngDefaultControl","",3,"ngModel","ngModelChange","onChange"],["for","sandExtraction",1,"mousepointer"],["id","bathymetry","inputId","bathymetry","name","NZSSublayer","value","bathymetry",3,"ngModel","disabled","onClick","ngModelChange"],["for","bathymetry",1,"mousepointer"],["inputId","gmd5","id","gmd5","name","layer","value","GMD5",3,"ngModel","disabled","onClick","ngModelChange"],["for","gmd5",1,"mousepointer",3,"ngClass"],["inputId","gmd","id","gmd","name","layer","value","GMD",3,"ngModel","disabled","onClick","ngModelChange"],["for","gmd",1,"mousepointer",3,"ngClass"],["name","layer","value","NL3D","id","NL3D",3,"ngModel","disabled","onClick","ngModelChange"],["for","NL3D",1,"mousepointer",3,"ngClass"],["name","nl3dSubLayer","id","lithologyBtnId",3,"ngModel","disabled","value","onClick","ngModelChange"],["for","lithologyBtnId",1,"mousepointer",3,"ngClass"],["name","nl3dSubLayer","id","stratigraphyBtnId",3,"ngModel","disabled","value","onClick","ngModelChange"],["for","stratigraphyBtnId",1,"mousepointer",3,"ngClass"],["name","nl3dSubLayer","id","uncertaintyModelBtnId",3,"ngModel","disabled","value","onClick","ngModelChange"],["for","uncertaintyModelBtnId",1,"mousepointer",3,"ngClass"],["name","nl3dSubLayer","id","drillDensityLayerBtnId",3,"ngModel","disabled","value","onClick","ngModelChange"],["for","drillDensityLayerBtnId",1,"mousepointer",3,"ngClass"],["for","nl3dDeepSwitchId",1,"mousepointer",3,"ngClass"],["id","nl3dDeepSwitchId",3,"options","ngModel","ngModelChange","onChange"]],template:function(_,C){1&_&&(pt(0,"div",0),pt(1,"div",1),pt(2,"div",2),pt(3,"h4",3),tn(4),sn(5,"translate"),ft(),Pi(6,Lte,1,0,"dinoloket-loading-progress",4),ft(),Pi(7,Bte,7,3,"div",5),pt(8,"div",6),pt(9,"div",7),pt(10,"p-radioButton",8),An("onClick",function(){return C.changeModel()})("ngModelChange",function(j){return C.mapService.activeDatatype=j}),ft(),pt(11,"label",9),tn(12),sn(13,"translate"),sn(14,"translate"),ft(),ft(),pt(15,"div",7),pt(16,"p-radioButton",10),An("onClick",function(){return C.changeModel()})("ngModelChange",function(j){return C.mapService.activeDatatype=j}),ft(),pt(17,"label",11),tn(18),sn(19,"translate"),sn(20,"translate"),ft(),ft(),pt(21,"div",7),pt(22,"p-radioButton",12),An("onClick",function(){return C.changeModel()})("ngModelChange",function(j){return C.mapService.activeDatatype=j}),ft(),pt(23,"label",13),tn(24),sn(25,"translate"),sn(26,"translate"),ft(),ft(),Pi(27,Rte,6,10,"div",14),pt(28,"div",7),pt(29,"p-radioButton",15),An("onClick",function(){return C.changeModel()})("ngModelChange",function(j){return C.mapService.activeDatatype=j}),ft(),pt(30,"label",16),tn(31),sn(32,"translate"),sn(33,"translate"),ft(),ft(),Pi(34,Nte,7,11,"div",14),Pi(35,Ute,6,10,"div",14),Pi(36,jte,5,8,"div",14),Pi(37,Hte,31,28,"div",17),Pi(38,Wte,3,2,"div",14),Pi(39,Qte,7,11,"div",14),ft(),ft(),ft()),2&_&&(vt(4),Rn(on(5,26,"filterSelectorTitle")),vt(2),It("ngIf",C.mapService.mapView.updating),vt(1),It("ngIf",C.enableBroFilter&&!C.hideBroCheckbox),vt(3),It("ngModel",C.mapService.activeDatatype)("disabled",C.mapService.disableMenuToggling),vt(1),It("ngClass",Or(44,Ac,C.mapService.disableMenuToggling&&"DGM"!==C.mapService.activeDatatype)),vt(1),Kr(" ",on(13,28,"dgmName")+" "+on(14,30,"dgmVersion")," "),vt(4),It("ngModel",C.mapService.activeDatatype)("disabled",C.mapService.disableMenuToggling),vt(1),It("ngClass",Or(46,Ac,C.mapService.disableMenuToggling&&"RGS"!==C.mapService.activeDatatype)),vt(1),Kr(" ",on(19,32,"rgsName")+" "+on(20,34,"rgsVersion")," "),vt(4),It("ngModel",C.mapService.activeDatatype)("disabled",C.mapService.disableMenuToggling),vt(1),It("ngClass",Or(48,Ac,C.mapService.disableMenuToggling&&"GTP"!==C.mapService.activeDatatype)),vt(1),Kr(" ",on(25,36,"gtpName")+" "+on(26,38,C.gtpVersion)," "),vt(3),It("ngIf",C.geomorphologicalMapFeature),vt(2),It("ngModel",C.mapService.activeDatatype)("disabled",C.mapService.disableMenuToggling),vt(1),It("ngClass",Or(50,Ac,C.mapService.disableMenuToggling&&"SGM2"!==C.mapService.activeDatatype)),vt(1),Kr(" ",on(32,40,"sgm2Name")+" "+on(33,42,"sgm2Version")," "),vt(3),It("ngIf",C.wdmFeature),vt(1),It("ngIf",!C.onlyBroVisible&&C.geokFeature),vt(1),It("ngIf",!C.onlyBroVisible&&C.nzsFeature),vt(1),It("ngIf","NZS"===C.mapService.activeDatatype),vt(1),It("ngIf",!C.onlyBroVisible),vt(1),It("ngIf",!C.onlyBroVisible))},directives:[to,qL,hB,UT,Qd,oh,eo,WT,pv,r1],pipes:[Xs],styles:[".horizontal-align[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.filter[_ngcontent-%COMP%]{border-radius:4px;border:1px solid lightgrey;background-color:#fff}.models[_ngcontent-%COMP%]{margin:5px;padding-left:5px;line-height:2em}table[_ngcontent-%COMP%]{width:100%;margin-right:5px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding-left:5px;padding-bottom:2px}label[_ngcontent-%COMP%]{margin-bottom:1px}.layer[_ngcontent-%COMP%]{text-align:right;padding-right:5px}.legendIcon[_ngcontent-%COMP%]{width:8px;vertical-align:text-top;padding-top:2px}.filterSelector[_ngcontent-%COMP%]{width:15px}.floatRight[_ngcontent-%COMP%]{padding-right:5px;float:right}.padding-wdm[_ngcontent-%COMP%]{padding-left:15px}@media (max-height: 570px){.filter[_ngcontent-%COMP%]{top:20px}.max-height[_ngcontent-%COMP%]{max-height:150px;overflow:auto;font-size:10px}.bro-toggle[_ngcontent-%COMP%]{margin-bottom:10px}}@media (max-height: 450px){.filter[_ngcontent-%COMP%]{top:10px}.max-height[_ngcontent-%COMP%]{max-height:150px;overflow:auto;font-size:10px}.bro-toggle[_ngcontent-%COMP%]{margin-bottom:10px}}.grayedOut[_ngcontent-%COMP%]{color:#ccc}[_nghost-%COMP%]     .p-inputswitch-on{background:#39870c!important;width:20px}.float-right[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px}[_nghost-%COMP%]     .p-chkbox .p-chkbox-box{background-color:#fff;border-width:1px!important}"]}),A})();const $te=function(A){return{bro:A}};function Zte(A,w){if(1&A){const _=tr();pt(0,"div",1),pt(1,"div",2),pt(2,"h4",3),tn(3),sn(4,"translate"),ft(),pt(5,"p-slider",4),An("onChange",function(I){return zi(_),Wt().updateTransparency(I)})("ngModelChange",function(I){return zi(_),Wt().transparency=I}),ft(),ft(),ft()}if(2&A){const _=Wt();vt(2),It("ngClass",Or(10,$te,_.configurationService.broOnly)),vt(1),Rn(on(4,8,"transparency")),vt(2),It("ngModel",_.transparency)("animate",!0)("max",100)("min",0)("range",!1)("step",1)}}let Jte=(()=>{class A{constructor(_,C){this.mapService=_,this.configurationService=C,this.transparency=0,this.mapService.changeMapEventBus.subscribe(()=>{this.transparency=0,this.mapService.updateTransparency(1)})}updateTransparency(_){this.mapService.updateTransparency(1-_.value/100)}}return A.\u0275fac=function(_){return new(_||A)(rn(qo),rn(fo))},A.\u0275cmp=dr({type:A,selectors:[["dinoloket-map-transparency"]],decls:1,vars:1,consts:[["class","transparency",4,"ngIf"],[1,"transparency"],[1,"transparency-content"],[1,"transparancy-title",3,"ngClass"],[3,"ngModel","animate","max","min","range","step","onChange","ngModelChange"]],template:function(_,C){1&_&&Pi(0,Zte,6,12,"div",0),2&_&&It("ngIf",C.mapService.checkIfSimpleModel())},directives:[to,eo,NT,Qd,oh],pipes:[Xs],styles:[".transparency[_ngcontent-%COMP%]{border-radius:4px;border:1px solid lightgrey;margin-top:10px;margin-left:0;background-color:#fff}.transparency-content[_ngcontent-%COMP%]{margin:5px;padding-left:5px;padding-bottom:10px}.bro.transparancy-title[_ngcontent-%COMP%]{font-size:14px;color:#000;font-weight:700;margin-bottom:5px;margin-top:5px}.transparancy-title[_ngcontent-%COMP%]{font-size:14px;color:#39870c;font-weight:700;margin-bottom:5px;margin-top:5px}  p-slider .p-slider .p-slider-range{background-color:#000}  p-slider .p-slider .p-slider-handle{background-color:#000;cursor:pointer;height:12px;width:12px;margin-top:-.62em}"]}),A})();function Xte(A,w){1&A&&(pt(0,"p",6),tn(1),sn(2,"translate"),ft()),2&A&&(vt(1),Rn(on(2,1,"can_take_a_bit")))}const dB=function(A,w){return{selectedLegend:A,filterLegend:w}};function Yte(A,w){if(1&A){const _=tr();pt(0,"tr",7),pt(1,"td",8),Bn(2,"img",9),sn(3,"translate"),ft(),pt(4,"td",10),An("click",function(){const j=zi(_).$implicit;return Wt().filterLegend.emit(j.label)}),tn(5),sn(6,"translate"),ft(),ft()}if(2&A){const _=w.$implicit,C=Wt();It("id",_.label),vt(2),It("alt",on(3,5,"alt-text-legend"))("src","data:image/png;base64,"+_.imageData,$o),vt(2),It("ngClass",bo(9,dB,C.selectedLegendLocal===_.label,C.filteredLegend===_.label)),vt(1),Kr(" ",on(6,7,C.mapService.getDataType()+"."+_.label)," ")}}function qte(A,w){if(1&A&&(pt(0,"tr",7),pt(1,"td",8),Bn(2,"img",9),sn(3,"translate"),ft(),pt(4,"td",4),tn(5),sn(6,"translate"),ft(),ft()),2&A){const _=w.$implicit,C=Wt();It("id",_.label),vt(2),It("alt",on(3,5,"alt-text-legend"))("src","data:image/png;base64,"+_.imageData,$o),vt(2),It("ngClass",bo(9,dB,C.selectedLegendLocal===_.label,C.filteredLegend===_.label)),vt(1),Kr(" ",on(6,7,C.mapService.getDataType()+"."+_.label)," ")}}function eie(A,w){if(1&A&&(pt(0,"tr",7),pt(1,"td"),Bn(2,"img",9),sn(3,"translate"),ft(),pt(4,"td"),tn(5),ft(),ft()),2&A){const _=w.$implicit;It("id",_.label),vt(2),It("alt",on(3,4,"alt-text-legend"))("src","data:image/png;base64,"+_.imageData,$o),vt(3),Kr(" ",_.label," ")}}const tie=function(A){return{bro:A}},iie=function(A,w){return{"wdm-overflow":A,overflow:w}};let nie=(()=>{class A{constructor(_,C){this.mapService=_,this.configurationService=C,this.legendPrefix=null,this.filterLegend=new er}set selectedLegend(_){this.legendPrefix&&(_=this.legendPrefix+_),this.selectedLegendLocal=_;const C=document.getElementById(_);C&&C.scrollIntoView()}}return A.\u0275fac=function(_){return new(_||A)(rn(qo),rn(fo))},A.\u0275cmp=dr({type:A,selectors:[["dinoloket-legend"]],inputs:{title:"title",legends:"legends",nonClickableLegends:"nonClickableLegends",nl3dLegends:"nl3dLegends",legendPrefix:"legendPrefix",filteredLegend:"filteredLegend",selectedLegend:"selectedLegend"},outputs:{filterLegend:"filterLegend"},decls:10,vars:12,consts:[[1,"legend"],[1,"legend-content"],[1,"legend-title",3,"ngClass"],["class","small-text-legend",4,"ngIf"],[3,"ngClass"],[3,"id",4,"ngFor","ngForOf"],[1,"small-text-legend"],[3,"id"],[1,"align_td"],[3,"alt","src"],[1,"mousepointer",3,"ngClass","click"]],template:function(_,C){1&_&&(pt(0,"div",0),pt(1,"div",1),pt(2,"h4",2),tn(3),ft(),Pi(4,Xte,3,3,"p",3),pt(5,"div",4),pt(6,"table"),Pi(7,Yte,7,12,"tr",5),Pi(8,qte,7,12,"tr",5),Pi(9,eie,6,6,"tr",5),ft(),ft(),ft(),ft()),2&_&&(vt(2),It("ngClass",Or(7,tie,C.configurationService.broOnly)),vt(1),Rn(C.title),vt(1),It("ngIf",""!==C.filteredLegend),vt(1),It("ngClass",bo(9,iie,"WDM"===C.mapService.activeDatatype,"WDM"!==C.mapService.activeDatatype)),vt(2),It("ngForOf",C.legends),vt(1),It("ngForOf",C.nonClickableLegends),vt(1),It("ngForOf",C.nl3dLegends))},directives:[eo,to,uc],pipes:[Xs],styles:[".legend[_ngcontent-%COMP%]{border-radius:4px;border:1px solid lightgrey;margin-top:10px;margin-left:0;background-color:#fff}.legend-content[_ngcontent-%COMP%]{margin:5px;padding-left:5px}.bro.legend-title[_ngcontent-%COMP%]{font-size:14px;color:#000;font-weight:700;margin-bottom:5px;margin-top:5px}.legend-title[_ngcontent-%COMP%]{font-size:14px;color:#39870c;font-weight:700;margin-bottom:5px;margin-top:5px}.selectedLegend[_ngcontent-%COMP%]{font-weight:700}.filterLegend[_ngcontent-%COMP%]{font-style:italic}.small-text-legend[_ngcontent-%COMP%]{font-size:10px;font-style:italic}.align_td[_ngcontent-%COMP%]{vertical-align:top}.wdm-overflow[_ngcontent-%COMP%]{max-height:calc(100vh - 595px);min-height:50px;overflow:hidden}.overflow[_ngcontent-%COMP%]{max-height:calc(100vh - 590px);min-height:50px;overflow:auto}.overflow[_ngcontent-%COMP%]:hover, .wdm-overflow[_ngcontent-%COMP%]:hover{overflow-y:auto}@media (max-height: 640px){.overflow[_ngcontent-%COMP%]{max-height:calc(100vh - 410px)}.wdm-overflow[_ngcontent-%COMP%]{max-height:calc(100vh - 400px)}}@media (max-height: 570px){.overflow[_ngcontent-%COMP%]{max-height:calc(100vh - 390px)}.wdm-overflow[_ngcontent-%COMP%]{max-height:calc(100vh - 400px)}}@media (max-height: 450px){.overflow[_ngcontent-%COMP%]{max-height:calc(100vh - 370px)}.wdm-overflow[_ngcontent-%COMP%]{max-height:calc(100vh - 380px)}}"]}),A})();const pB=function(A){return{bro:A}};let rie=(()=>{class A{constructor(_){this.configurationService=_}}return A.\u0275fac=function(_){return new(_||A)(rn(fo))},A.\u0275cmp=dr({type:A,selectors:[["dinoloket-bro-gtp-legend"]],decls:25,vars:24,consts:[[1,"legend"],[1,"legend-content"],[1,"legend-title",3,"ngClass"],[1,"overflow"],[1,"align_td"],["src","images/bro-quality.jpg",3,"alt"],["src","images/under-review.jpg",3,"alt"],[1,"glyphicon","glyphicon-info-sign","green",3,"ngClass","title"]],template:function(_,C){1&_&&(pt(0,"div",0),pt(1,"div",1),pt(2,"h4",2),tn(3),sn(4,"translate"),ft(),pt(5,"div",3),pt(6,"table"),pt(7,"tr"),pt(8,"td",4),Bn(9,"img",5),sn(10,"translate"),ft(),pt(11,"td"),pt(12,"label"),tn(13),sn(14,"translate"),ft(),ft(),ft(),pt(15,"tr"),pt(16,"td",4),Bn(17,"img",6),sn(18,"translate"),ft(),pt(19,"td"),pt(20,"label"),tn(21),sn(22,"translate"),Bn(23,"span",7),sn(24,"translate"),ft(),ft(),ft(),ft(),ft(),ft(),ft()),2&_&&(vt(2),It("ngClass",Or(20,pB,C.configurationService.broOnly)),vt(1),Rn(on(4,8,"gtpBro.modelAreas")),vt(6),It("alt",on(10,10,"gtpBro.legend.broQuality")),vt(4),Rn(on(14,12,"gtpBro.legend.broQuality")),vt(4),It("alt",on(18,14,"gtpBro.legend.underReview")),vt(4),Kr("",on(22,16,"gtpBro.legend.underReview")," "),vt(2),It("ngClass",Or(22,pB,C.configurationService.broOnly))("title",on(24,18,"gtpBro.legend.underReviewToolTip")))},directives:[eo],pipes:[Xs],styles:[".legend[_ngcontent-%COMP%]{border-radius:4px;border:1px solid lightgrey;margin-top:10px;margin-left:0;background-color:#fff}.legend-content[_ngcontent-%COMP%]{margin:5px;padding-left:5px}.overflow[_ngcontent-%COMP%]{overflow-y:auto;max-height:350px}.bro.legend-title[_ngcontent-%COMP%]{font-size:14px;color:#000;font-weight:700;margin-bottom:5px;margin-top:5px}.legend-title[_ngcontent-%COMP%]{font-size:14px;color:#39870c;font-weight:700;margin-bottom:5px;margin-top:5px}.bro.green[_ngcontent-%COMP%]{color:#007bc7}.selectedLegend[_ngcontent-%COMP%]{font-weight:700}.filterLegend[_ngcontent-%COMP%]{font-style:italic}.small-text-legend[_ngcontent-%COMP%]{font-size:10px;font-style:italic}.align_td[_ngcontent-%COMP%]{vertical-align:top}@media (max-height: 640px){.overflow[_ngcontent-%COMP%]{max-height:310px}.legend[_ngcontent-%COMP%]{top:220px}}@media (max-height: 600px){.overflow[_ngcontent-%COMP%]{max-height:270px}.legend[_ngcontent-%COMP%]{top:220px}}@media (max-height: 500px){.overflow[_ngcontent-%COMP%]{max-height:170px}.legend[_ngcontent-%COMP%]{top:220px}}@media (max-height: 450px){.overflow[_ngcontent-%COMP%]{max-height:140px}.legend[_ngcontent-%COMP%]{top:210px}}"]}),A})(),sie=(()=>{class A{transform(_){return Number(_).toFixed(0)}}return A.\u0275fac=function(_){return new(_||A)},A.\u0275pipe=rs({name:"format_number",type:A,pure:!0}),A})();function oie(A,w){if(1&A&&(pt(0,"div",1),tn(1),sn(2,"format_number"),sn(3,"format_number"),ft()),2&A){const _=Wt();vt(1),Mu(" x: ",on(2,2,_.coordinates.x),", y: ",on(3,4,_.coordinates.y),"\n")}}let aie=(()=>{class A{constructor(){}}return A.\u0275fac=function(_){return new(_||A)},A.\u0275cmp=dr({type:A,selectors:[["dinoloket-coordinate-toolbar"]],inputs:{coordinates:"coordinates"},decls:1,vars:1,consts:[["class","coordinates",4,"ngIf"],[1,"coordinates"]],template:function(_,C){1&_&&Pi(0,oie,4,6,"div",0),2&_&&It("ngIf",C.coordinates)},directives:[to],pipes:[sie],styles:[".coordinates[_ngcontent-%COMP%]{background-color:#fff;position:fixed;right:0;bottom:0;border-radius:4px;width:135px;margin-right:15px;margin-bottom:15px;padding:8px;border:1px solid lightgrey}@media (max-height: 450px){.coordinates[_ngcontent-%COMP%]{margin-bottom:5px}}"]}),A})();class fB{}class lie{}class cie{}const uie=function(A){return{bro:A}};let hie=(()=>{class A{constructor(_){this.configurationService=_,this.okButton=new er}okButtonPressed(){this.okButton.emit(!0)}}return A.\u0275fac=function(_){return new(_||A)(rn(fo))},A.\u0275cmp=dr({type:A,selectors:[["dinoloket-order-confirmation"]],inputs:{message:"message"},outputs:{okButton:"okButton"},decls:23,vars:21,consts:[["id","confirm-dialog",1,"modal"],[1,"modal-dialog","modal-md",3,"ngClass"],[1,"modal-content","main-content"],[1,"row"],[1,"col-sm-10"],[1,"header"],[1,"col-sm-2"],["data-html2canvas-ignore","true",1,"pull-right","mousepointer",3,"click"],["id","closeWindowImage","src","images/close_button.png",3,"alt"],[1,"green","header","detaillist-header",3,"innerHTML"],[3,"innerHTML"],["dinoloketAutoFocus","","id","modalOkButton","type","button",1,"btn","btn-default","btn-sm","button-size",3,"click"]],template:function(_,C){1&_&&(pt(0,"div",0),pt(1,"div",1),pt(2,"div",2),pt(3,"div",3),pt(4,"div",4),pt(5,"h2",5),tn(6),sn(7,"translate"),ft(),ft(),pt(8,"div",6),pt(9,"span",7),An("click",function(){return C.okButtonPressed()}),Bn(10,"img",8),sn(11,"translate"),ft(),ft(),ft(),pt(12,"div"),Bn(13,"h5",9),sn(14,"translate"),Bn(15,"p",10),sn(16,"translate"),Bn(17,"p",10),sn(18,"translate"),ft(),pt(19,"div"),pt(20,"button",11),An("click",function(){return C.okButtonPressed()}),tn(21),sn(22,"translate"),ft(),ft(),ft(),ft(),ft()),2&_&&(vt(1),It("ngClass",Or(19,uie,C.configurationService.broOnly)),vt(5),Rn(on(7,7,"orderOm")),vt(4),It("alt",on(11,9,"alt-text-close-button")),vt(3),It("innerHTML",on(14,11,C.message+".title"),ul),vt(2),It("innerHTML",on(16,13,C.message),ul),vt(2),It("innerHTML",on(18,15,C.message+(C.configurationService.broOnly?".bro":".dino")),ul),vt(4),Kr("",on(22,17,"ok")," "))},directives:[eo,uA],pipes:[Xs],styles:["#confirm-dialog[_ngcontent-%COMP%]{visibility:visible;display:inherit}.modal-dialog[_ngcontent-%COMP%]{max-height:calc(100vh - 30px);width:70%;max-width:1250px;margin-bottom:15px;margin-top:15px}.modal-content[_ngcontent-%COMP%]{height:auto;min-height:100%;border-radius:4px;border:0}#modalOkButton[_ngcontent-%COMP%]{text-decoration:none;box-sizing:border-box;text-shadow:1px 1px 2px #39870c;background-color:#39870c;color:#fff;padding-left:30px;padding-right:30px}.bro[_ngcontent-%COMP%]   #modalOkButton[_ngcontent-%COMP%]{text-shadow:1px 1px 2px #007bc7;background-color:#007bc7}"]}),A})();function die(A,w){if(1&A&&(pt(0,"div",5),pt(1,"div",30),tn(2),sn(3,"translate"),ft(),ft()),2&A){const _=Wt(2);vt(2),Kr(" ",on(3,1,_.errorMessage)," ")}}function pie(A,w){if(1&A){const _=tr();pt(0,"tr"),pt(1,"td"),Bn(2,"img",31),sn(3,"translate"),ft(),pt(4,"td"),pt(5,"a",32),An("click",function(){return zi(_),Wt(2).newCaptchaTimeStamp()}),tn(6),sn(7,"translate"),ft(),Bn(8,"br"),ft(),ft()}if(2&A){const _=Wt(2);vt(2),It("alt",on(3,3,"alt-text-captcha"))("src","/javascriptmodelviewer-web/rest/captcha?"+_.captchaTimeStamp,$o),vt(4),Rn(on(7,5,"orderCaptchaRefresh"))}}function fie(A,w){if(1&A){const _=tr();pt(0,"tr"),pt(1,"td"),pt(2,"label"),tn(3),sn(4,"translate"),ft(),ft(),pt(5,"td"),pt(6,"input",33),An("ngModelChange",function(I){return zi(_),Wt(2).captcha=I})("change",function(){return zi(_),Wt(2).revalidateServerError("captcha")}),ft(),ft(),ft()}if(2&A){const _=Wt(2);vt(3),Rn(on(4,2,"orderCaptcha")),vt(3),It("ngModel",_.captcha)}}const mie=function(A){return{bro:A}};function gie(A,w){if(1&A){const _=tr();pt(0,"div",2),pt(1,"div",3),pt(2,"div",4),pt(3,"div",5),pt(4,"div",6),pt(5,"h2",7),tn(6),sn(7,"translate"),ft(),ft(),pt(8,"div",8),pt(9,"span",9),An("click",function(){return zi(_),Wt().closePopup()}),Bn(10,"img",10),sn(11,"translate"),ft(),ft(),ft(),Pi(12,die,4,3,"div",11),pt(13,"form",12,13),pt(15,"div",5),pt(16,"div",14),pt(17,"a",15),An("click",function(){return zi(_),Wt().goToSelectionResult()}),Bn(18,"span",16),tn(19),sn(20,"translate"),ft(),pt(21,"table",17),pt(22,"tr"),pt(23,"td"),pt(24,"h5",18),tn(25),sn(26,"translate"),ft(),ft(),pt(27,"td"),pt(28,"div",19),tn(29),sn(30,"translate"),ft(),ft(),ft(),pt(31,"tr"),pt(32,"td"),pt(33,"label"),tn(34),sn(35,"translate"),ft(),ft(),pt(36,"td"),pt(37,"input",20,21),An("ngModelChange",function(I){return zi(_),Wt().customer.lastName=I})("change",function(){return zi(_),Wt().revalidateServerError("lastName")}),ft(),ft(),ft(),pt(39,"tr"),pt(40,"td"),pt(41,"label"),tn(42),sn(43,"translate"),ft(),ft(),pt(44,"td"),pt(45,"input",22,23),An("ngModelChange",function(I){return zi(_),Wt().customer.organization=I})("change",function(){return zi(_),Wt().revalidateServerError("organisatie")}),ft(),ft(),ft(),pt(47,"tr"),pt(48,"td",24),pt(49,"label"),tn(50),sn(51,"translate"),ft(),ft(),pt(52,"td"),pt(53,"input",25),An("ngModelChange",function(I){return zi(_),Wt().customer.emailAdress=I})("change",function(){return zi(_),Wt().revalidateServerError("email")}),ft(),ft(),ft(),pt(54,"tr"),pt(55,"td"),pt(56,"label"),tn(57),sn(58,"translate"),ft(),ft(),pt(59,"td"),pt(60,"input",26),An("ngModelChange",function(I){return zi(_),Wt().customer.characteristic=I})("change",function(){return zi(_),Wt().revalidateServerError("orderCharacteristic")}),ft(),ft(),ft(),ft(),ft(),pt(61,"div",27),pt(62,"h5",18),tn(63),sn(64,"translate"),ft(),pt(65,"table",17),Pi(66,pie,9,7,"tr",28),Pi(67,fie,7,4,"tr",28),ft(),ft(),ft(),ft(),pt(68,"button",29),An("click",function(){return zi(_),Wt().order()}),tn(69),sn(70,"translate"),ft(),ft(),ft(),ft()}if(2&A){const _=To(14),C=Wt();vt(1),It("ngClass",Or(42,mie,C.configurationService.broOnly)),vt(5),Rn(on(7,20,"orderOm")),vt(4),It("alt",on(11,22,"alt-text-close-button")),vt(2),It("ngIf",C.errorMessage),vt(7),Kr(" ",on(20,24,"backToSelectionResult"),""),vt(6),Kr("",on(26,26,"orderDetails")," "),vt(4),Rn(on(30,28,"required-fields")),vt(5),Rn(on(35,30,"orderFormName")),vt(3),It("ngModel",C.customer.lastName),vt(5),Rn(on(43,32,"orderFormOrg")),vt(3),It("ngModel",C.customer.organization),vt(5),Rn(on(51,34,"orderFormEmail")),vt(3),It("ngModel",C.customer.emailAdress),vt(4),Rn(on(58,36,"orderCharacteristic")),vt(3),It("ngModel",C.customer.characteristic),vt(3),Rn(on(64,38,"captchaDetails")),vt(3),It("ngIf",!C.captchaDisabled),vt(1),It("ngIf",!C.captchaDisabled),vt(1),It("disabled",!_.form.valid||C.serverError),vt(1),Rn(on(70,40,"aanvragen"))}}function yie(A,w){if(1&A){const _=tr();pt(0,"dinoloket-order-confirmation",34),An("okButton",function(){return zi(_),Wt().closeErrorMessageDialog()}),ft()}2&A&&It("message",Wt().orderService.orderMessage)}let vie=(()=>{class A{constructor(_,C,I,j){this.orderService=_,this.mapService=C,this.translateService=I,this.configurationService=j,this.captchaTimeStamp=(new Date).getTime(),this.ORDER_CONTACT_FORM_STATE=Jn.ORDER_CONTACT_FORM_STATE,this.serverError=!1}newCaptchaTimeStamp(){this.captchaTimeStamp=(new Date).getTime()}ngOnInit(){this.captchaDisabled=this.configurationService.getFeature("captchaDisabled"),this.customer=new fB,this.newCaptchaTimeStamp()}closePopup(){const _=new fB;_.emailAdress=this.customer.emailAdress,this.customer=_,this.captcha=null,this.orderService.orderState=Jn.ORDER_NO_ORDER_STATE,this.mapService.changeMapState(Jn.MAP_STATE),this.mapService.disableMenuToggling=!1,this.errorMessage=null}goToSelectionResult(){this.orderService.orderState=Jn.ORDER_OVERVIEW_STATE}order(){const _=new lie;_.customer=this.customer,_.orders=[],_.captcha=this.captcha,_.broOrder=this.configurationService.broOnly;const C=this.mapService.getDataType();_.dataType=C,_.language=this.translateService.currentLang;for(const I of this.orderService.selection){const j=new cie;j.alfrescoDocumentId=I,_.orders.push(j)}this.orderService.order(_).subscribe(I=>{I.error?this.errorMessage=I.error:this.orderService.orderMessage="order.confirmation",this.newCaptchaTimeStamp()})}revalidateServerError(_){!this.serverError||!this.errorMessage||("captcha"===_&&"orderInvalidCaptcha"===this.errorMessage&&(this.serverError=!1),"lastName"===_&&"orderInvalidLastName"===this.errorMessage&&(this.serverError=!1),"orderCharacteristic"===_&&"orderInvalidCharacteristic"===this.errorMessage&&(this.serverError=!1),"organisatie"===_&&"orderInvalidOrganisation"===this.errorMessage&&(this.serverError=!1),"email"===_&&this.errorMessage.includes("e-mail")&&(this.serverError=!1))}closeErrorMessageDialog(){this.orderService.orderMessage=null,this.closePopup()}closeOrderValidationMessageDialog(){this.mapService.changeMapState(Jn.MAP_STATE)}}return A.\u0275fac=function(_){return new(_||A)(rn(qb),rn(qo),rn(Ll),rn(fo))},A.\u0275cmp=dr({type:A,selectors:[["dinoloket-orderform"]],decls:2,vars:2,consts:[["class","modal","id","orderForm",4,"ngIf"],[3,"message","okButton",4,"ngIf"],["id","orderForm",1,"modal"],[1,"modal-dialog","modal-md",3,"ngClass"],[1,"modal-content","main-content"],[1,"row"],[1,"col-sm-10"],[1,"header"],[1,"col-sm-2"],["data-html2canvas-ignore","true",1,"pull-right","mousepointer",3,"click"],["id","closeWindowImage","src","images/close_button.png",3,"alt"],["class","row",4,"ngIf"],[1,"form-horizontal"],["orderForm","ngForm"],[1,"col-sm-7"],[1,"mousepointer","green",3,"click"],["aria-hidden","true",1,"glyphicon","glyphicon-arrow-left"],[1,"table","borderless"],[1,"green","detaillist-header"],[1,"required-fields"],["id","achternaam","maxlength","50","name","achternaam","type","text",3,"ngModel","ngModelChange","change"],["lastName",""],["id","organisatie","name","organisatie","type","text",3,"ngModel","ngModelChange","change"],["organization",""],[2,"white-space","nowrap"],["dinoloketAutoFocus","","email","","id","emailAdressInput","name","emailAdress","required","required","type","text",3,"ngModel","ngModelChange","change"],["id","orderCharacteristic","maxlength","50","name","orderCharacteristic","type","text",3,"ngModel","ngModelChange","change"],[1,"col-sm-5","col-border"],[4,"ngIf"],["id","order",1,"btn","btn-default","btn-sm","green-button","button-size",3,"disabled","click"],["role","alert",1,"alert","alert-danger"],[1,"captcha-image",3,"alt","src"],[1,"mousepointer",2,"font-size","12px",3,"click"],["id","captcha","maxlength","5","minlength","5","name","captcha","required","required","type","text",3,"ngModel","ngModelChange","change"],[3,"message","okButton"]],template:function(_,C){1&_&&(Pi(0,gie,71,44,"div",0),Pi(1,yie,1,1,"dinoloket-order-confirmation",1)),2&_&&(It("ngIf",C.orderService.orderState===C.ORDER_CONTACT_FORM_STATE&&!C.orderService.orderMessage),vt(1),It("ngIf",C.orderService.orderMessage))},directives:[to,eo,bL,sL,$C,pv,BT,Qd,oh,uA,kT,JC,LT,hie],pipes:[Xs],styles:["#orderForm[_ngcontent-%COMP%]{visibility:visible;display:inherit}.modal-dialog[_ngcontent-%COMP%]{max-height:calc(100vh - 30px);width:70%;max-width:1250px;margin-bottom:15px;margin-top:15px}.modal-content[_ngcontent-%COMP%]{height:auto;min-height:100%;border-radius:4px;border:0}.alert[_ngcontent-%COMP%]{margin-left:20px;margin-right:20px}.borderless[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .borderless[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:4px}.col-border[_ngcontent-%COMP%]{border-left:#ececec solid 3px;height:200px;padding-top:20px}.required-fields[_ngcontent-%COMP%]{width:85%;text-align:right;color:#696969}input.ng-valid[required][_ngcontent-%COMP%], select.ng-valid[required][_ngcontent-%COMP%]{background-color:#dff0d8}select.ng-invalid[_ngcontent-%COMP%], input.ng-invalid[_ngcontent-%COMP%]{background-color:#f2dede}input[_ngcontent-%COMP%]{background-color:#ececec;border:none;width:85%;height:24px}#captcha[_ngcontent-%COMP%]{width:75px}.captcha-image[_ngcontent-%COMP%]{border:1px solid #000000}#order[_ngcontent-%COMP%]{padding-left:30px;padding-right:30px}"]}),A})();class _ie{constructor(w,_){this.id=w,this.point=_}}class rx{constructor(w,_,C){this.active=!1,this.id=w,this.type=_,this.display=C}}var oa=(()=>(function(A){A.PROVINCE="provincies",A.WATERSHIP="waterschappen",A.OBJECT="objecten",A.ADDRESS="locaties"}(oa||(oa={})),oa))(),Cm=(()=>(function(A){A[A.DOWN_ARROW=40]="DOWN_ARROW",A[A.UP_ARROW=38]="UP_ARROW",A[A.ENTER=13]="ENTER",A[A.CAPS_LOCK=20]="CAPS_LOCK",A[A.SHIFT=16]="SHIFT",A[A.CTRL=17]="CTRL",A[A.ALT=18]="ALT"}(Cm||(Cm={})),Cm))();class id{constructor(w,_){this.http=w,this.configurationService=_}search(w){return this.http.post(Jn.URL_PREFIX+"/rest/search/"+(this.configurationService.broOnly?"bro/":""),w,{headers:id.HTTP_HEADERS})}searchByZipCode(w){return this.http.get("https://api.pdok.nl/bzk/locatieserver/search/v3_1/suggest?q="+encodeURI(w))}searchBylookupId(w){return this.http.get("https://api.pdok.nl/bzk/locatieserver/search/v3_1/lookup?fl=centroide_rd,type&id="+w)}getWaterships(){return this.http.get(Jn.URL_PREFIX+"/rest/gdw/waterships/",{headers:id.HTTP_HEADERS})}getProvinces(){return this.http.get(Jn.URL_PREFIX+"/rest/gdw/provinces/",{headers:id.HTTP_HEADERS})}}function bie(A,w){if(1&A){const _=tr();pt(0,"div",1),pt(1,"div",2),pt(2,"div",3),Bn(3,"p",4),sn(4,"translate"),ft(),pt(5,"div",5),pt(6,"button",6),An("click",function(){return zi(_),Wt().okButtonPressed()}),tn(7,"Ok "),ft(),ft(),ft(),ft()}if(2&A){const _=Wt();vt(3),It("innerHTML",s3(4,1,_.message,_.params),ul)}}id.HTTP_HEADERS=(new Qh).set("Content-Type","application/json"),id.\u0275fac=function(w){return new(w||id)(xr(Op),xr(fo))},id.\u0275prov=di({token:id,factory:id.\u0275fac});let mB=(()=>{class A{constructor(_){this.mapService=_,this.okButton=new er}okButtonPressed(){this.mapService.disableMenuToggling=!1,this.okButton.emit(!0)}}return A.\u0275fac=function(_){return new(_||A)(rn(qo))},A.\u0275cmp=dr({type:A,selectors:[["dinoloket-dialog"]],inputs:{message:"message",params:"params"},outputs:{okButton:"okButton"},decls:1,vars:1,consts:[["class","modal row confirm-dialog","id","confirm-dialog",4,"ngIf"],["id","confirm-dialog",1,"modal","row","confirm-dialog"],[1,"modal-content","col-sm-2","col-sm-offset-3"],[1,"top-spacing"],[3,"innerHTML"],[1,"bottom-spacing"],["dinoloketAutoFocus","","type","button",1,"btn","btn-default","btn-sm","secondary-button",3,"click"]],template:function(_,C){1&_&&Pi(0,bie,8,4,"div",0),2&_&&It("ngIf",C.message)},directives:[to,uA],pipes:[Xs],styles:[".confirm-dialog[_ngcontent-%COMP%]{visibility:visible;display:inherit;padding:150px 120px 0}.top-spacing[_ngcontent-%COMP%]{padding-top:10px}.bottom-spacing[_ngcontent-%COMP%]{padding-bottom:10px}"]}),A})();function Aie(A,w){1&A&&(pt(0,"div"),tn(1),sn(2,"translate"),ft()),2&A&&(vt(1),Rn(on(2,1,"searchMessage.busyLookingForResults")))}function wie(A,w){1&A&&(Bn(0,"img",26),sn(1,"translate")),2&A&&It("alt",on(1,1,"alt-text-location-marker"))}function Cie(A,w){if(1&A&&(pt(0,"em"),tn(1),sn(2,"translate"),ft()),2&A){const _=Wt().$implicit;vt(1),Kr(" ",on(2,1,"searchResultsDatatype.title."+_.objectIdDto.modelType),"")}}const xie=function(A){return{active:A}};function Eie(A,w){if(1&A){const _=tr();pt(0,"div"),pt(1,"div",23),An("mouseover",function(){const j=zi(_).$implicit;return Wt(5).markActive(j)})("click",function(){const j=zi(_).$implicit;return Wt(5).selectSuggestion(j)}),Pi(2,wie,2,3,"img",24),Bn(3,"span",25),Pi(4,Cie,3,3,"em",17),ft(),ft()}if(2&A){const _=w.$implicit,C=Wt(5);vt(1),It("ngClass",Or(5,xie,_.active)),Is("id","search-"+_.id),vt(1),It("ngIf",_.type===C.ADDRESS||_.type===C.PROVINCE||_.type===C.WATERSHIP),vt(1),It("innerHTML",_.display,ul),vt(1),It("ngIf",_.objectIdDto&&_.objectIdDto.modelType)}}function Die(A,w){if(1&A&&(pt(0,"div"),pt(1,"div",21),tn(2),sn(3,"translate"),sn(4,"translate"),ft(),pt(5,"div",22),Pi(6,Eie,5,7,"div",20),ft(),ft()),2&A){const _=Wt().$implicit,C=Wt(3);vt(2),Mu("",on(3,3,"searchMessage.suggested")," ",on(4,5,"searchSuggestionHeader."+_)," "),vt(4),It("ngForOf",C.searchList.get(_))}}function Mie(A,w){if(1&A&&(pt(0,"div"),Pi(1,Die,7,7,"div",17),ft()),2&A){const _=w.$implicit,C=Wt(3);vt(1),It("ngIf",C.searchList&&C.searchList.get(_).length>0)}}function Sie(A,w){1&A&&(pt(0,"div"),tn(1),sn(2,"translate"),ft()),2&A&&(vt(1),Kr(" ",on(2,1,"searchMessage.noResultsFound")," "))}function Tie(A,w){if(1&A){const _=tr();pt(0,"div"),pt(1,"p",27),tn(2),sn(3,"translate"),ft(),pt(4,"table"),pt(5,"tr"),pt(6,"td",28),Bn(7,"img",29),sn(8,"translate"),ft(),pt(9,"td"),tn(10),sn(11,"translate"),ft(),ft(),pt(12,"tr"),pt(13,"td",28),Bn(14,"img",30),sn(15,"translate"),ft(),pt(16,"td"),tn(17),sn(18,"translate"),ft(),ft(),pt(19,"tr"),pt(20,"td",28),Bn(21,"img",30),sn(22,"translate"),ft(),pt(23,"td"),tn(24),sn(25,"translate"),ft(),ft(),pt(26,"tr"),pt(27,"td",28),Bn(28,"img",30),sn(29,"translate"),ft(),pt(30,"td",13),An("click",function(){zi(_);const I=Wt(3);return I.search(I.PROVINCE)}),tn(31),sn(32,"translate"),ft(),ft(),pt(33,"tr"),pt(34,"td",28),Bn(35,"img",30),sn(36,"translate"),ft(),pt(37,"td",13),An("click",function(){zi(_);const I=Wt(3);return I.search(I.WATERSHIP)}),tn(38),sn(39,"translate"),ft(),ft(),ft(),ft()}2&A&&(vt(2),Rn(on(3,11,"searchMessage.suggestie")),vt(5),It("alt",on(8,13,"alt-text-location-marker")),vt(3),Rn(on(11,15,"searchSuggestionHeader.objecten")),vt(4),It("alt",on(15,17,"alt-text-location-marker")),vt(3),Rn(on(18,19,"searchSuggestionHeader.locaties")),vt(4),It("alt",on(22,21,"alt-text-location-marker")),vt(3),Rn(on(25,23,"searchSuggestionHeader.RD")),vt(4),It("alt",on(29,25,"alt-text-location-marker")),vt(3),Rn(on(32,27,"searchSuggestionHeader.provincies")),vt(4),It("alt",on(36,29,"alt-text-location-marker")),vt(3),Rn(on(39,31,"searchSuggestionHeader.waterschappen")))}function Iie(A,w){if(1&A&&(pt(0,"div",19),Pi(1,Mie,2,1,"div",20),Pi(2,Sie,3,3,"div",17),Pi(3,Tie,40,33,"div",17),ft()),2&A){const _=Wt(2);vt(1),It("ngForOf",_.searchOrder),vt(1),It("ngIf",!_.hasValidResultsOrNotSearched()&&!_.showCoordHelpMessage),vt(1),It("ngIf",!_.searchList&&_.hasValidResultsOrNotSearched())}}function Oie(A,w){1&A&&(pt(0,"div"),pt(1,"p",27),tn(2),sn(3,"translate"),ft(),Bn(4,"img",31),sn(5,"translate"),Bn(6,"span",25),sn(7,"translate"),ft()),2&A&&(vt(2),Rn(on(3,3,"searchMessage.suggestie")),vt(2),It("alt",on(5,5,"alt-text-coords-marker")),vt(2),It("innerHTML",on(7,7,"searchMessage.coordsHelpMessage"),ul))}function Pie(A,w){if(1&A){const _=tr();pt(0,"div",6),pt(1,"div",7),pt(2,"div",8),pt(3,"div",9),pt(4,"div",10),pt(5,"input",11,12),An("keyup",function(I){return zi(_),Wt().keyEntered(I)})("input",function(I){return zi(_),Wt().search(I.target.value)}),sn(7,"translate"),ft(),pt(8,"span",13),An("click",function(){zi(_);const I=To(6),j=Wt();return I.value="",j.clearSuggestions()}),Bn(9,"img",14),sn(10,"translate"),ft(),pt(11,"span",13),An("click",function(){zi(_);const I=To(6);return Wt().selectChoice(I.value)}),Bn(12,"img",15),sn(13,"translate"),ft(),ft(),ft(),ft(),pt(14,"div",16),pt(15,"div",9),pt(16,"div",10),Pi(17,Aie,3,3,"div",17),Pi(18,Iie,4,3,"div",18),Pi(19,Oie,8,9,"div",17),ft(),ft(),ft(),ft(),ft()}if(2&A){const _=Wt();vt(5),It("placeholder",on(7,6,"searchByAll")),vt(4),It("alt",on(10,8,"alt-text-close-button")),vt(3),It("alt",on(13,10,"alt-text-search-button")),vt(5),It("ngIf",_.searchingForAddresses||_.searchingForObjects),vt(1),It("ngIf",!_.searchingForAddresses&&!_.searchingForObjects),vt(1),It("ngIf",_.showCoordHelpMessage)}}function kie(A,w){if(1&A){const _=tr();pt(0,"dinoloket-dialog",32),An("okButton",function(){zi(_);const I=Wt();return I.messageResult=null,I.messageParams=null}),sn(1,"translate"),ft()}if(2&A){const _=Wt();It("message",s3(1,1,_.messageResult,_.messageParams))}}const Lie=function(A,w){return{bro:A,"esri-draw-button-selected":w}};let Bie=(()=>{class A{constructor(_,C,I,j){this.searchService=_,this.mapService=C,this.configurationService=I,this.renderer=j,this.identify=new er,this.MAP_SEARCH_BY_ID_STATE=Jn.MAP_SEARCH_BY_ID_STATE,this.RD_X_COORD_MIN=-7e3,this.RD_X_COORD_MAX=3e5,this.RD_Y_COORD_MIN=289e3,this.RD_Y_COORD_MAX=629e3,this.currentActiveItem=0,this.regExpAddress=new RegExp("POINT\\(([0-9.]+) ([0-9.]+)\\)"),this.regExpCoord=new RegExp("^-?[0-9]{1,6},[0-9]{1,6}"),this.currentHttpRequests=[],this.ADDRESS=oa.ADDRESS,this.OBJECT=oa.OBJECT,this.PROVINCE=oa.PROVINCE,this.WATERSHIP=oa.WATERSHIP,this.searchOrder=[oa.OBJECT,oa.PROVINCE,oa.WATERSHIP,oa.ADDRESS]}ngOnInit(){this.searchService.getProvinces().subscribe(_=>{this.provinces=_}),this.searchService.getWaterships().subscribe(_=>{this.waterships=_}),this.clearSuggestions(),this.renderer.listen("window","click",_=>{("confirm-dialog"===_.target.id||"modal-dialog"===_.target.id)&&this.closeSearch()})}ngOnDestroy(){this.cancelRequests()}startSearchById(){this.clearSuggestions(),this.mapService.mapState!==Jn.MAP_SEARCH_BY_ID_STATE&&this.mapService.changeMapState(Jn.MAP_SEARCH_BY_ID_STATE),null!=this.pointGraphic&&this.mapService.mapView.graphics.remove(this.pointGraphic),this.setBoundaryOnLayer(Number(this.configurationService.settings.watershipsLines),"-1",this.mapService.boundariesLayer),this.setBoundaryOnLayer(Number(this.configurationService.settings.provinceLine),"-1",this.mapService.boundariesLayer),this.selectedWatership=null,this.selectedProvince=null}zoomToMap(){this.mapService.mapView.goTo(new Iu.Z({xmin:-285402,ymin:22598,xmax:595402,ymax:903402,spatialReference:{wkid:28992}}))}keyEntered(_){_.stopImmediatePropagation(),_.keyCode===Cm.DOWN_ARROW||_.keyCode===Cm.UP_ARROW?this.moveItem(_.keyCode):_.keyCode===Cm.ENTER&&this.selectChoice(_.target.value)}moveItem(_){if(_===Cm.DOWN_ARROW?this.currentActiveItem++:_===Cm.UP_ARROW&&this.currentActiveItem--,this.currentActiveItem<0)return void(this.currentActiveItem=0);let C=0,I=!1;this.searchList.forEach(j=>{j.forEach(K=>{if(K.active=C===this.currentActiveItem,C===this.currentActiveItem){I=!0;const q=document.getElementById("search-"+K.id);q&&q.scrollIntoView()}C++})}),I||(C=0,this.currentActiveItem--,this.searchList.forEach(j=>{j.forEach(K=>{K.active=C===this.currentActiveItem,C++})}))}markFirst(){let _=!0;this.searchList.forEach(C=>{C.length>0&&C.forEach(I=>{I.active=_,_=!1})}),this.currentActiveItem=0}markActive(_){let C=0;this.searchList.forEach(I=>{I.forEach(j=>{j===_?(j.active=!0,this.currentActiveItem=C):j.active=!1,C++})})}hasValidResultsOrNotSearched(){return!this.searchList||this.searchList.get(oa.WATERSHIP).length>0||this.searchList.get(oa.ADDRESS).length>0||this.searchList.get(oa.OBJECT).length>0||this.searchList.get(oa.PROVINCE).length>0}search(_){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.clearSuggestions(),this.fillSearchList();const C=_.trim();this.cancelRequests(),""===C&&(this.searchList=null),C&&0!==C.length&&(this.checkIfCoords(C),!this.showCoordHelpMessage&&!C.startsWith("-")&&(this.searchByBoundingBox(C,oa.PROVINCE,this.provinces),this.searchByBoundingBox(C,oa.WATERSHIP,this.waterships),this.searchByAddress(C),this.searchForObjectNeeded(C)&&this.searchByObjectId(C)))},200)}selectChoice(_){this.showCoordHelpMessage?this.searchByCoords(_):this.selectActiveSuggestion()}searchByAddress(_){this.searchingForAddresses=!0,this.currentHttpRequests.push(this.searchService.searchByZipCode(_).subscribe(C=>{const I=Object.keys(C.highlighting);if(this.searchList){for(const j of I)C.response.docs.forEach(K=>{if(K.id===j&&C.highlighting[j].suggest){const q=new rx(j,oa.ADDRESS,C.highlighting[j].suggest[0]);q.subType=K.type,this.searchList.get(oa.ADDRESS).push(q)}});this.markFirst(),this.searchingForAddresses=!1}}))}selectActiveSuggestion(){this.searchList&&this.searchList.forEach(_=>{_.forEach(C=>{C.active&&this.selectSuggestion(C)})})}selectSuggestion(_){0===_.type.indexOf(oa.ADDRESS)?this.goToAddress(_.id):0===_.type.indexOf(oa.PROVINCE)?this.goToProvince(_.id):0===_.type.indexOf(oa.WATERSHIP)?this.goToWatership(_.id):0===_.type.indexOf(oa.OBJECT)&&this.goToObject(_)}navigateToGmd(_){this.mapService.changeGmdVisibleLayer(),this.navigateToLocation(_)}navigateToGtp(_){this.mapService.changeGtpVisibleLayer(),this.navigateToLocation(_)}navigateToregis(_){this.mapService.changeRgsVisibleLayer(),this.navigateToLocation(_)}navigateToDgm(_){this.mapService.changeDgmVisibleLayer(),this.navigateToLocation(_)}closeSearch(){this.mapService.changeMapState(Jn.MAP_STATE),this.clearSuggestions()}cancelRequests(){this.currentHttpRequests.forEach(_=>{_.unsubscribe()}),this.currentHttpRequests=[]}checkIfCoords(_){this.showCoordHelpMessage=_.length>4&&!isNaN(Number(_.split(",")[0]))}searchByCoords(_){const C=_.split(" ").join("");if(!this.regExpCoord.test(C))return void(this.showCoordHelpMessage=!1);const I=C.split(","),j=Number(I[0]),K=Number(I[1]);j<this.RD_X_COORD_MIN||j>this.RD_X_COORD_MAX||K<this.RD_Y_COORD_MIN||K>this.RD_Y_COORD_MAX?this.showCoordHelpMessage=!1:this.goToCoordinate(j,K)}goToAddress(_){this.currentHttpRequests.push(this.searchService.searchBylookupId(_).subscribe(C=>{if(C.response.docs.length>0){const I=C.response.docs[0].centroide_rd.match(this.regExpAddress),j=new Ys.Z({x:Number(I[1]),y:Number(I[2]),spatialReference:ah.SPATIAL_REFERENCE}),K=C.response.docs[0].type;this.mapService.mapView.goTo({target:j,scale:"gemeente"===K||"woonplaats"===K?51200:1600},{animate:!0,easing:A.EASE_IN_OUT,duration:1500}),this.mapService.changeMapState(Jn.MAP_STATE)}}))}goToCoordinate(_,C){const I=new Ys.Z({x:_,y:C,spatialReference:{wkid:28992}}),j={type:"simple-marker",color:new ml.Z("#ac2d27"),size:"20px",path:"M26.48,13.794c0-5.789-4.692-10.481-10.48-10.481c-5.789,0-10.481,4.692-10.481,10.481 c0,1.036,0.153,2.036,0.433,2.983c1.492,6.035,10.095,12.785,10.095,12.785s9.719-7.621,10.291-13.91l-0.025-0.005 C26.421,15.046,26.48,14.427,26.48,13.794z M16.143,16.128c-2.368,0-4.288-1.92-4.288-4.288c0-2.368,1.92-4.288,4.288-4.288 c2.367,0,4.287,1.92,4.287,4.288C20.43,14.208,18.51,16.128,16.143,16.128z"};null!=this.pointGraphic&&this.mapService.mapView.graphics.remove(this.pointGraphic),this.pointGraphic=new Fa.Z({geometry:I,symbol:j}),this.mapService.mapView.graphics.add(this.pointGraphic),this.mapService.mapView.goTo({target:I,scale:800},{animate:!0,easing:A.EASE_IN_OUT,duration:1500}),this.mapService.changeMapState(Jn.MAP_STATE)}searchByObjectId(_){this.searchingForObjects=!0;const C=_.toUpperCase();this.currentHttpRequests.push(this.searchService.search(C).subscribe(I=>{I.length>0&&I.forEach(j=>{const K=new rx(j.objectId,oa.OBJECT,this.markResult(j.objectId,0,C.length));K.objectIdDto=j,this.searchList.get(oa.OBJECT).push(K)}),this.markFirst(),this.searchingForObjects=!1}))}markResult(_,C,I){let j=0===C?"":_.substr(0,C);return j+="<strong>"+_.substr(C,I)+"</strong>"+_.substr(C+I),j}goToObject(_){const C=_.objectIdDto;switch(C.modelType){case"DGM":this.navigateToDgm(C);break;case"GTP":this.navigateToGtp(C);break;case"REGIS":this.navigateToregis(C);break;case"GMD":case"GMD5":this.navigateToGmd(C)}this.mapService.changeMapState(Jn.MAP_STATE)}searchByBoundingBox(_,C,I){const j=_.toUpperCase().replace("-"," ");I.forEach(K=>{const ue=K.description.toUpperCase().replace("-"," ").indexOf(j);ue>-1&&this.searchList.get(C).push(new rx(K.code,C,this.markResult(K.description,ue,j.length))),C.toUpperCase()===j&&this.searchList.get(C).push(new rx(K.code,C,K.description))})}goToProvince(_){this.provinces.forEach(C=>{C.code===_&&(this.navigateToBoundingBox(C),this.setBoundaryOnLayer(Number(this.configurationService.settings.provinceLine),_,this.mapService.boundariesLayer),this.setBoundaryOnLayer(Number(this.configurationService.settings.watershipsLines),"-1",this.mapService.boundariesLayer))})}goToWatership(_){this.waterships.forEach(C=>{C.code===_&&(this.navigateToBoundingBox(C),this.setBoundaryOnLayer(Number(this.configurationService.settings.watershipsLines),_,this.mapService.boundariesLayer),this.setBoundaryOnLayer(Number(this.configurationService.settings.provinceLine),"-1",this.mapService.boundariesLayer))})}setBoundaryOnLayer(_,C,I){I.allSublayers.find(K=>K.id===_).definitionExpression="GDW_DBK = '"+C+"'"}navigateToBoundingBox(_){const C=new Iu.Z({xmax:_.maxx,xmin:_.minx,ymax:_.maxy,ymin:_.miny,spatialReference:ah.SPATIAL_REFERENCE});this.mapService.mapView.goTo({target:C},{animate:!0,easing:A.EASE_IN_OUT,duration:1500}),this.closeSearch()}searchForObjectNeeded(_){return!(_.length<3||_.length>15)}navigateToLocation(_){const C=new Ys.Z({x:_.xcoordinate,y:_.ycoordinate,spatialReference:ah.SPATIAL_REFERENCE});this.closeSearch(),this.mapService.mapView.goTo({target:C,scale:800},{animate:!0,easing:A.EASE_IN_OUT,duration:1500}).then(I=>{this.identify.emit(new _ie(_.dinoNr,C))})}fillSearchList(){this.searchList=new Map,this.searchOrder.forEach(_=>{this.searchList.set(_,[])})}clearSuggestions(){this.searchList=null,this.searchingForObjects=!1,this.searchingForAddresses=!1,this.showCoordHelpMessage=!1}}return A.EASE_IN_OUT="ease-in-out",A.\u0275fac=function(_){return new(_||A)(rn(id),rn(qo),rn(fo),rn(Hh))},A.\u0275cmp=dr({type:A,selectors:[["dinoloket-map-idsearch"]],outputs:{identify:"identify"},decls:11,vars:15,consts:[["id","zoom-to-map-nl-button",1,"esri-widget--button","esri-widget","esri-interactive",3,"title","click"],["src","images/map_nl.png",3,"alt"],["id","idSearch-button",1,"esri-widget--button","esri-widget","esri-interactive",3,"ngClass","title","click"],[1,"esri-icon-search"],["id","confirm-dialog","class","modal row search-modal",4,"ngIf"],[3,"message","okButton",4,"ngIf"],["id","confirm-dialog",1,"modal","row","search-modal"],["id","modal-dialog",1,"modal-dialog","modal-md"],["id","search-field",1,"modal-content","row"],[1,"col-sm-12"],[1,"content-section"],["dinoloketAutoFocus","","pInputText","","type","text","pattern","[a-zA-Z0-9,. -]*",1,"input-box",3,"placeholder","keyup","input"],["searchInput",""],[1,"mousepointer",3,"click"],["src","images/search_emptyfield.png","id","close-icon",3,"alt"],["src","images/search_icon.png","id","search-icon",3,"alt"],["id","search-results",1,"modal-content","row"],[4,"ngIf"],["class","result-section",4,"ngIf"],[1,"result-section"],[4,"ngFor","ngForOf"],[1,"suggestion-text"],[1,"dropdown"],[1,"item","mousepointer",3,"ngClass","mouseover","click"],["src","images/marker_location.png","class","marker-icon","id","location-icon",3,"alt",4,"ngIf"],[3,"innerHTML"],["src","images/marker_location.png","id","location-icon",1,"marker-icon",3,"alt"],[1,"searchSuggest"],[1,"align-cell"],["src","images/marker_bodemonderzoek.png",1,"marker-icon",3,"alt"],["src","images/marker_location.png",1,"marker-icon",3,"alt"],["src","images/marker_location.png","id","coords-icon",1,"marker-icon",3,"alt"],[3,"message","okButton"]],template:function(_,C){1&_&&(pt(0,"div"),pt(1,"div",0),An("click",function(){return C.zoomToMap()}),sn(2,"translate"),Bn(3,"img",1),sn(4,"translate"),ft(),ft(),pt(5,"div"),pt(6,"div",2),An("click",function(){return C.startSearchById()}),sn(7,"translate"),Bn(8,"span",3),ft(),ft(),Pi(9,Pie,20,12,"div",4),Pi(10,kie,2,4,"dinoloket-dialog",5)),2&_&&(vt(1),It("title",on(2,6,"buttonToolTipZoomToInitialExtent")),vt(2),It("alt",on(4,8,"buttonToolTipZoomToInitialExtent")),vt(3),It("ngClass",bo(12,Lie,C.configurationService.broOnly,C.mapService.mapState===C.MAP_SEARCH_BY_ID_STATE))("title",on(7,10,"searchByIdTooltip")),vt(3),It("ngIf",C.mapService.mapState===C.MAP_SEARCH_BY_ID_STATE),vt(1),It("ngIf",null!==C.messageResult))},directives:[eo,to,uA,VL,uc,mB],pipes:[Xs],styles:[".search-modal[_ngcontent-%COMP%]{visibility:visible;display:flex;padding-top:7%}#search-field[_ngcontent-%COMP%]{max-width:480px;padding-bottom:10px;padding-top:10px;margin:auto;box-shadow:3px 3px 5px #0000001f,0 -1px 6px #0000000f;border-radius:0}#search-results[_ngcontent-%COMP%]{top:-5px;max-width:480px;padding-bottom:10px;padding-top:10px;margin:auto;box-shadow:2px 2px 4px #0000001f,0 -1px 4px #0000000f;border-radius:0}.content-section[_ngcontent-%COMP%]{position:relative;overflow:hidden;display:inline-block;padding:5px;width:100%;font-size:14px}.content-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:8px;background-color:#f3f3f3;border-radius:0;border:0}.content-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:none}.suggestion-text[_ngcontent-%COMP%]{color:#bab6b5;margin-bottom:5px;margin-top:5px}.dropdown[_ngcontent-%COMP%]{width:100%;line-height:1.8em;padding:0;margin:0}#search-icon[_ngcontent-%COMP%]{position:absolute;right:15px;top:12px;height:24px}#close-icon[_ngcontent-%COMP%]{position:absolute;right:45px;top:12px;height:24px}.marker-icon[_ngcontent-%COMP%]{height:18px;margin-right:5px}hr[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}.esri-draw-button-selected[_ngcontent-%COMP%]{opacity:1;background-color:#39870c;color:#fff}.bro.esri-draw-button-selected[_ngcontent-%COMP%]{background-color:#007bc7}.search-type[_ngcontent-%COMP%]{color:#000;background-color:#d3d3d3}.result-section[_ngcontent-%COMP%]{max-height:300px}.result-section[_ngcontent-%COMP%]:hover{overflow-y:auto;overflow-x:hidden}.active[_ngcontent-%COMP%]{background-color:#f4f5f6}.right-space[_ngcontent-%COMP%]{margin-right:5px}.searchSuggest[_ngcontent-%COMP%]{color:#a9abad}.align-cell[_ngcontent-%COMP%]{text-align:center;padding-bottom:7px}.input-box[_ngcontent-%COMP%]{max-width:unset}"]}),A})();function Rie(A,w){if(1&A){const _=tr();pt(0,"dinoloket-columns-mdl",16),An("closeButton",function(){return zi(_),Wt().closeWindow()})("depthRange",function(I){return zi(_),Wt().updateDepths(I)})("depthReference",function(I){return zi(_),Wt().updateDepthReference(I)}),ft()}if(2&A){const _=Wt();It("depthReferenceAccepted",_.depthReferenceAccepted)("dinoIds",_.dinoIds)("mdlColumnsInput",_.mdlColumnsInput)("mdlColumns",_.mdlColumnsDto)("selectedDepthReference",null==_.mdlColumnsDto?null:_.mdlColumnsDto.depthReference)}}function Fie(A,w){1&A&&Bn(0,"dinoloket-menu-toolbar")}function Nie(A,w){if(1&A){const _=tr();pt(0,"dinoloket-legend",17),An("filterLegend",function(I){return zi(_),Wt().setLimitedLegend(I)}),sn(1,"translate"),sn(2,"async"),ft()}if(2&A){const _=Wt();It("filteredLegend",_.filterLegend)("legends",_.legends)("nonClickableLegends",_.nonClickLegends)("nl3dLegends",_.nl3dLegends)("selectedLegend",_.selectedLegend)("legendPrefix",_.legendPrefix)("title",on(1,7,on(2,9,_.mapService.legendTitle$)))}}function Uie(A,w){1&A&&Bn(0,"dinoloket-bro-gtp-legend")}function jie(A,w){1&A&&Bn(0,"dinoloket-loading-progress-dialog",18)}const Hie=function(A,w){return{show:A,hide:w}},Vie=["*"];let zie=(()=>{class A{constructor(_,C,I,j,K,q,ue,Re){this.mapService=_,this.errorService=C,this.configurationService=I,this.columnsService=j,this.translateService=K,this.legendService=q,this.simpleModelService=ue,this.orderService=Re,this.MAP_SEARCH_BY_ID_STATE=Jn.MAP_SEARCH_BY_ID_STATE,this.showColumns=!1,this.navigationDone=!1,this.dinoIds=[],this.legendPrefix=null,this.inSimpleState=!1,this.hasOpenWindow=!1,this.filterLegend="",this.receivingSgm2Data=!1,this.legendServicePath="/legend",this.settings=this.configurationService.settings,this.enableMaximizeViewer=this.configurationService.getFeature("enableMaximizeViewer"),this.geokFeature=this.configurationService.getFeature("geokFeature"),this.wdmFeature=this.configurationService.getFeature("wdmFeature"),this.updateMapSubscription=_.changeMapEventBus.subscribe(Je=>{this.newModelSelected(!0)})}closeWindow(){this.removeListClickedAfterFiveSeconds(),setTimeout(()=>{this.hasOpenWindow||(this.simpleModelPolygon=null,this.simpleModelPoint=null)},5e3),this.showColumns=!1,this.hasOpenWindow=!1,this.selectedLegend=null,this.gmmResults=null,this.sgm2Results=null,this.geokResults=null,this.dinoIds=[],this.mapService.disableMenuToggling=!1,(this.mapService.mapState===Jn.DRAW_STATE||this.mapService.mapState===Jn.DRAW_RECTANGLE_STATE)&&this.mapService.changeMapState(Jn.MAP_STATE)}ngOnInit(){this.view=new xS({spatialReference:new Pp.Z({wkid:28992}),container:"mapDiv",map:this.mapService.map,extent:new Iu.Z({xmin:-285402,ymin:22598,xmax:595402,ymax:903402,spatialReference:{wkid:28992}}),constraints:{maxScale:40,minScale:2280903},popup:{dockEnabled:!1,dockOptions:{breakpoint:!0,buttonEnabled:!0},actions:[]}}),this.mapService.mapView=this.view,this.mapService.mapStateSubject.subscribe(_=>{switch(_){case Jn.DRILL_STATE:case Jn.CROSSECTION_STATE:case Jn.MAP_SEARCH_BY_ID_STATE:case Jn.ORDER_OVERVIEW_STATE:case Jn.ORDER_CONTACT_FORM_STATE:case Jn.ORDER_NO_ORDER_STATE:case Jn.MAP_STATE:"SGM2"!==this.mapService.activeDatatype&&(this.simpleModelPolygon=null),this.closeWindow()}})}ngAfterViewInit(){this.view.ui.remove("attribution"),this.view.when(()=>{this.view.on("click",C=>{this.currentPoint=C.mapPoint,this.performClick(C.mapPoint)})}),this.view.ui.add("maximize-button","top-right"),this.view.ui.move("zoom","top-right"),this.view.ui.add("zoom-to-map-nl-button","top-right"),this.view.ui.add("drill-button","top-right"),this.view.ui.add("crossection-button","top-right"),this.view.ui.add("draw-rectangle-button","top-right"),this.view.ui.add("draw-polygon-button","top-right"),this.view.ui.add("download-button","top-right"),this.view.ui.add("idSearch-button","top-right"),(!this.enableMaximizeViewer||!this.configurationService.broOnly)&&this.view.ui.remove("maximize-button"),this.view.ui.add("identifyGmmHolder","top-right"),this.geokFeature&&this.view.ui.add("identifyGeokHolder","top-right"),this.wdmFeature&&this.view.ui.add("identifyWdmHolder","top-right"),this.view.on("mouse-wheel",C=>{(this.view.scale>228e4&&C.deltaY>0||this.view.scale<40&&C.deltaY<0)&&C.stopPropagation()}),this.view.on("pointer-move",C=>{this.coordinates=this.view.toMap({x:C.x,y:C.y})});const _=new Ez({view:this.view,unit:"metric"});this.view.ui.add(_,"bottom-left")}executeIdentifyTask(_,C,I=!1){this.currentPoint=_,this.mapService.disableMenuToggling=!0,I&&(this.showColumns=!1,this.hasOpenWindow=!1);const{identifyTask:j,identifyParameters:K}=this.getIdentifyData(_,this.mapService.mdlLayer,this.mapService.activeLayerId);j.execute(K).then(q=>{const ue=this.filterById(C,q.results);(ue.length||I)&&(this.addIcon(_,!1),this.resetColumnFields()),ue.length>0?(this.navigationDone=!0,this.getColumns(ue)):I?(this.giveErrorToUser("column.noInformation"),this.removeListClickedAfterFiveSeconds()):(this.mapService.disableMenuToggling=!1,this.removeListClickedAfterFiveSeconds())})}executeIdentifyTaskForGeok(_){this.currentPoint=_,this.resetColumnFields();const{identifyTask:C,identifyParameters:I,identifyTaskUrania:j,identifyParametersUrania:K}=this.getIdentifyDataGeok(_,0);I.tolerance=0,this.simpleModelResults=[],j.execute(K).then(q=>{const ue=this.filterFromLegend(q.results);C.execute(I).then(Re=>{Array.prototype.push.apply(ue,this.filterFromLegend(Re.results)),ue.length>0&&(this.hasOpenWindow=!0,this.simpleModelResults=[],ue.forEach(Je=>this.simpleModelResults.push(Je.feature)),this.geokResults=ue,this.navigateToPoint(_,150))})})}executeIdentifyTaskForWdm(_){this.currentPoint=_,this.resetColumnFields();const{identifyTask:C,identifyParameters:I,identifyTaskBrh:j,identifyParametersBrh:K}=this.getIdentifyDataWdm(_,0);I.tolerance=0,this.simpleModelResults=[],C.execute(I).then(q=>{const ue=this.filterFromLegend(q.results);this.mapService.wdmBrhDynamicLayer.visible?j.execute(K).then(Re=>{Array.prototype.push.apply(ue,this.filterFromLegend(Re.results)),this.setWdmResultsAndNavigate(ue,_)}):this.setWdmResultsAndNavigate(ue,_)})}setWdmResultsAndNavigate(_,C){_.length>0&&(this.hasOpenWindow=!0,this.simpleModelResults=[],_.forEach(I=>this.simpleModelResults.push(I.feature)),this.wdmResults=_,this.navigateToPoint(C,150))}executeIdentifyTaskForSimpleModel(_){if("NZS"===this.mapService.activeDatatype)return;this.currentPoint=_,this.resetColumnFields();const{identifyTask:C,identifyParameters:I}=this.getIdentifyData(_,this.getActiveDataTypeLayer(),0);I.tolerance=0,this.simpleModelResults=[],C.execute(I).then(j=>{const K=this.filterFromLegend(j.results);if(K.length>0)switch(this.hasOpenWindow=!0,K.forEach(q=>this.simpleModelResults.push(q.feature)),this.mapService.getDataType()){case"GMM":this.gmmResults=K,this.navigateToPoint(_,150);break;case"SGM2":this.querySgm2Backend(K)}})}addIcon(_,C){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastClickedGraphicLocation&&this.mapService.mapView.graphics.remove(this.lastClickedGraphicLocation);let I=this.configurationService.broOnly?Jn.broDrawConfig.parkeerMeterGreen:Jn.drawConfig.parkeerMeterGreen;C||(I=this.configurationService.broOnly?Jn.broDrawConfig.greenCircleSymbol:Jn.drawConfig.greenCircleSymbol),this.lastClickedGraphicLocation=new Fa.Z({geometry:_,symbol:I}),this.mapService.mapView.graphics.add(this.lastClickedGraphicLocation)}executeVirtualColumns(_){this.addIcon(_,!0),this.mapService.disableMenuToggling=!0,this.showColumns=!1,this.hasOpenWindow=!1;const{query:C,task:I}=this.createQueryTask(_);I.execute(C).then(j=>{if(this.resetColumnFields(),j.features.length>0){const K=new gC;this.createMdlInput(K),K.resolution=this.settings[this.mapService.activeDatatype.toLowerCase()+"Resolution"],K.ycoordinate=_.y,K.xcoordinate=_.x,this.navigationDone=!0,this.mdlColumnsInput=K,this.retrieveVirtualColumns(K)}else this.giveErrorToUser("column.noInformation"),this.removeListClickedAfterFiveSeconds()})}createQueryTask(_){const C=new Ug.Z;return C.spatialRelationship="within",C.geometry=_,C.outFields=["*"],C.where=` MDL_CD = '${this.mapService.activeDatatype.toUpperCase()}'`,{query:C,task:new Fb.Z({url:this.configurationService.settings.mdlArcGisServerURLdynamic+"/4"})}}retrieveVirtualColumns(_){this.showColumns=!0,this.hasOpenWindow=!0,this.columnsService.virtualColumns(_).subscribe(C=>{this.reverseLayerInfoResult(C)})}updateDepths(_){this.mdlColumnsInput=_,this.mdlColumnsInput instanceof gC?this.retrieveVirtualColumns(this.mdlColumnsInput):this.mdlColumnsInput instanceof mC&&this.retrieveColumns(this.mdlColumnsInput)}updateDepthReference(_){this.mdlColumnsInput.depthReference=_,this.mdlColumnsInput.topDepth=null,this.mdlColumnsInput.bottomDepth=null,this.mdlColumnsInput instanceof gC?this.retrieveVirtualColumns(this.mdlColumnsInput):this.mdlColumnsInput instanceof mC&&this.retrieveColumns(this.mdlColumnsInput)}newModelSelected(_){this.hasOpenWindow&&!this.inSimpleState?this.performClick(this.currentPoint,!0):this.hasOpenWindow&&this.inSimpleState&&("WDM"===this.mapService.activeDatatype?this.performClick(this.currentPoint,!0):this.resetColumnFields()),this.inSimpleState=this.mapService.checkIfSimpleModel()}setLegends(){let _;if(this.legends=[],this.nonClickLegends=[],this.nl3dLegends=[],"GMM"===this.mapService.activeDatatype)_=this.configurationService.settings.gmmLegendUrl;else{if("SGM2"!==this.mapService.activeDatatype){if("WDM"===this.mapService.activeDatatype){const C=new Map([["glg",this.configurationService.settings.wdmGlgLegendUrl],["ghg",this.configurationService.settings.wdmGhgLegendUrl],["voorjaarsNiveau",this.configurationService.settings.wdmGvgLegendUrl],["gwt",this.configurationService.settings.wdmGtModusLegendUrl],["statistischModel",this.configurationService.settings.wdmReferenceLegendUrl]]),I=new Map([["glg","G_"],["ghg","G_"],["voorjaarsNiveau",null],["gwt","M_"],["statistischModel",null]]);return _=C.get(this.mapService.activeWdmType),this.legendPrefix=I.get(this.mapService.activeWdmType),void this.legendService.getLegend(_).subscribe(j=>{this.nonClickLegends=j.layers[0].legend,this.legendService.getLegend(this.configurationService.settings.wdmBrhLegendUrl).subscribe(K=>{Array.prototype.push.apply(this.nonClickLegends,K.layers[0].legend)})})}return"NZS"===this.mapService.activeDatatype?void this.determineNzsLegend(+this.mapService.currentNzsLayer.id):"GEOK"===this.mapService.activeDatatype?(this.legendService.getLegend(this.configurationService.settings.geokLegendUrlUrania).subscribe(C=>{Array.prototype.push.apply(this.legends,C.layers[0].legend),this.legendService.getLegend(this.configurationService.settings.geokLegendUrl).subscribe(I=>{Array.prototype.push.apply(this.legends,I.layers[0].legend)})}),void this.legendService.getLegend(this.configurationService.settings.geokLegendUrlLines).subscribe(C=>{Array.prototype.push.apply(this.nonClickLegends,C.layers[0].legend)})):"NL3D"===this.mapService.activeDatatype?void this.determineNL3DLegend():void 0}_=this.configurationService.settings.sgm2LegendUrl}this.legendService.getLegend(_).subscribe(C=>{this.legends=C.layers[0].legend})}determineNzsLegend(_){this.legendService.getLegend(this.configurationService.settings.nzsLegendUrl).subscribe(C=>{this.mapService.nzsPointDataChecked&&("uncertaintyMap"==this.mapService.activeNZSSubType||"bathymetry"==this.mapService.activeNZSSubType)&&Array.prototype.push.apply(this.nonClickLegends,C.layers[this.mapService.activeNzsDataPointsLayer.id].legend),this.mapService.nzsBathymetryChecked&&Array.prototype.push.apply(this.nonClickLegends,C.layers[this.mapService.nzsBathyMetryLayer.id].legend),"sandExtraction"!=this.mapService.activeNZSSubType&&Array.prototype.push.apply(this.nonClickLegends,C.layers[_].legend)})}determineNL3DLegend(){this.legendService.getLegend(this.mapService.getCurrentNL3DLayer().url+this.legendServicePath).subscribe(_=>{for(var C=0;C<_.layers.length;C++){let I=_.layers[C];if(I.layerId==this.mapService.active3dDeep)return void Array.prototype.push.apply(this.nl3dLegends,I.legend)}})}setLimitedLegend(_){_===this.filterLegend&&(_=""),this.filterLegend=_;let C,I,j="LANDFORM_SUBGROUP_CODE";if("GMM"===this.mapService.getDataType())C=this.mapService.gmmDynamicLayer,I=this.mapService.gmmStaticLayer;else if("SGM2"===this.mapService.getDataType())C=this.mapService.sgmDynamicLayer,I=this.mapService.sgmStaticLayer;else{if("GEOK"!==this.mapService.getDataType())return;{C=this.mapService.geokDynamicLayer,I=this.mapService.geokTiledLayer,j="CODE";const K=""!==_?j+" = '"+_+"'":"";this.getSublayer(this.mapService.geokUraniaLayer).definitionExpression=K,this.getSublayer(this.mapService.geokLineLayer).definitionExpression=K}}""===_?(I.visible=!0,C.minScale=191999):(C.minScale=0,I.visible=!1,this.resetColumnFields(),this.simpleModelPolygon=null,this.mapService.disableMenuToggling=!1),this.getSublayer(C).definitionExpression=""!==_?j+" = '"+_+"'":""}clearPolygonAndSetLegend(){this.simpleModelPolygon=null,this.setLegends(),this.setLimitedLegend("")}updateCurrentLegend(_){this.selectedLegend=_}updateCurrentGeometry(_){for(const C of this.simpleModelResults)if(C.attributes[_.field]===_.id){if("WDM"!==this.mapService.activeDatatype)return void(null!=C.geometry&&(this.simpleModelPolygon=C.geometry));this.updateGeometryForWdm(_,C)}this.simpleModelPolygon=null}updateGeometryForWdm(_,C){let I;this.simpleModelPoint&&this.mapService.mapView.graphics.remove(this.simpleModelPoint),I=_.id?this.configurationService.broOnly?Jn.broDrawConfig.greenCircleSymbol:Jn.drawConfig.greenCircleSymbol:this.configurationService.broOnly?Jn.broDrawConfig.parkeerMeterGreen:Jn.drawConfig.parkeerMeterGreen,this.simpleModelPoint=new Fa.Z({geometry:C.geometry,symbol:I}),this.mapService.mapView.graphics.add(this.simpleModelPoint)}removeListClickedAfterFiveSeconds(){(this.lastClickedGraphicLocation||this.simpleModelPoint)&&(this.timeout=setTimeout(()=>{this.lastClickedGraphicLocation&&(this.mapService.mapView.graphics.remove(this.lastClickedGraphicLocation),this.lastClickedGraphicLocation=null),this.simpleModelPoint&&(this.mapService.mapView.graphics.remove(this.simpleModelPoint),this.simpleModelPoint=null),this.timeout=null},5e3))}performClick(_,C=!1){let I=this.mapService.getMapState();switch(C&&(I=this.originalState),this.originalState=I,I){case Jn.CROSSECTION_STATE:case Jn.DRAW_RECTANGLE_STATE:case Jn.DRAW_STATE:break;case Jn.DRILL_STATE:this.executeVirtualColumns(_);break;default:if(this.mapService.getDataType())if("GEOK"===this.mapService.activeDatatype)this.executeIdentifyTaskForGeok(_);else if("WDM"===this.mapService.activeDatatype)this.executeIdentifyTaskForWdm(_);else{if("NL3D"===this.mapService.activeDatatype)return;this.mapService.checkIfSimpleModel()?this.executeIdentifyTaskForSimpleModel(_):this.executeIdentifyTask(_,C?this.dinoId:null,C)}}}filterById(_,C){let I=C;return null!==_&&(I=C.filter(j=>j.feature.attributes.DINO_NR===_),0!==I.length&&C.length>1&&C.filter(j=>j.feature.attributes.DINO_NR!==_).forEach(j=>I.push(j))),I}querySgm2Backend(_){const C=[];for(const I of _)C.push(I.feature.attributes.MAP_AREA_ID);this.simpleModelService.getSgm(C).subscribe(I=>{this.sgm2Results=I})}queryGeometrySgm2(_){const C=new Ug.Z({geometry:_,outFields:["*"],returnGeometry:!0,spatialRelationship:"intersects"});if("SGM2"===this.mapService.getDataType()){this.receivingSgm2Data=!0;const I=new Fb.Z({url:this.mapService.sgmDynamicLayer.url+"/0"}),j=this.mapService.sgmDynamicLayer.allSublayers.find(K=>0===K.id);C.where=j.definitionExpression,I.execute(C).then(K=>{if(K.exceededTransferLimit)return this.receivingSgm2Data=!1,this.errorService.message="tooManyItems",this.errorService.params={max:K.features.length},void this.mapService.changeMapState(Jn.MAP_STATE);if(0===K.features.length)return this.receivingSgm2Data=!1,this.errorService.message="orderSelection.noInformation",void this.mapService.changeMapState(Jn.MAP_STATE);this.simpleModelResults=K.features;const q=[];K.features.forEach(ue=>q.push(ue.attributes.MAP_AREA_ID)),this.simpleModelService.getSgm(q).subscribe(ue=>{this.receivingSgm2Data=!1,this.sgm2Results=ue})})}}filterFromLegend(_){if(!this.filterLegend||""===this.filterLegend)return _;const C=[];if(_&&_.length>0)for(const I of _)I.feature.attributes.LANDFORM_SUBGROUP_CODE&&I.feature.attributes.LANDFORM_SUBGROUP_CODE!==this.filterLegend||I.feature.attributes.CODE&&I.feature.attributes.CODE!==this.filterLegend||C.push(I);return C}getActiveDataTypeLayer(){switch(this.mapService.getDataType()){case"GMM":return this.mapService.gmmDynamicLayer;case"SGM2":return this.mapService.sgmDynamicLayer;case"GEOK":return this.mapService.geokDynamicLayer;default:return this.giveErrorToUser("errorGeneric"),null}}getParameters(_,C){const I=new XD;return I.tolerance=10,I.returnGeometry=!0,I.geometry=_,I.mapExtent=this.view.extent,I.layerIds=[C],I.width=this.view.width,I.height=this.view.height,I}getIdentifyData(_,C,I){return{identifyTask:new Iy({url:C.url}),identifyParameters:this.getParameters(_,I)}}getIdentifyDataGeok(_,C){return{identifyTask:new Iy({url:this.mapService.geokDynamicLayer.url}),identifyParameters:this.getParameters(_,C),identifyTaskUrania:new Iy({url:this.mapService.geokUraniaLayer.url}),identifyParametersUrania:this.getParameters(_,C)}}getIdentifyDataWdm(_,C){let I="";return"statistischModel"===this.mapService.activeWdmType?I=this.mapService.wdmRefereceDynamicLayer.url:"voorjaarsNiveau"===this.mapService.activeWdmType?I=this.mapService.wdmGvgDynamicLayer.url:"gwt"===this.mapService.activeWdmType?I=this.mapService.wdmGtModusDynamicLayer.url:"glg"===this.mapService.activeWdmType?I=this.mapService.wdmGlgDynamicLayer.url:"ghg"===this.mapService.activeWdmType&&(I=this.mapService.wdmGhgDynamicLayer.url),{identifyTask:new Iy({url:I}),identifyParameters:this.getParameters(_,C),identifyTaskBrh:new Iy({url:this.mapService.wdmBrhDynamicLayer.url}),identifyParametersBrh:this.getParameters(_,C)}}resetColumnFields(){this.hasOpenWindow=!1,this.showColumns=!1,this.mdlColumnsInput=null,this.mdlColumnsDto=null,this.gmmResults=null,this.sgm2Results=null,this.geokResults=null,this.wdmResults=null,this.simpleModelPoint&&(this.mapService.mapView.graphics.remove(this.simpleModelPoint),this.simpleModelPoint=null),this.selectedLegend=null}giveErrorToUser(_){this.resetColumnFields(),this.mapService.disableMenuToggling=!1,this.errorService.message=_}getColumns(_){this.dinoIds=[];const C=new mC;this.createMdlInput(C),_.forEach(I=>{this.dinoIds.push(I.feature.attributes.DINO_NR)}),C.dinoId=_[0].feature.attributes.DINO_NR,this.mdlColumnsInput=C,this.retrieveColumns(C)}retrieveColumns(_){this.showColumns=!0,this.hasOpenWindow=!0,this.columnsService.columns(_).subscribe(C=>{0===_.bottomDepth&&0===_.topDepth&&(_.bottomDepth=100*C.bottomDepth,_.topDepth=100*C.topDepth),this.dinoId=_.dinoId,this.reverseLayerInfoResult(C)})}createMdlInput(_){_.language=this.translateService.currentLang,_.modelType=this.mapService.activeDatatype,_.model=this.mapService.getDataType();const C=_.modelType.toLowerCase();this.configurationService.settings[C+"DepthReferenceAccepted"]?(this.depthReferenceAccepted=this.configurationService.settings[C+"DepthReferenceAccepted"].split(","),this.depthReferenceAccepted.indexOf(_.depthReference)<0&&(_.depthReference=this.depthReferenceAccepted[0])):console.error("Missing configuration for dataType"+C+"regarding depthReference"),_.version=this.settings[this.mapService.activeDatatype.toLowerCase()+"Version"]}reverseLayerInfoResult(_){_.columns.sort((C,I)=>C.sequenceNumber-I.sequenceNumber),_.columns.forEach(C=>{C.profileMetadata.forEach(I=>{I.layerInfos=[...I.layerInfos].reverse()})}),this.mdlColumnsDto=_}navigateToPoint(_,C){this.mapService.popupLocation=_,_.extent&&_.extent.center&&(_=_.extent.center),this.navigationDone=!1;let I=!1;const j=this.mapService.mapView.toScreen(_);("800"===this.mapService.mapView.scale.toFixed()||this.mapService.mapView.scale<=8e4)&&(j.y=j.y+C,I=!0),this.mapService.mapView.goTo({target:this.mapService.mapView.toMap(j)},{animate:!0,easing:A.EASE_IN_OUT,duration:250}),setTimeout(()=>{I?this.finalZoom(_,C):(this.mapService.mapView.goTo({scale:51200},{animate:!0,easing:A.EASE_IN_OUT,duration:750}),setTimeout(()=>{this.finalZoom(_,C)},850))},300)}finalZoom(_,C){const I=this.mapService.mapView.toScreen(_);I.y=I.y+C,this.mapService.mapView.goTo({target:this.mapService.mapView.toMap(I)},{animate:!0,easing:A.EASE_IN_OUT,duration:750}),this.navigationDone=!0}getSublayer(_){return _.allSublayers.find(C=>0===C.id)}backdrop(){return this.mapService.mapState===Jn.MAP_SEARCH_BY_ID_STATE||this.orderService.orderState===Jn.ORDER_CONTACT_FORM_STATE||this.orderService.orderState===Jn.ORDER_OVERVIEW_STATE}}return A.EASE_IN_OUT="ease-in-out",A.\u0275fac=function(_){return new(_||A)(rn(qo),rn(Ip),rn(fo),rn(P6),rn(Ll),rn(MS),rn(SS),rn(qb))},A.\u0275cmp=dr({type:A,selectors:[["dinoloket-map"]],ngContentSelectors:Vie,decls:25,vars:19,consts:[["id","mapDiv",1,"container-fluid"],[3,"queryGeometry"],[3,"clickedLocation","gmmResults","geometryChanged","legendChanged","windowClosed"],[3,"identifyResults","sgm2Results","geometryChanged","windowClosed"],[3,"clickedLocation","geokResults","geometryChanged","legendChanged","windowClosed"],[3,"clickedLocation","wdmResults","geometryChanged","legendChanged","windowClosed"],[3,"vertices"],[3,"depthReferenceAccepted","dinoIds","mdlColumnsInput","mdlColumns","selectedDepthReference","closeButton","depthRange","depthReference",4,"ngIf"],[1,"toolbar-window"],[4,"ngIf"],[3,"updateModel"],[3,"filteredLegend","legends","nonClickableLegends","nl3dLegends","selectedLegend","legendPrefix","title","filterLegend",4,"ngIf"],[3,"coordinates"],[3,"identify"],[1,"backdrop-in",3,"ngClass"],["message","dataProgress",4,"ngIf"],[3,"depthReferenceAccepted","dinoIds","mdlColumnsInput","mdlColumns","selectedDepthReference","closeButton","depthRange","depthReference"],[3,"filteredLegend","legends","nonClickableLegends","nl3dLegends","selectedLegend","legendPrefix","title","filterLegend"],["message","dataProgress"]],template:function(_,C){1&_&&(vf(),pt(0,"div",0),Bn(1,"dinoloket-maximize-tool"),Bn(2,"dinoloket-drilltool"),Bn(3,"dinoloket-crossection-tool"),Bn(4,"dinoloket-download-general"),pt(5,"dinoloket-map-drawtool-rectangle",1),An("queryGeometry",function(j){return C.queryGeometrySgm2(j)}),ft(),pt(6,"dinoloket-map-drawtool-polygon",1),An("queryGeometry",function(j){return C.queryGeometrySgm2(j)}),ft(),Nh(7),pt(8,"dinoloket-identify-gmm",2),An("geometryChanged",function(j){return C.updateCurrentGeometry(j)})("legendChanged",function(j){return C.updateCurrentLegend(j)})("windowClosed",function(){return C.closeWindow()}),ft(),pt(9,"dinoloket-identify-sgm2",3),An("geometryChanged",function(j){return C.updateCurrentGeometry(j)})("windowClosed",function(){return C.closeWindow()}),ft(),pt(10,"dinoloket-identify-geok",4),An("geometryChanged",function(j){return C.updateCurrentGeometry(j)})("legendChanged",function(j){return C.updateCurrentLegend(j)})("windowClosed",function(){return C.closeWindow()}),ft(),pt(11,"dinoloket-identify-wdm",5),An("geometryChanged",function(j){return C.updateCurrentGeometry(j)})("legendChanged",function(j){return C.updateCurrentLegend(j)})("windowClosed",function(){return C.closeWindow()}),ft(),Bn(12,"dinoloket-draw-geometry",6),Pi(13,Rie,1,5,"dinoloket-columns-mdl",7),pt(14,"div",8),Pi(15,Fie,1,0,"dinoloket-menu-toolbar",9),pt(16,"dinoloket-filter-toolbar",10),An("updateModel",function(){return C.clearPolygonAndSetLegend()}),ft(),Bn(17,"dinoloket-map-transparency"),Pi(18,Nie,3,11,"dinoloket-legend",11),Pi(19,Uie,1,0,"dinoloket-bro-gtp-legend",9),ft(),Bn(20,"dinoloket-coordinate-toolbar",12),Bn(21,"dinoloket-orderform"),ft(),pt(22,"dinoloket-map-idsearch",13),An("identify",function(j){return C.executeIdentifyTask(j.point,j.id)}),ft(),Bn(23,"div",14),Pi(24,jie,1,0,"dinoloket-loading-progress-dialog",15)),2&_&&(vt(8),It("clickedLocation",C.currentPoint)("gmmResults",C.gmmResults),vt(1),It("identifyResults",C.simpleModelResults)("sgm2Results",C.sgm2Results),vt(1),It("clickedLocation",C.currentPoint)("geokResults",C.geokResults),vt(1),It("clickedLocation",C.currentPoint)("wdmResults",C.wdmResults),vt(1),It("vertices",C.simpleModelPolygon),vt(1),It("ngIf",C.showColumns&&C.navigationDone),vt(2),It("ngIf",C.enableMaximizeViewer&&C.configurationService.broOnly),vt(3),It("ngIf",C.mapService.checkIfSimpleModel()),vt(1),It("ngIf","GTP"===C.mapService.activeDatatype),vt(1),It("coordinates",C.coordinates),vt(3),It("ngClass",bo(16,Hie,C.backdrop(),!C.backdrop())),vt(1),It("ngIf",C.receivingSgm2Data))},directives:[Sz,Iz,tZ,cq,hq,fq,wq,vee,Cee,jee,Hee,to,Ate,Ite,Gte,Jte,nie,rie,aie,vie,Bie,eo,eB],pipes:[Xs,vO],styles:["#mapDiv[_ngcontent-%COMP%]{padding:0}.toolbar-window[_ngcontent-%COMP%]{position:fixed;left:15px;top:20px;width:275px;z-index:100}.backdrop-in[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:1040;background-color:#000;opacity:.5;transition:opacity .15s linear}"]}),A})();function Wie(A,w){if(1&A){const _=tr();pt(0,"dinoloket-dialog",3),An("okButton",function(){return zi(_),Wt().errorService.message=null}),ft()}if(2&A){const _=Wt();It("message",_.errorService.message)("params",_.errorService.params)}}const Kie=function(A){return{bro:A}};let Qie=(()=>{class A{constructor(_,C,I){this.translate=_,this.errorService=C,this.configService=I;const j=new URL(window.location.href);I.broOnly="true"===j.searchParams.get("broOnly");let K=j.searchParams.get("lang");(!K||null===K||"en"!==K)&&(K="nl"),_.use(K)}}return A.\u0275fac=function(_){return new(_||A)(rn(Ll),rn(Ip),rn(fo))},A.\u0275cmp=dr({type:A,selectors:[["dinoloket-app"]],decls:4,vars:4,consts:[[1,"main",3,"ngClass"],["mapView",""],[3,"message","params","okButton",4,"ngIf"],[3,"message","params","okButton"]],template:function(_,C){1&_&&(pt(0,"div",0),Bn(1,"dinoloket-map",null,1),Pi(3,Wie,1,2,"dinoloket-dialog",2),ft()),2&_&&(It("ngClass",Or(2,Kie,C.configService.broOnly)),vt(3),It("ngIf",C.errorService.message))},directives:[eo,zie,to,mB],encapsulation:2}),A})();class Gie{constructor(w,_="/assets/i18n/",C=".json"){this.http=w,this.prefix=_,this.suffix=C}getTranslation(w){return this.http.get(`${this.prefix}${w}${this.suffix}`)}}let $ie=(()=>{class A{constructor(_){this.injector=_}handleError(_){const C=this.injector.get(Ip);console.log(_),this.injector.get(Ll).get("errorGeneric").subscribe(I=>C.message=I)}}return A.\u0275fac=function(_){return new(_||A)(xr(Tl))},A.\u0275prov=di({token:A,factory:A.\u0275fac}),A})();function gB(){return"undefined"!=typeof window&&void 0!==window.document}function KT(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function xm(A){switch(A.length){case 0:return new hv;case 1:return A[0];default:return new Tk(A)}}function yB(A,w,_,C,I={},j={}){const K=[],q=[];let ue=-1,Re=null;if(C.forEach(Je=>{const wt=Je.offset,Qt=wt==ue,ri=Qt&&Re||{};Object.keys(Je).forEach(Ci=>{let Gi=Ci,fn=Je[Ci];if("offset"!==Ci)switch(Gi=w.normalizePropertyName(Gi,K),fn){case"!":fn=I[Ci];break;case jf:fn=j[Ci];break;default:fn=w.normalizeStyleValue(Ci,Gi,fn,K)}ri[Gi]=fn}),Qt||q.push(ri),Re=ri,ue=wt}),K.length){const Je="\n - ";throw new Error(`Unable to animate due to the following errors:${Je}${K.join(Je)}`)}return q}function QT(A,w,_,C){switch(w){case"start":A.onStart(()=>C(_&&GT(_,"start",A)));break;case"done":A.onDone(()=>C(_&&GT(_,"done",A)));break;case"destroy":A.onDestroy(()=>C(_&&GT(_,"destroy",A)))}}function GT(A,w,_){const C=_.totalTime,j=$T(A.element,A.triggerName,A.fromState,A.toState,w||A.phaseName,null==C?A.totalTime:C,!!_.disabled),K=A._data;return null!=K&&(j._data=K),j}function $T(A,w,_,C,I="",j=0,K){return{element:A,triggerName:w,fromState:_,toState:C,phaseName:I,totalTime:j,disabled:!!K}}function lh(A,w,_){let C;return A instanceof Map?(C=A.get(w),C||A.set(w,C=_)):(C=A[w],C||(C=A[w]=_)),C}function vB(A){const w=A.indexOf(":");return[A.substring(1,w),A.substr(w+1)]}let ZT=(A,w)=>!1,_B=(A,w,_)=>[];(KT()||"undefined"!=typeof Element)&&(ZT=gB()?(A,w)=>{for(;w&&w!==document.documentElement;){if(w===A)return!0;w=w.parentNode||w.host}return!1}:(A,w)=>A.contains(w),_B=(A,w,_)=>{let C=[];if(_){const I=A.querySelectorAll(w);for(let j=0;j<I.length;j++)C.push(I[j])}else{const I=A.querySelector(w);I&&C.push(I)}return C});let s1=null,bB=!1;function JT(A){s1||(s1=("undefined"!=typeof document?document.body:null)||{},bB=!!s1.style&&"WebkitAppearance"in s1.style);let w=!0;return s1.style&&!function(A){return"ebkit"==A.substring(1,6)}(A)&&(w=A in s1.style,!w&&bB&&(w="Webkit"+A.charAt(0).toUpperCase()+A.substr(1)in s1.style)),w}const XT=ZT,YT=_B;function AB(A){const w={};return Object.keys(A).forEach(_=>{const C=_.replace(/([a-z])([A-Z])/g,"$1-$2");w[C]=A[_]}),w}let wB=(()=>{class A{validateStyleProperty(_){return JT(_)}matchesElement(_,C){return!1}containsElement(_,C){return XT(_,C)}query(_,C,I){return YT(_,C,I)}computeStyle(_,C,I){return I||""}animate(_,C,I,j,K,q=[],ue){return new hv(I,j)}}return A.\u0275fac=function(_){return new(_||A)},A.\u0275prov=di({token:A,factory:A.\u0275fac}),A})(),qT=(()=>{class A{}return A.NOOP=new wB,A})();const e4="ng-enter",sx="ng-leave",ox="ng-trigger",ax=".ng-trigger",xB="ng-animating",t4=".ng-animating";function o1(A){if("number"==typeof A)return A;const w=A.match(/^(-?[\.\d]+)(m?s)/);return!w||w.length<2?0:n4(parseFloat(w[1]),w[2])}function n4(A,w){return"s"===w?1e3*A:A}function lx(A,w,_){return A.hasOwnProperty("duration")?A:function(A,w,_){let I,j=0,K="";if("string"==typeof A){const q=A.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===q)return w.push(`The provided timing value "${A}" is invalid.`),{duration:0,delay:0,easing:""};I=n4(parseFloat(q[1]),q[2]);const ue=q[3];null!=ue&&(j=n4(parseFloat(ue),q[4]));const Re=q[5];Re&&(K=Re)}else I=A;if(!_){let q=!1,ue=w.length;I<0&&(w.push("Duration values below 0 are not allowed for this animation step."),q=!0),j<0&&(w.push("Delay values below 0 are not allowed for this animation step."),q=!0),q&&w.splice(ue,0,`The provided timing value "${A}" is invalid.`)}return{duration:I,delay:j,easing:K}}(A,w,_)}function gv(A,w={}){return Object.keys(A).forEach(_=>{w[_]=A[_]}),w}function Em(A,w,_={}){if(w)for(let C in A)_[C]=A[C];else gv(A,_);return _}function DB(A,w,_){return _?w+":"+_+";":""}function MB(A){let w="";for(let _=0;_<A.style.length;_++){const C=A.style.item(_);w+=DB(0,C,A.style.getPropertyValue(C))}for(const _ in A.style)A.style.hasOwnProperty(_)&&!_.startsWith("_")&&(w+=DB(0,ine(_),A.style[_]));A.setAttribute("style",w)}function Up(A,w,_){A.style&&(Object.keys(w).forEach(C=>{const I=s4(C);_&&!_.hasOwnProperty(C)&&(_[C]=A.style[I]),A.style[I]=w[C]}),KT()&&MB(A))}function a1(A,w){A.style&&(Object.keys(w).forEach(_=>{const C=s4(_);A.style[C]=""}),KT()&&MB(A))}function CA(A){return Array.isArray(A)?1==A.length?A[0]:Ek(A):A}const r4=new RegExp("{{\\s*(.+?)\\s*}}","g");function SB(A){let w=[];if("string"==typeof A){let _;for(;_=r4.exec(A);)w.push(_[1]);r4.lastIndex=0}return w}function cx(A,w,_){const C=A.toString(),I=C.replace(r4,(j,K)=>{let q=w[K];return w.hasOwnProperty(K)||(_.push(`Please provide a value for the animation param ${K}`),q=""),q.toString()});return I==C?A:I}function ux(A){const w=[];let _=A.next();for(;!_.done;)w.push(_.value),_=A.next();return w}const tne=/-+([a-z0-9])/g;function s4(A){return A.replace(tne,(...w)=>w[1].toUpperCase())}function ine(A){return A.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function TB(A,w){return 0===A||0===w}function IB(A,w,_){const C=Object.keys(_);if(C.length&&w.length){let j=w[0],K=[];if(C.forEach(q=>{j.hasOwnProperty(q)||K.push(q),j[q]=_[q]}),K.length)for(var I=1;I<w.length;I++){let q=w[I];K.forEach(function(ue){q[ue]=o4(A,ue)})}}return w}function ch(A,w,_){switch(w.type){case 7:return A.visitTrigger(w,_);case 0:return A.visitState(w,_);case 1:return A.visitTransition(w,_);case 2:return A.visitSequence(w,_);case 3:return A.visitGroup(w,_);case 4:return A.visitAnimate(w,_);case 5:return A.visitKeyframes(w,_);case 6:return A.visitStyle(w,_);case 8:return A.visitReference(w,_);case 9:return A.visitAnimateChild(w,_);case 10:return A.visitAnimateRef(w,_);case 11:return A.visitQuery(w,_);case 12:return A.visitStagger(w,_);default:throw new Error(`Unable to resolve animation metadata node #${w.type}`)}}function o4(A,w){return window.getComputedStyle(A)[w]}function nne(A,w){const _=[];return"string"==typeof A?A.split(/\s*,\s*/).forEach(C=>function(A,w,_){if(":"==A[0]){const ue=function(A,w){switch(A){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(_,C)=>parseFloat(C)>parseFloat(_);case":decrement":return(_,C)=>parseFloat(C)<parseFloat(_);default:return w.push(`The transition alias value "${A}" is not supported`),"* => *"}}(A,_);if("function"==typeof ue)return void w.push(ue);A=ue}const C=A.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==C||C.length<4)return _.push(`The provided transition expression "${A}" is not supported`),w;const I=C[1],j=C[2],K=C[3];w.push(OB(I,K));"<"==j[0]&&!("*"==I&&"*"==K)&&w.push(OB(K,I))}(C,_,w)):_.push(A),_}const dx=new Set(["true","1"]),px=new Set(["false","0"]);function OB(A,w){const _=dx.has(A)||px.has(A),C=dx.has(w)||px.has(w);return(I,j)=>{let K="*"==A||A==I,q="*"==w||w==j;return!K&&_&&"boolean"==typeof I&&(K=I?dx.has(A):px.has(A)),!q&&C&&"boolean"==typeof j&&(q=j?dx.has(w):px.has(w)),K&&q}}const one=new RegExp("s*:selfs*,?","g");function a4(A,w,_){return new ane(A).build(w,_)}class ane{constructor(w){this._driver=w}build(w,_){const C=new une(_);return this._resetContextStyleTimingState(C),ch(this,CA(w),C)}_resetContextStyleTimingState(w){w.currentQuerySelector="",w.collectedStyles={},w.collectedStyles[""]={},w.currentTime=0}visitTrigger(w,_){let C=_.queryCount=0,I=_.depCount=0;const j=[],K=[];return"@"==w.name.charAt(0)&&_.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),w.definitions.forEach(q=>{if(this._resetContextStyleTimingState(_),0==q.type){const ue=q,Re=ue.name;Re.toString().split(/\s*,\s*/).forEach(Je=>{ue.name=Je,j.push(this.visitState(ue,_))}),ue.name=Re}else if(1==q.type){const ue=this.visitTransition(q,_);C+=ue.queryCount,I+=ue.depCount,K.push(ue)}else _.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:w.name,states:j,transitions:K,queryCount:C,depCount:I,options:null}}visitState(w,_){const C=this.visitStyle(w.styles,_),I=w.options&&w.options.params||null;if(C.containsDynamicStyles){const j=new Set,K=I||{};if(C.styles.forEach(q=>{if(fx(q)){const ue=q;Object.keys(ue).forEach(Re=>{SB(ue[Re]).forEach(Je=>{K.hasOwnProperty(Je)||j.add(Je)})})}}),j.size){const q=ux(j.values());_.errors.push(`state("${w.name}", ...) must define default values for all the following style substitutions: ${q.join(", ")}`)}}return{type:0,name:w.name,style:C,options:I?{params:I}:null}}visitTransition(w,_){_.queryCount=0,_.depCount=0;const C=ch(this,CA(w.animation),_);return{type:1,matchers:nne(w.expr,_.errors),animation:C,queryCount:_.queryCount,depCount:_.depCount,options:l1(w.options)}}visitSequence(w,_){return{type:2,steps:w.steps.map(C=>ch(this,C,_)),options:l1(w.options)}}visitGroup(w,_){const C=_.currentTime;let I=0;const j=w.steps.map(K=>{_.currentTime=C;const q=ch(this,K,_);return I=Math.max(I,_.currentTime),q});return _.currentTime=I,{type:3,steps:j,options:l1(w.options)}}visitAnimate(w,_){const C=function(A,w){let _=null;if(A.hasOwnProperty("duration"))_=A;else if("number"==typeof A)return l4(lx(A,w).duration,0,"");const C=A;if(C.split(/\s+/).some(j=>"{"==j.charAt(0)&&"{"==j.charAt(1))){const j=l4(0,0,"");return j.dynamic=!0,j.strValue=C,j}return _=_||lx(C,w),l4(_.duration,_.delay,_.easing)}(w.timings,_.errors);_.currentAnimateTimings=C;let I,j=w.styles?w.styles:qh({});if(5==j.type)I=this.visitKeyframes(j,_);else{let K=w.styles,q=!1;if(!K){q=!0;const Re={};C.easing&&(Re.easing=C.easing),K=qh(Re)}_.currentTime+=C.duration+C.delay;const ue=this.visitStyle(K,_);ue.isEmptyStep=q,I=ue}return _.currentAnimateTimings=null,{type:4,timings:C,style:I,options:null}}visitStyle(w,_){const C=this._makeStyleAst(w,_);return this._validateStyleAst(C,_),C}_makeStyleAst(w,_){const C=[];Array.isArray(w.styles)?w.styles.forEach(K=>{"string"==typeof K?K==jf?C.push(K):_.errors.push(`The provided style string value ${K} is not allowed.`):C.push(K)}):C.push(w.styles);let I=!1,j=null;return C.forEach(K=>{if(fx(K)){const q=K,ue=q.easing;if(ue&&(j=ue,delete q.easing),!I)for(let Re in q)if(q[Re].toString().indexOf("{{")>=0){I=!0;break}}}),{type:6,styles:C,easing:j,offset:w.offset,containsDynamicStyles:I,options:null}}_validateStyleAst(w,_){const C=_.currentAnimateTimings;let I=_.currentTime,j=_.currentTime;C&&j>0&&(j-=C.duration+C.delay),w.styles.forEach(K=>{"string"!=typeof K&&Object.keys(K).forEach(q=>{if(!this._driver.validateStyleProperty(q))return void _.errors.push(`The provided animation property "${q}" is not a supported CSS property for animations`);const ue=_.collectedStyles[_.currentQuerySelector],Re=ue[q];let Je=!0;Re&&(j!=I&&j>=Re.startTime&&I<=Re.endTime&&(_.errors.push(`The CSS property "${q}" that exists between the times of "${Re.startTime}ms" and "${Re.endTime}ms" is also being animated in a parallel animation between the times of "${j}ms" and "${I}ms"`),Je=!1),j=Re.startTime),Je&&(ue[q]={startTime:j,endTime:I}),_.options&&function(A,w,_){const C=w.params||{},I=SB(A);I.length&&I.forEach(j=>{C.hasOwnProperty(j)||_.push(`Unable to resolve the local animation param ${j} in the given list of values`)})}(K[q],_.options,_.errors)})})}visitKeyframes(w,_){const C={type:5,styles:[],options:null};if(!_.currentAnimateTimings)return _.errors.push("keyframes() must be placed inside of a call to animate()"),C;let j=0;const K=[];let q=!1,ue=!1,Re=0;const Je=w.steps.map(Mn=>{const gn=this._makeStyleAst(Mn,_);let Zn=null!=gn.offset?gn.offset:function(A){if("string"==typeof A)return null;let w=null;if(Array.isArray(A))A.forEach(_=>{if(fx(_)&&_.hasOwnProperty("offset")){const C=_;w=parseFloat(C.offset),delete C.offset}});else if(fx(A)&&A.hasOwnProperty("offset")){const _=A;w=parseFloat(_.offset),delete _.offset}return w}(gn.styles),qn=0;return null!=Zn&&(j++,qn=gn.offset=Zn),ue=ue||qn<0||qn>1,q=q||qn<Re,Re=qn,K.push(qn),gn});ue&&_.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),q&&_.errors.push("Please ensure that all keyframe offsets are in order");const wt=w.steps.length;let Qt=0;j>0&&j<wt?_.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==j&&(Qt=1/(wt-1));const ri=wt-1,Ci=_.currentTime,Gi=_.currentAnimateTimings,fn=Gi.duration;return Je.forEach((Mn,gn)=>{const Zn=Qt>0?gn==ri?1:Qt*gn:K[gn],qn=Zn*fn;_.currentTime=Ci+Gi.delay+qn,Gi.duration=qn,this._validateStyleAst(Mn,_),Mn.offset=Zn,C.styles.push(Mn)}),C}visitReference(w,_){return{type:8,animation:ch(this,CA(w.animation),_),options:l1(w.options)}}visitAnimateChild(w,_){return _.depCount++,{type:9,options:l1(w.options)}}visitAnimateRef(w,_){return{type:10,animation:this.visitReference(w.animation,_),options:l1(w.options)}}visitQuery(w,_){const C=_.currentQuerySelector,I=w.options||{};_.queryCount++,_.currentQuery=w;const[j,K]=function(A){const w=!!A.split(/\s*,\s*/).find(_=>":self"==_);return w&&(A=A.replace(one,"")),A=A.replace(/@\*/g,ax).replace(/@\w+/g,_=>ax+"-"+_.substr(1)).replace(/:animating/g,t4),[A,w]}(w.selector);_.currentQuerySelector=C.length?C+" "+j:j,lh(_.collectedStyles,_.currentQuerySelector,{});const q=ch(this,CA(w.animation),_);return _.currentQuery=null,_.currentQuerySelector=C,{type:11,selector:j,limit:I.limit||0,optional:!!I.optional,includeSelf:K,animation:q,originalSelector:w.selector,options:l1(w.options)}}visitStagger(w,_){_.currentQuery||_.errors.push("stagger() can only be used inside of query()");const C="full"===w.timings?{duration:0,delay:0,easing:"full"}:lx(w.timings,_.errors,!0);return{type:12,animation:ch(this,CA(w.animation),_),timings:C,options:null}}}class une{constructor(w){this.errors=w,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function fx(A){return!Array.isArray(A)&&"object"==typeof A}function l1(A){return A?(A=gv(A)).params&&(A.params=function(A){return A?gv(A):null}(A.params)):A={},A}function l4(A,w,_){return{duration:A,delay:w,easing:_}}function c4(A,w,_,C,I,j,K=null,q=!1){return{type:1,element:A,keyframes:w,preStyleProps:_,postStyleProps:C,duration:I,delay:j,totalTime:I+j,easing:K,subTimeline:q}}class mx{constructor(){this._map=new Map}get(w){return this._map.get(w)||[]}append(w,_){let C=this._map.get(w);C||this._map.set(w,C=[]),C.push(..._)}has(w){return this._map.has(w)}clear(){this._map.clear()}}const mne=new RegExp(":enter","g"),yne=new RegExp(":leave","g");function u4(A,w,_,C,I,j={},K={},q,ue,Re=[]){return(new vne).buildKeyframes(A,w,_,C,I,j,K,q,ue,Re)}class vne{buildKeyframes(w,_,C,I,j,K,q,ue,Re,Je=[]){Re=Re||new mx;const wt=new h4(w,_,Re,I,j,Je,[]);wt.options=ue,wt.currentTimeline.setStyles([K],null,wt.errors,ue),ch(this,C,wt);const Qt=wt.timelines.filter(ri=>ri.containsAnimation());if(Qt.length&&Object.keys(q).length){const ri=Qt[Qt.length-1];ri.allowOnlyTimelineStyles()||ri.setStyles([q],null,wt.errors,ue)}return Qt.length?Qt.map(ri=>ri.buildKeyframes()):[c4(_,[],[],[],0,0,"",!1)]}visitTrigger(w,_){}visitState(w,_){}visitTransition(w,_){}visitAnimateChild(w,_){const C=_.subInstructions.get(_.element);if(C){const I=_.createSubContext(w.options),j=_.currentTimeline.currentTime,K=this._visitSubInstructions(C,I,I.options);j!=K&&_.transformIntoNewTimeline(K)}_.previousNode=w}visitAnimateRef(w,_){const C=_.createSubContext(w.options);C.transformIntoNewTimeline(),this.visitReference(w.animation,C),_.transformIntoNewTimeline(C.currentTimeline.currentTime),_.previousNode=w}_visitSubInstructions(w,_,C){let j=_.currentTimeline.currentTime;const K=null!=C.duration?o1(C.duration):null,q=null!=C.delay?o1(C.delay):null;return 0!==K&&w.forEach(ue=>{const Re=_.appendInstructionToTimeline(ue,K,q);j=Math.max(j,Re.duration+Re.delay)}),j}visitReference(w,_){_.updateOptions(w.options,!0),ch(this,w.animation,_),_.previousNode=w}visitSequence(w,_){const C=_.subContextCount;let I=_;const j=w.options;if(j&&(j.params||j.delay)&&(I=_.createSubContext(j),I.transformIntoNewTimeline(),null!=j.delay)){6==I.previousNode.type&&(I.currentTimeline.snapshotCurrentStyles(),I.previousNode=gx);const K=o1(j.delay);I.delayNextStep(K)}w.steps.length&&(w.steps.forEach(K=>ch(this,K,I)),I.currentTimeline.applyStylesToKeyframe(),I.subContextCount>C&&I.transformIntoNewTimeline()),_.previousNode=w}visitGroup(w,_){const C=[];let I=_.currentTimeline.currentTime;const j=w.options&&w.options.delay?o1(w.options.delay):0;w.steps.forEach(K=>{const q=_.createSubContext(w.options);j&&q.delayNextStep(j),ch(this,K,q),I=Math.max(I,q.currentTimeline.currentTime),C.push(q.currentTimeline)}),C.forEach(K=>_.currentTimeline.mergeTimelineCollectedStyles(K)),_.transformIntoNewTimeline(I),_.previousNode=w}_visitTiming(w,_){if(w.dynamic){const C=w.strValue;return lx(_.params?cx(C,_.params,_.errors):C,_.errors)}return{duration:w.duration,delay:w.delay,easing:w.easing}}visitAnimate(w,_){const C=_.currentAnimateTimings=this._visitTiming(w.timings,_),I=_.currentTimeline;C.delay&&(_.incrementTime(C.delay),I.snapshotCurrentStyles());const j=w.style;5==j.type?this.visitKeyframes(j,_):(_.incrementTime(C.duration),this.visitStyle(j,_),I.applyStylesToKeyframe()),_.currentAnimateTimings=null,_.previousNode=w}visitStyle(w,_){const C=_.currentTimeline,I=_.currentAnimateTimings;!I&&C.getCurrentStyleProperties().length&&C.forwardFrame();const j=I&&I.easing||w.easing;w.isEmptyStep?C.applyEmptyStep(j):C.setStyles(w.styles,j,_.errors,_.options),_.previousNode=w}visitKeyframes(w,_){const C=_.currentAnimateTimings,I=_.currentTimeline.duration,j=C.duration,q=_.createSubContext().currentTimeline;q.easing=C.easing,w.styles.forEach(ue=>{q.forwardTime((ue.offset||0)*j),q.setStyles(ue.styles,ue.easing,_.errors,_.options),q.applyStylesToKeyframe()}),_.currentTimeline.mergeTimelineCollectedStyles(q),_.transformIntoNewTimeline(I+j),_.previousNode=w}visitQuery(w,_){const C=_.currentTimeline.currentTime,I=w.options||{},j=I.delay?o1(I.delay):0;j&&(6===_.previousNode.type||0==C&&_.currentTimeline.getCurrentStyleProperties().length)&&(_.currentTimeline.snapshotCurrentStyles(),_.previousNode=gx);let K=C;const q=_.invokeQuery(w.selector,w.originalSelector,w.limit,w.includeSelf,!!I.optional,_.errors);_.currentQueryTotal=q.length;let ue=null;q.forEach((Re,Je)=>{_.currentQueryIndex=Je;const wt=_.createSubContext(w.options,Re);j&&wt.delayNextStep(j),Re===_.element&&(ue=wt.currentTimeline),ch(this,w.animation,wt),wt.currentTimeline.applyStylesToKeyframe(),K=Math.max(K,wt.currentTimeline.currentTime)}),_.currentQueryIndex=0,_.currentQueryTotal=0,_.transformIntoNewTimeline(K),ue&&(_.currentTimeline.mergeTimelineCollectedStyles(ue),_.currentTimeline.snapshotCurrentStyles()),_.previousNode=w}visitStagger(w,_){const C=_.parentContext,I=_.currentTimeline,j=w.timings,K=Math.abs(j.duration),q=K*(_.currentQueryTotal-1);let ue=K*_.currentQueryIndex;switch(j.duration<0?"reverse":j.easing){case"reverse":ue=q-ue;break;case"full":ue=C.currentStaggerTime}const Je=_.currentTimeline;ue&&Je.delayNextStep(ue);const wt=Je.currentTime;ch(this,w.animation,_),_.previousNode=w,C.currentStaggerTime=I.currentTime-wt+(I.startTime-C.currentTimeline.startTime)}}const gx={};class h4{constructor(w,_,C,I,j,K,q,ue){this._driver=w,this.element=_,this.subInstructions=C,this._enterClassName=I,this._leaveClassName=j,this.errors=K,this.timelines=q,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=gx,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ue||new yx(this._driver,_,0),q.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(w,_){if(!w)return;const C=w;let I=this.options;null!=C.duration&&(I.duration=o1(C.duration)),null!=C.delay&&(I.delay=o1(C.delay));const j=C.params;if(j){let K=I.params;K||(K=this.options.params={}),Object.keys(j).forEach(q=>{(!_||!K.hasOwnProperty(q))&&(K[q]=cx(j[q],K,this.errors))})}}_copyOptions(){const w={};if(this.options){const _=this.options.params;if(_){const C=w.params={};Object.keys(_).forEach(I=>{C[I]=_[I]})}}return w}createSubContext(w=null,_,C){const I=_||this.element,j=new h4(this._driver,I,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(I,C||0));return j.previousNode=this.previousNode,j.currentAnimateTimings=this.currentAnimateTimings,j.options=this._copyOptions(),j.updateOptions(w),j.currentQueryIndex=this.currentQueryIndex,j.currentQueryTotal=this.currentQueryTotal,j.parentContext=this,this.subContextCount++,j}transformIntoNewTimeline(w){return this.previousNode=gx,this.currentTimeline=this.currentTimeline.fork(this.element,w),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(w,_,C){const I={duration:null!=_?_:w.duration,delay:this.currentTimeline.currentTime+(null!=C?C:0)+w.delay,easing:""},j=new _ne(this._driver,w.element,w.keyframes,w.preStyleProps,w.postStyleProps,I,w.stretchStartingKeyframe);return this.timelines.push(j),I}incrementTime(w){this.currentTimeline.forwardTime(this.currentTimeline.duration+w)}delayNextStep(w){w>0&&this.currentTimeline.delayNextStep(w)}invokeQuery(w,_,C,I,j,K){let q=[];if(I&&q.push(this.element),w.length>0){w=(w=w.replace(mne,"."+this._enterClassName)).replace(yne,"."+this._leaveClassName);let Re=this._driver.query(this.element,w,1!=C);0!==C&&(Re=C<0?Re.slice(Re.length+C,Re.length):Re.slice(0,C)),q.push(...Re)}return!j&&0==q.length&&K.push(`\`query("${_}")\` returned zero elements. (Use \`query("${_}", { optional: true })\` if you wish to allow this.)`),q}}class yx{constructor(w,_,C,I){this._driver=w,this.element=_,this.startTime=C,this._elementTimelineStylesLookup=I,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(_),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(_,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(w){const _=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||_?(this.forwardTime(this.currentTime+w),_&&this.snapshotCurrentStyles()):this.startTime+=w}fork(w,_){return this.applyStylesToKeyframe(),new yx(this._driver,w,_||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(w){this.applyStylesToKeyframe(),this.duration=w,this._loadKeyframe()}_updateStyle(w,_){this._localTimelineStyles[w]=_,this._globalTimelineStyles[w]=_,this._styleSummary[w]={time:this.currentTime,value:_}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(w){w&&(this._previousKeyframe.easing=w),Object.keys(this._globalTimelineStyles).forEach(_=>{this._backFill[_]=this._globalTimelineStyles[_]||jf,this._currentKeyframe[_]=jf}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(w,_,C,I){_&&(this._previousKeyframe.easing=_);const j=I&&I.params||{},K=function(A,w){const _={};let C;return A.forEach(I=>{"*"===I?(C=C||Object.keys(w),C.forEach(j=>{_[j]=jf})):Em(I,!1,_)}),_}(w,this._globalTimelineStyles);Object.keys(K).forEach(q=>{const ue=cx(K[q],j,C);this._pendingStyles[q]=ue,this._localTimelineStyles.hasOwnProperty(q)||(this._backFill[q]=this._globalTimelineStyles.hasOwnProperty(q)?this._globalTimelineStyles[q]:jf),this._updateStyle(q,ue)})}applyStylesToKeyframe(){const w=this._pendingStyles,_=Object.keys(w);0!=_.length&&(this._pendingStyles={},_.forEach(C=>{this._currentKeyframe[C]=w[C]}),Object.keys(this._localTimelineStyles).forEach(C=>{this._currentKeyframe.hasOwnProperty(C)||(this._currentKeyframe[C]=this._localTimelineStyles[C])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(w=>{const _=this._localTimelineStyles[w];this._pendingStyles[w]=_,this._updateStyle(w,_)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const w=[];for(let _ in this._currentKeyframe)w.push(_);return w}mergeTimelineCollectedStyles(w){Object.keys(w._styleSummary).forEach(_=>{const C=this._styleSummary[_],I=w._styleSummary[_];(!C||I.time>C.time)&&this._updateStyle(_,I.value)})}buildKeyframes(){this.applyStylesToKeyframe();const w=new Set,_=new Set,C=1===this._keyframes.size&&0===this.duration;let I=[];this._keyframes.forEach((q,ue)=>{const Re=Em(q,!0);Object.keys(Re).forEach(Je=>{const wt=Re[Je];"!"==wt?w.add(Je):wt==jf&&_.add(Je)}),C||(Re.offset=ue/this.duration),I.push(Re)});const j=w.size?ux(w.values()):[],K=_.size?ux(_.values()):[];if(C){const q=I[0],ue=gv(q);q.offset=0,ue.offset=1,I=[q,ue]}return c4(this.element,I,j,K,this.duration,this.startTime,this.easing,!1)}}class _ne extends yx{constructor(w,_,C,I,j,K,q=!1){super(w,_,K.delay),this.keyframes=C,this.preStyleProps=I,this.postStyleProps=j,this._stretchStartingKeyframe=q,this.timings={duration:K.duration,delay:K.delay,easing:K.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let w=this.keyframes,{delay:_,duration:C,easing:I}=this.timings;if(this._stretchStartingKeyframe&&_){const j=[],K=C+_,q=_/K,ue=Em(w[0],!1);ue.offset=0,j.push(ue);const Re=Em(w[0],!1);Re.offset=LB(q),j.push(Re);const Je=w.length-1;for(let wt=1;wt<=Je;wt++){let Qt=Em(w[wt],!1);Qt.offset=LB((_+Qt.offset*C)/K),j.push(Qt)}C=K,_=0,I="",w=j}return c4(this.element,w,this.preStyleProps,this.postStyleProps,C,_,I,!0)}}function LB(A,w=3){const _=Math.pow(10,w-1);return Math.round(A*_)/_}class d4{}class Ane extends d4{normalizePropertyName(w,_){return s4(w)}normalizeStyleValue(w,_,C,I){let j="";const K=C.toString().trim();if(wne[_]&&0!==C&&"0"!==C)if("number"==typeof C)j="px";else{const q=C.match(/^[+-]?[\d\.]+([a-z]*)$/);q&&0==q[1].length&&I.push(`Please provide a CSS unit value for ${w}:${C}`)}return K+j}}const wne=(()=>function(A){const w={};return A.forEach(_=>w[_]=!0),w}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function BB(A,w,_,C,I,j,K,q,ue,Re,Je,wt,Qt){return{type:0,element:A,triggerName:w,isRemovalTransition:I,fromState:_,fromStyles:j,toState:C,toStyles:K,timelines:q,queriedElements:ue,preStyleProps:Re,postStyleProps:Je,totalTime:wt,errors:Qt}}const p4={};class RB{constructor(w,_,C){this._triggerName=w,this.ast=_,this._stateStyles=C}match(w,_,C,I){return function(A,w,_,C,I){return A.some(j=>j(w,_,C,I))}(this.ast.matchers,w,_,C,I)}buildStyles(w,_,C){const I=this._stateStyles["*"],j=this._stateStyles[w],K=I?I.buildStyles(_,C):{};return j?j.buildStyles(_,C):K}build(w,_,C,I,j,K,q,ue,Re,Je){const wt=[],Qt=this.ast.options&&this.ast.options.params||p4,Ci=this.buildStyles(C,q&&q.params||p4,wt),Gi=ue&&ue.params||p4,fn=this.buildStyles(I,Gi,wt),Mn=new Set,gn=new Map,Zn=new Map,qn="void"===I,mr={params:Object.assign(Object.assign({},Qt),Gi)},Mr=Je?[]:u4(w,_,this.ast.animation,j,K,Ci,fn,mr,Re,wt);let Qr=0;if(Mr.forEach(as=>{Qr=Math.max(as.duration+as.delay,Qr)}),wt.length)return BB(_,this._triggerName,C,I,qn,Ci,fn,[],[],gn,Zn,Qr,wt);Mr.forEach(as=>{const ks=as.element,Co=lh(gn,ks,{});as.preStyleProps.forEach(Fo=>Co[Fo]=!0);const Ma=lh(Zn,ks,{});as.postStyleProps.forEach(Fo=>Ma[Fo]=!0),ks!==_&&Mn.add(ks)});const ws=ux(Mn.values());return BB(_,this._triggerName,C,I,qn,Ci,fn,Mr,ws,gn,Zn,Qr)}}class Ene{constructor(w,_,C){this.styles=w,this.defaultParams=_,this.normalizer=C}buildStyles(w,_){const C={},I=gv(this.defaultParams);return Object.keys(w).forEach(j=>{const K=w[j];null!=K&&(I[j]=K)}),this.styles.styles.forEach(j=>{if("string"!=typeof j){const K=j;Object.keys(K).forEach(q=>{let ue=K[q];ue.length>1&&(ue=cx(ue,I,_));const Re=this.normalizer.normalizePropertyName(q,_);ue=this.normalizer.normalizeStyleValue(q,Re,ue,_),C[Re]=ue})}}),C}}class Mne{constructor(w,_,C){this.name=w,this.ast=_,this._normalizer=C,this.transitionFactories=[],this.states={},_.states.forEach(I=>{this.states[I.name]=new Ene(I.style,I.options&&I.options.params||{},C)}),FB(this.states,"true","1"),FB(this.states,"false","0"),_.transitions.forEach(I=>{this.transitionFactories.push(new RB(w,I,this.states))}),this.fallbackTransition=function(A,w,_){return new RB(A,{type:1,animation:{type:2,steps:[],options:null},matchers:[(K,q)=>!0],options:null,queryCount:0,depCount:0},w)}(w,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(w,_,C,I){return this.transitionFactories.find(K=>K.match(w,_,C,I))||null}matchStyles(w,_,C){return this.fallbackTransition.buildStyles(w,_,C)}}function FB(A,w,_){A.hasOwnProperty(w)?A.hasOwnProperty(_)||(A[_]=A[w]):A.hasOwnProperty(_)&&(A[w]=A[_])}const Tne=new mx;class Ine{constructor(w,_,C){this.bodyNode=w,this._driver=_,this._normalizer=C,this._animations={},this._playersById={},this.players=[]}register(w,_){const C=[],I=a4(this._driver,_,C);if(C.length)throw new Error(`Unable to build the animation due to the following errors: ${C.join("\n")}`);this._animations[w]=I}_buildPlayer(w,_,C){const I=w.element,j=yB(0,this._normalizer,0,w.keyframes,_,C);return this._driver.animate(I,j,w.duration,w.delay,w.easing,[],!0)}create(w,_,C={}){const I=[],j=this._animations[w];let K;const q=new Map;if(j?(K=u4(this._driver,_,j,e4,sx,{},{},C,Tne,I),K.forEach(Je=>{const wt=lh(q,Je.element,{});Je.postStyleProps.forEach(Qt=>wt[Qt]=null)})):(I.push("The requested animation doesn't exist or has already been destroyed"),K=[]),I.length)throw new Error(`Unable to create the animation due to the following errors: ${I.join("\n")}`);q.forEach((Je,wt)=>{Object.keys(Je).forEach(Qt=>{Je[Qt]=this._driver.computeStyle(wt,Qt,jf)})});const Re=xm(K.map(Je=>{const wt=q.get(Je.element);return this._buildPlayer(Je,{},wt)}));return this._playersById[w]=Re,Re.onDestroy(()=>this.destroy(w)),this.players.push(Re),Re}destroy(w){const _=this._getPlayer(w);_.destroy(),delete this._playersById[w];const C=this.players.indexOf(_);C>=0&&this.players.splice(C,1)}_getPlayer(w){const _=this._playersById[w];if(!_)throw new Error(`Unable to find the timeline player referenced by ${w}`);return _}listen(w,_,C,I){const j=$T(_,"","","");return QT(this._getPlayer(w),C,j,I),()=>{}}command(w,_,C,I){if("register"==C)return void this.register(w,I[0]);if("create"==C)return void this.create(w,_,I[0]||{});const j=this._getPlayer(w);switch(C){case"play":j.play();break;case"pause":j.pause();break;case"reset":j.reset();break;case"restart":j.restart();break;case"finish":j.finish();break;case"init":j.init();break;case"setPosition":j.setPosition(parseFloat(I[0]));break;case"destroy":this.destroy(w)}}}const NB="ng-animate-queued",f4="ng-animate-disabled",Bne=[],UB={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Rne={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},nd="__ng_removed";class m4{constructor(w,_=""){this.namespaceId=_;const C=w&&w.hasOwnProperty("value");if(this.value=function(A){return null!=A?A:null}(C?w.value:w),C){const j=gv(w);delete j.value,this.options=j}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(w){const _=w.params;if(_){const C=this.options.params;Object.keys(_).forEach(I=>{null==C[I]&&(C[I]=_[I])})}}}const xA="void",g4=new m4(xA);class Fne{constructor(w,_,C){this.id=w,this.hostElement=_,this._engine=C,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+w,rd(_,this._hostClassName)}listen(w,_,C,I){if(!this._triggers.hasOwnProperty(_))throw new Error(`Unable to listen on the animation trigger event "${C}" because the animation trigger "${_}" doesn't exist!`);if(null==C||0==C.length)throw new Error(`Unable to listen on the animation trigger "${_}" because the provided event is undefined!`);if(!function(A){return"start"==A||"done"==A}(C))throw new Error(`The provided animation trigger event "${C}" for the animation trigger "${_}" is not supported!`);const j=lh(this._elementListeners,w,[]),K={name:_,phase:C,callback:I};j.push(K);const q=lh(this._engine.statesByElement,w,{});return q.hasOwnProperty(_)||(rd(w,ox),rd(w,ox+"-"+_),q[_]=g4),()=>{this._engine.afterFlush(()=>{const ue=j.indexOf(K);ue>=0&&j.splice(ue,1),this._triggers[_]||delete q[_]})}}register(w,_){return!this._triggers[w]&&(this._triggers[w]=_,!0)}_getTrigger(w){const _=this._triggers[w];if(!_)throw new Error(`The provided animation trigger "${w}" has not been registered!`);return _}trigger(w,_,C,I=!0){const j=this._getTrigger(_),K=new y4(this.id,_,w);let q=this._engine.statesByElement.get(w);q||(rd(w,ox),rd(w,ox+"-"+_),this._engine.statesByElement.set(w,q={}));let ue=q[_];const Re=new m4(C,this.id);if(!(C&&C.hasOwnProperty("value"))&&ue&&Re.absorbOptions(ue.options),q[_]=Re,ue||(ue=g4),Re.value!==xA&&ue.value===Re.value){if(!function(A,w){const _=Object.keys(A),C=Object.keys(w);if(_.length!=C.length)return!1;for(let I=0;I<_.length;I++){const j=_[I];if(!w.hasOwnProperty(j)||A[j]!==w[j])return!1}return!0}(ue.params,Re.params)){const Gi=[],fn=j.matchStyles(ue.value,ue.params,Gi),Mn=j.matchStyles(Re.value,Re.params,Gi);Gi.length?this._engine.reportError(Gi):this._engine.afterFlush(()=>{a1(w,fn),Up(w,Mn)})}return}const Qt=lh(this._engine.playersByElement,w,[]);Qt.forEach(Gi=>{Gi.namespaceId==this.id&&Gi.triggerName==_&&Gi.queued&&Gi.destroy()});let ri=j.matchTransition(ue.value,Re.value,w,Re.params),Ci=!1;if(!ri){if(!I)return;ri=j.fallbackTransition,Ci=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:w,triggerName:_,transition:ri,fromState:ue,toState:Re,player:K,isFallbackTransition:Ci}),Ci||(rd(w,NB),K.onStart(()=>{yv(w,NB)})),K.onDone(()=>{let Gi=this.players.indexOf(K);Gi>=0&&this.players.splice(Gi,1);const fn=this._engine.playersByElement.get(w);if(fn){let Mn=fn.indexOf(K);Mn>=0&&fn.splice(Mn,1)}}),this.players.push(K),Qt.push(K),K}deregister(w){delete this._triggers[w],this._engine.statesByElement.forEach((_,C)=>{delete _[w]}),this._elementListeners.forEach((_,C)=>{this._elementListeners.set(C,_.filter(I=>I.name!=w))})}clearElementCache(w){this._engine.statesByElement.delete(w),this._elementListeners.delete(w);const _=this._engine.playersByElement.get(w);_&&(_.forEach(C=>C.destroy()),this._engine.playersByElement.delete(w))}_signalRemovalForInnerTriggers(w,_){const C=this._engine.driver.query(w,ax,!0);C.forEach(I=>{if(I[nd])return;const j=this._engine.fetchNamespacesByElement(I);j.size?j.forEach(K=>K.triggerLeaveAnimation(I,_,!1,!0)):this.clearElementCache(I)}),this._engine.afterFlushAnimationsDone(()=>C.forEach(I=>this.clearElementCache(I)))}triggerLeaveAnimation(w,_,C,I){const j=this._engine.statesByElement.get(w),K=new Map;if(j){const q=[];if(Object.keys(j).forEach(ue=>{if(K.set(ue,j[ue].value),this._triggers[ue]){const Re=this.trigger(w,ue,xA,I);Re&&q.push(Re)}}),q.length)return this._engine.markElementAsRemoved(this.id,w,!0,_,K),C&&xm(q).onDone(()=>this._engine.processLeaveNode(w)),!0}return!1}prepareLeaveAnimationListeners(w){const _=this._elementListeners.get(w),C=this._engine.statesByElement.get(w);if(_&&C){const I=new Set;_.forEach(j=>{const K=j.name;if(I.has(K))return;I.add(K);const ue=this._triggers[K].fallbackTransition,Re=C[K]||g4,Je=new m4(xA),wt=new y4(this.id,K,w);this._engine.totalQueuedPlayers++,this._queue.push({element:w,triggerName:K,transition:ue,fromState:Re,toState:Je,player:wt,isFallbackTransition:!0})})}}removeNode(w,_){const C=this._engine;if(w.childElementCount&&this._signalRemovalForInnerTriggers(w,_),this.triggerLeaveAnimation(w,_,!0))return;let I=!1;if(C.totalAnimations){const j=C.players.length?C.playersByQueriedElement.get(w):[];if(j&&j.length)I=!0;else{let K=w;for(;K=K.parentNode;)if(C.statesByElement.get(K)){I=!0;break}}}if(this.prepareLeaveAnimationListeners(w),I)C.markElementAsRemoved(this.id,w,!1,_);else{const j=w[nd];(!j||j===UB)&&(C.afterFlush(()=>this.clearElementCache(w)),C.destroyInnerAnimations(w),C._onRemovalComplete(w,_))}}insertNode(w,_){rd(w,this._hostClassName)}drainQueuedTransitions(w){const _=[];return this._queue.forEach(C=>{const I=C.player;if(I.destroyed)return;const j=C.element,K=this._elementListeners.get(j);K&&K.forEach(q=>{if(q.name==C.triggerName){const ue=$T(j,C.triggerName,C.fromState.value,C.toState.value);ue._data=w,QT(C.player,q.phase,ue,q.callback)}}),I.markedForDestroy?this._engine.afterFlush(()=>{I.destroy()}):_.push(C)}),this._queue=[],_.sort((C,I)=>{const j=C.transition.ast.depCount,K=I.transition.ast.depCount;return 0==j||0==K?j-K:this._engine.driver.containsElement(C.element,I.element)?1:-1})}destroy(w){this.players.forEach(_=>_.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,w)}elementContainsData(w){let _=!1;return this._elementListeners.has(w)&&(_=!0),_=!!this._queue.find(C=>C.element===w)||_,_}}class Nne{constructor(w,_,C){this.bodyNode=w,this.driver=_,this._normalizer=C,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(I,j)=>{}}_onRemovalComplete(w,_){this.onRemovalComplete(w,_)}get queuedPlayers(){const w=[];return this._namespaceList.forEach(_=>{_.players.forEach(C=>{C.queued&&w.push(C)})}),w}createNamespace(w,_){const C=new Fne(w,_,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,_)?this._balanceNamespaceList(C,_):(this.newHostElements.set(_,C),this.collectEnterElement(_)),this._namespaceLookup[w]=C}_balanceNamespaceList(w,_){const C=this._namespaceList.length-1;if(C>=0){let I=!1;for(let j=C;j>=0;j--)if(this.driver.containsElement(this._namespaceList[j].hostElement,_)){this._namespaceList.splice(j+1,0,w),I=!0;break}I||this._namespaceList.splice(0,0,w)}else this._namespaceList.push(w);return this.namespacesByHostElement.set(_,w),w}register(w,_){let C=this._namespaceLookup[w];return C||(C=this.createNamespace(w,_)),C}registerTrigger(w,_,C){let I=this._namespaceLookup[w];I&&I.register(_,C)&&this.totalAnimations++}destroy(w,_){if(!w)return;const C=this._fetchNamespace(w);this.afterFlush(()=>{this.namespacesByHostElement.delete(C.hostElement),delete this._namespaceLookup[w];const I=this._namespaceList.indexOf(C);I>=0&&this._namespaceList.splice(I,1)}),this.afterFlushAnimationsDone(()=>C.destroy(_))}_fetchNamespace(w){return this._namespaceLookup[w]}fetchNamespacesByElement(w){const _=new Set,C=this.statesByElement.get(w);if(C){const I=Object.keys(C);for(let j=0;j<I.length;j++){const K=C[I[j]].namespaceId;if(K){const q=this._fetchNamespace(K);q&&_.add(q)}}}return _}trigger(w,_,C,I){if(vx(_)){const j=this._fetchNamespace(w);if(j)return j.trigger(_,C,I),!0}return!1}insertNode(w,_,C,I){if(!vx(_))return;const j=_[nd];if(j&&j.setForRemoval){j.setForRemoval=!1,j.setForMove=!0;const K=this.collectedLeaveElements.indexOf(_);K>=0&&this.collectedLeaveElements.splice(K,1)}if(w){const K=this._fetchNamespace(w);K&&K.insertNode(_,C)}I&&this.collectEnterElement(_)}collectEnterElement(w){this.collectedEnterElements.push(w)}markElementAsDisabled(w,_){_?this.disabledNodes.has(w)||(this.disabledNodes.add(w),rd(w,f4)):this.disabledNodes.has(w)&&(this.disabledNodes.delete(w),yv(w,f4))}removeNode(w,_,C,I){if(vx(_)){const j=w?this._fetchNamespace(w):null;if(j?j.removeNode(_,I):this.markElementAsRemoved(w,_,!1,I),C){const K=this.namespacesByHostElement.get(_);K&&K.id!==w&&K.removeNode(_,I)}}else this._onRemovalComplete(_,I)}markElementAsRemoved(w,_,C,I,j){this.collectedLeaveElements.push(_),_[nd]={namespaceId:w,setForRemoval:I,hasAnimation:C,removedBeforeQueried:!1,previousTriggersValues:j}}listen(w,_,C,I,j){return vx(_)?this._fetchNamespace(w).listen(_,C,I,j):()=>{}}_buildInstruction(w,_,C,I,j){return w.transition.build(this.driver,w.element,w.fromState.value,w.toState.value,C,I,w.fromState.options,w.toState.options,_,j)}destroyInnerAnimations(w){let _=this.driver.query(w,ax,!0);_.forEach(C=>this.destroyActiveAnimationsForElement(C)),0!=this.playersByQueriedElement.size&&(_=this.driver.query(w,t4,!0),_.forEach(C=>this.finishActiveQueriedAnimationOnElement(C)))}destroyActiveAnimationsForElement(w){const _=this.playersByElement.get(w);_&&_.forEach(C=>{C.queued?C.markedForDestroy=!0:C.destroy()})}finishActiveQueriedAnimationOnElement(w){const _=this.playersByQueriedElement.get(w);_&&_.forEach(C=>C.finish())}whenRenderingDone(){return new Promise(w=>{if(this.players.length)return xm(this.players).onDone(()=>w());w()})}processLeaveNode(w){var _;const C=w[nd];if(C&&C.setForRemoval){if(w[nd]=UB,C.namespaceId){this.destroyInnerAnimations(w);const I=this._fetchNamespace(C.namespaceId);I&&I.clearElementCache(w)}this._onRemovalComplete(w,C.setForRemoval)}(null===(_=w.classList)||void 0===_?void 0:_.contains(f4))&&this.markElementAsDisabled(w,!1),this.driver.query(w,".ng-animate-disabled",!0).forEach(I=>{this.markElementAsDisabled(I,!1)})}flush(w=-1){let _=[];if(this.newHostElements.size&&(this.newHostElements.forEach((C,I)=>this._balanceNamespaceList(C,I)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let C=0;C<this.collectedEnterElements.length;C++)rd(this.collectedEnterElements[C],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const C=[];try{_=this._flushAnimations(C,w)}finally{for(let I=0;I<C.length;I++)C[I]()}}else for(let C=0;C<this.collectedLeaveElements.length;C++)this.processLeaveNode(this.collectedLeaveElements[C]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(C=>C()),this._flushFns=[],this._whenQuietFns.length){const C=this._whenQuietFns;this._whenQuietFns=[],_.length?xm(_).onDone(()=>{C.forEach(I=>I())}):C.forEach(I=>I())}}reportError(w){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${w.join("\n")}`)}_flushAnimations(w,_){const C=new mx,I=[],j=new Map,K=[],q=new Map,ue=new Map,Re=new Map,Je=new Set;this.disabledNodes.forEach(Er=>{Je.add(Er);const Gr=this.driver.query(Er,".ng-animate-queued",!0);for(let Yr=0;Yr<Gr.length;Yr++)Je.add(Gr[Yr])});const wt=this.bodyNode,Qt=Array.from(this.statesByElement.keys()),ri=VB(Qt,this.collectedEnterElements),Ci=new Map;let Gi=0;ri.forEach((Er,Gr)=>{const Yr=e4+Gi++;Ci.set(Gr,Yr),Er.forEach(Ls=>rd(Ls,Yr))});const fn=[],Mn=new Set,gn=new Set;for(let Er=0;Er<this.collectedLeaveElements.length;Er++){const Gr=this.collectedLeaveElements[Er],Yr=Gr[nd];Yr&&Yr.setForRemoval&&(fn.push(Gr),Mn.add(Gr),Yr.hasAnimation?this.driver.query(Gr,".ng-star-inserted",!0).forEach(Ls=>Mn.add(Ls)):gn.add(Gr))}const Zn=new Map,qn=VB(Qt,Array.from(Mn));qn.forEach((Er,Gr)=>{const Yr=sx+Gi++;Zn.set(Gr,Yr),Er.forEach(Ls=>rd(Ls,Yr))}),w.push(()=>{ri.forEach((Er,Gr)=>{const Yr=Ci.get(Gr);Er.forEach(Ls=>yv(Ls,Yr))}),qn.forEach((Er,Gr)=>{const Yr=Zn.get(Gr);Er.forEach(Ls=>yv(Ls,Yr))}),fn.forEach(Er=>{this.processLeaveNode(Er)})});const mr=[],Mr=[];for(let Er=this._namespaceList.length-1;Er>=0;Er--)this._namespaceList[Er].drainQueuedTransitions(_).forEach(Yr=>{const Ls=Yr.player,aa=Yr.element;if(mr.push(Ls),this.collectedEnterElements.length){const ou=aa[nd];if(ou&&ou.setForMove){if(ou.previousTriggersValues&&ou.previousTriggersValues.has(Yr.triggerName)){const c1=ou.previousTriggersValues.get(Yr.triggerName),Dm=this.statesByElement.get(Yr.element);Dm&&Dm[Yr.triggerName]&&(Dm[Yr.triggerName].value=c1)}return void Ls.destroy()}}const Lu=!wt||!this.driver.containsElement(wt,aa),Rc=Zn.get(aa),jp=Ci.get(aa),la=this._buildInstruction(Yr,C,jp,Rc,Lu);if(la.errors&&la.errors.length)return void Mr.push(la);if(Lu)return Ls.onStart(()=>a1(aa,la.fromStyles)),Ls.onDestroy(()=>Up(aa,la.toStyles)),void I.push(Ls);if(Yr.isFallbackTransition)return Ls.onStart(()=>a1(aa,la.fromStyles)),Ls.onDestroy(()=>Up(aa,la.toStyles)),void I.push(Ls);const wx=[];la.timelines.forEach(ou=>{ou.stretchStartingKeyframe=!0,this.disabledNodes.has(ou.element)||wx.push(ou)}),la.timelines=wx,C.append(aa,la.timelines),K.push({instruction:la,player:Ls,element:aa}),la.queriedElements.forEach(ou=>lh(q,ou,[]).push(Ls)),la.preStyleProps.forEach((ou,c1)=>{const Dm=Object.keys(ou);if(Dm.length){let u1=ue.get(c1);u1||ue.set(c1,u1=new Set),Dm.forEach(w4=>u1.add(w4))}}),la.postStyleProps.forEach((ou,c1)=>{const Dm=Object.keys(ou);let u1=Re.get(c1);u1||Re.set(c1,u1=new Set),Dm.forEach(w4=>u1.add(w4))})});if(Mr.length){const Er=[];Mr.forEach(Gr=>{Er.push(`@${Gr.triggerName} has failed due to:\n`),Gr.errors.forEach(Yr=>Er.push(`- ${Yr}\n`))}),mr.forEach(Gr=>Gr.destroy()),this.reportError(Er)}const Qr=new Map,ws=new Map;K.forEach(Er=>{const Gr=Er.element;C.has(Gr)&&(ws.set(Gr,Gr),this._beforeAnimationBuild(Er.player.namespaceId,Er.instruction,Qr))}),I.forEach(Er=>{const Gr=Er.element;this._getPreviousPlayers(Gr,!1,Er.namespaceId,Er.triggerName,null).forEach(Ls=>{lh(Qr,Gr,[]).push(Ls),Ls.destroy()})});const as=fn.filter(Er=>WB(Er,ue,Re)),ks=new Map;HB(ks,this.driver,gn,Re,jf).forEach(Er=>{WB(Er,ue,Re)&&as.push(Er)});const Ma=new Map;ri.forEach((Er,Gr)=>{HB(Ma,this.driver,new Set(Er),ue,"!")}),as.forEach(Er=>{const Gr=ks.get(Er),Yr=Ma.get(Er);ks.set(Er,Object.assign(Object.assign({},Gr),Yr))});const Fo=[],Sa=[],Na={};K.forEach(Er=>{const{element:Gr,player:Yr,instruction:Ls}=Er;if(C.has(Gr)){if(Je.has(Gr))return Yr.onDestroy(()=>Up(Gr,Ls.toStyles)),Yr.disabled=!0,Yr.overrideTotalTime(Ls.totalTime),void I.push(Yr);let aa=Na;if(ws.size>1){let Rc=Gr;const jp=[];for(;Rc=Rc.parentNode;){const la=ws.get(Rc);if(la){aa=la;break}jp.push(Rc)}jp.forEach(la=>ws.set(la,aa))}const Lu=this._buildAnimation(Yr.namespaceId,Ls,Qr,j,Ma,ks);if(Yr.setRealPlayer(Lu),aa===Na)Fo.push(Yr);else{const Rc=this.playersByElement.get(aa);Rc&&Rc.length&&(Yr.parentPlayer=xm(Rc)),I.push(Yr)}}else a1(Gr,Ls.fromStyles),Yr.onDestroy(()=>Up(Gr,Ls.toStyles)),Sa.push(Yr),Je.has(Gr)&&I.push(Yr)}),Sa.forEach(Er=>{const Gr=j.get(Er.element);if(Gr&&Gr.length){const Yr=xm(Gr);Er.setRealPlayer(Yr)}}),I.forEach(Er=>{Er.parentPlayer?Er.syncPlayerEvents(Er.parentPlayer):Er.destroy()});for(let Er=0;Er<fn.length;Er++){const Gr=fn[Er],Yr=Gr[nd];if(yv(Gr,sx),Yr&&Yr.hasAnimation)continue;let Ls=[];if(q.size){let Lu=q.get(Gr);Lu&&Lu.length&&Ls.push(...Lu);let Rc=this.driver.query(Gr,t4,!0);for(let jp=0;jp<Rc.length;jp++){let la=q.get(Rc[jp]);la&&la.length&&Ls.push(...la)}}const aa=Ls.filter(Lu=>!Lu.destroyed);aa.length?Vne(this,Gr,aa):this.processLeaveNode(Gr)}return fn.length=0,Fo.forEach(Er=>{this.players.push(Er),Er.onDone(()=>{Er.destroy();const Gr=this.players.indexOf(Er);this.players.splice(Gr,1)}),Er.play()}),Fo}elementContainsData(w,_){let C=!1;const I=_[nd];return I&&I.setForRemoval&&(C=!0),this.playersByElement.has(_)&&(C=!0),this.playersByQueriedElement.has(_)&&(C=!0),this.statesByElement.has(_)&&(C=!0),this._fetchNamespace(w).elementContainsData(_)||C}afterFlush(w){this._flushFns.push(w)}afterFlushAnimationsDone(w){this._whenQuietFns.push(w)}_getPreviousPlayers(w,_,C,I,j){let K=[];if(_){const q=this.playersByQueriedElement.get(w);q&&(K=q)}else{const q=this.playersByElement.get(w);if(q){const ue=!j||j==xA;q.forEach(Re=>{Re.queued||!ue&&Re.triggerName!=I||K.push(Re)})}}return(C||I)&&(K=K.filter(q=>!(C&&C!=q.namespaceId||I&&I!=q.triggerName))),K}_beforeAnimationBuild(w,_,C){const j=_.element,K=_.isRemovalTransition?void 0:w,q=_.isRemovalTransition?void 0:_.triggerName;for(const ue of _.timelines){const Re=ue.element,Je=Re!==j,wt=lh(C,Re,[]);this._getPreviousPlayers(Re,Je,K,q,_.toState).forEach(ri=>{const Ci=ri.getRealPlayer();Ci.beforeDestroy&&Ci.beforeDestroy(),ri.destroy(),wt.push(ri)})}a1(j,_.fromStyles)}_buildAnimation(w,_,C,I,j,K){const q=_.triggerName,ue=_.element,Re=[],Je=new Set,wt=new Set,Qt=_.timelines.map(Ci=>{const Gi=Ci.element;Je.add(Gi);const fn=Gi[nd];if(fn&&fn.removedBeforeQueried)return new hv(Ci.duration,Ci.delay);const Mn=Gi!==ue,gn=function(A){const w=[];return zB(A,w),w}((C.get(Gi)||Bne).map(Qr=>Qr.getRealPlayer())).filter(Qr=>!!Qr.element&&Qr.element===Gi),Zn=j.get(Gi),qn=K.get(Gi),mr=yB(0,this._normalizer,0,Ci.keyframes,Zn,qn),Mr=this._buildPlayer(Ci,mr,gn);if(Ci.subTimeline&&I&&wt.add(Gi),Mn){const Qr=new y4(w,q,Gi);Qr.setRealPlayer(Mr),Re.push(Qr)}return Mr});Re.forEach(Ci=>{lh(this.playersByQueriedElement,Ci.element,[]).push(Ci),Ci.onDone(()=>function(A,w,_){let C;if(A instanceof Map){if(C=A.get(w),C){if(C.length){const I=C.indexOf(_);C.splice(I,1)}0==C.length&&A.delete(w)}}else if(C=A[w],C){if(C.length){const I=C.indexOf(_);C.splice(I,1)}0==C.length&&delete A[w]}return C}(this.playersByQueriedElement,Ci.element,Ci))}),Je.forEach(Ci=>rd(Ci,xB));const ri=xm(Qt);return ri.onDestroy(()=>{Je.forEach(Ci=>yv(Ci,xB)),Up(ue,_.toStyles)}),wt.forEach(Ci=>{lh(I,Ci,[]).push(ri)}),ri}_buildPlayer(w,_,C){return _.length>0?this.driver.animate(w.element,_,w.duration,w.delay,w.easing,C):new hv(w.duration,w.delay)}}class y4{constructor(w,_,C){this.namespaceId=w,this.triggerName=_,this.element=C,this._player=new hv,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(w){this._containsRealPlayer||(this._player=w,Object.keys(this._queuedCallbacks).forEach(_=>{this._queuedCallbacks[_].forEach(C=>QT(w,_,void 0,C))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(w.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(w){this.totalTime=w}syncPlayerEvents(w){const _=this._player;_.triggerCallback&&w.onStart(()=>_.triggerCallback("start")),w.onDone(()=>this.finish()),w.onDestroy(()=>this.destroy())}_queueEvent(w,_){lh(this._queuedCallbacks,w,[]).push(_)}onDone(w){this.queued&&this._queueEvent("done",w),this._player.onDone(w)}onStart(w){this.queued&&this._queueEvent("start",w),this._player.onStart(w)}onDestroy(w){this.queued&&this._queueEvent("destroy",w),this._player.onDestroy(w)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(w){this.queued||this._player.setPosition(w)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(w){const _=this._player;_.triggerCallback&&_.triggerCallback(w)}}function vx(A){return A&&1===A.nodeType}function jB(A,w){const _=A.style.display;return A.style.display=null!=w?w:"none",_}function HB(A,w,_,C,I){const j=[];_.forEach(ue=>j.push(jB(ue)));const K=[];C.forEach((ue,Re)=>{const Je={};ue.forEach(wt=>{const Qt=Je[wt]=w.computeStyle(Re,wt,I);(!Qt||0==Qt.length)&&(Re[nd]=Rne,K.push(Re))}),A.set(Re,Je)});let q=0;return _.forEach(ue=>jB(ue,j[q++])),K}function VB(A,w){const _=new Map;if(A.forEach(q=>_.set(q,[])),0==w.length)return _;const I=new Set(w),j=new Map;function K(q){if(!q)return 1;let ue=j.get(q);if(ue)return ue;const Re=q.parentNode;return ue=_.has(Re)?Re:I.has(Re)?1:K(Re),j.set(q,ue),ue}return w.forEach(q=>{const ue=K(q);1!==ue&&_.get(ue).push(q)}),_}function rd(A,w){var _;null===(_=A.classList)||void 0===_||_.add(w)}function yv(A,w){var _;null===(_=A.classList)||void 0===_||_.remove(w)}function Vne(A,w,_){xm(_).onDone(()=>A.processLeaveNode(w))}function zB(A,w){for(let _=0;_<A.length;_++){const C=A[_];C instanceof Tk?zB(C.players,w):w.push(C)}}function WB(A,w,_){const C=_.get(A);if(!C)return!1;let I=w.get(A);return I?C.forEach(j=>I.add(j)):w.set(A,C),_.delete(A),!0}class _x{constructor(w,_,C){this.bodyNode=w,this._driver=_,this._normalizer=C,this._triggerCache={},this.onRemovalComplete=(I,j)=>{},this._transitionEngine=new Nne(w,_,C),this._timelineEngine=new Ine(w,_,C),this._transitionEngine.onRemovalComplete=(I,j)=>this.onRemovalComplete(I,j)}registerTrigger(w,_,C,I,j){const K=w+"-"+I;let q=this._triggerCache[K];if(!q){const ue=[],Re=a4(this._driver,j,ue);if(ue.length)throw new Error(`The animation trigger "${I}" has failed to build due to the following errors:\n - ${ue.join("\n - ")}`);q=function(A,w,_){return new Mne(A,w,_)}(I,Re,this._normalizer),this._triggerCache[K]=q}this._transitionEngine.registerTrigger(_,I,q)}register(w,_){this._transitionEngine.register(w,_)}destroy(w,_){this._transitionEngine.destroy(w,_)}onInsert(w,_,C,I){this._transitionEngine.insertNode(w,_,C,I)}onRemove(w,_,C,I){this._transitionEngine.removeNode(w,_,I||!1,C)}disableAnimations(w,_){this._transitionEngine.markElementAsDisabled(w,_)}process(w,_,C,I){if("@"==C.charAt(0)){const[j,K]=vB(C);this._timelineEngine.command(j,_,K,I)}else this._transitionEngine.trigger(w,_,C,I)}listen(w,_,C,I,j){if("@"==C.charAt(0)){const[K,q]=vB(C);return this._timelineEngine.listen(K,_,q,j)}return this._transitionEngine.listen(w,_,C,I,j)}flush(w=-1){this._transitionEngine.flush(w)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function KB(A,w){let _=null,C=null;return Array.isArray(w)&&w.length?(_=v4(w[0]),w.length>1&&(C=v4(w[w.length-1]))):w&&(_=v4(w)),_||C?new Kne(A,_,C):null}let Kne=(()=>{class A{constructor(_,C,I){this._element=_,this._startStyles=C,this._endStyles=I,this._state=0;let j=A.initialStylesByElement.get(_);j||A.initialStylesByElement.set(_,j={}),this._initialStyles=j}start(){this._state<1&&(this._startStyles&&Up(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Up(this._element,this._initialStyles),this._endStyles&&(Up(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(A.initialStylesByElement.delete(this._element),this._startStyles&&(a1(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(a1(this._element,this._endStyles),this._endStyles=null),Up(this._element,this._initialStyles),this._state=3)}}return A.initialStylesByElement=new WeakMap,A})();function v4(A){let w=null;const _=Object.keys(A);for(let C=0;C<_.length;C++){const I=_[C];Qne(I)&&(w=w||{},w[I]=A[I])}return w}function Qne(A){return"display"===A||"position"===A}const QB="animation",GB="animationend";class Zne{constructor(w,_,C,I,j,K,q){this._element=w,this._name=_,this._duration=C,this._delay=I,this._easing=j,this._fillMode=K,this._onDoneFn=q,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=ue=>this._handleCallback(ue)}apply(){(function(A,w){const _=b4(A,"").trim();let C=0;_.length&&(function(A,w){let _=0;for(let C=0;C<A.length;C++)","===A.charAt(C)&&_++;return _}(_)+1,w=`${_}, ${w}`),bx(A,"",w)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),JB(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){$B(this._element,this._name,"paused")}resume(){$B(this._element,this._name,"running")}setPosition(w){const _=ZB(this._element,this._name);this._position=w*this._duration,bx(this._element,"Delay",`-${this._position}ms`,_)}getPosition(){return this._position}_handleCallback(w){const _=w._ngTestManualTimestamp||Date.now(),C=1e3*parseFloat(w.elapsedTime.toFixed(3));w.animationName==this._name&&Math.max(_-this._startTime,0)>=this._delay&&C>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),JB(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(A,w){const C=b4(A,"").split(","),I=_4(C,w);I>=0&&(C.splice(I,1),bx(A,"",C.join(",")))}(this._element,this._name))}}function $B(A,w,_){bx(A,"PlayState",_,ZB(A,w))}function ZB(A,w){const _=b4(A,"");return _.indexOf(",")>0?_4(_.split(","),w):_4([_],w)}function _4(A,w){for(let _=0;_<A.length;_++)if(A[_].indexOf(w)>=0)return _;return-1}function JB(A,w,_){_?A.removeEventListener(GB,w):A.addEventListener(GB,w)}function bx(A,w,_,C){const I=QB+w;if(null!=C){const j=A.style[I];if(j.length){const K=j.split(",");K[C]=_,_=K.join(",")}}A.style[I]=_}function b4(A,w){return A.style[QB+w]||""}class XB{constructor(w,_,C,I,j,K,q,ue){this.element=w,this.keyframes=_,this.animationName=C,this._duration=I,this._delay=j,this._finalStyles=q,this._specialStyles=ue,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=K||"linear",this.totalTime=I+j,this._buildStyler()}onStart(w){this._onStartFns.push(w)}onDone(w){this._onDoneFns.push(w)}onDestroy(w){this._onDestroyFns.push(w)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(w=>w()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(w=>w()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(w=>w()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(w){this._styler.setPosition(w)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Zne(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(w){const _="start"==w?this._onStartFns:this._onDoneFns;_.forEach(C=>C()),_.length=0}beforeDestroy(){this.init();const w={};if(this.hasStarted()){const _=this._state>=3;Object.keys(this._finalStyles).forEach(C=>{"offset"!=C&&(w[C]=_?this._finalStyles[C]:o4(this.element,C))})}this.currentSnapshot=w}}class tre extends hv{constructor(w,_){super(),this.element=w,this._startingStyles={},this.__initialized=!1,this._styles=AB(_)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(w=>{this._startingStyles[w]=this.element.style[w]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(w=>this.element.style.setProperty(w,this._styles[w])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(w=>{const _=this._startingStyles[w];_?this.element.style.setProperty(w,_):this.element.style.removeProperty(w)}),this._startingStyles=null,super.destroy())}}class qB{constructor(){this._count=0}validateStyleProperty(w){return JT(w)}matchesElement(w,_){return!1}containsElement(w,_){return XT(w,_)}query(w,_,C){return YT(w,_,C)}computeStyle(w,_,C){return window.getComputedStyle(w)[_]}buildKeyframeElement(w,_,C){C=C.map(q=>AB(q));let I=`@keyframes ${_} {\n`,j="";C.forEach(q=>{j=" ";const ue=parseFloat(q.offset);I+=`${j}${100*ue}% {\n`,j+=" ",Object.keys(q).forEach(Re=>{const Je=q[Re];switch(Re){case"offset":return;case"easing":return void(Je&&(I+=`${j}animation-timing-function: ${Je};\n`));default:return void(I+=`${j}${Re}: ${Je};\n`)}}),I+=`${j}}\n`}),I+="}\n";const K=document.createElement("style");return K.textContent=I,K}animate(w,_,C,I,j,K=[],q){const ue=K.filter(fn=>fn instanceof XB),Re={};TB(C,I)&&ue.forEach(fn=>{let Mn=fn.currentSnapshot;Object.keys(Mn).forEach(gn=>Re[gn]=Mn[gn])});const Je=function(A){let w={};return A&&(Array.isArray(A)?A:[A]).forEach(C=>{Object.keys(C).forEach(I=>{"offset"==I||"easing"==I||(w[I]=C[I])})}),w}(_=IB(w,_,Re));if(0==C)return new tre(w,Je);const wt="gen_css_kf_"+this._count++,Qt=this.buildKeyframeElement(w,wt,_);(function(A){var w;const _=null===(w=A.getRootNode)||void 0===w?void 0:w.call(A);return"undefined"!=typeof ShadowRoot&&_ instanceof ShadowRoot?_:document.head})(w).appendChild(Qt);const Ci=KB(w,_),Gi=new XB(w,_,wt,C,I,j,Je,Ci);return Gi.onDestroy(()=>function(A){A.parentNode.removeChild(A)}(Qt)),Gi}}class t7{constructor(w,_,C,I){this.element=w,this.keyframes=_,this.options=C,this._specialStyles=I,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=C.duration,this._delay=C.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(w=>w()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const w=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,w,this.options),this._finalKeyframe=w.length?w[w.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(w,_,C){return w.animate(_,C)}onStart(w){this._onStartFns.push(w)}onDone(w){this._onDoneFns.push(w)}onDestroy(w){this._onDestroyFns.push(w)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(w=>w()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(w=>w()),this._onDestroyFns=[])}setPosition(w){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=w*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const w={};if(this.hasStarted()){const _=this._finalKeyframe;Object.keys(_).forEach(C=>{"offset"!=C&&(w[C]=this._finished?_[C]:o4(this.element,C))})}this.currentSnapshot=w}triggerCallback(w){const _="start"==w?this._onStartFns:this._onDoneFns;_.forEach(C=>C()),_.length=0}}class ore{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(n7().toString()),this._cssKeyframesDriver=new qB}validateStyleProperty(w){return JT(w)}matchesElement(w,_){return!1}containsElement(w,_){return XT(w,_)}query(w,_,C){return YT(w,_,C)}computeStyle(w,_,C){return window.getComputedStyle(w)[_]}overrideWebAnimationsSupport(w){this._isNativeImpl=w}animate(w,_,C,I,j,K=[],q){if(!q&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(w,_,C,I,j,K);const Je={duration:C,delay:I,fill:0==I?"both":"forwards"};j&&(Je.easing=j);const wt={},Qt=K.filter(Ci=>Ci instanceof t7);TB(C,I)&&Qt.forEach(Ci=>{let Gi=Ci.currentSnapshot;Object.keys(Gi).forEach(fn=>wt[fn]=Gi[fn])});const ri=KB(w,_=IB(w,_=_.map(Ci=>Em(Ci,!1)),wt));return new t7(w,_,Je,ri)}}function n7(){return gB()&&Element.prototype.animate||{}}let lre=(()=>{class A extends xk{constructor(_,C){super(),this._nextAnimationId=0,this._renderer=_.createRenderer(C.body,{id:"0",encapsulation:dn.None,styles:[],data:{animation:[]}})}build(_){const C=this._nextAnimationId.toString();this._nextAnimationId++;const I=Array.isArray(_)?Ek(_):_;return r7(this._renderer,null,C,"register",[I]),new cre(C,this._renderer)}}return A.\u0275fac=function(_){return new(_||A)(xr(_b),xr(Lc))},A.\u0275prov=di({token:A,factory:A.\u0275fac}),A})();class cre extends class{}{constructor(w,_){super(),this._id=w,this._renderer=_}create(w,_){return new ure(this._id,w,_||{},this._renderer)}}class ure{constructor(w,_,C,I){this.id=w,this.element=_,this._renderer=I,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",C)}_listen(w,_){return this._renderer.listen(this.element,`@@${this.id}:${w}`,_)}_command(w,..._){return r7(this._renderer,this.element,this.id,w,_)}onDone(w){this._listen("done",w)}onStart(w){this._listen("start",w)}onDestroy(w){this._listen("destroy",w)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(w){this._command("setPosition",w)}getPosition(){var w,_;return null!==(_=null===(w=this._renderer.engine.players[+this.id])||void 0===w?void 0:w.getPosition())&&void 0!==_?_:0}}function r7(A,w,_,C,I){return A.setProperty(w,`@@${_}:${C}`,I)}const s7="@.disabled";let hre=(()=>{class A{constructor(_,C,I){this.delegate=_,this.engine=C,this._zone=I,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),C.onRemovalComplete=(j,K)=>{const q=null==K?void 0:K.parentNode(j);q&&K.removeChild(q,j)}}createRenderer(_,C){const j=this.delegate.createRenderer(_,C);if(!(_&&C&&C.data&&C.data.animation)){let Je=this._rendererCache.get(j);return Je||(Je=new o7("",j,this.engine),this._rendererCache.set(j,Je)),Je}const K=C.id,q=C.id+"-"+this._currentId;this._currentId++,this.engine.register(q,_);const ue=Je=>{Array.isArray(Je)?Je.forEach(ue):this.engine.registerTrigger(K,q,_,Je.name,Je)};return C.data.animation.forEach(ue),new dre(this,q,j,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(_,C,I){_>=0&&_<this._microtaskId?this._zone.run(()=>C(I)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(j=>{const[K,q]=j;K(q)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([C,I]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return A.\u0275fac=function(_){return new(_||A)(xr(_b),xr(_x),xr(Eo))},A.\u0275prov=di({token:A,factory:A.\u0275fac}),A})();class o7{constructor(w,_,C){this.namespaceId=w,this.delegate=_,this.engine=C,this.destroyNode=this.delegate.destroyNode?I=>_.destroyNode(I):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(w,_){return this.delegate.createElement(w,_)}createComment(w){return this.delegate.createComment(w)}createText(w){return this.delegate.createText(w)}appendChild(w,_){this.delegate.appendChild(w,_),this.engine.onInsert(this.namespaceId,_,w,!1)}insertBefore(w,_,C,I=!0){this.delegate.insertBefore(w,_,C),this.engine.onInsert(this.namespaceId,_,w,I)}removeChild(w,_,C){this.engine.onRemove(this.namespaceId,_,this.delegate,C)}selectRootElement(w,_){return this.delegate.selectRootElement(w,_)}parentNode(w){return this.delegate.parentNode(w)}nextSibling(w){return this.delegate.nextSibling(w)}setAttribute(w,_,C,I){this.delegate.setAttribute(w,_,C,I)}removeAttribute(w,_,C){this.delegate.removeAttribute(w,_,C)}addClass(w,_){this.delegate.addClass(w,_)}removeClass(w,_){this.delegate.removeClass(w,_)}setStyle(w,_,C,I){this.delegate.setStyle(w,_,C,I)}removeStyle(w,_,C){this.delegate.removeStyle(w,_,C)}setProperty(w,_,C){"@"==_.charAt(0)&&_==s7?this.disableAnimations(w,!!C):this.delegate.setProperty(w,_,C)}setValue(w,_){this.delegate.setValue(w,_)}listen(w,_,C){return this.delegate.listen(w,_,C)}disableAnimations(w,_){this.engine.disableAnimations(w,_)}}class dre extends o7{constructor(w,_,C,I){super(_,C,I),this.factory=w,this.namespaceId=_}setProperty(w,_,C){"@"==_.charAt(0)?"."==_.charAt(1)&&_==s7?this.disableAnimations(w,C=void 0===C||!!C):this.engine.process(this.namespaceId,w,_.substr(1),C):this.delegate.setProperty(w,_,C)}listen(w,_,C){if("@"==_.charAt(0)){const I=function(A){switch(A){case"body":return document.body;case"document":return document;case"window":return window;default:return A}}(w);let j=_.substr(1),K="";return"@"!=j.charAt(0)&&([j,K]=function(A){const w=A.indexOf(".");return[A.substring(0,w),A.substr(w+1)]}(j)),this.engine.listen(this.namespaceId,I,j,K,q=>{this.factory.scheduleListenerCallback(q._data||-1,C,q)})}return this.delegate.listen(w,_,C)}}let mre=(()=>{class A extends _x{constructor(_,C,I){super(_.body,C,I)}ngOnDestroy(){this.flush()}}return A.\u0275fac=function(_){return new(_||A)(xr(Lc),xr(qT),xr(d4))},A.\u0275prov=di({token:A,factory:A.\u0275fac}),A})();const a7=new ms("AnimationModuleType"),l7=[{provide:xk,useClass:lre},{provide:d4,useFactory:function(){return new Ane}},{provide:_x,useClass:mre},{provide:_b,useFactory:function(A,w,_){return new hre(A,w,_)},deps:[S3,_x,Eo]}],c7=[{provide:qT,useFactory:function(){return"function"==typeof n7()?new ore:new qB}},{provide:a7,useValue:"BrowserAnimations"},...l7],_re=[{provide:qT,useClass:wB},{provide:a7,useValue:"NoopAnimations"},...l7];let bre=(()=>{class A{static withConfig(_){return{ngModule:A,providers:_.disableAnimations?_re:c7}}}return A.\u0275fac=function(_){return new(_||A)},A.\u0275mod=Rr({type:A}),A.\u0275inj=Bi({providers:c7,imports:[LO]}),A})();function u7(A){return ut((w,_)=>{let j,C=null,I=!1;C=w.subscribe(new xt(_,void 0,void 0,K=>{j=F(A(K,u7(A)(w))),C?(C.unsubscribe(),C=null,j.subscribe(_)):I=!0})),I&&(C.unsubscribe(),C=null,j.subscribe(_))})}let wre=(()=>{class A{constructor(_){this.injector=_}intercept(_,C){return C.handle(_).pipe(u7(I=>{const j=this.injector.get(Ip);return console.log(I),this.injector.get(Ll).get("errorGeneric").subscribe(K=>j.message=K),function(A,w){const _=z(A)?A:()=>A,C=I=>I.error(_());return new qe(C)}(I)}))}}return A.\u0275fac=function(_){return new(_||A)(xr(Tl))},A.\u0275prov=di({token:A,factory:A.\u0275fac}),A})();const Cre={provide:bc,useExisting:Ht(()=>Ere),multi:!0},xre={pint:/[\d]/,int:/[\d\-]/,pnum:/[\d\.]/,money:/[\d\.\s,]/,num:/[\d\-\.]/,hex:/[0-9a-f]/i,email:/[a-z0-9_\.\-@]/i,alpha:/[a-z_]/i,alphanum:/[a-z0-9_]/i},h7={63234:37,63235:39,63232:38,63233:40,63276:33,63277:34,63272:46,63273:36,63275:35};let Ere=(()=>{class A{constructor(_){this.el=_,this.ngModelChange=new er,this.isAndroid=Nn.isAndroid()}get pattern(){return this._pattern}set pattern(_){this._pattern=_,this.regex=xre[this._pattern]||this._pattern}isNavKeyPress(_){let C=_.keyCode;return C=Nn.getBrowser().safari&&h7[C]||C,C>=33&&C<=40||13==C||9==C||27==C}isSpecialKey(_){let C=_.keyCode||_.charCode;return 9==C||13==C||27==C||16==C||17==C||C>=18&&C<=20||Nn.getBrowser().opera&&!_.shiftKey&&(8==C||C>=33&&C<=35||C>=36&&C<=39||C>=44&&C<=45)}getKey(_){let C=_.keyCode||_.charCode;return Nn.getBrowser().safari&&h7[C]||C}getCharCode(_){return _.charCode||_.keyCode||_.which}findDelta(_,C){let I="";for(let j=0;j<_.length;j++)_.substr(0,j)+_.substr(j+_.length-C.length)===C&&(I=_.substr(j,_.length-C.length));return I}isValidChar(_){return this.regex.test(_)}isValidString(_){for(let C=0;C<_.length;C++)if(!this.isValidChar(_.substr(C,1)))return!1;return!0}onInput(_){if(this.isAndroid&&!this.pValidateOnly){let C=this.el.nativeElement.value,I=this.lastValue||"",j=this.findDelta(C,I),K=this.findDelta(I,C);j.length>1||!j&&!K?this.isValidString(C)||(this.el.nativeElement.value=I,this.ngModelChange.emit(I)):K||this.isValidChar(j)||(this.el.nativeElement.value=I,this.ngModelChange.emit(I)),C=this.el.nativeElement.value,this.isValidString(C)&&(this.lastValue=C)}}onKeyPress(_){if(this.isAndroid||this.pValidateOnly)return;let C=Nn.getBrowser(),I=this.getKey(_);if(C.mozilla&&(_.ctrlKey||_.altKey))return;if(17==I||18==I)return;let j=this.getCharCode(_),K=String.fromCharCode(j),q=!0;!C.mozilla&&(this.isSpecialKey(_)||!K)||(q=this.regex.test(K),q||_.preventDefault())}onPaste(_){const C=_.clipboardData||window.clipboardData.getData("text");if(C){const I=C.getData("text");for(let j of I.toString())if(!this.regex.test(j))return void _.preventDefault()}}validate(_){if(this.pValidateOnly){let C=this.el.nativeElement.value;if(C&&!this.regex.test(C))return{validatePattern:!1}}}}return A.\u0275fac=function(_){return new(_||A)(rn(_o))},A.\u0275dir=Fr({type:A,selectors:[["","pKeyFilter",""]],hostAttrs:[1,"p-element"],hostBindings:function(_,C){1&_&&An("input",function(j){return C.onInput(j)})("keypress",function(j){return C.onKeyPress(j)})("paste",function(j){return C.onPaste(j)})},inputs:{pValidateOnly:"pValidateOnly",pattern:["pKeyFilter","pattern"]},outputs:{ngModelChange:"ngModelChange"},features:[Vs([Cre])]}),A})(),Dre=(()=>{class A{}return A.\u0275fac=function(_){return new(_||A)},A.\u0275mod=Rr({type:A}),A.\u0275inj=Bi({imports:[[pl]]}),A})();function Mre(A){return new Gie(A,"./i18n/",".json")}let Sre=(()=>{class A{}return A.\u0275fac=function(_){return new(_||A)},A.\u0275mod=Rr({type:A,bootstrap:[Qie]}),A.\u0275inj=Bi({providers:[qo,qb,cB,fo,Ip,SS,P6,PC,MS,id,{provide:Qu,useClass:$ie},{provide:GD,useClass:wre,multi:!0},{provide:Eb,useFactory:w=>()=>w.loadConfiguration(),deps:[fo],multi:!0},{provide:Eb,useFactory:w=>()=>w.loadFeatures(),deps:[fo],multi:!0},{provide:Af,useValue:"en-GB"}],imports:[[LO,LN,OY,bre,m$,NY,uZ,YC,Dre,jT,XC,kte,Yq,bN.forRoot({loader:{provide:Pb,useFactory:Mre,deps:[Op]}})]]}),A})();KI=!1,XF().bootstrapModule(Sre)},94327:function(hi,lt){var J;void 0!==(J=function(){"use strict";function Me(ce,be,xe){var de=new XMLHttpRequest;de.open("GET",ce),de.responseType="blob",de.onload=function(){re(de.response,be,xe)},de.onerror=function(){console.error("could not download file")},de.send()}function Ce(ce){var be=new XMLHttpRequest;be.open("HEAD",ce,!1);try{be.send()}catch(xe){}return 200<=be.status&&299>=be.status}function Ie(ce){try{ce.dispatchEvent(new MouseEvent("click"))}catch(xe){var be=document.createEvent("MouseEvents");be.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),ce.dispatchEvent(be)}}var ye="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,he=ye.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),re=ye.saveAs||("object"!=typeof window||window!==ye?function(){}:"download"in HTMLAnchorElement.prototype&&!he?function(ce,be,xe){var de=ye.URL||ye.webkitURL,Ae=document.createElement("a");Ae.download=be=be||ce.name||"download",Ae.rel="noopener","string"==typeof ce?(Ae.href=ce,Ae.origin===location.origin?Ie(Ae):Ce(Ae.href)?Me(ce,be,xe):Ie(Ae,Ae.target="_blank")):(Ae.href=de.createObjectURL(ce),setTimeout(function(){de.revokeObjectURL(Ae.href)},4e4),setTimeout(function(){Ie(Ae)},0))}:"msSaveOrOpenBlob"in navigator?function(ce,be,xe){if(be=be||ce.name||"download","string"!=typeof ce)navigator.msSaveOrOpenBlob(function(ce,be){return void 0===be?be={autoBom:!1}:"object"!=typeof be&&(console.warn("Deprecated: Expected third argument to be a object"),be={autoBom:!be}),be.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(ce.type)?new Blob(["\ufeff",ce],{type:ce.type}):ce}(ce,xe),be);else if(Ce(ce))Me(ce,be,xe);else{var de=document.createElement("a");de.href=ce,de.target="_blank",setTimeout(function(){Ie(de)})}}:function(ce,be,xe,de){if((de=de||open("","_blank"))&&(de.document.title=de.document.body.innerText="downloading..."),"string"==typeof ce)return Me(ce,be,xe);var Ae="application/octet-stream"===ce.type,me=/constructor/i.test(ye.HTMLElement)||ye.safari,le=/CriOS\/[\d]+/.test(navigator.userAgent);if((le||Ae&&me||he)&&"undefined"!=typeof FileReader){var oe=new FileReader;oe.onloadend=function(){var Ee=oe.result;Ee=le?Ee:Ee.replace(/^data:[^;]*;/,"data:attachment/file;"),de?de.location.href=Ee:location=Ee,de=null},oe.readAsDataURL(ce)}else{var se=ye.URL||ye.webkitURL,fe=se.createObjectURL(ce);de?de.location=fe:location.href=fe,de=null,setTimeout(function(){se.revokeObjectURL(fe)},4e4)}});ye.saveAs=re.saveAs=re,hi.exports=re}.apply(lt,[]))&&(hi.exports=J)},4159:function(hi){hi.exports=function(){"use strict";var lt=function(De,Ke){return(lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(at,bt){at.__proto__=bt}||function(at,bt){for(var ni in bt)bt.hasOwnProperty(ni)&&(at[ni]=bt[ni])})(De,Ke)};function N(De,Ke){function at(){this.constructor=De}lt(De,Ke),De.prototype=null===Ke?Object.create(Ke):(at.prototype=Ke.prototype,new at)}var z=function(){return z=Object.assign||function(Ke){for(var at,bt=1,ni=arguments.length;bt<ni;bt++)for(var Ei in at=arguments[bt])Object.prototype.hasOwnProperty.call(at,Ei)&&(Ke[Ei]=at[Ei]);return Ke},z.apply(this,arguments)};function J(De,Ke,at,bt){return new(at||(at=Promise))(function(ni,Ei){function Yi(vn){try{pn(bt.next(vn))}catch(wn){Ei(wn)}}function an(vn){try{pn(bt.throw(vn))}catch(wn){Ei(wn)}}function pn(vn){vn.done?ni(vn.value):new at(function(wn){wn(vn.value)}).then(Yi,an)}pn((bt=bt.apply(De,Ke||[])).next())})}function Te(De,Ke){var bt,ni,Ei,Yi,at={label:0,sent:function(){if(1&Ei[0])throw Ei[1];return Ei[1]},trys:[],ops:[]};return Yi={next:an(0),throw:an(1),return:an(2)},"function"==typeof Symbol&&(Yi[Symbol.iterator]=function(){return this}),Yi;function an(vn){return function(wn){return function(vn){if(bt)throw new TypeError("Generator is already executing.");for(;at;)try{if(bt=1,ni&&(Ei=2&vn[0]?ni.return:vn[0]?ni.throw||((Ei=ni.return)&&Ei.call(ni),0):ni.next)&&!(Ei=Ei.call(ni,vn[1])).done)return Ei;switch(ni=0,Ei&&(vn=[2&vn[0],Ei.value]),vn[0]){case 0:case 1:Ei=vn;break;case 4:return at.label++,{value:vn[1],done:!1};case 5:at.label++,ni=vn[1],vn=[0];continue;case 7:vn=at.ops.pop(),at.trys.pop();continue;default:if(!(Ei=(Ei=at.trys).length>0&&Ei[Ei.length-1])&&(6===vn[0]||2===vn[0])){at=0;continue}if(3===vn[0]&&(!Ei||vn[1]>Ei[0]&&vn[1]<Ei[3])){at.label=vn[1];break}if(6===vn[0]&&at.label<Ei[1]){at.label=Ei[1],Ei=vn;break}if(Ei&&at.label<Ei[2]){at.label=Ei[2],at.ops.push(vn);break}Ei[2]&&at.ops.pop(),at.trys.pop();continue}vn=Ke.call(De,at)}catch(wn){vn=[6,wn],ni=0}finally{bt=Ei=0}if(5&vn[0])throw vn[1];return{value:vn[0]?vn[1]:void 0,done:!0}}([vn,wn])}}}for(var Me=function(){function De(Ke,at,bt,ni){this.left=Ke,this.top=at,this.width=bt,this.height=ni}return De.prototype.add=function(Ke,at,bt,ni){return new De(this.left+Ke,this.top+at,this.width+bt,this.height+ni)},De.fromClientRect=function(Ke){return new De(Ke.left,Ke.top,Ke.width,Ke.height)},De}(),Ce=function(De){return Me.fromClientRect(De.getBoundingClientRect())},ye=function(De){for(var Ke=[],at=0,bt=De.length;at<bt;){var ni=De.charCodeAt(at++);if(ni>=55296&&ni<=56319&&at<bt){var Ei=De.charCodeAt(at++);56320==(64512&Ei)?Ke.push(((1023&ni)<<10)+(1023&Ei)+65536):(Ke.push(ni),at--)}else Ke.push(ni)}return Ke},he=function(){for(var De=[],Ke=0;Ke<arguments.length;Ke++)De[Ke]=arguments[Ke];if(String.fromCodePoint)return String.fromCodePoint.apply(String,De);var at=De.length;if(!at)return"";for(var bt=[],ni=-1,Ei="";++ni<at;){var Yi=De[ni];Yi<=65535?bt.push(Yi):bt.push(55296+((Yi-=65536)>>10),Yi%1024+56320),(ni+1===at||bt.length>16384)&&(Ei+=String.fromCharCode.apply(String,bt),bt.length=0)}return Ei},re="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ce="undefined"==typeof Uint8Array?[]:new Uint8Array(256),be=0;be<re.length;be++)ce[re.charCodeAt(be)]=be;var Ke,at,bt,Ei,Yi,qe=function(De,Ke,at){return De.slice?De.slice(Ke,at):new Uint16Array(Array.prototype.slice.call(De,Ke,at))},ot=function(){function De(Ke,at,bt,ni,Ei,Yi){this.initialValue=Ke,this.errorValue=at,this.highStart=bt,this.highValueIndex=ni,this.index=Ei,this.data=Yi}return De.prototype.get=function(Ke){var at;if(Ke>=0){if(Ke<55296||Ke>56319&&Ke<=65535)return this.data[at=((at=this.index[Ke>>5])<<2)+(31&Ke)];if(Ke<=65535)return this.data[at=((at=this.index[2048+(Ke-55296>>5)])<<2)+(31&Ke)];if(Ke<this.highStart)return at=this.index[at=2080+(Ke>>11)],this.data[at=((at=this.index[at+=Ke>>5&63])<<2)+(31&Ke)];if(Ke<=1114111)return this.data[this.highValueIndex]}return this.errorValue},De}(),Bt=10,dt=13,Rt=15,ke=17,rt=18,Dt=19,Kt=20,st=21,Ti=22,pi=24,We=25,fi=26,Mi=27,Ki=28,Un=30,kn=32,li=33,B=34,Be=35,k=37,T=38,E=39,D=40,L=42,W="\xd7",X="\xf7",ie=(Ke=function(De){var bt,Ei,Yi,an,pn,Ke=.75*De.length,at=De.length,ni=0;"="===De[De.length-1]&&(Ke--,"="===De[De.length-2]&&Ke--);var vn="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(Ke):new Array(Ke),wn=Array.isArray(vn)?vn:new Uint8Array(vn);for(bt=0;bt<at;bt+=4)Ei=ce[De.charCodeAt(bt)],Yi=ce[De.charCodeAt(bt+1)],an=ce[De.charCodeAt(bt+2)],pn=ce[De.charCodeAt(bt+3)],wn[ni++]=Ei<<2|Yi>>4,wn[ni++]=(15&Yi)<<4|an>>2,wn[ni++]=(3&an)<<6|63&pn;return vn}("KwAAAAAAAAAACA4AIDoAAPAfAAACAAAAAAAIABAAGABAAEgAUABYAF4AZgBeAGYAYABoAHAAeABeAGYAfACEAIAAiACQAJgAoACoAK0AtQC9AMUAXgBmAF4AZgBeAGYAzQDVAF4AZgDRANkA3gDmAOwA9AD8AAQBDAEUARoBIgGAAIgAJwEvATcBPwFFAU0BTAFUAVwBZAFsAXMBewGDATAAiwGTAZsBogGkAawBtAG8AcIBygHSAdoB4AHoAfAB+AH+AQYCDgIWAv4BHgImAi4CNgI+AkUCTQJTAlsCYwJrAnECeQKBAk0CiQKRApkCoQKoArACuALAAsQCzAIwANQC3ALkAjAA7AL0AvwCAQMJAxADGAMwACADJgMuAzYDPgOAAEYDSgNSA1IDUgNaA1oDYANiA2IDgACAAGoDgAByA3YDfgOAAIQDgACKA5IDmgOAAIAAogOqA4AAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAK8DtwOAAIAAvwPHA88D1wPfAyAD5wPsA/QD/AOAAIAABAQMBBIEgAAWBB4EJgQuBDMEIAM7BEEEXgBJBCADUQRZBGEEaQQwADAAcQQ+AXkEgQSJBJEEgACYBIAAoASoBK8EtwQwAL8ExQSAAIAAgACAAIAAgACgAM0EXgBeAF4AXgBeAF4AXgBeANUEXgDZBOEEXgDpBPEE+QQBBQkFEQUZBSEFKQUxBTUFPQVFBUwFVAVcBV4AYwVeAGsFcwV7BYMFiwWSBV4AmgWgBacFXgBeAF4AXgBeAKsFXgCyBbEFugW7BcIFwgXIBcIFwgXQBdQF3AXkBesF8wX7BQMGCwYTBhsGIwYrBjMGOwZeAD8GRwZNBl4AVAZbBl4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAGMGXgBqBnEGXgBeAF4AXgBeAF4AXgBeAF4AXgB5BoAG4wSGBo4GkwaAAIADHgR5AF4AXgBeAJsGgABGA4AAowarBrMGswagALsGwwbLBjAA0wbaBtoG3QbaBtoG2gbaBtoG2gblBusG8wb7BgMHCwcTBxsHCwcjBysHMAc1BzUHOgdCB9oGSgdSB1oHYAfaBloHaAfaBlIH2gbaBtoG2gbaBtoG2gbaBjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHbQdeAF4ANQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQd1B30HNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B4MH2gaKB68EgACAAIAAgACAAIAAgACAAI8HlwdeAJ8HpweAAIAArwe3B14AXgC/B8UHygcwANAH2AfgB4AA6AfwBz4B+AcACFwBCAgPCBcIogEYAR8IJwiAAC8INwg/CCADRwhPCFcIXwhnCEoDGgSAAIAAgABvCHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIhAiLCI4IMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAANQc1BzUHNQc1BzUHNQc1BzUHNQc1B54INQc1B6II2gaqCLIIugiAAIAAvgjGCIAAgACAAIAAgACAAIAAgACAAIAAywiHAYAA0wiAANkI3QjlCO0I9Aj8CIAAgACAAAIJCgkSCRoJIgknCTYHLwk3CZYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiAAIAAAAFAAXgBeAGAAcABeAHwAQACQAKAArQC9AJ4AXgBeAE0A3gBRAN4A7AD8AMwBGgEAAKcBNwEFAUwBXAF4QkhCmEKnArcCgAHHAsABz4LAAcABwAHAAd+C6ABoAG+C/4LAAcABwAHAAc+DF4MAAcAB54M3gweDV4Nng3eDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEeDqABVg6WDqABoQ6gAaABoAHXDvcONw/3DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DncPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB7cPPwlGCU4JMACAAIAAgABWCV4JYQmAAGkJcAl4CXwJgAkwADAAMAAwAIgJgACLCZMJgACZCZ8JowmrCYAAswkwAF4AXgB8AIAAuwkABMMJyQmAAM4JgADVCTAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAqwYWBNkIMAAwADAAMADdCeAJ6AnuCR4E9gkwAP4JBQoNCjAAMACAABUK0wiAAB0KJAosCjQKgAAwADwKQwqAAEsKvQmdCVMKWwowADAAgACAALcEMACAAGMKgABrCjAAMAAwADAAMAAwADAAMAAwADAAMAAeBDAAMAAwADAAMAAwADAAMAAwADAAMAAwAIkEPQFzCnoKiQSCCooKkAqJBJgKoAqkCokEGAGsCrQKvArBCjAAMADJCtEKFQHZCuEK/gHpCvEKMAAwADAAMACAAIwE+QowAIAAPwEBCzAAMAAwADAAMACAAAkLEQswAIAAPwEZCyELgAAOCCkLMAAxCzkLMAAwADAAMAAwADAAXgBeAEELMAAwADAAMAAwADAAMAAwAEkLTQtVC4AAXAtkC4AAiQkwADAAMAAwADAAMAAwADAAbAtxC3kLgAuFC4sLMAAwAJMLlwufCzAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAApwswADAAMACAAIAAgACvC4AAgACAAIAAgACAALcLMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAvwuAAMcLgACAAIAAgACAAIAAyguAAIAAgACAAIAA0QswADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAANkLgACAAIAA4AswADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACJCR4E6AswADAAhwHwC4AA+AsADAgMEAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMACAAIAAGAwdDCUMMAAwAC0MNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQw1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHPQwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADUHNQc1BzUHNQc1BzUHNQc2BzAAMAA5DDUHNQc1BzUHNQc1BzUHNQc1BzUHNQdFDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAATQxSDFoMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAF4AXgBeAF4AXgBeAF4AYgxeAGoMXgBxDHkMfwxeAIUMXgBeAI0MMAAwADAAMAAwAF4AXgCVDJ0MMAAwADAAMABeAF4ApQxeAKsMswy7DF4Awgy9DMoMXgBeAF4AXgBeAF4AXgBeAF4AXgDRDNkMeQBqCeAM3Ax8AOYM7Az0DPgMXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgCgAAANoAAHDQ4NFg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAeDSYNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAC4NMABeAF4ANg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAD4NRg1ODVYNXg1mDTAAbQ0wADAAMAAwADAAMAAwADAA2gbaBtoG2gbaBtoG2gbaBnUNeg3CBYANwgWFDdoGjA3aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gaUDZwNpA2oDdoG2gawDbcNvw3HDdoG2gbPDdYN3A3fDeYN2gbsDfMN2gbaBvoN/g3aBgYODg7aBl4AXgBeABYOXgBeACUG2gYeDl4AJA5eACwO2w3aBtoGMQ45DtoG2gbaBtoGQQ7aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B1EO2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQdZDjUHNQc1BzUHNQc1B2EONQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHaA41BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B3AO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B2EO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBkkOeA6gAKAAoAAwADAAMAAwAKAAoACgAKAAoACgAKAAgA4wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAD//wQABAAEAAQABAAEAAQABAAEAA0AAwABAAEAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAKABMAFwAeABsAGgAeABcAFgASAB4AGwAYAA8AGAAcAEsASwBLAEsASwBLAEsASwBLAEsAGAAYAB4AHgAeABMAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAFgAbABIAHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYADQARAB4ABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkAFgAaABsAGwAbAB4AHQAdAB4ATwAXAB4ADQAeAB4AGgAbAE8ATwAOAFAAHQAdAB0ATwBPABcATwBPAE8AFgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwArAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAAQABAANAA0ASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAUAArACsAKwArACsAKwArACsABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAGgAaAFAAUABQAFAAUABMAB4AGwBQAB4AKwArACsABAAEAAQAKwBQAFAAUABQAFAAUAArACsAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUAArAFAAUAArACsABAArAAQABAAEAAQABAArACsAKwArAAQABAArACsABAAEAAQAKwArACsABAArACsAKwArACsAKwArAFAAUABQAFAAKwBQACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwAEAAQAUABQAFAABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQAKwArAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeABsAKwArACsAKwArACsAKwBQAAQABAAEAAQABAAEACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAKwArACsAKwArACsAKwArAAQABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwAEAFAAKwBQAFAAUABQAFAAUAArACsAKwBQAFAAUAArAFAAUABQAFAAKwArACsAUABQACsAUAArAFAAUAArACsAKwBQAFAAKwArACsAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQAKwArACsABAAEAAQAKwAEAAQABAAEACsAKwBQACsAKwArACsAKwArAAQAKwArACsAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAB4AHgAeAB4AHgAeABsAHgArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArAFAAUABQACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAB4AUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArACsAKwArACsAKwArAFAAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwArAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAKwBcAFwAKwBcACsAKwBcACsAKwArACsAKwArAFwAXABcAFwAKwBcAFwAXABcAFwAXABcACsAXABcAFwAKwBcACsAXAArACsAXABcACsAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgArACoAKgBcACsAKwBcAFwAXABcAFwAKwBcACsAKgAqACoAKgAqACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAFwAXABcAFwAUAAOAA4ADgAOAB4ADgAOAAkADgAOAA0ACQATABMAEwATABMACQAeABMAHgAeAB4ABAAEAB4AHgAeAB4AHgAeAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUAANAAQAHgAEAB4ABAAWABEAFgARAAQABABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAAQABAAEAAQABAANAAQABABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsADQANAB4AHgAeAB4AHgAeAAQAHgAeAB4AHgAeAB4AKwAeAB4ADgAOAA0ADgAeAB4AHgAeAB4ACQAJACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgAeAB4AHgBcAFwAXABcAFwAXAAqACoAKgAqAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAKgAqACoAKgAqACoAKgBcAFwAXAAqACoAKgAqAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAXAAqAEsASwBLAEsASwBLAEsASwBLAEsAKgAqACoAKgAqACoAUABQAFAAUABQAFAAKwBQACsAKwArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQACsAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwAEAAQABAAeAA0AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAEQArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAADQANAA0AUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAA0ADQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoADQANABUAXAANAB4ADQAbAFwAKgArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAB4AHgATABMADQANAA4AHgATABMAHgAEAAQABAAJACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAUABQAFAAUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwAeACsAKwArABMAEwBLAEsASwBLAEsASwBLAEsASwBLAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwBcAFwAXABcAFwAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcACsAKwArACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwAeAB4AXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsABABLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKgAqACoAKgAqACoAKgBcACoAKgAqACoAKgAqACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAUABQAFAAUABQAFAAUAArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4ADQANAA0ADQAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAHgAeAB4AHgBQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwANAA0ADQANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwBQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsABAAEAAQAHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAABABQAFAAUABQAAQABAAEAFAAUAAEAAQABAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAKwBQACsAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAKwArAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAKwAeAB4AHgAeAB4AHgAeAA4AHgArAA0ADQANAA0ADQANAA0ACQANAA0ADQAIAAQACwAEAAQADQAJAA0ADQAMAB0AHQAeABcAFwAWABcAFwAXABYAFwAdAB0AHgAeABQAFAAUAA0AAQABAAQABAAEAAQABAAJABoAGgAaABoAGgAaABoAGgAeABcAFwAdABUAFQAeAB4AHgAeAB4AHgAYABYAEQAVABUAFQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgANAB4ADQANAA0ADQAeAA0ADQANAAcAHgAeAB4AHgArAAQABAAEAAQABAAEAAQABAAEAAQAUABQACsAKwBPAFAAUABQAFAAUAAeAB4AHgAWABEATwBQAE8ATwBPAE8AUABQAFAAUABQAB4AHgAeABYAEQArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGgAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgBQABoAHgAdAB4AUAAeABoAHgAeAB4AHgAeAB4AHgAeAB4ATwAeAFAAGwAeAB4AUABQAFAAUABQAB4AHgAeAB0AHQAeAFAAHgBQAB4AUAAeAFAATwBQAFAAHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AUABQAFAAUABPAE8AUABQAFAAUABQAE8AUABQAE8AUABPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAE8ATwBPAE8ATwBPAE8ATwBPAE8AUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAATwAeAB4AKwArACsAKwAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB0AHQAeAB4AHgAdAB0AHgAeAB0AHgAeAB4AHQAeAB0AGwAbAB4AHQAeAB4AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB0AHgAdAB4AHQAdAB0AHQAdAB0AHgAdAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAdAB0AHQAdAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAlACUAHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB0AHQAeAB4AHgAeAB0AHQAdAB4AHgAdAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB0AHQAeAB4AHQAeAB4AHgAeAB0AHQAeAB4AHgAeACUAJQAdAB0AJQAeACUAJQAlACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHQAdAB0AHgAdACUAHQAdAB4AHQAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHQAdAB0AHQAlAB4AJQAlACUAHQAlACUAHQAdAB0AJQAlAB0AHQAlAB0AHQAlACUAJQAeAB0AHgAeAB4AHgAdAB0AJQAdAB0AHQAdAB0AHQAlACUAJQAlACUAHQAlACUAIAAlAB0AHQAlACUAJQAlACUAJQAlACUAHgAeAB4AJQAlACAAIAAgACAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeABcAFwAXABcAFwAXAB4AEwATACUAHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACUAJQBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwArACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAE8ATwBPAE8ATwBPAE8ATwAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeACsAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUAArACsAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQBQAFAAUABQACsAKwArACsAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAABAAEAAQAKwAEAAQAKwArACsAKwArAAQABAAEAAQAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsABAAEAAQAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsADQANAA0ADQANAA0ADQANAB4AKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAUABQAFAAUABQAA0ADQANAA0ADQANABQAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwANAA0ADQANAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAeAAQABAAEAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLACsADQArAB4AKwArAAQABAAEAAQAUABQAB4AUAArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwAEAAQABAAEAAQABAAEAAQABAAOAA0ADQATABMAHgAeAB4ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0AUABQAFAAUAAEAAQAKwArAAQADQANAB4AUAArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXABcAA0ADQANACoASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUAArACsAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANACsADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEcARwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwAeAAQABAANAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAEAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUAArACsAUAArACsAUABQACsAKwBQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAeAB4ADQANAA0ADQAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAArAAQABAArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAEAAQABAAEAAQABAAEACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAFgAWAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAKwBQACsAKwArACsAKwArAFAAKwArACsAKwBQACsAUAArAFAAKwBQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQACsAUAArAFAAKwBQACsAUABQACsAUAArACsAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAUABQAFAAUAArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUAArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAlACUAJQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeACUAJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeACUAJQAlACUAJQAeACUAJQAlACUAJQAgACAAIAAlACUAIAAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIQAhACEAIQAhACUAJQAgACAAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAIAAlACUAJQAlACAAJQAgACAAIAAgACAAIAAgACAAIAAlACUAJQAgACUAJQAlACUAIAAgACAAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeACUAHgAlAB4AJQAlACUAJQAlACAAJQAlACUAJQAeACUAHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAIAAgACAAIAAgAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFwAXABcAFQAVABUAHgAeAB4AHgAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAlACAAIAAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsA"),at=Array.isArray(Ke)?function(De){for(var Ke=De.length,at=[],bt=0;bt<Ke;bt+=4)at.push(De[bt+3]<<24|De[bt+2]<<16|De[bt+1]<<8|De[bt]);return at}(Ke):new Uint32Array(Ke),bt=Array.isArray(Ke)?function(De){for(var Ke=De.length,at=[],bt=0;bt<Ke;bt+=2)at.push(De[bt+1]<<8|De[bt]);return at}(Ke):new Uint16Array(Ke),Ei=qe(bt,12,at[4]/2),Yi=2===at[5]?qe(bt,(24+at[4])/2):function(De,Ke,at){return De.slice?De.slice(Ke,at):new Uint32Array(Array.prototype.slice.call(De,Ke,at))}(at,Math.ceil((24+at[4])/4)),new ot(at[0],at[1],at[2],at[3],Ei,Yi)),Y=[Un,36],te=[1,2,3,5],ne=[Bt,8],we=[Mi,fi],ze=te.concat(ne),_t=[T,E,D,B,Be],Mt=[Rt,dt],Ge=function(De,Ke,at,bt){var ni=bt[at];if(Array.isArray(De)?-1!==De.indexOf(ni):De===ni)for(var Ei=at;Ei<=bt.length;){if((Yi=bt[++Ei])===Ke)return!0;if(Yi!==Bt)break}if(ni===Bt)for(Ei=at;Ei>0;){var an=bt[--Ei];if(Array.isArray(De)?-1!==De.indexOf(an):De===an)for(var pn=at;pn<=bt.length;){var Yi;if((Yi=bt[++pn])===Ke)return!0;if(Yi!==Bt)break}if(an!==Bt)break}return!1},it=function(De,Ke){for(var at=De;at>=0;){var bt=Ke[at];if(bt!==Bt)return bt;at--}return 0},ht=function(De,Ke,at,bt,ni){if(0===at[bt])return W;var Ei=bt-1;if(Array.isArray(ni)&&!0===ni[Ei])return W;var Yi=Ei-1,an=Ei+1,pn=Ke[Ei],vn=Yi>=0?Ke[Yi]:0,wn=Ke[an];if(2===pn&&3===wn)return W;if(-1!==te.indexOf(pn))return"!";if(-1!==te.indexOf(wn)||-1!==ne.indexOf(wn))return W;if(8===it(Ei,Ke))return X;if(11===ie.get(De[Ei])&&(wn===k||wn===kn||wn===li)||7===pn||7===wn||9===pn||-1===[Bt,dt,Rt].indexOf(pn)&&9===wn||-1!==[ke,rt,Dt,pi,Ki].indexOf(wn)||it(Ei,Ke)===Ti||Ge(23,Ti,Ei,Ke)||Ge([ke,rt],st,Ei,Ke)||Ge(12,12,Ei,Ke))return W;if(pn===Bt)return X;if(23===pn||23===wn)return W;if(16===wn||16===pn)return X;if(-1!==[dt,Rt,st].indexOf(wn)||14===pn||36===vn&&-1!==Mt.indexOf(pn)||pn===Ki&&36===wn||wn===Kt&&-1!==Y.concat(Kt,Dt,We,k,kn,li).indexOf(pn)||-1!==Y.indexOf(wn)&&pn===We||-1!==Y.indexOf(pn)&&wn===We||pn===Mi&&-1!==[k,kn,li].indexOf(wn)||-1!==[k,kn,li].indexOf(pn)&&wn===fi||-1!==Y.indexOf(pn)&&-1!==we.indexOf(wn)||-1!==we.indexOf(pn)&&-1!==Y.indexOf(wn)||-1!==[Mi,fi].indexOf(pn)&&(wn===We||-1!==[Ti,Rt].indexOf(wn)&&Ke[an+1]===We)||-1!==[Ti,Rt].indexOf(pn)&&wn===We||pn===We&&-1!==[We,Ki,pi].indexOf(wn))return W;if(-1!==[We,Ki,pi,ke,rt].indexOf(wn))for(var sr=Ei;sr>=0;){if((Br=Ke[sr])===We)return W;if(-1===[Ki,pi].indexOf(Br))break;sr--}if(-1!==[Mi,fi].indexOf(wn))for(sr=-1!==[ke,rt].indexOf(pn)?Yi:Ei;sr>=0;){var Br;if((Br=Ke[sr])===We)return W;if(-1===[Ki,pi].indexOf(Br))break;sr--}if(T===pn&&-1!==[T,E,B,Be].indexOf(wn)||-1!==[E,B].indexOf(pn)&&-1!==[E,D].indexOf(wn)||-1!==[D,Be].indexOf(pn)&&wn===D||-1!==_t.indexOf(pn)&&-1!==[Kt,fi].indexOf(wn)||-1!==_t.indexOf(wn)&&pn===Mi||-1!==Y.indexOf(pn)&&-1!==Y.indexOf(wn)||pn===pi&&-1!==Y.indexOf(wn)||-1!==Y.concat(We).indexOf(pn)&&wn===Ti||-1!==Y.concat(We).indexOf(wn)&&pn===rt)return W;if(41===pn&&41===wn){for(var yr=at[Ei],wr=1;yr>0&&41===Ke[--yr];)wr++;if(wr%2!=0)return W}return pn===kn&&wn===li?W:X},mt=function(De,Ke){Ke||(Ke={lineBreak:"normal",wordBreak:"normal"});var at=function(De,Ke){void 0===Ke&&(Ke="strict");var at=[],bt=[],ni=[];return De.forEach(function(Ei,Yi){var an=ie.get(Ei);if(an>50?(ni.push(!0),an-=50):ni.push(!1),-1!==["normal","auto","loose"].indexOf(Ke)&&-1!==[8208,8211,12316,12448].indexOf(Ei))return bt.push(Yi),at.push(16);if(4===an||11===an){if(0===Yi)return bt.push(Yi),at.push(Un);var pn=at[Yi-1];return-1===ze.indexOf(pn)?(bt.push(bt[Yi-1]),at.push(pn)):(bt.push(Yi),at.push(Un))}return bt.push(Yi),31===an?at.push("strict"===Ke?st:k):an===L||29===an?at.push(Un):43===an?at.push(Ei>=131072&&Ei<=196605||Ei>=196608&&Ei<=262141?k:Un):void at.push(an)}),[bt,at,ni]}(De,Ke.lineBreak),bt=at[0],ni=at[1],Ei=at[2];return("break-all"===Ke.wordBreak||"break-word"===Ke.wordBreak)&&(ni=ni.map(function(an){return-1!==[We,Un,L].indexOf(an)?k:an})),[bt,ni,"keep-all"===Ke.wordBreak?Ei.map(function(an,pn){return an&&De[pn]>=19968&&De[pn]<=40959}):void 0]},yt=function(){function De(Ke,at,bt,ni){this.codePoints=Ke,this.required="!"===at,this.start=bt,this.end=ni}return De.prototype.slice=function(){return he.apply(void 0,this.codePoints.slice(this.start,this.end))},De}(),St=(()=>{return(De=St||(St={}))[De.STRING_TOKEN=0]="STRING_TOKEN",De[De.BAD_STRING_TOKEN=1]="BAD_STRING_TOKEN",De[De.LEFT_PARENTHESIS_TOKEN=2]="LEFT_PARENTHESIS_TOKEN",De[De.RIGHT_PARENTHESIS_TOKEN=3]="RIGHT_PARENTHESIS_TOKEN",De[De.COMMA_TOKEN=4]="COMMA_TOKEN",De[De.HASH_TOKEN=5]="HASH_TOKEN",De[De.DELIM_TOKEN=6]="DELIM_TOKEN",De[De.AT_KEYWORD_TOKEN=7]="AT_KEYWORD_TOKEN",De[De.PREFIX_MATCH_TOKEN=8]="PREFIX_MATCH_TOKEN",De[De.DASH_MATCH_TOKEN=9]="DASH_MATCH_TOKEN",De[De.INCLUDE_MATCH_TOKEN=10]="INCLUDE_MATCH_TOKEN",De[De.LEFT_CURLY_BRACKET_TOKEN=11]="LEFT_CURLY_BRACKET_TOKEN",De[De.RIGHT_CURLY_BRACKET_TOKEN=12]="RIGHT_CURLY_BRACKET_TOKEN",De[De.SUFFIX_MATCH_TOKEN=13]="SUFFIX_MATCH_TOKEN",De[De.SUBSTRING_MATCH_TOKEN=14]="SUBSTRING_MATCH_TOKEN",De[De.DIMENSION_TOKEN=15]="DIMENSION_TOKEN",De[De.PERCENTAGE_TOKEN=16]="PERCENTAGE_TOKEN",De[De.NUMBER_TOKEN=17]="NUMBER_TOKEN",De[De.FUNCTION=18]="FUNCTION",De[De.FUNCTION_TOKEN=19]="FUNCTION_TOKEN",De[De.IDENT_TOKEN=20]="IDENT_TOKEN",De[De.COLUMN_TOKEN=21]="COLUMN_TOKEN",De[De.URL_TOKEN=22]="URL_TOKEN",De[De.BAD_URL_TOKEN=23]="BAD_URL_TOKEN",De[De.CDC_TOKEN=24]="CDC_TOKEN",De[De.CDO_TOKEN=25]="CDO_TOKEN",De[De.COLON_TOKEN=26]="COLON_TOKEN",De[De.SEMICOLON_TOKEN=27]="SEMICOLON_TOKEN",De[De.LEFT_SQUARE_BRACKET_TOKEN=28]="LEFT_SQUARE_BRACKET_TOKEN",De[De.RIGHT_SQUARE_BRACKET_TOKEN=29]="RIGHT_SQUARE_BRACKET_TOKEN",De[De.UNICODE_RANGE_TOKEN=30]="UNICODE_RANGE_TOKEN",De[De.WHITESPACE_TOKEN=31]="WHITESPACE_TOKEN",De[De.EOF_TOKEN=32]="EOF_TOKEN",St;var De})(),Qi=function(De){return De>=48&&De<=57},xn=function(De){return Qi(De)||De>=65&&De<=70||De>=97&&De<=102},Dr=function(De){return 10===De||9===De||32===De},zn=function(De){return function(De){return function(De){return De>=97&&De<=122}(De)||function(De){return De>=65&&De<=90}(De)}(De)||function(De){return De>=128}(De)||95===De},ro=function(De){return zn(De)||Qi(De)||45===De},Yn=function(De){return De>=0&&De<=8||11===De||De>=14&&De<=31||127===De},Ut=function(De,Ke){return 92===De&&10!==Ke},ii=function(De,Ke,at){return 45===De?zn(Ke)||Ut(Ke,at):!!zn(De)||!(92!==De||!Ut(De,Ke))},Fi=function(De,Ke,at){return 43===De||45===De?!!Qi(Ke)||46===Ke&&Qi(at):Qi(46===De?Ke:De)},dn=function(De){var Ke=0,at=1;(43===De[Ke]||45===De[Ke])&&(45===De[Ke]&&(at=-1),Ke++);for(var bt=[];Qi(De[Ke]);)bt.push(De[Ke++]);var ni=bt.length?parseInt(he.apply(void 0,bt),10):0;46===De[Ke]&&Ke++;for(var Ei=[];Qi(De[Ke]);)Ei.push(De[Ke++]);var Yi=Ei.length,an=Yi?parseInt(he.apply(void 0,Ei),10):0;(69===De[Ke]||101===De[Ke])&&Ke++;var pn=1;(43===De[Ke]||45===De[Ke])&&(45===De[Ke]&&(pn=-1),Ke++);for(var vn=[];Qi(De[Ke]);)vn.push(De[Ke++]);var wn=vn.length?parseInt(he.apply(void 0,vn),10):0;return at*(ni+an*Math.pow(10,-Yi))*Math.pow(10,pn*wn)},jn={type:St.LEFT_PARENTHESIS_TOKEN},Qn={type:St.RIGHT_PARENTHESIS_TOKEN},Cr={type:St.COMMA_TOKEN},$r={type:St.SUFFIX_MATCH_TOKEN},lr={type:St.PREFIX_MATCH_TOKEN},_s={type:St.COLUMN_TOKEN},ps={type:St.DASH_MATCH_TOKEN},so={type:St.INCLUDE_MATCH_TOKEN},ur={type:St.LEFT_CURLY_BRACKET_TOKEN},Ts={type:St.RIGHT_CURLY_BRACKET_TOKEN},Fc={type:St.SUBSTRING_MATCH_TOKEN},$l={type:St.BAD_URL_TOKEN},sd={type:St.BAD_STRING_TOKEN},Io={type:St.CDO_TOKEN},ya={type:St.CDC_TOKEN},Nl={type:St.COLON_TOKEN},dr={type:St.SEMICOLON_TOKEN},Bu={type:St.LEFT_SQUARE_BRACKET_TOKEN},ls={type:St.RIGHT_SQUARE_BRACKET_TOKEN},od={type:St.WHITESPACE_TOKEN},Ru={type:St.EOF_TOKEN},Rr=function(){function De(){this._value=[]}return De.prototype.write=function(Ke){this._value=this._value.concat(ye(Ke))},De.prototype.read=function(){for(var Ke=[],at=this.consumeToken();at!==Ru;)Ke.push(at),at=this.consumeToken();return Ke},De.prototype.consumeToken=function(){var Ke=this.consumeCodePoint();switch(Ke){case 34:return this.consumeStringToken(34);case 35:var at=this.peekCodePoint(0),bt=this.peekCodePoint(1),ni=this.peekCodePoint(2);if(ro(at)||Ut(bt,ni)){var Ei=ii(at,bt,ni)?2:1,Yi=this.consumeName();return{type:St.HASH_TOKEN,value:Yi,flags:Ei}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),$r;break;case 39:return this.consumeStringToken(39);case 40:return jn;case 41:return Qn;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Fc;break;case 43:if(Fi(Ke,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(Ke),this.consumeNumericToken();break;case 44:return Cr;case 45:var an=Ke,pn=this.peekCodePoint(0),vn=this.peekCodePoint(1);if(Fi(an,pn,vn))return this.reconsumeCodePoint(Ke),this.consumeNumericToken();if(ii(an,pn,vn))return this.reconsumeCodePoint(Ke),this.consumeIdentLikeToken();if(45===pn&&62===vn)return this.consumeCodePoint(),this.consumeCodePoint(),ya;break;case 46:if(Fi(Ke,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(Ke),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var wn=this.consumeCodePoint();if(42===wn&&47===(wn=this.consumeCodePoint()))return this.consumeToken();if(-1===wn)return this.consumeToken()}break;case 58:return Nl;case 59:return dr;case 60:if(33===this.peekCodePoint(0)&&45===this.peekCodePoint(1)&&45===this.peekCodePoint(2))return this.consumeCodePoint(),this.consumeCodePoint(),Io;break;case 64:var sr=this.peekCodePoint(0),Br=this.peekCodePoint(1),yr=this.peekCodePoint(2);if(ii(sr,Br,yr))return Yi=this.consumeName(),{type:St.AT_KEYWORD_TOKEN,value:Yi};break;case 91:return Bu;case 92:if(Ut(Ke,this.peekCodePoint(0)))return this.reconsumeCodePoint(Ke),this.consumeIdentLikeToken();break;case 93:return ls;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),lr;break;case 123:return ur;case 125:return Ts;case 117:case 85:var wr=this.peekCodePoint(0),Zr=this.peekCodePoint(1);return 43===wr&&(xn(Zr)||63===Zr)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(Ke),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),ps;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),_s;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),so;break;case-1:return Ru}return Dr(Ke)?(this.consumeWhiteSpace(),od):Qi(Ke)?(this.reconsumeCodePoint(Ke),this.consumeNumericToken()):zn(Ke)?(this.reconsumeCodePoint(Ke),this.consumeIdentLikeToken()):{type:St.DELIM_TOKEN,value:he(Ke)}},De.prototype.consumeCodePoint=function(){var Ke=this._value.shift();return void 0===Ke?-1:Ke},De.prototype.reconsumeCodePoint=function(Ke){this._value.unshift(Ke)},De.prototype.peekCodePoint=function(Ke){return Ke>=this._value.length?-1:this._value[Ke]},De.prototype.consumeUnicodeRangeToken=function(){for(var Ke=[],at=this.consumeCodePoint();xn(at)&&Ke.length<6;)Ke.push(at),at=this.consumeCodePoint();for(var bt=!1;63===at&&Ke.length<6;)Ke.push(at),at=this.consumeCodePoint(),bt=!0;if(bt){var ni=parseInt(he.apply(void 0,Ke.map(function(pn){return 63===pn?48:pn})),16),Ei=parseInt(he.apply(void 0,Ke.map(function(pn){return 63===pn?70:pn})),16);return{type:St.UNICODE_RANGE_TOKEN,start:ni,end:Ei}}var Yi=parseInt(he.apply(void 0,Ke),16);if(45===this.peekCodePoint(0)&&xn(this.peekCodePoint(1))){this.consumeCodePoint(),at=this.consumeCodePoint();for(var an=[];xn(at)&&an.length<6;)an.push(at),at=this.consumeCodePoint();return Ei=parseInt(he.apply(void 0,an),16),{type:St.UNICODE_RANGE_TOKEN,start:Yi,end:Ei}}return{type:St.UNICODE_RANGE_TOKEN,start:Yi,end:Yi}},De.prototype.consumeIdentLikeToken=function(){var Ke=this.consumeName();return"url"===Ke.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:St.FUNCTION_TOKEN,value:Ke}):{type:St.IDENT_TOKEN,value:Ke}},De.prototype.consumeUrlToken=function(){var Ke=[];if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0))return{type:St.URL_TOKEN,value:""};var at=this.peekCodePoint(0);if(39===at||34===at){var bt=this.consumeStringToken(this.consumeCodePoint());return bt.type===St.STRING_TOKEN&&(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:St.URL_TOKEN,value:bt.value}):(this.consumeBadUrlRemnants(),$l)}for(;;){var ni=this.consumeCodePoint();if(-1===ni||41===ni)return{type:St.URL_TOKEN,value:he.apply(void 0,Ke)};if(Dr(ni))return this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:St.URL_TOKEN,value:he.apply(void 0,Ke)}):(this.consumeBadUrlRemnants(),$l);if(34===ni||39===ni||40===ni||Yn(ni))return this.consumeBadUrlRemnants(),$l;if(92===ni){if(!Ut(ni,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),$l;Ke.push(this.consumeEscapedCodePoint())}else Ke.push(ni)}},De.prototype.consumeWhiteSpace=function(){for(;Dr(this.peekCodePoint(0));)this.consumeCodePoint()},De.prototype.consumeBadUrlRemnants=function(){for(;;){var Ke=this.consumeCodePoint();if(41===Ke||-1===Ke)return;Ut(Ke,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},De.prototype.consumeStringSlice=function(Ke){for(var bt="";Ke>0;){var ni=Math.min(6e4,Ke);bt+=he.apply(void 0,this._value.splice(0,ni)),Ke-=ni}return this._value.shift(),bt},De.prototype.consumeStringToken=function(Ke){for(var at="",bt=0;;){var ni=this._value[bt];if(-1===ni||void 0===ni||ni===Ke)return at+=this.consumeStringSlice(bt),{type:St.STRING_TOKEN,value:at};if(10===ni)return this._value.splice(0,bt),sd;if(92===ni){var Ei=this._value[bt+1];-1!==Ei&&void 0!==Ei&&(10===Ei?(at+=this.consumeStringSlice(bt),bt=-1,this._value.shift()):Ut(ni,Ei)&&(at+=this.consumeStringSlice(bt),at+=he(this.consumeEscapedCodePoint()),bt=-1))}bt++}},De.prototype.consumeNumber=function(){var Ke=[],at=4,bt=this.peekCodePoint(0);for((43===bt||45===bt)&&Ke.push(this.consumeCodePoint());Qi(this.peekCodePoint(0));)Ke.push(this.consumeCodePoint());bt=this.peekCodePoint(0);var ni=this.peekCodePoint(1);if(46===bt&&Qi(ni))for(Ke.push(this.consumeCodePoint(),this.consumeCodePoint()),at=8;Qi(this.peekCodePoint(0));)Ke.push(this.consumeCodePoint());bt=this.peekCodePoint(0),ni=this.peekCodePoint(1);var Ei=this.peekCodePoint(2);if((69===bt||101===bt)&&((43===ni||45===ni)&&Qi(Ei)||Qi(ni)))for(Ke.push(this.consumeCodePoint(),this.consumeCodePoint()),at=8;Qi(this.peekCodePoint(0));)Ke.push(this.consumeCodePoint());return[dn(Ke),at]},De.prototype.consumeNumericToken=function(){var Ke=this.consumeNumber(),at=Ke[0],bt=Ke[1],ni=this.peekCodePoint(0),Ei=this.peekCodePoint(1),Yi=this.peekCodePoint(2);if(ii(ni,Ei,Yi)){var an=this.consumeName();return{type:St.DIMENSION_TOKEN,number:at,flags:bt,unit:an}}return 37===ni?(this.consumeCodePoint(),{type:St.PERCENTAGE_TOKEN,number:at,flags:bt}):{type:St.NUMBER_TOKEN,number:at,flags:bt}},De.prototype.consumeEscapedCodePoint=function(){var Ke=this.consumeCodePoint();if(xn(Ke)){for(var at=he(Ke);xn(this.peekCodePoint(0))&&at.length<6;)at+=he(this.consumeCodePoint());Dr(this.peekCodePoint(0))&&this.consumeCodePoint();var bt=parseInt(at,16);return 0===bt||function(De){return De>=55296&&De<=57343}(bt)||bt>1114111?65533:bt}return-1===Ke?65533:Ke},De.prototype.consumeName=function(){for(var Ke="";;){var at=this.consumeCodePoint();if(ro(at))Ke+=he(at);else{if(!Ut(at,this.peekCodePoint(0)))return this.reconsumeCodePoint(at),Ke;Ke+=he(this.consumeEscapedCodePoint())}}},De}(),Bs=function(){function De(Ke){this._tokens=Ke}return De.create=function(Ke){var at=new Rr;return at.write(Ke),new De(at.read())},De.parseValue=function(Ke){return De.create(Ke).parseComponentValue()},De.parseValues=function(Ke){return De.create(Ke).parseComponentValues()},De.prototype.parseComponentValue=function(){for(var Ke=this.consumeToken();Ke.type===St.WHITESPACE_TOKEN;)Ke=this.consumeToken();if(Ke.type===St.EOF_TOKEN)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(Ke);var at=this.consumeComponentValue();do{Ke=this.consumeToken()}while(Ke.type===St.WHITESPACE_TOKEN);if(Ke.type===St.EOF_TOKEN)return at;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},De.prototype.parseComponentValues=function(){for(var Ke=[];;){var at=this.consumeComponentValue();if(at.type===St.EOF_TOKEN)return Ke;Ke.push(at),Ke.push()}},De.prototype.consumeComponentValue=function(){var Ke=this.consumeToken();switch(Ke.type){case St.LEFT_CURLY_BRACKET_TOKEN:case St.LEFT_SQUARE_BRACKET_TOKEN:case St.LEFT_PARENTHESIS_TOKEN:return this.consumeSimpleBlock(Ke.type);case St.FUNCTION_TOKEN:return this.consumeFunction(Ke)}return Ke},De.prototype.consumeSimpleBlock=function(Ke){for(var at={type:Ke,values:[]},bt=this.consumeToken();;){if(bt.type===St.EOF_TOKEN||uh(bt,Ke))return at;this.reconsumeToken(bt),at.values.push(this.consumeComponentValue()),bt=this.consumeToken()}},De.prototype.consumeFunction=function(Ke){for(var at={name:Ke.value,values:[],type:St.FUNCTION};;){var bt=this.consumeToken();if(bt.type===St.EOF_TOKEN||bt.type===St.RIGHT_PARENTHESIS_TOKEN)return at;this.reconsumeToken(bt),at.values.push(this.consumeComponentValue())}},De.prototype.consumeToken=function(){var Ke=this._tokens.shift();return void 0===Ke?Ru:Ke},De.prototype.reconsumeToken=function(Ke){this._tokens.unshift(Ke)},De}(),rl=function(De){return De.type===St.DIMENSION_TOKEN},Fr=function(De){return De.type===St.NUMBER_TOKEN},rs=function(De){return De.type===St.IDENT_TOKEN},ca=function(De){return De.type===St.STRING_TOKEN},ea=function(De,Ke){return rs(De)&&De.value===Ke},au=function(De){return De.type!==St.WHITESPACE_TOKEN},ta=function(De){return De.type!==St.WHITESPACE_TOKEN&&De.type!==St.COMMA_TOKEN},vl=function(De){var Ke=[],at=[];return De.forEach(function(bt){if(bt.type===St.COMMA_TOKEN){if(0===at.length)throw new Error("Error parsing function args, zero tokens for arg");return Ke.push(at),void(at=[])}bt.type!==St.WHITESPACE_TOKEN&&at.push(bt)}),at.length&&Ke.push(at),Ke},uh=function(De,Ke){return Ke===St.LEFT_CURLY_BRACKET_TOKEN&&De.type===St.RIGHT_CURLY_BRACKET_TOKEN||Ke===St.LEFT_SQUARE_BRACKET_TOKEN&&De.type===St.RIGHT_SQUARE_BRACKET_TOKEN||Ke===St.LEFT_PARENTHESIS_TOKEN&&De.type===St.RIGHT_PARENTHESIS_TOKEN},_l=function(De){return De.type===St.NUMBER_TOKEN||De.type===St.DIMENSION_TOKEN},Ks=function(De){return De.type===St.PERCENTAGE_TOKEN||_l(De)},Zl=function(De){return De.length>1?[De[0],De[1]]:[De[0]]},Xt={type:St.NUMBER_TOKEN,number:0,flags:4},Xi={type:St.PERCENTAGE_TOKEN,number:50,flags:4},Cn={type:St.PERCENTAGE_TOKEN,number:100,flags:4},_n=function(De,Ke,at){var bt=De[0],ni=De[1];return[Pn(bt,Ke),Pn(void 0!==ni?ni:bt,at)]},Pn=function(De,Ke){if(De.type===St.PERCENTAGE_TOKEN)return De.number/100*Ke;if(rl(De))switch(De.unit){case"rem":case"em":return 16*De.number;default:return De.number}return De.number},Qs_parse=function(De){if(De.type===St.DIMENSION_TOKEN)switch(De.unit){case"deg":return Math.PI*De.number/180;case"grad":return Math.PI/200*De.number;case"rad":return De.number;case"turn":return 2*Math.PI*De.number}throw new Error("Unsupported angle type")},Cs=function(De){return De.type===St.DIMENSION_TOKEN&&("deg"===De.unit||"grad"===De.unit||"rad"===De.unit||"turn"===De.unit)},Do=function(De){switch(De.filter(rs).map(function(at){return at.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Xt,Xt];case"to top":case"bottom":return mo(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Xt,Cn];case"to right":case"left":return mo(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Cn,Cn];case"to bottom":case"top":return mo(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Cn,Xt];case"to left":case"right":return mo(270)}return 0},mo=function(De){return Math.PI*De/180},Xr_parse=function(De){if(De.type===St.FUNCTION){var Ke=Ua[De.name];if(void 0===Ke)throw new Error('Attempting to parse an unsupported color function "'+De.name+'"');return Ke(De.values)}if(De.type===St.HASH_TOKEN){if(3===De.value.length){var at=De.value.substring(0,1),bt=De.value.substring(1,2),ni=De.value.substring(2,3);return Oo(parseInt(at+at,16),parseInt(bt+bt,16),parseInt(ni+ni,16),1)}if(4===De.value.length){at=De.value.substring(0,1),bt=De.value.substring(1,2),ni=De.value.substring(2,3);var Ei=De.value.substring(3,4);return Oo(parseInt(at+at,16),parseInt(bt+bt,16),parseInt(ni+ni,16),parseInt(Ei+Ei,16)/255)}if(6===De.value.length)return at=De.value.substring(0,2),bt=De.value.substring(2,4),ni=De.value.substring(4,6),Oo(parseInt(at,16),parseInt(bt,16),parseInt(ni,16),1);if(8===De.value.length)return at=De.value.substring(0,2),bt=De.value.substring(2,4),ni=De.value.substring(4,6),Ei=De.value.substring(6,8),Oo(parseInt(at,16),parseInt(bt,16),parseInt(ni,16),parseInt(Ei,16)/255)}if(De.type===St.IDENT_TOKEN){var Yi=Ds[De.value.toUpperCase()];if(void 0!==Yi)return Yi}return Ds.TRANSPARENT},Ta=function(De){return 0==(255&De)},Gs=function(De){var Ke=255&De,at=255&De>>8,bt=255&De>>16,ni=255&De>>24;return Ke<255?"rgba("+ni+","+bt+","+at+","+Ke/255+")":"rgb("+ni+","+bt+","+at+")"},Oo=function(De,Ke,at,bt){return(De<<24|Ke<<16|at<<8|Math.round(255*bt)<<0)>>>0},Jl=function(De,Ke){if(De.type===St.NUMBER_TOKEN)return De.number;if(De.type===St.PERCENTAGE_TOKEN){var at=3===Ke?1:255;return 3===Ke?De.number/100*at:Math.round(De.number/100*at)}return 0},Ns=function(De){var Ke=De.filter(ta);if(3===Ke.length){var at=Ke.map(Jl);return Oo(at[0],at[1],at[2],1)}if(4===Ke.length){var Yi=Ke.map(Jl);return Oo(Yi[0],Yi[1],Yi[2],Yi[3])}return 0};function No(De,Ke,at){return at<0&&(at+=1),at>=1&&(at-=1),at<1/6?(Ke-De)*at*6+De:at<.5?Ke:at<2/3?6*(Ke-De)*(2/3-at)+De:De}var lu=function(De){var Ke=De.filter(ta),at=Ke[0],bt=Ke[1],ni=Ke[2],Ei=Ke[3],Yi=(at.type===St.NUMBER_TOKEN?mo(at.number):Qs_parse(at))/(2*Math.PI),an=Ks(bt)?bt.number/100:0,pn=Ks(ni)?ni.number/100:0,vn=void 0!==Ei&&Ks(Ei)?Pn(Ei,1):1;if(0===an)return Oo(255*pn,255*pn,255*pn,1);var wn=pn<=.5?pn*(an+1):pn+an-pn*an,sr=2*pn-wn,Br=No(sr,wn,Yi+1/3),yr=No(sr,wn,Yi),wr=No(sr,wn,Yi-1/3);return Oo(255*Br,255*yr,255*wr,vn)},Ua={hsl:lu,hsla:lu,rgb:Ns,rgba:Ns},Ds={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Hr=(()=>{return(De=Hr||(Hr={}))[De.VALUE=0]="VALUE",De[De.LIST=1]="LIST",De[De.IDENT_VALUE=2]="IDENT_VALUE",De[De.TYPE_VALUE=3]="TYPE_VALUE",De[De.TOKEN_VALUE=4]="TOKEN_VALUE",Hr;var De})(),ua=(()=>{return(De=ua||(ua={}))[De.BORDER_BOX=0]="BORDER_BOX",De[De.PADDING_BOX=1]="PADDING_BOX",De[De.CONTENT_BOX=2]="CONTENT_BOX",ua;var De})(),bl={name:"background-clip",initialValue:"border-box",prefix:!1,type:Hr.LIST,parse:function(De){return De.map(function(Ke){if(rs(Ke))switch(Ke.value){case"padding-box":return ua.PADDING_BOX;case"content-box":return ua.CONTENT_BOX}return ua.BORDER_BOX})}},Al={name:"background-color",initialValue:"transparent",prefix:!1,type:Hr.TYPE_VALUE,format:"color"},Fu=function(De){var Ke=Xr_parse(De[0]),at=De[1];return at&&Ks(at)?{color:Ke,stop:at}:{color:Ke,stop:null}},Ia=function(De,Ke){var at=De[0],bt=De[De.length-1];null===at.stop&&(at.stop=Xt),null===bt.stop&&(bt.stop=Cn);for(var ni=[],Ei=0,Yi=0;Yi<De.length;Yi++){var an=De[Yi].stop;if(null!==an){var pn=Pn(an,Ke);ni.push(pn>Ei?pn:Ei),Ei=pn}else ni.push(null)}var vn=null;for(Yi=0;Yi<ni.length;Yi++){var wn=ni[Yi];if(null===wn)null===vn&&(vn=Yi);else if(null!==vn){for(var sr=Yi-vn,yr=(wn-ni[vn-1])/(sr+1),wr=1;wr<=sr;wr++)ni[vn+wr-1]=yr*wr;vn=null}}return De.map(function(Zr,js){return{color:Zr.color,stop:Math.max(Math.min(1,ni[js]/Ke),0)}})},wl=function(De,Ke,at){var bt="number"==typeof De?De:function(De,Ke,at){var bt=Ke/2,ni=at/2,Ei=Pn(De[0],Ke)-bt,Yi=ni-Pn(De[1],at);return(Math.atan2(Yi,Ei)+2*Math.PI)%(2*Math.PI)}(De,Ke,at),ni=Math.abs(Ke*Math.sin(bt))+Math.abs(at*Math.cos(bt)),Ei=Ke/2,Yi=at/2,an=ni/2,pn=Math.sin(bt-Math.PI/2)*an,vn=Math.cos(bt-Math.PI/2)*an;return[ni,Ei-vn,Ei+vn,Yi-pn,Yi+pn]},Cl=function(De,Ke){return Math.sqrt(De*De+Ke*Ke)},wc=function(De,Ke,at,bt,ni){return[[0,0],[0,Ke],[De,0],[De,Ke]].reduce(function(Yi,an){var wn=Cl(at-an[0],bt-an[1]);return(ni?wn<Yi.optimumDistance:wn>Yi.optimumDistance)?{optimumCorner:an,optimumDistance:wn}:Yi},{optimumDistance:ni?1/0:-1/0,optimumCorner:null}).optimumCorner},hh=function(De){var Ke=mo(180),at=[];return vl(De).forEach(function(bt,ni){if(0===ni){var Ei=bt[0];if(Ei.type===St.IDENT_TOKEN&&-1!==["top","left","right","bottom"].indexOf(Ei.value))return void(Ke=Do(bt));if(Cs(Ei))return void(Ke=(Qs_parse(Ei)+mo(270))%mo(360))}var Yi=Fu(bt);at.push(Yi)}),{angle:Ke,stops:at,type:Wa.LINEAR_GRADIENT}},Cc=function(De){return 0===De[0]&&255===De[1]&&0===De[2]&&255===De[3]},xl=function(De,Ke,at,bt,ni){var Ei="http://www.w3.org/2000/svg",Yi=document.createElementNS(Ei,"svg"),an=document.createElementNS(Ei,"foreignObject");return Yi.setAttributeNS(null,"width",De.toString()),Yi.setAttributeNS(null,"height",Ke.toString()),an.setAttributeNS(null,"width","100%"),an.setAttributeNS(null,"height","100%"),an.setAttributeNS(null,"x",at.toString()),an.setAttributeNS(null,"y",bt.toString()),an.setAttributeNS(null,"externalResourcesRequired","true"),Yi.appendChild(an),an.appendChild(ni),Yi},fs=function(De){return new Promise(function(Ke,at){var bt=new Image;bt.onload=function(){return Ke(bt)},bt.onerror=at,bt.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(De))})},Ha={get SUPPORT_RANGE_BOUNDS(){var De=function(De){if(De.createRange){var at=De.createRange();if(at.getBoundingClientRect){var bt=De.createElement("boundtest");bt.style.height="123px",bt.style.display="block",De.body.appendChild(bt),at.selectNode(bt);var ni=at.getBoundingClientRect(),Ei=Math.round(ni.height);if(De.body.removeChild(bt),123===Ei)return!0}}return!1}(document);return Object.defineProperty(Ha,"SUPPORT_RANGE_BOUNDS",{value:De}),De},get SUPPORT_SVG_DRAWING(){var De=function(De){var Ke=new Image,at=De.createElement("canvas"),bt=at.getContext("2d");if(!bt)return!1;Ke.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{bt.drawImage(Ke,0,0),at.toDataURL()}catch(ni){return!1}return!0}(document);return Object.defineProperty(Ha,"SUPPORT_SVG_DRAWING",{value:De}),De},get SUPPORT_FOREIGNOBJECT_DRAWING(){var De="function"==typeof Array.from&&"function"==typeof window.fetch?function(De){var Ke=De.createElement("canvas"),at=100;Ke.width=at,Ke.height=at;var bt=Ke.getContext("2d");if(!bt)return Promise.reject(!1);bt.fillStyle="rgb(0, 255, 0)",bt.fillRect(0,0,at,at);var ni=new Image,Ei=Ke.toDataURL();ni.src=Ei;var Yi=xl(at,at,0,0,ni);return bt.fillStyle="red",bt.fillRect(0,0,at,at),fs(Yi).then(function(an){bt.drawImage(an,0,0);var pn=bt.getImageData(0,0,at,at).data;bt.fillStyle="red",bt.fillRect(0,0,at,at);var vn=De.createElement("div");return vn.style.backgroundImage="url("+Ei+")",vn.style.height="100px",Cc(pn)?fs(xl(at,at,0,0,vn)):Promise.reject(!1)}).then(function(an){return bt.drawImage(an,0,0),Cc(bt.getImageData(0,0,at,at).data)}).catch(function(){return!1})}(document):Promise.resolve(!1);return Object.defineProperty(Ha,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:De}),De},get SUPPORT_CORS_IMAGES(){var De=void 0!==(new Image).crossOrigin;return Object.defineProperty(Ha,"SUPPORT_CORS_IMAGES",{value:De}),De},get SUPPORT_RESPONSE_TYPE(){var De="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(Ha,"SUPPORT_RESPONSE_TYPE",{value:De}),De},get SUPPORT_CORS_XHR(){var De="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ha,"SUPPORT_CORS_XHR",{value:De}),De}},uo=function(){function De(Ke){var bt=Ke.enabled;this.id=Ke.id,this.enabled=bt,this.start=Date.now()}return De.prototype.debug=function(){for(var Ke=[],at=0;at<arguments.length;at++)Ke[at]=arguments[at];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.debug?console.debug.apply(console,[this.id,this.getTime()+"ms"].concat(Ke)):this.info.apply(this,Ke))},De.prototype.getTime=function(){return Date.now()-this.start},De.create=function(Ke){De.instances[Ke.id]=new De(Ke)},De.destroy=function(Ke){delete De.instances[Ke]},De.getInstance=function(Ke){var at=De.instances[Ke];if(void 0===at)throw new Error("No logger instance found with id "+Ke);return at},De.prototype.info=function(){for(var Ke=[],at=0;at<arguments.length;at++)Ke[at]=arguments[at];this.enabled&&"undefined"!=typeof window&&window.console&&"function"==typeof console.info&&console.info.apply(console,[this.id,this.getTime()+"ms"].concat(Ke))},De.prototype.error=function(){for(var Ke=[],at=0;at<arguments.length;at++)Ke[at]=arguments[at];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.error?console.error.apply(console,[this.id,this.getTime()+"ms"].concat(Ke)):this.info.apply(this,Ke))},De.instances={},De}(),va=function(){function De(){}return De.create=function(Ke,at){return De._caches[Ke]=new Vp(Ke,at)},De.destroy=function(Ke){delete De._caches[Ke]},De.open=function(Ke){var at=De._caches[Ke];if(void 0!==at)return at;throw new Error('Cache with key "'+Ke+'" not found')},De.getOrigin=function(Ke){var at=De._link;return at?(at.href=Ke,at.href=at.href,at.protocol+at.hostname+at.port):"about:blank"},De.isSameOrigin=function(Ke){return De.getOrigin(Ke)===De._origin},De.setContext=function(Ke){De._link=Ke.document.createElement("a"),De._origin=De.getOrigin(Ke.location.href)},De.getInstance=function(){var Ke=De._current;if(null===Ke)throw new Error("No cache instance attached");return Ke},De.attachInstance=function(Ke){De._current=Ke},De.detachInstance=function(){De._current=null},De._caches={},De._origin="about:blank",De._current=null,De}(),Vp=function(){function De(Ke,at){this.id=Ke,this._options=at,this._cache={}}return De.prototype.addImage=function(Ke){var at=Promise.resolve();return this.has(Ke)||(Ul(Ke)||sl(Ke))&&(this._cache[Ke]=this.loadImage(Ke)),at},De.prototype.match=function(Ke){return this._cache[Ke]},De.prototype.loadImage=function(Ke){return J(this,void 0,void 0,function(){var at,bt,ni,Ei,Yi=this;return Te(this,function(an){switch(an.label){case 0:return at=va.isSameOrigin(Ke),bt=!Xl(Ke)&&!0===this._options.useCORS&&Ha.SUPPORT_CORS_IMAGES&&!at,ni=!Xl(Ke)&&!at&&"string"==typeof this._options.proxy&&Ha.SUPPORT_CORS_XHR&&!bt,at||!1!==this._options.allowTaint||Xl(Ke)||ni||bt?(Ei=Ke,ni?[4,this.proxy(Ei)]:[3,2]):[2];case 1:Ei=an.sent(),an.label=2;case 2:return uo.getInstance(this.id).debug("Added image "+Ke.substring(0,256)),[4,new Promise(function(pn,vn){var wn=new Image;wn.onload=function(){return pn(wn)},wn.onerror=vn,(Oa(Ei)||bt)&&(wn.crossOrigin="anonymous"),wn.src=Ei,!0===wn.complete&&setTimeout(function(){return pn(wn)},500),Yi._options.imageTimeout>0&&setTimeout(function(){return vn("Timed out ("+Yi._options.imageTimeout+"ms) loading image")},Yi._options.imageTimeout)})];case 3:return[2,an.sent()]}})})},De.prototype.has=function(Ke){return void 0!==this._cache[Ke]},De.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},De.prototype.proxy=function(Ke){var at=this,bt=this._options.proxy;if(!bt)throw new Error("No proxy defined");var ni=Ke.substring(0,256);return new Promise(function(Ei,Yi){var an=Ha.SUPPORT_RESPONSE_TYPE?"blob":"text",pn=new XMLHttpRequest;if(pn.onload=function(){if(200===pn.status)if("text"===an)Ei(pn.response);else{var wn=new FileReader;wn.addEventListener("load",function(){return Ei(wn.result)},!1),wn.addEventListener("error",function(sr){return Yi(sr)},!1),wn.readAsDataURL(pn.response)}else Yi("Failed to proxy resource "+ni+" with status code "+pn.status)},pn.onerror=Yi,pn.open("GET",bt+"?url="+encodeURIComponent(Ke)+"&responseType="+an),"text"!==an&&pn instanceof XMLHttpRequest&&(pn.responseType=an),at._options.imageTimeout){var vn=at._options.imageTimeout;pn.timeout=vn,pn.ontimeout=function(){return Yi("Timed out ("+vn+"ms) proxying "+ni)}}pn.send()})},De}(),Nc=/^data:image\/svg\+xml/i,ad=/^data:image\/.*;base64,/i,Va=/^data:image\/.*/i,sl=function(De){return Ha.SUPPORT_SVG_DRAWING||!za(De)},Xl=function(De){return Va.test(De)},Oa=function(De){return ad.test(De)},Ul=function(De){return"blob"===De.substr(0,4)},za=function(De){return"svg"===De.substr(-3).toLowerCase()||Nc.test(De)},cu="closest-side",zf="farthest-side",h1="closest-corner",zp="farthest-corner",d1="ellipse",xc="contain",fh=function(De){var Ke=ha.CIRCLE,at=Ka.FARTHEST_CORNER,bt=[],ni=[];return vl(De).forEach(function(Ei,Yi){var an=!0;if(0===Yi?an=Ei.reduce(function(vn,wn){if(rs(wn))switch(wn.value){case"center":return ni.push(Xi),!1;case"top":case"left":return ni.push(Xt),!1;case"right":case"bottom":return ni.push(Cn),!1}else if(Ks(wn)||_l(wn))return ni.push(wn),!1;return vn},an):1===Yi&&(an=Ei.reduce(function(vn,wn){if(rs(wn))switch(wn.value){case"circle":return Ke=ha.CIRCLE,!1;case d1:return Ke=ha.ELLIPSE,!1;case xc:case cu:return at=Ka.CLOSEST_SIDE,!1;case zf:return at=Ka.FARTHEST_SIDE,!1;case h1:return at=Ka.CLOSEST_CORNER,!1;case"cover":case zp:return at=Ka.FARTHEST_CORNER,!1}else if(_l(wn)||Ks(wn))return Array.isArray(at)||(at=[]),at.push(wn),!1;return vn},an)),an){var pn=Fu(Ei);bt.push(pn)}}),{size:at,shape:Ke,stops:bt,position:ni,type:Wa.RADIAL_GRADIENT}},Wa=(()=>{return(De=Wa||(Wa={}))[De.URL=0]="URL",De[De.LINEAR_GRADIENT=1]="LINEAR_GRADIENT",De[De.RADIAL_GRADIENT=2]="RADIAL_GRADIENT",Wa;var De})(),ha=(()=>{return(De=ha||(ha={}))[De.CIRCLE=0]="CIRCLE",De[De.ELLIPSE=1]="ELLIPSE",ha;var De})(),Ka=(()=>{return(De=Ka||(Ka={}))[De.CLOSEST_SIDE=0]="CLOSEST_SIDE",De[De.FARTHEST_SIDE=1]="FARTHEST_SIDE",De[De.CLOSEST_CORNER=2]="CLOSEST_CORNER",De[De.FARTHEST_CORNER=3]="FARTHEST_CORNER",Ka;var De})(),Po_parse=function(De){if(De.type===St.URL_TOKEN){var Ke={url:De.value,type:Wa.URL};return va.getInstance().addImage(De.value),Ke}if(De.type===St.FUNCTION){var at=Uc[De.name];if(void 0===at)throw new Error('Attempting to parse an unsupported image function "'+De.name+'"');return at(De.values)}throw new Error("Unsupported image type")};var Uc={"linear-gradient":function(De){var Ke=mo(180),at=[];return vl(De).forEach(function(bt,ni){if(0===ni){var Ei=bt[0];if(Ei.type===St.IDENT_TOKEN&&"to"===Ei.value)return void(Ke=Do(bt));if(Cs(Ei))return void(Ke=Qs_parse(Ei))}var Yi=Fu(bt);at.push(Yi)}),{angle:Ke,stops:at,type:Wa.LINEAR_GRADIENT}},"-moz-linear-gradient":hh,"-ms-linear-gradient":hh,"-o-linear-gradient":hh,"-webkit-linear-gradient":hh,"radial-gradient":function(De){var Ke=ha.CIRCLE,at=Ka.FARTHEST_CORNER,bt=[],ni=[];return vl(De).forEach(function(Ei,Yi){var an=!0;if(0===Yi){var pn=!1;an=Ei.reduce(function(wn,sr){if(pn)if(rs(sr))switch(sr.value){case"center":return ni.push(Xi),wn;case"top":case"left":return ni.push(Xt),wn;case"right":case"bottom":return ni.push(Cn),wn}else(Ks(sr)||_l(sr))&&ni.push(sr);else if(rs(sr))switch(sr.value){case"circle":return Ke=ha.CIRCLE,!1;case d1:return Ke=ha.ELLIPSE,!1;case"at":return pn=!0,!1;case cu:return at=Ka.CLOSEST_SIDE,!1;case"cover":case zf:return at=Ka.FARTHEST_SIDE,!1;case xc:case h1:return at=Ka.CLOSEST_CORNER,!1;case zp:return at=Ka.FARTHEST_CORNER,!1}else if(_l(sr)||Ks(sr))return Array.isArray(at)||(at=[]),at.push(sr),!1;return wn},an)}if(an){var vn=Fu(Ei);bt.push(vn)}}),{size:at,shape:Ke,stops:bt,position:ni,type:Wa.RADIAL_GRADIENT}},"-moz-radial-gradient":fh,"-ms-radial-gradient":fh,"-o-radial-gradient":fh,"-webkit-radial-gradient":fh,"-webkit-gradient":function(De){var Ke=mo(180),at=[],bt=Wa.LINEAR_GRADIENT,ni=ha.CIRCLE,Ei=Ka.FARTHEST_CORNER;return vl(De).forEach(function(an,pn){var vn=an[0];if(0===pn){if(rs(vn)&&"linear"===vn.value)return void(bt=Wa.LINEAR_GRADIENT);if(rs(vn)&&"radial"===vn.value)return void(bt=Wa.RADIAL_GRADIENT)}if(vn.type===St.FUNCTION)if("from"===vn.name){var wn=Xr_parse(vn.values[0]);at.push({stop:Xt,color:wn})}else if("to"===vn.name)wn=Xr_parse(vn.values[0]),at.push({stop:Cn,color:wn});else if("color-stop"===vn.name){var sr=vn.values.filter(ta);if(2===sr.length){wn=Xr_parse(sr[1]);var Br=sr[0];Fr(Br)&&at.push({stop:{type:St.PERCENTAGE_TOKEN,number:100*Br.number,flags:Br.flags},color:wn})}}}),bt===Wa.LINEAR_GRADIENT?{angle:(Ke+mo(180))%mo(360),stops:at,type:bt}:{size:Ei,shape:ni,stops:at,position:[],type:bt}}},Ko={name:"background-image",initialValue:"none",type:Hr.LIST,prefix:!1,parse:function(De){if(0===De.length)return[];var Ke=De[0];return Ke.type===St.IDENT_TOKEN&&"none"===Ke.value?[]:De.filter(function(at){return ta(at)&&function(De){return De.type!==St.FUNCTION||Uc[De.name]}(at)}).map(Po_parse)}},vv={name:"background-origin",initialValue:"border-box",prefix:!1,type:Hr.LIST,parse:function(De){return De.map(function(Ke){if(rs(Ke))switch(Ke.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},EA={name:"background-position",initialValue:"0% 0%",type:Hr.LIST,prefix:!1,parse:function(De){return vl(De).map(function(Ke){return Ke.filter(Ks)}).map(Zl)}},ol=(()=>{return(De=ol||(ol={}))[De.REPEAT=0]="REPEAT",De[De.NO_REPEAT=1]="NO_REPEAT",De[De.REPEAT_X=2]="REPEAT_X",De[De.REPEAT_Y=3]="REPEAT_Y",ol;var De})(),Ec={name:"background-repeat",initialValue:"repeat",prefix:!1,type:Hr.LIST,parse:function(De){return vl(De).map(function(Ke){return Ke.filter(rs).map(function(at){return at.value}).join(" ")}).map(_v)}},_v=function(De){switch(De){case"no-repeat":return ol.NO_REPEAT;case"repeat-x":case"repeat no-repeat":return ol.REPEAT_X;case"repeat-y":case"no-repeat repeat":return ol.REPEAT_Y;default:return ol.REPEAT}},hu=(()=>{return(De=hu||(hu={})).AUTO="auto",De.CONTAIN="contain",De.COVER="cover",hu;var De})(),Zd={name:"background-size",initialValue:"0",prefix:!1,type:Hr.LIST,parse:function(De){return vl(De).map(function(Ke){return Ke.filter(ql)})}},ql=function(De){return rs(De)||Ks(De)},Wp=function(De){return{name:"border-"+De+"-color",initialValue:"transparent",prefix:!1,type:Hr.TYPE_VALUE,format:"color"}},Kf=Wp("top"),bv=Wp("right"),jc=Wp("bottom"),p1=Wp("left"),du=function(De){return{name:"border-radius-"+De,initialValue:"0 0",prefix:!1,type:Hr.LIST,parse:function(Ke){return Zl(Ke.filter(Ks))}}},ss=du("top-left"),Qf=du("top-right"),f1=du("bottom-right"),Vr=du("bottom-left"),ec=(()=>{return(De=ec||(ec={}))[De.NONE=0]="NONE",De[De.SOLID=1]="SOLID",ec;var De})(),Kp=function(De){return{name:"border-"+De+"-style",initialValue:"solid",prefix:!1,type:Hr.IDENT_VALUE,parse:function(Ke){return"none"===Ke?ec.NONE:ec.SOLID}}},Av=Kp("top"),wv=Kp("right"),or=Kp("bottom"),Us=Kp("left"),zi=function(De){return{name:"border-"+De+"-width",initialValue:"0",type:Hr.VALUE,prefix:!1,parse:function(Ke){return rl(Ke)?Ke.number:0}}},ko=zi("top"),m1=zi("right"),Qp=zi("bottom"),pu=zi("left"),El={name:"color",initialValue:"transparent",prefix:!1,type:Hr.TYPE_VALUE,format:"color"},Gp={name:"display",initialValue:"inline-block",prefix:!1,type:Hr.LIST,parse:function(De){return De.filter(rs).reduce(function(Ke,at){return Ke|Cv(at.value)},0)}},Cv=function(De){switch(De){case"block":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Hc=(()=>{return(De=Hc||(Hc={}))[De.NONE=0]="NONE",De[De.LEFT=1]="LEFT",De[De.RIGHT=2]="RIGHT",De[De.INLINE_START=3]="INLINE_START",De[De.INLINE_END=4]="INLINE_END",Hc;var De})(),ld={name:"float",initialValue:"none",prefix:!1,type:Hr.IDENT_VALUE,parse:function(De){switch(De){case"left":return Hc.LEFT;case"right":return Hc.RIGHT;case"inline-start":return Hc.INLINE_START;case"inline-end":return Hc.INLINE_END}return Hc.NONE}},da={name:"letter-spacing",initialValue:"0",prefix:!1,type:Hr.VALUE,parse:function(De){return De.type===St.IDENT_TOKEN&&"normal"===De.value?0:De.type===St.NUMBER_TOKEN||De.type===St.DIMENSION_TOKEN?De.number:0}},_a=(()=>{return(De=_a||(_a={})).NORMAL="normal",De.STRICT="strict",_a;var De})(),Uu={name:"line-break",initialValue:"normal",prefix:!1,type:Hr.IDENT_VALUE,parse:function(De){return"strict"===De?_a.STRICT:_a.NORMAL}},Uo={name:"line-height",initialValue:"normal",prefix:!1,type:Hr.TOKEN_VALUE},ju={name:"list-style-image",initialValue:"none",type:Hr.VALUE,prefix:!1,parse:function(De){return De.type===St.IDENT_TOKEN&&"none"===De.value?null:Po_parse(De)}},cd=(()=>{return(De=cd||(cd={}))[De.INSIDE=0]="INSIDE",De[De.OUTSIDE=1]="OUTSIDE",cd;var De})(),Dc={name:"list-style-position",initialValue:"outside",prefix:!1,type:Hr.IDENT_VALUE,parse:function(De){return"inside"===De?cd.INSIDE:cd.OUTSIDE}},Wn=(()=>{return(De=Wn||(Wn={}))[De.NONE=-1]="NONE",De[De.DISC=0]="DISC",De[De.CIRCLE=1]="CIRCLE",De[De.SQUARE=2]="SQUARE",De[De.DECIMAL=3]="DECIMAL",De[De.CJK_DECIMAL=4]="CJK_DECIMAL",De[De.DECIMAL_LEADING_ZERO=5]="DECIMAL_LEADING_ZERO",De[De.LOWER_ROMAN=6]="LOWER_ROMAN",De[De.UPPER_ROMAN=7]="UPPER_ROMAN",De[De.LOWER_GREEK=8]="LOWER_GREEK",De[De.LOWER_ALPHA=9]="LOWER_ALPHA",De[De.UPPER_ALPHA=10]="UPPER_ALPHA",De[De.ARABIC_INDIC=11]="ARABIC_INDIC",De[De.ARMENIAN=12]="ARMENIAN",De[De.BENGALI=13]="BENGALI",De[De.CAMBODIAN=14]="CAMBODIAN",De[De.CJK_EARTHLY_BRANCH=15]="CJK_EARTHLY_BRANCH",De[De.CJK_HEAVENLY_STEM=16]="CJK_HEAVENLY_STEM",De[De.CJK_IDEOGRAPHIC=17]="CJK_IDEOGRAPHIC",De[De.DEVANAGARI=18]="DEVANAGARI",De[De.ETHIOPIC_NUMERIC=19]="ETHIOPIC_NUMERIC",De[De.GEORGIAN=20]="GEORGIAN",De[De.GUJARATI=21]="GUJARATI",De[De.GURMUKHI=22]="GURMUKHI",De[De.HEBREW=22]="HEBREW",De[De.HIRAGANA=23]="HIRAGANA",De[De.HIRAGANA_IROHA=24]="HIRAGANA_IROHA",De[De.JAPANESE_FORMAL=25]="JAPANESE_FORMAL",De[De.JAPANESE_INFORMAL=26]="JAPANESE_INFORMAL",De[De.KANNADA=27]="KANNADA",De[De.KATAKANA=28]="KATAKANA",De[De.KATAKANA_IROHA=29]="KATAKANA_IROHA",De[De.KHMER=30]="KHMER",De[De.KOREAN_HANGUL_FORMAL=31]="KOREAN_HANGUL_FORMAL",De[De.KOREAN_HANJA_FORMAL=32]="KOREAN_HANJA_FORMAL",De[De.KOREAN_HANJA_INFORMAL=33]="KOREAN_HANJA_INFORMAL",De[De.LAO=34]="LAO",De[De.LOWER_ARMENIAN=35]="LOWER_ARMENIAN",De[De.MALAYALAM=36]="MALAYALAM",De[De.MONGOLIAN=37]="MONGOLIAN",De[De.MYANMAR=38]="MYANMAR",De[De.ORIYA=39]="ORIYA",De[De.PERSIAN=40]="PERSIAN",De[De.SIMP_CHINESE_FORMAL=41]="SIMP_CHINESE_FORMAL",De[De.SIMP_CHINESE_INFORMAL=42]="SIMP_CHINESE_INFORMAL",De[De.TAMIL=43]="TAMIL",De[De.TELUGU=44]="TELUGU",De[De.THAI=45]="THAI",De[De.TIBETAN=46]="TIBETAN",De[De.TRAD_CHINESE_FORMAL=47]="TRAD_CHINESE_FORMAL",De[De.TRAD_CHINESE_INFORMAL=48]="TRAD_CHINESE_INFORMAL",De[De.UPPER_ARMENIAN=49]="UPPER_ARMENIAN",De[De.DISCLOSURE_OPEN=50]="DISCLOSURE_OPEN",De[De.DISCLOSURE_CLOSED=51]="DISCLOSURE_CLOSED",Wn;var De})(),mh={name:"list-style-type",initialValue:"none",prefix:!1,type:Hr.IDENT_VALUE,parse:function(De){switch(De){case"disc":return Wn.DISC;case"circle":return Wn.CIRCLE;case"square":return Wn.SQUARE;case"decimal":return Wn.DECIMAL;case"cjk-decimal":return Wn.CJK_DECIMAL;case"decimal-leading-zero":return Wn.DECIMAL_LEADING_ZERO;case"lower-roman":return Wn.LOWER_ROMAN;case"upper-roman":return Wn.UPPER_ROMAN;case"lower-greek":return Wn.LOWER_GREEK;case"lower-alpha":return Wn.LOWER_ALPHA;case"upper-alpha":return Wn.UPPER_ALPHA;case"arabic-indic":return Wn.ARABIC_INDIC;case"armenian":return Wn.ARMENIAN;case"bengali":return Wn.BENGALI;case"cambodian":return Wn.CAMBODIAN;case"cjk-earthly-branch":return Wn.CJK_EARTHLY_BRANCH;case"cjk-heavenly-stem":return Wn.CJK_HEAVENLY_STEM;case"cjk-ideographic":return Wn.CJK_IDEOGRAPHIC;case"devanagari":return Wn.DEVANAGARI;case"ethiopic-numeric":return Wn.ETHIOPIC_NUMERIC;case"georgian":return Wn.GEORGIAN;case"gujarati":return Wn.GUJARATI;case"gurmukhi":return Wn.GURMUKHI;case"hebrew":return Wn.HEBREW;case"hiragana":return Wn.HIRAGANA;case"hiragana-iroha":return Wn.HIRAGANA_IROHA;case"japanese-formal":return Wn.JAPANESE_FORMAL;case"japanese-informal":return Wn.JAPANESE_INFORMAL;case"kannada":return Wn.KANNADA;case"katakana":return Wn.KATAKANA;case"katakana-iroha":return Wn.KATAKANA_IROHA;case"khmer":return Wn.KHMER;case"korean-hangul-formal":return Wn.KOREAN_HANGUL_FORMAL;case"korean-hanja-formal":return Wn.KOREAN_HANJA_FORMAL;case"korean-hanja-informal":return Wn.KOREAN_HANJA_INFORMAL;case"lao":return Wn.LAO;case"lower-armenian":return Wn.LOWER_ARMENIAN;case"malayalam":return Wn.MALAYALAM;case"mongolian":return Wn.MONGOLIAN;case"myanmar":return Wn.MYANMAR;case"oriya":return Wn.ORIYA;case"persian":return Wn.PERSIAN;case"simp-chinese-formal":return Wn.SIMP_CHINESE_FORMAL;case"simp-chinese-informal":return Wn.SIMP_CHINESE_INFORMAL;case"tamil":return Wn.TAMIL;case"telugu":return Wn.TELUGU;case"thai":return Wn.THAI;case"tibetan":return Wn.TIBETAN;case"trad-chinese-formal":return Wn.TRAD_CHINESE_FORMAL;case"trad-chinese-informal":return Wn.TRAD_CHINESE_INFORMAL;case"upper-armenian":return Wn.UPPER_ARMENIAN;case"disclosure-open":return Wn.DISCLOSURE_OPEN;case"disclosure-closed":return Wn.DISCLOSURE_CLOSED;default:return Wn.NONE}}},gh=function(De){return{name:"margin-"+De,initialValue:"0",prefix:!1,type:Hr.TOKEN_VALUE}},Gf=gh("top"),tc=gh("right"),jo=gh("bottom"),g1=gh("left"),Vc=(()=>{return(De=Vc||(Vc={}))[De.VISIBLE=0]="VISIBLE",De[De.HIDDEN=1]="HIDDEN",De[De.SCROLL=2]="SCROLL",De[De.AUTO=3]="AUTO",Vc;var De})(),$f={name:"overflow",initialValue:"visible",prefix:!1,type:Hr.LIST,parse:function(De){return De.filter(rs).map(function(Ke){switch(Ke.value){case"hidden":return Vc.HIDDEN;case"scroll":return Vc.SCROLL;case"auto":return Vc.AUTO;default:return Vc.VISIBLE}})}},Hu=(()=>{return(De=Hu||(Hu={})).NORMAL="normal",De.BREAK_WORD="break-word",Hu;var De})(),ud={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:Hr.IDENT_VALUE,parse:function(De){return"break-word"===De?Hu.BREAK_WORD:Hu.NORMAL}},Jd=function(De){return{name:"padding-"+De,initialValue:"0",prefix:!1,type:Hr.TYPE_VALUE,format:"length-percentage"}},y1=Jd("top"),Zf=Jd("right"),$p=Jd("bottom"),xv=Jd("left"),Mo=(()=>{return(De=Mo||(Mo={}))[De.LEFT=0]="LEFT",De[De.CENTER=1]="CENTER",De[De.RIGHT=2]="RIGHT",Mo;var De})(),yh={name:"text-align",initialValue:"left",prefix:!1,type:Hr.IDENT_VALUE,parse:function(De){switch(De){case"right":return Mo.RIGHT;case"center":case"justify":return Mo.CENTER;default:return Mo.LEFT}}},oo=(()=>{return(De=oo||(oo={}))[De.STATIC=0]="STATIC",De[De.RELATIVE=1]="RELATIVE",De[De.ABSOLUTE=2]="ABSOLUTE",De[De.FIXED=3]="FIXED",De[De.STICKY=4]="STICKY",oo;var De})(),Ev={name:"position",initialValue:"static",prefix:!1,type:Hr.IDENT_VALUE,parse:function(De){switch(De){case"relative":return oo.RELATIVE;case"absolute":return oo.ABSOLUTE;case"fixed":return oo.FIXED;case"sticky":return oo.STICKY}return oo.STATIC}},Dv={name:"text-shadow",initialValue:"none",type:Hr.LIST,prefix:!1,parse:function(De){return 1===De.length&&ea(De[0],"none")?[]:vl(De).map(function(Ke){for(var at={color:Ds.TRANSPARENT,offsetX:Xt,offsetY:Xt,blur:Xt},bt=0,ni=0;ni<Ke.length;ni++){var Ei=Ke[ni];_l(Ei)?(0===bt?at.offsetX=Ei:1===bt?at.offsetY=Ei:at.blur=Ei,bt++):at.color=Xr_parse(Ei)}return at})}},zc=(()=>{return(De=zc||(zc={}))[De.NONE=0]="NONE",De[De.LOWERCASE=1]="LOWERCASE",De[De.UPPERCASE=2]="UPPERCASE",De[De.CAPITALIZE=3]="CAPITALIZE",zc;var De})(),Jf={name:"text-transform",initialValue:"none",prefix:!1,type:Hr.IDENT_VALUE,parse:function(De){switch(De){case"uppercase":return zc.UPPERCASE;case"lowercase":return zc.LOWERCASE;case"capitalize":return zc.CAPITALIZE}return zc.NONE}},Xf={name:"transform",initialValue:"none",prefix:!0,type:Hr.VALUE,parse:function(De){if(De.type===St.IDENT_TOKEN&&"none"===De.value)return null;if(De.type===St.FUNCTION){var Ke=Yf[De.name];if(void 0===Ke)throw new Error('Attempting to parse an unsupported transform function "'+De.name+'"');return Ke(De.values)}return null}},Yf={matrix:function(De){var Ke=De.filter(function(at){return at.type===St.NUMBER_TOKEN}).map(function(at){return at.number});return 6===Ke.length?Ke:null},matrix3d:function(De){var Ke=De.filter(function(gs){return gs.type===St.NUMBER_TOKEN}).map(function(gs){return gs.number});return 16===Ke.length?[Ke[0],Ke[1],Ke[4],Ke[5],Ke[12],Ke[13]]:null}},Xd={type:St.PERCENTAGE_TOKEN,number:50,flags:4},Im=[Xd,Xd],Om={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:Hr.LIST,parse:function(De){var Ke=De.filter(Ks);return 2!==Ke.length?Im:[Ke[0],Ke[1]]}},vh=(()=>{return(De=vh||(vh={}))[De.VISIBLE=0]="VISIBLE",De[De.HIDDEN=1]="HIDDEN",De[De.COLLAPSE=2]="COLLAPSE",vh;var De})(),Vu={name:"visible",initialValue:"none",prefix:!1,type:Hr.IDENT_VALUE,parse:function(De){switch(De){case"hidden":return vh.HIDDEN;case"collapse":return vh.COLLAPSE;default:return vh.VISIBLE}}},fu=(()=>{return(De=fu||(fu={})).NORMAL="normal",De.BREAK_ALL="break-all",De.KEEP_ALL="keep-all",fu;var De})(),Sv={name:"word-break",initialValue:"normal",prefix:!1,type:Hr.IDENT_VALUE,parse:function(De){switch(De){case"break-all":return fu.BREAK_ALL;case"keep-all":return fu.KEEP_ALL;default:return fu.NORMAL}}},Tv={name:"z-index",initialValue:"auto",prefix:!1,type:Hr.VALUE,parse:function(De){if(De.type===St.IDENT_TOKEN)return{auto:!0,order:0};if(Fr(De))return{auto:!1,order:De.number};throw new Error("Invalid z-index number parsed")}},Jp={name:"opacity",initialValue:"1",type:Hr.VALUE,prefix:!1,parse:function(De){return Fr(De)?De.number:1}},_h={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:Hr.TYPE_VALUE,format:"color"},v1={name:"text-decoration-line",initialValue:"none",prefix:!1,type:Hr.LIST,parse:function(De){return De.filter(rs).map(function(Ke){switch(Ke.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(Ke){return 0!==Ke})}},Iv={name:"font-family",initialValue:"",prefix:!1,type:Hr.LIST,parse:function(De){return De.filter(DA).map(function(Ke){return Ke.value})}},DA=function(De){return De.type===St.STRING_TOKEN||De.type===St.IDENT_TOKEN},MA={name:"font-size",initialValue:"0",prefix:!1,type:Hr.TYPE_VALUE,format:"length"},qf={name:"font-weight",initialValue:"normal",type:Hr.VALUE,prefix:!1,parse:function(De){return Fr(De)?De.number:rs(De)&&"bold"===De.value?700:400}},Pm={name:"font-variant",initialValue:"none",type:Hr.LIST,prefix:!1,parse:function(De){return De.filter(rs).map(function(Ke){return Ke.value})}},bh=(()=>{return(De=bh||(bh={})).NORMAL="normal",De.ITALIC="italic",De.OBLIQUE="oblique",bh;var De})(),e0={name:"font-style",initialValue:"normal",prefix:!1,type:Hr.IDENT_VALUE,parse:function(De){switch(De){case"oblique":return bh.OBLIQUE;case"italic":return bh.ITALIC;default:return bh.NORMAL}}},Pa=function(De,Ke){return 0!=(De&Ke)},_1={name:"content",initialValue:"none",type:Hr.LIST,prefix:!1,parse:function(De){if(0===De.length)return[];var Ke=De[0];return Ke.type===St.IDENT_TOKEN&&"none"===Ke.value?[]:De}},Yd={name:"counter-increment",initialValue:"none",prefix:!0,type:Hr.LIST,parse:function(De){if(0===De.length)return null;var Ke=De[0];if(Ke.type===St.IDENT_TOKEN&&"none"===Ke.value)return null;for(var at=[],bt=De.filter(au),ni=0;ni<bt.length;ni++){var Ei=bt[ni],Yi=bt[ni+1];if(Ei.type===St.IDENT_TOKEN){var an=Yi&&Fr(Yi)?Yi.number:1;at.push({counter:Ei.value,increment:an})}}return at}},Ov={name:"counter-reset",initialValue:"none",prefix:!0,type:Hr.LIST,parse:function(De){if(0===De.length)return[];for(var Ke=[],at=De.filter(au),bt=0;bt<at.length;bt++){var ni=at[bt],Ei=at[bt+1];if(rs(ni)&&"none"!==ni.value){var Yi=Ei&&Fr(Ei)?Ei.number:0;Ke.push({counter:ni.value,reset:Yi})}}return Ke}},qd={name:"quotes",initialValue:"none",prefix:!0,type:Hr.LIST,parse:function(De){if(0===De.length)return null;var Ke=De[0];if(Ke.type===St.IDENT_TOKEN&&"none"===Ke.value)return null;var at=[],bt=De.filter(ca);if(bt.length%2!=0)return null;for(var ni=0;ni<bt.length;ni+=2)at.push({open:bt[ni].value,close:bt[ni+1].value});return at}},t0=function(De,Ke,at){if(!De)return"";var bt=De[Math.min(Ke,De.length-1)];return bt?at?bt.open:bt.close:""},n0={name:"box-shadow",initialValue:"none",type:Hr.LIST,prefix:!1,parse:function(De){return 1===De.length&&ea(De[0],"none")?[]:vl(De).map(function(Ke){for(var at={color:255,offsetX:Xt,offsetY:Xt,blur:Xt,spread:Xt,inset:!1},bt=0,ni=0;ni<Ke.length;ni++){var Ei=Ke[ni];ea(Ei,"inset")?at.inset=!0:_l(Ei)?(0===bt?at.offsetX=Ei:1===bt?at.offsetY=Ei:2===bt?at.blur=Ei:at.spread=Ei,bt++):at.color=Xr_parse(Ei)}return at})}},SA=function(){function De(Ke){this.backgroundClip=Nr(bl,Ke.backgroundClip),this.backgroundColor=Nr(Al,Ke.backgroundColor),this.backgroundImage=Nr(Ko,Ke.backgroundImage),this.backgroundOrigin=Nr(vv,Ke.backgroundOrigin),this.backgroundPosition=Nr(EA,Ke.backgroundPosition),this.backgroundRepeat=Nr(Ec,Ke.backgroundRepeat),this.backgroundSize=Nr(Zd,Ke.backgroundSize),this.borderTopColor=Nr(Kf,Ke.borderTopColor),this.borderRightColor=Nr(bv,Ke.borderRightColor),this.borderBottomColor=Nr(jc,Ke.borderBottomColor),this.borderLeftColor=Nr(p1,Ke.borderLeftColor),this.borderTopLeftRadius=Nr(ss,Ke.borderTopLeftRadius),this.borderTopRightRadius=Nr(Qf,Ke.borderTopRightRadius),this.borderBottomRightRadius=Nr(f1,Ke.borderBottomRightRadius),this.borderBottomLeftRadius=Nr(Vr,Ke.borderBottomLeftRadius),this.borderTopStyle=Nr(Av,Ke.borderTopStyle),this.borderRightStyle=Nr(wv,Ke.borderRightStyle),this.borderBottomStyle=Nr(or,Ke.borderBottomStyle),this.borderLeftStyle=Nr(Us,Ke.borderLeftStyle),this.borderTopWidth=Nr(ko,Ke.borderTopWidth),this.borderRightWidth=Nr(m1,Ke.borderRightWidth),this.borderBottomWidth=Nr(Qp,Ke.borderBottomWidth),this.borderLeftWidth=Nr(pu,Ke.borderLeftWidth),this.boxShadow=Nr(n0,Ke.boxShadow),this.color=Nr(El,Ke.color),this.display=Nr(Gp,Ke.display),this.float=Nr(ld,Ke.cssFloat),this.fontFamily=Nr(Iv,Ke.fontFamily),this.fontSize=Nr(MA,Ke.fontSize),this.fontStyle=Nr(e0,Ke.fontStyle),this.fontVariant=Nr(Pm,Ke.fontVariant),this.fontWeight=Nr(qf,Ke.fontWeight),this.letterSpacing=Nr(da,Ke.letterSpacing),this.lineBreak=Nr(Uu,Ke.lineBreak),this.lineHeight=Nr(Uo,Ke.lineHeight),this.listStyleImage=Nr(ju,Ke.listStyleImage),this.listStylePosition=Nr(Dc,Ke.listStylePosition),this.listStyleType=Nr(mh,Ke.listStyleType),this.marginTop=Nr(Gf,Ke.marginTop),this.marginRight=Nr(tc,Ke.marginRight),this.marginBottom=Nr(jo,Ke.marginBottom),this.marginLeft=Nr(g1,Ke.marginLeft),this.opacity=Nr(Jp,Ke.opacity);var at=Nr($f,Ke.overflow);this.overflowX=at[0],this.overflowY=at[at.length>1?1:0],this.overflowWrap=Nr(ud,Ke.overflowWrap),this.paddingTop=Nr(y1,Ke.paddingTop),this.paddingRight=Nr(Zf,Ke.paddingRight),this.paddingBottom=Nr($p,Ke.paddingBottom),this.paddingLeft=Nr(xv,Ke.paddingLeft),this.position=Nr(Ev,Ke.position),this.textAlign=Nr(yh,Ke.textAlign),this.textDecorationColor=Nr(_h,Ke.textDecorationColor||Ke.color),this.textDecorationLine=Nr(v1,Ke.textDecorationLine),this.textShadow=Nr(Dv,Ke.textShadow),this.textTransform=Nr(Jf,Ke.textTransform),this.transform=Nr(Xf,Ke.transform),this.transformOrigin=Nr(Om,Ke.transformOrigin),this.visibility=Nr(Vu,Ke.visibility),this.wordBreak=Nr(Sv,Ke.wordBreak),this.zIndex=Nr(Tv,Ke.zIndex)}return De.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===vh.VISIBLE},De.prototype.isTransparent=function(){return Ta(this.backgroundColor)},De.prototype.isTransformed=function(){return null!==this.transform},De.prototype.isPositioned=function(){return this.position!==oo.STATIC},De.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},De.prototype.isFloating=function(){return this.float!==Hc.NONE},De.prototype.isInlineLevel=function(){return Pa(this.display,4)||Pa(this.display,33554432)||Pa(this.display,268435456)||Pa(this.display,536870912)||Pa(this.display,67108864)||Pa(this.display,134217728)},De}(),km=function(Ke){this.content=Nr(_1,Ke.content),this.quotes=Nr(qd,Ke.quotes)},Lm=function(Ke){this.counterIncrement=Nr(Yd,Ke.counterIncrement),this.counterReset=Nr(Ov,Ke.counterReset)},Nr=function(De,Ke){var at=new Rr,bt=null!=Ke?Ke.toString():De.initialValue;at.write(bt);var ni=new Bs(at.read());switch(De.type){case Hr.IDENT_VALUE:var Ei=ni.parseComponentValue();return De.parse(rs(Ei)?Ei.value:De.initialValue);case Hr.VALUE:return De.parse(ni.parseComponentValue());case Hr.LIST:return De.parse(ni.parseComponentValues());case Hr.TOKEN_VALUE:return ni.parseComponentValue();case Hr.TYPE_VALUE:switch(De.format){case"angle":return Qs_parse(ni.parseComponentValue());case"color":return Xr_parse(ni.parseComponentValue());case"image":return Po_parse(ni.parseComponentValue());case"length":var Yi=ni.parseComponentValue();return _l(Yi)?Yi:Xt;case"length-percentage":var an=ni.parseComponentValue();return Ks(an)?an:Xt}}throw new Error("Attempting to parse unsupported css format type "+De.format)},mu=function(Ke){this.styles=new SA(window.getComputedStyle(Ke,null)),this.textNodes=[],this.elements=[],null!==this.styles.transform&&Nv(Ke)&&(Ke.style.transform="none"),this.bounds=Ce(Ke),this.flags=0},Ah=function(Ke,at){this.text=Ke,this.bounds=at},r0=function(De){var Ke=De.ownerDocument;if(Ke){var at=Ke.createElement("html2canvaswrapper");at.appendChild(De.cloneNode(!0));var bt=De.parentNode;if(bt){bt.replaceChild(at,De);var ni=Ce(at);return at.firstChild&&bt.replaceChild(at.firstChild,at),ni}}return new Me(0,0,0,0)},Xp=function(De,Ke,at){var bt=De.ownerDocument;if(!bt)throw new Error("Node has no owner document");var ni=bt.createRange();return ni.setStart(De,Ke),ni.setEnd(De,Ke+at),Me.fromClientRect(ni.getBoundingClientRect())},s0=function(De,Ke){return 0!==Ke.letterSpacing?ye(De).map(function(at){return he(at)}):Pv(De,Ke)},Pv=function(De,Ke){for(var ni,at=function(De,Ke){var at=ye(De),bt=mt(at,Ke),ni=bt[0],Ei=bt[1],Yi=bt[2],an=at.length,pn=0,vn=0;return{next:function(){if(vn>=an)return{done:!0,value:null};for(var wn=W;vn<an&&(wn=ht(at,Ei,ni,++vn,Yi))===W;);if(wn!==W||vn===an){var sr=new yt(at,wn,pn,vn);return pn=vn,{value:sr,done:!1}}return{done:!0,value:null}}}}(De,{lineBreak:Ke.lineBreak,wordBreak:Ke.overflowWrap===Hu.BREAK_WORD?"break-word":Ke.wordBreak}),bt=[];!(ni=at.next()).done;)ni.value&&bt.push(ni.value.slice());return bt},b1=function(Ke,at){this.text=A1(Ke.data,at.textTransform),this.textBounds=function(De,Ke,at){var bt=s0(De,Ke),ni=[],Ei=0;return bt.forEach(function(Yi){if(Ke.textDecorationLine.length||Yi.trim().length>0)if(Ha.SUPPORT_RANGE_BOUNDS)ni.push(new Ah(Yi,Xp(at,Ei,Yi.length)));else{var an=at.splitText(Yi.length);ni.push(new Ah(Yi,r0(at))),at=an}else Ha.SUPPORT_RANGE_BOUNDS||(at=at.splitText(Yi.length));Ei+=Yi.length}),ni}(this.text,at,Ke)},A1=function(De,Ke){switch(Ke){case zc.LOWERCASE:return De.toLowerCase();case zc.CAPITALIZE:return De.replace(Rm,Fm);case zc.UPPERCASE:return De.toUpperCase();default:return De}},Rm=/(^|\s|:|-|\(|\))([a-z])/g,Fm=function(De,Ke,at){return De.length>0?Ke+at.toUpperCase():De},w1=function(De){function Ke(at){var bt=De.call(this,at)||this;return bt.src=at.currentSrc||at.src,bt.intrinsicWidth=at.naturalWidth,bt.intrinsicHeight=at.naturalHeight,va.getInstance().addImage(bt.src),bt}return N(Ke,De),Ke}(mu),Nm=function(De){function Ke(at){var bt=De.call(this,at)||this;return bt.canvas=at,bt.intrinsicWidth=at.width,bt.intrinsicHeight=at.height,bt}return N(Ke,De),Ke}(mu),Yp=function(De){function Ke(at){var bt=De.call(this,at)||this,ni=new XMLSerializer;return bt.svg="data:image/svg+xml,"+encodeURIComponent(ni.serializeToString(at)),bt.intrinsicWidth=at.width.baseVal.value,bt.intrinsicHeight=at.height.baseVal.value,va.getInstance().addImage(bt.svg),bt}return N(Ke,De),Ke}(mu),ep=function(De){function Ke(at){var bt=De.call(this,at)||this;return bt.value=at.value,bt}return N(Ke,De),Ke}(mu),Um=function(De){function Ke(at){var bt=De.call(this,at)||this;return bt.start=at.start,bt.reversed="boolean"==typeof at.reversed&&!0===at.reversed,bt}return N(Ke,De),Ke}(mu),C1=[{type:St.DIMENSION_TOKEN,flags:0,unit:"px",number:3}],x1=[{type:St.PERCENTAGE_TOKEN,flags:0,number:50}],ip="checkbox",np="radio",rp="password",hd=707406591,wh=function(De){function Ke(at){var bt=De.call(this,at)||this;switch(bt.type=at.type.toLowerCase(),bt.checked=at.checked,bt.value=function(De){var Ke=De.type===rp?new Array(De.value.length+1).join("\u2022"):De.value;return 0===Ke.length?De.placeholder||"":Ke}(at),(bt.type===ip||bt.type===np)&&(bt.styles.backgroundColor=3739148031,bt.styles.borderTopColor=bt.styles.borderRightColor=bt.styles.borderBottomColor=bt.styles.borderLeftColor=2779096575,bt.styles.borderTopWidth=bt.styles.borderRightWidth=bt.styles.borderBottomWidth=bt.styles.borderLeftWidth=1,bt.styles.borderTopStyle=bt.styles.borderRightStyle=bt.styles.borderBottomStyle=bt.styles.borderLeftStyle=ec.SOLID,bt.styles.backgroundClip=[ua.BORDER_BOX],bt.styles.backgroundOrigin=[0],bt.bounds=function(De){return De.width>De.height?new Me(De.left+(De.width-De.height)/2,De.top,De.height,De.height):De.width<De.height?new Me(De.left,De.top+(De.height-De.width)/2,De.width,De.width):De}(bt.bounds)),bt.type){case ip:bt.styles.borderTopRightRadius=bt.styles.borderTopLeftRadius=bt.styles.borderBottomRightRadius=bt.styles.borderBottomLeftRadius=C1;break;case np:bt.styles.borderTopRightRadius=bt.styles.borderTopLeftRadius=bt.styles.borderBottomRightRadius=bt.styles.borderBottomLeftRadius=x1}return bt}return N(Ke,De),Ke}(mu),jm=function(De){function Ke(at){var bt=De.call(this,at)||this,ni=at.options[at.selectedIndex||0];return bt.value=ni&&ni.text||"",bt}return N(Ke,De),Ke}(mu),o0=function(De){function Ke(at){var bt=De.call(this,at)||this;return bt.value=at.value,bt}return N(Ke,De),Ke}(mu),dd=function(De){return Xr_parse(Bs.create(De).parseComponentValue())},kv=function(De){function Ke(at){var bt=De.call(this,at)||this;bt.src=at.src,bt.width=parseInt(at.width,10)||0,bt.height=parseInt(at.height,10)||0,bt.backgroundColor=bt.styles.backgroundColor;try{if(at.contentWindow&&at.contentWindow.document&&at.contentWindow.document.documentElement){bt.tree=Rv(at.contentWindow.document.documentElement);var ni=at.contentWindow.document.documentElement?dd(getComputedStyle(at.contentWindow.document.documentElement).backgroundColor):Ds.TRANSPARENT,Ei=at.contentWindow.document.body?dd(getComputedStyle(at.contentWindow.document.body).backgroundColor):Ds.TRANSPARENT;bt.backgroundColor=Ta(ni)?Ta(Ei)?bt.styles.backgroundColor:Ei:ni}}catch(Yi){}return bt}return N(Ke,De),Ke}(mu),Lv=["OL","UL","MENU"],ms=function(De,Ke,at){for(var bt=De.firstChild,ni=void 0;bt;bt=ni)if(ni=bt.nextSibling,Fv(bt)&&bt.data.trim().length>0)Ke.textNodes.push(new b1(bt,Ke.styles));else if(E1(bt)){var Ei=Bv(bt);Ei.styles.isVisible()&&(TA(bt,Ei,at)?Ei.flags|=4:IA(Ei.styles)&&(Ei.flags|=2),-1!==Lv.indexOf(bt.tagName)&&(Ei.flags|=8),Ke.elements.push(Ei),!Ch(bt)&&!pd(bt)&&!ef(bt)&&ms(bt,Ei,at))}},Bv=function(De){return jl(De)?new w1(De):D1(De)?new Nm(De):pd(De)?new Yp(De):qp(De)?new ep(De):Bo(De)?new Um(De):ba(De)?new wh(De):ef(De)?new jm(De):Ch(De)?new o0(De):Mc(De)?new kv(De):new mu(De)},Rv=function(De){var Ke=Bv(De);return Ke.flags|=4,ms(De,Ke,Ke),Ke},TA=function(De,Ke,at){return Ke.styles.isPositionedWithZIndex()||Ke.styles.opacity<1||Ke.styles.isTransformed()||sp(De)&&at.styles.isTransparent()},IA=function(De){return De.isPositioned()||De.isFloating()},Fv=function(De){return De.nodeType===Node.TEXT_NODE},E1=function(De){return De.nodeType===Node.ELEMENT_NODE},Nv=function(De){return void 0!==De.style},qp=function(De){return"LI"===De.tagName},Bo=function(De){return"OL"===De.tagName},ba=function(De){return"INPUT"===De.tagName},pd=function(De){return"svg"===De.tagName},sp=function(De){return"BODY"===De.tagName},D1=function(De){return"CANVAS"===De.tagName},jl=function(De){return"IMG"===De.tagName},Mc=function(De){return"IFRAME"===De.tagName},a0=function(De){return"STYLE"===De.tagName},l0=function(De){return"SCRIPT"===De.tagName},Ch=function(De){return"TEXTAREA"===De.tagName},ef=function(De){return"SELECT"===De.tagName},Uv=function(){function De(){this.counters={}}return De.prototype.getCounterValue=function(Ke){var at=this.counters[Ke];return at&&at.length?at[at.length-1]:1},De.prototype.getCounterValues=function(Ke){return this.counters[Ke]||[]},De.prototype.pop=function(Ke){var at=this;Ke.forEach(function(bt){return at.counters[bt].pop()})},De.prototype.parse=function(Ke){var at=this,bt=Ke.counterIncrement,ni=Ke.counterReset,Ei=!0;null!==bt&&bt.forEach(function(an){var pn=at.counters[an.counter];pn&&0!==an.increment&&(Ei=!1,pn[Math.max(0,pn.length-1)]+=an.increment)});var Yi=[];return Ei&&ni.forEach(function(an){var pn=at.counters[an.counter];Yi.push(an.counter),pn||(pn=at.counters[an.counter]=[]),pn.push(an.reset)}),Yi},De}(),M1={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},jv={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},OA={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},S1={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},ka=function(De,Ke,at,bt,ni,Ei){return De<Ke||De>at?nf(De,ni,Ei.length>0):bt.integers.reduce(function(Yi,an,pn){for(;De>=an;)De-=an,Yi+=bt.values[pn];return Yi},"")+Ei},c0=function(De,Ke,at,bt){var ni="";do{at||De--,ni=bt(De)+ni,De/=Ke}while(De*Ke>=Ke);return ni},xo=function(De,Ke,at,bt,ni){var Ei=at-Ke+1;return(De<0?"-":"")+(c0(Math.abs(De),Ei,bt,function(Yi){return he(Math.floor(Yi%Ei)+Ke)})+ni)},op=function(De,Ke,at){void 0===at&&(at=". ");var bt=Ke.length;return c0(Math.abs(De),bt,!1,function(ni){return Ke[Math.floor(ni%bt)]})+at},Hl=function(De,Ke,at,bt,ni,Ei){if(De<-9999||De>9999)return nf(De,Wn.CJK_DECIMAL,ni.length>0);var Yi=Math.abs(De),an=ni;if(0===Yi)return Ke[0]+an;for(var pn=0;Yi>0&&pn<=4;pn++){var vn=Yi%10;0===vn&&Pa(Ei,1)&&""!==an?an=Ke[vn]+an:vn>1||1===vn&&0===pn||1===vn&&1===pn&&Pa(Ei,2)||1===vn&&1===pn&&Pa(Ei,4)&&De>100||1===vn&&pn>1&&Pa(Ei,8)?an=Ke[vn]+(pn>0?at[pn-1]:"")+an:1===vn&&pn>0&&(an=at[pn-1]+an),Yi=Math.floor(Yi/10)}return(De<0?bt:"")+an},ap="\ub9c8\uc774\ub108\uc2a4",nf=function(De,Ke,at){var bt=at?". ":"",ni=at?"\u3001":"",Ei=at?", ":"",Yi=at?" ":"";switch(Ke){case Wn.DISC:return"\u2022"+Yi;case Wn.CIRCLE:return"\u25e6"+Yi;case Wn.SQUARE:return"\u25fe"+Yi;case Wn.DECIMAL_LEADING_ZERO:var an=xo(De,48,57,!0,bt);return an.length<4?"0"+an:an;case Wn.CJK_DECIMAL:return op(De,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",ni);case Wn.LOWER_ROMAN:return ka(De,1,3999,M1,Wn.DECIMAL,bt).toLowerCase();case Wn.UPPER_ROMAN:return ka(De,1,3999,M1,Wn.DECIMAL,bt);case Wn.LOWER_GREEK:return xo(De,945,969,!1,bt);case Wn.LOWER_ALPHA:return xo(De,97,122,!1,bt);case Wn.UPPER_ALPHA:return xo(De,65,90,!1,bt);case Wn.ARABIC_INDIC:return xo(De,1632,1641,!0,bt);case Wn.ARMENIAN:case Wn.UPPER_ARMENIAN:return ka(De,1,9999,jv,Wn.DECIMAL,bt);case Wn.LOWER_ARMENIAN:return ka(De,1,9999,jv,Wn.DECIMAL,bt).toLowerCase();case Wn.BENGALI:return xo(De,2534,2543,!0,bt);case Wn.CAMBODIAN:case Wn.KHMER:return xo(De,6112,6121,!0,bt);case Wn.CJK_EARTHLY_BRANCH:return op(De,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",ni);case Wn.CJK_HEAVENLY_STEM:return op(De,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",ni);case Wn.CJK_IDEOGRAPHIC:case Wn.TRAD_CHINESE_INFORMAL:return Hl(De,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8ca0",ni,14);case Wn.TRAD_CHINESE_FORMAL:return Hl(De,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8ca0",ni,15);case Wn.SIMP_CHINESE_INFORMAL:return Hl(De,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8d1f",ni,14);case Wn.SIMP_CHINESE_FORMAL:return Hl(De,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8d1f",ni,15);case Wn.JAPANESE_INFORMAL:return Hl(De,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",ni,0);case Wn.JAPANESE_FORMAL:return Hl(De,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",ni,7);case Wn.KOREAN_HANGUL_FORMAL:return Hl(De,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",ap,Ei,7);case Wn.KOREAN_HANJA_INFORMAL:return Hl(De,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",ap,Ei,0);case Wn.KOREAN_HANJA_FORMAL:return Hl(De,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",ap,Ei,7);case Wn.DEVANAGARI:return xo(De,2406,2415,!0,bt);case Wn.GEORGIAN:return ka(De,1,19999,S1,Wn.DECIMAL,bt);case Wn.GUJARATI:return xo(De,2790,2799,!0,bt);case Wn.GURMUKHI:return xo(De,2662,2671,!0,bt);case Wn.HEBREW:return ka(De,1,10999,OA,Wn.DECIMAL,bt);case Wn.HIRAGANA:return op(De,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case Wn.HIRAGANA_IROHA:return op(De,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case Wn.KANNADA:return xo(De,3302,3311,!0,bt);case Wn.KATAKANA:return op(De,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",ni);case Wn.KATAKANA_IROHA:return op(De,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",ni);case Wn.LAO:return xo(De,3792,3801,!0,bt);case Wn.MONGOLIAN:return xo(De,6160,6169,!0,bt);case Wn.MYANMAR:return xo(De,4160,4169,!0,bt);case Wn.ORIYA:return xo(De,2918,2927,!0,bt);case Wn.PERSIAN:return xo(De,1776,1785,!0,bt);case Wn.TAMIL:return xo(De,3046,3055,!0,bt);case Wn.TELUGU:return xo(De,3174,3183,!0,bt);case Wn.THAI:return xo(De,3664,3673,!0,bt);case Wn.TIBETAN:return xo(De,3872,3881,!0,bt);default:return xo(De,48,57,!0,bt)}},lp="data-html2canvas-ignore",d0=function(){function De(Ke,at){if(this.options=at,this.scrolledElements=[],this.referenceElement=Ke,this.counters=new Uv,this.quoteDepth=0,!Ke.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(Ke.ownerDocument.documentElement)}return De.prototype.toIFrame=function(Ke,at){var bt=this,ni=Hv(Ke,at);if(!ni.contentWindow)return Promise.reject("Unable to find iframe window");var Ei=Ke.defaultView.pageXOffset,Yi=Ke.defaultView.pageYOffset,an=ni.contentWindow,pn=an.document,vn=Vv(ni).then(function(){return J(bt,void 0,void 0,function(){var wn;return Te(this,function(sr){switch(sr.label){case 0:return this.scrolledElements.forEach(fd),an&&(an.scrollTo(at.left,at.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(an.scrollY!==at.top||an.scrollX!==at.left)&&(pn.documentElement.style.top=-at.top+"px",pn.documentElement.style.left=-at.left+"px",pn.documentElement.style.position="absolute")),wn=this.options.onclone,void 0===this.clonedReferenceElement?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:pn.fonts&&pn.fonts.ready?[4,pn.fonts.ready]:[3,2];case 1:sr.sent(),sr.label=2;case 2:return"function"==typeof wn?[2,Promise.resolve().then(function(){return wn(pn)}).then(function(){return ni})]:[2,ni]}})})});return pn.open(),pn.write(I1(document.doctype)+"<html></html>"),zv(this.referenceElement.ownerDocument,Ei,Yi),pn.replaceChild(pn.adoptNode(this.documentElement),pn.documentElement),pn.close(),vn},De.prototype.createElementClone=function(Ke){return D1(Ke)?this.createCanvasClone(Ke):a0(Ke)?this.createStyleClone(Ke):Ke.cloneNode(!1)},De.prototype.createStyleClone=function(Ke){try{var at=Ke.sheet;if(at&&at.cssRules){var bt=[].slice.call(at.cssRules,0).reduce(function(Ei,Yi){return Yi&&"string"==typeof Yi.cssText?Ei+Yi.cssText:Ei},""),ni=Ke.cloneNode(!1);return ni.textContent=bt,ni}}catch(Ei){if(uo.getInstance(this.options.id).error("Unable to access cssRules property",Ei),"SecurityError"!==Ei.name)throw Ei}return Ke.cloneNode(!1)},De.prototype.createCanvasClone=function(Ke){if(this.options.inlineImages&&Ke.ownerDocument){var at=Ke.ownerDocument.createElement("img");try{return at.src=Ke.toDataURL(),at}catch(Yi){uo.getInstance(this.options.id).info("Unable to clone canvas contents, canvas is tainted")}}var bt=Ke.cloneNode(!1);try{bt.width=Ke.width,bt.height=Ke.height;var ni=Ke.getContext("2d"),Ei=bt.getContext("2d");return Ei&&(ni?Ei.putImageData(ni.getImageData(0,0,Ke.width,Ke.height),0,0):Ei.drawImage(Ke,0,0)),bt}catch(Yi){}return bt},De.prototype.cloneNode=function(Ke){if(Fv(Ke))return document.createTextNode(Ke.data);if(!Ke.ownerDocument)return Ke.cloneNode(!1);var at=Ke.ownerDocument.defaultView;if(Nv(Ke)&&at){var bt=this.createElementClone(Ke),ni=at.getComputedStyle(Ke),Ei=at.getComputedStyle(Ke,":before"),Yi=at.getComputedStyle(Ke,":after");this.referenceElement===Ke&&(this.clonedReferenceElement=bt),sp(bt)&&zm(bt);for(var an=this.counters.parse(new Lm(ni)),pn=this.resolvePseudoContent(Ke,bt,Ei,gu.BEFORE),vn=Ke.firstChild;vn;vn=vn.nextSibling)(!E1(vn)||!l0(vn)&&!vn.hasAttribute(lp)&&("function"!=typeof this.options.ignoreElements||!this.options.ignoreElements(vn)))&&(!this.options.copyStyles||!E1(vn)||!a0(vn))&&bt.appendChild(this.cloneNode(vn));pn&&bt.insertBefore(pn,bt.firstChild);var wn=this.resolvePseudoContent(Ke,bt,Yi,gu.AFTER);return wn&&bt.appendChild(wn),this.counters.pop(an),ni&&this.options.copyStyles&&!Mc(Ke)&&p0(ni,bt),(0!==Ke.scrollTop||0!==Ke.scrollLeft)&&this.scrolledElements.push([bt,Ke.scrollLeft,Ke.scrollTop]),(Ch(Ke)||ef(Ke))&&(Ch(bt)||ef(bt))&&(bt.value=Ke.value),bt}return Ke.cloneNode(!1)},De.prototype.resolvePseudoContent=function(Ke,at,bt,ni){var Ei=this;if(bt){var Yi=bt.content,an=at.ownerDocument;if(an&&Yi&&"none"!==Yi&&"-moz-alt-content"!==Yi&&"none"!==bt.display){this.counters.parse(new Lm(bt));var pn=new km(bt),vn=an.createElement("html2canvaspseudoelement");return p0(bt,vn),pn.content.forEach(function(wn){if(wn.type===St.STRING_TOKEN)vn.appendChild(an.createTextNode(wn.value));else if(wn.type===St.URL_TOKEN){var sr=an.createElement("img");sr.src=wn.value,sr.style.opacity="1",vn.appendChild(sr)}else if(wn.type===St.FUNCTION){if("attr"===wn.name){var Br=wn.values.filter(rs);Br.length&&vn.appendChild(an.createTextNode(Ke.getAttribute(Br[0].value)||""))}else if("counter"===wn.name){var yr=wn.values.filter(ta),Zr=yr[1];if((wr=yr[0])&&rs(wr)){var js=Ei.counters.getCounterValue(wr.value),Ur=Zr&&rs(Zr)?mh.parse(Zr.value):Wn.DECIMAL;vn.appendChild(an.createTextNode(nf(js,Ur,!1)))}}else if("counters"===wn.name){var wr,gs=wn.values.filter(ta),ho=gs[1];if(Zr=gs[2],(wr=gs[0])&&rs(wr)){var cs=Ei.counters.getCounterValues(wr.value),Qa=Zr&&rs(Zr)?mh.parse(Zr.value):Wn.DECIMAL,Ro=ho&&ho.type===St.STRING_TOKEN?ho.value:"",cl=cs.map(function(La){return nf(La,Qa,!1)}).join(Ro);vn.appendChild(an.createTextNode(cl))}}}else if(wn.type===St.IDENT_TOKEN)switch(wn.value){case"open-quote":vn.appendChild(an.createTextNode(t0(pn.quotes,Ei.quoteDepth++,!0)));break;case"close-quote":vn.appendChild(an.createTextNode(t0(pn.quotes,--Ei.quoteDepth,!1)));break;default:vn.appendChild(an.createTextNode(wn.value))}}),vn.className=xr+" "+f0,at.className+=ni===gu.BEFORE?" "+xr:" "+f0,vn}}},De.destroy=function(Ke){return!!Ke.parentNode&&(Ke.parentNode.removeChild(Ke),!0)},De}(),gu=(()=>{return(De=gu||(gu={}))[De.BEFORE=0]="BEFORE",De[De.AFTER=1]="AFTER",gu;var De})(),Hv=function(De,Ke){var at=De.createElement("iframe");return at.className="html2canvas-container",at.style.visibility="hidden",at.style.position="fixed",at.style.left="-10000px",at.style.top="0px",at.style.border="0",at.width=Ke.width.toString(),at.height=Ke.height.toString(),at.scrolling="no",at.setAttribute(lp,"true"),De.body.appendChild(at),at},Vv=function(De){return new Promise(function(Ke,at){var bt=De.contentWindow;if(!bt)return at("No window assigned for iframe");var ni=bt.document;bt.onload=De.onload=ni.onreadystatechange=function(){bt.onload=De.onload=ni.onreadystatechange=null;var Ei=setInterval(function(){ni.body.childNodes.length>0&&"complete"===ni.readyState&&(clearInterval(Ei),Ke(De))},50)}})},p0=function(De,Ke){for(var at=De.length-1;at>=0;at--){var bt=De.item(at);"content"!==bt&&Ke.style.setProperty(bt,De.getPropertyValue(bt))}return Ke},I1=function(De){var Ke="";return De&&(Ke+="<!DOCTYPE ",De.name&&(Ke+=De.name),De.internalSubset&&(Ke+=De.internalSubset),De.publicId&&(Ke+='"'+De.publicId+'"'),De.systemId&&(Ke+='"'+De.systemId+'"'),Ke+=">"),Ke},zv=function(De,Ke,at){De&&De.defaultView&&(Ke!==De.defaultView.pageXOffset||at!==De.defaultView.pageYOffset)&&De.defaultView.scrollTo(Ke,at)},fd=function(De){var Ke=De[0],bt=De[2];Ke.scrollLeft=De[1],Ke.scrollTop=bt},xr="___html2canvas___pseudoelement_before",f0="___html2canvas___pseudoelement_after",Vm='{\n    content: "" !important;\n    display: none !important;\n}',zm=function(De){rf(De,"."+xr+":before"+Vm+"\n         ."+f0+":after"+Vm)},rf=function(De,Ke){var at=De.ownerDocument;if(at){var bt=at.createElement("style");bt.textContent=Ke,De.appendChild(bt)}},cp=(()=>{return(De=cp||(cp={}))[De.VECTOR=0]="VECTOR",De[De.BEZIER_CURVE=1]="BEZIER_CURVE",cp;var De})(),ic=function(De,Ke){return De.length===Ke.length&&De.some(function(at,bt){return at===Ke[bt]})},kr=function(){function De(Ke,at){this.type=cp.VECTOR,this.x=Ke,this.y=at}return De.prototype.add=function(Ke,at){return new De(this.x+Ke,this.y+at)},De}(),Qo=function(De,Ke,at){return new kr(De.x+(Ke.x-De.x)*at,De.y+(Ke.y-De.y)*at)},md=function(){function De(Ke,at,bt,ni){this.type=cp.BEZIER_CURVE,this.start=Ke,this.startControl=at,this.endControl=bt,this.end=ni}return De.prototype.subdivide=function(Ke,at){var bt=Qo(this.start,this.startControl,Ke),ni=Qo(this.startControl,this.endControl,Ke),Ei=Qo(this.endControl,this.end,Ke),Yi=Qo(bt,ni,Ke),an=Qo(ni,Ei,Ke),pn=Qo(Yi,an,Ke);return at?new De(this.start,bt,Yi,pn):new De(pn,an,Ei,this.end)},De.prototype.add=function(Ke,at){return new De(this.start.add(Ke,at),this.startControl.add(Ke,at),this.endControl.add(Ke,at),this.end.add(Ke,at))},De.prototype.reverse=function(){return new De(this.end,this.endControl,this.startControl,this.start)},De}(),Vl=function(De){return De.type===cp.BEZIER_CURVE},up=function(Ke){var at=Ke.styles,bt=Ke.bounds,ni=_n(at.borderTopLeftRadius,bt.width,bt.height),Ei=ni[0],Yi=ni[1],an=_n(at.borderTopRightRadius,bt.width,bt.height),pn=an[0],vn=an[1],wn=_n(at.borderBottomRightRadius,bt.width,bt.height),sr=wn[0],Br=wn[1],yr=_n(at.borderBottomLeftRadius,bt.width,bt.height),wr=yr[0],Zr=yr[1],js=[];js.push((Ei+pn)/bt.width),js.push((wr+sr)/bt.width),js.push((Yi+Zr)/bt.height),js.push((vn+Br)/bt.height);var Ur=Math.max.apply(Math,js);Ur>1&&(Ei/=Ur,Yi/=Ur,pn/=Ur,vn/=Ur,sr/=Ur,Br/=Ur,wr/=Ur,Zr/=Ur);var gs=bt.width-pn,ho=bt.height-Br,cs=bt.width-sr,Qa=bt.height-Zr,Ro=at.borderTopWidth,cl=at.borderRightWidth,Sl=at.borderBottomWidth,io=at.borderLeftWidth,La=Pn(at.paddingTop,Ke.bounds.width),Aa=Pn(at.paddingRight,Ke.bounds.width),Sc=Pn(at.paddingBottom,Ke.bounds.width),Ga=Pn(at.paddingLeft,Ke.bounds.width);this.topLeftBorderBox=Ei>0||Yi>0?zl(bt.left,bt.top,Ei,Yi,Go.TOP_LEFT):new kr(bt.left,bt.top),this.topRightBorderBox=pn>0||vn>0?zl(bt.left+gs,bt.top,pn,vn,Go.TOP_RIGHT):new kr(bt.left+bt.width,bt.top),this.bottomRightBorderBox=sr>0||Br>0?zl(bt.left+cs,bt.top+ho,sr,Br,Go.BOTTOM_RIGHT):new kr(bt.left+bt.width,bt.top+bt.height),this.bottomLeftBorderBox=wr>0||Zr>0?zl(bt.left,bt.top+Qa,wr,Zr,Go.BOTTOM_LEFT):new kr(bt.left,bt.top+bt.height),this.topLeftPaddingBox=Ei>0||Yi>0?zl(bt.left+io,bt.top+Ro,Math.max(0,Ei-io),Math.max(0,Yi-Ro),Go.TOP_LEFT):new kr(bt.left+io,bt.top+Ro),this.topRightPaddingBox=pn>0||vn>0?zl(bt.left+Math.min(gs,bt.width+io),bt.top+Ro,gs>bt.width+io?0:pn-io,vn-Ro,Go.TOP_RIGHT):new kr(bt.left+bt.width-cl,bt.top+Ro),this.bottomRightPaddingBox=sr>0||Br>0?zl(bt.left+Math.min(cs,bt.width-io),bt.top+Math.min(ho,bt.height+Ro),Math.max(0,sr-cl),Br-Sl,Go.BOTTOM_RIGHT):new kr(bt.left+bt.width-cl,bt.top+bt.height-Sl),this.bottomLeftPaddingBox=wr>0||Zr>0?zl(bt.left+io,bt.top+Qa,Math.max(0,wr-io),Zr-Sl,Go.BOTTOM_LEFT):new kr(bt.left+io,bt.top+bt.height-Sl),this.topLeftContentBox=Ei>0||Yi>0?zl(bt.left+io+Ga,bt.top+Ro+La,Math.max(0,Ei-(io+Ga)),Math.max(0,Yi-(Ro+La)),Go.TOP_LEFT):new kr(bt.left+io+Ga,bt.top+Ro+La),this.topRightContentBox=pn>0||vn>0?zl(bt.left+Math.min(gs,bt.width+io+Ga),bt.top+Ro+La,gs>bt.width+io+Ga?0:pn-io+Ga,vn-(Ro+La),Go.TOP_RIGHT):new kr(bt.left+bt.width-(cl+Aa),bt.top+Ro+La),this.bottomRightContentBox=sr>0||Br>0?zl(bt.left+Math.min(cs,bt.width-(io+Ga)),bt.top+Math.min(ho,bt.height+Ro+La),Math.max(0,sr-(cl+Aa)),Br-(Sl+Sc),Go.BOTTOM_RIGHT):new kr(bt.left+bt.width-(cl+Aa),bt.top+bt.height-(Sl+Sc)),this.bottomLeftContentBox=wr>0||Zr>0?zl(bt.left+io+Ga,bt.top+Qa,Math.max(0,wr-(io+Ga)),Zr-(Sl+Sc),Go.BOTTOM_LEFT):new kr(bt.left+io+Ga,bt.top+bt.height-(Sl+Sc))},Go=(()=>{return(De=Go||(Go={}))[De.TOP_LEFT=0]="TOP_LEFT",De[De.TOP_RIGHT=1]="TOP_RIGHT",De[De.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",De[De.BOTTOM_LEFT=3]="BOTTOM_LEFT",Go;var De})(),zl=function(De,Ke,at,bt,ni){var Ei=(Math.sqrt(2)-1)/3*4,Yi=at*Ei,an=bt*Ei,pn=De+at,vn=Ke+bt;switch(ni){case Go.TOP_LEFT:return new md(new kr(De,vn),new kr(De,vn-an),new kr(pn-Yi,Ke),new kr(pn,Ke));case Go.TOP_RIGHT:return new md(new kr(De,Ke),new kr(De+Yi,Ke),new kr(pn,vn-an),new kr(pn,vn));case Go.BOTTOM_RIGHT:return new md(new kr(pn,Ke),new kr(pn,Ke+an),new kr(De+Yi,vn),new kr(De,vn));default:return new md(new kr(pn,vn),new kr(pn-Yi,vn),new kr(De,Ke+an),new kr(De,Ke))}},Dh=function(De){return[De.topLeftBorderBox,De.topRightBorderBox,De.bottomRightBorderBox,De.bottomLeftBorderBox]},m0=function(De){return[De.topLeftPaddingBox,De.topRightPaddingBox,De.bottomRightPaddingBox,De.bottomLeftPaddingBox]},k1=function(Ke,at,bt){this.type=0,this.offsetX=Ke,this.offsetY=at,this.matrix=bt,this.target=6},yu=function(Ke,at){this.type=1,this.target=at,this.path=Ke},Kv=function(Ke){this.element=Ke,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]},Wm=function(){function De(Ke,at){if(this.container=Ke,this.effects=at.slice(0),this.curves=new up(Ke),null!==Ke.styles.transform&&this.effects.push(new k1(Ke.bounds.left+Ke.styles.transformOrigin[0].number,Ke.bounds.top+Ke.styles.transformOrigin[1].number,Ke.styles.transform)),Ke.styles.overflowX!==Vc.VISIBLE){var Yi=Dh(this.curves),an=m0(this.curves);ic(Yi,an)?this.effects.push(new yu(Yi,6)):(this.effects.push(new yu(Yi,2)),this.effects.push(new yu(an,4)))}}return De.prototype.getParentEffects=function(){var Ke=this.effects.slice(0);if(this.container.styles.overflowX!==Vc.VISIBLE){var at=Dh(this.curves),bt=m0(this.curves);ic(at,bt)||Ke.push(new yu(bt,6))}return Ke},De}(),Km=function(De,Ke,at,bt){De.container.elements.forEach(function(ni){var Ei=Pa(ni.flags,4),Yi=Pa(ni.flags,2),an=new Wm(ni,De.getParentEffects());Pa(ni.styles.display,2048)&&bt.push(an);var pn=Pa(ni.flags,8)?[]:bt;if(Ei||Yi){var vn=Ei||ni.styles.isPositioned()?at:Ke,wn=new Kv(an);if(ni.styles.isPositioned()||ni.styles.opacity<1||ni.styles.isTransformed()){var sr=ni.styles.zIndex.order;if(sr<0){var Br=0;vn.negativeZIndex.some(function(wr,Zr){return sr>wr.element.container.styles.zIndex.order?(Br=Zr,!1):Br>0}),vn.negativeZIndex.splice(Br,0,wn)}else if(sr>0){var yr=0;vn.positiveZIndex.some(function(wr,Zr){return sr>wr.element.container.styles.zIndex.order?(yr=Zr+1,!1):yr>0}),vn.positiveZIndex.splice(yr,0,wn)}else vn.zeroOrAutoZIndexOrTransformedOrOpacity.push(wn)}else ni.styles.isFloating()?vn.nonPositionedFloats.push(wn):vn.nonPositionedInlineLevel.push(wn);Km(an,wn,Ei?wn:at,pn)}else ni.styles.isInlineLevel()?Ke.inlineLevel.push(an):Ke.nonInlineLevel.push(an),Km(an,Ke,at,pn);Pa(ni.flags,8)&&Qv(ni,pn)})},Qv=function(De,Ke){for(var at=De instanceof Um?De.start:1,bt=De instanceof Um&&De.reversed,ni=0;ni<Ke.length;ni++){var Ei=Ke[ni];Ei.container instanceof ep&&"number"==typeof Ei.container.value&&0!==Ei.container.value&&(at=Ei.container.value),Ei.listValue=nf(at,Ei.container.styles.listStyleType,!0),at+=bt?-1:1}},g0=function(De,Ke,at,bt){var ni=[];return Vl(De)?ni.push(De.subdivide(.5,!1)):ni.push(De),Vl(at)?ni.push(at.subdivide(.5,!0)):ni.push(at),Vl(bt)?ni.push(bt.subdivide(.5,!0).reverse()):ni.push(bt),Vl(Ke)?ni.push(Ke.subdivide(.5,!1).reverse()):ni.push(Ke),ni},of=function(De){var at=De.styles;return De.bounds.add(at.borderLeftWidth,at.borderTopWidth,-(at.borderRightWidth+at.borderLeftWidth),-(at.borderTopWidth+at.borderBottomWidth))},Dl=function(De){var Ke=De.styles,at=De.bounds,bt=Pn(Ke.paddingLeft,at.width),ni=Pn(Ke.paddingRight,at.width),Ei=Pn(Ke.paddingTop,at.width),Yi=Pn(Ke.paddingBottom,at.width);return at.add(bt+Ke.borderLeftWidth,Ei+Ke.borderTopWidth,-(Ke.borderRightWidth+Ke.borderLeftWidth+bt+ni),-(Ke.borderTopWidth+Ke.borderBottomWidth+Ei+Yi))},Ml=function(De,Ke,at){var bt=function(De,Ke){return 0===De?Ke.bounds:2===De?Dl(Ke):of(Ke)}(yd(De.styles.backgroundOrigin,Ke),De),ni=function(De,Ke){return De===ua.BORDER_BOX?Ke.bounds:De===ua.CONTENT_BOX?Dl(Ke):of(Ke)}(yd(De.styles.backgroundClip,Ke),De),Ei=Qm(yd(De.styles.backgroundSize,Ke),at,bt),Yi=Ei[0],an=Ei[1],pn=_n(yd(De.styles.backgroundPosition,Ke),bt.width-Yi,bt.height-an);return[Kc(yd(De.styles.backgroundRepeat,Ke),pn,Ei,bt,ni),Math.round(bt.left+pn[0]),Math.round(bt.top+pn[1]),Yi,an]},dp=function(De){return rs(De)&&De.value===hu.AUTO},gd=function(De){return"number"==typeof De},Qm=function(De,Ke,at){var bt=Ke[0],ni=Ke[1],Ei=Ke[2],Yi=De[0],an=De[1];if(Ks(Yi)&&an&&Ks(an))return[Pn(Yi,at.width),Pn(an,at.height)];var pn=gd(Ei);if(rs(Yi)&&(Yi.value===hu.CONTAIN||Yi.value===hu.COVER))return gd(Ei)?at.width/at.height<Ei!=(Yi.value===hu.COVER)?[at.width,at.width/Ei]:[at.height*Ei,at.height]:[at.width,at.height];var wn=gd(bt),sr=gd(ni),Br=wn||sr;if(dp(Yi)&&(!an||dp(an)))return wn&&sr?[bt,ni]:pn||Br?Br&&pn?[wn?bt:ni*Ei,sr?ni:bt/Ei]:[wn?bt:at.width,sr?ni:at.height]:[at.width,at.height];if(pn){var Ur=0,gs=0;return Ks(Yi)?Ur=Pn(Yi,at.width):Ks(an)&&(gs=Pn(an,at.height)),dp(Yi)?Ur=gs*Ei:(!an||dp(an))&&(gs=Ur/Ei),[Ur,gs]}var ho=null,cs=null;if(Ks(Yi)?ho=Pn(Yi,at.width):an&&Ks(an)&&(cs=Pn(an,at.height)),null!==ho&&(!an||dp(an))&&(cs=wn&&sr?ho/bt*ni:at.height),null!==cs&&dp(Yi)&&(ho=wn&&sr?cs/ni*bt:at.width),null!==ho&&null!==cs)return[ho,cs];throw new Error("Unable to calculate background-size for element")},yd=function(De,Ke){var at=De[Ke];return void 0===at?De[0]:at},Kc=function(De,Ke,at,bt,ni){var Ei=Ke[0],Yi=Ke[1],an=at[0],pn=at[1];switch(De){case ol.REPEAT_X:return[new kr(Math.round(bt.left),Math.round(bt.top+Yi)),new kr(Math.round(bt.left+bt.width),Math.round(bt.top+Yi)),new kr(Math.round(bt.left+bt.width),Math.round(pn+bt.top+Yi)),new kr(Math.round(bt.left),Math.round(pn+bt.top+Yi))];case ol.REPEAT_Y:return[new kr(Math.round(bt.left+Ei),Math.round(bt.top)),new kr(Math.round(bt.left+Ei+an),Math.round(bt.top)),new kr(Math.round(bt.left+Ei+an),Math.round(bt.height+bt.top)),new kr(Math.round(bt.left+Ei),Math.round(bt.height+bt.top))];case ol.NO_REPEAT:return[new kr(Math.round(bt.left+Ei),Math.round(bt.top+Yi)),new kr(Math.round(bt.left+Ei+an),Math.round(bt.top+Yi)),new kr(Math.round(bt.left+Ei+an),Math.round(bt.top+Yi+pn)),new kr(Math.round(bt.left+Ei),Math.round(bt.top+Yi+pn))];default:return[new kr(Math.round(ni.left),Math.round(ni.top)),new kr(Math.round(ni.left+ni.width),Math.round(ni.top)),new kr(Math.round(ni.left+ni.width),Math.round(ni.height+ni.top)),new kr(Math.round(ni.left),Math.round(ni.height+ni.top))]}},Mh="Hidden Text",Gm=function(){function De(Ke){this._data={},this._document=Ke}return De.prototype.parseMetrics=function(Ke,at){var bt=this._document.createElement("div"),ni=this._document.createElement("img"),Ei=this._document.createElement("span"),Yi=this._document.body;bt.style.visibility="hidden",bt.style.fontFamily=Ke,bt.style.fontSize=at,bt.style.margin="0",bt.style.padding="0",Yi.appendChild(bt),ni.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",ni.width=1,ni.height=1,ni.style.margin="0",ni.style.padding="0",ni.style.verticalAlign="baseline",Ei.style.fontFamily=Ke,Ei.style.fontSize=at,Ei.style.margin="0",Ei.style.padding="0",Ei.appendChild(this._document.createTextNode(Mh)),bt.appendChild(Ei),bt.appendChild(ni);var an=ni.offsetTop-Ei.offsetTop+2;bt.removeChild(Ei),bt.appendChild(this._document.createTextNode(Mh)),bt.style.lineHeight="normal",ni.style.verticalAlign="super";var pn=ni.offsetTop-bt.offsetTop+2;return Yi.removeChild(bt),{baseline:an,middle:pn}},De.prototype.getMetrics=function(Ke,at){var bt=Ke+" "+at;return void 0===this._data[bt]&&(this._data[bt]=this.parseMetrics(Ke,at)),this._data[bt]},De}(),Ku=function(){function De(Ke){this._activeEffects=[],this.canvas=Ke.canvas?Ke.canvas:document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.options=Ke,Ke.canvas||(this.canvas.width=Math.floor(Ke.width*Ke.scale),this.canvas.height=Math.floor(Ke.height*Ke.scale),this.canvas.style.width=Ke.width+"px",this.canvas.style.height=Ke.height+"px"),this.fontMetrics=new Gm(document),this.ctx.scale(this.options.scale,this.options.scale),this.ctx.translate(-Ke.x+Ke.scrollX,-Ke.y+Ke.scrollY),this.ctx.textBaseline="bottom",this._activeEffects=[],uo.getInstance(Ke.id).debug("Canvas renderer initialized ("+Ke.width+"x"+Ke.height+" at "+Ke.x+","+Ke.y+") with scale "+Ke.scale)}return De.prototype.applyEffects=function(Ke,at){for(var bt=this;this._activeEffects.length;)this.popEffect();Ke.filter(function(ni){return Pa(ni.target,at)}).forEach(function(ni){return bt.applyEffect(ni)})},De.prototype.applyEffect=function(Ke){this.ctx.save(),function(De){return 0===De.type}(Ke)&&(this.ctx.translate(Ke.offsetX,Ke.offsetY),this.ctx.transform(Ke.matrix[0],Ke.matrix[1],Ke.matrix[2],Ke.matrix[3],Ke.matrix[4],Ke.matrix[5]),this.ctx.translate(-Ke.offsetX,-Ke.offsetY)),function(De){return 1===De.type}(Ke)&&(this.path(Ke.path),this.ctx.clip()),this._activeEffects.push(Ke)},De.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},De.prototype.renderStack=function(Ke){return J(this,void 0,void 0,function(){var at;return Te(this,function(bt){switch(bt.label){case 0:return(at=Ke.element.container.styles).isVisible()?(this.ctx.globalAlpha=at.opacity,[4,this.renderStackContent(Ke)]):[3,2];case 1:bt.sent(),bt.label=2;case 2:return[2]}})})},De.prototype.renderNode=function(Ke){return J(this,void 0,void 0,function(){return Te(this,function(at){switch(at.label){case 0:return Ke.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(Ke)]:[3,3];case 1:return at.sent(),[4,this.renderNodeContent(Ke)];case 2:at.sent(),at.label=3;case 3:return[2]}})})},De.prototype.renderTextWithLetterSpacing=function(Ke,at){var bt=this;0===at?this.ctx.fillText(Ke.text,Ke.bounds.left,Ke.bounds.top+Ke.bounds.height):ye(Ke.text).map(function(Ei){return he(Ei)}).reduce(function(Ei,Yi){return bt.ctx.fillText(Yi,Ei,Ke.bounds.top+Ke.bounds.height),Ei+bt.ctx.measureText(Yi).width},Ke.bounds.left)},De.prototype.createFontStyle=function(Ke){var at=Ke.fontVariant.filter(function(Ei){return"normal"===Ei||"small-caps"===Ei}).join(""),bt=Ke.fontFamily.join(", "),ni=rl(Ke.fontSize)?""+Ke.fontSize.number+Ke.fontSize.unit:Ke.fontSize.number+"px";return[[Ke.fontStyle,at,Ke.fontWeight,ni,bt].join(" "),bt,ni]},De.prototype.renderTextNode=function(Ke,at){return J(this,void 0,void 0,function(){var bt,Ei,Yi,an=this;return Te(this,function(pn){return bt=this.createFontStyle(at),Ei=bt[1],Yi=bt[2],this.ctx.font=bt[0],Ke.textBounds.forEach(function(vn){an.ctx.fillStyle=Gs(at.color),an.renderTextWithLetterSpacing(vn,at.letterSpacing);var wn=at.textShadow;wn.length&&vn.text.trim().length&&(wn.slice(0).reverse().forEach(function(sr){an.ctx.shadowColor=Gs(sr.color),an.ctx.shadowOffsetX=sr.offsetX.number*an.options.scale,an.ctx.shadowOffsetY=sr.offsetY.number*an.options.scale,an.ctx.shadowBlur=sr.blur.number,an.ctx.fillText(vn.text,vn.bounds.left,vn.bounds.top+vn.bounds.height)}),an.ctx.shadowColor="",an.ctx.shadowOffsetX=0,an.ctx.shadowOffsetY=0,an.ctx.shadowBlur=0),at.textDecorationLine.length&&(an.ctx.fillStyle=Gs(at.textDecorationColor||at.color),at.textDecorationLine.forEach(function(sr){switch(sr){case 1:var Br=an.fontMetrics.getMetrics(Ei,Yi).baseline;an.ctx.fillRect(vn.bounds.left,Math.round(vn.bounds.top+Br),vn.bounds.width,1);break;case 2:an.ctx.fillRect(vn.bounds.left,Math.round(vn.bounds.top),vn.bounds.width,1);break;case 3:var yr=an.fontMetrics.getMetrics(Ei,Yi).middle;an.ctx.fillRect(vn.bounds.left,Math.ceil(vn.bounds.top+yr),vn.bounds.width,1)}}))}),[2]})})},De.prototype.renderReplacedElement=function(Ke,at,bt){if(bt&&Ke.intrinsicWidth>0&&Ke.intrinsicHeight>0){var ni=Dl(Ke),Ei=m0(at);this.path(Ei),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(bt,0,0,Ke.intrinsicWidth,Ke.intrinsicHeight,ni.left,ni.top,ni.width,ni.height),this.ctx.restore()}},De.prototype.renderNodeContent=function(Ke){return J(this,void 0,void 0,function(){var at,bt,ni,Ei,Yi,Br,yr,Zr,js,Ur,pn,gs,wr;return Te(this,function(cs){switch(cs.label){case 0:this.applyEffects(Ke.effects,4),bt=Ke.curves,ni=(at=Ke.container).styles,Ei=0,Yi=at.textNodes,cs.label=1;case 1:return Ei<Yi.length?[4,this.renderTextNode(Yi[Ei],ni)]:[3,4];case 2:cs.sent(),cs.label=3;case 3:return Ei++,[3,1];case 4:if(!(at instanceof w1))return[3,8];cs.label=5;case 5:return cs.trys.push([5,7,,8]),[4,this.options.cache.match(at.src)];case 6:return pn=cs.sent(),this.renderReplacedElement(at,bt,pn),[3,8];case 7:return cs.sent(),uo.getInstance(this.options.id).error("Error loading image "+at.src),[3,8];case 8:if(at instanceof Nm&&this.renderReplacedElement(at,bt,at.canvas),!(at instanceof Yp))return[3,12];cs.label=9;case 9:return cs.trys.push([9,11,,12]),[4,this.options.cache.match(at.svg)];case 10:return pn=cs.sent(),this.renderReplacedElement(at,bt,pn),[3,12];case 11:return cs.sent(),uo.getInstance(this.options.id).error("Error loading svg "+at.svg.substring(0,255)),[3,12];case 12:return at instanceof kv&&at.tree?[4,new De({id:this.options.id,scale:this.options.scale,backgroundColor:at.backgroundColor,x:0,y:0,scrollX:0,scrollY:0,width:at.width,height:at.height,cache:this.options.cache,windowWidth:at.width,windowHeight:at.height}).render(at.tree)]:[3,14];case 13:Br=cs.sent(),at.width&&at.height&&this.ctx.drawImage(Br,0,0,at.width,at.height,at.bounds.left,at.bounds.top,at.bounds.width,at.bounds.height),cs.label=14;case 14:if(at instanceof wh&&(yr=Math.min(at.bounds.width,at.bounds.height),at.type===ip?at.checked&&(this.ctx.save(),this.path([new kr(at.bounds.left+.39363*yr,at.bounds.top+.79*yr),new kr(at.bounds.left+.16*yr,at.bounds.top+.5549*yr),new kr(at.bounds.left+.27347*yr,at.bounds.top+.44071*yr),new kr(at.bounds.left+.39694*yr,at.bounds.top+.5649*yr),new kr(at.bounds.left+.72983*yr,at.bounds.top+.23*yr),new kr(at.bounds.left+.84*yr,at.bounds.top+.34085*yr),new kr(at.bounds.left+.39363*yr,at.bounds.top+.79*yr)]),this.ctx.fillStyle=Gs(hd),this.ctx.fill(),this.ctx.restore()):at.type===np&&at.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(at.bounds.left+yr/2,at.bounds.top+yr/2,yr/4,0,2*Math.PI,!0),this.ctx.fillStyle=Gs(hd),this.ctx.fill(),this.ctx.restore())),Zv(at)&&at.value.length){switch(this.ctx.font=this.createFontStyle(ni)[0],this.ctx.fillStyle=Gs(ni.color),this.ctx.textBaseline="middle",this.ctx.textAlign=Qc(at.styles.textAlign),wr=Dl(at),Zr=0,at.styles.textAlign){case Mo.CENTER:Zr+=wr.width/2;break;case Mo.RIGHT:Zr+=wr.width}js=wr.add(Zr,0,0,-wr.height/2+1),this.ctx.save(),this.path([new kr(wr.left,wr.top),new kr(wr.left+wr.width,wr.top),new kr(wr.left+wr.width,wr.top+wr.height),new kr(wr.left,wr.top+wr.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Ah(at.value,js),ni.letterSpacing),this.ctx.restore(),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"}if(!Pa(at.styles.display,2048))return[3,20];if(null===at.styles.listStyleImage)return[3,19];if((Ur=at.styles.listStyleImage).type!==Wa.URL)return[3,18];pn=void 0,gs=Ur.url,cs.label=15;case 15:return cs.trys.push([15,17,,18]),[4,this.options.cache.match(gs)];case 16:return pn=cs.sent(),this.ctx.drawImage(pn,at.bounds.left-(pn.width+10),at.bounds.top),[3,18];case 17:return cs.sent(),uo.getInstance(this.options.id).error("Error loading list-style-image "+gs),[3,18];case 18:return[3,20];case 19:Ke.listValue&&at.styles.listStyleType!==Wn.NONE&&(this.ctx.font=this.createFontStyle(ni)[0],this.ctx.fillStyle=Gs(ni.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",wr=new Me(at.bounds.left,at.bounds.top+Pn(at.styles.paddingTop,at.bounds.width),at.bounds.width,function(De,Ke){return rs(De)&&"normal"===De.value?1.2*Ke:De.type===St.NUMBER_TOKEN?Ke*De.number:Ks(De)?Pn(De,Ke):Ke}(ni.lineHeight,ni.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Ah(Ke.listValue,wr),ni.letterSpacing),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),cs.label=20;case 20:return[2]}})})},De.prototype.renderStackContent=function(Ke){return J(this,void 0,void 0,function(){var at,bt,Ei,Yi,an,pn,vn,wn,sr,Br,yr,wr,Zr,js;return Te(this,function(Ur){switch(Ur.label){case 0:return[4,this.renderNodeBackgroundAndBorders(Ke.element)];case 1:Ur.sent(),at=0,bt=Ke.negativeZIndex,Ur.label=2;case 2:return at<bt.length?[4,this.renderStack(bt[at])]:[3,5];case 3:Ur.sent(),Ur.label=4;case 4:return at++,[3,2];case 5:return[4,this.renderNodeContent(Ke.element)];case 6:Ur.sent(),Ei=0,Yi=Ke.nonInlineLevel,Ur.label=7;case 7:return Ei<Yi.length?[4,this.renderNode(Yi[Ei])]:[3,10];case 8:Ur.sent(),Ur.label=9;case 9:return Ei++,[3,7];case 10:an=0,pn=Ke.nonPositionedFloats,Ur.label=11;case 11:return an<pn.length?[4,this.renderStack(pn[an])]:[3,14];case 12:Ur.sent(),Ur.label=13;case 13:return an++,[3,11];case 14:vn=0,wn=Ke.nonPositionedInlineLevel,Ur.label=15;case 15:return vn<wn.length?[4,this.renderStack(wn[vn])]:[3,18];case 16:Ur.sent(),Ur.label=17;case 17:return vn++,[3,15];case 18:sr=0,Br=Ke.inlineLevel,Ur.label=19;case 19:return sr<Br.length?[4,this.renderNode(Br[sr])]:[3,22];case 20:Ur.sent(),Ur.label=21;case 21:return sr++,[3,19];case 22:yr=0,wr=Ke.zeroOrAutoZIndexOrTransformedOrOpacity,Ur.label=23;case 23:return yr<wr.length?[4,this.renderStack(wr[yr])]:[3,26];case 24:Ur.sent(),Ur.label=25;case 25:return yr++,[3,23];case 26:Zr=0,js=Ke.positiveZIndex,Ur.label=27;case 27:return Zr<js.length?[4,this.renderStack(js[Zr])]:[3,30];case 28:Ur.sent(),Ur.label=29;case 29:return Zr++,[3,27];case 30:return[2]}})})},De.prototype.mask=function(Ke){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(Ke.slice(0).reverse()),this.ctx.closePath()},De.prototype.path=function(Ke){this.ctx.beginPath(),this.formatPath(Ke),this.ctx.closePath()},De.prototype.formatPath=function(Ke){var at=this;Ke.forEach(function(bt,ni){var Ei=Vl(bt)?bt.start:bt;0===ni?at.ctx.moveTo(Ei.x,Ei.y):at.ctx.lineTo(Ei.x,Ei.y),Vl(bt)&&at.ctx.bezierCurveTo(bt.startControl.x,bt.startControl.y,bt.endControl.x,bt.endControl.y,bt.end.x,bt.end.y)})},De.prototype.renderRepeat=function(Ke,at,bt,ni){this.path(Ke),this.ctx.fillStyle=at,this.ctx.translate(bt,ni),this.ctx.fill(),this.ctx.translate(-bt,-ni)},De.prototype.resizeImage=function(Ke,at,bt){if(Ke.width===at&&Ke.height===bt)return Ke;var ni=this.canvas.ownerDocument.createElement("canvas");return ni.width=at,ni.height=bt,ni.getContext("2d").drawImage(Ke,0,0,Ke.width,Ke.height,0,0,at,bt),ni},De.prototype.renderBackgroundImage=function(Ke){return J(this,void 0,void 0,function(){var at,bt,ni,Ei,Yi;return Te(this,function(pn){switch(pn.label){case 0:at=Ke.styles.backgroundImage.length-1,bt=function(vn){var wn,sr,yr,cs,Qa,Ro,cl,Sl,io,La,Aa,Sc,Ga,ho,_d,wr,fp,b0,Ur,gs,yo,Zr,js,ul,Gc,$o,A0,$m,lf,w0,C0;return Te(this,function(mp){switch(mp.label){case 0:if(vn.type!==Wa.URL)return[3,5];wn=void 0,sr=vn.url,mp.label=1;case 1:return mp.trys.push([1,3,,4]),[4,ni.options.cache.match(sr)];case 2:return wn=mp.sent(),[3,4];case 3:return mp.sent(),uo.getInstance(ni.options.id).error("Error loading background-image "+sr),[3,4];case 4:return wn&&(yr=Ml(Ke,at,[wn.width,wn.height,wn.width/wn.height]),wr=yr[0],Zr=yr[1],js=yr[2],ho=ni.ctx.createPattern(ni.resizeImage(wn,Ur=yr[3],gs=yr[4]),"repeat"),ni.renderRepeat(wr,ho,Zr,js)),[3,6];case 5:!function(De){return De.type===Wa.LINEAR_GRADIENT}(vn)?function(De){return De.type===Wa.RADIAL_GRADIENT}(vn)&&(_d=Ml(Ke,at,[null,null,null]),wr=_d[0],fp=_d[1],b0=_d[2],gs=_d[4],Zr=Pn((yo=0===vn.position.length?[Xi]:vn.position)[0],Ur=_d[3]),js=Pn(yo[yo.length-1],gs),ul=function(De,Ke,at,bt,ni){var Ei=0,Yi=0;switch(De.size){case Ka.CLOSEST_SIDE:De.shape===ha.CIRCLE?Ei=Yi=Math.min(Math.abs(Ke),Math.abs(Ke-bt),Math.abs(at),Math.abs(at-ni)):De.shape===ha.ELLIPSE&&(Ei=Math.min(Math.abs(Ke),Math.abs(Ke-bt)),Yi=Math.min(Math.abs(at),Math.abs(at-ni)));break;case Ka.CLOSEST_CORNER:if(De.shape===ha.CIRCLE)Ei=Yi=Math.min(Cl(Ke,at),Cl(Ke,at-ni),Cl(Ke-bt,at),Cl(Ke-bt,at-ni));else if(De.shape===ha.ELLIPSE){var an=Math.min(Math.abs(at),Math.abs(at-ni))/Math.min(Math.abs(Ke),Math.abs(Ke-bt)),pn=wc(bt,ni,Ke,at,!0);Yi=an*(Ei=Cl(pn[0]-Ke,(pn[1]-at)/an))}break;case Ka.FARTHEST_SIDE:De.shape===ha.CIRCLE?Ei=Yi=Math.max(Math.abs(Ke),Math.abs(Ke-bt),Math.abs(at),Math.abs(at-ni)):De.shape===ha.ELLIPSE&&(Ei=Math.max(Math.abs(Ke),Math.abs(Ke-bt)),Yi=Math.max(Math.abs(at),Math.abs(at-ni)));break;case Ka.FARTHEST_CORNER:if(De.shape===ha.CIRCLE)Ei=Yi=Math.max(Cl(Ke,at),Cl(Ke,at-ni),Cl(Ke-bt,at),Cl(Ke-bt,at-ni));else if(De.shape===ha.ELLIPSE){an=Math.max(Math.abs(at),Math.abs(at-ni))/Math.max(Math.abs(Ke),Math.abs(Ke-bt));var sr=wc(bt,ni,Ke,at,!1);Yi=an*(Ei=Cl(sr[0]-Ke,(sr[1]-at)/an))}}return Array.isArray(De.size)&&(Ei=Pn(De.size[0],bt),Yi=2===De.size.length?Pn(De.size[1],ni):Ei),[Ei,Yi]}(vn,Zr,js,Ur,gs),$o=ul[1],(Gc=ul[0])>0&&Gc>0&&(A0=ni.ctx.createRadialGradient(fp+Zr,b0+js,0,fp+Zr,b0+js,Gc),Ia(vn.stops,2*Gc).forEach(function(x0){return A0.addColorStop(x0.stop,Gs(x0.color))}),ni.path(wr),ni.ctx.fillStyle=A0,Gc!==$o?($m=Ke.bounds.left+.5*Ke.bounds.width,lf=Ke.bounds.top+.5*Ke.bounds.height,C0=1/(w0=$o/Gc),ni.ctx.save(),ni.ctx.translate($m,lf),ni.ctx.transform(1,0,0,w0,0,0),ni.ctx.translate(-$m,-lf),ni.ctx.fillRect(fp,C0*(b0-lf)+lf,Ur,gs*C0),ni.ctx.restore()):ni.ctx.fill())):(cs=Ml(Ke,at,[null,null,null]),wr=cs[0],Zr=cs[1],js=cs[2],Qa=wl(vn.angle,Ur=cs[3],gs=cs[4]),Ro=Qa[0],cl=Qa[1],Sl=Qa[2],io=Qa[3],La=Qa[4],(Aa=document.createElement("canvas")).width=Ur,Aa.height=gs,Sc=Aa.getContext("2d"),Ga=Sc.createLinearGradient(cl,io,Sl,La),Ia(vn.stops,Ro).forEach(function(x0){return Ga.addColorStop(x0.stop,Gs(x0.color))}),Sc.fillStyle=Ga,Sc.fillRect(0,0,Ur,gs),Ur>0&&gs>0&&(ho=ni.ctx.createPattern(Aa,"repeat"),ni.renderRepeat(wr,ho,Zr,js))),mp.label=6;case 6:return at--,[2]}})},ni=this,Ei=0,Yi=Ke.styles.backgroundImage.slice(0).reverse(),pn.label=1;case 1:return Ei<Yi.length?[5,bt(Yi[Ei])]:[3,4];case 2:pn.sent(),pn.label=3;case 3:return Ei++,[3,1];case 4:return[2]}})})},De.prototype.renderBorder=function(Ke,at,bt){return J(this,void 0,void 0,function(){return Te(this,function(ni){return this.path(function(De,Ke){switch(Ke){case 0:return g0(De.topLeftBorderBox,De.topLeftPaddingBox,De.topRightBorderBox,De.topRightPaddingBox);case 1:return g0(De.topRightBorderBox,De.topRightPaddingBox,De.bottomRightBorderBox,De.bottomRightPaddingBox);case 2:return g0(De.bottomRightBorderBox,De.bottomRightPaddingBox,De.bottomLeftBorderBox,De.bottomLeftPaddingBox);default:return g0(De.bottomLeftBorderBox,De.bottomLeftPaddingBox,De.topLeftBorderBox,De.topLeftPaddingBox)}}(bt,at)),this.ctx.fillStyle=Gs(Ke),this.ctx.fill(),[2]})})},De.prototype.renderNodeBackgroundAndBorders=function(Ke){return J(this,void 0,void 0,function(){var at,bt,ni,Ei,Yi,an,pn,vn,wn=this;return Te(this,function(sr){switch(sr.label){case 0:return this.applyEffects(Ke.effects,2),bt=!Ta((at=Ke.container.styles).backgroundColor)||at.backgroundImage.length,ni=[{style:at.borderTopStyle,color:at.borderTopColor},{style:at.borderRightStyle,color:at.borderRightColor},{style:at.borderBottomStyle,color:at.borderBottomColor},{style:at.borderLeftStyle,color:at.borderLeftColor}],Ei=Sh(yd(at.backgroundClip,0),Ke.curves),bt||at.boxShadow.length?(this.ctx.save(),this.path(Ei),this.ctx.clip(),Ta(at.backgroundColor)||(this.ctx.fillStyle=Gs(at.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(Ke.container)]):[3,2];case 1:sr.sent(),this.ctx.restore(),at.boxShadow.slice(0).reverse().forEach(function(Br){wn.ctx.save();var yr=Dh(Ke.curves),wr=Br.inset?0:1e4,Zr=function(De,Ke,at,bt,ni){return De.map(function(Ei,Yi){switch(Yi){case 0:return Ei.add(Ke,at);case 1:return Ei.add(Ke+bt,at);case 2:return Ei.add(Ke+bt,at+ni);case 3:return Ei.add(Ke,at+ni)}return Ei})}(yr,(Br.inset?1:-1)*Br.spread.number-wr,(Br.inset?1:-1)*Br.spread.number,Br.spread.number*(Br.inset?-2:2),Br.spread.number*(Br.inset?-2:2));Br.inset?(wn.path(yr),wn.ctx.clip(),wn.mask(Zr)):(wn.mask(yr),wn.ctx.clip(),wn.path(Zr)),wn.ctx.shadowOffsetX=Br.offsetX.number+wr,wn.ctx.shadowOffsetY=Br.offsetY.number,wn.ctx.shadowColor=Gs(Br.color),wn.ctx.shadowBlur=Br.blur.number,wn.ctx.fillStyle=Br.inset?Gs(Br.color):"rgba(0,0,0,1)",wn.ctx.fill(),wn.ctx.restore()}),sr.label=2;case 2:Yi=0,an=0,pn=ni,sr.label=3;case 3:return an<pn.length?(vn=pn[an]).style===ec.NONE||Ta(vn.color)?[3,5]:[4,this.renderBorder(vn.color,Yi,Ke.curves)]:[3,7];case 4:sr.sent(),sr.label=5;case 5:Yi++,sr.label=6;case 6:return an++,[3,3];case 7:return[2]}})})},De.prototype.render=function(Ke){return J(this,void 0,void 0,function(){var at;return Te(this,function(bt){switch(bt.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Gs(this.options.backgroundColor),this.ctx.fillRect(this.options.x-this.options.scrollX,this.options.y-this.options.scrollY,this.options.width,this.options.height)),at=function(De){var Ke=new Wm(De,[]),at=new Kv(Ke),bt=[];return Km(Ke,at,at,bt),Qv(Ke.container,bt),at}(Ke),[4,this.renderStack(at)];case 1:return bt.sent(),this.applyEffects([],2),[2,this.canvas]}})})},De}(),Zv=function(De){return De instanceof o0||De instanceof jm||De instanceof wh&&De.type!==np&&De.type!==ip},Sh=function(De,Ke){switch(De){case ua.BORDER_BOX:return Dh(Ke);case ua.CONTENT_BOX:return function(De){return[De.topLeftContentBox,De.topRightContentBox,De.bottomRightContentBox,De.bottomLeftContentBox]}(Ke);default:return m0(Ke)}},Qc=function(De){switch(De){case Mo.CENTER:return"center";case Mo.RIGHT:return"right";default:return"left"}},pp=function(){function De(Ke){this.canvas=Ke.canvas?Ke.canvas:document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.options=Ke,this.canvas.width=Math.floor(Ke.width*Ke.scale),this.canvas.height=Math.floor(Ke.height*Ke.scale),this.canvas.style.width=Ke.width+"px",this.canvas.style.height=Ke.height+"px",this.ctx.scale(this.options.scale,this.options.scale),this.ctx.translate(-Ke.x+Ke.scrollX,-Ke.y+Ke.scrollY),uo.getInstance(Ke.id).debug("EXPERIMENTAL ForeignObject renderer initialized ("+Ke.width+"x"+Ke.height+" at "+Ke.x+","+Ke.y+") with scale "+Ke.scale)}return De.prototype.render=function(Ke){return J(this,void 0,void 0,function(){var at,bt;return Te(this,function(ni){switch(ni.label){case 0:return at=xl(Math.max(this.options.windowWidth,this.options.width)*this.options.scale,Math.max(this.options.windowHeight,this.options.height)*this.options.scale,this.options.scrollX*this.options.scale,this.options.scrollY*this.options.scale,Ke),[4,Jv(at)];case 1:return bt=ni.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Gs(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(bt,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},De}(),Jv=function(De){return new Promise(function(Ke,at){var bt=new Image;bt.onload=function(){Ke(bt)},bt.onerror=at,bt.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(De))})},v0=function(De){return Xr_parse(Bs.create(De).parseComponentValue())};va.setContext(window);var _0=function(De,Ke){return J(undefined,void 0,void 0,function(){var at,bt,ni,Ei,Yi,an,pn,vn,sr,Br,yr,wr,Zr,js,Ur,gs,ho,cs,Qa,Ro,cl,Sl,La;return Te(this,function(Aa){switch(Aa.label){case 0:if(!(at=De.ownerDocument))throw new Error("Element is not attached to a Document");if(!(bt=at.defaultView))throw new Error("Document is not attached to a Window");return ni=(Math.round(1e3*Math.random())+Date.now()).toString(16),Ei=sp(De)||function(De){return"HTML"===De.tagName}(De)?function(De){var Ke=De.body,at=De.documentElement;if(!Ke||!at)throw new Error("Unable to get document size");var bt=Math.max(Math.max(Ke.scrollWidth,at.scrollWidth),Math.max(Ke.offsetWidth,at.offsetWidth),Math.max(Ke.clientWidth,at.clientWidth)),ni=Math.max(Math.max(Ke.scrollHeight,at.scrollHeight),Math.max(Ke.offsetHeight,at.offsetHeight),Math.max(Ke.clientHeight,at.clientHeight));return new Me(0,0,bt,ni)}(at):Ce(De),Yi=Ei.width,an=Ei.height,pn=Ei.left,vn=Ei.top,sr=z({},{allowTaint:!1,imageTimeout:15e3,proxy:void 0,useCORS:!1},Ke),Br={backgroundColor:"#ffffff",cache:Ke.cache?Ke.cache:va.create(ni,sr),logging:!0,removeContainer:!0,foreignObjectRendering:!1,scale:bt.devicePixelRatio||1,windowWidth:bt.innerWidth,windowHeight:bt.innerHeight,scrollX:bt.pageXOffset,scrollY:bt.pageYOffset,x:pn,y:vn,width:Math.ceil(Yi),height:Math.ceil(an),id:ni},yr=z({},Br,sr,Ke),wr=new Me(yr.scrollX,yr.scrollY,yr.windowWidth,yr.windowHeight),uo.create({id:ni,enabled:yr.logging}),uo.getInstance(ni).debug("Starting document clone"),Zr=new d0(De,{id:ni,onclone:yr.onclone,ignoreElements:yr.ignoreElements,inlineImages:yr.foreignObjectRendering,copyStyles:yr.foreignObjectRendering}),(js=Zr.clonedReferenceElement)?[4,Zr.toIFrame(at,wr)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return Ur=Aa.sent(),gs=at.documentElement?v0(getComputedStyle(at.documentElement).backgroundColor):Ds.TRANSPARENT,ho=at.body?v0(getComputedStyle(at.body).backgroundColor):Ds.TRANSPARENT,Qa="string"==typeof(cs=Ke.backgroundColor)?v0(cs):null===cs?Ds.TRANSPARENT:4294967295,Ro=De===at.documentElement?Ta(gs)?Ta(ho)?Qa:ho:gs:Qa,cl={id:ni,cache:yr.cache,canvas:yr.canvas,backgroundColor:Ro,scale:yr.scale,x:yr.x,y:yr.y,scrollX:yr.scrollX,scrollY:yr.scrollY,width:yr.width,height:yr.height,windowWidth:yr.windowWidth,windowHeight:yr.windowHeight},yr.foreignObjectRendering?(uo.getInstance(ni).debug("Document cloned, using foreign object rendering"),[4,new pp(cl).render(js)]):[3,3];case 2:return Sl=Aa.sent(),[3,5];case 3:return uo.getInstance(ni).debug("Document cloned, using computed rendering"),va.attachInstance(yr.cache),uo.getInstance(ni).debug("Starting DOM parsing"),La=Rv(js),va.detachInstance(),Ro===La.styles.backgroundColor&&(La.styles.backgroundColor=Ds.TRANSPARENT),uo.getInstance(ni).debug("Starting renderer"),[4,new Ku(cl).render(La)];case 4:Sl=Aa.sent(),Aa.label=5;case 5:return!0===yr.removeContainer&&(d0.destroy(Ur)||uo.getInstance(ni).error("Cannot detach cloned iframe as it is not in the DOM anymore")),uo.getInstance(ni).debug("Finished rendering"),uo.destroy(ni),va.destroy(ni),[2,Sl]}})})};return function(De,Ke){return void 0===Ke&&(Ke={}),_0(De,Ke)}}()},30813:(hi,lt,N)=>{var J,z;J=function(){"use strict";function Te(pe){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ge){return typeof Ge}:function(Ge){return Ge&&"function"==typeof Symbol&&Ge.constructor===Symbol&&Ge!==Symbol.prototype?"symbol":typeof Ge})(pe)}!function(pe){if("object"!==Te(pe.console)){pe.console={};for(var Ge,it,ht=pe.console,mt=function(){},yt=["memory"],Ot="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");Ge=yt.pop();)ht[Ge]||(ht[Ge]={});for(;it=Ot.pop();)ht[it]||(ht[it]=mt)}var St,Tt,_i,mi,Ui="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";void 0===pe.btoa&&(pe.btoa=function(Ft){var ti,ui,vi,Di,Oi,Vi=0,Zi=0,nn="",Tn=[];if(!Ft)return Ft;for(;ti=(Oi=Ft.charCodeAt(Vi++)<<16|Ft.charCodeAt(Vi++)<<8|Ft.charCodeAt(Vi++))>>18&63,ui=Oi>>12&63,vi=Oi>>6&63,Di=63&Oi,Tn[Zi++]=Ui.charAt(ti)+Ui.charAt(ui)+Ui.charAt(vi)+Ui.charAt(Di),Vi<Ft.length;);nn=Tn.join("");var bn=Ft.length%3;return(bn?nn.slice(0,bn-3):nn)+"===".slice(bn||3)}),void 0===pe.atob&&(pe.atob=function(Ft){var ti,ui,vi,Di,Oi,Vi,Zi=0,nn=0,Tn=[];if(!Ft)return Ft;for(Ft+="";ti=(Vi=Ui.indexOf(Ft.charAt(Zi++))<<18|Ui.indexOf(Ft.charAt(Zi++))<<12|(Di=Ui.indexOf(Ft.charAt(Zi++)))<<6|(Oi=Ui.indexOf(Ft.charAt(Zi++))))>>16&255,ui=Vi>>8&255,vi=255&Vi,Tn[nn++]=64==Di?String.fromCharCode(ti):64==Oi?String.fromCharCode(ti,ui):String.fromCharCode(ti,ui,vi),Zi<Ft.length;);return Tn.join("")}),Array.prototype.map||(Array.prototype.map=function(Ft){if(null==this||"function"!=typeof Ft)throw new TypeError;for(var ti=Object(this),ui=ti.length>>>0,vi=new Array(ui),Di=1<arguments.length?arguments[1]:void 0,Oi=0;Oi<ui;Oi++)Oi in ti&&(vi[Oi]=Ft.call(Di,ti[Oi],Oi,ti));return vi}),Array.isArray||(Array.isArray=function(Ft){return"[object Array]"===Object.prototype.toString.call(Ft)}),Array.prototype.forEach||(Array.prototype.forEach=function(Ft,ti){if(null==this||"function"!=typeof Ft)throw new TypeError;for(var ui=Object(this),vi=ui.length>>>0,Di=0;Di<vi;Di++)Di in ui&&Ft.call(ti,ui[Di],Di,ui)}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(Ft){if(null==this)throw new TypeError('"this" is null or not defined');var ti=Object(this),ui=ti.length>>>0;if("function"!=typeof Ft)throw new TypeError("predicate must be a function");for(var vi=arguments[1],Di=0;Di<ui;){var Oi=ti[Di];if(Ft.call(vi,Oi,Di,ti))return Oi;Di++}},configurable:!0,writable:!0}),Object.keys||(Object.keys=(St=Object.prototype.hasOwnProperty,Tt=!{toString:null}.propertyIsEnumerable("toString"),mi=(_i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(Ft){if("object"!==Te(Ft)&&("function"!=typeof Ft||null===Ft))throw new TypeError;var ti,ui,vi=[];for(ti in Ft)St.call(Ft,ti)&&vi.push(ti);if(Tt)for(ui=0;ui<mi;ui++)St.call(Ft,_i[ui])&&vi.push(_i[ui]);return vi})),"function"!=typeof Object.assign&&(Object.assign=function(Ft){if(null==Ft)throw new TypeError("Cannot convert undefined or null to object");Ft=Object(Ft);for(var ti=1;ti<arguments.length;ti++){var ui=arguments[ti];if(null!=ui)for(var vi in ui)Object.prototype.hasOwnProperty.call(ui,vi)&&(Ft[vi]=ui[vi])}return Ft}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^\s+/g,"")}),String.prototype.trimRight||(String.prototype.trimRight=function(){return this.replace(/\s+$/g,"")}),Number.isInteger=Number.isInteger||function(Ft){return"number"==typeof Ft&&isFinite(Ft)&&Math.floor(Ft)===Ft}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")());var Me,Ce,Ie,ye,he,re,ce,be,xe,de,Ae,me,le,oe,se,fe,Ee,ge,Ue,Fe,Ve,Le,tt,je,ve,Oe,qe,He,Qe,ot,Ne,Se,$e,nt,ut,xt,Ze,et,gt,Vt,Bt,Lt,Pt,dt,jt,Rt,_e,ke,rt,Dt,Kt,st,Ti,qt,pi,We,Mi,Ki,yn,Un,Vn,kn=function(pe){function Ge(ht){if("object"!==Te(ht))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var mt={};this.subscribe=function(yt,Ot,St){if(St=St||!1,"string"!=typeof yt||"function"!=typeof Ot||"boolean"!=typeof St)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");mt.hasOwnProperty(yt)||(mt[yt]={});var Tt=Math.random().toString(35);return mt[yt][Tt]=[Ot,!!St],Tt},this.unsubscribe=function(yt){for(var Ot in mt)if(mt[Ot][yt])return delete mt[Ot][yt],0===Object.keys(mt[Ot]).length&&delete mt[Ot],!0;return!1},this.publish=function(yt){if(mt.hasOwnProperty(yt)){var Ot=Array.prototype.slice.call(arguments,1),St=[];for(var Tt in mt[yt]){var _i=mt[yt][Tt];try{_i[0].apply(ht,Ot)}catch(mi){pe.console&&console.error("jsPDF PubSub Error",mi.message,mi)}_i[1]&&St.push(Tt)}St.length&&St.forEach(this.unsubscribe)}},this.getTopics=function(){return mt}}function it(ht,mt,yt,Ot){var St={},Tt=[],_i=1;"object"===Te(ht)&&(ht=(St=ht).orientation,mt=St.unit||mt,yt=St.format||yt,Ot=St.compress||St.compressPdf||Ot,Tt=St.filters||(!0===Ot?["FlateEncode"]:Tt),_i="number"==typeof St.userUnit?Math.abs(St.userUnit):1),mt=mt||"mm",ht=(""+(ht||"P")).toLowerCase();var mi=St.putOnlyUsedFonts||!0,Ui={},Ft={internal:{},__private__:{}};Ft.__private__.PubSub=Ge;var ti="1.3",ui=Ft.__private__.getPdfVersion=function(){return ti},vi=(Ft.__private__.setPdfVersion=function(Xt){ti=Xt},{a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]}),Di=(Ft.__private__.getPageFormats=function(){return vi},Ft.__private__.getPageFormat=function(Xt){return vi[Xt]});"string"==typeof yt&&(yt=Di(yt)),yt=yt||Di("a4");var Oi,Vi=Ft.f2=Ft.__private__.f2=function(Xt){if(isNaN(Xt))throw new Error("Invalid argument passed to jsPDF.f2");return Xt.toFixed(2)},Zi=Ft.__private__.f3=function(Xt){if(isNaN(Xt))throw new Error("Invalid argument passed to jsPDF.f3");return Xt.toFixed(3)},nn="00000000000000000000000000000000",Tn=Ft.__private__.getFileId=function(){return nn},bn=Ft.__private__.setFileId=function(Xt){return Xt=Xt||"12345678901234567890123456789012".split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),nn=Xt};Ft.setFileId=function(Xt){return bn(Xt),this},Ft.getFileId=function(){return Tn()};var Li=Ft.__private__.convertDateToPDFDate=function(Xt){var Xi=Xt.getTimezoneOffset(),Cn=Xi<0?"+":"-",_n=Math.floor(Math.abs(Xi/60)),Pn=Math.abs(Xi%60),nr=[Cn,kt(_n),"'",kt(Pn),"'"].join("");return["D:",Xt.getFullYear(),kt(Xt.getMonth()+1),kt(Xt.getDate()),kt(Xt.getHours()),kt(Xt.getMinutes()),kt(Xt.getSeconds()),nr].join("")},si=Ft.__private__.convertPDFDateToDate=function(Xt){var Xi=parseInt(Xt.substr(2,4),10),Cn=parseInt(Xt.substr(6,2),10)-1,_n=parseInt(Xt.substr(8,2),10),Pn=parseInt(Xt.substr(10,2),10),nr=parseInt(Xt.substr(12,2),10),Pr=parseInt(Xt.substr(14,2),10);return parseInt(Xt.substr(16,2),10),parseInt(Xt.substr(20,2),10),new Date(Xi,Cn,_n,Pn,nr,Pr,0)},$i=Ft.__private__.setCreationDate=function(Xt){var Xi;if(void 0===Xt&&(Xt=new Date),"object"===Te(Xt)&&"[object Date]"===Object.prototype.toString.call(Xt))Xi=Li(Xt);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|\-0[0-9]|\-1[0-1])\'(0[0-9]|[1-5][0-9])\'?$/.test(Xt))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Xi=Xt}return Oi=Xi},Ye=Ft.__private__.getCreationDate=function(Xt){var Xi=Oi;return"jsDate"===Xt&&(Xi=si(Oi)),Xi};Ft.setCreationDate=function(Xt){return $i(Xt),this},Ft.getCreationDate=function(Xt){return Ye(Xt)};var Ht,$t,ci,Ii,Jt,Ct,Gt,gi,kt=Ft.__private__.padd2=function(Xt){return("0"+parseInt(Xt)).slice(-2)},oi=!1,ei=[],Ai=[],Si=0,yi=(Ft.__private__.setCustomOutputDestination=function(Xt){$t=Xt},Ft.__private__.resetCustomOutputDestination=function(Xt){$t=void 0},Ft.__private__.out=function(Xt){var Xi;return Xt="string"==typeof Xt?Xt:Xt.toString(),(Xi=void 0===$t?oi?ei[Ht]:Ai:$t).push(Xt),oi||(Si+=Xt.length+1),Xi}),en=Ft.__private__.write=function(Xt){return yi(1===arguments.length?Xt.toString():Array.prototype.join.call(arguments," "))},un=Ft.__private__.getArrayBuffer=function(Xt){for(var Xi=Xt.length,Cn=new ArrayBuffer(Xi),_n=new Uint8Array(Cn);Xi--;)_n[Xi]=Xt.charCodeAt(Xi);return Cn},On=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]],Gn=(Ft.__private__.getStandardFonts=function(Xt){return On},St.fontSize||16),ln=(Ft.__private__.setFontSize=Ft.setFontSize=function(Xt){return Gn=Xt,this},Ft.__private__.getFontSize=Ft.getFontSize=function(){return Gn}),$n=St.R2L||!1,In=(Ft.__private__.setR2L=Ft.setR2L=function(Xt){return $n=Xt,this},Ft.__private__.getR2L=Ft.getR2L=function(Xt){return $n},Ft.__private__.setZoomMode=function(Xt){if(/^\d*\.?\d*\%$/.test(Xt))ci=Xt;else if(isNaN(Xt)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(Xt))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+Xt+'" is not recognized.');ci=Xt}else ci=parseInt(Xt,10)}),rr=(Ft.__private__.getZoomMode=function(){return ci},Ft.__private__.setPageMode=function(Xt){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(Xt))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+Xt+'" is not recognized.');Ii=Xt}),wi=(Ft.__private__.getPageMode=function(){return Ii},Ft.__private__.setLayoutMode=function(Xt){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(Xt))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+Xt+'" is not recognized.');Jt=Xt}),Hi=(Ft.__private__.getLayoutMode=function(){return Jt},Ft.__private__.setDisplayMode=Ft.setDisplayMode=function(Xt,Xi,Cn){return In(Xt),wi(Xi),rr(Cn),this},{title:"",subject:"",author:"",keywords:"",creator:""}),xi=(Ft.__private__.getDocumentProperty=function(Xt){if(-1===Object.keys(Hi).indexOf(Xt))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Hi[Xt]},Ft.__private__.getDocumentProperties=function(Xt){return Hi},Ft.__private__.setDocumentProperties=Ft.setProperties=Ft.setDocumentProperties=function(Xt){for(var Xi in Hi)Hi.hasOwnProperty(Xi)&&Xt[Xi]&&(Hi[Xi]=Xt[Xi]);return this},Ft.__private__.setDocumentProperty=function(Xt,Xi){if(-1===Object.keys(Hi).indexOf(Xt))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Hi[Xt]=Xi},0),Ni=[],Ji={},mn={},Xn=0,Zt=[],di=[],ai=new Ge(Ft),Bi=St.hotfixes||[],hn=Ft.__private__.newObject=function(){var Xt=cn();return Sn(Xt,!0),Xt},cn=Ft.__private__.newObjectDeferred=function(){return Ni[++xi]=function(){return Si},xi},Sn=function(Xt,Xi){return Xi="boolean"==typeof Xi&&Xi,Ni[Xt]=Si,Xi&&yi(Xt+" 0 obj"),Xt},En=Ft.__private__.newAdditionalObject=function(){var Xt={objId:cn(),content:""};return di.push(Xt),Xt},bi=cn(),Qi=cn(),ki=Ft.__private__.decodeColorString=function(Xt){var Xi=Xt.split(" ");if(2===Xi.length&&("g"===Xi[1]||"G"===Xi[1])){var Cn=parseFloat(Xi[0]);Xi=[Cn,Cn,Cn,"r"]}for(var _n="#",Pn=0;Pn<3;Pn++)_n+=("0"+Math.floor(255*parseFloat(Xi[Pn])).toString(16)).slice(-2);return _n},xn=Ft.__private__.encodeColorString=function(Xt){var Xi;"string"==typeof Xt&&(Xt={ch1:Xt});var Cn=Xt.ch1,_n=Xt.ch2,Pn=Xt.ch3,nr=Xt.ch4,Pr="draw"===Xt.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof Cn&&"#"!==Cn.charAt(0)){var qr=new RGBColor(Cn);if(qr.ok)Cn=qr.toHex();else if(!/^\d*\.?\d*$/.test(Cn))throw new Error('Invalid color "'+Cn+'" passed to jsPDF.encodeColorString.')}if("string"==typeof Cn&&/^#[0-9A-Fa-f]{3}$/.test(Cn)&&(Cn="#"+Cn[1]+Cn[1]+Cn[2]+Cn[2]+Cn[3]+Cn[3]),"string"==typeof Cn&&/^#[0-9A-Fa-f]{6}$/.test(Cn)){var is=parseInt(Cn.substr(1),16);Cn=is>>16&255,_n=is>>8&255,Pn=255&is}if(void 0===_n||void 0===nr&&Cn===_n&&_n===Pn)Xi="string"==typeof Cn?Cn+" "+Pr[0]:2===Xt.precision?Vi(Cn/255)+" "+Pr[0]:Zi(Cn/255)+" "+Pr[0];else if(void 0===nr||"object"===Te(nr)){if(nr&&!isNaN(nr.a)&&0===nr.a)return["1.000","1.000","1.000",Pr[1]].join(" ");Xi="string"==typeof Cn?[Cn,_n,Pn,Pr[1]].join(" "):2===Xt.precision?[Vi(Cn/255),Vi(_n/255),Vi(Pn/255),Pr[1]].join(" "):[Zi(Cn/255),Zi(_n/255),Zi(Pn/255),Pr[1]].join(" ")}else Xi="string"==typeof Cn?[Cn,_n,Pn,nr,Pr[2]].join(" "):2===Xt.precision?[Vi(Cn/255),Vi(_n/255),Vi(Pn/255),Vi(nr/255),Pr[2]].join(" "):[Zi(Cn/255),Zi(_n/255),Zi(Pn/255),Zi(nr/255),Pr[2]].join(" ");return Xi},cr=Ft.__private__.getFilters=function(){return Tt},Dn=Ft.__private__.putStream=function(Xt){var Pr,Xi=(Xt=Xt||{}).data||"",Cn=Xt.filters||cr(),_n=Xt.alreadyAppliedFilters||[],Pn=Xt.addLength1||!1,nr=Xi.length;!0===Cn&&(Cn=["FlateEncode"]);var qr=Xt.additionalKeyValues||[],is=(Pr=void 0!==it.API.processDataByFilters?it.API.processDataByFilters(Xi,Cn):{data:Xi,reverseChain:[]}).reverseChain+(Array.isArray(_n)?_n.join(" "):_n.toString());0!==Pr.data.length&&(qr.push({key:"Length",value:Pr.data.length}),!0===Pn&&qr.push({key:"Length1",value:nr})),0!=is.length&&(is.split("/").length-1==1?qr.push({key:"Filter",value:is}):qr.push({key:"Filter",value:"["+is+"]"})),yi("<<");for(var Qs=0;Qs<qr.length;Qs++)yi("/"+qr[Qs].key+" "+qr[Qs].value);yi(">>"),0!==Pr.data.length&&(yi("stream"),yi(Pr.data),yi("endstream"))},gr=Ft.__private__.putPage=function(Xt){var Xi=Xt.number,Cn=Xt.data,_n=Xt.objId,Pn=Xt.contentsObjId;Sn(_n,!0),yi("<</Type /Page"),yi("/Parent "+Xt.rootDictionaryObjId+" 0 R"),yi("/Resources "+Xt.resourceDictionaryObjId+" 0 R"),yi("/MediaBox ["+parseFloat(Vi(Xt.mediaBox.bottomLeftX))+" "+parseFloat(Vi(Xt.mediaBox.bottomLeftY))+" "+Vi(Xt.mediaBox.topRightX)+" "+Vi(Xt.mediaBox.topRightY)+"]"),null!==Xt.cropBox&&yi("/CropBox ["+Vi(Xt.cropBox.bottomLeftX)+" "+Vi(Xt.cropBox.bottomLeftY)+" "+Vi(Xt.cropBox.topRightX)+" "+Vi(Xt.cropBox.topRightY)+"]"),null!==Xt.bleedBox&&yi("/BleedBox ["+Vi(Xt.bleedBox.bottomLeftX)+" "+Vi(Xt.bleedBox.bottomLeftY)+" "+Vi(Xt.bleedBox.topRightX)+" "+Vi(Xt.bleedBox.topRightY)+"]"),null!==Xt.trimBox&&yi("/TrimBox ["+Vi(Xt.trimBox.bottomLeftX)+" "+Vi(Xt.trimBox.bottomLeftY)+" "+Vi(Xt.trimBox.topRightX)+" "+Vi(Xt.trimBox.topRightY)+"]"),null!==Xt.artBox&&yi("/ArtBox ["+Vi(Xt.artBox.bottomLeftX)+" "+Vi(Xt.artBox.bottomLeftY)+" "+Vi(Xt.artBox.topRightX)+" "+Vi(Xt.artBox.topRightY)+"]"),"number"==typeof Xt.userUnit&&1!==Xt.userUnit&&yi("/UserUnit "+Xt.userUnit),ai.publish("putPage",{objId:_n,pageContext:Zt[Xi],pageNumber:Xi,page:Cn}),yi("/Contents "+Pn+" 0 R"),yi(">>"),yi("endobj");var nr=Cn.join("\n");return Sn(Pn,!0),Dn({data:nr,filters:cr()}),yi("endobj"),_n},pr=Ft.__private__.putPages=function(){var Xt,Xi,Cn=[];for(Xt=1;Xt<=Xn;Xt++)Zt[Xt].objId=cn(),Zt[Xt].contentsObjId=cn();for(Xt=1;Xt<=Xn;Xt++)Cn.push(gr({number:Xt,data:ei[Xt],objId:Zt[Xt].objId,contentsObjId:Zt[Xt].contentsObjId,mediaBox:Zt[Xt].mediaBox,cropBox:Zt[Xt].cropBox,bleedBox:Zt[Xt].bleedBox,trimBox:Zt[Xt].trimBox,artBox:Zt[Xt].artBox,userUnit:Zt[Xt].userUnit,rootDictionaryObjId:bi,resourceDictionaryObjId:Qi}));Sn(bi,!0),yi("<</Type /Pages");var _n="/Kids [";for(Xi=0;Xi<Xn;Xi++)_n+=Cn[Xi]+" 0 R ";yi(_n+"]"),yi("/Count "+Xn),yi(">>"),yi("endobj"),ai.publish("postPutPages")},zn=function(Xt,Xi,Cn){mn.hasOwnProperty(Xi)||(mn[Xi]={}),mn[Xi][Cn]=Xt},ro=function(Xt,Xi,Cn,_n,Pn){Pn=Pn||!1;var nr="F"+(Object.keys(Ji).length+1).toString(10),Pr={id:nr,postScriptName:Xt,fontName:Xi,fontStyle:Cn,encoding:_n,isStandardFont:Pn,metadata:{}};return ai.publish("addFont",{font:Pr,instance:this}),void 0!==nr&&(Ji[nr]=Pr,zn(nr,Xi,Cn)),nr},Yn=Ft.__private__.pdfEscape=Ft.pdfEscape=function(Xt,Xi){return function(Cn,_n){var Pn,nr,Pr,qr,is,Qs,Cs,Do,mo;if(Pr=(_n=_n||{}).sourceEncoding||"Unicode",is=_n.outputEncoding,(_n.autoencode||is)&&Ji[Ct].metadata&&Ji[Ct].metadata[Pr]&&Ji[Ct].metadata[Pr].encoding&&(qr=Ji[Ct].metadata[Pr].encoding,!is&&Ji[Ct].encoding&&(is=Ji[Ct].encoding),!is&&qr.codePages&&(is=qr.codePages[0]),"string"==typeof is&&(is=qr[is]),is)){for(Cs=!1,Qs=[],Pn=0,nr=Cn.length;Pn<nr;Pn++)(Do=is[Cn.charCodeAt(Pn)])?Qs.push(String.fromCharCode(Do)):Qs.push(Cn[Pn]),Qs[Pn].charCodeAt(0)>>8&&(Cs=!0);Cn=Qs.join("")}for(Pn=Cn.length;void 0===Cs&&0!==Pn;)Cn.charCodeAt(Pn-1)>>8&&(Cs=!0),Pn--;if(!Cs)return Cn;for(Qs=_n.noBOM?[]:[254,255],Pn=0,nr=Cn.length;Pn<nr;Pn++){if((mo=(Do=Cn.charCodeAt(Pn))>>8)>>8)throw new Error("Character at position "+Pn+" of string '"+Cn+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Qs.push(mo),Qs.push(Do-(mo<<8))}return String.fromCharCode.apply(void 0,Qs)}(Xt,Xi).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ut=Ft.__private__.beginPage=function(Xt,Xi){var Cn,_n="string"==typeof Xi&&Xi.toLowerCase();if("string"==typeof Xt&&(Cn=Di(Xt.toLowerCase()))&&(Xt=Cn[0],Xi=Cn[1]),Array.isArray(Xt)&&(Xi=Xt[1],Xt=Xt[0]),(isNaN(Xt)||isNaN(Xi))&&(Xt=yt[0],Xi=yt[1]),_n){switch(_n.substr(0,1)){case"l":Xt<Xi&&(_n="s");break;case"p":Xi<Xt&&(_n="s")}"s"===_n&&(Cn=Xt,Xt=Xi,Xi=Cn)}(14400<Xt||14400<Xi)&&(console.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Xt=Math.min(14400,Xt),Xi=Math.min(14400,Xi)),yt=[Xt,Xi],oi=!0,ei[++Xn]=[],Zt[Xn]={objId:0,contentsObjId:0,userUnit:Number(_i),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(Xt),topRightY:Number(Xi)}},Fi(Xn)},ii=function(){Ut.apply(this,arguments),Bu(dr),yi(rs),0!==uh&&yi(uh+" J"),0!==Ks&&yi(Ks+" j"),ai.publish("addPage",{pageNumber:Xn})},Fi=function(Xt){0<Xt&&Xt<=Xn&&(Ht=Xt)},dn=Ft.__private__.getNumberOfPages=Ft.getNumberOfPages=function(){return ei.length-1},jn=function(Xt,Xi,Cn){var _n,Pn=void 0;return Cn=Cn||{},Xi=void 0!==Xi?Xi:Ji[Ct].fontStyle,_n=(Xt=void 0!==Xt?Xt:Ji[Ct].fontName).toLowerCase(),void 0!==mn[_n]&&void 0!==mn[_n][Xi]?Pn=mn[_n][Xi]:void 0!==mn[Xt]&&void 0!==mn[Xt][Xi]?Pn=mn[Xt][Xi]:!1===Cn.disableWarning&&console.warn("Unable to look up font label for font '"+Xt+"', '"+Xi+"'. Refer to getFontList() for available fonts."),Pn||Cn.noFallback||null==(Pn=mn.times[Xi])&&(Pn=mn.times.normal),Pn},Qn=Ft.__private__.putInfo=function(){for(var Xt in hn(),yi("<<"),yi("/Producer (jsPDF "+it.version+")"),Hi)Hi.hasOwnProperty(Xt)&&Hi[Xt]&&yi("/"+Xt.substr(0,1).toUpperCase()+Xt.substr(1)+" ("+Yn(Hi[Xt])+")");yi("/CreationDate ("+Oi+")"),yi(">>"),yi("endobj")},Cr=Ft.__private__.putCatalog=function(Xt){var Xi=(Xt=Xt||{}).rootDictionaryObjId||bi;switch(hn(),yi("<<"),yi("/Type /Catalog"),yi("/Pages "+Xi+" 0 R"),ci||(ci="fullwidth"),ci){case"fullwidth":yi("/OpenAction [3 0 R /FitH null]");break;case"fullheight":yi("/OpenAction [3 0 R /FitV null]");break;case"fullpage":yi("/OpenAction [3 0 R /Fit]");break;case"original":yi("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Cn=""+ci;"%"===Cn.substr(Cn.length-1)&&(ci=parseInt(ci)/100),"number"==typeof ci&&yi("/OpenAction [3 0 R /XYZ null null "+Vi(ci)+"]")}switch(Jt||(Jt="continuous"),Jt){case"continuous":yi("/PageLayout /OneColumn");break;case"single":yi("/PageLayout /SinglePage");break;case"two":case"twoleft":yi("/PageLayout /TwoColumnLeft");break;case"tworight":yi("/PageLayout /TwoColumnRight")}Ii&&yi("/PageMode /"+Ii),ai.publish("putCatalog"),yi(">>"),yi("endobj")},$r=Ft.__private__.putTrailer=function(){yi("trailer"),yi("<<"),yi("/Size "+(xi+1)),yi("/Root "+xi+" 0 R"),yi("/Info "+(xi-1)+" 0 R"),yi("/ID [ <"+nn+"> <"+nn+"> ]"),yi(">>")},lr=Ft.__private__.putHeader=function(){yi("%PDF-"+ti),yi("%\xba\xdf\xac\xe0")},_s=Ft.__private__.putXRef=function(){var Xt=1,Xi="0000000000";for(yi("xref"),yi("0 "+(xi+1)),yi("0000000000 65535 f "),Xt=1;Xt<=xi;Xt++)yi("function"==typeof Ni[Xt]?(Xi+Ni[Xt]()).slice(-10)+" 00000 n ":void 0!==Ni[Xt]?(Xi+Ni[Xt]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},ps=Ft.__private__.buildDocument=function(){oi=!1,Si=xi=0,Ai=[],Ni=[],di=[],bi=cn(),Qi=cn(),ai.publish("buildDocument"),lr(),pr(),function(){ai.publish("putAdditionalObjects");for(var Xi=0;Xi<di.length;Xi++){var Cn=di[Xi];Sn(Cn.objId,!0),yi(Cn.content),yi("endobj")}ai.publish("postPutAdditionalObjects")}(),function(){for(var Xt in Ji)Ji.hasOwnProperty(Xt)&&(!1===mi||!0===mi&&Ui.hasOwnProperty(Xt))&&(ai.publish("putFont",{font:Xi=Ji[Xt],out:yi,newObject:hn,putStream:Dn}),!0!==Xi.isAlreadyPutted&&(Xi.objectNumber=hn(),yi("<<"),yi("/Type /Font"),yi("/BaseFont /"+Xi.postScriptName),yi("/Subtype /Type1"),"string"==typeof Xi.encoding&&yi("/Encoding /"+Xi.encoding),yi("/FirstChar 32"),yi("/LastChar 255"),yi(">>"),yi("endobj")));var Xi}(),ai.publish("putResources"),Sn(Qi,!0),yi("<<"),function(){for(var Xt in yi("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),yi("/Font <<"),Ji)Ji.hasOwnProperty(Xt)&&(!1===mi||!0===mi&&Ui.hasOwnProperty(Xt))&&yi("/"+Xt+" "+Ji[Xt].objectNumber+" 0 R");yi(">>"),yi("/XObject <<"),ai.publish("putXobjectDict"),yi(">>")}(),yi(">>"),yi("endobj"),ai.publish("postPutResources"),Qn(),Cr();var Xt=Si;return _s(),$r(),yi("startxref"),yi(""+Xt),yi("%%EOF"),oi=!0,Ai.join("\n")},so=Ft.__private__.getBlob=function(Xt){return new Blob([un(Xt)],{type:"application/pdf"})},ur=Ft.output=Ft.__private__.output=((gi=function(Xt,Xi){Xi=Xi||{};var Cn=ps();switch("string"==typeof Xi?Xi={filename:Xi}:Xi.filename=Xi.filename||"generated.pdf",Xt){case void 0:return Cn;case"save":Ft.save(Xi.filename);break;case"arraybuffer":return un(Cn);case"blob":return so(Cn);case"bloburi":case"bloburl":if(void 0!==pe.URL&&"function"==typeof pe.URL.createObjectURL)return pe.URL&&pe.URL.createObjectURL(so(Cn))||void 0;console.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":return"data:application/pdf;filename="+Xi.filename+";base64,"+btoa(Cn);case"dataurlnewwindow":var _n='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring")+'"></iframe></body></html>',Pn=pe.open();if(null!==Pn&&Pn.document.write(_n),Pn||"undefined"==typeof safari)return Pn;case"datauri":case"dataurl":return pe.document.location.href="data:application/pdf;filename="+Xi.filename+";base64,"+btoa(Cn);default:return null}}).foo=function(){try{return gi.apply(this,arguments)}catch(Cn){var Xt=Cn.stack||"";~Xt.indexOf(" at ")&&(Xt=Xt.split(" at ")[1]);var Xi="Error in function "+Xt.split("\n")[0].split("<")[0]+": "+Cn.message;if(!pe.console)throw new Error(Xi);pe.console.error(Xi,Cn),pe.alert&&alert(Xi)}},(gi.foo.bar=gi).foo),Ts=function(Xt){return!0===Array.isArray(Bi)&&-1<Bi.indexOf(Xt)};switch(mt){case"pt":Gt=1;break;case"mm":Gt=72/25.4;break;case"cm":Gt=72/2.54;break;case"in":Gt=72;break;case"px":Gt=1==Ts("px_scaling")?.75:96/72;break;case"pc":case"em":Gt=12;break;case"ex":Gt=6;break;default:throw new Error("Invalid unit: "+mt)}$i(),bn();var Fc=Ft.__private__.getPageInfo=function(Xt){if(isNaN(Xt)||Xt%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Zt[Xt].objId,pageNumber:Xt,pageContext:Zt[Xt]}},$l=Ft.__private__.getPageInfoByObjId=function(Xt){for(var Xi in Zt)if(Zt[Xi].objId===Xt)break;if(isNaN(Xt)||Xt%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");return Fc(Xi)},sd=Ft.__private__.getCurrentPageInfo=function(){return{objId:Zt[Ht].objId,pageNumber:Ht,pageContext:Zt[Ht]}};Ft.addPage=function(){return ii.apply(this,arguments),this},Ft.setPage=function(){return Fi.apply(this,arguments),this},Ft.insertPage=function(Xt){return this.addPage(),this.movePage(Ht,Xt),this},Ft.movePage=function(Xt,Xi){if(Xi<Xt){for(var Cn=ei[Xt],_n=Zt[Xt],Pn=Xt;Xi<Pn;Pn--)ei[Pn]=ei[Pn-1],Zt[Pn]=Zt[Pn-1];ei[Xi]=Cn,Zt[Xi]=_n,this.setPage(Xi)}else if(Xt<Xi){for(Cn=ei[Xt],_n=Zt[Xt],Pn=Xt;Pn<Xi;Pn++)ei[Pn]=ei[Pn+1],Zt[Pn]=Zt[Pn+1];ei[Xi]=Cn,Zt[Xi]=_n,this.setPage(Xi)}return this},Ft.deletePage=function(){return function(Xt){0<Xt&&Xt<=Xn&&(ei.splice(Xt,1),--Xn<Ht&&(Ht=Xn),this.setPage(Ht))}.apply(this,arguments),this},Ft.__private__.text=Ft.text=function(Xt,Xi,Cn,_n){var Pn;"number"!=typeof Xt||"number"!=typeof Xi||"string"!=typeof Cn&&!Array.isArray(Cn)||(Pn=Cn,Cn=Xi,Xi=Xt,Xt=Pn);var nr=arguments[3],Pr=arguments[4],qr=arguments[5];if("object"===Te(nr)&&null!==nr||("string"==typeof Pr&&(qr=Pr,Pr=null),"string"==typeof nr&&(qr=nr,nr=null),"number"==typeof nr&&(Pr=nr,nr=null),_n={flags:nr,angle:Pr,align:qr}),(nr=nr||{}).noBOM=nr.noBOM||!0,nr.autoencode=nr.autoencode||!0,isNaN(Xi)||isNaN(Cn)||null==Xt)throw new Error("Invalid arguments passed to jsPDF.text");if(0===Xt.length)return Do;var is,Qs="",Cs="number"==typeof _n.lineHeightFactor?_n.lineHeightFactor:Nl,Do=_n.scope||this;function mo(Va){for(var sl,Xl=Va.concat(),Oa=[],Ul=Xl.length;Ul--;)"string"==typeof(sl=Xl.shift())?Oa.push(sl):Array.isArray(Va)&&1===sl.length?Oa.push(sl[0]):Oa.push([sl[0],sl[1],sl[2]]);return Oa}function Xr(Va,sl){var Xl;if("string"==typeof Va)Xl=sl(Va)[0];else if(Array.isArray(Va)){for(var Oa,Ul,za=Va.concat(),go=[],cu=za.length;cu--;)"string"==typeof(Oa=za.shift())?go.push(sl(Oa)[0]):Array.isArray(Oa)&&"string"===Oa[0]&&(Ul=sl(Oa[0],Oa[1],Oa[2]),go.push([Ul[0],Ul[1],Ul[2]]));Xl=go}return Xl}var Ta=!1,Gs=!0;if("string"==typeof Xt)Ta=!0;else if(Array.isArray(Xt)){for(var Oo,Jl=Xt.concat(),Ns=[],No=Jl.length;No--;)("string"!=typeof(Oo=Jl.shift())||Array.isArray(Oo)&&"string"!=typeof Oo[0])&&(Gs=!1);Ta=Gs}if(!1===Ta)throw new Error('Type of text must be string or Array. "'+Xt+'" is not recognized.');var lu=Ji[Ct].encoding;"WinAnsiEncoding"!==lu&&"StandardEncoding"!==lu||(Xt=Xr(Xt,function(Va,sl,Xl){return[(Oa=Va,Oa=Oa.split("\t").join(Array(_n.TabLen||9).join(" ")),Yn(Oa,nr)),sl,Xl];var Oa})),"string"==typeof Xt&&(Xt=Xt.match(/[\r?\n]/)?Xt.split(/\r\n|\r|\n/g):[Xt]);var Ua=Gn/Do.internal.scaleFactor,Ds=Ua*(Nl-1);switch(_n.baseline){case"bottom":Cn-=Ds;break;case"top":Cn+=Ua-Ds;break;case"hanging":Cn+=Ua-2*Ds;break;case"middle":Cn+=Ua/2-Ds}0<(dh=_n.maxWidth||0)&&("string"==typeof Xt?Xt=Do.splitTextToSize(Xt,dh):"[object Array]"===Object.prototype.toString.call(Xt)&&(Xt=Do.splitTextToSize(Xt.join(" "),dh)));var Hr={text:Xt,x:Xi,y:Cn,options:_n,mutex:{pdfEscape:Yn,activeFontKey:Ct,fonts:Ji,activeFontSize:Gn}};ai.publish("preProcessText",Hr),Xt=Hr.text,Pr=(_n=Hr.options).angle;var ua=Do.internal.scaleFactor,bl=[];if(Pr){Pr*=Math.PI/180;var Al=Math.cos(Pr),Fu=Math.sin(Pr);bl=[Vi(Al),Vi(Fu),Vi(-1*Fu),Vi(Al)]}void 0!==(hh=_n.charSpace)&&(Qs+=Zi(hh*ua)+" Tc\n");var Ia=-1,Gd=void 0!==_n.renderingMode?_n.renderingMode:_n.stroke,wl=Do.internal.getCurrentPageInfo().pageContext;switch(Gd){case 0:case!1:case"fill":Ia=0;break;case 1:case!0:case"stroke":Ia=1;break;case 2:case"fillThenStroke":Ia=2;break;case 3:case"invisible":Ia=3;break;case 4:case"fillAndAddForClipping":Ia=4;break;case 5:case"strokeAndAddPathForClipping":Ia=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ia=6;break;case 7:case"addToPathForClipping":Ia=7}-1!==Ia?Qs+=Ia+" Tr\n":-1!==(void 0!==wl.usedRenderingMode?wl.usedRenderingMode:-1)&&(Qs+="0 Tr\n"),-1!==Ia&&(wl.usedRenderingMode=Ia),qr=_n.align||"left";var wc=Gn*Cs,Mm=Do.internal.pageSize.getWidth(),Sm=(ua=Do.internal.scaleFactor,Ji[Ct]),hh=_n.charSpace||ta,dh=_n.maxWidth||0,Hp=(nr={},[]);if("[object Array]"===Object.prototype.toString.call(Xt)){var ph,ja;Ns=mo(Xt),"left"!==qr&&(ja=Ns.map(function(Va){return Do.getStringUnitWidth(Va,{font:Sm,charSpace:hh,fontSize:Gn})*Gn/ua})),Math.max.apply(Math,ja);var Cc,xl=0;if("right"===qr){Xi-=ja[0],Xt=[];var fs=0;for(No=Ns.length;fs<No;fs++)ph=0===fs?(Cc=Rr(Xi),Bs(Cn)):(Cc=(xl-ja[fs])*ua,-wc),Xt.push([Ns[fs],Cc,ph]),xl=ja[fs]}else if("center"===qr)for(Xi-=ja[0]/2,Xt=[],fs=0,No=Ns.length;fs<No;fs++)ph=0===fs?(Cc=Rr(Xi),Bs(Cn)):(Cc=(xl-ja[fs])/2*ua,-wc),Xt.push([Ns[fs],Cc,ph]),xl=ja[fs];else if("left"===qr)for(Xt=[],fs=0,No=Ns.length;fs<No;fs++)ph=0===fs?Bs(Cn):-wc,Cc=0===fs?Rr(Xi):0,Xt.push(Ns[fs]);else{if("justify"!==qr)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(Xt=[],dh=0!==dh?dh:Mm,fs=0,No=Ns.length;fs<No;fs++)ph=0===fs?Bs(Cn):-wc,Cc=0===fs?Rr(Xi):0,fs<No-1&&Hp.push(((dh-ja[fs])/(Ns[fs].split(" ").length-1)*ua).toFixed(2)),Xt.push([Ns[fs],Cc,ph])}}!0===("boolean"==typeof _n.R2L?_n.R2L:$n)&&(Xt=Xr(Xt,function(Va,sl,Xl){return[Va.split("").reverse().join(""),sl,Xl]})),ai.publish("postProcessText",Hr={text:Xt,x:Xi,y:Cn,options:_n,mutex:{pdfEscape:Yn,activeFontKey:Ct,fonts:Ji,activeFontSize:Gn}}),is=Hr.mutex.isHex,Ns=mo(Xt=Hr.text),Xt=[];var Ha,uo,va,Vp=0,Nc=(No=Ns.length,"");for(fs=0;fs<No;fs++)Nc="",Array.isArray(Ns[fs])?(Ha=parseFloat(Ns[fs][1]),uo=parseFloat(Ns[fs][2]),va=(is?"<":"(")+Ns[fs][0]+(is?">":")"),Vp=1):(Ha=Rr(Xi),uo=Bs(Cn),va=(is?"<":"(")+Ns[fs]+(is?">":")")),void 0!==Hp&&void 0!==Hp[fs]&&(Nc=Hp[fs]+" Tw\n"),Xt.push(0!==bl.length&&0===fs?Nc+bl.join(" ")+" "+Ha.toFixed(2)+" "+uo.toFixed(2)+" Tm\n"+va:1===Vp||0===Vp&&0===fs?Nc+Ha.toFixed(2)+" "+uo.toFixed(2)+" Td\n"+va:Nc+va);Xt=Xt.join(0===Vp?" Tj\nT* ":" Tj\n"),Xt+=" Tj\n";var ad="BT\n/"+Ct+" "+Gn+" Tf\n"+(Gn*Cs).toFixed(2)+" TL\n"+ea+"\n";return ad+=Qs,ad+=Xt,yi(ad+="ET"),Ui[Ct]=!0,Do},Ft.__private__.lstext=Ft.lstext=function(Xt,Xi,Cn,_n){return console.warn("jsPDF.lstext is deprecated"),this.text(Xt,Xi,Cn,{charSpace:_n})},Ft.__private__.clip=Ft.clip=function(Xt){yi("evenodd"===Xt?"W*":"W"),yi("n")},Ft.__private__.clip_fixed=Ft.clip_fixed=function(Xt){console.log("clip_fixed is deprecated"),Ft.clip(Xt)};var Io=Ft.__private__.isValidStyle=function(Xt){var Xi=!1;return-1!==[void 0,null,"S","F","DF","FD","f","f*","B","B*"].indexOf(Xt)&&(Xi=!0),Xi},ya=Ft.__private__.getStyle=function(Xt){var Xi="S";return"F"===Xt?Xi="f":"FD"===Xt||"DF"===Xt?Xi="B":"f"!==Xt&&"f*"!==Xt&&"B"!==Xt&&"B*"!==Xt||(Xi=Xt),Xi};Ft.__private__.line=Ft.line=function(Xt,Xi,Cn,_n){if(isNaN(Xt)||isNaN(Xi)||isNaN(Cn)||isNaN(_n))throw new Error("Invalid arguments passed to jsPDF.line");return this.lines([[Cn-Xt,_n-Xi]],Xt,Xi)},Ft.__private__.lines=Ft.lines=function(Xt,Xi,Cn,_n,Pn,nr){var Pr,qr,is,Qs,Cs,Do,mo,Xr,Ta,Gs,Oo,Jl;if("number"==typeof Xt&&(Jl=Cn,Cn=Xi,Xi=Xt,Xt=Jl),_n=_n||[1,1],nr=nr||!1,isNaN(Xi)||isNaN(Cn)||!Array.isArray(Xt)||!Array.isArray(_n)||!Io(Pn)||"boolean"!=typeof nr)throw new Error("Invalid arguments passed to jsPDF.lines");for(yi(Zi(Rr(Xi))+" "+Zi(Bs(Cn))+" m "),Pr=_n[0],qr=_n[1],Qs=Xt.length,Gs=Xi,Oo=Cn,is=0;is<Qs;is++)2===(Cs=Xt[is]).length?(Oo=Cs[1]*qr+Oo,yi(Zi(Rr(Gs=Cs[0]*Pr+Gs))+" "+Zi(Bs(Oo))+" l")):(Do=Cs[0]*Pr+Gs,mo=Cs[1]*qr+Oo,Xr=Cs[2]*Pr+Gs,Ta=Cs[3]*qr+Oo,Gs=Cs[4]*Pr+Gs,Oo=Cs[5]*qr+Oo,yi(Zi(Rr(Do))+" "+Zi(Bs(mo))+" "+Zi(Rr(Xr))+" "+Zi(Bs(Ta))+" "+Zi(Rr(Gs))+" "+Zi(Bs(Oo))+" c"));return nr&&yi(" h"),null!==Pn&&yi(ya(Pn)),this},Ft.__private__.rect=Ft.rect=function(Xt,Xi,Cn,_n,Pn){if(isNaN(Xt)||isNaN(Xi)||isNaN(Cn)||isNaN(_n)||!Io(Pn))throw new Error("Invalid arguments passed to jsPDF.rect");return yi([Vi(Rr(Xt)),Vi(Bs(Xi)),Vi(Cn*Gt),Vi(-_n*Gt),"re"].join(" ")),null!==Pn&&yi(ya(Pn)),this},Ft.__private__.triangle=Ft.triangle=function(Xt,Xi,Cn,_n,Pn,nr,Pr){if(isNaN(Xt)||isNaN(Xi)||isNaN(Cn)||isNaN(_n)||isNaN(Pn)||isNaN(nr)||!Io(Pr))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Cn-Xt,_n-Xi],[Pn-Cn,nr-_n],[Xt-Pn,Xi-nr]],Xt,Xi,[1,1],Pr,!0),this},Ft.__private__.roundedRect=Ft.roundedRect=function(Xt,Xi,Cn,_n,Pn,nr,Pr){if(isNaN(Xt)||isNaN(Xi)||isNaN(Cn)||isNaN(_n)||isNaN(Pn)||isNaN(nr)||!Io(Pr))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var qr=4/3*(Math.SQRT2-1);return this.lines([[Cn-2*Pn,0],[Pn*qr,0,Pn,nr-nr*qr,Pn,nr],[0,_n-2*nr],[0,nr*qr,-Pn*qr,nr,-Pn,nr],[2*Pn-Cn,0],[-Pn*qr,0,-Pn,-nr*qr,-Pn,-nr],[0,2*nr-_n],[0,-nr*qr,Pn*qr,-nr,Pn,-nr]],Xt+Pn,Xi,[1,1],Pr),this},Ft.__private__.ellipse=Ft.ellipse=function(Xt,Xi,Cn,_n,Pn){if(isNaN(Xt)||isNaN(Xi)||isNaN(Cn)||isNaN(_n)||!Io(Pn))throw new Error("Invalid arguments passed to jsPDF.ellipse");var nr=4/3*(Math.SQRT2-1)*Cn,Pr=4/3*(Math.SQRT2-1)*_n;return yi([Vi(Rr(Xt+Cn)),Vi(Bs(Xi)),"m",Vi(Rr(Xt+Cn)),Vi(Bs(Xi-Pr)),Vi(Rr(Xt+nr)),Vi(Bs(Xi-_n)),Vi(Rr(Xt)),Vi(Bs(Xi-_n)),"c"].join(" ")),yi([Vi(Rr(Xt-nr)),Vi(Bs(Xi-_n)),Vi(Rr(Xt-Cn)),Vi(Bs(Xi-Pr)),Vi(Rr(Xt-Cn)),Vi(Bs(Xi)),"c"].join(" ")),yi([Vi(Rr(Xt-Cn)),Vi(Bs(Xi+Pr)),Vi(Rr(Xt-nr)),Vi(Bs(Xi+_n)),Vi(Rr(Xt)),Vi(Bs(Xi+_n)),"c"].join(" ")),yi([Vi(Rr(Xt+nr)),Vi(Bs(Xi+_n)),Vi(Rr(Xt+Cn)),Vi(Bs(Xi+Pr)),Vi(Rr(Xt+Cn)),Vi(Bs(Xi)),"c"].join(" ")),null!==Pn&&yi(ya(Pn)),this},Ft.__private__.circle=Ft.circle=function(Xt,Xi,Cn,_n){if(isNaN(Xt)||isNaN(Xi)||isNaN(Cn)||!Io(_n))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(Xt,Xi,Cn,Cn,_n)},Ft.setFont=function(Xt,Xi){return Ct=jn(Xt,Xi,{disableWarning:!1}),this},Ft.setFontStyle=Ft.setFontType=function(Xt){return Ct=jn(void 0,Xt),this},Ft.__private__.getFontList=Ft.getFontList=function(){var Xt,Xi,Cn,_n={};for(Xt in mn)if(mn.hasOwnProperty(Xt))for(Xi in _n[Xt]=Cn=[],mn[Xt])mn[Xt].hasOwnProperty(Xi)&&Cn.push(Xi);return _n},Ft.addFont=function(Xt,Xi,Cn,_n){ro.call(this,Xt,Xi,Cn,_n=_n||"Identity-H")};var Nl,dr=St.lineWidth||.200025,Bu=Ft.__private__.setLineWidth=Ft.setLineWidth=function(Xt){return yi((Xt*Gt).toFixed(2)+" w"),this},ls=(Ft.__private__.setLineDash=it.API.setLineDash=function(Xt,Xi){if(Xt=Xt||[],Xi=Xi||0,isNaN(Xi)||!Array.isArray(Xt))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return Xt=Xt.map(function(Cn){return(Cn*Gt).toFixed(3)}).join(" "),Xi=parseFloat((Xi*Gt).toFixed(3)),yi("["+Xt+"] "+Xi+" d"),this},Ft.__private__.getLineHeight=Ft.getLineHeight=function(){return Gn*Nl}),od=(ls=Ft.__private__.getLineHeight=Ft.getLineHeight=function(){return Gn*Nl},Ft.__private__.setLineHeightFactor=Ft.setLineHeightFactor=function(Xt){return"number"==typeof(Xt=Xt||1.15)&&(Nl=Xt),this}),Ru=Ft.__private__.getLineHeightFactor=Ft.getLineHeightFactor=function(){return Nl};od(St.lineHeight);var Rr=Ft.__private__.getHorizontalCoordinate=function(Xt){return Xt*Gt},Bs=Ft.__private__.getVerticalCoordinate=function(Xt){return Zt[Ht].mediaBox.topRightY-Zt[Ht].mediaBox.bottomLeftY-Xt*Gt},rl=Ft.__private__.getHorizontalCoordinateString=function(Xt){return Vi(Xt*Gt)},Fr=Ft.__private__.getVerticalCoordinateString=function(Xt){return Vi(Zt[Ht].mediaBox.topRightY-Zt[Ht].mediaBox.bottomLeftY-Xt*Gt)},rs=St.strokeColor||"0 G",ca=(Ft.__private__.getStrokeColor=Ft.getDrawColor=function(){return ki(rs)},Ft.__private__.setStrokeColor=Ft.setDrawColor=function(Xt,Xi,Cn,_n){return rs=xn({ch1:Xt,ch2:Xi,ch3:Cn,ch4:_n,pdfColorType:"draw",precision:2}),yi(rs),this},St.fillColor||"0 g"),ea=(Ft.__private__.getFillColor=Ft.getFillColor=function(){return ki(ca)},Ft.__private__.setFillColor=Ft.setFillColor=function(Xt,Xi,Cn,_n){return ca=xn({ch1:Xt,ch2:Xi,ch3:Cn,ch4:_n,pdfColorType:"fill",precision:2}),yi(ca),this},St.textColor||"0 g"),au=Ft.__private__.getTextColor=Ft.getTextColor=function(){return ki(ea)},ta=(Ft.__private__.setTextColor=Ft.setTextColor=function(Xt,Xi,Cn,_n){return ea=xn({ch1:Xt,ch2:Xi,ch3:Cn,ch4:_n,pdfColorType:"text",precision:3}),this},St.charSpace||0),vl=Ft.__private__.getCharSpace=Ft.getCharSpace=function(){return ta},uh=(Ft.__private__.setCharSpace=Ft.setCharSpace=function(Xt){if(isNaN(Xt))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ta=Xt,this},0);Ft.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},Ft.__private__.setLineCap=Ft.setLineCap=function(Xt){var Xi=Ft.CapJoinStyles[Xt];if(void 0===Xi)throw new Error("Line cap style of '"+Xt+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return yi((uh=Xi)+" J"),this};var _l,Ks=0;for(var Zl in Ft.__private__.setLineJoin=Ft.setLineJoin=function(Xt){var Xi=Ft.CapJoinStyles[Xt];if(void 0===Xi)throw new Error("Line join style of '"+Xt+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return yi((Ks=Xi)+" j"),this},Ft.__private__.setMiterLimit=Ft.setMiterLimit=function(Xt){if(Xt=Xt||0,isNaN(Xt))throw new Error("Invalid argument passed to jsPDF.setMiterLimit");return _l=parseFloat(Vi(Xt*Gt)),yi(_l+" M"),this},Ft.save=function(Xt,Xi){if(Xt=Xt||"generated.pdf",(Xi=Xi||{}).returnPromise=Xi.returnPromise||!1,!1!==Xi.returnPromise)return new Promise(function(Cn,_n){try{var Pn=Y(so(ps()),Xt);"function"==typeof Y.unload&&pe.setTimeout&&setTimeout(Y.unload,911),Cn(Pn)}catch(nr){_n(nr.message)}});Y(so(ps()),Xt),"function"==typeof Y.unload&&pe.setTimeout&&setTimeout(Y.unload,911)},it.API)it.API.hasOwnProperty(Zl)&&("events"===Zl&&it.API.events.length?function(Xt,Xi){var _n,Pn;for(Pn=Xi.length-1;-1!==Pn;Pn--)Xt.subscribe.apply(Xt,[Xi[Pn][0]].concat("function"==typeof(_n=Xi[Pn][1])?[_n]:_n))}(ai,it.API.events):Ft[Zl]=it.API[Zl]);return Ft.internal={pdfEscape:Yn,getStyle:ya,getFont:function(){return Ji[jn.apply(Ft,arguments)]},getFontSize:ln,getCharSpace:vl,getTextColor:au,getLineHeight:ls,getLineHeightFactor:Ru,write:en,getHorizontalCoordinate:Rr,getVerticalCoordinate:Bs,getCoordinateString:rl,getVerticalCoordinateString:Fr,collections:{},newObject:hn,newAdditionalObject:En,newObjectDeferred:cn,newObjectDeferredBegin:Sn,getFilters:cr,putStream:Dn,events:ai,scaleFactor:Gt,pageSize:{getWidth:function(){return(Zt[Ht].mediaBox.topRightX-Zt[Ht].mediaBox.bottomLeftX)/Gt},setWidth:function(Xt){Zt[Ht].mediaBox.topRightX=Xt*Gt+Zt[Ht].mediaBox.bottomLeftX},getHeight:function(){return(Zt[Ht].mediaBox.topRightY-Zt[Ht].mediaBox.bottomLeftY)/Gt},setHeight:function(Xt){Zt[Ht].mediaBox.topRightY=Xt*Gt+Zt[Ht].mediaBox.bottomLeftY}},output:ur,getNumberOfPages:dn,pages:ei,out:yi,f2:Vi,f3:Zi,getPageInfo:Fc,getPageInfoByObjId:$l,getCurrentPageInfo:sd,getPDFVersion:ui,hasHotfix:Ts},Object.defineProperty(Ft.internal.pageSize,"width",{get:function(){return(Zt[Ht].mediaBox.topRightX-Zt[Ht].mediaBox.bottomLeftX)/Gt},set:function(Xt){Zt[Ht].mediaBox.topRightX=Xt*Gt+Zt[Ht].mediaBox.bottomLeftX},enumerable:!0,configurable:!0}),Object.defineProperty(Ft.internal.pageSize,"height",{get:function(){return(Zt[Ht].mediaBox.topRightY-Zt[Ht].mediaBox.bottomLeftY)/Gt},set:function(Xt){Zt[Ht].mediaBox.topRightY=Xt*Gt+Zt[Ht].mediaBox.bottomLeftY},enumerable:!0,configurable:!0}),function(Xt){for(var Xi=0,Cn=On.length;Xi<Cn;Xi++){var _n=ro(Xt[Xi][0],Xt[Xi][1],Xt[Xi][2],On[Xi][3],!0);Ui[_n]=!0;var Pn=Xt[Xi][0].split("-");zn(_n,Pn[0],Pn[1]||"")}ai.publish("addFonts",{fonts:Ji,dictionary:mn})}(On),Ct="F1",ii(yt,ht),ai.publish("initialized"),Ft}return it.API={events:[]},it.version="1.5.3",void 0!==(z=function(){return it}.call(lt,N,lt,hi))&&(hi.exports=z),it}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")());(function(pe,Ge){var it,ht=1,mt=function(wi){return wi.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},yt=function(wi){return wi.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ot=function(wi){if(isNaN(wi))throw new Error("Invalid argument passed to jsPDF.f2");return wi.toFixed(2)},St=function(wi){if(isNaN(wi))throw new Error("Invalid argument passed to jsPDF.f2");return wi.toFixed(5)};pe.__acroform__={};var Tt=function(wi,Hi){wi.prototype=Object.create(Hi.prototype),wi.prototype.constructor=wi},_i=function(wi){return wi*ht},mi=function(wi){return wi/ht},Ui=function(wi){var Hi=new Gt,xi=In.internal.getHeight(wi)||0,Ni=In.internal.getWidth(wi)||0;return Hi.BBox=[0,0,Number(Ot(Ni)),Number(Ot(xi))],Hi},Ft=pe.__acroform__.setBit=function(wi,Hi){if(wi=wi||0,Hi=Hi||0,isNaN(wi)||isNaN(Hi))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return wi|1<<Hi},ti=pe.__acroform__.clearBit=function(wi,Hi){if(wi=wi||0,Hi=Hi||0,isNaN(wi)||isNaN(Hi))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return wi&~(1<<Hi)},ui=pe.__acroform__.getBit=function(wi,Hi){if(isNaN(wi)||isNaN(Hi))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(wi&1<<Hi)?0:1},vi=pe.__acroform__.getBitForPdf=function(wi,Hi){if(isNaN(wi)||isNaN(Hi))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return ui(wi,Hi-1)},Di=pe.__acroform__.setBitForPdf=function(wi,Hi){if(isNaN(wi)||isNaN(Hi))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Ft(wi,Hi-1)},Oi=pe.__acroform__.clearBitForPdf=function(wi,Hi,xi){if(isNaN(wi)||isNaN(Hi))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return ti(wi,Hi-1)},Vi=pe.__acroform__.calculateCoordinates=function(wi){var Hi=this.internal.getHorizontalCoordinate,xi=this.internal.getVerticalCoordinate,Ni=wi[0],Ji=wi[1],mn=wi[2],Xn=wi[3],Zt={};return Zt.lowerLeft_X=Hi(Ni)||0,Zt.lowerLeft_Y=xi(Ji+Xn)||0,Zt.upperRight_X=Hi(Ni+mn)||0,Zt.upperRight_Y=xi(Ji)||0,[Number(Ot(Zt.lowerLeft_X)),Number(Ot(Zt.lowerLeft_Y)),Number(Ot(Zt.upperRight_X)),Number(Ot(Zt.upperRight_Y))]},Zi=function(wi){if(wi.appearanceStreamContent)return wi.appearanceStreamContent;if(wi.V||wi.DV){var Hi=[],Ni=nn(wi,wi.V||wi.DV),Ji=it.internal.getFont(wi.fontName,wi.fontStyle).id;Hi.push("/Tx BMC"),Hi.push("q"),Hi.push("BT"),Hi.push(it.__private__.encodeColorString(wi.color)),Hi.push("/"+Ji+" "+Ot(Ni.fontSize)+" Tf"),Hi.push("1 0 0 1 0 0 Tm"),Hi.push(Ni.text),Hi.push("ET"),Hi.push("Q"),Hi.push("EMC");var mn=new Ui(wi);return mn.stream=Hi.join("\n"),mn}},nn=function(wi,Hi){var xi=wi.maxFontSize||12,Ni={text:"",fontSize:""},Ji=(Hi=")"==(Hi="("==Hi.substr(0,1)?Hi.substr(1):Hi).substr(Hi.length-1)?Hi.substr(0,Hi.length-1):Hi).split(" "),mn=(it.__private__.encodeColorString(wi.color),xi),Xn=In.internal.getHeight(wi)||0;Xn=Xn<0?-Xn:Xn;var Zt=In.internal.getWidth(wi)||0;Zt=Zt<0?-Zt:Zt;var zn,ro,Yn;mn++;e:for(;;){Hi="";var ai=Tn("3",wi,--mn).height,Bi=wi.multiline?Xn-mn:(Xn-ai)/2,hn=-2,cn=Bi+=2,Sn=0,En=0,bi=0;if(mn<=0){Hi="(...) Tj\n",Hi+="% Width of Text: "+Tn(Hi,wi,mn=12).width+", FieldWidth:"+Zt+"\n";break}bi=Tn(Ji[0]+" ",wi,mn).width;var Qi="",ki=0;for(var xn in Ji)if(Ji.hasOwnProperty(xn)){Qi=" "==(Qi+=Ji[xn]+" ").substr(Qi.length-1)?Qi.substr(0,Qi.length-1):Qi;var cr=parseInt(xn);bi=Tn(Qi+" ",wi,mn).width;var Dn=(ro=Qi,Yn=mn,(zn=cr)+1<Ji.length&&Tn(ro+" "+Ji[zn+1],wi,Yn).width<=Zt-4),gr=xn>=Ji.length-1;if(Dn&&!gr){Qi+=" ";continue}if(Dn||gr){if(gr)En=cr;else if(wi.multiline&&Xn<(ai+2)*(ki+2)+2)continue e}else{if(!wi.multiline||Xn<(ai+2)*(ki+2)+2)continue e;En=cr}for(var pr="",Dr=Sn;Dr<=En;Dr++)pr+=Ji[Dr]+" ";switch(pr=" "==pr.substr(pr.length-1)?pr.substr(0,pr.length-1):pr,bi=Tn(pr,wi,mn).width,wi.textAlign){case"right":hn=Zt-bi-2;break;case"center":hn=(Zt-bi)/2;break;default:hn=2}Hi+=Ot(hn)+" "+Ot(cn)+" Td\n",Hi+="("+mt(pr)+") Tj\n",Hi+=-Ot(hn)+" 0 Td\n",cn=-(mn+2),bi=0,Sn=En+1,ki++,Qi=""}break}return Ni.text=Hi,Ni.fontSize=mn,Ni},Tn=function(wi,Hi,xi){var Ni=it.internal.getFont(Hi.fontName,Hi.fontStyle),Ji=it.getStringUnitWidth(wi,{font:Ni,fontSize:parseFloat(xi),charSpace:0})*parseFloat(xi);return{height:it.getStringUnitWidth("3",{font:Ni,fontSize:parseFloat(xi),charSpace:0})*parseFloat(xi)*1.5,width:Ji}},bn={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Li=function(){it.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var wi=it.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var Hi in wi)if(wi.hasOwnProperty(Hi)){var xi=wi[Hi];xi.objId=void 0,xi.hasAnnotation&&si.call(it,xi)}},si=function(wi){var Hi={type:"reference",object:wi};void 0===it.internal.getPageInfo(wi.page).pageContext.annotations.find(function(xi){return xi.type===Hi.type&&xi.object===Hi.object})&&it.internal.getPageInfo(wi.page).pageContext.annotations.push(Hi)},$i=function(){if(void 0===it.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");it.internal.write("/AcroForm "+it.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")},Ye=function(){it.internal.events.unsubscribe(it.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete it.internal.acroformPlugin.acroFormDictionaryRoot._eventID,it.internal.acroformPlugin.printedOut=!0},Ht=function(wi){var Hi=!wi;for(var xi in wi||(it.internal.newObjectDeferredBegin(it.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),it.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),wi=wi||it.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(wi.hasOwnProperty(xi)){var Ni=wi[xi],Ji=[],mn=Ni.Rect;if(Ni.Rect&&(Ni.Rect=Vi.call(this,Ni.Rect)),it.internal.newObjectDeferredBegin(Ni.objId,!0),Ni.DA=In.createDefaultAppearanceStream(Ni),"object"===Te(Ni)&&"function"==typeof Ni.getKeyValueListForStream&&(Ji=Ni.getKeyValueListForStream()),Ni.Rect=mn,Ni.hasAppearanceStream&&!Ni.appearanceStreamContent){var Xn=Zi.call(this,Ni);Ji.push({key:"AP",value:"<</N "+Xn+">>"}),it.internal.acroformPlugin.xForms.push(Xn)}if(Ni.appearanceStreamContent){var Zt="";for(var di in Ni.appearanceStreamContent)if(Ni.appearanceStreamContent.hasOwnProperty(di)){var ai=Ni.appearanceStreamContent[di];if(Zt+="/"+di+" ",Zt+="<<",1<=Object.keys(ai).length||Array.isArray(ai))for(var xi in ai){var Bi;ai.hasOwnProperty(xi)&&("function"==typeof(Bi=ai[xi])&&(Bi=Bi.call(this,Ni)),Zt+="/"+xi+" "+Bi+" ",0<=it.internal.acroformPlugin.xForms.indexOf(Bi)||it.internal.acroformPlugin.xForms.push(Bi))}else"function"==typeof(Bi=ai)&&(Bi=Bi.call(this,Ni)),Zt+="/"+xi+" "+Bi,0<=it.internal.acroformPlugin.xForms.indexOf(Bi)||it.internal.acroformPlugin.xForms.push(Bi);Zt+=">>"}Ji.push({key:"AP",value:"<<\n"+Zt+">>"})}it.internal.putStream({additionalKeyValues:Ji}),it.internal.out("endobj")}Hi&&$t.call(this,it.internal.acroformPlugin.xForms)},$t=function(wi){for(var Hi in wi)if(wi.hasOwnProperty(Hi)){var xi=Hi,Ni=wi[Hi];it.internal.newObjectDeferredBegin(Ni&&Ni.objId,!0),"object"===Te(Ni)&&"function"==typeof Ni.putStream&&Ni.putStream(),delete wi[xi]}},ci=function(){if(void 0!==this.internal&&(void 0===this.internal.acroformPlugin||!1===this.internal.acroformPlugin.isInitialized)){if(it=this,kt.FieldNum=0,this.internal.acroformPlugin=JSON.parse(JSON.stringify(bn)),this.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ht=it.internal.scaleFactor,it.internal.acroformPlugin.acroFormDictionaryRoot=new gi,it.internal.acroformPlugin.acroFormDictionaryRoot._eventID=it.internal.events.subscribe("postPutResources",Ye),it.internal.events.subscribe("buildDocument",Li),it.internal.events.subscribe("putCatalog",$i),it.internal.events.subscribe("postPutPages",Ht),it.internal.acroformPlugin.isInitialized=!0}},Ii=pe.__acroform__.arrayToPdfArray=function(wi){if(Array.isArray(wi)){for(var Hi="[",xi=0;xi<wi.length;xi++)switch(0!==xi&&(Hi+=" "),Te(wi[xi])){case"boolean":case"number":case"object":Hi+=wi[xi].toString();break;case"string":"/"!==wi[xi].substr(0,1)?Hi+="("+mt(wi[xi].toString())+")":Hi+=wi[xi].toString()}return Hi+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Jt=function(wi){return(wi=wi||"").toString(),"("+mt(wi)+")"},Ct=function(){var wi;Object.defineProperty(this,"objId",{configurable:!0,get:function(){if(wi||(wi=it.internal.newObjectDeferred()),!wi)throw new Error("AcroFormPDFObject: Couldn't create Object ID");return wi},set:function(Hi){wi=Hi}})};Ct.prototype.toString=function(){return this.objId+" 0 R"},Ct.prototype.putStream=function(){var wi=this.getKeyValueListForStream();it.internal.putStream({data:this.stream,additionalKeyValues:wi}),it.internal.out("endobj")},Ct.prototype.getKeyValueListForStream=function(){return function(wi){var Hi=[],xi=Object.getOwnPropertyNames(wi).filter(function(Xn){return"content"!=Xn&&"appearanceStreamContent"!=Xn&&"_"!=Xn.substring(0,1)});for(var Ni in xi)if(!1===Object.getOwnPropertyDescriptor(wi,xi[Ni]).configurable){var Ji=xi[Ni],mn=wi[Ji];mn&&(Array.isArray(mn)?Hi.push({key:Ji,value:Ii(mn)}):mn instanceof Ct?Hi.push({key:Ji,value:mn.objId+" 0 R"}):"function"!=typeof mn&&Hi.push({key:Ji,value:mn}))}return Hi}(this)};var Gt=function(){Ct.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writeable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writeable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writeable:!0});var wi,Hi=[];Object.defineProperty(this,"BBox",{configurable:!1,writeable:!0,get:function(){return Hi},set:function(xi){Hi=xi}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writeable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(xi){wi=xi.trim()},get:function(){return wi||null}})};Tt(Gt,Ct);var gi=function(){Ct.call(this);var wi,Hi=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return 0<Hi.length?Hi:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return Hi}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(wi)return"("+wi+")"},set:function(xi){wi=xi}})};Tt(gi,Ct);var kt=function wi(){Ct.call(this);var Hi=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return Hi},set:function(ki){if(isNaN(ki))throw new Error('Invalid value "'+ki+'" for attribute F supplied.');Hi=ki}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(vi(Hi,3))},set:function(ki){this.F=!0===Boolean(ki)?Di(Hi,3):Oi(Hi,3)}});var xi=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return xi},set:function(ki){if(isNaN(ki))throw new Error('Invalid value "'+ki+'" for attribute Ff supplied.');xi=ki}});var Ni=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==Ni.length)return Ni},set:function(ki){Ni=void 0!==ki?ki:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!Ni||isNaN(Ni[0])?0:mi(Ni[0])},set:function(ki){Ni[0]=_i(ki)}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!Ni||isNaN(Ni[1])?0:mi(Ni[1])},set:function(ki){Ni[1]=_i(ki)}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!Ni||isNaN(Ni[2])?0:mi(Ni[2])},set:function(ki){Ni[2]=_i(ki)}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!Ni||isNaN(Ni[3])?0:mi(Ni[3])},set:function(ki){Ni[3]=_i(ki)}});var Ji="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return Ji},set:function(ki){switch(ki){case"/Btn":case"/Tx":case"/Ch":case"/Sig":Ji=ki;break;default:throw new Error('Invalid value "'+ki+'" for attribute FT supplied.')}}});var mn=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!mn||mn.length<1){if(this instanceof On)return;mn="FieldObject"+wi.FieldNum++}return"("+mt(mn)+")"},set:function(ki){mn=ki.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return mn},set:function(ki){mn=ki}});var Xn="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return Xn},set:function(ki){Xn=ki}});var Zt="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return Zt},set:function(ki){Zt=ki}});var di=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return mi(di)},set:function(ki){di=_i(ki)}});var ai=50;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return mi(ai)},set:function(ki){ai=_i(ki)}});var Bi="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return Bi},set:function(ki){Bi=ki}});var hn="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!hn||this instanceof On||this instanceof ln))return Jt(hn)},set:function(ki){ki=ki.toString(),hn=ki}});var cn=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(cn)return this instanceof yi?cn:Jt(cn)},set:function(ki){ki=ki.toString(),cn=this instanceof yi?ki:"("===ki.substr(0,1)?yt(ki.substr(1,ki.length-2)):yt(ki)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof yi?yt(cn.substr(1,cn.length-1)):cn},set:function(ki){ki=ki.toString(),cn=this instanceof yi?"/"+ki:ki}});var Sn=null;Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(Sn)return this instanceof yi?Sn:Jt(Sn)},set:function(ki){ki=ki.toString(),Sn=this instanceof yi?ki:"("===ki.substr(0,1)?yt(ki.substr(1,ki.length-2)):yt(ki)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof yi?yt(Sn.substr(1,Sn.length-1)):Sn},set:function(ki){ki=ki.toString(),Sn=this instanceof yi?"/"+ki:ki}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var En,bi=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,writeable:!0,get:function(){return bi},set:function(ki){ki=Boolean(ki),bi=ki}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,writeable:!0,get:function(){if(En)return En},set:function(ki){En=ki}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(vi(this.Ff,1))},set:function(ki){this.Ff=!0===Boolean(ki)?Di(this.Ff,1):Oi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(vi(this.Ff,2))},set:function(ki){this.Ff=!0===Boolean(ki)?Di(this.Ff,2):Oi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(vi(this.Ff,3))},set:function(ki){this.Ff=!0===Boolean(ki)?Di(this.Ff,3):Oi(this.Ff,3)}});var Qi=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==Qi)return Qi},set:function(ki){if(-1===[0,1,2].indexOf(ki))throw new Error('Invalid value "'+ki+'" for attribute Q supplied.');Qi=ki}}),Object.defineProperty(this,"textAlign",{get:function(){var ki="left";switch(Qi){case 0:default:ki="left";break;case 1:ki="center";break;case 2:ki="right"}return ki},configurable:!0,enumerable:!0,set:function(ki){switch(ki){case"right":case 2:Qi=2;break;case"center":case 1:Qi=1;break;default:Qi=0}}})};Tt(kt,Ct);var oi=function(){kt.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var wi=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return wi},set:function(xi){wi=xi}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return wi},set:function(xi){wi=xi}});var Hi=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Ii(Hi)},set:function(xi){var Ni,Ji;Ji=[],"string"==typeof(Ni=xi)&&(Ji=function(mn,Xn,Zt){Zt||(Zt=1);for(var di,ai=[];di=Xn.exec(mn);)ai.push(di[Zt]);return ai}(Ni,/\((.*?)\)/g)),Hi=Ji}}),this.getOptions=function(){return Hi},this.setOptions=function(xi){Hi=xi,this.sort&&Hi.sort()},this.addOption=function(xi){xi=(xi=xi||"").toString(),Hi.push(xi),this.sort&&Hi.sort()},this.removeOption=function(xi,Ni){for(Ni=Ni||!1,xi=(xi=xi||"").toString();-1!==Hi.indexOf(xi)&&(Hi.splice(Hi.indexOf(xi),1),!1!==Ni););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(vi(this.Ff,18))},set:function(xi){this.Ff=!0===Boolean(xi)?Di(this.Ff,18):Oi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(vi(this.Ff,19))},set:function(xi){!0===this.combo&&(this.Ff=!0===Boolean(xi)?Di(this.Ff,19):Oi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(vi(this.Ff,20))},set:function(xi){!0===Boolean(xi)?(this.Ff=Di(this.Ff,20),Hi.sort()):this.Ff=Oi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(vi(this.Ff,22))},set:function(xi){this.Ff=!0===Boolean(xi)?Di(this.Ff,22):Oi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(vi(this.Ff,23))},set:function(xi){this.Ff=!0===Boolean(xi)?Di(this.Ff,23):Oi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(vi(this.Ff,27))},set:function(xi){this.Ff=!0===Boolean(xi)?Di(this.Ff,27):Oi(this.Ff,27)}}),this.hasAppearanceStream=!1};Tt(oi,kt);var ei=function(){oi.call(this),this.fontName="helvetica",this.combo=!1};Tt(ei,oi);var Ai=function(){ei.call(this),this.combo=!0};Tt(Ai,ei);var Si=function(){Ai.call(this),this.edit=!0};Tt(Si,Ai);var yi=function(){kt.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(vi(this.Ff,15))},set:function(xi){this.Ff=!0===Boolean(xi)?Di(this.Ff,15):Oi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(vi(this.Ff,16))},set:function(xi){this.Ff=!0===Boolean(xi)?Di(this.Ff,16):Oi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(vi(this.Ff,17))},set:function(xi){this.Ff=!0===Boolean(xi)?Di(this.Ff,17):Oi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(vi(this.Ff,26))},set:function(xi){this.Ff=!0===Boolean(xi)?Di(this.Ff,26):Oi(this.Ff,26)}});var wi,Hi={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){if(0!==Object.keys(Hi).length){var xi,Ni=[];for(xi in Ni.push("<<"),Hi)Ni.push("/"+xi+" ("+Hi[xi]+")");return Ni.push(">>"),Ni.join("\n")}},set:function(xi){"object"===Te(xi)&&(Hi=xi)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return Hi.CA||""},set:function(xi){"string"==typeof xi&&(Hi.CA=xi)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return wi},set:function(xi){wi=xi}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return wi.substr(1,wi.length-1)},set:function(xi){wi="/"+xi}})};Tt(yi,kt);var en=function(){yi.call(this),this.pushButton=!0};Tt(en,yi);var un=function(){yi.call(this),this.radio=!0,this.pushButton=!1;var wi=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return wi},set:function(Hi){wi=void 0!==Hi?Hi:[]}})};Tt(un,yi);var On=function(){var wi,Hi;kt.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return wi},set:function(Ji){wi=Ji}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return Hi},set:function(Ji){Hi=Ji}});var xi,Ni={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var Ji,mn=[];for(Ji in mn.push("<<"),Ni)mn.push("/"+Ji+" ("+Ni[Ji]+")");return mn.push(">>"),mn.join("\n")},set:function(Ji){"object"===Te(Ji)&&(Ni=Ji)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return Ni.CA||""},set:function(Ji){"string"==typeof Ji&&(Ni.CA=Ji)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return xi},set:function(Ji){xi=Ji}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return xi.substr(1,xi.length-1)},set:function(Ji){xi="/"+Ji}}),this.optionName=name,this.caption="l",this.appearanceState="Off",this._AppearanceType=In.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(name)};Tt(On,kt),un.prototype.setAppearance=function(wi){if(!("createAppearanceStream"in wi)||!("getCA"in wi))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var Hi in this.Kids)if(this.Kids.hasOwnProperty(Hi)){var xi=this.Kids[Hi];xi.appearanceStreamContent=wi.createAppearanceStream(xi.optionName),xi.caption=wi.getCA()}},un.prototype.createOption=function(wi){var Hi=new On;return Hi.Parent=this,Hi.optionName=wi,this.Kids.push(Hi),rr.call(this,Hi),Hi};var Gn=function(){yi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=In.CheckBox.createAppearanceStream()};Tt(Gn,yi);var ln=function(){kt.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(vi(this.Ff,13))},set:function(Hi){this.Ff=!0===Boolean(Hi)?Di(this.Ff,13):Oi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(vi(this.Ff,21))},set:function(Hi){this.Ff=!0===Boolean(Hi)?Di(this.Ff,21):Oi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(vi(this.Ff,23))},set:function(Hi){this.Ff=!0===Boolean(Hi)?Di(this.Ff,23):Oi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(vi(this.Ff,24))},set:function(Hi){this.Ff=!0===Boolean(Hi)?Di(this.Ff,24):Oi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(vi(this.Ff,25))},set:function(Hi){this.Ff=!0===Boolean(Hi)?Di(this.Ff,25):Oi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(vi(this.Ff,26))},set:function(Hi){this.Ff=!0===Boolean(Hi)?Di(this.Ff,26):Oi(this.Ff,26)}});var wi=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return wi},set:function(Hi){wi=Hi}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return wi},set:function(Hi){Number.isInteger(Hi)&&(wi=Hi)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Tt(ln,kt);var $n=function(){ln.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(vi(this.Ff,14))},set:function(wi){this.Ff=!0===Boolean(wi)?Di(this.Ff,14):Oi(this.Ff,14)}}),this.password=!0};Tt($n,ln);var In={CheckBox:{createAppearanceStream:function(){return{N:{On:In.CheckBox.YesNormal},D:{On:In.CheckBox.YesPushDown,Off:In.CheckBox.OffPushDown}}},YesPushDown:function(wi){var Hi=Ui(wi),xi=[],Ni=it.internal.getFont(wi.fontName,wi.fontStyle).id,Ji=it.__private__.encodeColorString(wi.color),mn=nn(wi,wi.caption);return xi.push("0.749023 g"),xi.push("0 0 "+Ot(In.internal.getWidth(wi))+" "+Ot(In.internal.getHeight(wi))+" re"),xi.push("f"),xi.push("BMC"),xi.push("q"),xi.push("0 0 1 rg"),xi.push("/"+Ni+" "+Ot(mn.fontSize)+" Tf "+Ji),xi.push("BT"),xi.push(mn.text),xi.push("ET"),xi.push("Q"),xi.push("EMC"),Hi.stream=xi.join("\n"),Hi},YesNormal:function(wi){var Hi=Ui(wi),xi=it.internal.getFont(wi.fontName,wi.fontStyle).id,Ni=it.__private__.encodeColorString(wi.color),Ji=[],mn=In.internal.getHeight(wi),Xn=In.internal.getWidth(wi),Zt=nn(wi,wi.caption);return Ji.push("1 g"),Ji.push("0 0 "+Ot(Xn)+" "+Ot(mn)+" re"),Ji.push("f"),Ji.push("q"),Ji.push("0 0 1 rg"),Ji.push("0 0 "+Ot(Xn-1)+" "+Ot(mn-1)+" re"),Ji.push("W"),Ji.push("n"),Ji.push("0 g"),Ji.push("BT"),Ji.push("/"+xi+" "+Ot(Zt.fontSize)+" Tf "+Ni),Ji.push(Zt.text),Ji.push("ET"),Ji.push("Q"),Hi.stream=Ji.join("\n"),Hi},OffPushDown:function(wi){var Hi=Ui(wi),xi=[];return xi.push("0.749023 g"),xi.push("0 0 "+Ot(In.internal.getWidth(wi))+" "+Ot(In.internal.getHeight(wi))+" re"),xi.push("f"),Hi.stream=xi.join("\n"),Hi}},RadioButton:{Circle:{createAppearanceStream:function(wi){var Hi={D:{Off:In.RadioButton.Circle.OffPushDown},N:{}};return Hi.N[wi]=In.RadioButton.Circle.YesNormal,Hi.D[wi]=In.RadioButton.Circle.YesPushDown,Hi},getCA:function(){return"l"},YesNormal:function(wi){var Hi=Ui(wi),xi=[],Ni=In.internal.getWidth(wi)<=In.internal.getHeight(wi)?In.internal.getWidth(wi)/4:In.internal.getHeight(wi)/4;Ni=Number((.9*Ni).toFixed(5));var mn=Number((Ni*In.internal.Bezier_C).toFixed(5));return xi.push("q"),xi.push("1 0 0 1 "+St(In.internal.getWidth(wi)/2)+" "+St(In.internal.getHeight(wi)/2)+" cm"),xi.push(Ni+" 0 m"),xi.push(Ni+" "+mn+" "+mn+" "+Ni+" 0 "+Ni+" c"),xi.push("-"+mn+" "+Ni+" -"+Ni+" "+mn+" -"+Ni+" 0 c"),xi.push("-"+Ni+" -"+mn+" -"+mn+" -"+Ni+" 0 -"+Ni+" c"),xi.push(mn+" -"+Ni+" "+Ni+" -"+mn+" "+Ni+" 0 c"),xi.push("f"),xi.push("Q"),Hi.stream=xi.join("\n"),Hi},YesPushDown:function(wi){var Hi=Ui(wi),xi=[],Ni=In.internal.getWidth(wi)<=In.internal.getHeight(wi)?In.internal.getWidth(wi)/4:In.internal.getHeight(wi)/4,Ji=(Ni=Number((.9*Ni).toFixed(5)),Number((2*Ni).toFixed(5))),mn=Number((Ji*In.internal.Bezier_C).toFixed(5)),Xn=Number((Ni*In.internal.Bezier_C).toFixed(5));return xi.push("0.749023 g"),xi.push("q"),xi.push("1 0 0 1 "+St(In.internal.getWidth(wi)/2)+" "+St(In.internal.getHeight(wi)/2)+" cm"),xi.push(Ji+" 0 m"),xi.push(Ji+" "+mn+" "+mn+" "+Ji+" 0 "+Ji+" c"),xi.push("-"+mn+" "+Ji+" -"+Ji+" "+mn+" -"+Ji+" 0 c"),xi.push("-"+Ji+" -"+mn+" -"+mn+" -"+Ji+" 0 -"+Ji+" c"),xi.push(mn+" -"+Ji+" "+Ji+" -"+mn+" "+Ji+" 0 c"),xi.push("f"),xi.push("Q"),xi.push("0 g"),xi.push("q"),xi.push("1 0 0 1 "+St(In.internal.getWidth(wi)/2)+" "+St(In.internal.getHeight(wi)/2)+" cm"),xi.push(Ni+" 0 m"),xi.push(Ni+" "+Xn+" "+Xn+" "+Ni+" 0 "+Ni+" c"),xi.push("-"+Xn+" "+Ni+" -"+Ni+" "+Xn+" -"+Ni+" 0 c"),xi.push("-"+Ni+" -"+Xn+" -"+Xn+" -"+Ni+" 0 -"+Ni+" c"),xi.push(Xn+" -"+Ni+" "+Ni+" -"+Xn+" "+Ni+" 0 c"),xi.push("f"),xi.push("Q"),Hi.stream=xi.join("\n"),Hi},OffPushDown:function(wi){var Hi=Ui(wi),xi=[],Ni=In.internal.getWidth(wi)<=In.internal.getHeight(wi)?In.internal.getWidth(wi)/4:In.internal.getHeight(wi)/4,Ji=(Ni=Number((.9*Ni).toFixed(5)),Number((2*Ni).toFixed(5))),mn=Number((Ji*In.internal.Bezier_C).toFixed(5));return xi.push("0.749023 g"),xi.push("q"),xi.push("1 0 0 1 "+St(In.internal.getWidth(wi)/2)+" "+St(In.internal.getHeight(wi)/2)+" cm"),xi.push(Ji+" 0 m"),xi.push(Ji+" "+mn+" "+mn+" "+Ji+" 0 "+Ji+" c"),xi.push("-"+mn+" "+Ji+" -"+Ji+" "+mn+" -"+Ji+" 0 c"),xi.push("-"+Ji+" -"+mn+" -"+mn+" -"+Ji+" 0 -"+Ji+" c"),xi.push(mn+" -"+Ji+" "+Ji+" -"+mn+" "+Ji+" 0 c"),xi.push("f"),xi.push("Q"),Hi.stream=xi.join("\n"),Hi}},Cross:{createAppearanceStream:function(wi){var Hi={D:{Off:In.RadioButton.Cross.OffPushDown},N:{}};return Hi.N[wi]=In.RadioButton.Cross.YesNormal,Hi.D[wi]=In.RadioButton.Cross.YesPushDown,Hi},getCA:function(){return"8"},YesNormal:function(wi){var Hi=Ui(wi),xi=[],Ni=In.internal.calculateCross(wi);return xi.push("q"),xi.push("1 1 "+Ot(In.internal.getWidth(wi)-2)+" "+Ot(In.internal.getHeight(wi)-2)+" re"),xi.push("W"),xi.push("n"),xi.push(Ot(Ni.x1.x)+" "+Ot(Ni.x1.y)+" m"),xi.push(Ot(Ni.x2.x)+" "+Ot(Ni.x2.y)+" l"),xi.push(Ot(Ni.x4.x)+" "+Ot(Ni.x4.y)+" m"),xi.push(Ot(Ni.x3.x)+" "+Ot(Ni.x3.y)+" l"),xi.push("s"),xi.push("Q"),Hi.stream=xi.join("\n"),Hi},YesPushDown:function(wi){var Hi=Ui(wi),xi=In.internal.calculateCross(wi),Ni=[];return Ni.push("0.749023 g"),Ni.push("0 0 "+Ot(In.internal.getWidth(wi))+" "+Ot(In.internal.getHeight(wi))+" re"),Ni.push("f"),Ni.push("q"),Ni.push("1 1 "+Ot(In.internal.getWidth(wi)-2)+" "+Ot(In.internal.getHeight(wi)-2)+" re"),Ni.push("W"),Ni.push("n"),Ni.push(Ot(xi.x1.x)+" "+Ot(xi.x1.y)+" m"),Ni.push(Ot(xi.x2.x)+" "+Ot(xi.x2.y)+" l"),Ni.push(Ot(xi.x4.x)+" "+Ot(xi.x4.y)+" m"),Ni.push(Ot(xi.x3.x)+" "+Ot(xi.x3.y)+" l"),Ni.push("s"),Ni.push("Q"),Hi.stream=Ni.join("\n"),Hi},OffPushDown:function(wi){var Hi=Ui(wi),xi=[];return xi.push("0.749023 g"),xi.push("0 0 "+Ot(In.internal.getWidth(wi))+" "+Ot(In.internal.getHeight(wi))+" re"),xi.push("f"),Hi.stream=xi.join("\n"),Hi}}},createDefaultAppearanceStream:function(wi){var Hi=it.internal.getFont(wi.fontName,wi.fontStyle).id,xi=it.__private__.encodeColorString(wi.color);return"/"+Hi+" "+wi.fontSize+" Tf "+xi}};In.internal={Bezier_C:.551915024494,calculateCross:function(wi){var Hi=In.internal.getWidth(wi),xi=In.internal.getHeight(wi),Ni=Math.min(Hi,xi);return{x1:{x:(Hi-Ni)/2,y:(xi-Ni)/2+Ni},x2:{x:(Hi-Ni)/2+Ni,y:(xi-Ni)/2},x3:{x:(Hi-Ni)/2,y:(xi-Ni)/2},x4:{x:(Hi-Ni)/2+Ni,y:(xi-Ni)/2+Ni}}}},In.internal.getWidth=function(wi){var Hi=0;return"object"===Te(wi)&&(Hi=_i(wi.Rect[2])),Hi},In.internal.getHeight=function(wi){var Hi=0;return"object"===Te(wi)&&(Hi=_i(wi.Rect[3])),Hi};var rr=pe.addField=function(wi){if(ci.call(this),!(wi instanceof kt))throw new Error("Invalid argument passed to jsPDF.addField.");return function(Hi){it.internal.acroformPlugin.printedOut&&(it.internal.acroformPlugin.printedOut=!1,it.internal.acroformPlugin.acroFormDictionaryRoot=null),it.internal.acroformPlugin.acroFormDictionaryRoot||ci.call(it),it.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(Hi)}.call(this,wi),wi.page=it.internal.getCurrentPageInfo().pageNumber,this};pe.addButton=function(wi){if(!(wi instanceof yi))throw new Error("Invalid argument passed to jsPDF.addButton.");return rr.call(this,wi)},pe.addTextField=function(wi){if(!(wi instanceof ln))throw new Error("Invalid argument passed to jsPDF.addTextField.");return rr.call(this,wi)},pe.addChoiceField=function(wi){if(!(wi instanceof oi))throw new Error("Invalid argument passed to jsPDF.addChoiceField.");return rr.call(this,wi)},"object"==Te(Ge)&&void 0===Ge.ChoiceField&&void 0===Ge.ListBox&&void 0===Ge.ComboBox&&void 0===Ge.EditBox&&void 0===Ge.Button&&void 0===Ge.PushButton&&void 0===Ge.RadioButton&&void 0===Ge.CheckBox&&void 0===Ge.TextField&&void 0===Ge.PasswordField?(Ge.ChoiceField=oi,Ge.ListBox=ei,Ge.ComboBox=Ai,Ge.EditBox=Si,Ge.Button=yi,Ge.PushButton=en,Ge.RadioButton=un,Ge.CheckBox=Gn,Ge.TextField=ln,Ge.PasswordField=$n,Ge.AcroForm={Appearance:In}):console.warn("AcroForm-Classes are not populated into global-namespace, because the class-Names exist already."),pe.AcroFormChoiceField=oi,pe.AcroFormListBox=ei,pe.AcroFormComboBox=Ai,pe.AcroFormEditBox=Si,pe.AcroFormButton=yi,pe.AcroFormPushButton=en,pe.AcroFormRadioButton=un,pe.AcroFormCheckBox=Gn,pe.AcroFormTextField=ln,pe.AcroFormPasswordField=$n,pe.AcroFormAppearance=In,pe.AcroForm={ChoiceField:oi,ListBox:ei,ComboBox:Ai,EditBox:Si,Button:yi,PushButton:en,RadioButton:un,CheckBox:Gn,TextField:ln,PasswordField:$n,Appearance:In}})((window.tmp=kn).API,"undefined"!=typeof window&&window||"undefined"!=typeof global&&global),function(pe){var Ge="addImage_",it={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},ht=pe.getImageFileTypeByImageData=function(Ft,ti){var ui,vi;ti=ti||"UNKNOWN";var Di,Oi,Vi,Zi="UNKNOWN";for(Vi in pe.isArrayBufferView(Ft)&&(Ft=pe.arrayBufferToBinaryString(Ft)),it)for(Di=it[Vi],ui=0;ui<Di.length;ui+=1){for(Oi=!0,vi=0;vi<Di[ui].length;vi+=1)if(void 0!==Di[ui][vi]&&Di[ui][vi]!==Ft.charCodeAt(vi)){Oi=!1;break}if(!0===Oi){Zi=Vi;break}}return"UNKNOWN"===Zi&&"UNKNOWN"!==ti&&(console.warn('FileType of Image not recognized. Processing image as "'+ti+'".'),Zi=ti),Zi},mt=function Ft(ti){for(var ui=this.internal.newObject(),vi=this.internal.write,Di=this.internal.putStream,Oi=(0,this.internal.getFilters)();-1!==Oi.indexOf("FlateEncode");)Oi.splice(Oi.indexOf("FlateEncode"),1);ti.n=ui;var Vi=[];if(Vi.push({key:"Type",value:"/XObject"}),Vi.push({key:"Subtype",value:"/Image"}),Vi.push({key:"Width",value:ti.w}),Vi.push({key:"Height",value:ti.h}),ti.cs===this.color_spaces.INDEXED?Vi.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(ti.pal.length/3-1)+" "+("smask"in ti?ui+2:ui+1)+" 0 R]"}):(Vi.push({key:"ColorSpace",value:"/"+ti.cs}),ti.cs===this.color_spaces.DEVICE_CMYK&&Vi.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Vi.push({key:"BitsPerComponent",value:ti.bpc}),"dp"in ti&&Vi.push({key:"DecodeParms",value:"<<"+ti.dp+">>"}),"trns"in ti&&ti.trns.constructor==Array){for(var Zi="",nn=0,Tn=ti.trns.length;nn<Tn;nn++)Zi+=ti.trns[nn]+" "+ti.trns[nn]+" ";Vi.push({key:"Mask",value:"["+Zi+"]"})}if("smask"in ti&&Vi.push({key:"SMask",value:ui+1+" 0 R"}),Di({data:ti.data,additionalKeyValues:Vi,alreadyAppliedFilters:void 0!==ti.f?["/"+ti.f]:void 0}),vi("endobj"),"smask"in ti){var si={w:ti.w,h:ti.h,cs:"DeviceGray",bpc:ti.bpc,dp:"/Predictor "+ti.p+" /Colors 1 /BitsPerComponent "+ti.bpc+" /Columns "+ti.w,data:ti.smask};"f"in ti&&(si.f=ti.f),Ft.call(this,si)}ti.cs===this.color_spaces.INDEXED&&(this.internal.newObject(),Di({data:this.arrayBufferToBinaryString(new Uint8Array(ti.pal))}),vi("endobj"))},yt=function(){var Ft=this.internal.collections[Ge+"images"];for(var ti in Ft)mt.call(this,Ft[ti])},Ot=function(){var Ft,ti=this.internal.collections[Ge+"images"],ui=this.internal.write;for(var vi in ti)ui("/I"+(Ft=ti[vi]).i,Ft.n,"0","R")},St=function(Ft){return"function"==typeof pe["process"+Ft.toUpperCase()]},Tt=function(Ft){return"object"===Te(Ft)&&1===Ft.nodeType},_i=function(Ft,ti){if("IMG"===Ft.nodeName&&Ft.hasAttribute("src")){var ui=""+Ft.getAttribute("src");if(0===ui.indexOf("data:image/"))return unescape(ui);var vi=pe.loadFile(ui);if(void 0!==vi)return btoa(vi)}if("CANVAS"===Ft.nodeName){var Di=Ft;return Ft.toDataURL("image/jpeg",1)}(Di=document.createElement("canvas")).width=Ft.clientWidth||Ft.width,Di.height=Ft.clientHeight||Ft.height;var Oi=Di.getContext("2d");if(!Oi)throw"addImage requires canvas to be supported by browser.";return Oi.drawImage(Ft,0,0,Di.width,Di.height),Di.toDataURL("png"==(""+ti).toLowerCase()?"image/png":"image/jpeg")},mi=function(Ft,ti){var ui;if(ti)for(var vi in ti)if(Ft===ti[vi].alias){ui=ti[vi];break}return ui};pe.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"},pe.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"},pe.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},pe.sHashCode=function(Ft){var ti,ui=0;if(0===(Ft=Ft||"").length)return ui;for(ti=0;ti<Ft.length;ti++)ui=(ui<<5)-ui+Ft.charCodeAt(ti),ui|=0;return ui},pe.isString=function(Ft){return"string"==typeof Ft},pe.validateStringAsBase64=function(Ft){(Ft=Ft||"").toString().trim();var ti=!0;return 0===Ft.length&&(ti=!1),Ft.length%4!=0&&(ti=!1),!1===/^[A-Za-z0-9+\/]+$/.test(Ft.substr(0,Ft.length-2))&&(ti=!1),!1===/^[A-Za-z0-9\/][A-Za-z0-9+\/]|[A-Za-z0-9+\/]=|==$/.test(Ft.substr(-2))&&(ti=!1),ti},pe.extractInfoFromBase64DataURI=function(Ft){return/^data:([\w]+?\/([\w]+?));\S*;*base64,(.+)$/g.exec(Ft)},pe.extractImageFromDataUrl=function(Ft){var ti=(Ft=Ft||"").split("base64,"),ui=null;if(2===ti.length){var vi=/^data:(\w*\/\w*);*(charset=[\w=-]*)*;*$/.exec(ti[0]);Array.isArray(vi)&&(ui={mimeType:vi[1],charset:vi[2],data:ti[1]})}return ui},pe.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array},pe.isArrayBuffer=function(Ft){return!!this.supportsArrayBuffer()&&Ft instanceof ArrayBuffer},pe.isArrayBufferView=function(Ft){return!!this.supportsArrayBuffer()&&"undefined"!=typeof Uint32Array&&(Ft instanceof Int8Array||Ft instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&Ft instanceof Uint8ClampedArray||Ft instanceof Int16Array||Ft instanceof Uint16Array||Ft instanceof Int32Array||Ft instanceof Uint32Array||Ft instanceof Float32Array||Ft instanceof Float64Array)},pe.binaryStringToUint8Array=function(Ft){for(var ti=Ft.length,ui=new Uint8Array(ti),vi=0;vi<ti;vi++)ui[vi]=Ft.charCodeAt(vi);return ui},pe.arrayBufferToBinaryString=function(Ft){if("function"==typeof atob)return atob(this.arrayBufferToBase64(Ft))},pe.arrayBufferToBase64=function(Ft){for(var ti,ui="",vi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Di=new Uint8Array(Ft),Oi=Di.byteLength,Vi=Oi%3,Zi=Oi-Vi,nn=0;nn<Zi;nn+=3)ui+=vi[(16515072&(ti=Di[nn]<<16|Di[nn+1]<<8|Di[nn+2]))>>18]+vi[(258048&ti)>>12]+vi[(4032&ti)>>6]+vi[63&ti];return 1==Vi?ui+=vi[(252&(ti=Di[Zi]))>>2]+vi[(3&ti)<<4]+"==":2==Vi&&(ui+=vi[(64512&(ti=Di[Zi]<<8|Di[Zi+1]))>>10]+vi[(1008&ti)>>4]+vi[(15&ti)<<2]+"="),ui},pe.createImageInfo=function(Ft,ti,ui,vi,Di,Oi,Vi,Zi,nn,Tn,bn,Li,si){var $i={alias:Zi,w:ti,h:ui,cs:vi,bpc:Di,i:Vi,data:Ft};return Oi&&($i.f=Oi),nn&&($i.dp=nn),Tn&&($i.trns=Tn),bn&&($i.pal=bn),Li&&($i.smask=Li),si&&($i.p=si),$i},pe.addImage=function(Ft,ti,ui,vi,Di,Oi,Vi,Zi,nn){var Tn="";if("string"!=typeof ti){var bn=Oi;Oi=Di,Di=vi,vi=ui,ui=ti,ti=bn}if("object"===Te(Ft)&&!Tt(Ft)&&"imageData"in Ft){var Li=Ft;Ft=Li.imageData,ti=Li.format||ti||"UNKNOWN",ui=Li.x||ui||0,vi=Li.y||vi||0,Di=Li.w||Di,Oi=Li.h||Oi,Vi=Li.alias||Vi,Zi=Li.compression||Zi,nn=Li.rotation||Li.angle||nn}var si=this.internal.getFilters();if(void 0===Zi&&-1!==si.indexOf("FlateEncode")&&(Zi="SLOW"),"string"==typeof Ft&&(Ft=unescape(Ft)),isNaN(ui)||isNaN(vi))throw console.error("jsPDF.addImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addImage");var $i,Ye,Ht,$t,ci,Ii,Jt,Ct=function(){var Gt=this.internal.collections[Ge+"images"];return Gt||(this.internal.collections[Ge+"images"]=Gt={},this.internal.events.subscribe("putResources",yt),this.internal.events.subscribe("putXobjectDict",Ot)),Gt}.call(this);if(!(($i=mi(Ft,Ct))||(Tt(Ft)&&(Ft=_i(Ft,ti)),(null==(Jt=Vi)||0===Jt.length)&&(Vi="string"==typeof(Ii=Ft)?pe.sHashCode(Ii):pe.isArrayBufferView(Ii)?pe.sHashCode(pe.arrayBufferToBinaryString(Ii)):null),$i=mi(Vi,Ct)))){if(this.isString(Ft)&&(""!==(Tn=this.convertStringToImageData(Ft))||void 0!==(Tn=pe.loadFile(Ft)))&&(Ft=Tn),ti=this.getImageFileTypeByImageData(Ft,ti),!St(ti))throw new Error("addImage does not support files of type '"+ti+"', please ensure that a plugin for '"+ti+"' support is added.");if(this.supportsArrayBuffer()&&(Ft instanceof Uint8Array||(Ye=Ft,Ft=this.binaryStringToUint8Array(Ft))),!($i=this["process"+ti.toUpperCase()](Ft,(ci=0,($t=Ct)&&(ci=Object.keys?Object.keys($t).length:function(Gt){var gi=0;for(var kt in Gt)Gt.hasOwnProperty(kt)&&gi++;return gi}($t)),ci),Vi,((Ht=Zi)&&"string"==typeof Ht&&(Ht=Ht.toUpperCase()),Ht in pe.image_compression?Ht:pe.image_compression.NONE),Ye)))throw new Error("An unknown error occurred whilst processing the image")}return function(Gt,gi,kt,oi,ei,Ai,Si,yi){var en=function(rr,wi,Hi){return rr||wi||(wi=rr=-96),rr<0&&(rr=-1*Hi.w*72/rr/this.internal.scaleFactor),wi<0&&(wi=-1*Hi.h*72/wi/this.internal.scaleFactor),0===rr&&(rr=wi*Hi.w/Hi.h),0===wi&&(wi=rr*Hi.h/Hi.w),[rr,wi]}.call(this,kt,oi,ei),un=this.internal.getCoordinateString,On=this.internal.getVerticalCoordinateString;if(kt=en[0],oi=en[1],Si[Ai]=ei,yi){yi*=Math.PI/180;var Gn=Math.cos(yi),ln=Math.sin(yi),$n=function(rr){return rr.toFixed(4)},In=[$n(Gn),$n(ln),$n(-1*ln),$n(Gn),0,0,"cm"]}this.internal.write("q"),yi?(this.internal.write([1,"0","0",1,un(Gt),On(gi+oi),"cm"].join(" ")),this.internal.write(In.join(" ")),this.internal.write([un(kt),"0","0",un(oi),"0","0","cm"].join(" "))):this.internal.write([un(kt),"0","0",un(oi),un(Gt),On(gi+oi),"cm"].join(" ")),this.internal.write("/I"+ei.i+" Do"),this.internal.write("Q")}.call(this,ui,vi,Di,Oi,$i,$i.i,Ct,nn),this},pe.convertStringToImageData=function(Ft){var ti,ui="";if(this.isString(Ft)){var vi;ti=null!==(vi=this.extractImageFromDataUrl(Ft))?vi.data:Ft;try{ui=atob(ti)}catch(Di){throw pe.validateStringAsBase64(ti)?new Error("atob-Error in jsPDF.convertStringToImageData "+Di.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertStringToImageData ")}}return ui};var Ui=function(Ft,ti){return Ft.subarray(ti,ti+5)};pe.processJPEG=function(Ft,ti,ui,vi,Di,Oi){var Vi,Zi=this.decode.DCT_DECODE;if(!this.isString(Ft)&&!this.isArrayBuffer(Ft)&&!this.isArrayBufferView(Ft))return null;if(this.isString(Ft)&&(Vi=function(nn){var Tn;if("JPEG"!==ht(nn))throw new Error("getJpegSize requires a binary string jpeg file");for(var bn=256*nn.charCodeAt(4)+nn.charCodeAt(5),Li=4,si=nn.length;Li<si;){if(255!==nn.charCodeAt(Li+=bn))throw new Error("getJpegSize could not find the size of the image");if(192===nn.charCodeAt(Li+1)||193===nn.charCodeAt(Li+1)||194===nn.charCodeAt(Li+1)||195===nn.charCodeAt(Li+1)||196===nn.charCodeAt(Li+1)||197===nn.charCodeAt(Li+1)||198===nn.charCodeAt(Li+1)||199===nn.charCodeAt(Li+1))return Tn=256*nn.charCodeAt(Li+5)+nn.charCodeAt(Li+6),[256*nn.charCodeAt(Li+7)+nn.charCodeAt(Li+8),Tn,nn.charCodeAt(Li+9)];bn=256*nn.charCodeAt(Li+=2)+nn.charCodeAt(Li+1)}}(Ft)),this.isArrayBuffer(Ft)&&(Ft=new Uint8Array(Ft)),this.isArrayBufferView(Ft)&&(Vi=function(nn){if(65496!=(nn[0]<<8|nn[1]))throw new Error("Supplied data is not a JPEG");for(var Tn,bn=nn.length,Li=(nn[4]<<8)+nn[5],si=4;si<bn;){if(Li=((Tn=Ui(nn,si+=Li))[2]<<8)+Tn[3],(192===Tn[1]||194===Tn[1])&&255===Tn[0]&&7<Li)return{width:((Tn=Ui(nn,si+5))[2]<<8)+Tn[3],height:(Tn[0]<<8)+Tn[1],numcomponents:Tn[4]};si+=2}throw new Error("getJpegSizeFromBytes could not find the size of the image")}(Ft),Ft=Di||this.arrayBufferToBinaryString(Ft)),void 0===Oi)switch(Vi.numcomponents){case 1:Oi=this.color_spaces.DEVICE_GRAY;break;case 4:Oi=this.color_spaces.DEVICE_CMYK;break;default:Oi=this.color_spaces.DEVICE_RGB}return this.createImageInfo(Ft,Vi.width,Vi.height,Oi,8,Zi,ti,ui)},pe.processJPG=function(){return this.processJPEG.apply(this,arguments)},pe.getImageProperties=function(Ft){var ti,ui,vi="";if(Tt(Ft)&&(Ft=_i(Ft)),this.isString(Ft)&&(""!==(vi=this.convertStringToImageData(Ft))||void 0!==(vi=pe.loadFile(Ft)))&&(Ft=vi),ui=this.getImageFileTypeByImageData(Ft),!St(ui))throw new Error("addImage does not support files of type '"+ui+"', please ensure that a plugin for '"+ui+"' support is added.");if(this.supportsArrayBuffer()&&(Ft instanceof Uint8Array||(Ft=this.binaryStringToUint8Array(Ft))),!(ti=this["process"+ui.toUpperCase()](Ft)))throw new Error("An unknown error occurred whilst processing the image");return{fileType:ui,width:ti.w,height:ti.h,colorSpace:ti.cs,compressionMode:ti.f,bitsPerComponent:ti.bpc}}}(kn.API),Me=kn.API,kn.API.events.push(["addPage",function(pe){this.internal.getPageInfo(pe.pageNumber).pageContext.annotations=[]}]),Me.events.push(["putPage",function(pe){for(var Ge=this.internal.getPageInfoByObjId(pe.objId),it=pe.pageContext.annotations,ht=function(Vi){if(void 0!==Vi&&""!=Vi)return!0},mt=!1,yt=0;yt<it.length&&!mt;yt++)switch((Tt=it[yt]).type){case"link":if(ht(Tt.options.url)||ht(Tt.options.pageNumber)){mt=!0;break}case"reference":case"text":case"freetext":mt=!0}if(0!=mt){this.internal.write("/Annots [");var Ot=this.internal.getCoordinateString,St=this.internal.getVerticalCoordinateString;for(yt=0;yt<it.length;yt++){var Tt;switch((Tt=it[yt]).type){case"reference":this.internal.write(" "+Tt.object.objId+" 0 R ");break;case"text":var _i=this.internal.newAdditionalObject(),mi=this.internal.newAdditionalObject(),Ui=Tt.title||"Note";Di="<</Type /Annot /Subtype /Text "+(ti="/Rect ["+Ot(Tt.bounds.x)+" "+St(Tt.bounds.y+Tt.bounds.h)+" "+Ot(Tt.bounds.x+Tt.bounds.w)+" "+St(Tt.bounds.y)+"] ")+"/Contents ("+Tt.contents+")",Di+=" /Popup "+mi.objId+" 0 R",Di+=" /P "+Ge.objId+" 0 R",_i.content=Di+=" /T ("+Ui+") >>";var Ft=_i.objId+" 0 R";Di="<</Type /Annot /Subtype /Popup "+(ti="/Rect ["+Ot(Tt.bounds.x+30)+" "+St(Tt.bounds.y+Tt.bounds.h)+" "+Ot(Tt.bounds.x+Tt.bounds.w+30)+" "+St(Tt.bounds.y)+"] ")+" /Parent "+Ft,Tt.open&&(Di+=" /Open true"),mi.content=Di+=" >>",this.internal.write(_i.objId,"0 R",mi.objId,"0 R");break;case"freetext":var ti="/Rect ["+Ot(Tt.bounds.x)+" "+St(Tt.bounds.y)+" "+Ot(Tt.bounds.x+Tt.bounds.w)+" "+St(Tt.bounds.y+Tt.bounds.h)+"] ";Di="<</Type /Annot /Subtype /FreeText "+ti+"/Contents ("+Tt.contents+")",Di+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+(Tt.color||"#000000")+")",Di+=" /Border [0 0 0]",this.internal.write(Di+=" >>");break;case"link":if(Tt.options.name){var vi=this.annotations._nameMap[Tt.options.name];Tt.options.pageNumber=vi.page,Tt.options.top=vi.y}else Tt.options.top||(Tt.options.top=0);ti="/Rect ["+Ot(Tt.x)+" "+St(Tt.y)+" "+Ot(Tt.x+Tt.w)+" "+St(Tt.y+Tt.h)+"] ";var Di="";if(Tt.options.url)Di="<</Type /Annot /Subtype /Link "+ti+"/Border [0 0 0] /A <</S /URI /URI ("+Tt.options.url+") >>";else if(Tt.options.pageNumber)switch(Di="<</Type /Annot /Subtype /Link "+ti+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(Tt.options.pageNumber).objId+" 0 R",Tt.options.magFactor=Tt.options.magFactor||"XYZ",Tt.options.magFactor){case"Fit":Di+=" /Fit]";break;case"FitH":Di+=" /FitH "+Tt.options.top+"]";break;case"FitV":Tt.options.left=Tt.options.left||0,Di+=" /FitV "+Tt.options.left+"]";break;default:var Oi=St(Tt.options.top);Tt.options.left=Tt.options.left||0,void 0===Tt.options.zoom&&(Tt.options.zoom=0),Di+=" /XYZ "+Tt.options.left+" "+Oi+" "+Tt.options.zoom+"]"}""!=Di&&this.internal.write(Di+=" >>")}}this.internal.write("]")}}]),Me.createAnnotation=function(pe){var Ge=this.internal.getCurrentPageInfo();switch(pe.type){case"link":this.link(pe.bounds.x,pe.bounds.y,pe.bounds.w,pe.bounds.h,pe);break;case"text":case"freetext":Ge.pageContext.annotations.push(pe)}},Me.link=function(pe,Ge,it,ht,mt){this.internal.getCurrentPageInfo().pageContext.annotations.push({x:pe,y:Ge,w:it,h:ht,options:mt,type:"link"})},Me.textWithLink=function(pe,Ge,it,ht){var mt=this.getTextWidth(pe),yt=this.internal.getLineHeight()/this.internal.scaleFactor;return this.text(pe,Ge,it),this.link(Ge,(it+=.2*yt)-yt,mt,yt,ht),mt},Me.getTextWidth=function(pe){var Ge=this.internal.getFontSize();return this.getStringUnitWidth(pe)*Ge/this.internal.scaleFactor},function(pe){var Ge={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},it={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},ht={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},mt=[1570,1571,1573,1575];pe.__arabicParser__={};var yt=pe.__arabicParser__.isInArabicSubstitutionA=function(ui){return void 0!==Ge[ui.charCodeAt(0)]},Ot=pe.__arabicParser__.isArabicLetter=function(ui){return"string"==typeof ui&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(ui)},St=pe.__arabicParser__.isArabicEndLetter=function(ui){return Ot(ui)&&yt(ui)&&Ge[ui.charCodeAt(0)].length<=2},Tt=pe.__arabicParser__.isArabicAlfLetter=function(ui){return Ot(ui)&&0<=mt.indexOf(ui.charCodeAt(0))},_i=(pe.__arabicParser__.arabicLetterHasIsolatedForm=function(ui){return Ot(ui)&&yt(ui)&&1<=Ge[ui.charCodeAt(0)].length},pe.__arabicParser__.arabicLetterHasFinalForm=function(ui){return Ot(ui)&&yt(ui)&&2<=Ge[ui.charCodeAt(0)].length}),mi=(pe.__arabicParser__.arabicLetterHasInitialForm=function(ui){return Ot(ui)&&yt(ui)&&3<=Ge[ui.charCodeAt(0)].length},pe.__arabicParser__.arabicLetterHasMedialForm=function(ui){return Ot(ui)&&yt(ui)&&4==Ge[ui.charCodeAt(0)].length}),Ui=pe.__arabicParser__.resolveLigatures=function(ui){var vi=0,Di=it,Oi=0,Vi="",Zi=0;for(vi=0;vi<ui.length;vi+=1)void 0!==Di[ui.charCodeAt(vi)]?(Zi++,"number"==typeof(Di=Di[ui.charCodeAt(vi)])&&(Oi=-1!==(Oi=Ft(ui.charAt(vi),ui.charAt(vi-Zi),ui.charAt(vi+1)))?Oi:0,Vi+=String.fromCharCode(Di),Di=it,Zi=0),vi===ui.length-1&&(Di=it,Vi+=ui.charAt(vi-(Zi-1)),vi-=Zi-1,Zi=0)):(Di=it,Vi+=ui.charAt(vi-Zi),vi-=Zi,Zi=0);return Vi},Ft=(pe.__arabicParser__.isArabicDiacritic=function(ui){return void 0!==ui&&void 0!==ht[ui.charCodeAt(0)]},pe.__arabicParser__.getCorrectForm=function(ui,vi,Di){return Ot(ui)?!1===yt(ui)?-1:!_i(ui)||!Ot(vi)&&!Ot(Di)||!Ot(Di)&&St(vi)||St(ui)&&!Ot(vi)||St(ui)&&Tt(vi)||St(ui)&&St(vi)?0:mi(ui)&&Ot(vi)&&!St(vi)&&Ot(Di)&&_i(Di)?3:St(ui)||!Ot(Di)?1:2:-1}),ti=pe.__arabicParser__.processArabic=pe.processArabic=function(ui){var vi=0,Di=0,Oi=0,Vi="",Zi="",nn="",Tn=(ui=ui||"").split("\\s+"),bn=[];for(vi=0;vi<Tn.length;vi+=1){for(bn.push(""),Di=0;Di<Tn[vi].length;Di+=1)Zi=Tn[vi][Di-1],nn=Tn[vi][Di+1],Ot(Vi=Tn[vi][Di])?(Oi=Ft(Vi,Zi,nn),bn[vi]+=-1!==Oi?String.fromCharCode(Ge[Vi.charCodeAt(0)][Oi]):Vi):bn[vi]+=Vi;bn[vi]=Ui(bn[vi])}return bn.join(" ")};pe.events.push(["preProcessText",function(ui){var vi=ui.text,Oi=[];if("[object Array]"===Object.prototype.toString.call(vi)){var Vi=0;for(Oi=[],Vi=0;Vi<vi.length;Vi+=1)"[object Array]"===Object.prototype.toString.call(vi[Vi])?Oi.push([ti(vi[Vi][0]),vi[Vi][1],vi[Vi][2]]):Oi.push([ti(vi[Vi])]);ui.text=Oi}else ui.text=ti(vi)}])}(kn.API),kn.API.autoPrint=function(pe){var Ge;return"javascript"===((pe=pe||{}).variant=pe.variant||"non-conform",pe.variant)?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){Ge=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+Ge+" 0 R")})),this},Ce=kn.API,(Ie=function(){var pe=void 0;Object.defineProperty(this,"pdf",{get:function(){return pe},set:function(yt){pe=yt}});var Ge=150;Object.defineProperty(this,"width",{get:function(){return Ge},set:function(yt){Ge=isNaN(yt)||!1===Number.isInteger(yt)||yt<0?150:yt,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=Ge+1)}});var it=300;Object.defineProperty(this,"height",{get:function(){return it},set:function(yt){it=isNaN(yt)||!1===Number.isInteger(yt)||yt<0?300:yt,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=it+1)}});var ht=[];Object.defineProperty(this,"childNodes",{get:function(){return ht},set:function(yt){ht=yt}});var mt={};Object.defineProperty(this,"style",{get:function(){return mt},set:function(yt){mt=yt}}),Object.defineProperty(this,"parentNode",{get:function(){return!1}})}).prototype.getContext=function(pe,Ge){var it;if("2d"!==(pe=pe||"2d"))return null;for(it in Ge)this.pdf.context2d.hasOwnProperty(it)&&(this.pdf.context2d[it]=Ge[it]);return(this.pdf.context2d._canvas=this).pdf.context2d},Ie.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},Ce.events.push(["initialized",function(){this.canvas=new Ie,this.canvas.pdf=this}]),re={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},ce=1,be=function(pe,Ge,it,ht,mt){re={x:pe,y:Ge,w:it,h:ht,ln:mt}},xe=function(){return re},de={left:0,top:0,bottom:0},(ye=kn.API).setHeaderFunction=function(pe){he=pe},ye.getTextDimensions=function(pe,Ge){var it=this.table_font_size||this.internal.getFontSize(),ht=(this.internal.getFont(),(Ge=Ge||{}).scaleFactor||this.internal.scaleFactor),mt=0,yt=0,Ot=0;if("string"==typeof pe)0!=(mt=this.getStringUnitWidth(pe)*it)&&(yt=1);else{if("[object Array]"!==Object.prototype.toString.call(pe))throw new Error("getTextDimensions expects text-parameter to be of type String or an Array of Strings.");for(var St=0;St<pe.length;St++)mt<(Ot=this.getStringUnitWidth(pe[St])*it)&&(mt=Ot);0!==mt&&(yt=pe.length)}return{w:mt/=ht,h:Math.max((yt*it*this.getLineHeightFactor()-it*(this.getLineHeightFactor()-1))/ht,0)}},ye.cellAddPage=function(){var pe=this.margins||de;this.addPage(),be(pe.left,pe.top,void 0,void 0),ce+=1},ye.cellInitialize=function(){re={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},ce=1},ye.cell=function(pe,Ge,it,ht,mt,yt,Ot){var St=xe(),Tt=!1;if(void 0!==St.ln)if(St.ln===yt)pe=St.x+St.w,Ge=St.y;else{var _i=this.margins||de;St.y+St.h+ht+13>=this.internal.pageSize.getHeight()-_i.bottom&&(this.cellAddPage(),Tt=!0,this.printHeaders&&this.tableHeaderRow&&this.printHeaderRow(yt,!0)),Ge=xe().y+xe().h,Tt&&(Ge=23)}if(void 0!==mt[0])if(this.printingHeaderRow?this.rect(pe,Ge,it,ht,"FD"):this.rect(pe,Ge,it,ht),"right"===Ot){mt instanceof Array||(mt=[mt]);for(var mi=0;mi<mt.length;mi++){var Ui=mt[mi],Ft=this.getStringUnitWidth(Ui)*this.internal.getFontSize()/this.internal.scaleFactor;this.text(Ui,pe+it-Ft-3,Ge+this.internal.getLineHeight()*(mi+1))}}else this.text(mt,pe+3,Ge+this.internal.getLineHeight());return be(pe,Ge,it,ht,yt),this},ye.arrayMax=function(pe,Ge){var it,ht,mt,yt=pe[0];for(it=0,ht=pe.length;it<ht;it+=1)mt=pe[it],Ge?-1===Ge(yt,mt)&&(yt=mt):yt<mt&&(yt=mt);return yt},ye.table=function(pe,Ge,it,ht,mt){if(!it)throw"No data for PDF table";var yt,Ot,St,Tt,mi,Ui,Ft,ti,ui,vi=[],Di=[],Oi={},Vi={},Zi=[],nn=[],Tn=!1,bn=!0,Li=12,si=de;if(si.width=this.internal.pageSize.getWidth(),mt&&(!0===mt.autoSize&&(Tn=!0),!1===mt.printHeaders&&(bn=!1),mt.fontSize&&(Li=mt.fontSize),mt.css&&void 0!==mt.css["font-size"]&&(Li=16*mt.css["font-size"]),mt.margins&&(si=mt.margins)),this.lnMod=0,re={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},ce=1,this.printHeaders=bn,this.margins=si,this.setFontSize(Li),this.table_font_size=Li,null==ht)vi=Object.keys(it[0]);else if(ht[0]&&"string"!=typeof ht[0])for(Ot=0,St=ht.length;Ot<St;Ot+=1)vi.push((yt=ht[Ot]).name),Di.push(yt.prompt),Vi[yt.name]=yt.width*(19.049976/25.4);else vi=ht;if(Tn)for(ui=function(Ye){return Ye[yt]},Ot=0,St=vi.length;Ot<St;Ot+=1){for(Oi[yt=vi[Ot]]=it.map(ui),Zi.push(this.getTextDimensions(Di[Ot]||yt,{scaleFactor:1}).w),Ui=0,Tt=(mi=Oi[yt]).length;Ui<Tt;Ui+=1)Zi.push(this.getTextDimensions(mi[Ui],{scaleFactor:1}).w);Vi[yt]=ye.arrayMax(Zi),Zi=[]}if(bn){var $i=this.calculateLineHeight(vi,Vi,Di.length?Di:vi);for(Ot=0,St=vi.length;Ot<St;Ot+=1)nn.push([pe,Ge,Vi[yt=vi[Ot]],$i,String(Di.length?Di[Ot]:yt)]);this.setTableHeaderRow(nn),this.printHeaderRow(1,!1)}for(Ot=0,St=it.length;Ot<St;Ot+=1)for($i=this.calculateLineHeight(vi,Vi,Ft=it[Ot]),Ui=0,ti=vi.length;Ui<ti;Ui+=1)this.cell(pe,Ge,Vi[yt=vi[Ui]],$i,Ft[yt],Ot+2,yt.align);return this.lastCellPos=re,this.table_x=pe,this.table_y=Ge,this},ye.calculateLineHeight=function(pe,Ge,it){for(var ht,mt=0,yt=0;yt<pe.length;yt++){it[ht=pe[yt]]=this.splitTextToSize(String(it[ht]),Ge[ht]-3);var Ot=this.internal.getLineHeight()*it[ht].length+3;mt<Ot&&(mt=Ot)}return mt},ye.setTableHeaderRow=function(pe){this.tableHeaderRow=pe},ye.printHeaderRow=function(pe,Ge){if(!this.tableHeaderRow)throw"Property tableHeaderRow does not exist.";var it,ht,mt,yt;if(this.printingHeaderRow=!0,void 0!==he){var Ot=he(this,ce);be(Ot[0],Ot[1],Ot[2],Ot[3],-1)}this.setFontStyle("bold");var St=[];for(mt=0,yt=this.tableHeaderRow.length;mt<yt;mt+=1)this.setFillColor(200,200,200),it=this.tableHeaderRow[mt],Ge&&(this.margins.top=13,it[1]=this.margins&&this.margins.top||0,St.push(it)),ht=[].concat(it),this.cell.apply(this,ht.concat(pe));0<St.length&&this.setTableHeaderRow(St),this.setFontStyle("normal"),this.printingHeaderRow=!1},function(pe,Ge){var it,ht,mt,yt,Ot,St=function(kt){return this.isStrokeTransparent=(kt=kt||{}).isStrokeTransparent||!1,this.strokeOpacity=kt.strokeOpacity||1,this.strokeStyle=kt.strokeStyle||"#000000",this.fillStyle=kt.fillStyle||"#000000",this.isFillTransparent=kt.isFillTransparent||!1,this.fillOpacity=kt.fillOpacity||1,this.font=kt.font||"10px sans-serif",this.textBaseline=kt.textBaseline||"alphabetic",this.textAlign=kt.textAlign||"left",this.lineWidth=kt.lineWidth||1,this.lineJoin=kt.lineJoin||"miter",this.lineCap=kt.lineCap||"butt",this.path=kt.path||[],this.transform=void 0!==kt.transform?kt.transform.clone():new gi,this.globalCompositeOperation=kt.globalCompositeOperation||"normal",this.globalAlpha=kt.globalAlpha||1,this.clip_path=kt.clip_path||[],this.currentPoint=kt.currentPoint||new Ct,this.miterLimit=kt.miterLimit||10,this.lastPoint=kt.lastPoint||new Ct,this.ignoreClearRect="boolean"!=typeof kt.ignoreClearRect||kt.ignoreClearRect,this};pe.events.push(["initialized",function(){this.context2d=new Tt(this),it=this.internal.f2,ht=this.internal.getCoordinateString,mt=this.internal.getVerticalCoordinateString,yt=this.internal.getHorizontalCoordinate,Ot=this.internal.getVerticalCoordinate}]);var Tt=function(kt){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}}),Object.defineProperty(this,"pdf",{get:function(){return kt}});var oi=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return oi},set:function(ln){oi=Boolean(ln)}});var ei=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ei},set:function(ln){ei=Boolean(ln)}});var Ai=0;Object.defineProperty(this,"posX",{get:function(){return Ai},set:function(ln){isNaN(ln)||(Ai=ln)}});var Si=0;Object.defineProperty(this,"posY",{get:function(){return Si},set:function(ln){isNaN(ln)||(Si=ln)}});var yi=!1;Object.defineProperty(this,"autoPaging",{get:function(){return yi},set:function(ln){yi=Boolean(ln)}});var en=0;Object.defineProperty(this,"lastBreak",{get:function(){return en},set:function(ln){en=ln}});var un=[];Object.defineProperty(this,"pageBreaks",{get:function(){return un},set:function(ln){un=ln}});var On=new St;Object.defineProperty(this,"ctx",{get:function(){return On},set:function(ln){ln instanceof St&&(On=ln)}}),Object.defineProperty(this,"path",{get:function(){return On.path},set:function(ln){On.path=ln}});var Gn=[];Object.defineProperty(this,"ctxStack",{get:function(){return Gn},set:function(ln){Gn=ln}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ln){var $n;$n=_i(ln),this.ctx.fillStyle=$n.style,this.ctx.isFillTransparent=0===$n.a,this.ctx.fillOpacity=$n.a,this.pdf.setFillColor($n.r,$n.g,$n.b,{a:$n.a}),this.pdf.setTextColor($n.r,$n.g,$n.b,{a:$n.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ln){var $n=_i(ln);this.ctx.strokeStyle=$n.style,this.ctx.isStrokeTransparent=0===$n.a,this.ctx.strokeOpacity=$n.a,0===$n.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor($n.r,$n.g,$n.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ln){-1!==["butt","round","square"].indexOf(ln)&&(this.ctx.lineCap=ln,this.pdf.setLineCap(ln))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ln){isNaN(ln)||(this.ctx.lineWidth=ln,this.pdf.setLineWidth(ln))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ln){-1!==["bevel","round","miter"].indexOf(ln)&&(this.ctx.lineJoin=ln,this.pdf.setLineJoin(ln))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ln){isNaN(ln)||(this.ctx.miterLimit=ln,this.pdf.setMiterLimit(ln))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ln){this.ctx.textBaseline=ln}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ln){-1!==["right","end","center","left","start"].indexOf(ln)&&(this.ctx.textAlign=ln)}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ln){var $n;if(this.ctx.font=ln,null!==($n=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ln))){var In=$n[1],rr=$n[3],wi=$n[4],Hi=$n[5],xi=$n[6];wi=Math.floor("px"===Hi?parseFloat(wi):"em"===Hi?parseFloat(wi)*this.pdf.getFontSize():parseFloat(wi)),this.pdf.setFontSize(wi);var Ni="";("bold"===rr||700<=parseInt(rr,10)||"bold"===In)&&(Ni="bold"),"italic"===In&&(Ni+="italic"),0===Ni.length&&(Ni="normal");for(var Ji="",mn=xi.toLowerCase().replace(/"|'/g,"").split(/\s*,\s*/),Xn={arial:"Helvetica",verdana:"Helvetica",helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",courier:"Courier",times:"Times",cursive:"Times",fantasy:"Times",serif:"Times"},Zt=0;Zt<mn.length;Zt++){if(void 0!==this.pdf.internal.getFont(mn[Zt],Ni,{noFallback:!0,disableWarning:!0})){Ji=mn[Zt];break}if("bolditalic"===Ni&&void 0!==this.pdf.internal.getFont(mn[Zt],"bold",{noFallback:!0,disableWarning:!0}))Ji=mn[Zt],Ni="bold";else if(void 0!==this.pdf.internal.getFont(mn[Zt],"normal",{noFallback:!0,disableWarning:!0})){Ji=mn[Zt],Ni="normal";break}}if(""===Ji)for(Zt=0;Zt<mn.length;Zt++)if(Xn[mn[Zt]]){Ji=Xn[mn[Zt]];break}this.pdf.setFont(Ji=""===Ji?"Times":Ji,Ni)}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ln){this.ctx.globalCompositeOperation=ln}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ln){this.ctx.globalAlpha=ln}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ln){this.ctx.ignoreClearRect=Boolean(ln)}})};Tt.prototype.fill=function(){vi.call(this,"fill",!1)},Tt.prototype.stroke=function(){vi.call(this,"stroke",!1)},Tt.prototype.beginPath=function(){this.path=[{type:"begin"}]},Tt.prototype.moveTo=function(kt,oi){if(isNaN(kt)||isNaN(oi))throw console.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ei=this.ctx.transform.applyToPoint(new Ct(kt,oi));this.path.push({type:"mt",x:ei.x,y:ei.y}),this.ctx.lastPoint=new Ct(kt,oi)},Tt.prototype.closePath=function(){var kt=new Ct(0,0),oi=0;for(oi=this.path.length-1;-1!==oi;oi--)if("begin"===this.path[oi].type&&"object"===Te(this.path[oi+1])&&"number"==typeof this.path[oi+1].x){kt=new Ct(this.path[oi+1].x,this.path[oi+1].y),this.path.push({type:"lt",x:kt.x,y:kt.y});break}"object"===Te(this.path[oi+2])&&"number"==typeof this.path[oi+2].x&&this.path.push(JSON.parse(JSON.stringify(this.path[oi+2]))),this.path.push({type:"close"}),this.ctx.lastPoint=new Ct(kt.x,kt.y)},Tt.prototype.lineTo=function(kt,oi){if(isNaN(kt)||isNaN(oi))throw console.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ei=this.ctx.transform.applyToPoint(new Ct(kt,oi));this.path.push({type:"lt",x:ei.x,y:ei.y}),this.ctx.lastPoint=new Ct(ei.x,ei.y)},Tt.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),vi.call(this,null,!0)},Tt.prototype.quadraticCurveTo=function(kt,oi,ei,Ai){if(isNaN(ei)||isNaN(Ai)||isNaN(kt)||isNaN(oi))throw console.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Si=this.ctx.transform.applyToPoint(new Ct(ei,Ai)),yi=this.ctx.transform.applyToPoint(new Ct(kt,oi));this.path.push({type:"qct",x1:yi.x,y1:yi.y,x:Si.x,y:Si.y}),this.ctx.lastPoint=new Ct(Si.x,Si.y)},Tt.prototype.bezierCurveTo=function(kt,oi,ei,Ai,Si,yi){if(isNaN(Si)||isNaN(yi)||isNaN(kt)||isNaN(oi)||isNaN(ei)||isNaN(Ai))throw console.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var en=this.ctx.transform.applyToPoint(new Ct(Si,yi)),un=this.ctx.transform.applyToPoint(new Ct(kt,oi)),On=this.ctx.transform.applyToPoint(new Ct(ei,Ai));this.path.push({type:"bct",x1:un.x,y1:un.y,x2:On.x,y2:On.y,x:en.x,y:en.y}),this.ctx.lastPoint=new Ct(en.x,en.y)},Tt.prototype.arc=function(kt,oi,ei,Ai,Si,yi){if(isNaN(kt)||isNaN(oi)||isNaN(ei)||isNaN(Ai)||isNaN(Si))throw console.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(yi=Boolean(yi),!this.ctx.transform.isIdentity){var en=this.ctx.transform.applyToPoint(new Ct(kt,oi));kt=en.x,oi=en.y;var un=this.ctx.transform.applyToPoint(new Ct(0,ei)),On=this.ctx.transform.applyToPoint(new Ct(0,0));ei=Math.sqrt(Math.pow(un.x-On.x,2)+Math.pow(un.y-On.y,2))}Math.abs(Si-Ai)>=2*Math.PI&&(Ai=0,Si=2*Math.PI),this.path.push({type:"arc",x:kt,y:oi,radius:ei,startAngle:Ai,endAngle:Si,counterclockwise:yi})},Tt.prototype.arcTo=function(kt,oi,ei,Ai,Si){throw new Error("arcTo not implemented.")},Tt.prototype.rect=function(kt,oi,ei,Ai){if(isNaN(kt)||isNaN(oi)||isNaN(ei)||isNaN(Ai))throw console.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(kt,oi),this.lineTo(kt+ei,oi),this.lineTo(kt+ei,oi+Ai),this.lineTo(kt,oi+Ai),this.lineTo(kt,oi),this.lineTo(kt+ei,oi),this.lineTo(kt,oi)},Tt.prototype.fillRect=function(kt,oi,ei,Ai){if(isNaN(kt)||isNaN(oi)||isNaN(ei)||isNaN(Ai))throw console.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!mi.call(this)){var Si={};"butt"!==this.lineCap&&(Si.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(Si.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(kt,oi,ei,Ai),this.fill(),Si.hasOwnProperty("lineCap")&&(this.lineCap=Si.lineCap),Si.hasOwnProperty("lineJoin")&&(this.lineJoin=Si.lineJoin)}},Tt.prototype.strokeRect=function(kt,oi,ei,Ai){if(isNaN(kt)||isNaN(oi)||isNaN(ei)||isNaN(Ai))throw console.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");Ui.call(this)||(this.beginPath(),this.rect(kt,oi,ei,Ai),this.stroke())},Tt.prototype.clearRect=function(kt,oi,ei,Ai){if(isNaN(kt)||isNaN(oi)||isNaN(ei)||isNaN(Ai))throw console.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(kt,oi,ei,Ai))},Tt.prototype.save=function(kt){kt="boolean"!=typeof kt||kt;for(var oi=this.pdf.internal.getCurrentPageInfo().pageNumber,ei=0;ei<this.pdf.internal.getNumberOfPages();ei++)this.pdf.setPage(ei+1),this.pdf.internal.out("q");if(this.pdf.setPage(oi),kt){this.ctx.fontSize=this.pdf.internal.getFontSize();var Ai=new St(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Ai}},Tt.prototype.restore=function(kt){kt="boolean"!=typeof kt||kt;for(var oi=this.pdf.internal.getCurrentPageInfo().pageNumber,ei=0;ei<this.pdf.internal.getNumberOfPages();ei++)this.pdf.setPage(ei+1),this.pdf.internal.out("Q");this.pdf.setPage(oi),kt&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin)},Tt.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var _i=function(kt){var oi,ei,Ai,Si;if(!0===kt.isCanvasGradient&&(kt=kt.getColor()),!kt)return{r:0,g:0,b:0,a:0,style:kt};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(kt))Si=Ai=ei=oi=0;else{var yi=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(kt);if(null!==yi)oi=parseInt(yi[1]),ei=parseInt(yi[2]),Ai=parseInt(yi[3]),Si=1;else if(null!==(yi=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d\.]+)\s*\)/.exec(kt)))oi=parseInt(yi[1]),ei=parseInt(yi[2]),Ai=parseInt(yi[3]),Si=parseFloat(yi[4]);else{if(Si=1,"string"==typeof kt&&"#"!==kt.charAt(0)){var en=new RGBColor(kt);kt=en.ok?en.toHex():"#000000"}4===kt.length?(oi=kt.substring(1,2),oi+=oi,ei=kt.substring(2,3),ei+=ei,Ai=kt.substring(3,4),Ai+=Ai):(oi=kt.substring(1,3),ei=kt.substring(3,5),Ai=kt.substring(5,7)),oi=parseInt(oi,16),ei=parseInt(ei,16),Ai=parseInt(Ai,16)}}return{r:oi,g:ei,b:Ai,a:Si,style:kt}},mi=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},Ui=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};Tt.prototype.fillText=function(kt,oi,ei,Ai){if(isNaN(oi)||isNaN(ei)||"string"!=typeof kt)throw console.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Ai=isNaN(Ai)?void 0:Ai,!mi.call(this)){ei=Oi.call(this,ei);var Si=$t(this.ctx.transform.rotation);bn.call(this,{text:kt,x:oi,y:ei,scale:this.ctx.transform.scaleX,angle:Si,align:this.textAlign,maxWidth:Ai})}},Tt.prototype.strokeText=function(kt,oi,ei,Ai){if(isNaN(oi)||isNaN(ei)||"string"!=typeof kt)throw console.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!Ui.call(this)){Ai=isNaN(Ai)?void 0:Ai,ei=Oi.call(this,ei);var Si=$t(this.ctx.transform.rotation);bn.call(this,{text:kt,x:oi,y:ei,scale:this.ctx.transform.scaleX,renderingMode:"stroke",angle:Si,align:this.textAlign,maxWidth:Ai})}},Tt.prototype.measureText=function(kt){if("string"!=typeof kt)throw console.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var oi=this.pdf,ei=this.pdf.internal.scaleFactor,Ai=oi.internal.getFontSize(),Si=oi.getStringUnitWidth(kt)*Ai/oi.internal.scaleFactor;return new function(yi){var en=(yi=yi||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return en}}),this}({width:Si*=Math.round(96*ei/72*1e4)/1e4})},Tt.prototype.scale=function(kt,oi){if(isNaN(kt)||isNaN(oi))throw console.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ei=new gi(kt,0,0,oi,0,0);this.ctx.transform=this.ctx.transform.multiply(ei)},Tt.prototype.rotate=function(kt){if(isNaN(kt))throw console.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var oi=new gi(Math.cos(kt),Math.sin(kt),-Math.sin(kt),Math.cos(kt),0,0);this.ctx.transform=this.ctx.transform.multiply(oi)},Tt.prototype.translate=function(kt,oi){if(isNaN(kt)||isNaN(oi))throw console.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ei=new gi(1,0,0,1,kt,oi);this.ctx.transform=this.ctx.transform.multiply(ei)},Tt.prototype.transform=function(kt,oi,ei,Ai,Si,yi){if(isNaN(kt)||isNaN(oi)||isNaN(ei)||isNaN(Ai)||isNaN(Si)||isNaN(yi))throw console.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var en=new gi(kt,oi,ei,Ai,Si,yi);this.ctx.transform=this.ctx.transform.multiply(en)},Tt.prototype.setTransform=function(kt,oi,ei,Ai,Si,yi){kt=isNaN(kt)?1:kt,oi=isNaN(oi)?0:oi,ei=isNaN(ei)?0:ei,Ai=isNaN(Ai)?1:Ai,Si=isNaN(Si)?0:Si,yi=isNaN(yi)?0:yi,this.ctx.transform=new gi(kt,oi,ei,Ai,Si,yi)},Tt.prototype.drawImage=function(kt,oi,ei,Ai,Si,yi,en,un,On){var Gn=this.pdf.getImageProperties(kt),ln=1,$n=1,In=1,rr=1;void 0!==Ai&&void 0!==un&&(In=un/Ai,rr=On/Si,ln=Gn.width/Ai*un/Ai,$n=Gn.height/Si*On/Si),void 0===yi&&(yi=oi,en=ei,ei=oi=0),void 0!==Ai&&void 0===un&&(un=Ai,On=Si),void 0===Ai&&void 0===un&&(un=Gn.width,On=Gn.height);for(var xi,wi=this.ctx.transform.decompose(),Hi=$t(wi.rotate.shx),Ni=new gi,Ji=((Ni=(Ni=(Ni=Ni.multiply(wi.translate)).multiply(wi.skew)).multiply(wi.scale)).applyToPoint(new Ct(un,On)),Ni.applyToRectangle(new Gt(yi-oi*In,en-ei*rr,Ai*ln,Si*$n))),mn=Ft.call(this,Ji),Xn=[],Zt=0;Zt<mn.length;Zt+=1)-1===Xn.indexOf(mn[Zt])&&Xn.push(mn[Zt]);if(Xn.sort(),this.autoPaging)for(var ai=Xn[Xn.length-1],Bi=Xn[0];Bi<ai+1;Bi++){if(this.pdf.setPage(Bi),0!==this.ctx.clip_path.length){var hn=this.path;xi=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ui(xi,this.posX,-1*this.pdf.internal.pageSize.height*(Bi-1)+this.posY),Di.call(this,"fill",!0),this.path=hn}var cn=JSON.parse(JSON.stringify(Ji));cn=ui([cn],this.posX,-1*this.pdf.internal.pageSize.height*(Bi-1)+this.posY)[0],this.pdf.addImage(kt,"jpg",cn.x,cn.y,cn.w,cn.h,null,null,Hi)}else this.pdf.addImage(kt,"jpg",Ji.x,Ji.y,Ji.w,Ji.h,null,null,Hi)};var Ft=function(kt,oi,ei){var Ai=[];switch(oi=oi||this.pdf.internal.pageSize.width,ei=ei||this.pdf.internal.pageSize.height,kt.type){default:case"mt":case"lt":Ai.push(Math.floor((kt.y+this.posY)/ei)+1);break;case"arc":Ai.push(Math.floor((kt.y+this.posY-kt.radius)/ei)+1),Ai.push(Math.floor((kt.y+this.posY+kt.radius)/ei)+1);break;case"qct":var Si=Ii(this.ctx.lastPoint.x,this.ctx.lastPoint.y,kt.x1,kt.y1,kt.x,kt.y);Ai.push(Math.floor(Si.y/ei)+1),Ai.push(Math.floor((Si.y+Si.h)/ei)+1);break;case"bct":var yi=Jt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,kt.x1,kt.y1,kt.x2,kt.y2,kt.x,kt.y);Ai.push(Math.floor(yi.y/ei)+1),Ai.push(Math.floor((yi.y+yi.h)/ei)+1);break;case"rect":Ai.push(Math.floor((kt.y+this.posY)/ei)+1),Ai.push(Math.floor((kt.y+kt.h+this.posY)/ei)+1)}for(var en=0;en<Ai.length;en+=1)for(;this.pdf.internal.getNumberOfPages()<Ai[en];)ti.call(this);return Ai},ti=function(){var kt=this.fillStyle,oi=this.strokeStyle,ei=this.font,Ai=this.lineCap,Si=this.lineWidth,yi=this.lineJoin;this.pdf.addPage(),this.fillStyle=kt,this.strokeStyle=oi,this.font=ei,this.lineCap=Ai,this.lineWidth=Si,this.lineJoin=yi},ui=function(kt,oi,ei){for(var Ai=0;Ai<kt.length;Ai++)switch(kt[Ai].type){case"bct":kt[Ai].x2+=oi,kt[Ai].y2+=ei;case"qct":kt[Ai].x1+=oi,kt[Ai].y1+=ei;default:kt[Ai].x+=oi,kt[Ai].y+=ei}return kt},vi=function(kt,oi){for(var ei,Ai,Si=this.fillStyle,yi=this.strokeStyle,en=this.lineCap,un=this.lineWidth,On=this.lineJoin,Gn=JSON.parse(JSON.stringify(this.path)),ln=JSON.parse(JSON.stringify(this.path)),$n=[],In=0;In<ln.length;In++)if(void 0!==ln[In].x)for(var rr=Ft.call(this,ln[In]),wi=0;wi<rr.length;wi+=1)-1===$n.indexOf(rr[wi])&&$n.push(rr[wi]);for(In=0;In<$n.length;In++)for(;this.pdf.internal.getNumberOfPages()<$n[In];)ti.call(this);if($n.sort(),this.autoPaging){var xi=$n[$n.length-1];for(In=$n[0];In<xi+1;In++){if(this.pdf.setPage(In),this.fillStyle=Si,this.strokeStyle=yi,this.lineCap=en,this.lineWidth=un,this.lineJoin=On,0!==this.ctx.clip_path.length){var Ni=this.path;ei=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ui(ei,this.posX,-1*this.pdf.internal.pageSize.height*(In-1)+this.posY),Di.call(this,kt,!0),this.path=Ni}Ai=JSON.parse(JSON.stringify(Gn)),this.path=ui(Ai,this.posX,-1*this.pdf.internal.pageSize.height*(In-1)+this.posY),!1!==oi&&0!==In||Di.call(this,kt,oi)}}else Di.call(this,kt,oi);this.path=Gn},Di=function(kt,oi){if(("stroke"!==kt||oi||!Ui.call(this))&&("stroke"===kt||oi||!mi.call(this))){for(var Ai,ei=[],Si=this.path,yi=0;yi<Si.length;yi++){var en=Si[yi];switch(en.type){case"begin":ei.push({begin:!0});break;case"close":ei.push({close:!0});break;case"mt":ei.push({start:en,deltas:[],abs:[]});break;case"lt":var un=ei.length;if(!isNaN(Si[yi-1].x)){var On=[en.x-Si[yi-1].x,en.y-Si[yi-1].y];if(0<un)for(;0<=un;un--)if(!0!==ei[un-1].close&&!0!==ei[un-1].begin){ei[un-1].deltas.push(On),ei[un-1].abs.push(en);break}}break;case"bct":ei[ei.length-1].deltas.push(On=[en.x1-Si[yi-1].x,en.y1-Si[yi-1].y,en.x2-Si[yi-1].x,en.y2-Si[yi-1].y,en.x-Si[yi-1].x,en.y-Si[yi-1].y]);break;case"qct":ei[ei.length-1].deltas.push(On=[Si[yi-1].x+2/3*(en.x1-Si[yi-1].x)-Si[yi-1].x,Si[yi-1].y+2/3*(en.y1-Si[yi-1].y)-Si[yi-1].y,en.x+2/3*(en.x1-en.x)-Si[yi-1].x,en.y+2/3*(en.y1-en.y)-Si[yi-1].y,en.x-Si[yi-1].x,en.y-Si[yi-1].y]);break;case"arc":ei.push({deltas:[],abs:[],arc:!0}),Array.isArray(ei[ei.length-1].abs)&&ei[ei.length-1].abs.push(en)}}for(Ai=oi?null:"stroke"===kt?"stroke":"fill",yi=0;yi<ei.length;yi++){if(ei[yi].arc)for(var Hi=ei[yi].abs,xi=0;xi<Hi.length;xi++){var Ni=Hi[xi];if(void 0!==Ni.startAngle){var Ji=$t(Ni.startAngle),mn=$t(Ni.endAngle),Xn=Ni.x,Zt=Ni.y;Vi.call(this,Xn,Zt,Ni.radius,Ji,mn,Ni.counterclockwise,Ai,oi)}else Li.call(this,Ni.x,Ni.y)}!ei[yi].arc&&!0!==ei[yi].close&&!0!==ei[yi].begin&&si.call(this,ei[yi].deltas,Xn=ei[yi].start.x,Zt=ei[yi].start.y,null,null)}Ai&&Zi.call(this,Ai),oi&&nn.call(this)}},Oi=function(kt){var oi=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ei=oi*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return kt-ei;case"top":return kt+oi-ei;case"hanging":return kt+oi-2*ei;case"middle":return kt+oi/2-ei;default:return kt}};Tt.prototype.createLinearGradient=function(){var kt=function(){};return kt.colorStops=[],kt.addColorStop=function(oi,ei){this.colorStops.push([oi,ei])},kt.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},kt.isCanvasGradient=!0,kt},Tt.prototype.createPattern=function(){return this.createLinearGradient()},Tt.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Vi=function(kt,oi,ei,Ai,Si,yi,en,un){for(var On=ci(Ai),Gn=ci(Si),ln=Ye.call(this,ei,On,Gn,yi),$n=0;$n<ln.length;$n++){var In=ln[$n];0===$n&&Tn.call(this,In.x1+kt,In.y1+oi),$i.call(this,kt,oi,In.x2,In.y2,In.x3,In.y3,In.x4,In.y4)}un?nn.call(this):Zi.call(this,en)},Zi=function(kt){switch(kt){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},nn=function(){this.pdf.clip()},Tn=function(kt,oi){this.pdf.internal.out(ht(kt)+" "+mt(oi)+" m")},bn=function(kt){var oi;switch(kt.align){case"right":case"end":oi="right";break;case"center":oi="center";break;default:oi="left"}var ei=this.ctx.transform.applyToPoint(new Ct(kt.x,kt.y)),Ai=this.ctx.transform.decompose(),Si=new gi;Si=(Si=(Si=Si.multiply(Ai.translate)).multiply(Ai.skew)).multiply(Ai.scale);for(var yi,en=this.pdf.getTextDimensions(kt.text),un=this.ctx.transform.applyToRectangle(new Gt(kt.x,kt.y,en.w,en.h)),On=Si.applyToRectangle(new Gt(kt.x,kt.y-en.h,en.w,en.h)),Gn=Ft.call(this,On),ln=[],$n=0;$n<Gn.length;$n+=1)-1===ln.indexOf(Gn[$n])&&ln.push(Gn[$n]);if(ln.sort(),!0===this.autoPaging)for(var rr=ln[ln.length-1],wi=ln[0];wi<rr+1;wi++){if(this.pdf.setPage(wi),0!==this.ctx.clip_path.length){var Hi=this.path;yi=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ui(yi,this.posX,-1*this.pdf.internal.pageSize.height*(wi-1)+this.posY),Di.call(this,"fill",!0),this.path=Hi}var xi=JSON.parse(JSON.stringify(un));if(xi=ui([xi],this.posX,-1*this.pdf.internal.pageSize.height*(wi-1)+this.posY)[0],.01<=kt.scale){var Ni=this.pdf.internal.getFontSize();this.pdf.setFontSize(Ni*kt.scale)}this.pdf.text(kt.text,xi.x,xi.y,{angle:kt.angle,align:oi,renderingMode:kt.renderingMode,maxWidth:kt.maxWidth}),.01<=kt.scale&&this.pdf.setFontSize(Ni)}else.01<=kt.scale&&(Ni=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ni*kt.scale)),this.pdf.text(kt.text,ei.x+this.posX,ei.y+this.posY,{angle:kt.angle,align:oi,renderingMode:kt.renderingMode,maxWidth:kt.maxWidth}),.01<=kt.scale&&this.pdf.setFontSize(Ni)},Li=function(kt,oi,ei,Ai){Ai=Ai||0,this.pdf.internal.out(ht(kt+(ei=ei||0))+" "+mt(oi+Ai)+" l")},si=function(kt,oi,ei){return this.pdf.lines(kt,oi,ei,null,null)},$i=function(kt,oi,ei,Ai,Si,yi,en,un){this.pdf.internal.out([it(yt(ei+kt)),it(Ot(Ai+oi)),it(yt(Si+kt)),it(Ot(yi+oi)),it(yt(en+kt)),it(Ot(un+oi)),"c"].join(" "))},Ye=function(kt,oi,ei,Ai){var Si=2*Math.PI,yi=oi;(yi<Si||Si<yi)&&(yi%=Si);var en=ei;(en<Si||Si<en)&&(en%=Si);for(var un=[],On=Math.PI/2,Gn=Ai?-1:1,ln=oi,$n=Math.min(Si,Math.abs(en-yi));1e-5<$n;){var In=ln+Gn*Math.min($n,On);un.push(Ht.call(this,kt,ln,In)),$n-=Math.abs(In-ln),ln=In}return un},Ht=function(kt,oi,ei){var Ai=(ei-oi)/2,Si=kt*Math.cos(Ai),yi=kt*Math.sin(Ai),en=Si,un=-yi,On=en*en+un*un,Gn=On+en*Si+un*yi,ln=4/3*(Math.sqrt(2*On*Gn)-Gn)/(en*yi-un*Si),$n=en-ln*un,In=un+ln*en,rr=$n,wi=-In,Hi=Ai+oi,xi=Math.cos(Hi),Ni=Math.sin(Hi);return{x1:kt*Math.cos(oi),y1:kt*Math.sin(oi),x2:$n*xi-In*Ni,y2:$n*Ni+In*xi,x3:rr*xi-wi*Ni,y3:rr*Ni+wi*xi,x4:kt*Math.cos(ei),y4:kt*Math.sin(ei)}},$t=function(kt){return 180*kt/Math.PI},ci=function(kt){return kt*Math.PI/180},Ii=function(kt,oi,ei,Ai,Si,yi){var en=kt+.5*(ei-kt),un=oi+.5*(Ai-oi),On=Si+.5*(ei-Si),Gn=yi+.5*(Ai-yi),ln=Math.min(kt,Si,en,On),$n=Math.max(kt,Si,en,On),In=Math.min(oi,yi,un,Gn),rr=Math.max(oi,yi,un,Gn);return new Gt(ln,In,$n-ln,rr-In)},Jt=function(kt,oi,ei,Ai,Si,yi,en,un){for(var On,Gn,ln,$n,In,rr,wi,Hi,xi,Ni,Ji,mn,Xn,Zt=ei-kt,di=Ai-oi,ai=Si-ei,Bi=yi-Ai,hn=en-Si,cn=un-yi,Sn=0;Sn<41;Sn++)Hi=(rr=(Gn=kt+(On=Sn/40)*Zt)+On*(($n=ei+On*ai)-Gn))+On*($n+On*(Si+On*hn-$n)-rr),xi=(wi=(ln=oi+On*di)+On*((In=Ai+On*Bi)-ln))+On*(In+On*(yi+On*cn-In)-wi),Xn=0==Sn?(mn=Ni=Hi,Ji=xi):(Ni=Math.min(Ni,Hi),Ji=Math.min(Ji,xi),mn=Math.max(mn,Hi),Math.max(Xn,xi));return new Gt(Math.round(Ni),Math.round(Ji),Math.round(mn-Ni),Math.round(Xn-Ji))},Ct=function(kt,oi){var ei=kt||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ei},set:function(yi){isNaN(yi)||(ei=parseFloat(yi))}});var Ai=oi||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ai},set:function(yi){isNaN(yi)||(Ai=parseFloat(yi))}});var Si="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Si},set:function(yi){Si=yi.toString()}}),this},Gt=function(kt,oi,ei,Ai){Ct.call(this,kt,oi),this.type="rect";var Si=ei||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Si},set:function(en){isNaN(en)||(Si=parseFloat(en))}});var yi=Ai||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return yi},set:function(en){isNaN(en)||(yi=parseFloat(en))}}),this},gi=function(kt,oi,ei,Ai,Si,yi){var en=[];return Object.defineProperty(this,"sx",{get:function(){return en[0]},set:function(un){en[0]=Math.round(1e5*un)/1e5}}),Object.defineProperty(this,"shy",{get:function(){return en[1]},set:function(un){en[1]=Math.round(1e5*un)/1e5}}),Object.defineProperty(this,"shx",{get:function(){return en[2]},set:function(un){en[2]=Math.round(1e5*un)/1e5}}),Object.defineProperty(this,"sy",{get:function(){return en[3]},set:function(un){en[3]=Math.round(1e5*un)/1e5}}),Object.defineProperty(this,"tx",{get:function(){return en[4]},set:function(un){en[4]=Math.round(1e5*un)/1e5}}),Object.defineProperty(this,"ty",{get:function(){return en[5]},set:function(un){en[5]=Math.round(1e5*un)/1e5}}),Object.defineProperty(this,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(this,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(this,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(this,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),this.sx=isNaN(kt)?1:kt,this.shy=isNaN(oi)?0:oi,this.shx=isNaN(ei)?0:ei,this.sy=isNaN(Ai)?1:Ai,this.tx=isNaN(Si)?0:Si,this.ty=isNaN(yi)?0:yi,this};gi.prototype.multiply=function(kt){return new gi(kt.sx*this.sx+kt.shy*this.shx,kt.sx*this.shy+kt.shy*this.sy,kt.shx*this.sx+kt.sy*this.shx,kt.shx*this.shy+kt.sy*this.sy,kt.tx*this.sx+kt.ty*this.shx+this.tx,kt.tx*this.shy+kt.ty*this.sy+this.ty)},gi.prototype.decompose=function(){var kt=this.sx,oi=this.shy,ei=this.shx,Ai=this.sy,Si=this.tx,yi=this.ty,en=Math.sqrt(kt*kt+oi*oi),un=(kt/=en)*ei+(oi/=en)*Ai;ei-=kt*un,Ai-=oi*un;var On=Math.sqrt(ei*ei+Ai*Ai);return un/=On,kt*(Ai/=On)<oi*(ei/=On)&&(kt=-kt,oi=-oi,un=-un,en=-en),{scale:new gi(en,0,0,On,0,0),translate:new gi(1,0,0,1,Si,yi),rotate:new gi(kt,oi,-oi,kt,0,0),skew:new gi(1,0,un,1,0,0)}},gi.prototype.applyToPoint=function(kt){return new Ct(kt.x*this.sx+kt.y*this.shx+this.tx,kt.x*this.shy+kt.y*this.sy+this.ty)},gi.prototype.applyToRectangle=function(kt){var oi=this.applyToPoint(kt),ei=this.applyToPoint(new Ct(kt.x+kt.w,kt.y+kt.h));return new Gt(oi.x,oi.y,ei.x-oi.x,ei.y-oi.y)},gi.prototype.clone=function(){return new gi(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)}}(kn.API,"undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")()),me=function(pe){var Ge,it,ht,mt,yt,Ot,St,Tt,_i,mi;for(/[^\x00-\xFF]/.test(pe),it=[],ht=0,mt=(pe+=Ge="\0\0\0\0".slice(pe.length%4||4)).length;ht<mt;ht+=4)0!==(yt=(pe.charCodeAt(ht)<<24)+(pe.charCodeAt(ht+1)<<16)+(pe.charCodeAt(ht+2)<<8)+pe.charCodeAt(ht+3))?(Ot=(yt=((yt=((yt=((yt=(yt-(mi=yt%85))/85)-(_i=yt%85))/85)-(Tt=yt%85))/85)-(St=yt%85))/85)%85,it.push(Ot+33,St+33,Tt+33,_i+33,mi+33)):it.push(122);return function(Ui,Ft){for(var ti=Ge.length;0<ti;ti--)Ui.pop()}(it),String.fromCharCode.apply(String,it)+"~>"},le=function(pe){var Ge,it,ht,mt,yt,Ot=String,St="length",Tt="charCodeAt",_i="slice",mi="replace";for(pe[_i](-2),pe=pe[_i](0,-2)[mi](/\s/g,"")[mi]("z","!!!!!"),ht=[],mt=0,yt=(pe+=Ge="uuuuu"[_i](pe[St]%5||5))[St];mt<yt;mt+=5)it=52200625*(pe[Tt](mt)-33)+614125*(pe[Tt](mt+1)-33)+7225*(pe[Tt](mt+2)-33)+85*(pe[Tt](mt+3)-33)+(pe[Tt](mt+4)-33),ht.push(255&it>>24,255&it>>16,255&it>>8,255&it);return function(Ui,Ft){for(var ti=Ge[St];0<ti;ti--)Ui.pop()}(ht),Ot.fromCharCode.apply(Ot,ht)},oe=function(pe){for(var Ge="",it=0;it<pe.length;it+=1)Ge+=("0"+pe.charCodeAt(it).toString(16)).slice(-2);return Ge+">"},se=function(pe){var Ge=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(pe=pe.replace(/\s/g,"")).indexOf(">")&&(pe=pe.substr(0,pe.indexOf(">"))),pe.length%2&&(pe+="0"),!1===Ge.test(pe))return"";for(var it="",ht=0;ht<pe.length;ht+=2)it+=String.fromCharCode("0x"+(pe[ht]+pe[ht+1]));return it},fe=function(pe,Ge){Ge=Object.assign({predictor:1,colors:1,bitsPerComponent:8,columns:1},Ge);for(var it,ht,mt=[],yt=pe.length;yt--;)mt[yt]=pe.charCodeAt(yt);return it=Ae.adler32cs.from(pe),(ht=new Deflater(6)).append(new Uint8Array(mt)),pe=ht.flush(),(mt=new Uint8Array(pe.length+6)).set(new Uint8Array([120,156])),mt.set(pe,2),mt.set(new Uint8Array([255&it,it>>8&255,it>>16&255,it>>24&255]),pe.length+2),String.fromCharCode.apply(null,mt)},(Ae=kn.API).processDataByFilters=function(pe,Ge){var it=0,ht=pe||"",mt=[];for("string"==typeof(Ge=Ge||[])&&(Ge=[Ge]),it=0;it<Ge.length;it+=1)switch(Ge[it]){case"ASCII85Decode":case"/ASCII85Decode":ht=le(ht),mt.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":ht=me(ht),mt.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":ht=se(ht),mt.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":ht=oe(ht),mt.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":ht=fe(ht),mt.push("/FlateDecode");break;default:throw'The filter: "'+Ge[it]+'" is not implemented'}return{data:ht,reverseChain:mt.reverse().join(" ")}},(Ee=kn.API).loadFile=function(pe,Ge,it){var ht;Ge=Ge||!0,it=it||function(){};try{ht=function(mt,yt,Ot){var St=new XMLHttpRequest,Tt=[],_i=0,mi=function(Ui){var Ft=Ui.length,ti=String.fromCharCode;for(_i=0;_i<Ft;_i+=1)Tt.push(ti(255&Ui.charCodeAt(_i)));return Tt.join("")};if(St.open("GET",mt,!yt),St.overrideMimeType("text/plain; charset=x-user-defined"),!1===yt&&(St.onload=function(){return mi(this.responseText)}),St.send(null),200===St.status)return yt?mi(St.responseText):void 0;console.warn('Unable to load file "'+mt+'"')}(pe,Ge)}catch(mt){ht=void 0}return ht},Ee.loadImageFile=Ee.loadFile,ge=kn.API,Ue="undefined"!=typeof window&&window||"undefined"!=typeof global&&global,Fe=function(pe){var Ge=Te(pe);return"undefined"===Ge?"undefined":"string"===Ge||pe instanceof String?"string":"number"===Ge||pe instanceof Number?"number":"function"===Ge||pe instanceof Function?"function":pe&&pe.constructor===Array?"array":pe&&1===pe.nodeType?"element":"object"===Ge?"object":"unknown"},Ve=function(pe,Ge){var it=document.createElement(pe);if(Ge.className&&(it.className=Ge.className),Ge.innerHTML){it.innerHTML=Ge.innerHTML;for(var ht=it.getElementsByTagName("script"),mt=ht.length;0<mt--;null)ht[mt].parentNode.removeChild(ht[mt])}for(var yt in Ge.style)it.style[yt]=Ge.style[yt];return it},(((Le=function pe(Ge){var it=Object.assign(pe.convert(Promise.resolve()),JSON.parse(JSON.stringify(pe.template))),ht=pe.convert(Promise.resolve(),it);return(ht=ht.setProgress(1,pe,1,[pe])).set(Ge)}).prototype=Object.create(Promise.prototype)).constructor=Le).convert=function(pe,Ge){return pe.__proto__=Ge||Le.prototype,pe},Le.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{}}},Le.prototype.from=function(pe,Ge){return this.then(function(){switch(Ge=Ge||function(it){switch(Fe(it)){case"string":return"string";case"element":return"canvas"===it.nodeName.toLowerCase?"canvas":"element";default:return"unknown"}}(pe)){case"string":return this.set({src:Ve("div",{innerHTML:pe})});case"element":return this.set({src:pe});case"canvas":return this.set({canvas:pe});case"img":return this.set({img:pe});default:return this.error("Unknown source type.")}})},Le.prototype.to=function(pe){switch(pe){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},Le.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var pe={position:"relative",display:"inline-block",width:Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:"white"},Ge=function it(ht,mt){for(var yt=3===ht.nodeType?document.createTextNode(ht.nodeValue):ht.cloneNode(!1),Ot=ht.firstChild;Ot;Ot=Ot.nextSibling)!0!==mt&&1===Ot.nodeType&&"SCRIPT"===Ot.nodeName||yt.appendChild(it(Ot,mt));return 1===ht.nodeType&&("CANVAS"===ht.nodeName?(yt.width=ht.width,yt.height=ht.height,yt.getContext("2d").drawImage(ht,0,0)):"TEXTAREA"!==ht.nodeName&&"SELECT"!==ht.nodeName||(yt.value=ht.value),yt.addEventListener("load",function(){yt.scrollTop=ht.scrollTop,yt.scrollLeft=ht.scrollLeft},!0)),yt}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===Ge.tagName&&(pe.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=Ve("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=Ve("div",{className:"html2pdf__container",style:pe}),this.prop.container.appendChild(Ge),this.prop.container.firstChild.appendChild(Ve("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},Le.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(function(){var Ge=Object.assign({},this.opt.html2canvas);if(delete Ge.onrendered,this.isHtml2CanvasLoaded())return html2canvas(this.prop.container,Ge)}).then(function(Ge){(this.opt.html2canvas.onrendered||function(){})(Ge),this.prop.canvas=Ge,document.body.removeChild(this.prop.overlay)})},Le.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(function(){var Ge=this.opt.jsPDF,it=Object.assign({async:!0,allowTaint:!0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete it.onrendered,Ge.context2d.autoPaging=!0,Ge.context2d.posX=this.opt.x,Ge.context2d.posY=this.opt.y,it.windowHeight=it.windowHeight||0,it.windowHeight=0==it.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):it.windowHeight,this.isHtml2CanvasLoaded())return html2canvas(this.prop.container,it)}).then(function(Ge){(this.opt.html2canvas.onrendered||function(){})(Ge),this.prop.canvas=Ge,document.body.removeChild(this.prop.overlay)})},Le.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var pe=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=pe})},Le.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},Le.prototype.output=function(pe,Ge,it){return"img"===(it=it||"pdf").toLowerCase()||"image"===it.toLowerCase()?this.outputImg(pe,Ge):this.outputPdf(pe,Ge)},Le.prototype.outputPdf=function(pe,Ge){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(pe,Ge)})},Le.prototype.outputImg=function(pe,Ge){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(pe){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+pe+'" is not supported.'}})},Le.prototype.isHtml2CanvasLoaded=function(){var pe=void 0!==Ue.html2canvas;return pe||console.error("html2canvas not loaded."),pe},Le.prototype.save=function(pe){if(this.isHtml2CanvasLoaded())return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(pe?{filename:pe}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},Le.prototype.doCallback=function(pe){if(this.isHtml2CanvasLoaded())return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},Le.prototype.set=function(pe){if("object"!==Fe(pe))return this;var Ge=Object.keys(pe||{}).map(function(it){if(it in Le.template.prop)return function(){this.prop[it]=pe[it]};switch(it){case"margin":return this.setMargin.bind(this,pe.margin);case"jsPDF":return function(){return this.opt.jsPDF=pe.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,pe.pageSize);default:return function(){this.opt[it]=pe[it]}}},this);return this.then(function(){return this.thenList(Ge)})},Le.prototype.get=function(pe,Ge){return this.then(function(){var it=pe in Le.template.prop?this.prop[pe]:this.opt[pe];return Ge?Ge(it):it})},Le.prototype.setMargin=function(pe){return this.then(function(){switch(Fe(pe)){case"number":pe=[pe,pe,pe,pe];case"array":if(2===pe.length&&(pe=[pe[0],pe[1],pe[0],pe[1]]),4===pe.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=pe}).then(this.setPageSize)},Le.prototype.setPageSize=function(pe){function Ge(it,ht){return Math.floor(it*ht/72*96)}return this.then(function(){(pe=pe||kn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(pe.inner={width:pe.width-this.opt.margin[1]-this.opt.margin[3],height:pe.height-this.opt.margin[0]-this.opt.margin[2]},pe.inner.px={width:Ge(pe.inner.width,pe.k),height:Ge(pe.inner.height,pe.k)},pe.inner.ratio=pe.inner.height/pe.inner.width),this.prop.pageSize=pe})},Le.prototype.setProgress=function(pe,Ge,it,ht){return null!=pe&&(this.progress.val=pe),null!=Ge&&(this.progress.state=Ge),null!=it&&(this.progress.n=it),null!=ht&&(this.progress.stack=ht),this.progress.ratio=this.progress.val/this.progress.state,this},Le.prototype.updateProgress=function(pe,Ge,it,ht){return this.setProgress(pe?this.progress.val+pe:null,Ge||null,it?this.progress.n+it:null,ht?this.progress.stack.concat(ht):null)},Le.prototype.then=function(pe,Ge){var it=this;return this.thenCore(pe,Ge,function(ht,mt){return it.updateProgress(null,null,1,[ht]),Promise.prototype.then.call(this,function(yt){return it.updateProgress(null,ht),yt}).then(ht,mt).then(function(yt){return it.updateProgress(1),yt})})},Le.prototype.thenCore=function(pe,Ge,it){it=it||Promise.prototype.then;var ht=this;pe&&(pe=pe.bind(ht)),Ge&&(Ge=Ge.bind(ht));var mt=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?ht:Le.convert(Object.assign({},ht),Promise.prototype),yt=it.call(mt,pe,Ge);return Le.convert(yt,ht.__proto__)},Le.prototype.thenExternal=function(pe,Ge){return Promise.prototype.then.call(this,pe,Ge)},Le.prototype.thenList=function(pe){var Ge=this;return pe.forEach(function(it){Ge=Ge.thenCore(it)}),Ge},Le.prototype.catch=function(pe){pe&&(pe=pe.bind(this));var Ge=Promise.prototype.catch.call(this,pe);return Le.convert(Ge,this)},Le.prototype.catchExternal=function(pe){return Promise.prototype.catch.call(this,pe)},Le.prototype.error=function(pe){return this.then(function(){throw new Error(pe)})},Le.prototype.using=Le.prototype.set,Le.prototype.saveAs=Le.prototype.save,Le.prototype.export=Le.prototype.output,Le.prototype.run=Le.prototype.then,kn.getPageSize=function(pe,Ge,it){if("object"===Te(pe)){var ht=pe;pe=ht.orientation,Ge=ht.unit||Ge,it=ht.format||it}Ge=Ge||"mm",it=it||"a4",pe=(""+(pe||"P")).toLowerCase();var mt=(""+it).toLowerCase(),yt={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(Ge){case"pt":var Ot=1;break;case"mm":Ot=72/25.4;break;case"cm":Ot=72/2.54;break;case"in":Ot=72;break;case"px":Ot=.75;break;case"pc":case"em":Ot=12;break;case"ex":Ot=6;break;default:throw"Invalid unit: "+Ge}if(yt.hasOwnProperty(mt))var St=yt[mt][1]/Ot,Tt=yt[mt][0]/Ot;else try{St=it[1],Tt=it[0]}catch(mi){throw new Error("Invalid format: "+it)}if("p"===pe||"portrait"===pe){if(pe="p",St<Tt){var _i=Tt;Tt=St,St=_i}}else{if("l"!==pe&&"landscape"!==pe)throw"Invalid orientation: "+pe;pe="l",Tt<St&&(_i=Tt,Tt=St,St=_i)}return{width:Tt,height:St,unit:Ge,k:Ot}},ge.html=function(pe,Ge){(Ge=Ge||{}).callback=Ge.callback||function(){},Ge.html2canvas=Ge.html2canvas||{},Ge.html2canvas.canvas=Ge.html2canvas.canvas||this.canvas,Ge.jsPDF=Ge.jsPDF||this;var it=new Le(Ge);return Ge.worker?it:it.from(pe).doCallback()},kn.API.addJS=function(pe){return ve=pe,this.internal.events.subscribe("postPutResources",function(Ge){tt=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(tt+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),je=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+ve+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==tt&&void 0!==je&&this.internal.out("/Names <</JavaScript "+tt+" 0 R>>")}),this},(Oe=kn.API).events.push(["postPutResources",function(){var pe=this,Ge=/^(\d+) 0 obj$/;if(0<this.outline.root.children.length)for(var it=pe.outline.render().split(/\r\n/),ht=0;ht<it.length;ht++){var mt=it[ht],yt=Ge.exec(mt);null!=yt&&pe.internal.newObjectDeferredBegin(yt[1],!1),pe.internal.write(mt)}if(this.outline.createNamedDestinations){var St=this.internal.pages.length,Tt=[];for(ht=0;ht<St;ht++){var _i=pe.internal.newObject();Tt.push(_i);var mi=pe.internal.getPageInfo(ht+1);pe.internal.write("<< /D["+mi.objId+" 0 R /XYZ null null null]>> endobj")}var Ui=pe.internal.newObject();for(pe.internal.write("<< /Names [ "),ht=0;ht<Tt.length;ht++)pe.internal.write("(page_"+(ht+1)+")"+Tt[ht]+" 0 R");pe.internal.write(" ] >>","endobj"),pe.internal.newObject(),pe.internal.write("<< /Dests "+Ui+" 0 R"),pe.internal.write(">>","endobj")}}]),Oe.events.push(["putCatalog",function(){0<this.outline.root.children.length&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+namesOid+" 0 R"))}]),Oe.events.push(["initialized",function(){var pe=this;pe.outline={createNamedDestinations:!1,root:{children:[]}},pe.outline.add=function(Ge,it,ht){var mt={title:it,options:ht,children:[]};return null==Ge&&(Ge=this.root),Ge.children.push(mt),mt},pe.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=pe,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},pe.outline.genIds_r=function(Ge){Ge.id=pe.internal.newObjectDeferred();for(var it=0;it<Ge.children.length;it++)this.genIds_r(Ge.children[it])},pe.outline.renderRoot=function(Ge){this.objStart(Ge),this.line("/Type /Outlines"),0<Ge.children.length&&(this.line("/First "+this.makeRef(Ge.children[0])),this.line("/Last "+this.makeRef(Ge.children[Ge.children.length-1]))),this.line("/Count "+this.count_r({count:0},Ge)),this.objEnd()},pe.outline.renderItems=function(Ge){for(var it=this.ctx.pdf.internal.getVerticalCoordinateString,ht=0;ht<Ge.children.length;ht++){var mt=Ge.children[ht];this.objStart(mt),this.line("/Title "+this.makeString(mt.title)),this.line("/Parent "+this.makeRef(Ge)),0<ht&&this.line("/Prev "+this.makeRef(Ge.children[ht-1])),ht<Ge.children.length-1&&this.line("/Next "+this.makeRef(Ge.children[ht+1])),0<mt.children.length&&(this.line("/First "+this.makeRef(mt.children[0])),this.line("/Last "+this.makeRef(mt.children[mt.children.length-1])));var yt=this.count=this.count_r({count:0},mt);if(0<yt&&this.line("/Count "+yt),mt.options&&mt.options.pageNumber){var Ot=pe.internal.getPageInfo(mt.options.pageNumber);this.line("/Dest ["+Ot.objId+" 0 R /XYZ 0 "+it(0)+" 0]")}this.objEnd()}for(ht=0;ht<Ge.children.length;ht++)this.renderItems(mt=Ge.children[ht])},pe.outline.line=function(Ge){this.ctx.val+=Ge+"\r\n"},pe.outline.makeRef=function(Ge){return Ge.id+" 0 R"},pe.outline.makeString=function(Ge){return"("+pe.internal.pdfEscape(Ge)+")"},pe.outline.objStart=function(Ge){this.ctx.val+="\r\n"+Ge.id+" 0 obj\r\n<<\r\n"},pe.outline.objEnd=function(Ge){this.ctx.val+=">> \r\nendobj\r\n"},pe.outline.count_r=function(Ge,it){for(var ht=0;ht<it.children.length;ht++)Ge.count++,this.count_r(Ge,it.children[ht]);return Ge.count}}]),He=function(){var pe="function"==typeof Deflater;if(!pe)throw new Error("requires deflate.js for compression");return pe},Qe=function(pe,Ge,it,ht){var mt=5,yt=ut;switch(ht){case qe.image_compression.FAST:mt=3,yt=nt;break;case qe.image_compression.MEDIUM:mt=6,yt=xt;break;case qe.image_compression.SLOW:mt=9,yt=Ze}pe=Se(pe,Ge,it,yt);var Ot=new Uint8Array(ot(mt)),St=Ne(pe),Tt=new Deflater(mt),_i=Tt.append(pe),mi=Tt.flush(),Ui=Ot.length+_i.length+mi.length,Ft=new Uint8Array(Ui+4);return Ft.set(Ot),Ft.set(_i,Ot.length),Ft.set(mi,Ot.length+_i.length),Ft[Ui++]=St>>>24&255,Ft[Ui++]=St>>>16&255,Ft[Ui++]=St>>>8&255,Ft[Ui++]=255&St,qe.arrayBufferToBinaryString(Ft)},ot=function(pe,Ge){var it=Math.LOG2E*Math.log(32768)-8<<4|8,ht=it<<8;return ht|=Math.min(3,(Ge-1&255)>>1)<<6,ht|=0,[it,255&(ht+=31-ht%31)]},Ne=function(pe,Ge){for(var it,ht=1,mt=0,yt=pe.length,Ot=0;0<yt;){for(yt-=it=Ge<yt?Ge:yt;mt+=ht+=pe[Ot++],--it;);ht%=65521,mt%=65521}return(mt<<16|ht)>>>0},Se=function(pe,Ge,it,ht){for(var mt,yt,Ot,St=pe.length/Ge,Tt=new Uint8Array(pe.length+St),_i=gt(),mi=0;mi<St;mi++){if(mt=pe.subarray(Ot=mi*Ge,Ot+Ge),ht)Tt.set(ht(mt,it,yt),Ot+mi);else{for(var Ui=0,Ft=_i.length,ti=[];Ui<Ft;Ui++)ti[Ui]=_i[Ui](mt,it,yt);var ui=Vt(ti.concat());Tt.set(ti[ui],Ot+mi)}yt=mt}return Tt},$e=function(pe,Ge,it){var ht=Array.apply([],pe);return ht.unshift(0),ht},nt=function(pe,Ge,it){var mt=[],yt=0,Ot=pe.length;for(mt[0]=1;yt<Ot;yt++)mt[yt+1]=pe[yt]-(pe[yt-Ge]||0)+256&255;return mt},ut=function(pe,Ge,it){var mt=[],yt=0,Ot=pe.length;for(mt[0]=2;yt<Ot;yt++)mt[yt+1]=pe[yt]-(it&&it[yt]||0)+256&255;return mt},xt=function(pe,Ge,it){var yt=[],Ot=0,St=pe.length;for(yt[0]=3;Ot<St;Ot++)yt[Ot+1]=pe[Ot]+256-((pe[Ot-Ge]||0)+(it&&it[Ot]||0)>>>1)&255;return yt},Ze=function(pe,Ge,it){var Ot,St=[],Tt=0,_i=pe.length;for(St[0]=4;Tt<_i;Tt++)Ot=et(pe[Tt-Ge]||0,it&&it[Tt]||0,it&&it[Tt-Ge]||0),St[Tt+1]=pe[Tt]-Ot+256&255;return St},et=function(pe,Ge,it){var ht=pe+Ge-it,mt=Math.abs(ht-pe),yt=Math.abs(ht-Ge),Ot=Math.abs(ht-it);return mt<=yt&&mt<=Ot?pe:yt<=Ot?Ge:it},gt=function(){return[$e,nt,ut,xt,Ze]},Vt=function(pe){for(var Ge,it,ht,mt=0,yt=pe.length;mt<yt;)((Ge=Bt(pe[mt].slice(1)))<it||!it)&&(it=Ge,ht=mt),mt++;return ht},Bt=function(pe){for(var Ge=0,it=pe.length,ht=0;Ge<it;)ht+=Math.abs(pe[Ge++]);return ht},(qe=kn.API).processPNG=function(pe,Ge,it,ht,mt){var yt,Ot,St,Tt,_i,mi,Ui=this.color_spaces.DEVICE_RGB,Ft=this.decode.FLATE_DECODE,ti=8;if(this.isArrayBuffer(pe)&&(pe=new Uint8Array(pe)),this.isArrayBufferView(pe)){if("function"!=typeof PNG||"function"!=typeof Mt)throw new Error("PNG support requires png.js and zlib.js");if(pe=(yt=new PNG(pe)).imgData,ti=yt.bits,Ui=yt.colorSpace,Tt=yt.colors,-1!==[4,6].indexOf(yt.colorType)){if(8===yt.bits)for(var ui,vi=(Ye=32==yt.pixelBitlength?new Uint32Array(yt.decodePixels().buffer):16==yt.pixelBitlength?new Uint16Array(yt.decodePixels().buffer):new Uint8Array(yt.decodePixels().buffer)).length,Di=new Uint8Array(vi*yt.colors),Oi=new Uint8Array(vi),Vi=yt.pixelBitlength-yt.bits,Zi=0,nn=0;Zi<vi;Zi++){for(Tn=Ye[Zi],ui=0;ui<Vi;)Di[nn++]=Tn>>>ui&255,ui+=yt.bits;Oi[Zi]=Tn>>>ui&255}if(16===yt.bits){vi=(Ye=new Uint32Array(yt.decodePixels().buffer)).length,Di=new Uint8Array(vi*(32/yt.pixelBitlength)*yt.colors),Oi=new Uint8Array(vi*(32/yt.pixelBitlength));for(var Tn,bn=1<yt.colors,Li=nn=Zi=0;Zi<vi;)Tn=Ye[Zi++],Di[nn++]=Tn>>>0&255,bn&&(Di[nn++]=Tn>>>16&255,Tn=Ye[Zi++],Di[nn++]=Tn>>>0&255),Oi[Li++]=Tn>>>16&255;ti=8}ht!==qe.image_compression.NONE&&He()?(pe=Qe(Di,yt.width*yt.colors,yt.colors,ht),mi=Qe(Oi,yt.width,1,ht)):(pe=Di,mi=Oi,Ft=null)}if(3===yt.colorType&&(Ui=this.color_spaces.INDEXED,_i=yt.palette,yt.transparency.indexed)){var si=yt.transparency.indexed,$i=0;for(Zi=0,vi=si.length;Zi<vi;++Zi)$i+=si[Zi];if(($i/=255)==vi-1&&-1!==si.indexOf(0))St=[si.indexOf(0)];else if($i!==vi){var Ye=yt.decodePixels();for(Oi=new Uint8Array(Ye.length),Zi=0,vi=Ye.length;Zi<vi;Zi++)Oi[Zi]=si[Ye[Zi]];mi=Qe(Oi,yt.width,1)}}var Ht=function($t){var ci;switch($t){case qe.image_compression.FAST:ci=11;break;case qe.image_compression.MEDIUM:ci=13;break;case qe.image_compression.SLOW:ci=14;break;default:ci=12}return ci}(ht);return Ot=Ft===this.decode.FLATE_DECODE?"/Predictor "+Ht+" /Colors "+Tt+" /BitsPerComponent "+ti+" /Columns "+yt.width:"/Colors "+Tt+" /BitsPerComponent "+ti+" /Columns "+yt.width,(this.isArrayBuffer(pe)||this.isArrayBufferView(pe))&&(pe=this.arrayBufferToBinaryString(pe)),(mi&&this.isArrayBuffer(mi)||this.isArrayBufferView(mi))&&(mi=this.arrayBufferToBinaryString(mi)),this.createImageInfo(pe,yt.width,yt.height,Ui,ti,Ft,Ge,it,Ot,St,_i,mi,Ht)}throw new Error("Unsupported PNG image data, try using JPEG instead.")},(Lt=kn.API).processGIF89A=function(pe,Ge,it,ht,mt){var yt=new te(pe),Ot=yt.width,St=yt.height,Tt=[];yt.decodeAndBlitFrameRGBA(0,Tt);var _i={data:Tt,width:Ot,height:St},mi=new we(100).encode(_i,100);return Lt.processJPEG.call(this,mi,Ge,it,ht)},Lt.processGIF87A=Lt.processGIF89A,(Pt=kn.API).processBMP=function(pe,Ge,it,ht,mt){var yt=new ze(pe,!1),Ot=yt.width,St=yt.height,Tt={data:yt.getData(),width:Ot,height:St},_i=new we(100).encode(Tt,100);return Pt.processJPEG.call(this,_i,Ge,it,ht)},kn.API.setLanguage=function(pe){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"FYRO Macedonian",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[pe]&&(this.internal.languageSettings.languageCode=pe,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},jt=(dt=kn.API).getCharWidthsArray=function(pe,Ge){var it,ht,mt,yt=(Ge=Ge||{}).font||this.internal.getFont(),Ot=Ge.fontSize||this.internal.getFontSize(),St=Ge.charSpace||this.internal.getCharSpace(),Tt=Ge.widths?Ge.widths:yt.metadata.Unicode.widths,_i=Tt.fof?Tt.fof:1,mi=Ge.kerning?Ge.kerning:yt.metadata.Unicode.kerning,Ui=mi.fof?mi.fof:1,Ft=0,ti=Tt[0]||_i,ui=[];for(it=0,ht=pe.length;it<ht;it++)mt=pe.charCodeAt(it),ui.push("function"==typeof yt.metadata.widthOfString?(yt.metadata.widthOfGlyph(yt.metadata.characterToGlyph(mt))+St*(1e3/Ot)||0)/1e3:(Tt[mt]||ti)/_i+(mi[mt]&&mi[mt][Ft]||0)/Ui),Ft=mt;return ui},Rt=dt.getArraySum=function(pe){for(var Ge=pe.length,it=0;Ge;)it+=pe[--Ge];return it},_e=dt.getStringUnitWidth=function(pe,Ge){var it=(Ge=Ge||{}).fontSize||this.internal.getFontSize(),ht=Ge.font||this.internal.getFont(),mt=Ge.charSpace||this.internal.getCharSpace();return"function"==typeof ht.metadata.widthOfString?ht.metadata.widthOfString(pe,it,mt)/it:Rt(jt.apply(this,arguments))},ke=function(pe,Ge,it,ht){for(var mt=[],yt=0,Ot=pe.length,St=0;yt!==Ot&&St+Ge[yt]<it;)St+=Ge[yt],yt++;mt.push(pe.slice(0,yt));var Tt=yt;for(St=0;yt!==Ot;)St+Ge[yt]>ht&&(mt.push(pe.slice(Tt,yt)),St=0,Tt=yt),St+=Ge[yt],yt++;return Tt!==yt&&mt.push(pe.slice(Tt,yt)),mt},rt=function(pe,Ge,it){it||(it={});var ht,mt,yt,Ot,St,Tt,_i=[],mi=[_i],Ui=it.textIndent||0,Ft=0,ti=0,ui=pe.split(" "),vi=jt.apply(this,[" ",it])[0];if(Tt=-1===it.lineIndent?ui[0].length+2:it.lineIndent||0){var Di=Array(Tt).join(" "),Oi=[];ui.map(function(nn){1<(nn=nn.split(/\s*\n/)).length?Oi=Oi.concat(nn.map(function(Tn,bn){return(bn&&Tn.length?"\n":"")+Tn})):Oi.push(nn[0])}),ui=Oi,Tt=_e.apply(this,[Di,it])}for(yt=0,Ot=ui.length;yt<Ot;yt++){var Vi=0;if(ht=ui[yt],Tt&&"\n"==ht[0]&&(ht=ht.substr(1),Vi=1),mt=jt.apply(this,[ht,it]),Ge<Ui+Ft+(ti=Rt(mt))||Vi){if(Ge<ti){for(St=ke.apply(this,[ht,mt,Ge-(Ui+Ft),Ge]),_i.push(St.shift()),_i=[St.pop()];St.length;)mi.push([St.shift()]);ti=Rt(mt.slice(ht.length-(_i[0]?_i[0].length:0)))}else _i=[ht];mi.push(_i),Ui=ti+Tt,Ft=vi}else _i.push(ht),Ui+=Ft+ti,Ft=vi}if(Tt)var Zi=function(nn,Tn){return(Tn?Di:"")+nn.join(" ")};else Zi=function(nn){return nn.join(" ")};return mi.map(Zi)},dt.splitTextToSize=function(pe,Ge,it){var ht,mt=(it=it||{}).fontSize||this.internal.getFontSize(),yt=function(mi){if(mi.widths&&mi.kerning)return{widths:mi.widths,kerning:mi.kerning};var ti=this.internal.getFont(mi.fontName,mi.fontStyle),ui="Unicode";return ti.metadata[ui]?{widths:ti.metadata[ui].widths||{0:1},kerning:ti.metadata[ui].kerning||{}}:{font:ti.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,it);ht=Array.isArray(pe)?pe:pe.split(/\r?\n/);var Ot=1*this.internal.scaleFactor*Ge/mt;yt.textIndent=it.textIndent?1*it.textIndent*this.internal.scaleFactor/mt:0,yt.lineIndent=it.lineIndent;var St,Tt,_i=[];for(St=0,Tt=ht.length;St<Tt;St++)_i=_i.concat(rt.apply(this,[ht[St],Ot,yt]));return _i},Dt=kn.API,st={codePages:["WinAnsiEncoding"],WinAnsiEncoding:(Kt=function(pe){for(var Ge="klmnopqrstuvwxyz",it={},ht=0;ht<Ge.length;ht++)it[Ge[ht]]="0123456789abcdef"[ht];var mt,yt,Ot,St,Tt,_i={},mi=1,Ui=_i,Ft=[],ti="",ui="",vi=pe.length-1;for(ht=1;ht!=vi;)Tt=pe[ht],ht+=1,"'"==Tt?yt=yt?(St=yt.join(""),mt):[]:yt?yt.push(Tt):"{"==Tt?(Ft.push([Ui,St]),Ui={},St=mt):"}"==Tt?((Ot=Ft.pop())[0][Ot[1]]=Ui,St=mt,Ui=Ot[0]):"-"==Tt?mi=-1:St===mt?it.hasOwnProperty(Tt)?(ti+=it[Tt],St=parseInt(ti,16)*mi,mi=1,ti=""):ti+=Tt:it.hasOwnProperty(Tt)?(ui+=it[Tt],Ui[St]=parseInt(ui,16)*mi,mi=1,St=mt,ui=""):ui+=Tt;return _i})("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},Ti={Unicode:{Courier:st,"Courier-Bold":st,"Courier-BoldOblique":st,"Courier-Oblique":st,Helvetica:st,"Helvetica-Bold":st,"Helvetica-BoldOblique":st,"Helvetica-Oblique":st,"Times-Roman":st,"Times-Bold":st,"Times-BoldItalic":st,"Times-Italic":st}},qt={Unicode:{"Courier-Oblique":Kt("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":Kt("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":Kt("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:Kt("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":Kt("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":Kt("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:Kt("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:Kt("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":Kt("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:Kt("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":Kt("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":Kt("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":Kt("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":Kt("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}},Dt.events.push(["addFont",function(pe){var Ge,it,ht,mt=pe.font,yt="Unicode";(Ge=qt[yt][mt.postScriptName])&&((it=mt.metadata[yt]?mt.metadata[yt]:mt.metadata[yt]={}).widths=Ge.widths,it.kerning=Ge.kerning),(ht=Ti[yt][mt.postScriptName])&&((it=mt.metadata[yt]?mt.metadata[yt]:mt.metadata[yt]={}).encoding=ht).codePages&&ht.codePages.length&&(mt.encoding=ht.codePages[0])}]),pi=kn,"undefined"!=typeof self&&self||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||Function("return this")(),pi.API.events.push(["addFont",function(pe){var Ge=pe.font,it=pe.instance;if(void 0!==it&&it.existsFileInVFS(Ge.postScriptName)){var ht=it.getFileFromVFS(Ge.postScriptName);if("string"!=typeof ht)throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+Ge.postScriptName+"').");Ge.metadata=pi.API.TTFFont.open(Ge.postScriptName,Ge.fontName,ht,Ge.encoding),Ge.metadata.Unicode=Ge.metadata.Unicode||{encoding:{},kerning:{},widths:[]},Ge.metadata.glyIdsUsed=[0]}else if(!1===Ge.isStandardFont)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+Ge.postScriptName+"').")}]),(We=kn.API).addSvg=function(pe,Ge,it,ht,mt){if(void 0===Ge||void 0===it)throw new Error("addSVG needs values for 'x' and 'y'");function yt(si){for(var $i=parseFloat(si[1]),Ye=parseFloat(si[2]),Ht=[],$t=3,ci=si.length;$t<ci;)"c"===si[$t]?(Ht.push([parseFloat(si[$t+1]),parseFloat(si[$t+2]),parseFloat(si[$t+3]),parseFloat(si[$t+4]),parseFloat(si[$t+5]),parseFloat(si[$t+6])]),$t+=7):"l"===si[$t]?(Ht.push([parseFloat(si[$t+1]),parseFloat(si[$t+2])]),$t+=3):$t+=1;return[$i,Ye,Ht]}var St,Tt,_i,mi,Ui,Ft,ti,vi=((Tt=((ti=(_i=document).createElement("iframe"),mi=".jsPDF_sillysvg_iframe {display:none;position:absolute;}",(Ft=(Ui=_i).createElement("style")).type="text/css",Ft.styleSheet?Ft.styleSheet.cssText=mi:Ft.appendChild(Ui.createTextNode(mi)),Ui.getElementsByTagName("head")[0].appendChild(Ft),ti.name="childframe",ti.setAttribute("width",0),ti.setAttribute("height",0),ti.setAttribute("frameborder","0"),ti.setAttribute("scrolling","no"),ti.setAttribute("seamless","seamless"),ti.setAttribute("class","jsPDF_sillysvg_iframe"),_i.body.appendChild(ti),St=ti).contentWindow||St.contentDocument).document).write(pe),Tt.close(),Tt.getElementsByTagName("svg")[0]),Di=[1,1],Oi=parseFloat(vi.getAttribute("width")),Vi=parseFloat(vi.getAttribute("height"));Oi&&Vi&&(ht&&mt?Di=[ht/Oi,mt/Vi]:ht?Di=[ht/Oi,ht/Oi]:mt&&(Di=[mt/Vi,mt/Vi]));var Zi,nn,Tn,bn,Li=vi.childNodes;for(Zi=0,nn=Li.length;Zi<nn;Zi++)(Tn=Li[Zi]).tagName&&"PATH"===Tn.tagName.toUpperCase()&&((bn=yt(Tn.getAttribute("d").split(" ")))[0]=bn[0]*Di[0]+Ge,bn[1]=bn[1]*Di[1]+it,this.lines.call(this,bn[2],bn[0],bn[1],Di));return this},We.addSVG=We.addSvg,We.addSvgAsImage=function(pe,Ge,it,ht,mt,yt,Ot,St){if(isNaN(Ge)||isNaN(it))throw console.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(ht)||isNaN(mt))throw console.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var Tt=document.createElement("canvas");Tt.width=ht,Tt.height=mt;var _i=Tt.getContext("2d");return _i.fillStyle="#fff",_i.fillRect(0,0,Tt.width,Tt.height),canvg(Tt,pe,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0}),this.addImage(Tt.toDataURL("image/jpeg",1),Ge,it,ht,mt,Ot,St),this},kn.API.putTotalPages=function(pe){var Ge,it;it=parseInt(this.internal.getFont().id.substr(1),10)<15?(Ge=new RegExp(pe,"g"),this.internal.getNumberOfPages()):(Ge=new RegExp(this.pdfEscape16(pe,this.internal.getFont()),"g"),this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var ht=1;ht<=this.internal.getNumberOfPages();ht++)for(var mt=0;mt<this.internal.pages[ht].length;mt++)this.internal.pages[ht][mt]=this.internal.pages[ht][mt].replace(Ge,it);return this},kn.API.viewerPreferences=function(pe,Ge){var it;pe=pe||{},Ge=Ge||!1;var ht,mt,yt={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},Ot=Object.keys(yt),St=[],Tt=0,_i=0,mi=0,Ui=!0;function Ft(ui,vi){var Di,Oi=!1;for(Di=0;Di<ui.length;Di+=1)ui[Di]===vi&&(Oi=!0);return Oi}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(yt)),this.internal.viewerpreferences.isSubscribed=!1),it=this.internal.viewerpreferences.configuration,"reset"===pe||!0===Ge){var ti=Ot.length;for(mi=0;mi<ti;mi+=1)it[Ot[mi]].value=it[Ot[mi]].defaultValue,it[Ot[mi]].explicitSet=!1}if("object"===Te(pe))for(ht in pe)if(mt=pe[ht],Ft(Ot,ht)&&void 0!==mt){if("boolean"===it[ht].type&&"boolean"==typeof mt)it[ht].value=mt;else if("name"===it[ht].type&&Ft(it[ht].valueSet,mt))it[ht].value=mt;else if("integer"===it[ht].type&&Number.isInteger(mt))it[ht].value=mt;else if("array"===it[ht].type){for(Tt=0;Tt<mt.length;Tt+=1)if(Ui=!0,1===mt[Tt].length&&"number"==typeof mt[Tt][0])St.push(String(mt[Tt]-1));else if(1<mt[Tt].length){for(_i=0;_i<mt[Tt].length;_i+=1)"number"!=typeof mt[Tt][_i]&&(Ui=!1);!0===Ui&&St.push([mt[Tt][0]-1,mt[Tt][1]-1].join(" "))}it[ht].value="["+St.join(" ")+"]"}else it[ht].value=it[ht].defaultValue;it[ht].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var ui,vi=[];for(ui in it)!0===it[ui].explicitSet&&vi.push("name"===it[ui].type?"/"+ui+" /"+it[ui].value:"/"+ui+" "+it[ui].value);0!==vi.length&&this.internal.write("/ViewerPreferences\n<<\n"+vi.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=it,this},yn=Ki=Mi="",kn.API.addMetadata=function(pe,Ge){return Ki=Ge||"http://jspdf.default.namespaceuri/",Mi=pe,this.internal.events.subscribe("postPutResources",function(){if(Mi){var it='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+Ki+'"><jspdf:metadata>',ht=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),mt=unescape(encodeURIComponent(it)),yt=unescape(encodeURIComponent(Mi)),Ot=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),St=unescape(encodeURIComponent("</x:xmpmeta>")),Tt=mt.length+yt.length+Ot.length+ht.length+St.length;yn=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+Tt+" >>"),this.internal.write("stream"),this.internal.write(ht+mt+yt+Ot+St),this.internal.write("endstream"),this.internal.write("endobj")}else yn=""}),this.internal.events.subscribe("putCatalog",function(){yn&&this.internal.write("/Metadata "+yn+" 0 R")}),this},function(pe,Ge){var it=pe.API,ht=it.pdfEscape16=function(Ot,St){for(var Tt,_i=St.metadata.Unicode.widths,mi=["","0","00","000","0000"],Ui=[""],Ft=0,ti=Ot.length;Ft<ti;++Ft){if(Tt=St.metadata.characterToGlyph(Ot.charCodeAt(Ft)),St.metadata.glyIdsUsed.push(Tt),St.metadata.toUnicode[Tt]=Ot.charCodeAt(Ft),-1==_i.indexOf(Tt)&&(_i.push(Tt),_i.push([parseInt(St.metadata.widthOfGlyph(Tt),10)])),"0"==Tt)return Ui.join("");Tt=Tt.toString(16),Ui.push(mi[4-Tt.length],Tt)}return Ui.join("")},mt=function(Ot){var St,Tt,_i,mi,Ui,Ft,ti;for(Ui="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",_i=[],Ft=0,ti=(Tt=Object.keys(Ot).sort(function(ui,vi){return ui-vi})).length;Ft<ti;Ft++)St=Tt[Ft],100<=_i.length&&(Ui+="\n"+_i.length+" beginbfchar\n"+_i.join("\n")+"\nendbfchar",_i=[]),mi=("0000"+Ot[St].toString(16)).slice(-4),St=("0000"+(+St).toString(16)).slice(-4),_i.push("<"+St+"><"+mi+">");return _i.length&&(Ui+="\n"+_i.length+" beginbfchar\n"+_i.join("\n")+"\nendbfchar\n"),Ui+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};it.events.push(["putFont",function(Ot){!function(St,Tt,_i,mi){if(St.metadata instanceof pe.API.TTFFont&&"Identity-H"===St.encoding){for(var Ui=St.metadata.Unicode.widths,Ft=St.metadata.subset.encode(St.metadata.glyIdsUsed,1),ti="",ui=0;ui<Ft.length;ui++)ti+=String.fromCharCode(Ft[ui]);var vi=_i();mi({data:ti,addLength1:!0}),Tt("endobj");var Di=_i();mi({data:mt(St.metadata.toUnicode),addLength1:!0}),Tt("endobj");var Oi=_i();Tt("<<"),Tt("/Type /FontDescriptor"),Tt("/FontName /"+St.fontName),Tt("/FontFile2 "+vi+" 0 R"),Tt("/FontBBox "+pe.API.PDFObject.convert(St.metadata.bbox)),Tt("/Flags "+St.metadata.flags),Tt("/StemV "+St.metadata.stemV),Tt("/ItalicAngle "+St.metadata.italicAngle),Tt("/Ascent "+St.metadata.ascender),Tt("/Descent "+St.metadata.decender),Tt("/CapHeight "+St.metadata.capHeight),Tt(">>"),Tt("endobj");var Vi=_i();Tt("<<"),Tt("/Type /Font"),Tt("/BaseFont /"+St.fontName),Tt("/FontDescriptor "+Oi+" 0 R"),Tt("/W "+pe.API.PDFObject.convert(Ui)),Tt("/CIDToGIDMap /Identity"),Tt("/DW 1000"),Tt("/Subtype /CIDFontType2"),Tt("/CIDSystemInfo"),Tt("<<"),Tt("/Supplement 0"),Tt("/Registry (Adobe)"),Tt("/Ordering ("+St.encoding+")"),Tt(">>"),Tt(">>"),Tt("endobj"),St.objectNumber=_i(),Tt("<<"),Tt("/Type /Font"),Tt("/Subtype /Type0"),Tt("/ToUnicode "+Di+" 0 R"),Tt("/BaseFont /"+St.fontName),Tt("/Encoding /"+St.encoding),Tt("/DescendantFonts ["+Vi+" 0 R]"),Tt(">>"),Tt("endobj"),St.isAlreadyPutted=!0}}(Ot.font,Ot.out,Ot.newObject,Ot.putStream)}]),it.events.push(["putFont",function(Ot){!function(St,Tt,_i,mi){if(St.metadata instanceof pe.API.TTFFont&&"WinAnsiEncoding"===St.encoding){for(var Ui=St.metadata.rawData,Ft="",ti=0;ti<Ui.length;ti++)Ft+=String.fromCharCode(Ui[ti]);var ui=_i();mi({data:Ft,addLength1:!0}),Tt("endobj");var vi=_i();mi({data:mt(St.metadata.toUnicode),addLength1:!0}),Tt("endobj");var Di=_i();for(Tt("<<"),Tt("/Descent "+St.metadata.decender),Tt("/CapHeight "+St.metadata.capHeight),Tt("/StemV "+St.metadata.stemV),Tt("/Type /FontDescriptor"),Tt("/FontFile2 "+ui+" 0 R"),Tt("/Flags 96"),Tt("/FontBBox "+pe.API.PDFObject.convert(St.metadata.bbox)),Tt("/FontName /"+St.fontName),Tt("/ItalicAngle "+St.metadata.italicAngle),Tt("/Ascent "+St.metadata.ascender),Tt(">>"),Tt("endobj"),St.objectNumber=_i(),ti=0;ti<St.metadata.hmtx.widths.length;ti++)St.metadata.hmtx.widths[ti]=parseInt(St.metadata.hmtx.widths[ti]*(1e3/St.metadata.head.unitsPerEm));Tt("<</Subtype/TrueType/Type/Font/ToUnicode "+vi+" 0 R/BaseFont/"+St.fontName+"/FontDescriptor "+Di+" 0 R/Encoding/"+St.encoding+" /FirstChar 29 /LastChar 255 /Widths "+pe.API.PDFObject.convert(St.metadata.hmtx.widths)+">>"),Tt("endobj"),St.isAlreadyPutted=!0}}(Ot.font,Ot.out,Ot.newObject,Ot.putStream)}]);var yt=function(Ot){var St,Tt,_i=Ot.text||"",mi=Ot.x,Ui=Ot.y,Ft=Ot.options||{},ti=Ot.mutex||{},ui=ti.pdfEscape,vi=ti.activeFontKey,Di=ti.fonts,Oi="",Vi=0,Zi="",nn=Di[Tt=vi].encoding;if("Identity-H"!==Di[Tt].encoding)return{text:_i,x:mi,y:Ui,options:Ft,mutex:ti};for(Zi=_i,Tt=vi,"[object Array]"===Object.prototype.toString.call(_i)&&(Zi=_i[0]),Vi=0;Vi<Zi.length;Vi+=1)Di[Tt].metadata.hasOwnProperty("cmap")&&(St=Di[Tt].metadata.cmap.unicode.codeMap[Zi[Vi].charCodeAt(0)]),St||Zi[Vi].charCodeAt(0)<256&&Di[Tt].metadata.hasOwnProperty("Unicode")?Oi+=Zi[Vi]:Oi+="";var Tn="";return parseInt(Tt.slice(1))<14||"WinAnsiEncoding"===nn?Tn=function(bn){for(var Li="",si=0;si<bn.length;si++)Li+=""+bn.charCodeAt(si).toString(16);return Li}(ui(Oi,Tt)):"Identity-H"===nn&&(Tn=ht(Oi,Di[Tt])),ti.isHex=!0,{text:Tn,x:mi,y:Ui,options:Ft,mutex:ti}};it.events.push(["postProcessText",function(Ot){var St=Ot.text||"",Ft=[],ti={text:St,x:Ot.x,y:Ot.y,options:Ot.options,mutex:Ot.mutex};if("[object Array]"===Object.prototype.toString.call(St)){var ui=0;for(ui=0;ui<St.length;ui+=1)"[object Array]"===Object.prototype.toString.call(St[ui])&&3===St[ui].length?Ft.push([yt(Object.assign({},ti,{text:St[ui][0]})).text,St[ui][1],St[ui][2]]):Ft.push(yt(Object.assign({},ti,{text:St[ui]})).text);Ot.text=Ft}else Ot.text=yt(Object.assign({},ti,{text:St})).text}])}(kn,"undefined"!=typeof self&&self||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||Function("return this")()),Vn=function(pe){return void 0!==pe&&(void 0===pe.vFS&&(pe.vFS={}),!0)},(Un=kn.API).existsFileInVFS=function(pe){return!!Vn(this.internal)&&void 0!==this.internal.vFS[pe]},Un.addFileToVFS=function(pe,Ge){return Vn(this.internal),this.internal.vFS[pe]=Ge,this},Un.getFileFromVFS=function(pe){return Vn(this.internal),void 0!==this.internal.vFS[pe]?this.internal.vFS[pe]:null},kn.API.addHTML=function(pe,Ge,it,ht,mt){if("undefined"==typeof html2canvas&&"undefined"==typeof rasterizeHTML)throw new Error("You need either https://github.com/niklasvh/html2canvas or https://github.com/cburgmer/rasterizeHTML.js");"number"!=typeof Ge&&(ht=Ge,mt=it),"function"==typeof ht&&(mt=ht,ht=null),"function"!=typeof mt&&(mt=function(){});var yt=this.internal,Ot=yt.scaleFactor,St=yt.pageSize.getWidth(),Tt=yt.pageSize.getHeight();if((ht=ht||{}).onrendered=function(mi){Ge=parseInt(Ge)||0,it=parseInt(it)||0;var Ui=ht.dim||{},Ft=Object.assign({top:0,right:0,bottom:0,left:0,useFor:"content"},ht.margin),ti=Ui.h||Math.min(Tt,mi.height/Ot),ui=Ui.w||Math.min(St,mi.width/Ot)-Ge,vi=ht.format||"JPEG",Di=ht.imageCompression||"SLOW";if(mi.height>Tt-Ft.top-Ft.bottom&&ht.pagesplit){var Oi=function(bn,Li,si,$i,Ye){var Ht=document.createElement("canvas");Ht.height=Ye,Ht.width=$i;var $t=Ht.getContext("2d");return $t.mozImageSmoothingEnabled=!1,$t.webkitImageSmoothingEnabled=!1,$t.msImageSmoothingEnabled=!1,$t.imageSmoothingEnabled=!1,$t.fillStyle=ht.backgroundColor||"#ffffff",$t.fillRect(0,0,$i,Ye),$t.drawImage(bn,Li,si,$i,Ye,0,0,$i,Ye),Ht},Vi=function(){for(var bn,Li,si=0,$i=0,Ye={},Ht=!1;;){var $t;if($i=0,Ye.top=0!==si?Ft.top:it,Ye.left=0!==si?Ft.left:Ge,Ht=(St-Ft.left-Ft.right)*Ot<mi.width,"content"===Ft.useFor?0===si?(bn=Math.min((St-Ft.left)*Ot,mi.width),Li=Math.min((Tt-Ft.top)*Ot,mi.height-si)):(bn=Math.min(St*Ot,mi.width),Li=Math.min(Tt*Ot,mi.height-si),Ye.top=0):(bn=Math.min((St-Ft.left-Ft.right)*Ot,mi.width),Li=Math.min((Tt-Ft.bottom-Ft.top)*Ot,mi.height-si)),Ht)for(;;){"content"===Ft.useFor&&(0===$i?bn=Math.min((St-Ft.left)*Ot,mi.width):(bn=Math.min(St*Ot,mi.width-$i),Ye.left=0));var ci=[$t=Oi(mi,$i,si,bn,Li),Ye.left,Ye.top,$t.width/Ot,$t.height/Ot,vi,null,Di];if(this.addImage.apply(this,ci),($i+=bn)>=mi.width)break;this.addPage()}else ci=[$t=Oi(mi,0,si,bn,Li),Ye.left,Ye.top,$t.width/Ot,$t.height/Ot,vi,null,Di],this.addImage.apply(this,ci);if((si+=Li)>=mi.height)break;this.addPage()}mt(ui,si,null,ci)}.bind(this);if("CANVAS"===mi.nodeName){var Zi=new Image;Zi.onload=Vi,Zi.src=mi.toDataURL("image/png"),mi=Zi}else Vi()}else{var nn=Math.random().toString(35),Tn=[mi,Ge,it,ui,ti,vi,nn,Di];this.addImage.apply(this,Tn),mt(ui,ti,nn,Tn)}}.bind(this),"undefined"!=typeof html2canvas&&!ht.rstz)return html2canvas(pe,ht);if("undefined"==typeof rasterizeHTML)return null;var _i="drawDocument";return"string"==typeof pe&&(_i=/^http/.test(pe)?"drawURL":"drawHTML"),ht.width=ht.width||St*Ot,rasterizeHTML[_i](pe,void 0,ht).then(function(mi){ht.onrendered(mi.image)},function(mi){mt(null,mi)})},function(pe){var Ge,it,ht,mt,yt,Ot,St,Tt,_i,mi,Ui,Ft,ti,ui,vi,Di,Oi,Vi,Zi,nn;Ge=function(){return function(si){return Li.prototype=si,new Li};function Li(){}}(),mi=function(Li){var si,$i,Ye,Ht,$t,ci,Ii;for($i=0,Ye=Li.length,si=void 0,ci=Ht=!1;!Ht&&$i!==Ye;)(si=Li[$i]=Li[$i].trimLeft())&&(Ht=!0),$i++;for($i=Ye-1;Ye&&!ci&&-1!==$i;)(si=Li[$i]=Li[$i].trimRight())&&(ci=!0),$i--;for($t=/\s+$/g,Ii=!0,$i=0;$i!==Ye;)"\u2028"!=Li[$i]&&(si=Li[$i].replace(/\s+/g," "),Ii&&(si=si.trimLeft()),si&&(Ii=$t.test(si)),Li[$i]=si),$i++;return Li},Ft=function(Li){var si,$i,Ye;for(si=void 0,$i=(Ye=Li.split(",")).shift();!si&&$i;)si=ht[$i.trim().toLowerCase()],$i=Ye.shift();return si},ti=function(Li){var si;return-1<(Li="auto"===Li?"0px":Li).indexOf("em")&&!isNaN(Number(Li.replace("em","")))&&(Li=18.719*Number(Li.replace("em",""))+"px"),-1<Li.indexOf("pt")&&!isNaN(Number(Li.replace("pt","")))&&(Li=1.333*Number(Li.replace("pt",""))+"px"),(si=ui[Li])?si:void 0!==(si={"xx-small":9,"x-small":11,small:13,medium:16,large:19,"x-large":23,"xx-large":28,auto:0}[Li])||(si=parseFloat(Li))?ui[Li]=si/16:(si=Li.match(/([\d\.]+)(px)/),ui[Li]=Array.isArray(si)&&3===si.length?parseFloat(si[1])/16:1)},_i=function(Li){var si,$i,Ye,Ht,$t;return $t=Li,Ht=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle($t,null):$t.currentStyle?$t.currentStyle:$t.style,$i=void 0,(si={})["font-family"]=Ft((Ye=function(ci){return ci=ci.replace(/-\D/g,function(Ii){return Ii.charAt(1).toUpperCase()}),Ht[ci]})("font-family"))||"times",si["font-style"]=mt[Ye("font-style")]||"normal",si["text-align"]=yt[Ye("text-align")]||"left","bold"===($i=Ot[Ye("font-weight")]||"normal")&&(si["font-style"]="normal"===si["font-style"]?$i:$i+si["font-style"]),si["font-size"]=ti(Ye("font-size"))||1,si["line-height"]=ti(Ye("line-height"))||1,si.display="inline"===Ye("display")?"inline":"block",si["margin-top"]=($i="block"===si.display)&&ti(Ye("margin-top"))||0,si["margin-bottom"]=$i&&ti(Ye("margin-bottom"))||0,si["padding-top"]=$i&&ti(Ye("padding-top"))||0,si["padding-bottom"]=$i&&ti(Ye("padding-bottom"))||0,si["margin-left"]=$i&&ti(Ye("margin-left"))||0,si["margin-right"]=$i&&ti(Ye("margin-right"))||0,si["padding-left"]=$i&&ti(Ye("padding-left"))||0,si["padding-right"]=$i&&ti(Ye("padding-right"))||0,si["page-break-before"]=Ye("page-break-before")||"auto",si.float=St[Ye("cssFloat")]||"none",si.clear=Tt[Ye("clear")]||"none",si.color=Ye("color"),si},vi=function(Li,si,$i){var Ye,Ht,$t,ci,Ii;if($t=!1,ci=Ht=void 0,Ye=$i["#"+Li.id])if("function"==typeof Ye)$t=Ye(Li,si);else for(Ht=0,ci=Ye.length;!$t&&Ht!==ci;)$t=Ye[Ht](Li,si),Ht++;if(Ye=$i[Li.nodeName],!$t&&Ye)if("function"==typeof Ye)$t=Ye(Li,si);else for(Ht=0,ci=Ye.length;!$t&&Ht!==ci;)$t=Ye[Ht](Li,si),Ht++;for(Ii="string"==typeof Li.className?Li.className.split(" "):[],Ht=0;Ht<Ii.length;Ht++)if(Ye=$i["."+Ii[Ht]],!$t&&Ye)if("function"==typeof Ye)$t=Ye(Li,si);else for(Ht=0,ci=Ye.length;!$t&&Ht!==ci;)$t=Ye[Ht](Li,si),Ht++;return $t},nn=function(Li,si){var $i,Ye,Ht,$t,ci,Ii,Jt,Ct,Gt;for($i=[],Ye=[],Ht=0,Gt=Li.rows[0].cells.length,Jt=Li.clientWidth;Ht<Gt;)Ye[Ht]={name:(Ct=Li.rows[0].cells[Ht]).textContent.toLowerCase().replace(/\s+/g,""),prompt:Ct.textContent.replace(/\r?\n/g,""),width:Ct.clientWidth/Jt*si.pdf.internal.pageSize.getWidth()},Ht++;for(Ht=1;Ht<Li.rows.length;){for(Ii=Li.rows[Ht],ci={},$t=0;$t<Ii.cells.length;)ci[Ye[$t].name]=Ii.cells[$t].textContent.replace(/\r?\n/g,""),$t++;$i.push(ci),Ht++}return{rows:$i,headers:Ye}};var Tn={SCRIPT:1,STYLE:1,NOSCRIPT:1,OBJECT:1,EMBED:1,SELECT:1},bn=1;it=function(Li,si,$i){var Ye,Ht,$t,ci,Ii,Jt,Ct,Gt;for(Ht=Li.childNodes,Ye=void 0,(Ii="block"===($t=_i(Li)).display)&&(si.setBlockBoundary(),si.setBlockStyle($t)),ci=0,Jt=Ht.length;ci<Jt;){if("object"===Te(Ye=Ht[ci])){if(si.executeWatchFunctions(Ye),1===Ye.nodeType&&"HEADER"===Ye.nodeName){var gi=Ye,kt=si.pdf.margins_doc.top;si.pdf.internal.events.subscribe("addPage",function(xi){si.y=kt,it(gi,si,$i),si.pdf.margins_doc.top=si.y+10,si.y+=10},!1)}if(8===Ye.nodeType&&"#comment"===Ye.nodeName)~Ye.textContent.indexOf("ADD_PAGE")&&(si.pdf.addPage(),si.y=si.pdf.margins_doc.top);else if(1!==Ye.nodeType||Tn[Ye.nodeName])if(3===Ye.nodeType){var oi=Ye.nodeValue;if(Ye.nodeValue&&"LI"===Ye.parentNode.nodeName)if("OL"===Ye.parentNode.parentNode.nodeName)oi=bn+++". "+oi;else{var ei=$t["font-size"],Ai=(3-.75*ei)*si.pdf.internal.scaleFactor,Si=.75*ei*si.pdf.internal.scaleFactor,yi=1.74*ei/si.pdf.internal.scaleFactor;Gt=function(xi,Ni){this.pdf.circle(xi+Ai,Ni+Si,yi,"FD")}}16&Ye.ownerDocument.body.compareDocumentPosition(Ye)&&si.addText(oi,$t)}else"string"==typeof Ye&&si.addText(Ye,$t);else{var en;if("IMG"===Ye.nodeName){var un=Ye.getAttribute("src");en=Di[si.pdf.sHashCode(un)||un]}if(en){si.pdf.internal.pageSize.getHeight()-si.pdf.margins_doc.bottom<si.y+Ye.height&&si.y>si.pdf.margins_doc.top&&(si.pdf.addPage(),si.y=si.pdf.margins_doc.top,si.executeWatchFunctions(Ye));var On=_i(Ye),Gn=si.x,ln=12/si.pdf.internal.scaleFactor,$n=(On["margin-left"]+On["padding-left"])*ln,In=(On["margin-right"]+On["padding-right"])*ln,rr=(On["margin-top"]+On["padding-top"])*ln,wi=(On["margin-bottom"]+On["padding-bottom"])*ln;si.pdf.addImage(en,Gn+=void 0!==On.float&&"right"===On.float?si.settings.width-Ye.width-In:$n,si.y+rr,Ye.width,Ye.height),en=void 0,"right"===On.float||"left"===On.float?(si.watchFunctions.push(function(xi,Ni,Ji,mn){return si.y>=Ni?(si.x+=xi,si.settings.width+=Ji,!0):!!(mn&&1===mn.nodeType&&!Tn[mn.nodeName]&&si.x+mn.width>si.pdf.margins_doc.left+si.pdf.margins_doc.width)&&(si.x+=xi,si.y=Ni,si.settings.width+=Ji,!0)}.bind(this,"left"===On.float?-Ye.width-$n-In:0,si.y+Ye.height+rr+wi,Ye.width)),si.watchFunctions.push(function(xi,Ni,Ji){return!(si.y<xi&&Ni===si.pdf.internal.getNumberOfPages())||1===Ji.nodeType&&"both"===_i(Ji).clear&&(si.y=xi,!0)}.bind(this,si.y+Ye.height,si.pdf.internal.getNumberOfPages())),si.settings.width-=Ye.width+$n+In,"left"===On.float&&(si.x+=Ye.width+$n+In)):si.y+=Ye.height+rr+wi}else if("TABLE"===Ye.nodeName)Ct=nn(Ye,si),si.y+=10,si.pdf.table(si.x,si.y,Ct.rows,Ct.headers,{autoSize:!1,printHeaders:$i.printHeaders,margins:si.pdf.margins_doc,css:_i(Ye)}),si.y=si.pdf.lastCellPos.y+si.pdf.lastCellPos.h+20;else if("OL"===Ye.nodeName||"UL"===Ye.nodeName)bn=1,vi(Ye,si,$i)||it(Ye,si,$i),si.y+=10;else if("LI"===Ye.nodeName){var Hi=si.x;si.x+=20/si.pdf.internal.scaleFactor,si.y+=3,vi(Ye,si,$i)||it(Ye,si,$i),si.x=Hi}else"BR"===Ye.nodeName?(si.y+=$t["font-size"]*si.pdf.internal.scaleFactor,si.addText("\u2028",Ge($t))):vi(Ye,si,$i)||it(Ye,si,$i)}}ci++}if($i.outY=si.y,Ii)return si.setBlockBoundary(Gt)},Di={},Oi=function(Li,si,$i,Ye){var Ht,$t=Li.getElementsByTagName("img"),ci=$t.length,Ii=0;function Jt(){si.pdf.internal.events.publish("imagesLoaded"),Ye(Ht)}function Ct(Gt,gi,kt){if(Gt){var oi=new Image;Ht=++Ii,oi.crossOrigin="",oi.onerror=oi.onload=function(){if(oi.complete&&(0===oi.src.indexOf("data:image/")&&(oi.width=gi||oi.width||0,oi.height=kt||oi.height||0),oi.width+oi.height)){var ei=si.pdf.sHashCode(Gt)||Gt;Di[ei]=Di[ei]||oi}--Ii||Jt()},oi.src=Gt}}for(;ci--;)Ct($t[ci].getAttribute("src"),$t[ci].width,$t[ci].height);return Ii||Jt()},Vi=function(Li,si,$i){var Ye=Li.getElementsByTagName("footer");if(0<Ye.length){Ye=Ye[0];var Ht=si.pdf.internal.write,$t=si.y;si.pdf.internal.write=function(){},it(Ye,si,$i);var ci=Math.ceil(si.y-$t)+5;si.y=$t,si.pdf.internal.write=Ht,si.pdf.margins_doc.bottom+=ci;for(var Ii=function(Gt){var gi=void 0!==Gt?Gt.pageNumber:1,kt=si.y;si.y=si.pdf.internal.pageSize.getHeight()-si.pdf.margins_doc.bottom,si.pdf.margins_doc.bottom-=ci;for(var oi=Ye.getElementsByTagName("span"),ei=0;ei<oi.length;++ei)-1<(" "+oi[ei].className+" ").replace(/[\n\t]/g," ").indexOf(" pageCounter ")&&(oi[ei].innerHTML=gi),-1<(" "+oi[ei].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")&&(oi[ei].innerHTML="###jsPDFVarTotalPages###");it(Ye,si,$i),si.pdf.margins_doc.bottom+=ci,si.y=kt},Jt=Ye.getElementsByTagName("span"),Ct=0;Ct<Jt.length;++Ct)-1<(" "+Jt[Ct].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")&&si.pdf.internal.events.subscribe("htmlRenderingFinished",si.pdf.putTotalPages.bind(si.pdf,"###jsPDFVarTotalPages###"),!0);si.pdf.internal.events.subscribe("addPage",Ii,!1),Ii(),Tn.FOOTER=1}},Zi=function(Li,si,$i,Ye,Ht,$t){if(!si)return!1;var ci,Ii,Jt,Ct;"string"==typeof si||si.parentNode||(si=""+si.innerHTML),"string"==typeof si&&(ci=si.replace(/<\/?script[^>]*?>/gi,""),Ct="jsPDFhtmlText"+Date.now().toString()+(1e3*Math.random()).toFixed(0),(Jt=document.createElement("div")).style.cssText="position: absolute !important;clip: rect(1px 1px 1px 1px); /* IE6, IE7 */clip: rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height: 1px !important;width: 1px !important; top:auto;left:-100px;overflow: hidden;",Jt.innerHTML='<iframe style="height:1px;width:1px" name="'+Ct+'" />',document.body.appendChild(Jt),(Ii=window.frames[Ct]).document.open(),Ii.document.writeln(ci),Ii.document.close(),si=Ii.document.body);var Gt,gi=new Ui(Li,$i,Ye,Ht);return Oi.call(this,si,gi,Ht.elementHandlers,function(kt){Vi(si,gi,Ht.elementHandlers),it(si,gi,Ht.elementHandlers),gi.pdf.internal.events.publish("htmlRenderingFinished"),Gt=gi.dispose(),"function"==typeof $t?$t(Gt):kt&&console.error("jsPDF Warning: rendering issues? provide a callback to fromHTML!")}),Gt||{x:gi.x,y:gi.y}},(Ui=function(Li,si,$i,Ye){return this.pdf=Li,this.x=si,this.y=$i,this.settings=Ye,this.watchFunctions=[],this.init(),this}).prototype.init=function(){return this.paragraph={text:[],style:[]},this.pdf.internal.write("q")},Ui.prototype.dispose=function(){return this.pdf.internal.write("Q"),{x:this.x,y:this.y,ready:!0}},Ui.prototype.executeWatchFunctions=function(Li){var si=!1,$i=[];if(0<this.watchFunctions.length){for(var Ye=0;Ye<this.watchFunctions.length;++Ye)!0===this.watchFunctions[Ye](Li)?si=!0:$i.push(this.watchFunctions[Ye]);this.watchFunctions=$i}return si},Ui.prototype.splitFragmentsIntoLines=function(Li,si){var $i,Ye,Ht,$t,ci,Ii,Jt,Ct,Gt,gi,kt,oi,ei,Ai;for(gi=this.pdf.internal.scaleFactor,$t={},Ii=Jt=Ct=Ai=ci=Ht=Gt=Ye=void 0,oi=[kt=[]],$i=0,ei=this.settings.width;Li.length;)if(ci=Li.shift(),Ai=si.shift(),ci)if((Ht=$t[(Ye=Ai["font-family"])+(Gt=Ai["font-style"])])||(Ht=this.pdf.internal.getFont(Ye,Gt).metadata.Unicode,$t[Ye+Gt]=Ht),Jt=this.pdf.getStringUnitWidth(ci,Ct={widths:Ht.widths,kerning:Ht.kerning,fontSize:12*Ai["font-size"],textIndent:$i})*Ct.fontSize/gi,"\u2028"==ci)oi.push(kt=[]);else if(ei<$i+Jt){for(Ii=this.pdf.splitTextToSize(ci,ei,Ct),kt.push([Ii.shift(),Ai]);Ii.length;)kt=[[Ii.shift(),Ai]],oi.push(kt);$i=this.pdf.getStringUnitWidth(kt[0][0],Ct)*Ct.fontSize/gi}else kt.push([ci,Ai]),$i+=Jt;if(void 0!==Ai["text-align"]&&("center"===Ai["text-align"]||"right"===Ai["text-align"]||"justify"===Ai["text-align"]))for(var Si=0;Si<oi.length;++Si){var yi=this.pdf.getStringUnitWidth(oi[Si][0][0],Ct)*Ct.fontSize/gi;0<Si&&(oi[Si][0][1]=Ge(oi[Si][0][1]));var en=ei-yi;if("right"===Ai["text-align"])oi[Si][0][1]["margin-left"]=en;else if("center"===Ai["text-align"])oi[Si][0][1]["margin-left"]=en/2;else if("justify"===Ai["text-align"]){var un=oi[Si][0][0].split(" ").length-1;oi[Si][0][1]["word-spacing"]=en/un,Si===oi.length-1&&(oi[Si][0][1]["word-spacing"]=0)}}return oi},Ui.prototype.RenderTextFragment=function(Li,si){var $i,Ye;Ye=0,this.pdf.internal.pageSize.getHeight()-this.pdf.margins_doc.bottom<this.y+this.pdf.internal.getFontSize()&&(this.pdf.internal.write("ET","Q"),this.pdf.addPage(),this.y=this.pdf.margins_doc.top,this.pdf.internal.write("q","BT",this.getPdfColor(si.color),this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td"),Ye=Math.max(Ye,si["line-height"],si["font-size"]),this.pdf.internal.write(0,(-12*Ye).toFixed(2),"Td")),$i=this.pdf.internal.getFont(si["font-family"],si["font-style"]);var Ht=this.getPdfColor(si.color);Ht!==this.lastTextColor&&(this.pdf.internal.write(Ht),this.lastTextColor=Ht),void 0!==si["word-spacing"]&&0<si["word-spacing"]&&this.pdf.internal.write(si["word-spacing"].toFixed(2),"Tw"),this.pdf.internal.write("/"+$i.id,(12*si["font-size"]).toFixed(2),"Tf","("+this.pdf.internal.pdfEscape(Li)+") Tj"),void 0!==si["word-spacing"]&&this.pdf.internal.write(0,"Tw")},Ui.prototype.getPdfColor=function(Li){var si,$i,Ye,Ht=/rgb\s*\(\s*(\d+),\s*(\d+),\s*(\d+\s*)\)/.exec(Li);if(null!=Ht)si=parseInt(Ht[1]),$i=parseInt(Ht[2]),Ye=parseInt(Ht[3]);else{if("string"==typeof Li&&"#"!=Li.charAt(0)){var $t=new RGBColor(Li);Li=$t.ok?$t.toHex():"#000000"}si=Li.substring(1,3),si=parseInt(si,16),$i=Li.substring(3,5),$i=parseInt($i,16),Ye=Li.substring(5,7),Ye=parseInt(Ye,16)}if("string"==typeof si&&/^#[0-9A-Fa-f]{6}$/.test(si)){var ci=parseInt(si.substr(1),16);si=ci>>16&255,$i=ci>>8&255,Ye=255&ci}var Ii=this.f3;return 0===si&&0===$i&&0===Ye||void 0===$i?Ii(si/255)+" g":[Ii(si/255),Ii($i/255),Ii(Ye/255),"rg"].join(" ")},Ui.prototype.f3=function(Li){return Li.toFixed(3)},Ui.prototype.renderParagraph=function(Li){var si,$i,Ye,Ht,$t,ci,Ii,Jt,Ct,Gt,gi,kt,oi;if(Ye=mi(this.paragraph.text),kt=this.paragraph.style,this.paragraph={text:[],style:[],blockstyle:{},priorblockstyle:si=this.paragraph.blockstyle},Ye.join("").trim()){Ii=this.splitFragmentsIntoLines(Ye,kt),Jt=ci=void 0,$i=12/this.pdf.internal.scaleFactor,this.priorMarginBottom=this.priorMarginBottom||0,gi=(Math.max((si["margin-top"]||0)-this.priorMarginBottom,0)+(si["padding-top"]||0))*$i,Gt=((si["margin-bottom"]||0)+(si["padding-bottom"]||0))*$i,this.priorMarginBottom=si["margin-bottom"]||0,"always"===si["page-break-before"]&&(this.pdf.addPage(),this.y=0,gi=((si["margin-top"]||0)+(si["padding-top"]||0))*$i),Ct=this.pdf.internal.write,$t=Ht=void 0,this.y+=gi,Ct("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td");for(var ei=0;Ii.length;){for(Ht=Jt=0,$t=(ci=Ii.shift()).length;Ht!==$t;)ci[Ht][0].trim()&&(Jt=Math.max(Jt,ci[Ht][1]["line-height"],ci[Ht][1]["font-size"]),oi=7*ci[Ht][1]["font-size"]),Ht++;var Ai=0,Si=0;for(void 0!==ci[0][1]["margin-left"]&&0<ci[0][1]["margin-left"]&&(Ai=(Si=this.pdf.internal.getCoordinateString(ci[0][1]["margin-left"]))-ei,ei=Si),Ct(Ai+Math.max(si["margin-left"]||0,0)*$i,(-12*Jt).toFixed(2),"Td"),Ht=0,$t=ci.length;Ht!==$t;)ci[Ht][0]&&this.RenderTextFragment(ci[Ht][0],ci[Ht][1]),Ht++;if(this.y+=Jt*$i,this.executeWatchFunctions(ci[0][1])&&0<Ii.length){var yi=[],en=[];Ii.forEach(function(un){for(var On=0,Gn=un.length;On!==Gn;)un[On][0]&&(yi.push(un[On][0]+" "),en.push(un[On][1])),++On}),Ii=this.splitFragmentsIntoLines(mi(yi),en),Ct("ET","Q"),Ct("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td")}}return Li&&"function"==typeof Li&&Li.call(this,this.x-9,this.y-oi/2),Ct("ET","Q"),this.y+=Gt}},Ui.prototype.setBlockBoundary=function(Li){return this.renderParagraph(Li)},Ui.prototype.setBlockStyle=function(Li){return this.paragraph.blockstyle=Li},Ui.prototype.addText=function(Li,si){return this.paragraph.text.push(Li),this.paragraph.style.push(si)},ht={helvetica:"helvetica","sans-serif":"helvetica","times new roman":"times",serif:"times",times:"times",monospace:"courier",courier:"courier"},Ot={100:"normal",200:"normal",300:"normal",400:"normal",500:"bold",600:"bold",700:"bold",800:"bold",900:"bold",normal:"normal",bold:"bold",bolder:"bold",lighter:"normal"},mt={normal:"normal",italic:"italic",oblique:"italic"},yt={left:"left",right:"right",center:"center",justify:"justify"},St={none:"none",right:"right",left:"left"},Tt={none:"none",both:"both"},ui={normal:1},pe.fromHTML=function(Li,si,$i,Ye,Ht,$t){return this.margins_doc=$t||{top:0,bottom:0},Ye||(Ye={}),Ye.elementHandlers||(Ye.elementHandlers={}),Zi(this,Li,isNaN(si)?4:si,isNaN($i)?4:$i,Ye,Ht)}}(kn.API),("undefined"!=typeof window&&window||"undefined"!=typeof global&&global).html2pdf=function(pe,Ge,it){var ht=Ge.canvas;if(ht){var mt,yt;if((ht.pdf=Ge).annotations={_nameMap:[],createAnnotation:function(mi,Ui){var Ft,ti=Ge.context2d._wrapX(Ui.left),ui=Ge.context2d._wrapY(Ui.top),vi=(Ge.context2d._page(Ui.top),mi.indexOf("#"));Ft=0<=vi?{name:mi.substring(vi+1)}:{url:mi},Ge.link(ti,ui,Ui.right-Ui.left,Ui.bottom-Ui.top,Ft)},setName:function(mi,Ui){var Ft=Ge.context2d._wrapX(Ui.left),ti=Ge.context2d._wrapY(Ui.top),ui=Ge.context2d._page(Ui.top);this._nameMap[mi]={page:ui,x:Ft,y:ti}}},ht.annotations=Ge.annotations,Ge.context2d._pageBreakAt=function(mi){this.pageBreaks.push(mi)},Ge.context2d._gotoPage=function(mi){for(;Ge.internal.getNumberOfPages()<mi;)Ge.addPage();Ge.setPage(mi)},"string"==typeof pe){pe=pe.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"");var Ot,St,Tt=document.createElement("iframe");document.body.appendChild(Tt),null!=(Ot=Tt.contentDocument)&&null!=Ot||(Ot=Tt.contentWindow.document),Ot.open(),Ot.write(pe),Ot.close(),mt=Ot.body,St=Ot.body||{},pe=Ot.documentElement||{},yt=Math.max(St.scrollHeight,St.offsetHeight,pe.clientHeight,pe.scrollHeight,pe.offsetHeight)}else St=(mt=pe).body||{},yt=Math.max(St.scrollHeight,St.offsetHeight,pe.clientHeight,pe.scrollHeight,pe.offsetHeight);var _i={async:!0,allowTaint:!0,backgroundColor:"#ffffff",canvas:ht,imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1,windowHeight:yt=Ge.internal.pageSize.getHeight(),scrollY:yt};Ge.context2d.pageWrapYEnabled=!0,Ge.context2d.pageWrapY=Ge.internal.pageSize.getHeight(),html2canvas(mt,_i).then(function(mi){it&&(Tt&&Tt.parentElement.removeChild(Tt),it(Ge))})}else alert("jsPDF canvas plugin not installed")},window.tmp=html2pdf,function(pe){var Ge=pe.BlobBuilder||pe.WebKitBlobBuilder||pe.MSBlobBuilder||pe.MozBlobBuilder;pe.URL=pe.URL||pe.webkitURL||function(ui,vi){return(vi=document.createElement("a")).href=ui,vi};var it=pe.Blob,ht=URL.createObjectURL,mt=URL.revokeObjectURL,yt=pe.Symbol&&pe.Symbol.toStringTag,Ot=!1,St=!1,Tt=!!pe.ArrayBuffer,_i=Ge&&Ge.prototype.append&&Ge.prototype.getBlob;try{Ot=2===new Blob(["\xe4"]).size,St=2===new Blob([new Uint8Array([1,2])]).size}catch(ui){}function mi(ui){return ui.map(function(vi){if(vi.buffer instanceof ArrayBuffer){var Di=vi.buffer;if(vi.byteLength!==Di.byteLength){var Oi=new Uint8Array(vi.byteLength);Oi.set(new Uint8Array(Di,vi.byteOffset,vi.byteLength)),Di=Oi.buffer}return Di}return vi})}function Ui(ui,vi){vi=vi||{};var Di=new Ge;return mi(ui).forEach(function(Oi){Di.append(Oi)}),vi.type?Di.getBlob(vi.type):Di.getBlob()}function Ft(ui,vi){return new it(mi(ui),vi||{})}if(pe.Blob&&(Ui.prototype=Blob.prototype,Ft.prototype=Blob.prototype),yt)try{File.prototype[yt]="File",Blob.prototype[yt]="Blob",FileReader.prototype[yt]="FileReader"}catch(ui){}function ti(){var ui=!!pe.ActiveXObject||"-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,vi=pe.XMLHttpRequest&&pe.XMLHttpRequest.prototype.send;ui&&vi&&(XMLHttpRequest.prototype.send=function(Oi){Oi instanceof Blob&&this.setRequestHeader("Content-Type",Oi.type),vi.call(this,Oi)});try{new File([],"")}catch(Oi){try{var Di=new Function('class File extends Blob {constructor(chunks, name, opts) {opts = opts || {};super(chunks, opts || {});this.name = name;this.lastModifiedDate = opts.lastModified ? new Date(opts.lastModified) : new Date;this.lastModified = +this.lastModifiedDate;}};return new File([], ""), File')();pe.File=Di}catch(Vi){pe.File=Di=function(Zi,nn,Tn){var bn=new Blob(Zi,Tn),Li=Tn&&void 0!==Tn.lastModified?new Date(Tn.lastModified):new Date;return bn.name=nn,bn.lastModifiedDate=Li,bn.lastModified=+Li,bn.toString=function(){return"[object File]"},yt&&(bn[yt]="File"),bn}}}}Ot?(ti(),pe.Blob=St?pe.Blob:Ft):_i?(ti(),pe.Blob=Ui):function(){function ui(Ye){for(var Ht=[],$t=0;$t<Ye.length;$t++){var ci=Ye.charCodeAt($t);ci<128?Ht.push(ci):ci<2048?Ht.push(192|ci>>6,128|63&ci):ci<55296||57344<=ci?Ht.push(224|ci>>12,128|ci>>6&63,128|63&ci):($t++,ci=65536+((1023&ci)<<10|1023&Ye.charCodeAt($t)),Ht.push(240|ci>>18,128|ci>>12&63,128|ci>>6&63,128|63&ci))}return Ht}function vi(Ye){var Ht,$t,ci,Ii,Jt,Ct;for(Ht="",ci=Ye.length,$t=0;$t<ci;)switch((Ii=Ye[$t++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:Ht+=String.fromCharCode(Ii);break;case 12:case 13:Jt=Ye[$t++],Ht+=String.fromCharCode((31&Ii)<<6|63&Jt);break;case 14:Jt=Ye[$t++],Ct=Ye[$t++],Ht+=String.fromCharCode((15&Ii)<<12|(63&Jt)<<6|(63&Ct)<<0)}return Ht}function Di(Ye){for(var Ht=new Array(Ye.byteLength),$t=new Uint8Array(Ye),ci=Ht.length;ci--;)Ht[ci]=$t[ci];return Ht}function Oi(Ye){for(var Ht="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",$t=[],ci=0;ci<Ye.length;ci+=3){var Ii=Ye[ci],Jt=ci+1<Ye.length,Ct=Jt?Ye[ci+1]:0,Gt=ci+2<Ye.length,gi=Gt?Ye[ci+2]:0,ei=(15&Ct)<<2|gi>>6,Ai=63&gi;Gt||(Ai=64,Jt||(ei=64)),$t.push(Ht[Ii>>2],Ht[(3&Ii)<<4|Ct>>4],Ht[ei],Ht[Ai])}return $t.join("")}var Vi=Object.create||function(Ye){function Ht(){}return Ht.prototype=Ye,new Ht};if(Tt)var Zi=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],nn=ArrayBuffer.isView||function(Ye){return Ye&&-1<Zi.indexOf(Object.prototype.toString.call(Ye))};function Tn(Ye,Ht){for(var $t=0,ci=(Ye=Ye||[]).length;$t<ci;$t++){var Ii=Ye[$t];Ye[$t]=Ii instanceof Tn?Ii._buffer:"string"==typeof Ii?ui(Ii):Tt&&(ArrayBuffer.prototype.isPrototypeOf(Ii)||nn(Ii))?Di(Ii):Tt&&(Jt=Ii)&&DataView.prototype.isPrototypeOf(Jt)?Di(Ii.buffer):ui(String(Ii))}var Jt;this._buffer=[].concat.apply([],Ye),this.size=this._buffer.length,this.type=Ht&&Ht.type||""}function bn(Ye,Ht,$t){var ci=Tn.call(this,Ye,$t=$t||{})||this;return ci.name=Ht,ci.lastModifiedDate=$t.lastModified?new Date($t.lastModified):new Date,ci.lastModified=+ci.lastModifiedDate,ci}if(Tn.prototype.slice=function(Ye,Ht,$t){return new Tn([this._buffer.slice(Ye||0,Ht||this._buffer.length)],{type:$t})},Tn.prototype.toString=function(){return"[object Blob]"},(bn.prototype=Vi(Tn.prototype)).constructor=bn,Object.setPrototypeOf)Object.setPrototypeOf(bn,Tn);else try{bn.__proto__=Tn}catch(Ye){}function Li(){if(!(this instanceof Li))throw new TypeError("Failed to construct 'FileReader': Please use the 'new' operator, this DOM object constructor cannot be called as a function.");var Ye=document.createDocumentFragment();this.addEventListener=Ye.addEventListener,this.dispatchEvent=function(Ht){var $t=this["on"+Ht.type];"function"==typeof $t&&$t(Ht),Ye.dispatchEvent(Ht)},this.removeEventListener=Ye.removeEventListener}function si(Ye,Ht,$t){if(!(Ht instanceof Tn))throw new TypeError("Failed to execute '"+$t+"' on 'FileReader': parameter 1 is not of type 'Blob'.");Ye.result="",setTimeout(function(){this.readyState=Li.LOADING,Ye.dispatchEvent(new Event("load")),Ye.dispatchEvent(new Event("loadend"))})}bn.prototype.toString=function(){return"[object File]"},Li.EMPTY=0,Li.LOADING=1,Li.DONE=2,Li.prototype.error=null,Li.prototype.onabort=null,Li.prototype.onerror=null,Li.prototype.onload=null,Li.prototype.onloadend=null,Li.prototype.onloadstart=null,Li.prototype.onprogress=null,Li.prototype.readAsDataURL=function(Ye){si(this,Ye,"readAsDataURL"),this.result="data:"+Ye.type+";base64,"+Oi(Ye._buffer)},Li.prototype.readAsText=function(Ye){si(this,Ye,"readAsText"),this.result=vi(Ye._buffer)},Li.prototype.readAsArrayBuffer=function(Ye){si(this,Ye,"readAsText"),this.result=Ye._buffer.slice()},Li.prototype.abort=function(){},URL.createObjectURL=function(Ye){return Ye instanceof Tn?"data:"+Ye.type+";base64,"+Oi(Ye._buffer):ht.call(URL,Ye)},URL.revokeObjectURL=function(Ye){mt&&mt.call(URL,Ye)};var $i=pe.XMLHttpRequest&&pe.XMLHttpRequest.prototype.send;$i&&(XMLHttpRequest.prototype.send=function(Ye){Ye instanceof Tn?(this.setRequestHeader("Content-Type",Ye.type),$i.call(this,vi(Ye._buffer))):$i.call(this,Ye)}),pe.FileReader=Li,pe.File=bn,pe.Blob=Tn}()}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")());var li,B,Be,$,k,T,E,D,O,L,F,V,W,X,ie,Y=Y||function(pe){if(!(void 0===pe||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var it=function(){return pe.URL||pe.webkitURL||pe},ht=pe.document.createElementNS("http://www.w3.org/1999/xhtml","a"),mt="download"in ht,yt=/constructor/i.test(pe.HTMLElement)||pe.safari,Ot=/CriOS\/[\d]+/.test(navigator.userAgent),St=pe.setImmediate||pe.setTimeout,Tt=function(ti){St(function(){throw ti},0)},_i=function(ti){setTimeout(function(){"string"==typeof ti?it().revokeObjectURL(ti):ti.remove()},4e4)},mi=function(ti){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(ti.type)?new Blob([String.fromCharCode(65279),ti],{type:ti.type}):ti},Ui=function(ti,ui,vi){vi||(ti=mi(ti));var Di,Oi=this,Vi="application/octet-stream"===ti.type,Zi=function(){!function(nn,Tn,bn){for(var Li=(Tn=[].concat(Tn)).length;Li--;){var si=nn["on"+Tn[Li]];if("function"==typeof si)try{si.call(nn,nn)}catch($i){Tt($i)}}}(Oi,"writestart progress write writeend".split(" "))};if(Oi.readyState=Oi.INIT,mt)return Di=it().createObjectURL(ti),void St(function(){var nn,Tn;ht.href=Di,ht.download=ui,nn=ht,Tn=new MouseEvent("click"),nn.dispatchEvent(Tn),Zi(),_i(Di),Oi.readyState=Oi.DONE},0);!function(){if((Ot||Vi&&yt)&&pe.FileReader){var nn=new FileReader;return nn.onloadend=function(){var Tn=Ot?nn.result:nn.result.replace(/^data:[^;]*;/,"data:attachment/file;");pe.open(Tn,"_blank")||(pe.location.href=Tn),Tn=void 0,Oi.readyState=Oi.DONE,Zi()},nn.readAsDataURL(ti),Oi.readyState=Oi.INIT}Di||(Di=it().createObjectURL(ti)),Vi?pe.location.href=Di:pe.open(Di,"_blank")||(pe.location.href=Di),Oi.readyState=Oi.DONE,Zi(),_i(Di)}()},Ft=Ui.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(ti,ui,vi){return ui=ui||ti.name||"download",vi||(ti=mi(ti)),navigator.msSaveOrOpenBlob(ti,ui)}:(Ft.abort=function(){},Ft.readyState=Ft.INIT=0,Ft.WRITING=1,Ft.DONE=2,Ft.error=Ft.onwritestart=Ft.onprogress=Ft.onwrite=Ft.onabort=Ft.onerror=Ft.onwriteend=null,function(ti,ui,vi){return new Ui(ti,ui||ti.name||"download",vi)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||void 0);function te(pe){var Ge=0;if(71!==pe[Ge++]||73!==pe[Ge++]||70!==pe[Ge++]||56!==pe[Ge++]||56!=(pe[Ge++]+1&253)||97!==pe[Ge++])throw"Invalid GIF 87a/89a header.";var it=pe[Ge++]|pe[Ge++]<<8,ht=pe[Ge++]|pe[Ge++]<<8,mt=pe[Ge++];Ge++,Ge++;var St=null;mt>>7&&(St=Ge,Ge+=3*(1<<1+(7&mt)));var Tt=!0,_i=[],mi=0,Ui=null,Ft=0,ti=null;for(this.width=it,this.height=ht;Tt&&Ge<pe.length;)switch(pe[Ge++]){case 33:switch(pe[Ge++]){case 255:if(11!==pe[Ge]||78==pe[Ge+1]&&69==pe[Ge+2]&&84==pe[Ge+3]&&83==pe[Ge+4]&&67==pe[Ge+5]&&65==pe[Ge+6]&&80==pe[Ge+7]&&69==pe[Ge+8]&&50==pe[Ge+9]&&46==pe[Ge+10]&&48==pe[Ge+11]&&3==pe[Ge+12]&&1==pe[Ge+13]&&0==pe[Ge+16])Ge+=14,ti=pe[Ge++]|pe[Ge++]<<8,Ge++;else for(Ge+=12;0!==(si=pe[Ge++]);)Ge+=si;break;case 249:if(4!==pe[Ge++]||0!==pe[Ge+4])throw"Invalid graphics extension block.";var ui=pe[Ge++];mi=pe[Ge++]|pe[Ge++]<<8,Ui=pe[Ge++],0==(1&ui)&&(Ui=null),Ft=ui>>2&7,Ge++;break;case 254:for(;0!==(si=pe[Ge++]);)Ge+=si;break;default:throw"Unknown graphic control label: 0x"+pe[Ge-1].toString(16)}break;case 44:var vi=pe[Ge++]|pe[Ge++]<<8,Di=pe[Ge++]|pe[Ge++]<<8,Oi=pe[Ge++]|pe[Ge++]<<8,Vi=pe[Ge++]|pe[Ge++]<<8,Zi=pe[Ge++],nn=Zi>>6&1,Tn=St,bn=!1;Zi>>7&&(bn=!0,Tn=Ge,Ge+=3*(1<<1+(7&Zi)));var Li=Ge;for(Ge++;;){var si;if(0===(si=pe[Ge++]))break;Ge+=si}_i.push({x:vi,y:Di,width:Oi,height:Vi,has_local_palette:bn,palette_offset:Tn,data_offset:Li,data_length:Ge-Li,transparent_index:Ui,interlaced:!!nn,delay:mi,disposal:Ft});break;case 59:Tt=!1;break;default:throw"Unknown gif block: 0x"+pe[Ge-1].toString(16)}this.numFrames=function(){return _i.length},this.loopCount=function(){return ti},this.frameInfo=function($i){if($i<0||$i>=_i.length)throw"Frame index out of range.";return _i[$i]},this.decodeAndBlitFrameBGRA=function($i,Ye){var Ht=this.frameInfo($i),$t=Ht.width*Ht.height,ci=new Uint8Array($t);ne(pe,Ht.data_offset,ci,$t);var Ii=Ht.palette_offset,Jt=Ht.transparent_index;null===Jt&&(Jt=256);var Ct=Ht.width,Gt=it-Ct,gi=Ct,kt=4*(Ht.y*it+Ht.x),oi=4*((Ht.y+Ht.height)*it+Ht.x),ei=kt,Ai=4*Gt;!0===Ht.interlaced&&(Ai+=4*(Ct+Gt)*7);for(var Si=8,yi=0,en=ci.length;yi<en;++yi){var un=ci[yi];if(0===gi&&(gi=Ct,oi<=(ei+=Ai)&&(Ai=Gt+4*(Ct+Gt)*(Si-1),ei=kt+(Ct+Gt)*(Si<<1),Si>>=1)),un===Jt)ei+=4;else{var On=pe[Ii+3*un],Gn=pe[Ii+3*un+1];Ye[ei++]=pe[Ii+3*un+2],Ye[ei++]=Gn,Ye[ei++]=On,Ye[ei++]=255}--gi}},this.decodeAndBlitFrameRGBA=function($i,Ye){var Ht=this.frameInfo($i),$t=Ht.width*Ht.height,ci=new Uint8Array($t);ne(pe,Ht.data_offset,ci,$t);var Ii=Ht.palette_offset,Jt=Ht.transparent_index;null===Jt&&(Jt=256);var Ct=Ht.width,Gt=it-Ct,gi=Ct,kt=4*(Ht.y*it+Ht.x),oi=4*((Ht.y+Ht.height)*it+Ht.x),ei=kt,Ai=4*Gt;!0===Ht.interlaced&&(Ai+=4*(Ct+Gt)*7);for(var Si=8,yi=0,en=ci.length;yi<en;++yi){var un=ci[yi];if(0===gi&&(gi=Ct,oi<=(ei+=Ai)&&(Ai=Gt+4*(Ct+Gt)*(Si-1),ei=kt+(Ct+Gt)*(Si<<1),Si>>=1)),un===Jt)ei+=4;else{var Gn=pe[Ii+3*un+1],ln=pe[Ii+3*un+2];Ye[ei++]=pe[Ii+3*un],Ye[ei++]=Gn,Ye[ei++]=ln,Ye[ei++]=255}--gi}}}function ne(pe,Ge,it,ht){for(var mt=pe[Ge++],yt=1<<mt,Ot=yt+1,St=Ot+1,Tt=mt+1,_i=(1<<Tt)-1,mi=0,Ui=0,Ft=0,ti=pe[Ge++],ui=new Int32Array(4096),vi=null;;){for(;mi<16&&0!==ti;)Ui|=pe[Ge++]<<mi,mi+=8,1===ti?ti=pe[Ge++]:--ti;if(mi<Tt)break;var Di=Ui&_i;if(Ui>>=Tt,mi-=Tt,Di!==yt){if(Di===Ot)break;for(var Oi=Di<St?Di:vi,Vi=0,Zi=Oi;yt<Zi;)Zi=ui[Zi]>>8,++Vi;var nn=Zi;if(ht<Ft+Vi+(Oi!==Di?1:0))return void console.log("Warning, gif stream longer than expected.");it[Ft++]=nn;var Tn=Ft+=Vi;for(Oi!==Di&&(it[Ft++]=nn),Zi=Oi;Vi--;)it[--Tn]=255&(Zi=ui[Zi]),Zi>>=8;null!==vi&&St<4096&&(ui[St++]=vi<<8|nn,_i+1<=St&&Tt<12&&(++Tt,_i=_i<<1|1)),vi=Di}else St=Ot+1,_i=(1<<(Tt=mt+1))-1,vi=null}return Ft!==ht&&console.log("Warning, gif stream shorter than expected."),it}try{lt.GifWriter=function(pe,Ge,it,ht){var mt=0,yt=void 0===(ht=void 0===ht?{}:ht).loop?null:ht.loop,Ot=void 0===ht.palette?null:ht.palette;if(Ge<=0||it<=0||65535<Ge||65535<it)throw"Width/Height invalid.";function St(vi){var Di=vi.length;if(Di<2||256<Di||Di&Di-1)throw"Invalid code/color length, must be power of 2 and 2 .. 256.";return Di}pe[mt++]=71,pe[mt++]=73,pe[mt++]=70,pe[mt++]=56,pe[mt++]=57,pe[mt++]=97;var Tt=0,_i=0;if(null!==Ot){for(var mi=St(Ot);mi>>=1;)++Tt;if(mi=1<<Tt,--Tt,void 0!==ht.background){if(mi<=(_i=ht.background))throw"Background index out of range.";if(0===_i)throw"Background index explicitly passed as 0."}}if(pe[mt++]=255&Ge,pe[mt++]=Ge>>8&255,pe[mt++]=255&it,pe[mt++]=it>>8&255,pe[mt++]=(null!==Ot?128:0)|Tt,pe[mt++]=_i,pe[mt++]=0,null!==Ot)for(var Ui=0,Ft=Ot.length;Ui<Ft;++Ui){var ti=Ot[Ui];pe[mt++]=ti>>16&255,pe[mt++]=ti>>8&255,pe[mt++]=255&ti}if(null!==yt){if(yt<0||65535<yt)throw"Loop count invalid.";pe[mt++]=33,pe[mt++]=255,pe[mt++]=11,pe[mt++]=78,pe[mt++]=69,pe[mt++]=84,pe[mt++]=83,pe[mt++]=67,pe[mt++]=65,pe[mt++]=80,pe[mt++]=69,pe[mt++]=50,pe[mt++]=46,pe[mt++]=48,pe[mt++]=3,pe[mt++]=1,pe[mt++]=255&yt,pe[mt++]=yt>>8&255,pe[mt++]=0}var ui=!1;this.addFrame=function(vi,Di,Oi,Vi,Zi,nn){if(!0===ui&&(--mt,ui=!1),vi<0||Di<0||65535<vi||65535<Di)throw"x/y invalid.";if(Oi<=0||Vi<=0||65535<Oi||65535<Vi)throw"Width/Height invalid.";if(Zi.length<Oi*Vi)throw"Not enough pixels for the frame size.";var Tn=!0,bn=(nn=void 0===nn?{}:nn).palette;if(null==bn&&(Tn=!1,bn=Ot),null==bn)throw"Must supply either a local or global palette.";for(var Li=St(bn),si=0;Li>>=1;)++si;Li=1<<si;var $i=void 0===nn.delay?0:nn.delay,Ye=void 0===nn.disposal?0:nn.disposal;if(Ye<0||3<Ye)throw"Disposal out of range.";var Ht=!1,$t=0;if(null!=nn.transparent&&(Ht=!0,($t=nn.transparent)<0||Li<=$t))throw"Transparent color index.";if((0!==Ye||Ht||0!==$i)&&(pe[mt++]=33,pe[mt++]=249,pe[mt++]=4,pe[mt++]=Ye<<2|(!0===Ht?1:0),pe[mt++]=255&$i,pe[mt++]=$i>>8&255,pe[mt++]=$t,pe[mt++]=0),pe[mt++]=44,pe[mt++]=255&vi,pe[mt++]=vi>>8&255,pe[mt++]=255&Di,pe[mt++]=Di>>8&255,pe[mt++]=255&Oi,pe[mt++]=Oi>>8&255,pe[mt++]=255&Vi,pe[mt++]=Vi>>8&255,pe[mt++]=!0===Tn?128|si-1:0,!0===Tn)for(var ci=0,Ii=bn.length;ci<Ii;++ci){var Jt=bn[ci];pe[mt++]=Jt>>16&255,pe[mt++]=Jt>>8&255,pe[mt++]=255&Jt}mt=function(Ct,Gt,gi,kt){Ct[Gt++]=gi;var oi=Gt++,ei=1<<gi,Ai=ei-1,Si=ei+1,yi=Si+1,en=gi+1,un=0,On=0;function Gn(Ji){for(;Ji<=un;)Ct[Gt++]=255&On,On>>=8,un-=8,Gt===oi+256&&(Ct[oi]=255,oi=Gt++)}function ln(Ji){On|=Ji<<un,un+=en,Gn(8)}var $n=kt[0]&Ai,In={};ln(ei);for(var rr=1,wi=kt.length;rr<wi;++rr){var Hi=kt[rr]&Ai,xi=$n<<8|Hi,Ni=In[xi];if(void 0===Ni){for(On|=$n<<un,un+=en;8<=un;)Ct[Gt++]=255&On,On>>=8,un-=8,Gt===oi+256&&(Ct[oi]=255,oi=Gt++);4096===yi?(ln(ei),yi=Si+1,en=gi+1,In={}):(1<<en<=yi&&++en,In[xi]=yi++),$n=Hi}else $n=Ni}return ln($n),ln(Si),Gn(1),oi+1===Gt?Ct[oi]=0:(Ct[oi]=Gt-oi-1,Ct[Gt++]=0),Gt}(pe,mt,si<2?2:si,Zi)},this.end=function(){return!1===ui&&(pe[mt++]=59,ui=!0),mt}},lt.GifReader=te}catch(pe){}function we(pe){var Ge,it,ht,mt,yt,Ot=Math.floor,St=new Array(64),Tt=new Array(64),_i=new Array(64),mi=new Array(64),Ui=new Array(65535),Ft=new Array(65535),ti=new Array(64),ui=new Array(64),vi=[],Di=0,Oi=7,Vi=new Array(64),Zi=new Array(64),nn=new Array(64),Tn=new Array(256),bn=new Array(2048),Li=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],si=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],$i=[0,1,2,3,4,5,6,7,8,9,10,11],Ye=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Ht=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],$t=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ci=[0,1,2,3,4,5,6,7,8,9,10,11],Ii=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Jt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ct(Ai,Si){for(var yi=0,en=0,un=new Array,On=1;On<=16;On++){for(var Gn=1;Gn<=Ai[On];Gn++)un[Si[en]]=[],un[Si[en]][0]=yi,un[Si[en]][1]=On,en++,yi++;yi*=2}return un}function Gt(Ai){for(var Si=Ai[0],yi=Ai[1]-1;0<=yi;)Si&1<<yi&&(Di|=1<<Oi),yi--,--Oi<0&&(255==Di?(gi(255),gi(0)):gi(Di),Oi=7,Di=0)}function gi(Ai){vi.push(Ai)}function kt(Ai){gi(Ai>>8&255),gi(255&Ai)}function oi(Ai,Si,yi,en,un){for(var On,Gn=un[0],ln=un[240],$n=function(Xn,Zt){var di,ai,Bi,hn,cn,Sn,En,bi,Qi,ki,xn=0;for(Qi=0;Qi<8;++Qi){var cr=(di=Xn[xn])+(bi=Xn[xn+7]),Dn=di-bi,gr=(ai=Xn[xn+1])+(En=Xn[xn+6]),pr=ai-En,Dr=(Bi=Xn[xn+2])+(Sn=Xn[xn+5]),zn=Bi-Sn,ro=(hn=Xn[xn+3])+(cn=Xn[xn+4]),Yn=hn-cn,Ut=cr+ro,ii=cr-ro,Fi=gr+Dr,dn=gr-Dr;Xn[xn]=Ut+Fi,Xn[xn+4]=Ut-Fi;var jn=.707106781*(dn+ii);Xn[xn+2]=ii+jn,Xn[xn+6]=ii-jn;var Qn=.382683433*((Ut=Yn+zn)-(dn=pr+Dn)),Cr=.5411961*Ut+Qn,$r=1.306562965*dn+Qn,lr=.707106781*(Fi=zn+pr),_s=Dn+lr,ps=Dn-lr;Xn[xn+5]=ps+Cr,Xn[xn+3]=ps-Cr,Xn[xn+1]=_s+$r,Xn[xn+7]=_s-$r,xn+=8}for(Qi=xn=0;Qi<8;++Qi){var so=(di=Xn[xn])+(bi=Xn[xn+56]),ur=di-bi,Ts=(ai=Xn[xn+8])+(En=Xn[xn+48]),Fc=ai-En,$l=(Bi=Xn[xn+16])+(Sn=Xn[xn+40]),sd=Bi-Sn,Io=(hn=Xn[xn+24])+(cn=Xn[xn+32]),ya=hn-cn,Nl=so+Io,dr=so-Io,Bu=Ts+$l,ls=Ts-$l;Xn[xn]=Nl+Bu,Xn[xn+32]=Nl-Bu;var od=.707106781*(ls+dr);Xn[xn+16]=dr+od,Xn[xn+48]=dr-od;var Ru=.382683433*((Nl=ya+sd)-(ls=Fc+ur)),Rr=.5411961*Nl+Ru,Bs=1.306562965*ls+Ru,rl=.707106781*(Bu=sd+Fc),Fr=ur+rl,rs=ur-rl;Xn[xn+40]=rs+Rr,Xn[xn+24]=rs-Rr,Xn[xn+8]=Fr+Bs,Xn[xn+56]=Fr-Bs,xn++}for(Qi=0;Qi<64;++Qi)ti[Qi]=0<(ki=Xn[Qi]*Zt[Qi])?ki+.5|0:ki-.5|0;return ti}(Ai,Si),In=0;In<64;++In)ui[Li[In]]=$n[In];var rr=ui[0]-yi;yi=ui[0],0==rr?Gt(en[0]):(Gt(en[Ft[On=32767+rr]]),Gt(Ui[On]));for(var wi=63;0<wi&&0==ui[wi];wi--);if(0==wi)return Gt(Gn),yi;for(var Hi,xi=1;xi<=wi;){for(var Ni=xi;0==ui[xi]&&xi<=wi;++xi);var Ji=xi-Ni;if(16<=Ji){Hi=Ji>>4;for(var mn=1;mn<=Hi;++mn)Gt(ln);Ji&=15}Gt(un[(Ji<<4)+Ft[On=32767+ui[xi]]]),Gt(Ui[On]),xi++}return 63!=wi&&Gt(Gn),yi}function ei(Ai){Ai<=0&&(Ai=1),100<Ai&&(Ai=100),yt!=Ai&&(function(Si){for(var yi=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],en=0;en<64;en++){var un=Ot((yi[en]*Si+50)/100);un<1?un=1:255<un&&(un=255),St[Li[en]]=un}for(var On=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Gn=0;Gn<64;Gn++){var ln=Ot((On[Gn]*Si+50)/100);ln<1?ln=1:255<ln&&(ln=255),Tt[Li[Gn]]=ln}for(var $n=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],In=0,rr=0;rr<8;rr++)for(var wi=0;wi<8;wi++)_i[In]=1/(St[Li[In]]*$n[rr]*$n[wi]*8),mi[In]=1/(Tt[Li[In]]*$n[rr]*$n[wi]*8),In++}(Ai<50?Math.floor(5e3/Ai):Math.floor(200-2*Ai)),yt=Ai)}this.encode=function(Ai,Si){var yi,en;(new Date).getTime(),Si&&ei(Si),vi=new Array,Di=0,Oi=7,kt(65496),kt(65504),kt(16),gi(74),gi(70),gi(73),gi(70),gi(0),gi(1),gi(1),gi(0),kt(1),kt(1),gi(0),gi(0),function(){kt(65499),kt(132),gi(0);for(var hn=0;hn<64;hn++)gi(St[hn]);gi(1);for(var cn=0;cn<64;cn++)gi(Tt[cn])}(),yi=Ai.width,en=Ai.height,kt(65472),kt(17),gi(8),kt(en),kt(yi),gi(3),gi(1),gi(17),gi(0),gi(2),gi(17),gi(1),gi(3),gi(17),gi(1),function(){kt(65476),kt(418),gi(0);for(var hn=0;hn<16;hn++)gi(si[hn+1]);for(var cn=0;cn<=11;cn++)gi($i[cn]);gi(16);for(var Sn=0;Sn<16;Sn++)gi(Ye[Sn+1]);for(var En=0;En<=161;En++)gi(Ht[En]);gi(1);for(var bi=0;bi<16;bi++)gi($t[bi+1]);for(var Qi=0;Qi<=11;Qi++)gi(ci[Qi]);gi(17);for(var ki=0;ki<16;ki++)gi(Ii[ki+1]);for(var xn=0;xn<=161;xn++)gi(Jt[xn])}(),kt(65498),kt(12),gi(3),gi(1),gi(0),gi(2),gi(17),gi(3),gi(17),gi(0),gi(63),gi(0);var un=0,On=0,Gn=0;Di=0,Oi=7,this.encode.displayName="_encode_";for(var ln,$n,In,rr,wi,Hi,xi,Ni,Ji,mn=Ai.data,Zt=Ai.height,di=4*Ai.width,ai=0;ai<Zt;){for(ln=0;ln<di;){for(Hi=wi=di*ai+ln,xi=-1,Ji=Ni=0;Ji<64;Ji++)Hi=wi+(Ni=Ji>>3)*di+(xi=4*(7&Ji)),Zt<=ai+Ni&&(Hi-=di*(ai+1+Ni-Zt)),di<=ln+xi&&(Hi-=ln+xi-di+4),$n=mn[Hi++],In=mn[Hi++],rr=mn[Hi++],Vi[Ji]=(bn[$n]+bn[In+256>>0]+bn[rr+512>>0]>>16)-128,Zi[Ji]=(bn[$n+768>>0]+bn[In+1024>>0]+bn[rr+1280>>0]>>16)-128,nn[Ji]=(bn[$n+1280>>0]+bn[In+1536>>0]+bn[rr+1792>>0]>>16)-128;un=oi(Vi,_i,un,Ge,ht),On=oi(Zi,mi,On,it,mt),Gn=oi(nn,mi,Gn,it,mt),ln+=32}ai+=8}if(0<=Oi){var Bi=[];Bi[1]=Oi+1,Bi[0]=(1<<Oi+1)-1,Gt(Bi)}return kt(65497),new Uint8Array(vi)},(new Date).getTime(),pe||(pe=50),function(){for(var Ai=String.fromCharCode,Si=0;Si<256;Si++)Tn[Si]=Ai(Si)}(),Ge=Ct(si,$i),it=Ct($t,ci),ht=Ct(Ye,Ht),mt=Ct(Ii,Jt),function(){for(var Ai=1,Si=2,yi=1;yi<=15;yi++){for(var en=Ai;en<Si;en++)Ft[32767+en]=yi,Ui[32767+en]=[],Ui[32767+en][1]=yi,Ui[32767+en][0]=en;for(var un=-(Si-1);un<=-Ai;un++)Ft[32767+un]=yi,Ui[32767+un]=[],Ui[32767+un][1]=yi,Ui[32767+un][0]=Si-1+un;Ai<<=1,Si<<=1}}(),function(){for(var Ai=0;Ai<256;Ai++)bn[Ai]=19595*Ai,bn[Ai+256>>0]=38470*Ai,bn[Ai+512>>0]=7471*Ai+32768,bn[Ai+768>>0]=-11059*Ai,bn[Ai+1024>>0]=-21709*Ai,bn[Ai+1280>>0]=32768*Ai+8421375,bn[Ai+1536>>0]=-27439*Ai,bn[Ai+1792>>0]=-5329*Ai}(),ei(pe),(new Date).getTime()}function ze(pe,Ge){if(this.pos=0,this.buffer=pe,this.datav=new DataView(pe.buffer),this.is_with_alpha=!!Ge,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}window.tmp=te,kn.API.adler32cs=(T="function"==typeof ArrayBuffer&&"function"==typeof Uint8Array,E=null,D=function(){if(!T)return function(){return!1};try{var pe={};"function"==typeof pe.Buffer&&(E=pe.Buffer)}catch(Ge){}return function(Ge){return Ge instanceof ArrayBuffer||null!==E&&Ge instanceof E}}(),O=null!==E?function(pe){return new E(pe,"utf8").toString("binary")}:function(pe){return unescape(encodeURIComponent(pe))},L=function(pe,Ge){for(var it=65535&pe,ht=pe>>>16,mt=0,yt=Ge.length;mt<yt;mt++)ht=(ht+(it=(it+(255&Ge.charCodeAt(mt)))%65521))%65521;return(ht<<16|it)>>>0},F=function(pe,Ge){for(var it=65535&pe,ht=pe>>>16,mt=0,yt=Ge.length;mt<yt;mt++)ht=(ht+(it=(it+Ge[mt])%65521))%65521;return(ht<<16|it)>>>0},W=(V={}).Adler32=(((k=($=function(pe){if(!(this instanceof $))throw new TypeError("Constructor cannot called be as a function.");if(!isFinite(pe=null==pe?1:+pe))throw new Error("First arguments needs to be a finite number.");this.checksum=pe>>>0}).prototype={}).constructor=$).from=((li=function(pe){if(!(this instanceof $))throw new TypeError("Constructor cannot called be as a function.");if(null==pe)throw new Error("First argument needs to be a string.");this.checksum=L(1,pe.toString())}).prototype=k,li),$.fromUtf8=((B=function(pe){if(!(this instanceof $))throw new TypeError("Constructor cannot called be as a function.");if(null==pe)throw new Error("First argument needs to be a string.");var Ge=O(pe.toString());this.checksum=L(1,Ge)}).prototype=k,B),T&&($.fromBuffer=((Be=function(pe){if(!(this instanceof $))throw new TypeError("Constructor cannot called be as a function.");if(!D(pe))throw new Error("First argument needs to be ArrayBuffer.");var Ge=new Uint8Array(pe);return this.checksum=F(1,Ge)}).prototype=k,Be)),k.update=function(pe){if(null==pe)throw new Error("First argument needs to be a string.");return pe=pe.toString(),this.checksum=L(this.checksum,pe)},k.updateUtf8=function(pe){if(null==pe)throw new Error("First argument needs to be a string.");var Ge=O(pe.toString());return this.checksum=L(this.checksum,Ge)},T&&(k.updateBuffer=function(pe){if(!D(pe))throw new Error("First argument needs to be ArrayBuffer.");var Ge=new Uint8Array(pe);return this.checksum=F(this.checksum,Ge)}),k.clone=function(){return new W(this.checksum)},$),V.from=function(pe){if(null==pe)throw new Error("First argument needs to be a string.");return L(1,pe.toString())},V.fromUtf8=function(pe){if(null==pe)throw new Error("First argument needs to be a string.");var Ge=O(pe.toString());return L(1,Ge)},T&&(V.fromBuffer=function(pe){if(!D(pe))throw new Error("First argument need to be ArrayBuffer.");var Ge=new Uint8Array(pe);return F(1,Ge)}),V),function(pe){pe.__bidiEngine__=pe.prototype.__bidiEngine__=function(ht){var mt,yt,Ot,St,Tt,_i,mi,Ui=Ge,Ft=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],ti=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],ui={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},vi={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},Di=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],Oi=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),Vi=!1,Zi=0;this.__bidiEngine__={};var nn=function(Ht){var $t=Ht.charCodeAt(),ci=$t>>8,Ii=vi[ci];return void 0!==Ii?Ui[256*Ii+(255&$t)]:252===ci||253===ci?"AL":Oi.test(ci)?"L":8===ci?"R":"N"},Tn=function(Ht){for(var $t,ci=0;ci<Ht.length;ci++){if("L"===($t=nn(Ht.charAt(ci))))return!1;if("R"===$t)return!0}return!1},bn=function(Ht,$t,ci,Ii){var Jt,Ct,Gt,gi,kt=$t[Ii];switch(kt){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":Vi=!1;break;case"N":case"AN":break;case"EN":Vi&&(kt="AN");break;case"AL":Vi=!0,kt="R";break;case"WS":case"BN":kt="N";break;case"CS":Ii<1||Ii+1>=$t.length||"EN"!==(Jt=ci[Ii-1])&&"AN"!==Jt||"EN"!==(Ct=$t[Ii+1])&&"AN"!==Ct?kt="N":Vi&&(Ct="AN"),kt=Ct===Jt?Ct:"N";break;case"ES":kt="EN"===(Jt=0<Ii?ci[Ii-1]:"B")&&Ii+1<$t.length&&"EN"===$t[Ii+1]?"EN":"N";break;case"ET":if(0<Ii&&"EN"===ci[Ii-1]){kt="EN";break}if(Vi){kt="N";break}for(Gt=Ii+1,gi=$t.length;Gt<gi&&"ET"===$t[Gt];)Gt++;kt=Gt<gi&&"EN"===$t[Gt]?"EN":"N";break;case"NSM":if(Ot&&!St){for(gi=$t.length,Gt=Ii+1;Gt<gi&&"NSM"===$t[Gt];)Gt++;if(Gt<gi){var oi=Ht[Ii];if(Jt=$t[Gt],(1425<=oi&&oi<=2303||64286===oi)&&("R"===Jt||"AL"===Jt)){kt="R";break}}}kt=Ii<1||"B"===(Jt=$t[Ii-1])?"N":ci[Ii-1];break;case"B":mt=!(Vi=!1),kt=Zi;break;case"S":yt=!0,kt="N"}return kt},Li=function(Ht,$t,ci){var Ii=Ht.split("");return ci&&si(Ii,ci,{hiLevel:Zi}),Ii.reverse(),$t&&$t.reverse(),Ii.join("")},si=function(Ht,$t,ci){var Ii,Jt,Ct,Gt,gi,kt=-1,oi=Ht.length,ei=0,Ai=[],Si=Zi?ti:Ft,yi=[];for(yt=mt=Vi=!1,Jt=0;Jt<oi;Jt++)yi[Jt]=nn(Ht[Jt]);for(Ct=0;Ct<oi;Ct++){if(gi=ei,Ai[Ct]=bn(Ht,yi,Ai,Ct),Ii=240&(ei=Si[gi][ui[Ai[Ct]]]),$t[Ct]=Gt=Si[ei&=15][5],0<Ii)if(16===Ii){for(Jt=kt;Jt<Ct;Jt++)$t[Jt]=1;kt=-1}else kt=-1;if(Si[ei][6])-1===kt&&(kt=Ct);else if(-1<kt){for(Jt=kt;Jt<Ct;Jt++)$t[Jt]=Gt;kt=-1}"B"===yi[Ct]&&($t[Ct]=0),ci.hiLevel|=Gt}yt&&function(en,un,On){for(var Gn=0;Gn<On;Gn++)if("S"===en[Gn]){un[Gn]=Zi;for(var ln=Gn-1;0<=ln&&"WS"===en[ln];ln--)un[ln]=Zi}}(yi,$t,oi)},$i=function(Ht,$t,ci,Ii,Jt){if(!(Jt.hiLevel<Ht)){if(1===Ht&&1===Zi&&!mt)return $t.reverse(),void(ci&&ci.reverse());for(var Ct,Gt,gi,kt,oi=$t.length,ei=0;ei<oi;){if(Ii[ei]>=Ht){for(gi=ei+1;gi<oi&&Ii[gi]>=Ht;)gi++;for(kt=ei,Gt=gi-1;kt<Gt;kt++,Gt--)Ct=$t[kt],$t[kt]=$t[Gt],$t[Gt]=Ct,ci&&(Ct=ci[kt],ci[kt]=ci[Gt],ci[Gt]=Ct);ei=gi}ei++}}},Ye=function(Ht,$t,ci){var Ii=Ht.split(""),Jt={hiLevel:Zi};return ci||(ci=[]),si(Ii,ci,Jt),function(Ct,Gt,gi){if(0!==gi.hiLevel&&mi)for(var kt,oi=0;oi<Ct.length;oi++)1===Gt[oi]&&0<=(kt=Di.indexOf(Ct[oi]))&&(Ct[oi]=Di[kt+1])}(Ii,ci,Jt),$i(2,Ii,$t,ci,Jt),$i(1,Ii,$t,ci,Jt),Ii.join("")};return this.__bidiEngine__.doBidiReorder=function(Ht,$t,ci){if(function(Jt,Ct){if(Ct)for(var Gt=0;Gt<Jt.length;Gt++)Ct[Gt]=Gt;void 0===St&&(St=Tn(Jt)),void 0===_i&&(_i=Tn(Jt))}(Ht,$t),Ot||!Tt||_i)if(Ot&&Tt&&St^_i)Zi=St?1:0,Ht=Li(Ht,$t,ci);else if(!Ot&&Tt&&_i)Zi=St?1:0,Ht=Ye(Ht,$t,ci),Ht=Li(Ht,$t);else if(!Ot||St||Tt||_i){if(Ot&&!Tt&&St^_i)Ht=Li(Ht,$t),Ht=St?(Zi=0,Ye(Ht,$t,ci)):(Zi=1,Ht=Ye(Ht,$t,ci),Li(Ht,$t));else if(Ot&&St&&!Tt&&_i)Zi=1,Ht=Ye(Ht,$t,ci),Ht=Li(Ht,$t);else if(!Ot&&!Tt&&St^_i){var Ii=mi;St?(Zi=1,Ht=Ye(Ht,$t,ci),Zi=0,mi=!1,Ht=Ye(Ht,$t,ci),mi=Ii):(Zi=0,Ht=Ye(Ht,$t,ci),Ht=Li(Ht,$t),mi=!(Zi=1),Ht=Ye(Ht,$t,ci),mi=Ii,Ht=Li(Ht,$t))}}else Zi=0,Ht=Ye(Ht,$t,ci);else Zi=St?1:0,Ht=Ye(Ht,$t,ci);return Ht},this.__bidiEngine__.setOptions=function(Ht){Ht&&(Ot=Ht.isInputVisual,Tt=Ht.isOutputVisual,St=Ht.isInputRtl,_i=Ht.isOutputRtl,mi=Ht.isSymmetricSwapping)},this.__bidiEngine__.setOptions(ht),this.__bidiEngine__};var Ge=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],it=new pe.__bidiEngine__({isInputVisual:!0});pe.API.events.push(["postProcessText",function(ht){var mt=ht.text,Ot=[];if("[object Array]"===Object.prototype.toString.call(mt)){var St=0;for(Ot=[],St=0;St<mt.length;St+=1)"[object Array]"===Object.prototype.toString.call(mt[St])?Ot.push([it.doBidiReorder(mt[St][0]),mt[St][1],mt[St][2]]):Ot.push([it.doBidiReorder(mt[St])]);ht.text=Ot}else ht.text=it.doBidiReorder(mt)}])}(kn),window.tmp=we,ze.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var pe=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(pe);for(var Ge=0;Ge<pe;Ge++){var it=this.datav.getUint8(this.pos++,!0),ht=this.datav.getUint8(this.pos++,!0),mt=this.datav.getUint8(this.pos++,!0),yt=this.datav.getUint8(this.pos++,!0);this.palette[Ge]={red:mt,green:ht,blue:it,quad:yt}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ze.prototype.parseBGR=function(){this.pos=this.offset;try{var pe="bit"+this.bitPP;this.data=new Uint8Array(this.width*this.height*4),this[pe]()}catch(it){console.log("bit decode error:"+it)}},ze.prototype.bit1=function(){var pe=Math.ceil(this.width/8),Ge=pe%4,it=0<=this.height?this.height-1:-this.height;for(it=this.height-1;0<=it;it--){for(var ht=this.bottom_up?it:this.height-1-it,mt=0;mt<pe;mt++)for(var yt=this.datav.getUint8(this.pos++,!0),Ot=ht*this.width*4+8*mt*4,St=0;St<8&&8*mt+St<this.width;St++){var Tt=this.palette[yt>>7-St&1];this.data[Ot+4*St]=Tt.blue,this.data[Ot+4*St+1]=Tt.green,this.data[Ot+4*St+2]=Tt.red,this.data[Ot+4*St+3]=255}0!=Ge&&(this.pos+=4-Ge)}},ze.prototype.bit4=function(){for(var pe=Math.ceil(this.width/2),Ge=pe%4,it=this.height-1;0<=it;it--){for(var ht=this.bottom_up?it:this.height-1-it,mt=0;mt<pe;mt++){var yt=this.datav.getUint8(this.pos++,!0),Ot=ht*this.width*4+2*mt*4,Tt=15&yt,_i=this.palette[yt>>4];if(this.data[Ot]=_i.blue,this.data[Ot+1]=_i.green,this.data[Ot+2]=_i.red,this.data[Ot+3]=255,2*mt+1>=this.width)break;this.data[Ot+4]=(_i=this.palette[Tt]).blue,this.data[Ot+4+1]=_i.green,this.data[Ot+4+2]=_i.red,this.data[Ot+4+3]=255}0!=Ge&&(this.pos+=4-Ge)}},ze.prototype.bit8=function(){for(var pe=this.width%4,Ge=this.height-1;0<=Ge;Ge--){for(var it=this.bottom_up?Ge:this.height-1-Ge,ht=0;ht<this.width;ht++){var mt=this.datav.getUint8(this.pos++,!0),yt=it*this.width*4+4*ht;if(mt<this.palette.length){var Ot=this.palette[mt];this.data[yt]=Ot.red,this.data[yt+1]=Ot.green,this.data[yt+2]=Ot.blue,this.data[yt+3]=255}else this.data[yt]=255,this.data[yt+1]=255,this.data[yt+2]=255,this.data[yt+3]=255}0!=pe&&(this.pos+=4-pe)}},ze.prototype.bit15=function(){for(var pe=this.width%3,Ge=parseInt("11111",2),it=this.height-1;0<=it;it--){for(var ht=this.bottom_up?it:this.height-1-it,mt=0;mt<this.width;mt++){var yt=this.datav.getUint16(this.pos,!0);this.pos+=2;var Ot=(yt&Ge)/Ge*255|0,St=(yt>>5&Ge)/Ge*255|0,_i=yt>>15?255:0,mi=ht*this.width*4+4*mt;this.data[mi]=(yt>>10&Ge)/Ge*255|0,this.data[mi+1]=St,this.data[mi+2]=Ot,this.data[mi+3]=_i}this.pos+=pe}},ze.prototype.bit16=function(){for(var pe=this.width%3,Ge=parseInt("11111",2),it=parseInt("111111",2),ht=this.height-1;0<=ht;ht--){for(var mt=this.bottom_up?ht:this.height-1-ht,yt=0;yt<this.width;yt++){var Ot=this.datav.getUint16(this.pos,!0);this.pos+=2;var St=(Ot&Ge)/Ge*255|0,Tt=(Ot>>5&it)/it*255|0,mi=mt*this.width*4+4*yt;this.data[mi]=(Ot>>11)/Ge*255|0,this.data[mi+1]=Tt,this.data[mi+2]=St,this.data[mi+3]=255}this.pos+=pe}},ze.prototype.bit24=function(){for(var pe=this.height-1;0<=pe;pe--){for(var Ge=this.bottom_up?pe:this.height-1-pe,it=0;it<this.width;it++){var ht=this.datav.getUint8(this.pos++,!0),mt=this.datav.getUint8(this.pos++,!0),yt=this.datav.getUint8(this.pos++,!0),Ot=Ge*this.width*4+4*it;this.data[Ot]=yt,this.data[Ot+1]=mt,this.data[Ot+2]=ht,this.data[Ot+3]=255}this.pos+=this.width%4}},ze.prototype.bit32=function(){for(var pe=this.height-1;0<=pe;pe--)for(var Ge=this.bottom_up?pe:this.height-1-pe,it=0;it<this.width;it++){var ht=this.datav.getUint8(this.pos++,!0),mt=this.datav.getUint8(this.pos++,!0),yt=this.datav.getUint8(this.pos++,!0),Ot=this.datav.getUint8(this.pos++,!0),St=Ge*this.width*4+4*it;this.data[St]=yt,this.data[St+1]=mt,this.data[St+2]=ht,this.data[St+3]=Ot}},ze.prototype.getData=function(){return this.data},window.tmp=ze,function(pe){var ht=[0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29];function mt(){var ti=this;function ui(vi,Di){for(var Oi=0;Oi|=1&vi,vi>>>=1,Oi<<=1,0<--Di;);return Oi>>>1}ti.build_tree=function(vi){var Di,Oi,Vi,Zi=ti.dyn_tree,nn=ti.stat_desc.static_tree,Tn=ti.stat_desc.elems,bn=-1;for(vi.heap_len=0,vi.heap_max=573,Di=0;Di<Tn;Di++)0!==Zi[2*Di]?(vi.heap[++vi.heap_len]=bn=Di,vi.depth[Di]=0):Zi[2*Di+1]=0;for(;vi.heap_len<2;)Zi[2*(Vi=vi.heap[++vi.heap_len]=bn<2?++bn:0)]=1,vi.depth[Vi]=0,vi.opt_len--,nn&&(vi.static_len-=nn[2*Vi+1]);for(ti.max_code=bn,Di=Math.floor(vi.heap_len/2);1<=Di;Di--)vi.pqdownheap(Zi,Di);for(Vi=Tn;Di=vi.heap[1],vi.heap[1]=vi.heap[vi.heap_len--],vi.pqdownheap(Zi,1),Oi=vi.heap[1],vi.heap[--vi.heap_max]=Di,vi.heap[--vi.heap_max]=Oi,Zi[2*Vi]=Zi[2*Di]+Zi[2*Oi],vi.depth[Vi]=Math.max(vi.depth[Di],vi.depth[Oi])+1,Zi[2*Di+1]=Zi[2*Oi+1]=Vi,vi.heap[1]=Vi++,vi.pqdownheap(Zi,1),2<=vi.heap_len;);vi.heap[--vi.heap_max]=vi.heap[1],function(Li){var si,$i,Ye,Ht,$t,ci,Ii=ti.dyn_tree,Jt=ti.stat_desc.static_tree,Ct=ti.stat_desc.extra_bits,Gt=ti.stat_desc.extra_base,gi=ti.stat_desc.max_length,kt=0;for(Ht=0;Ht<=15;Ht++)Li.bl_count[Ht]=0;for(Ii[2*Li.heap[Li.heap_max]+1]=0,si=Li.heap_max+1;si<573;si++)gi<(Ht=Ii[2*Ii[2*($i=Li.heap[si])+1]+1]+1)&&(Ht=gi,kt++),Ii[2*$i+1]=Ht,$i>ti.max_code||(Li.bl_count[Ht]++,$t=0,Gt<=$i&&($t=Ct[$i-Gt]),Li.opt_len+=(ci=Ii[2*$i])*(Ht+$t),Jt&&(Li.static_len+=ci*(Jt[2*$i+1]+$t)));if(0!==kt){do{for(Ht=gi-1;0===Li.bl_count[Ht];)Ht--;Li.bl_count[Ht]--,Li.bl_count[Ht+1]+=2,Li.bl_count[gi]--,kt-=2}while(0<kt);for(Ht=gi;0!==Ht;Ht--)for($i=Li.bl_count[Ht];0!==$i;)(Ye=Li.heap[--si])>ti.max_code||(Ii[2*Ye+1]!=Ht&&(Li.opt_len+=(Ht-Ii[2*Ye+1])*Ii[2*Ye],Ii[2*Ye+1]=Ht),$i--)}}(vi),function(Li,si,$i){var Ye,Ht,$t,ci=[],Ii=0;for(Ye=1;Ye<=15;Ye++)ci[Ye]=Ii=Ii+$i[Ye-1]<<1;for(Ht=0;Ht<=si;Ht++)0!==($t=Li[2*Ht+1])&&(Li[2*Ht]=ui(ci[$t]++,$t))}(Zi,ti.max_code,vi.bl_count)}}function yt(ti,ui,vi,Di,Oi){this.static_tree=ti,this.extra_bits=ui,this.extra_base=vi,this.elems=Di,this.max_length=Oi}function Ot(ti,ui,vi,Di,Oi){this.good_length=ti,this.max_lazy=ui,this.nice_length=vi,this.max_chain=Di,this.func=Oi}mt._length_code=[0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28],mt.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],mt.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],mt.d_code=function(ti){return ti<256?ht[ti]:ht[256+(ti>>>7)]},mt.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],mt.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],mt.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],mt.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],yt.static_ltree=[12,8,140,8,76,8,204,8,44,8,172,8,108,8,236,8,28,8,156,8,92,8,220,8,60,8,188,8,124,8,252,8,2,8,130,8,66,8,194,8,34,8,162,8,98,8,226,8,18,8,146,8,82,8,210,8,50,8,178,8,114,8,242,8,10,8,138,8,74,8,202,8,42,8,170,8,106,8,234,8,26,8,154,8,90,8,218,8,58,8,186,8,122,8,250,8,6,8,134,8,70,8,198,8,38,8,166,8,102,8,230,8,22,8,150,8,86,8,214,8,54,8,182,8,118,8,246,8,14,8,142,8,78,8,206,8,46,8,174,8,110,8,238,8,30,8,158,8,94,8,222,8,62,8,190,8,126,8,254,8,1,8,129,8,65,8,193,8,33,8,161,8,97,8,225,8,17,8,145,8,81,8,209,8,49,8,177,8,113,8,241,8,9,8,137,8,73,8,201,8,41,8,169,8,105,8,233,8,25,8,153,8,89,8,217,8,57,8,185,8,121,8,249,8,5,8,133,8,69,8,197,8,37,8,165,8,101,8,229,8,21,8,149,8,85,8,213,8,53,8,181,8,117,8,245,8,13,8,141,8,77,8,205,8,45,8,173,8,109,8,237,8,29,8,157,8,93,8,221,8,61,8,189,8,125,8,253,8,19,9,275,9,147,9,403,9,83,9,339,9,211,9,467,9,51,9,307,9,179,9,435,9,115,9,371,9,243,9,499,9,11,9,267,9,139,9,395,9,75,9,331,9,203,9,459,9,43,9,299,9,171,9,427,9,107,9,363,9,235,9,491,9,27,9,283,9,155,9,411,9,91,9,347,9,219,9,475,9,59,9,315,9,187,9,443,9,123,9,379,9,251,9,507,9,7,9,263,9,135,9,391,9,71,9,327,9,199,9,455,9,39,9,295,9,167,9,423,9,103,9,359,9,231,9,487,9,23,9,279,9,151,9,407,9,87,9,343,9,215,9,471,9,55,9,311,9,183,9,439,9,119,9,375,9,247,9,503,9,15,9,271,9,143,9,399,9,79,9,335,9,207,9,463,9,47,9,303,9,175,9,431,9,111,9,367,9,239,9,495,9,31,9,287,9,159,9,415,9,95,9,351,9,223,9,479,9,63,9,319,9,191,9,447,9,127,9,383,9,255,9,511,9,0,7,64,7,32,7,96,7,16,7,80,7,48,7,112,7,8,7,72,7,40,7,104,7,24,7,88,7,56,7,120,7,4,7,68,7,36,7,100,7,20,7,84,7,52,7,116,7,3,8,131,8,67,8,195,8,35,8,163,8,99,8,227,8],yt.static_dtree=[0,5,16,5,8,5,24,5,4,5,20,5,12,5,28,5,2,5,18,5,10,5,26,5,6,5,22,5,14,5,30,5,1,5,17,5,9,5,25,5,5,5,21,5,13,5,29,5,3,5,19,5,11,5,27,5,7,5,23,5],yt.static_l_desc=new yt(yt.static_ltree,mt.extra_lbits,257,286,15),yt.static_d_desc=new yt(yt.static_dtree,mt.extra_dbits,0,30,15),yt.static_bl_desc=new yt(null,mt.extra_blbits,0,19,7);var St=[new Ot(0,0,0,0,0),new Ot(4,4,8,4,1),new Ot(4,5,16,8,1),new Ot(4,6,32,32,1),new Ot(4,4,16,16,2),new Ot(8,16,32,32,2),new Ot(8,16,128,128,2),new Ot(8,32,128,256,2),new Ot(32,128,258,1024,2),new Ot(32,258,258,4096,2)],Tt=["need dictionary","stream end","","","stream error","data error","","buffer error","",""];function _i(ti,ui,vi,Di){var Oi=ti[2*ui],Vi=ti[2*vi];return Oi<Vi||Oi==Vi&&Di[ui]<=Di[vi]}function mi(){var ti,ui,vi,Di,Oi,Vi,Zi,nn,Tn,bn,Li,si,$i,Ye,Ht,$t,ci,Ii,Jt,Ct,Gt,gi,kt,oi,ei,Ai,Si,yi,en,un,On,Gn,ln,$n,In,rr,wi,Hi,xi,Ni,Ji,mn=this,Xn=new mt,Zt=new mt,di=new mt;function ai(){var Yn;for(Yn=0;Yn<286;Yn++)On[2*Yn]=0;for(Yn=0;Yn<30;Yn++)Gn[2*Yn]=0;for(Yn=0;Yn<19;Yn++)ln[2*Yn]=0;On[512]=1,mn.opt_len=mn.static_len=0,rr=Hi=0}function Bi(Yn,Ut){var ii,Fi,dn=-1,jn=Yn[1],Qn=0,Cr=7,$r=4;for(0===jn&&(Cr=138,$r=3),Yn[2*(Ut+1)+1]=65535,ii=0;ii<=Ut;ii++)Fi=jn,jn=Yn[2*(ii+1)+1],++Qn<Cr&&Fi==jn||(Qn<$r?ln[2*Fi]+=Qn:0!==Fi?(Fi!=dn&&ln[2*Fi]++,ln[32]++):Qn<=10?ln[34]++:ln[36]++,dn=Fi,$r=(Qn=0)===jn?(Cr=138,3):Fi==jn?(Cr=6,3):(Cr=7,4))}function hn(Yn){mn.pending_buf[mn.pending++]=Yn}function cn(Yn){hn(255&Yn),hn(Yn>>>8&255)}function Sn(Yn,Ut){var ii,Fi=Ut;16-Fi<Ji?(cn(Ni|=(ii=Yn)<<Ji&65535),Ni=ii>>>16-Ji,Ji+=Fi-16):(Ni|=Yn<<Ji&65535,Ji+=Fi)}function En(Yn,Ut){var ii=2*Yn;Sn(65535&Ut[ii],65535&Ut[ii+1])}function bi(Yn,Ut){var ii,Fi,dn=-1,jn=Yn[1],Qn=0,Cr=7,$r=4;for(0===jn&&(Cr=138,$r=3),ii=0;ii<=Ut;ii++)if(Fi=jn,jn=Yn[2*(ii+1)+1],!(++Qn<Cr&&Fi==jn)){if(Qn<$r)for(;En(Fi,ln),0!=--Qn;);else 0!==Fi?(Fi!=dn&&(En(Fi,ln),Qn--),En(16,ln),Sn(Qn-3,2)):Qn<=10?(En(17,ln),Sn(Qn-3,3)):(En(18,ln),Sn(Qn-11,7));dn=Fi,$r=(Qn=0)===jn?(Cr=138,3):Fi==jn?(Cr=6,3):(Cr=7,4)}}function Qi(){16==Ji?(cn(Ni),Ji=Ni=0):8<=Ji&&(hn(255&Ni),Ni>>>=8,Ji-=8)}function ki(Yn,Ut){var ii,Fi,dn;if(mn.pending_buf[wi+2*rr]=Yn>>>8&255,mn.pending_buf[wi+2*rr+1]=255&Yn,mn.pending_buf[$n+rr]=255&Ut,rr++,0===Yn?On[2*Ut]++:(Hi++,Yn--,On[2*(mt._length_code[Ut]+256+1)]++,Gn[2*mt.d_code(Yn)]++),0==(8191&rr)&&2<Si){for(ii=8*rr,Fi=Gt-ci,dn=0;dn<30;dn++)ii+=Gn[2*dn]*(5+mt.extra_dbits[dn]);if(ii>>>=3,Hi<Math.floor(rr/2)&&ii<Math.floor(Fi/2))return!0}return rr==In-1}function xn(Yn,Ut){var ii,Fi,dn,jn,Qn=0;if(0!==rr)for(;ii=mn.pending_buf[wi+2*Qn]<<8&65280|255&mn.pending_buf[wi+2*Qn+1],Fi=255&mn.pending_buf[$n+Qn],Qn++,0===ii?En(Fi,Yn):(En((dn=mt._length_code[Fi])+256+1,Yn),0!==(jn=mt.extra_lbits[dn])&&Sn(Fi-=mt.base_length[dn],jn),En(dn=mt.d_code(--ii),Ut),0!==(jn=mt.extra_dbits[dn])&&Sn(ii-=mt.base_dist[dn],jn)),Qn<rr;);En(256,Yn),xi=Yn[513]}function cr(){8<Ji?cn(Ni):0<Ji&&hn(255&Ni),Ji=Ni=0}function Dn(Yn,Ut,ii){var Fi,dn;Sn(0+(ii?1:0),3),Fi=Yn,dn=Ut,cr(),xi=8,cn(dn),cn(~dn),mn.pending_buf.set(nn.subarray(Fi,Fi+dn),mn.pending),mn.pending+=dn}function pr(Yn){(function(Yn,Ut,ii){var Fi,dn,jn=0;0<Si?(Xn.build_tree(mn),Zt.build_tree(mn),jn=function(){var Qn;for(Bi(On,Xn.max_code),Bi(Gn,Zt.max_code),di.build_tree(mn),Qn=18;3<=Qn&&0===ln[2*mt.bl_order[Qn]+1];Qn--);return mn.opt_len+=3*(Qn+1)+5+5+4,Qn}(),(dn=mn.static_len+3+7>>>3)<=(Fi=mn.opt_len+3+7>>>3)&&(Fi=dn)):Fi=dn=Ut+5,Ut+4<=Fi&&-1!=Yn?Dn(Yn,Ut,ii):dn==Fi?(Sn(2+(ii?1:0),3),xn(yt.static_ltree,yt.static_dtree)):(Sn(4+(ii?1:0),3),function(Qn,Cr,$r){var lr;for(Sn(Qn-257,5),Sn(Cr-1,5),Sn($r-4,4),lr=0;lr<$r;lr++)Sn(ln[2*mt.bl_order[lr]+1],3);bi(On,Qn-1),bi(Gn,Cr-1)}(Xn.max_code+1,Zt.max_code+1,jn+1),xn(On,Gn)),ai(),ii&&cr()})(0<=ci?ci:-1,Gt-ci,Yn),ci=Gt,ti.flush_pending()}function Dr(){var Yn,Ut,ii,Fi;do{if(0==(Fi=Tn-kt-Gt)&&0===Gt&&0===kt)Fi=Oi;else if(-1==Fi)Fi--;else if(Oi+Oi-262<=Gt){for(nn.set(nn.subarray(Oi,Oi+Oi),0),gi-=Oi,Gt-=Oi,ci-=Oi,ii=Yn=$i;Ut=65535&Li[--ii],Li[ii]=Oi<=Ut?Ut-Oi:0,0!=--Yn;);for(ii=Yn=Oi;Ut=65535&bn[--ii],bn[ii]=Oi<=Ut?Ut-Oi:0,0!=--Yn;);Fi+=Oi}if(0===ti.avail_in)return;Yn=ti.read_buf(nn,Gt+kt,Fi),3<=(kt+=Yn)&&(si=((si=255&nn[Gt])<<$t^255&nn[Gt+1])&Ht)}while(kt<262&&0!==ti.avail_in)}function zn(Yn){var Ut,ii,Fi=ei,dn=Gt,jn=oi,Qn=Oi-262<Gt?Gt-(Oi-262):0,Cr=un,$r=Zi,lr=Gt+258,_s=nn[dn+jn-1],ps=nn[dn+jn];en<=oi&&(Fi>>=2),kt<Cr&&(Cr=kt);do{if(nn[(Ut=Yn)+jn]==ps&&nn[Ut+jn-1]==_s&&nn[Ut]==nn[dn]&&nn[++Ut]==nn[dn+1]){dn+=2,Ut++;do{}while(nn[++dn]==nn[++Ut]&&nn[++dn]==nn[++Ut]&&nn[++dn]==nn[++Ut]&&nn[++dn]==nn[++Ut]&&nn[++dn]==nn[++Ut]&&nn[++dn]==nn[++Ut]&&nn[++dn]==nn[++Ut]&&nn[++dn]==nn[++Ut]&&dn<lr);if(ii=258-(lr-dn),dn=lr-258,jn<ii){if(gi=Yn,Cr<=(jn=ii))break;_s=nn[dn+jn-1],ps=nn[dn+jn]}}}while((Yn=65535&bn[Yn&$r])>Qn&&0!=--Fi);return jn<=kt?jn:kt}mn.depth=[],mn.bl_count=[],mn.heap=[],On=[],Gn=[],ln=[],mn.pqdownheap=function(Yn,Ut){for(var ii=mn.heap,Fi=ii[Ut],dn=Ut<<1;dn<=mn.heap_len&&(dn<mn.heap_len&&_i(Yn,ii[dn+1],ii[dn],mn.depth)&&dn++,!_i(Yn,Fi,ii[dn],mn.depth));)ii[Ut]=ii[dn],Ut=dn,dn<<=1;ii[Ut]=Fi},mn.deflateInit=function(Yn,Ut,ii,Fi,dn,jn){return Fi||(Fi=8),dn||(dn=8),jn||(jn=0),Yn.msg=null,-1==Ut&&(Ut=6),dn<1||9<dn||8!=Fi||ii<9||15<ii||Ut<0||9<Ut||jn<0||2<jn?-2:(Yn.dstate=mn,Zi=(Oi=1<<(Vi=ii))-1,Ht=($i=1<<(Ye=dn+7))-1,$t=Math.floor((Ye+3-1)/3),nn=new Uint8Array(2*Oi),bn=[],Li=[],In=1<<dn+6,mn.pending_buf=new Uint8Array(4*In),vi=4*In,wi=Math.floor(In/2),$n=3*In,Si=Ut,yi=jn,function(Yn){return Yn.total_in=Yn.total_out=0,Yn.msg=null,mn.pending=0,mn.pending_out=0,ui=113,Di=0,Xn.dyn_tree=On,Xn.stat_desc=yt.static_l_desc,Zt.dyn_tree=Gn,Zt.stat_desc=yt.static_d_desc,di.dyn_tree=ln,di.stat_desc=yt.static_bl_desc,Ji=Ni=0,xi=8,ai(),function(){var Ut;for(Tn=2*Oi,Ut=Li[$i-1]=0;Ut<$i-1;Ut++)Li[Ut]=0;Ai=St[Si].max_lazy,en=St[Si].good_length,un=St[Si].nice_length,ei=St[Si].max_chain,Ii=oi=2,si=Ct=kt=ci=Gt=0}(),0}(Yn))},mn.deflateEnd=function(){return 42!=ui&&113!=ui&&666!=ui?-2:(mn.pending_buf=null,nn=bn=Li=null,mn.dstate=null,113==ui?-3:0)},mn.deflateParams=function(Yn,Ut,ii){var Fi=0;return-1==Ut&&(Ut=6),Ut<0||9<Ut||ii<0||2<ii?-2:(St[Si].func!=St[Ut].func&&0!==Yn.total_in&&(Fi=Yn.deflate(1)),Si!=Ut&&(Ai=St[Si=Ut].max_lazy,en=St[Si].good_length,un=St[Si].nice_length,ei=St[Si].max_chain),yi=ii,Fi)},mn.deflateSetDictionary=function(Yn,Ut,ii){var Fi,dn=ii,jn=0;if(!Ut||42!=ui)return-2;if(dn<3)return 0;for(Oi-262<dn&&(jn=ii-(dn=Oi-262)),nn.set(Ut.subarray(jn,jn+dn),0),ci=Gt=dn,si=((si=255&nn[0])<<$t^255&nn[1])&Ht,Fi=0;Fi<=dn-3;Fi++)bn[Fi&Zi]=Li[si=(si<<$t^255&nn[Fi+2])&Ht],Li[si]=Fi;return 0},mn.deflate=function(Yn,Ut){var ii,Fi,dn,jn,Qn,Cr;if(4<Ut||Ut<0)return-2;if(!Yn.next_out||!Yn.next_in&&0!==Yn.avail_in||666==ui&&4!=Ut)return Yn.msg=Tt[4],-2;if(0===Yn.avail_out)return Yn.msg=Tt[7],-5;if(ti=Yn,jn=Di,Di=Ut,42==ui&&(Fi=8+(Vi-8<<4)<<8,3<(dn=(Si-1&255)>>1)&&(dn=3),Fi|=dn<<6,0!==Gt&&(Fi|=32),ui=113,hn((Cr=Fi+=31-Fi%31)>>8&255),hn(255&Cr)),0!==mn.pending){if(ti.flush_pending(),0===ti.avail_out)return Di=-1,0}else if(0===ti.avail_in&&Ut<=jn&&4!=Ut)return ti.msg=Tt[7],-5;if(666==ui&&0!==ti.avail_in)return Yn.msg=Tt[7],-5;if(0!==ti.avail_in||0!==kt||0!=Ut&&666!=ui){switch(Qn=-1,St[Si].func){case 0:Qn=function($r){var lr,_s=65535;for(vi-5<_s&&(_s=vi-5);;){if(kt<=1){if(Dr(),0===kt&&0==$r)return 0;if(0===kt)break}if(Gt+=kt,lr=ci+_s,((kt=0)===Gt||lr<=Gt)&&(kt=Gt-lr,Gt=lr,pr(!1),0===ti.avail_out)||Oi-262<=Gt-ci&&(pr(!1),0===ti.avail_out))return 0}return pr(4==$r),0===ti.avail_out?4==$r?2:0:4==$r?3:1}(Ut);break;case 1:Qn=function($r){for(var lr,_s=0;;){if(kt<262){if(Dr(),kt<262&&0==$r)return 0;if(0===kt)break}if(3<=kt&&(_s=65535&Li[si=(si<<$t^255&nn[Gt+2])&Ht],bn[Gt&Zi]=Li[si],Li[si]=Gt),0!==_s&&(Gt-_s&65535)<=Oi-262&&2!=yi&&(Ii=zn(_s)),3<=Ii)if(lr=ki(Gt-gi,Ii-3),kt-=Ii,Ii<=Ai&&3<=kt){for(Ii--;si=(si<<$t^255&nn[2+ ++Gt])&Ht,_s=65535&Li[si],bn[Gt&Zi]=Li[si],Li[si]=Gt,0!=--Ii;);Gt++}else Gt+=Ii,Ii=0,si=((si=255&nn[Gt])<<$t^255&nn[Gt+1])&Ht;else lr=ki(0,255&nn[Gt]),kt--,Gt++;if(lr&&(pr(!1),0===ti.avail_out))return 0}return pr(4==$r),0===ti.avail_out?4==$r?2:0:4==$r?3:1}(Ut);break;case 2:Qn=function($r){for(var lr,_s,ps=0;;){if(kt<262){if(Dr(),kt<262&&0==$r)return 0;if(0===kt)break}if(3<=kt&&(ps=65535&Li[si=(si<<$t^255&nn[Gt+2])&Ht],bn[Gt&Zi]=Li[si],Li[si]=Gt),oi=Ii,Jt=gi,Ii=2,0!==ps&&oi<Ai&&(Gt-ps&65535)<=Oi-262&&(2!=yi&&(Ii=zn(ps)),Ii<=5&&(1==yi||3==Ii&&4096<Gt-gi)&&(Ii=2)),3<=oi&&Ii<=oi){for(_s=Gt+kt-3,lr=ki(Gt-1-Jt,oi-3),kt-=oi-1,oi-=2;++Gt<=_s&&(ps=65535&Li[si=(si<<$t^255&nn[Gt+2])&Ht],bn[Gt&Zi]=Li[si],Li[si]=Gt),0!=--oi;);if(Ct=0,Ii=2,Gt++,lr&&(pr(!1),0===ti.avail_out))return 0}else if(0!==Ct){if((lr=ki(0,255&nn[Gt-1]))&&pr(!1),Gt++,kt--,0===ti.avail_out)return 0}else Ct=1,Gt++,kt--}return 0!==Ct&&(lr=ki(0,255&nn[Gt-1]),Ct=0),pr(4==$r),0===ti.avail_out?4==$r?2:0:4==$r?3:1}(Ut)}if(2!=Qn&&3!=Qn||(ui=666),0==Qn||2==Qn)return 0===ti.avail_out&&(Di=-1),0;if(1==Qn){if(1==Ut)Sn(2,3),En(256,yt.static_ltree),Qi(),1+xi+10-Ji<9&&(Sn(2,3),En(256,yt.static_ltree),Qi()),xi=7;else if(Dn(0,0,!1),3==Ut)for(ii=0;ii<$i;ii++)Li[ii]=0;if(ti.flush_pending(),0===ti.avail_out)return Di=-1,0}}return 4!=Ut?0:1}}function Ui(){this.next_in_index=0,this.next_out_index=0,this.avail_in=0,this.total_in=0,this.avail_out=0,this.total_out=0}Ui.prototype={deflateInit:function(ti,ui){return this.dstate=new mi,ui||(ui=15),this.dstate.deflateInit(this,ti,ui)},deflate:function(ti){return this.dstate?this.dstate.deflate(this,ti):-2},deflateEnd:function(){if(!this.dstate)return-2;var ti=this.dstate.deflateEnd();return this.dstate=null,ti},deflateParams:function(ti,ui){return this.dstate?this.dstate.deflateParams(this,ti,ui):-2},deflateSetDictionary:function(ti,ui){return this.dstate?this.dstate.deflateSetDictionary(this,ti,ui):-2},read_buf:function(ti,ui,vi){var Di=this.avail_in;return vi<Di&&(Di=vi),0===Di?0:(this.avail_in-=Di,ti.set(this.next_in.subarray(this.next_in_index,this.next_in_index+Di),ui),this.next_in_index+=Di,this.total_in+=Di,Di)},flush_pending:function(){var ti=this,ui=ti.dstate.pending;ui>ti.avail_out&&(ui=ti.avail_out),0!==ui&&(ti.next_out.set(ti.dstate.pending_buf.subarray(ti.dstate.pending_out,ti.dstate.pending_out+ui),ti.next_out_index),ti.next_out_index+=ui,ti.dstate.pending_out+=ui,ti.total_out+=ui,ti.avail_out-=ui,ti.dstate.pending-=ui,0===ti.dstate.pending&&(ti.dstate.pending_out=0))}};var Ft=pe.zip||pe;Ft.Deflater=Ft._jzlib_Deflater=function(ti){var ui=new Ui,vi=new Uint8Array(512),Di=ti?ti.level:-1;void 0===Di&&(Di=-1),ui.deflateInit(Di),ui.next_out=vi,this.append=function(Oi,Vi){var Zi,nn=[],Tn=0,bn=0,Li=0;if(Oi.length){ui.next_in_index=0,ui.next_in=Oi,ui.avail_in=Oi.length;do{if(ui.next_out_index=0,ui.avail_out=512,0!=ui.deflate(0))throw new Error("deflating: "+ui.msg);ui.next_out_index&&nn.push(512==ui.next_out_index?new Uint8Array(vi):new Uint8Array(vi.subarray(0,ui.next_out_index))),Li+=ui.next_out_index,Vi&&0<ui.next_in_index&&ui.next_in_index!=Tn&&(Vi(ui.next_in_index),Tn=ui.next_in_index)}while(0<ui.avail_in||0===ui.avail_out);return Zi=new Uint8Array(Li),nn.forEach(function(si){Zi.set(si,bn),bn+=si.length}),Zi}},this.flush=function(){var Oi,Vi,Zi=[],nn=0,Tn=0;do{if(ui.next_out_index=0,ui.avail_out=512,1!=(Oi=ui.deflate(4))&&0!=Oi)throw new Error("deflating: "+ui.msg);0<512-ui.avail_out&&Zi.push(new Uint8Array(vi.subarray(0,ui.next_out_index))),Tn+=ui.next_out_index}while(0<ui.avail_in||0===ui.avail_out);return ui.deflateEnd(),Vi=new Uint8Array(Tn),Zi.forEach(function(bn){Vi.set(bn,nn),nn+=bn.length}),Vi}}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")()),("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")()).RGBColor=function(pe){var Ge;pe=pe||"",this.ok=!1,"#"==pe.charAt(0)&&(pe=pe.substr(1,6)),pe=(pe=pe.replace(/ /g,"")).toLowerCase();var it={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var ht in it)pe==ht&&(pe=it[ht]);for(var mt=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(_i){return[parseInt(_i[1]),parseInt(_i[2]),parseInt(_i[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(_i){return[parseInt(_i[1],16),parseInt(_i[2],16),parseInt(_i[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(_i){return[parseInt(_i[1]+_i[1],16),parseInt(_i[2]+_i[2],16),parseInt(_i[3]+_i[3],16)]}}],yt=0;yt<mt.length;yt++){var St=mt[yt].process,Tt=mt[yt].re.exec(pe);Tt&&(Ge=St(Tt),this.r=Ge[0],this.g=Ge[1],this.b=Ge[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:255<this.r?255:this.r,this.g=this.g<0||isNaN(this.g)?0:255<this.g?255:this.g,this.b=this.b<0||isNaN(this.b)?0:255<this.b?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var _i=this.r.toString(16),mi=this.g.toString(16),Ui=this.b.toString(16);return 1==_i.length&&(_i="0"+_i),1==mi.length&&(mi="0"+mi),1==Ui.length&&(Ui="0"+Ui),"#"+_i+mi+Ui}},function(pe){var Ge="+".charCodeAt(0),it="/".charCodeAt(0),ht="0".charCodeAt(0),mt="a".charCodeAt(0),yt="A".charCodeAt(0),Ot="-".charCodeAt(0),St="_".charCodeAt(0),Tt=function(Ii){var Jt=Ii.charCodeAt(0);return Jt===Ge||Jt===Ot?62:Jt===it||Jt===St?63:Jt<ht?-1:Jt<ht+10?Jt-ht+26+26:Jt<yt+26?Jt-yt:Jt<mt+26?Jt-mt+26:void 0};pe.API.TTFFont=function(){function Ii(Jt,Ct,Gt){var gi;if(this.rawData=Jt,gi=this.contents=new mi(Jt),this.contents.pos=4,"ttcf"===gi.readString(4))throw Ct?new Error("Font "+Ct+" not found in TTC file."):new Error("Must specify a font name for TTC files.");gi.pos=0,this.parse(),this.subset=new ci(this),this.registerTTF()}return Ii.open=function(Jt,Ct,Gt,gi){if("string"!=typeof Gt)throw new Error("Invalid argument supplied in TTFFont.open");return new Ii(function(kt){var oi,ei,Ai,Si,yi,en;if(0<kt.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var un=kt.length;yi="="===kt.charAt(un-2)?2:"="===kt.charAt(un-1)?1:0,en=new Uint8Array(3*kt.length/4-yi),Ai=0<yi?kt.length-4:kt.length;var On=0;function Gn(ln){en[On++]=ln}for(ei=oi=0;oi<Ai;oi+=4,ei+=3)Gn((16711680&(Si=Tt(kt.charAt(oi))<<18|Tt(kt.charAt(oi+1))<<12|Tt(kt.charAt(oi+2))<<6|Tt(kt.charAt(oi+3))))>>16),Gn((65280&Si)>>8),Gn(255&Si);return 2===yi?Gn(255&(Si=Tt(kt.charAt(oi))<<2|Tt(kt.charAt(oi+1))>>4)):1===yi&&(Gn((Si=Tt(kt.charAt(oi))<<10|Tt(kt.charAt(oi+1))<<4|Tt(kt.charAt(oi+2))>>2)>>8&255),Gn(255&Si)),en}(Gt),Ct,gi)},Ii.prototype.parse=function(){return this.directory=new Ui(this.contents),this.head=new ui(this),this.name=new Tn(this),this.cmap=new Di(this),this.toUnicode=new Map,this.hhea=new Oi(this),this.maxp=new bn(this),this.hmtx=new Li(this),this.post=new Zi(this),this.os2=new Vi(this),this.loca=new $t(this),this.glyf=new $i(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},Ii.prototype.registerTTF=function(){var Ct,Gt,gi,kt;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var oi,ei,Ai,Si;for(Si=[],oi=0,ei=(Ai=this.bbox).length;oi<ei;oi++)Si.push(Math.round(Ai[oi]*this.scaleFactor));return Si}.call(this),this.stemV=0,this.post.exists?(Gt=255&(gi=this.post.italic_angle),!0&(Ct=gi>>16)&&(Ct=-(1+(65535^Ct))),this.italicAngle=+(Ct+"."+Gt)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(kt=this.familyClass)||2===kt||3===kt||4===kt||5===kt||7===kt,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},Ii.prototype.characterToGlyph=function(Jt){var Ct;return(null!=(Ct=this.cmap.unicode)?Ct.codeMap[Jt]:void 0)||0},Ii.prototype.widthOfGlyph=function(Jt){var Ct;return Ct=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(Jt).advance*Ct},Ii.prototype.widthOfString=function(Jt,Ct,Gt){var gi,kt,oi,ei,Ai;for(kt=ei=oi=0,Ai=(Jt=""+Jt).length;0<=Ai?ei<Ai:Ai<ei;kt=0<=Ai?++ei:--ei)gi=Jt.charCodeAt(kt),oi+=this.widthOfGlyph(this.characterToGlyph(gi))+Gt*(1e3/Ct)||0;return oi*(Ct/1e3)},Ii.prototype.lineHeight=function(Jt,Ct){return null==Ct&&(Ct=!1),(this.ascender+(Ct?this.lineGap:0)-this.decender)/1e3*Jt},Ii}();var _i,mi=function(){function Ii(Jt){this.data=null!=Jt?Jt:[],this.pos=0,this.length=this.data.length}return Ii.prototype.readByte=function(){return this.data[this.pos++]},Ii.prototype.writeByte=function(Jt){return this.data[this.pos++]=Jt},Ii.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},Ii.prototype.writeUInt32=function(Jt){return this.writeByte(Jt>>>24&255),this.writeByte(Jt>>16&255),this.writeByte(Jt>>8&255),this.writeByte(255&Jt)},Ii.prototype.readInt32=function(){var Jt;return 2147483648<=(Jt=this.readUInt32())?Jt-4294967296:Jt},Ii.prototype.writeInt32=function(Jt){return Jt<0&&(Jt+=4294967296),this.writeUInt32(Jt)},Ii.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},Ii.prototype.writeUInt16=function(Jt){return this.writeByte(Jt>>8&255),this.writeByte(255&Jt)},Ii.prototype.readInt16=function(){var Jt;return 32768<=(Jt=this.readUInt16())?Jt-65536:Jt},Ii.prototype.writeInt16=function(Jt){return Jt<0&&(Jt+=65536),this.writeUInt16(Jt)},Ii.prototype.readString=function(Jt){var Ct,Gt,gi;for(Gt=[],Ct=gi=0;0<=Jt?gi<Jt:Jt<gi;Ct=0<=Jt?++gi:--gi)Gt[Ct]=String.fromCharCode(this.readByte());return Gt.join("")},Ii.prototype.writeString=function(Jt){var Ct,Gt,gi,kt;for(kt=[],Ct=Gt=0,gi=Jt.length;0<=gi?Gt<gi:gi<Gt;Ct=0<=gi?++Gt:--Gt)kt.push(this.writeByte(Jt.charCodeAt(Ct)));return kt},Ii.prototype.readShort=function(){return this.readInt16()},Ii.prototype.writeShort=function(Jt){return this.writeInt16(Jt)},Ii.prototype.readLongLong=function(){var Jt,Ct,Gt,gi,kt,oi,ei,Ai;return Jt=this.readByte(),Ct=this.readByte(),Gt=this.readByte(),gi=this.readByte(),kt=this.readByte(),oi=this.readByte(),ei=this.readByte(),Ai=this.readByte(),128&Jt?-1*(72057594037927940*(255^Jt)+281474976710656*(255^Ct)+1099511627776*(255^Gt)+4294967296*(255^gi)+16777216*(255^kt)+65536*(255^oi)+256*(255^ei)+(255^Ai)+1):72057594037927940*Jt+281474976710656*Ct+1099511627776*Gt+4294967296*gi+16777216*kt+65536*oi+256*ei+Ai},Ii.prototype.writeLongLong=function(Jt){var Ct,Gt;return Ct=Math.floor(Jt/4294967296),Gt=4294967295&Jt,this.writeByte(Ct>>24&255),this.writeByte(Ct>>16&255),this.writeByte(Ct>>8&255),this.writeByte(255&Ct),this.writeByte(Gt>>24&255),this.writeByte(Gt>>16&255),this.writeByte(Gt>>8&255),this.writeByte(255&Gt)},Ii.prototype.readInt=function(){return this.readInt32()},Ii.prototype.writeInt=function(Jt){return this.writeInt32(Jt)},Ii.prototype.read=function(Jt){var Ct,Gt;for(Ct=[],Gt=0;0<=Jt?Gt<Jt:Jt<Gt;0<=Jt?++Gt:--Gt)Ct.push(this.readByte());return Ct},Ii.prototype.write=function(Jt){var Gt,gi,kt;for(kt=[],Gt=0,gi=Jt.length;Gt<gi;Gt++)kt.push(this.writeByte(Jt[Gt]));return kt},Ii}(),Ui=function(){var Ii;function Jt(Ct){var Gt,gi,kt;for(this.scalarType=Ct.readInt(),this.tableCount=Ct.readShort(),this.searchRange=Ct.readShort(),this.entrySelector=Ct.readShort(),this.rangeShift=Ct.readShort(),this.tables={},gi=0,kt=this.tableCount;0<=kt?gi<kt:kt<gi;0<=kt?++gi:--gi)Gt={tag:Ct.readString(4),checksum:Ct.readInt(),offset:Ct.readInt(),length:Ct.readInt()},this.tables[Gt.tag]=Gt}return Jt.prototype.encode=function(Ct){var Gt,gi,oi,ei,Ai,Si,yi,en,un,On,Gn,ln;for(ln in On=Object.keys(Ct).length,Ai=Math.log(2),en=16*Math.floor(Math.log(On)/Ai),oi=Math.floor(en/Ai),yi=16*On-en,(gi=new mi).writeInt(this.scalarType),gi.writeShort(On),gi.writeShort(en),gi.writeShort(oi),gi.writeShort(yi),Si=gi.pos+16*On,ei=null,Gn=[],Ct)for(un=Ct[ln],gi.writeString(ln),gi.writeInt(Ii(un)),gi.writeInt(Si),gi.writeInt(un.length),Gn=Gn.concat(un),"head"===ln&&(ei=Si),Si+=un.length;Si%4;)Gn.push(0),Si++;return gi.write(Gn),Gt=2981146554-Ii(gi.data),gi.pos=ei+8,gi.writeUInt32(Gt),gi.data},Ii=function(Ct){var Gt,gi,kt,oi;for(Ct=si.call(Ct);Ct.length%4;)Ct.push(0);for(gi=new mi(Ct),kt=Gt=0,oi=Ct.length;kt<oi;kt+=4)Gt+=gi.readUInt32();return 4294967295&Gt},Jt}(),Ft={}.hasOwnProperty,ti=function(Ii,Jt){for(var Ct in Jt)Ft.call(Jt,Ct)&&(Ii[Ct]=Jt[Ct]);function Gt(){this.constructor=Ii}return Gt.prototype=Jt.prototype,Ii.prototype=new Gt,Ii.__super__=Jt.prototype,Ii};_i=function(){function Ii(Jt){var Ct;this.file=Jt,this.exists=!!(Ct=this.file.directory.tables[this.tag]),Ct&&(this.offset=Ct.offset,this.length=Ct.length,this.parse(this.file.contents))}return Ii.prototype.parse=function(){},Ii.prototype.encode=function(){},Ii.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},Ii}();var ui=function(Ii){function Jt(){return Jt.__super__.constructor.apply(this,arguments)}return ti(Jt,_i),Jt.prototype.tag="head",Jt.prototype.parse=function(Ct){return Ct.pos=this.offset,this.version=Ct.readInt(),this.revision=Ct.readInt(),this.checkSumAdjustment=Ct.readInt(),this.magicNumber=Ct.readInt(),this.flags=Ct.readShort(),this.unitsPerEm=Ct.readShort(),this.created=Ct.readLongLong(),this.modified=Ct.readLongLong(),this.xMin=Ct.readShort(),this.yMin=Ct.readShort(),this.xMax=Ct.readShort(),this.yMax=Ct.readShort(),this.macStyle=Ct.readShort(),this.lowestRecPPEM=Ct.readShort(),this.fontDirectionHint=Ct.readShort(),this.indexToLocFormat=Ct.readShort(),this.glyphDataFormat=Ct.readShort()},Jt.prototype.encode=function(Ct){var Gt;return(Gt=new mi).writeInt(this.version),Gt.writeInt(this.revision),Gt.writeInt(this.checkSumAdjustment),Gt.writeInt(this.magicNumber),Gt.writeShort(this.flags),Gt.writeShort(this.unitsPerEm),Gt.writeLongLong(this.created),Gt.writeLongLong(this.modified),Gt.writeShort(this.xMin),Gt.writeShort(this.yMin),Gt.writeShort(this.xMax),Gt.writeShort(this.yMax),Gt.writeShort(this.macStyle),Gt.writeShort(this.lowestRecPPEM),Gt.writeShort(this.fontDirectionHint),Gt.writeShort(Ct),Gt.writeShort(this.glyphDataFormat),Gt.data},Jt}(),vi=function(){function Ii(Jt,Ct){var Gt,gi,kt,oi,ei,Ai,Si,yi,en,un,On,Gn,ln,$n,In,rr,wi,Hi;switch(this.platformID=Jt.readUInt16(),this.encodingID=Jt.readShort(),this.offset=Ct+Jt.readInt(),en=Jt.pos,Jt.pos=this.offset,this.format=Jt.readUInt16(),this.length=Jt.readUInt16(),this.language=Jt.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(Ai=In=0;In<256;Ai=++In)this.codeMap[Ai]=Jt.readByte();break;case 4:for(On=Jt.readUInt16(),un=On/2,Jt.pos+=6,kt=function(){var xi,Ni;for(Ni=[],Ai=xi=0;0<=un?xi<un:un<xi;Ai=0<=un?++xi:--xi)Ni.push(Jt.readUInt16());return Ni}(),Jt.pos+=2,ln=function(){var xi,Ni;for(Ni=[],Ai=xi=0;0<=un?xi<un:un<xi;Ai=0<=un?++xi:--xi)Ni.push(Jt.readUInt16());return Ni}(),Si=function(){var xi,Ni;for(Ni=[],Ai=xi=0;0<=un?xi<un:un<xi;Ai=0<=un?++xi:--xi)Ni.push(Jt.readUInt16());return Ni}(),yi=function(){var xi,Ni;for(Ni=[],Ai=xi=0;0<=un?xi<un:un<xi;Ai=0<=un?++xi:--xi)Ni.push(Jt.readUInt16());return Ni}(),gi=(this.length-Jt.pos+this.offset)/2,ei=function(){var xi,Ni;for(Ni=[],Ai=xi=0;0<=gi?xi<gi:gi<xi;Ai=0<=gi?++xi:--xi)Ni.push(Jt.readUInt16());return Ni}(),Ai=rr=0,Hi=kt.length;rr<Hi;Ai=++rr)for($n=kt[Ai],Gt=wi=Gn=ln[Ai];Gn<=$n?wi<=$n:$n<=wi;Gt=Gn<=$n?++wi:--wi)0===yi[Ai]?oi=Gt+Si[Ai]:0!==(oi=ei[yi[Ai]/2+(Gt-Gn)-(un-Ai)]||0)&&(oi+=Si[Ai]),this.codeMap[Gt]=65535&oi}Jt.pos=en}return Ii.encode=function(Jt,Ct){var Gt,gi,kt,oi,ei,Ai,Si,yi,en,un,On,Gn,ln,$n,In,rr,wi,xi,Ni,Ji,mn,Xn,Zt,di,ai,Bi,hn,cn,Sn,En,bi,Qi,ki,xn,cr,Dn,gr,pr,Dr,zn,ro,Yn,Ut,ii,Fi;switch(hn=new mi,oi=Object.keys(Jt).sort(function(dn,jn){return dn-jn}),Ct){case"macroman":for(ln=0,$n=function(){var dn,jn;for(jn=[],Gn=dn=0;dn<256;Gn=++dn)jn.push(0);return jn}(),rr={0:0},kt={},cn=0,Qi=oi.length;cn<Qi;cn++)null==rr[Yn=Jt[gi=oi[cn]]]&&(rr[Yn]=++ln),kt[gi]={old:Jt[gi],new:rr[Jt[gi]]},$n[gi]=rr[Jt[gi]];return hn.writeUInt16(1),hn.writeUInt16(0),hn.writeUInt32(12),hn.writeUInt16(0),hn.writeUInt16(262),hn.writeUInt16(0),hn.write($n),{charMap:kt,subtable:hn.data,maxGlyphID:ln+1};case"unicode":for(ai=[],en=[],rr={},Gt={},In=Si=null,Sn=wi=0,ki=oi.length;Sn<ki;Sn++)null==rr[xi=Jt[gi=oi[Sn]]]&&(rr[xi]=++wi),Gt[gi]={old:xi,new:rr[xi]},ei=rr[xi]-gi,null!=In&&ei===Si||(In&&en.push(In),ai.push(gi),Si=ei),In=gi;for(In&&en.push(In),en.push(65535),ai.push(65535),Zt=2*(Xn=ai.length),mn=2*Math.pow(Math.log(Xn)/Math.LN2,2),un=Math.log(mn/2)/Math.LN2,Ji=2*Xn-mn,Ai=[],Ni=[],On=[],Gn=En=0,xn=ai.length;En<xn;Gn=++En){if(yi=en[Gn],65535===(di=ai[Gn])){Ai.push(0),Ni.push(0);break}if(32768<=di-(Bi=Gt[di].new))for(Ai.push(0),Ni.push(2*(On.length+Xn-Gn)),gi=bi=di;di<=yi?bi<=yi:yi<=bi;gi=di<=yi?++bi:--bi)On.push(Gt[gi].new);else Ai.push(Bi-di),Ni.push(0)}for(hn.writeUInt16(3),hn.writeUInt16(1),hn.writeUInt32(12),hn.writeUInt16(4),hn.writeUInt16(16+8*Xn+2*On.length),hn.writeUInt16(0),hn.writeUInt16(Zt),hn.writeUInt16(mn),hn.writeUInt16(un),hn.writeUInt16(Ji),zn=0,cr=en.length;zn<cr;zn++)hn.writeUInt16(gi=en[zn]);for(hn.writeUInt16(0),ro=0,Dn=ai.length;ro<Dn;ro++)hn.writeUInt16(gi=ai[ro]);for(Ut=0,gr=Ai.length;Ut<gr;Ut++)hn.writeUInt16(ei=Ai[Ut]);for(ii=0,pr=Ni.length;ii<pr;ii++)hn.writeUInt16(Ni[ii]);for(Fi=0,Dr=On.length;Fi<Dr;Fi++)hn.writeUInt16(ln=On[Fi]);return{charMap:Gt,subtable:hn.data,maxGlyphID:wi+1}}},Ii}(),Di=function(Ii){function Jt(){return Jt.__super__.constructor.apply(this,arguments)}return ti(Jt,_i),Jt.prototype.tag="cmap",Jt.prototype.parse=function(Ct){var Gt,gi,kt;for(Ct.pos=this.offset,this.version=Ct.readUInt16(),gi=Ct.readUInt16(),this.tables=[],this.unicode=null,kt=0;0<=gi?kt<gi:gi<kt;0<=gi?++kt:--kt)Gt=new vi(Ct,this.offset),this.tables.push(Gt),Gt.isUnicode&&null==this.unicode&&(this.unicode=Gt);return!0},Jt.encode=function(Ct,Gt){var gi,kt;return null==Gt&&(Gt="macroman"),gi=vi.encode(Ct,Gt),(kt=new mi).writeUInt16(0),kt.writeUInt16(1),gi.table=kt.data.concat(gi.subtable),gi},Jt}(),Oi=function(Ii){function Jt(){return Jt.__super__.constructor.apply(this,arguments)}return ti(Jt,_i),Jt.prototype.tag="hhea",Jt.prototype.parse=function(Ct){return Ct.pos=this.offset,this.version=Ct.readInt(),this.ascender=Ct.readShort(),this.decender=Ct.readShort(),this.lineGap=Ct.readShort(),this.advanceWidthMax=Ct.readShort(),this.minLeftSideBearing=Ct.readShort(),this.minRightSideBearing=Ct.readShort(),this.xMaxExtent=Ct.readShort(),this.caretSlopeRise=Ct.readShort(),this.caretSlopeRun=Ct.readShort(),this.caretOffset=Ct.readShort(),Ct.pos+=8,this.metricDataFormat=Ct.readShort(),this.numberOfMetrics=Ct.readUInt16()},Jt}(),Vi=function(Ii){function Jt(){return Jt.__super__.constructor.apply(this,arguments)}return ti(Jt,_i),Jt.prototype.tag="OS/2",Jt.prototype.parse=function(Ct){if(Ct.pos=this.offset,this.version=Ct.readUInt16(),this.averageCharWidth=Ct.readShort(),this.weightClass=Ct.readUInt16(),this.widthClass=Ct.readUInt16(),this.type=Ct.readShort(),this.ySubscriptXSize=Ct.readShort(),this.ySubscriptYSize=Ct.readShort(),this.ySubscriptXOffset=Ct.readShort(),this.ySubscriptYOffset=Ct.readShort(),this.ySuperscriptXSize=Ct.readShort(),this.ySuperscriptYSize=Ct.readShort(),this.ySuperscriptXOffset=Ct.readShort(),this.ySuperscriptYOffset=Ct.readShort(),this.yStrikeoutSize=Ct.readShort(),this.yStrikeoutPosition=Ct.readShort(),this.familyClass=Ct.readShort(),this.panose=function(){var Gt,gi;for(gi=[],Gt=0;Gt<10;++Gt)gi.push(Ct.readByte());return gi}(),this.charRange=function(){var Gt,gi;for(gi=[],Gt=0;Gt<4;++Gt)gi.push(Ct.readInt());return gi}(),this.vendorID=Ct.readString(4),this.selection=Ct.readShort(),this.firstCharIndex=Ct.readShort(),this.lastCharIndex=Ct.readShort(),0<this.version&&(this.ascent=Ct.readShort(),this.descent=Ct.readShort(),this.lineGap=Ct.readShort(),this.winAscent=Ct.readShort(),this.winDescent=Ct.readShort(),this.codePageRange=function(){var Gt,gi;for(gi=[],Gt=0;Gt<2;++Gt)gi.push(Ct.readInt());return gi}(),1<this.version))return this.xHeight=Ct.readShort(),this.capHeight=Ct.readShort(),this.defaultChar=Ct.readShort(),this.breakChar=Ct.readShort(),this.maxContext=Ct.readShort()},Jt}(),Zi=function(Ii){function Jt(){return Jt.__super__.constructor.apply(this,arguments)}return ti(Jt,_i),Jt.prototype.tag="post",Jt.prototype.parse=function(Ct){var Gt,gi,kt,oi;switch(Ct.pos=this.offset,this.format=Ct.readInt(),this.italicAngle=Ct.readInt(),this.underlinePosition=Ct.readShort(),this.underlineThickness=Ct.readShort(),this.isFixedPitch=Ct.readInt(),this.minMemType42=Ct.readInt(),this.maxMemType42=Ct.readInt(),this.minMemType1=Ct.readInt(),this.maxMemType1=Ct.readInt(),this.format){case 65536:case 196608:break;case 131072:for(gi=Ct.readUInt16(),this.glyphNameIndex=[],kt=0;0<=gi?kt<gi:gi<kt;0<=gi?++kt:--kt)this.glyphNameIndex.push(Ct.readUInt16());for(this.names=[],oi=[];Ct.pos<this.offset+this.length;)Gt=Ct.readByte(),oi.push(this.names.push(Ct.readString(Gt)));return oi;case 151552:return gi=Ct.readUInt16(),this.offsets=Ct.read(gi);case 262144:return this.map=function(){var ei,Ai,Si;for(Si=[],ei=0,Ai=this.file.maxp.numGlyphs;0<=Ai?ei<Ai:Ai<ei;0<=Ai?++ei:--ei)Si.push(Ct.readUInt32());return Si}.call(this)}},Jt}(),nn=function(Ii,Jt){this.raw=Ii,this.length=Ii.length,this.platformID=Jt.platformID,this.encodingID=Jt.encodingID,this.languageID=Jt.languageID},Tn=function(Ii){function Jt(){return Jt.__super__.constructor.apply(this,arguments)}return ti(Jt,_i),Jt.prototype.tag="name",Jt.prototype.parse=function(Ct){var Gt,gi,kt,oi,ei,Ai,Si,yi,en,un,On,Gn;for(Ct.pos=this.offset,Ct.readShort(),Gt=Ct.readShort(),Ai=Ct.readShort(),gi=[],oi=en=0;0<=Gt?en<Gt:Gt<en;oi=0<=Gt?++en:--en)gi.push({platformID:Ct.readShort(),encodingID:Ct.readShort(),languageID:Ct.readShort(),nameID:Ct.readShort(),length:Ct.readShort(),offset:this.offset+Ai+Ct.readShort()});for(Si={},oi=un=0,On=gi.length;un<On;oi=++un)Ct.pos=(kt=gi[oi]).offset,yi=Ct.readString(kt.length),ei=new nn(yi,kt),null==Si[Gn=kt.nameID]&&(Si[Gn]=[]),Si[kt.nameID].push(ei);this.strings=Si,this.copyright=Si[0],this.fontFamily=Si[1],this.fontSubfamily=Si[2],this.uniqueSubfamily=Si[3],this.fontName=Si[4],this.version=Si[5];try{this.postscriptName=Si[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(ln){this.postscriptName=Si[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=Si[7],this.manufacturer=Si[8],this.designer=Si[9],this.description=Si[10],this.vendorUrl=Si[11],this.designerUrl=Si[12],this.license=Si[13],this.licenseUrl=Si[14],this.preferredFamily=Si[15],this.preferredSubfamily=Si[17],this.compatibleFull=Si[18],this.sampleText=Si[19]},Jt}(),bn=function(Ii){function Jt(){return Jt.__super__.constructor.apply(this,arguments)}return ti(Jt,_i),Jt.prototype.tag="maxp",Jt.prototype.parse=function(Ct){return Ct.pos=this.offset,this.version=Ct.readInt(),this.numGlyphs=Ct.readUInt16(),this.maxPoints=Ct.readUInt16(),this.maxContours=Ct.readUInt16(),this.maxCompositePoints=Ct.readUInt16(),this.maxComponentContours=Ct.readUInt16(),this.maxZones=Ct.readUInt16(),this.maxTwilightPoints=Ct.readUInt16(),this.maxStorage=Ct.readUInt16(),this.maxFunctionDefs=Ct.readUInt16(),this.maxInstructionDefs=Ct.readUInt16(),this.maxStackElements=Ct.readUInt16(),this.maxSizeOfInstructions=Ct.readUInt16(),this.maxComponentElements=Ct.readUInt16(),this.maxComponentDepth=Ct.readUInt16()},Jt}(),Li=function(Ii){function Jt(){return Jt.__super__.constructor.apply(this,arguments)}return ti(Jt,_i),Jt.prototype.tag="hmtx",Jt.prototype.parse=function(Ct){var Gt,gi,oi,ei,Ai,Si;for(Ct.pos=this.offset,this.metrics=[],oi=0,Ai=this.file.hhea.numberOfMetrics;0<=Ai?oi<Ai:Ai<oi;0<=Ai?++oi:--oi)this.metrics.push({advance:Ct.readUInt16(),lsb:Ct.readInt16()});for(gi=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var yi,en;for(en=[],yi=0;0<=gi?yi<gi:gi<yi;0<=gi?++yi:--yi)en.push(Ct.readInt16());return en}(),this.widths=function(){var yi,en,un,On;for(On=[],yi=0,en=(un=this.metrics).length;yi<en;yi++)On.push(un[yi].advance);return On}.call(this),Gt=this.widths[this.widths.length-1],Si=[],ei=0;0<=gi?ei<gi:gi<ei;0<=gi?++ei:--ei)Si.push(this.widths.push(Gt));return Si},Jt.prototype.forGlyph=function(Ct){return Ct in this.metrics?this.metrics[Ct]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[Ct-this.metrics.length]}},Jt}(),si=[].slice,$i=function(Ii){function Jt(){return Jt.__super__.constructor.apply(this,arguments)}return ti(Jt,_i),Jt.prototype.tag="glyf",Jt.prototype.parse=function(Ct){return this.cache={}},Jt.prototype.glyphFor=function(Ct){var Gt,gi,kt,oi,ei,Ai,Si,yi,en,un;return(Ct=Ct)in this.cache?this.cache[Ct]:(Gt=this.file.contents,gi=(oi=this.file.loca).indexOf(Ct),0===(kt=oi.lengthOf(Ct))?this.cache[Ct]=null:(Gt.pos=this.offset+gi,ei=(Ai=new mi(Gt.read(kt))).readShort(),yi=Ai.readShort(),un=Ai.readShort(),Si=Ai.readShort(),en=Ai.readShort(),this.cache[Ct]=-1===ei?new Ht(Ai,yi,un,Si,en):new Ye(Ai,ei,yi,un,Si,en),this.cache[Ct]))},Jt.prototype.encode=function(Ct,Gt,gi){var kt,oi,ei,Ai,Si;for(ei=[],oi=[],Ai=0,Si=Gt.length;Ai<Si;Ai++)kt=Ct[Gt[Ai]],oi.push(ei.length),kt&&(ei=ei.concat(kt.encode(gi)));return oi.push(ei.length),{table:ei,offsets:oi}},Jt}(),Ye=function(){function Ii(Jt,Ct,Gt,gi,kt,oi){this.raw=Jt,this.numberOfContours=Ct,this.xMin=Gt,this.yMin=gi,this.xMax=kt,this.yMax=oi,this.compound=!1}return Ii.prototype.encode=function(){return this.raw.data},Ii}(),Ht=function(){function Ii(Jt,Ct,Gt,gi,kt){var oi,ei;for(this.raw=Jt,this.xMin=Ct,this.yMin=Gt,this.xMax=gi,this.yMax=kt,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],oi=this.raw;ei=oi.readShort(),this.glyphOffsets.push(oi.pos),this.glyphIDs.push(oi.readShort()),32&ei;)oi.pos+=1&ei?4:2,128&ei?oi.pos+=8:64&ei?oi.pos+=4:8&ei&&(oi.pos+=2)}return Ii.prototype.encode=function(Jt){var Ct,Gt,gi,kt;for(Gt=new mi(si.call(this.raw.data)),Ct=gi=0,kt=this.glyphIDs.length;gi<kt;Ct=++gi)Gt.pos=this.glyphOffsets[Ct];return Gt.data},Ii}(),$t=function(Ii){function Jt(){return Jt.__super__.constructor.apply(this,arguments)}return ti(Jt,_i),Jt.prototype.tag="loca",Jt.prototype.parse=function(Ct){return Ct.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?function(){var gi,kt,oi;for(oi=[],gi=0,kt=this.length;gi<kt;gi+=2)oi.push(2*Ct.readUInt16());return oi}.call(this):function(){var gi,kt,oi;for(oi=[],gi=0,kt=this.length;gi<kt;gi+=4)oi.push(Ct.readUInt32());return oi}.call(this)},Jt.prototype.indexOf=function(Ct){return this.offsets[Ct]},Jt.prototype.lengthOf=function(Ct){return this.offsets[Ct+1]-this.offsets[Ct]},Jt.prototype.encode=function(Ct,Gt){for(var gi=new Uint32Array(this.offsets.length),kt=0,oi=0,ei=0;ei<gi.length;++ei)if(gi[ei]=kt,oi<Gt.length&&Gt[oi]==ei){++oi,gi[ei]=kt;var Si=this.offsets[ei+1]-this.offsets[ei];0<Si&&(kt+=Si)}for(var yi=new Array(4*gi.length),en=0;en<gi.length;++en)yi[4*en+3]=255&gi[en],yi[4*en+2]=(65280&gi[en])>>8,yi[4*en+1]=(16711680&gi[en])>>16,yi[4*en]=(4278190080&gi[en])>>24;return yi},Jt}(),ci=function(){function Ii(Jt){this.font=Jt,this.subset={},this.unicodes={},this.next=33}return Ii.prototype.generateCmap=function(){var Jt,Ct,gi,kt;for(Ct in gi=this.font.cmap.tables[0].codeMap,Jt={},kt=this.subset)Jt[Ct]=gi[kt[Ct]];return Jt},Ii.prototype.glyphsFor=function(Jt){var Ct,Gt,gi,kt,oi,ei,Ai;for(gi={},oi=0,ei=Jt.length;oi<ei;oi++)gi[kt=Jt[oi]]=this.font.glyf.glyphFor(kt);for(kt in Ct=[],gi)(null!=(Gt=gi[kt])?Gt.compound:void 0)&&Ct.push.apply(Ct,Gt.glyphIDs);if(0<Ct.length)for(kt in Ai=this.glyphsFor(Ct))gi[kt]=Gt=Ai[kt];return gi},Ii.prototype.encode=function(Jt,Ct){var Gt,gi,kt,oi,Ai,Si,yi,en,un,On,Gn,ln,$n,In;for(gi in Gt=Di.encode(this.generateCmap(),"unicode"),oi=this.glyphsFor(Jt),On={0:0},In=Gt.charMap)On[(Ai=In[gi]).old]=Ai.new;for(Gn in un=Gt.maxGlyphID,oi)Gn in On||(On[Gn]=un++);return yi=function(rr){var wi,Hi;for(wi in Hi={},rr)Hi[rr[wi]]=wi;return Hi}(On),en=Object.keys(yi).sort(function(rr,wi){return rr-wi}),ln=function(){var rr,wi,Hi;for(Hi=[],rr=0,wi=en.length;rr<wi;rr++)Hi.push(yi[en[rr]]);return Hi}(),kt=this.font.glyf.encode(oi,ln,On),Si=this.font.loca.encode(kt.offsets,ln),$n={cmap:this.font.cmap.raw(),glyf:kt.table,loca:Si,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(Ct)},this.font.os2.exists&&($n["OS/2"]=this.font.os2.raw()),this.font.directory.encode($n)},Ii}();pe.API.PDFObject=function(){var Ii;function Jt(){}return Ii=function(Ct,Gt){return(Array(Gt+1).join("0")+Ct).slice(-Gt)},Jt.convert=function(Ct){var gi,kt;if(Array.isArray(Ct))return"["+function(){var ei,Ai,Si;for(Si=[],ei=0,Ai=Ct.length;ei<Ai;ei++)Si.push(Jt.convert(Ct[ei]));return Si}().join(" ")+"]";if("string"==typeof Ct)return"/"+Ct;if(null!=Ct?Ct.isString:void 0)return"("+Ct+")";if(Ct instanceof Date)return"(D:"+Ii(Ct.getUTCFullYear(),4)+Ii(Ct.getUTCMonth(),2)+Ii(Ct.getUTCDate(),2)+Ii(Ct.getUTCHours(),2)+Ii(Ct.getUTCMinutes(),2)+Ii(Ct.getUTCSeconds(),2)+"Z)";if("[object Object]"!=={}.toString.call(Ct))return""+Ct;for(gi in kt=["<<"],Ct)kt.push("/"+gi+" "+Jt.convert(Ct[gi]));return kt.push(">>"),kt.join("\n")},Jt}()}(kn),X="undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")(),ie=function(){var pe,Ge,it;function ht(mt){var yt,St,Tt,_i,mi,Ui,Ft,ti,ui,vi,Di,Oi,Vi;for(this.data=mt,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},mi=null;;){switch(yt=this.readUInt32(),ti=function(){var Zi,nn;for(nn=[],Zi=0;Zi<4;++Zi)nn.push(String.fromCharCode(this.data[this.pos++]));return nn}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(yt);break;case"fcTL":mi&&this.animation.frames.push(mi),this.pos+=4,mi={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},_i=this.readUInt16(),Tt=this.readUInt16()||100,mi.delay=1e3*_i/Tt,mi.disposeOp=this.data[this.pos++],mi.blendOp=this.data[this.pos++],mi.data=[];break;case"IDAT":case"fdAT":for("fdAT"===ti&&(this.pos+=4,yt-=4),mt=(null!=mi?mi.data:void 0)||this.imgData,Di=0;0<=yt?Di<yt:yt<Di;0<=yt?++Di:--Di)mt.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(St=this.palette.length/3,this.transparency.indexed=this.read(yt),this.transparency.indexed.length>St)throw new Error("More transparent colors than palette size");if(0<(ui=St-this.transparency.indexed.length))for(Oi=0;0<=ui?Oi<ui:ui<Oi;0<=ui?++Oi:--Oi)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(yt)[0];break;case 2:this.transparency.rgb=this.read(yt)}break;case"tEXt":Ui=(vi=this.read(yt)).indexOf(0),Ft=String.fromCharCode.apply(String,vi.slice(0,Ui)),this.text[Ft]=String.fromCharCode.apply(String,vi.slice(Ui+1));break;case"IEND":return mi&&this.animation.frames.push(mi),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(Vi=this.colorType)||6===Vi,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=yt}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}ht.load=function(mt,yt,Ot){var St;return"function"==typeof yt&&(Ot=yt),(St=new XMLHttpRequest).open("GET",mt,!0),St.responseType="arraybuffer",St.onload=function(){var Tt;return Tt=new ht(new Uint8Array(St.response||St.mozResponseArrayBuffer)),"function"==typeof(null!=yt?yt.getContext:void 0)&&Tt.render(yt),"function"==typeof Ot?Ot(Tt):void 0},St.send(null)},ht.prototype.read=function(mt){var yt,Ot;for(Ot=[],yt=0;0<=mt?yt<mt:mt<yt;0<=mt?++yt:--yt)Ot.push(this.data[this.pos++]);return Ot},ht.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},ht.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},ht.prototype.decodePixels=function(mt){var yt=this.pixelBitlength/8,Ot=new Uint8Array(this.width*this.height*yt),St=0,Tt=this;if(null==mt&&(mt=this.imgData),0===mt.length)return new Uint8Array(0);function _i(mi,Ui,Ft,ti){var ui,vi,Di,Oi,Vi,Zi,nn,Tn,Li,si,$i,Ye,Ht,$t,ci,Ii,Jt,Ct,Gt,gi,kt=Math.ceil((Tt.width-mi)/Ft),oi=Math.ceil((Tt.height-Ui)/ti),ei=Tt.width==kt&&Tt.height==oi;for(Ht=yt*kt,$i=ei?Ot:new Uint8Array(Ht*oi),Zi=mt.length,vi=Ye=0;Ye<oi&&St<Zi;){switch(mt[St++]){case 0:for(Oi=Ii=0;Ii<Ht;Oi=Ii+=1)$i[vi++]=mt[St++];break;case 1:for(Oi=Jt=0;Jt<Ht;Oi=Jt+=1)ui=mt[St++],Vi=Oi<yt?0:$i[vi-yt],$i[vi++]=(ui+Vi)%256;break;case 2:for(Oi=Ct=0;Ct<Ht;Oi=Ct+=1)ui=mt[St++],Di=(Oi-Oi%yt)/yt,$i[vi++]=(($t=Ye&&$i[(Ye-1)*Ht+Di*yt+Oi%yt])+ui)%256;break;case 3:for(Oi=Gt=0;Gt<Ht;Oi=Gt+=1)ui=mt[St++],Di=(Oi-Oi%yt)/yt,Vi=Oi<yt?0:$i[vi-yt],$t=Ye&&$i[(Ye-1)*Ht+Di*yt+Oi%yt],$i[vi++]=(ui+Math.floor((Vi+$t)/2))%256;break;case 4:for(Oi=gi=0;gi<Ht;Oi=gi+=1)ui=mt[St++],Di=(Oi-Oi%yt)/yt,0===Ye?$t=ci=0:($t=$i[(Ye-1)*Ht+Di*yt+Oi%yt],ci=Di&&$i[(Ye-1)*Ht+(Di-1)*yt+Oi%yt]),nn=(Vi=Oi<yt?0:$i[vi-yt])+$t-ci,Tn=Math.abs(nn-Vi),Li=Math.abs(nn-$t),si=Math.abs(nn-ci),$i[vi++]=(ui+(Tn<=Li&&Tn<=si?Vi:Li<=si?$t:ci))%256;break;default:throw new Error("Invalid filter algorithm: "+mt[St-1])}if(!ei){var Ai=((Ui+Ye*ti)*Tt.width+mi)*yt,Si=Ye*Ht;for(Oi=0;Oi<kt;Oi+=1){for(var yi=0;yi<yt;yi+=1)Ot[Ai++]=$i[Si++];Ai+=(Ft-1)*yt}}Ye++}}return mt=(mt=new Mt(mt)).getBytes(),1==Tt.interlaceMethod?(_i(0,0,8,8),_i(4,0,8,8),_i(0,4,4,8),_i(2,0,4,4),_i(0,2,2,4),_i(1,0,2,2),_i(0,1,1,2)):_i(0,0,1,1),Ot},ht.prototype.decodePalette=function(){var mt,yt,Ot,St,Tt,_i,mi,Ui,Ft;for(Ot=this.palette,_i=this.transparency.indexed||[],Tt=new Uint8Array((_i.length||0)+Ot.length),St=0,yt=mi=mt=0,Ui=Ot.length;mi<Ui;yt=mi+=3)Tt[St++]=Ot[yt],Tt[St++]=Ot[yt+1],Tt[St++]=Ot[yt+2],Tt[St++]=null!=(Ft=_i[mt++])?Ft:255;return Tt},ht.prototype.copyToImageData=function(mt,yt){var Ot,St,Tt,_i,mi,Ui,Ft,ti,ui,vi,Di;if(St=this.colors,ui=null,Ot=this.hasAlphaChannel,this.palette.length&&(ui=null!=(Di=this._decodedPalette)?Di:this._decodedPalette=this.decodePalette(),St=4,Ot=!0),ti=(Tt=mt.data||mt).length,mi=ui||yt,_i=Ui=0,1===St)for(;_i<ti;)Ft=ui?4*yt[_i/4]:Ui,vi=mi[Ft++],Tt[_i++]=vi,Tt[_i++]=vi,Tt[_i++]=vi,Tt[_i++]=Ot?mi[Ft++]:255,Ui=Ft;else for(;_i<ti;)Ft=ui?4*yt[_i/4]:Ui,Tt[_i++]=mi[Ft++],Tt[_i++]=mi[Ft++],Tt[_i++]=mi[Ft++],Tt[_i++]=Ot?mi[Ft++]:255,Ui=Ft},ht.prototype.decode=function(){var mt;return mt=new Uint8Array(this.width*this.height*4),this.copyToImageData(mt,this.decodePixels()),mt};try{Ge=X.document.createElement("canvas"),it=Ge.getContext("2d")}catch(mt){return-1}return pe=function(mt){var yt;return it.width=mt.width,it.height=mt.height,it.clearRect(0,0,mt.width,mt.height),it.putImageData(mt,0,0),(yt=new Image).src=Ge.toDataURL(),yt},ht.prototype.decodeFrames=function(mt){var yt,Ot,St,Tt,_i,mi,Ui,Ft;if(this.animation){for(Ft=[],Ot=_i=0,mi=(Ui=this.animation.frames).length;_i<mi;Ot=++_i)St=mt.createImageData((yt=Ui[Ot]).width,yt.height),Tt=this.decodePixels(new Uint8Array(yt.data)),this.copyToImageData(St,Tt),yt.imageData=St,Ft.push(yt.image=pe(St));return Ft}},ht.prototype.renderFrame=function(mt,yt){var Ot,St,Tt;return Ot=(St=this.animation.frames)[yt],Tt=St[yt-1],0===yt&&mt.clearRect(0,0,this.width,this.height),1===(null!=Tt?Tt.disposeOp:void 0)?mt.clearRect(Tt.xOffset,Tt.yOffset,Tt.width,Tt.height):2===(null!=Tt?Tt.disposeOp:void 0)&&mt.putImageData(Tt.imageData,Tt.xOffset,Tt.yOffset),0===Ot.blendOp&&mt.clearRect(Ot.xOffset,Ot.yOffset,Ot.width,Ot.height),mt.drawImage(Ot.image,Ot.xOffset,Ot.yOffset)},ht.prototype.animate=function(mt){var yt,Ot,St,Tt,_i,mi,Ui=this;return Ot=0,Tt=(mi=this.animation).numFrames,St=mi.frames,_i=mi.numPlays,(yt=function(){var Ft,ti;if(Ft=Ot++%Tt,ti=St[Ft],Ui.renderFrame(mt,Ft),1<Tt&&Ot/Tt<_i)return Ui.animation._timeout=setTimeout(yt,ti.delay)})()},ht.prototype.stopAnimation=function(){var mt;return clearTimeout(null!=(mt=this.animation)?mt._timeout:void 0)},ht.prototype.render=function(mt){var yt,Ot;return mt._png&&mt._png.stopAnimation(),mt._png=this,mt.width=this.width,mt.height=this.height,yt=mt.getContext("2d"),this.animation?(this.decodeFrames(yt),this.animate(yt)):(Ot=yt.createImageData(this.width,this.height),this.copyToImageData(Ot,this.decodePixels()),yt.putImageData(Ot,0,0))},ht}(),X.PNG=ie;var _t=function(){function pe(){this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=null}return pe.prototype={ensureBuffer:function(Ge){var it=this.buffer,ht=it?it.byteLength:0;if(Ge<ht)return it;for(var mt=512;mt<Ge;)mt<<=1;for(var yt=new Uint8Array(mt),Ot=0;Ot<ht;++Ot)yt[Ot]=it[Ot];return this.buffer=yt},getByte:function(){for(var Ge=this.pos;this.bufferLength<=Ge;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(Ge){var it=this.pos;if(Ge){this.ensureBuffer(it+Ge);for(var ht=it+Ge;!this.eof&&this.bufferLength<ht;)this.readBlock();var mt=this.bufferLength;mt<ht&&(ht=mt)}else{for(;!this.eof;)this.readBlock();ht=this.bufferLength}return this.pos=ht,this.buffer.subarray(it,ht)},lookChar:function(){for(var Ge=this.pos;this.bufferLength<=Ge;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var Ge=this.pos;this.bufferLength<=Ge;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(Ge,it,ht){for(var mt=Ge+it;this.bufferLength<=mt&&!this.eof;)this.readBlock();return new Stream(this.buffer,Ge,it,ht)},skip:function(Ge){Ge||(Ge=1),this.pos+=Ge},reset:function(){this.pos=0}},pe}(),Mt=function(){if("undefined"!=typeof Uint32Array){var pe=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ge=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),it=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),ht=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],mt=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];return(Ot.prototype=Object.create(_t.prototype)).getBits=function(St){for(var Tt,_i=this.codeSize,mi=this.codeBuf,Ui=this.bytes,Ft=this.bytesPos;_i<St;)void 0===(Tt=Ui[Ft++])&&yt("Bad encoding in flate stream"),mi|=Tt<<_i,_i+=8;return Tt=mi&(1<<St)-1,this.codeBuf=mi>>St,this.codeSize=_i-=St,this.bytesPos=Ft,Tt},Ot.prototype.getCode=function(St){for(var Tt=St[0],_i=St[1],mi=this.codeSize,Ui=this.codeBuf,Ft=this.bytes,ti=this.bytesPos;mi<_i;){var ui;void 0===(ui=Ft[ti++])&&yt("Bad encoding in flate stream"),Ui|=ui<<mi,mi+=8}var vi=Tt[Ui&(1<<_i)-1],Di=vi>>16,Oi=65535&vi;return(0==mi||mi<Di||0==Di)&&yt("Bad encoding in flate stream"),this.codeBuf=Ui>>Di,this.codeSize=mi-Di,this.bytesPos=ti,Oi},Ot.prototype.generateHuffmanTable=function(St){for(var Tt=St.length,_i=0,mi=0;mi<Tt;++mi)St[mi]>_i&&(_i=St[mi]);for(var Ui=1<<_i,Ft=new Uint32Array(Ui),ti=1,ui=0,vi=2;ti<=_i;++ti,ui<<=1,vi<<=1)for(var Di=0;Di<Tt;++Di)if(St[Di]==ti){var Oi=0,Vi=ui;for(mi=0;mi<ti;++mi)Oi=Oi<<1|1&Vi,Vi>>=1;for(mi=Oi;mi<Ui;mi+=vi)Ft[mi]=ti<<16|Di;++ui}return[Ft,_i]},Ot.prototype.readBlock=function(){function St(oi,ei,Ai,Si,yi){for(var en=oi.getBits(Ai)+Si;0<en--;)ei[vi++]=yi}var Tt=this.getBits(3);if(1&Tt&&(this.eof=!0),0!=(Tt>>=1)){var _i,mi;if(1==Tt)_i=ht,mi=mt;else if(2==Tt){for(var Ui=this.getBits(5)+257,Ft=this.getBits(5)+1,ti=this.getBits(4)+4,ui=Array(pe.length),vi=0;vi<ti;)ui[pe[vi++]]=this.getBits(3);for(var Di=this.generateHuffmanTable(ui),Oi=0,Vi=(vi=0,Ui+Ft),Zi=new Array(Vi);vi<Vi;){var nn=this.getCode(Di);16==nn?St(this,Zi,2,3,Oi):17==nn?St(this,Zi,3,3,Oi=0):18==nn?St(this,Zi,7,11,Oi=0):Zi[vi++]=Oi=nn}_i=this.generateHuffmanTable(Zi.slice(0,Ui)),mi=this.generateHuffmanTable(Zi.slice(Ui,Vi))}else yt("Unknown block type in flate stream");for(var Tn=(Gt=this.buffer)?Gt.length:0,bn=this.bufferLength;;){var Li=this.getCode(_i);if(Li<256)Tn<=bn+1&&(Tn=(Gt=this.ensureBuffer(bn+1)).length),Gt[bn++]=Li;else{if(256==Li)return void(this.bufferLength=bn);var si=(Li=Ge[Li-=257])>>16;0<si&&(si=this.getBits(si)),Oi=(65535&Li)+si,Li=this.getCode(mi),0<(si=(Li=it[Li])>>16)&&(si=this.getBits(si));var $i=(65535&Li)+si;Tn<=bn+Oi&&(Tn=(Gt=this.ensureBuffer(bn+Oi)).length);for(var Ye=0;Ye<Oi;++Ye,++bn)Gt[bn]=Gt[bn-$i]}}}else{var Ht,$t=this.bytes,ci=this.bytesPos;void 0===(Ht=$t[ci++])&&yt("Bad block header in flate stream");var Ii=Ht;void 0===(Ht=$t[ci++])&&yt("Bad block header in flate stream"),Ii|=Ht<<8,void 0===(Ht=$t[ci++])&&yt("Bad block header in flate stream");var Jt=Ht;void 0===(Ht=$t[ci++])&&yt("Bad block header in flate stream"),(Jt|=Ht<<8)!=(65535&~Ii)&&yt("Bad uncompressed block length in flate stream"),this.codeBuf=0,this.codeSize=0;var Ct=this.bufferLength,Gt=this.ensureBuffer(Ct+Ii),gi=Ct+Ii;this.bufferLength=gi;for(var kt=Ct;kt<gi;++kt){if(void 0===(Ht=$t[ci++])){this.eof=!0;break}Gt[kt]=Ht}this.bytesPos=ci}},Ot}function yt(St){throw new Error(St)}function Ot(St){var Tt=0,_i=St[Tt++],mi=St[Tt++];-1!=_i&&-1!=mi||yt("Invalid header in flate stream"),8!=(15&_i)&&yt("Unknown compression method in flate stream"),((_i<<8)+mi)%31!=0&&yt("Bad FCHECK in flate stream"),32&mi&&yt("FDICT bit set in flate stream"),this.bytes=St,this.bytesPos=2,this.codeSize=0,this.codeBuf=0,_t.call(this)}}();window.tmp=Mt},void 0!==(z=J.call(lt,N,lt,hi))&&(hi.exports=z);try{hi.exports=jsPDF}catch(Te){}},41993:hi=>{function lt(N){return Promise.resolve().then(()=>{var z=new Error("Cannot find module '"+N+"'");throw z.code="MODULE_NOT_FOUND",z})}lt.keys=()=>[],lt.resolve=lt,lt.id=41993,hi.exports=lt},73386:(hi,lt,N)=>{"use strict";N.r(lt),N.d(lt,{default:()=>je});var Fe,z=N(15861),J=N(17626),Te=N(7093),Me=N(89726),Ce=N(86162),Ie=N(58817),ye=N(47996),he=N(47877),re=N(63290),ce=N(62208),be=N(10699),xe=N(21726),de=N(77712),le=(N(90912),N(8314),N(61403)),oe=N(99433),se=N(65234),fe=N(84687),Ee=N(55463),ge=N(33954),Ue=N(32584);let Ve=0;const Le=re.Z.getLogger("esri.Basemap");let tt=Fe=class extends((0,Ce.eC)(ye.Z)){constructor(ve){super(ve),this.id=null,this.portalItem=null,this.spatialReference=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+Ve++,this.baseLayers=new Te.Z,this.referenceLayers=new Te.Z;const Oe=He=>{He.parent&&He.parent!==this&&"remove"in He.parent&&He.parent.remove(He),He.parent=this,"elevation"===He.type&&Le.error(`Layer '${He.title}, id:${He.id}' of type '${He.type}' is not supported as a basemap layer and will therefore be ignored.`)},qe=He=>{He.parent=null};this.baseLayers.on("after-add",He=>Oe(He.item)),this.referenceLayers.on("after-add",He=>Oe(He.item)),this.baseLayers.on("after-remove",He=>qe(He.item)),this.referenceLayers.on("after-remove",He=>qe(He.item))}initialize(){this.when().catch(ve=>{Le.error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,ve)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){var ve;const Oe=this.baseLayers.removeAll();for(const He of Oe)He.destroy();const qe=this.referenceLayers.removeAll();for(const He of qe)He.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),null==(ve=this.portalItem)||ve.destroy(),this.portalItem=null}normalizeCtorArgs(ve){return ve&&"resourceInfo"in ve&&(this._set("resourceInfo",ve.resourceInfo),delete(ve=ji({},ve)).resourceInfo),ve}set baseLayers(ve){this._set("baseLayers",(0,Me.Z)(ve,this._get("baseLayers")))}_writeBaseLayers(ve,Oe,qe){const He=[];ve&&(qe=fr(ji({},qe),{layerContainerType:"basemap"}),this.baseLayers.forEach(Qe=>{const ot=(0,Ue.Nw)(Qe,qe.webmap?qe.webmap.getLayerJSONFromResourceInfo(Qe):null,qe);(0,ce.pC)(ot)&&He.push(ot)}),this.referenceLayers.forEach(Qe=>{const ot=(0,Ue.Nw)(Qe,qe.webmap?qe.webmap.getLayerJSONFromResourceInfo(Qe):null,qe);(0,ce.pC)(ot)&&(ot.isReference=!0,He.push(ot))})),Oe.baseMapLayers=He}set referenceLayers(ve){this._set("referenceLayers",(0,Me.Z)(ve,this._get("referenceLayers")))}writeTitle(ve,Oe){Oe.title=ve||"Basemap"}load(ve){return this.addResolvingPromise(this._loadFromSource(ve)),Promise.resolve(this)}loadAll(){return(0,he.GZ)(this,ve=>{ve(this.baseLayers,this.referenceLayers)})}clone(){const ve={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.slice(),referenceLayers:this.referenceLayers.slice()};return this.loaded&&(ve.loadStatus="loaded"),new Fe({resourceInfo:this.resourceInfo}).set(ve)}read(ve,Oe){this.resourceInfo||this._set("resourceInfo",{data:ve,context:Oe}),super.read(ve,Oe)}write(ve,Oe){return ve=ve||{},Oe&&Oe.origin||(Oe=ji({origin:"web-map"},Oe)),super.write(ve,Oe),!this.loaded&&this.resourceInfo&&this.resourceInfo.data.baseMapLayers&&(ve.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(qe=>{const He=(0,Ie.d9)(qe);return He.url&&(0,xe.oC)(He.url)&&(He.url=`https:${He.url}`),He.templateUrl&&(0,xe.oC)(He.templateUrl)&&(He.templateUrl=`https:${He.templateUrl}`),He})),ve}_loadFromSource(ve){var Oe=this;return(0,z.Z)(function*(){const{resourceInfo:qe,portalItem:He}=Oe;(0,be.k_)(ve);const Qe=[];qe?(Qe.push(Oe._loadLayersFromJSON(qe.data,qe.context?qe.context.url:null,ve)),qe.data.id&&!qe.data.title&&Qe.push((0,ge.g)(qe.data.id).then(Se=>{Se&&Oe.read({title:Se},qe.context)}))):He&&Qe.push(Oe._loadFromItem(He,ve)),yield Promise.all(Qe)})()}_loadLayersFromJSON(ve,Oe,qe){var He=this;return(0,z.Z)(function*(){const Qe=He.resourceInfo&&He.resourceInfo.context,ot=He.portalItem&&He.portalItem.portal||Qe&&Qe.portal||null,Ne=Qe&&"web-scene"===Qe.origin?"web-scene":"web-map",{populateOperationalLayers:Se}=yield Promise.all([N.e(7534),N.e(1074)]).then(N.bind(N,71074)),$e=[];if((0,be.k_)(qe),ve.baseMapLayers&&Array.isArray(ve.baseMapLayers)){const nt={context:{origin:Ne,url:Oe,portal:ot,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},ut=Se(He.baseLayers,ve.baseMapLayers.filter(Ze=>!Ze.isReference),nt);$e.push(ut);const xt=Se(He.referenceLayers,ve.baseMapLayers.filter(Ze=>Ze.isReference),nt);$e.push(xt)}yield(0,be.as)($e)})()}_loadFromItem(ve,Oe){var qe=this;return(0,z.Z)(function*(){const He=yield ve.load(Oe),Qe=yield He.fetchData("json",Oe),ot=(0,xe.mN)(ve.itemUrl);return qe._set("resourceInfo",{data:Qe.baseMap,context:{origin:"web-map",portal:ve.portal||fe.Z.getDefault(),url:ot}}),qe.read(qe.resourceInfo.data,qe.resourceInfo.context),qe.read({spatialReference:Qe.spatialReference},qe.resourceInfo.context),qe.read({title:ve.title,thumbnailUrl:ve.thumbnailUrl},{origin:"portal-item",portal:ve.portal||fe.Z.getDefault(),url:ot}),qe._loadLayersFromJSON(qe.resourceInfo.data,ot,Oe)})()}static fromId(ve){const Oe=ge.s[ve];return Oe?Fe.fromJSON(Oe):null}};(0,J._)([(0,de.Cb)({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(ve,Oe,qe,He){this._writeBaseLayers(ve,Oe,He)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:Te.Z}},writer(ve,Oe,qe,He){this._writeBaseLayers(ve,Oe,He)}}}}}})],tt.prototype,"baseLayers",null),(0,J._)([(0,de.Cb)({type:String,json:{origins:{"web-scene":{write:!0}}}})],tt.prototype,"id",void 0),(0,J._)([(0,de.Cb)({type:Ee.default})],tt.prototype,"portalItem",void 0),(0,J._)([(0,de.Cb)()],tt.prototype,"referenceLayers",null),(0,J._)([(0,de.Cb)({readOnly:!0})],tt.prototype,"resourceInfo",void 0),(0,J._)([(0,de.Cb)({type:se.Z})],tt.prototype,"spatialReference",void 0),(0,J._)([(0,de.Cb)()],tt.prototype,"thumbnailUrl",void 0),(0,J._)([(0,de.Cb)({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],tt.prototype,"title",void 0),(0,J._)([(0,oe.c)("title")],tt.prototype,"writeTitle",null),tt=Fe=(0,J._)([(0,le.j)("esri.Basemap")],tt);var je=tt},91558:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>ye});var z=N(20414),J=N(21286),Te=N(62208),Me=N(90912);function Ce(he){return(0,J.uZ)((0,Me.vU)(he),0,255)}function Ie(he,re,ce){return he=Number(he),isNaN(he)?ce:he<re?re:he>ce?ce:he}class ye{constructor(re){this.r=255,this.g=255,this.b=255,this.a=1,re&&this.setColor(re)}static blendColors(re,ce,be,xe=new ye){return xe.r=Math.round(re.r+(ce.r-re.r)*be),xe.g=Math.round(re.g+(ce.g-re.g)*be),xe.b=Math.round(re.b+(ce.b-re.b)*be),xe.a=re.a+(ce.a-re.a)*be,xe._sanitize()}static fromRgb(re,ce){const be=re.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(be){const xe=be[2].split(/\s*,\s*/),de=be[1];if("rgb"===de&&3===xe.length||"rgba"===de&&4===xe.length){const Ae=xe[0];if("%"===Ae.charAt(Ae.length-1)){const me=xe.map(le=>2.56*parseFloat(le));return 4===xe.length&&(me[3]=parseFloat(xe[3])),ye.fromArray(me,ce)}return ye.fromArray(xe.map(me=>parseFloat(me)),ce)}if("hsl"===de&&3===xe.length||"hsla"===de&&4===xe.length)return ye.fromArray((0,z.B7)(parseFloat(xe[0]),parseFloat(xe[1])/100,parseFloat(xe[2])/100,parseFloat(xe[3])),ce)}return null}static fromHex(re,ce=new ye){if(4!==re.length&&7!==re.length||"#"!==re[0])return null;const be=4===re.length?4:8,xe=(1<<be)-1;let de=Number("0x"+re.substr(1));return isNaN(de)?null:(["b","g","r"].forEach(Ae=>{const me=de&xe;de>>=be,ce[Ae]=4===be?17*me:me}),ce.a=1,ce)}static fromArray(re,ce=new ye){return ce._set(Number(re[0]),Number(re[1]),Number(re[2]),Number(re[3])),isNaN(ce.a)&&(ce.a=1),ce._sanitize()}static fromString(re,ce){const be=(0,z.h$)(re);return be&&ye.fromArray(be,ce)||ye.fromRgb(re,ce)||ye.fromHex(re,ce)}static fromJSON(re){return re&&new ye([re[0],re[1],re[2],re[3]/255])}static toUnitRGB(re){return(0,Te.pC)(re)?[re.r/255,re.g/255,re.b/255]:null}static toUnitRGBA(re){return(0,Te.pC)(re)?[re.r/255,re.g/255,re.b/255,null!=re.a?re.a:1]:null}get isBright(){return.299*this.r+.587*this.g+.114*this.b>=127}setColor(re){if("string"==typeof re)ye.fromString(re,this);else if(Array.isArray(re))ye.fromArray(re,this);else{var ce,be,xe,de;this._set(null!=(ce=re.r)?ce:0,null!=(be=re.g)?be:0,null!=(xe=re.b)?xe:0,null!=(de=re.a)?de:1),re instanceof ye||this._sanitize()}return this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(){const re=this.r.toString(16),ce=this.g.toString(16),be=this.b.toString(16);return`#${re.length<2?"0"+re:re}${ce.length<2?"0"+ce:ce}${be.length<2?"0"+be:be}`}toCss(re=!1){const ce=this.r+", "+this.g+", "+this.b;return re?`rgba(${ce}, ${this.a})`:`rgb(${ce})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(re=0){const ce=Ce(this.r),be=Ce(this.g),xe=Ce(this.b);return 0===re||1!==this.a?[ce,be,xe,Ce(255*this.a)]:[ce,be,xe]}clone(){return new ye(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}_sanitize(){return this.r=Math.round(Ie(this.r,0,255)),this.g=Math.round(Ie(this.g,0,255)),this.b=Math.round(Ie(this.b,0,255)),this.a=Ie(this.a,0,1),this}_set(re,ce,be,xe){this.r=re,this.g=ce,this.b=be,this.a=xe}}ye.prototype.declaredClass="esri.Color"},88879:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>oe});var me,z=N(17626),J=N(29132),Te=N(73281),Me=N(65787),Ce=N(86162),Ie=N(58817),ye=N(62208),he=N(86236),re=N(77712),de=(N(90912),N(8314),N(63290),N(61403)),Ae=N(91179);let le=me=class extends Ce.wq{constructor(...se){super(...se),this.isAggregate=!1,this.layer=null,this.popupTemplate=null,this.sourceLayer=null,Object.defineProperty(this,"uid",{value:(0,he.D)(),configurable:!0})}normalizeCtorArgs(se,fe,Ee,ge){return se&&!se.declaredClass?se:{geometry:se,symbol:fe,attributes:Ee,popupTemplate:ge}}set attributes(se){const fe=this._get("attributes");fe!==se&&(this._set("attributes",se),this._notifyLayer("attributes",fe,se))}set geometry(se){const fe=this._get("geometry");fe!==se&&(this._set("geometry",se),this._notifyLayer("geometry",fe,se))}set symbol(se){const fe=this._get("symbol");fe!==se&&(this._set("symbol",se),this._notifyLayer("symbol",fe,se))}set visible(se){const fe=this._get("visible");fe!==se&&(this._set("visible",se),this._notifyLayer("visible",fe,se))}getEffectivePopupTemplate(se=!1){if(this.popupTemplate)return this.popupTemplate;for(const fe of[this.sourceLayer,this.layer])if(fe){if("popupTemplate"in fe&&fe.popupTemplate)return fe.popupTemplate;if(se&&"defaultPopupTemplate"in fe&&(0,ye.pC)(fe.defaultPopupTemplate))return fe.defaultPopupTemplate}return null}getAttribute(se){return this.attributes&&this.attributes[se]}setAttribute(se,fe){if(this.attributes){const Ee=this.getAttribute(se);this.attributes[se]=fe,this._notifyLayer("attributes",Ee,fe,se)}else this.attributes={[se]:fe},this._notifyLayer("attributes",void 0,fe,se)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{geometry:(0,ye.pC)(this.geometry)?this.geometry.toJSON():null,symbol:(0,ye.pC)(this.symbol)?this.symbol.toJSON():null,attributes:ji({},this.attributes),popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}}clone(){return new me(this.cloneProperties())}notifyGeometryChanged(){this._notifyLayer("geometry",this.geometry,this.geometry)}cloneProperties(){return{attributes:(0,Ie.d9)(this.attributes),geometry:(0,Ie.d9)(this.geometry),layer:this.layer,popupTemplate:this.popupTemplate&&this.popupTemplate.clone(),sourceLayer:this.sourceLayer,symbol:(0,Ie.d9)(this.symbol),visible:this.visible}}_notifyLayer(se,fe,Ee,ge){if(!this.layer||!("graphicChanged"in this.layer))return;const Ue={graphic:this,property:se,oldValue:fe,newValue:Ee};"attributes"===se&&(Ue.attributeName=ge),this.layer.graphicChanged(Ue)}};(0,z._)([(0,re.Cb)({value:null})],le.prototype,"attributes",null),(0,z._)([(0,re.Cb)({value:null,types:J.qM,json:{read:Ae.im}})],le.prototype,"geometry",null),(0,z._)([(0,re.Cb)({type:Boolean})],le.prototype,"isAggregate",void 0),(0,z._)([(0,re.Cb)()],le.prototype,"layer",void 0),(0,z._)([(0,re.Cb)({type:Te.Z})],le.prototype,"popupTemplate",void 0),(0,z._)([(0,re.Cb)()],le.prototype,"sourceLayer",void 0),(0,z._)([(0,re.Cb)({value:null,types:Me.LB})],le.prototype,"symbol",null),(0,z._)([(0,re.Cb)({type:Boolean,value:!0})],le.prototype,"visible",null),le=me=(0,z._)([(0,de.j)("esri.Graphic")],le),(le||(le={})).generateUID=he.D;var oe=le},73281:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>Bt});var z=N(15861),J=N(17626),Te=N(7093),Me=N(86162),Ce=N(58817),Ie=N(63290),ye=N(10699),he=N(77712),re=N(66656),be=(N(8314),N(68653)),xe=N(61403),de=N(99433),Ae=N(90912),me=N(36630),le=N(55664),oe=N(55013),se=N(16615),fe=N(75484),Ee=N(64531),ge=N(501);const Fe={base:null,key:"type",typeMap:{attachment:le.Z,media:Ee.Z,text:ge.Z,field:fe.Z}};var tt,Ve=N(38439),Le=N(25621);let je=tt=class extends Me.wq{constructor(Lt){super(Lt),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new tt({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};(0,J._)([(0,he.Cb)({type:Boolean,json:{write:!0}})],je.prototype,"returnTopmostRaster",void 0),(0,J._)([(0,he.Cb)({type:Boolean,json:{write:!0}})],je.prototype,"showNoDataRecords",void 0),je=tt=(0,J._)([(0,xe.j)("esri.popup.LayerOptions")],je);var qe,ve=je,Oe=N(51686);let He=qe=class extends Me.wq{constructor(Lt){super(Lt),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new qe({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?(0,Ce.d9)(this.orderByFields):null})}};(0,J._)([(0,he.Cb)({type:Boolean,json:{write:!0}})],He.prototype,"showRelatedRecords",void 0),(0,J._)([(0,he.Cb)({type:[Oe.Z],json:{write:!0}})],He.prototype,"orderByFields",void 0),He=qe=(0,J._)([(0,xe.j)("esri.popup.RelatedRecordsInfo")],He);var nt,Qe=He,ot=N(65560),Ne=N(59397),Se=N(48753),$e=N(10671);const ut=Te.Z.ofType({key:"type",defaultKeyValue:"button",base:Ne.Z,typeMap:{button:Se.Z,toggle:$e.Z}}),xt={base:oe.Z,key:"type",typeMap:{media:Ee.Z,custom:se.Z,text:ge.Z,attachments:le.Z,fields:fe.Z}},Ze="esri.PopupTemplate",et=Ie.Z.getLogger(Ze),gt=["attachments","fields","media","text"];let Vt=nt=class extends Me.wq{constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title="",this.relatedRecordsInfo=null}castContent(Lt){return Array.isArray(Lt)?Lt.map(Pt=>(0,Ae.N7)(xt,Pt)):"string"==typeof Lt||"function"==typeof Lt||Lt instanceof HTMLElement||(0,ye.y8)(Lt)?Lt:(et.error("content error","unsupported content value",{value:Lt}),null)}readContent(Lt,Pt){const{popupElements:dt}=Pt;return Array.isArray(dt)&&dt.length>0?this._readPopupInfoElements(Pt):this._readPopupInfo(Pt)}writeContent(Lt,Pt,dt,jt){"string"!=typeof Lt?Array.isArray(Lt)&&(Pt.popupElements=Lt.filter(Rt=>-1!==gt.indexOf(Rt.type)).map(Rt=>Rt&&Rt.toJSON(jt)),Pt.popupElements.forEach(Rt=>{"attachments"===Rt.type?this._writeAttachmentContent(Pt):"media"===Rt.type?this._writeMediaContent(Rt,Pt):"text"===Rt.type&&this._writeTextContent(Rt,Pt)})):Pt.description=Lt}writeFieldInfos(Lt,Pt,dt,jt){const{content:Rt}=this,_e=Array.isArray(Rt)?Rt:null;if(Lt){const ke=_e?_e.filter(Dt=>"fields"===Dt.type):[],rt=ke.length&&ke.every(Dt=>{var Kt;return null==(Kt=Dt.fieldInfos)?void 0:Kt.length});Pt.fieldInfos=Lt.filter(Boolean).map(Dt=>{const Kt=Dt.toJSON(jt);return rt&&(Kt.visible=!1),Kt})}if(_e)for(const ke of _e)"fields"===ke.type&&this._writeFieldsContent(ke,Pt)}writeLayerOptions(Lt,Pt,dt,jt){Pt[dt]=!Lt||null===Lt.showNoDataRecords&&null===Lt.returnTopmostRaster?null:Lt.toJSON(jt)}writeTitle(Lt,Pt){Pt.title=Lt||""}clone(){const{actions:Lt}=this,Pt=Lt?(0,Ce.d9)(Lt.toArray()):[];return new nt({actions:Pt,content:Array.isArray(this.content)?(0,Ce.d9)(this.content):this.content,expressionInfos:Array.isArray(this.expressionInfos)?(0,Ce.d9)(this.expressionInfos):null,fieldInfos:Array.isArray(this.fieldInfos)?(0,Ce.d9)(this.fieldInfos):null,layerOptions:this.layerOptions?(0,Ce.d9)(this.layerOptions):null,lastEditInfoEnabled:this.lastEditInfoEnabled,outFields:Array.isArray(this.outFields)?(0,Ce.d9)(this.outFields):null,overwriteActions:this.overwriteActions,returnGeometry:this.returnGeometry,title:this.title,relatedRecordsInfo:this.relatedRecordsInfo?(0,Ce.d9)(this.relatedRecordsInfo):null})}collectRequiredFields(Lt,Pt){var dt=this;return(0,z.Z)(function*(){yield dt._collectExpressionInfoFields(Lt,Pt,dt.expressionInfos),(0,me.gd)(Lt,Pt,[...dt.outFields||[],...dt._getActionsFields(dt.actions),...dt._getTitleFields(dt.title),...dt._getContentFields(dt.content)])})()}getRequiredFields(Lt){var Pt=this;return(0,z.Z)(function*(){const dt=new Set;return yield Pt.collectRequiredFields(dt,Lt),[...dt].sort()})()}_writeFieldsContent(Lt,Pt){if(!Array.isArray(Lt.fieldInfos)||!Lt.fieldInfos.length)return;const dt=(0,Ce.d9)(Lt.fieldInfos);Array.isArray(Pt.fieldInfos)?dt.forEach(jt=>{const Rt=Pt.fieldInfos.find(_e=>_e.fieldName.toLowerCase()===jt.fieldName.toLowerCase());Rt?Rt.visible=!0:Pt.fieldInfos.push(jt)}):Pt.fieldInfos=dt}_writeAttachmentContent(Lt){Lt.showAttachments||(Lt.showAttachments=!0)}_writeTextContent(Lt,Pt){!Pt.description&&Lt.text&&(Pt.description=Lt.text)}_writeMediaContent(Lt,Pt){if(!Array.isArray(Lt.mediaInfos)||!Lt.mediaInfos.length)return;const dt=(0,Ce.d9)(Lt.mediaInfos);Pt.mediaInfos=Array.isArray(Pt.mediaInfos)?[...Pt.mediaInfos,...dt]:dt}_readPopupInfoElements({description:Lt,mediaInfos:Pt,popupElements:dt}){const jt={description:!1,mediaInfos:!1};return dt.map(Rt=>"media"===Rt.type?(Rt.mediaInfos||!Pt||jt.mediaInfos||(Rt.mediaInfos=Pt,jt.mediaInfos=!0),Ee.Z.fromJSON(Rt)):"text"===Rt.type?(Rt.text||!Lt||jt.description||(Rt.text=Lt,jt.description=!0),ge.Z.fromJSON(Rt)):"attachments"===Rt.type?le.Z.fromJSON(Rt):"fields"===Rt.type?fe.Z.fromJSON(Rt):void 0).filter(Boolean)}_readPopupInfo({description:Lt,mediaInfos:Pt,showAttachments:dt}){const jt=[];return jt.push(Lt?new ge.Z({text:Lt}):new fe.Z),Array.isArray(Pt)&&Pt.length&&jt.push(Ee.Z.fromJSON({mediaInfos:Pt})),dt&&jt.push(le.Z.fromJSON({displayType:"list"})),jt.length?jt:Lt}_getContentElementFields(Lt){return Lt&&"attachments"!==Lt.type?"custom"===Lt.type?Lt.outFields||[]:"fields"===Lt.type?this._getFieldInfoFields(Lt.fieldInfos||this.fieldInfos):"media"===Lt.type?(Lt.mediaInfos||[]).reduce((Pt,dt)=>[...Pt,...this._getMediaInfoFields(dt)],[]):"text"===Lt.type?this._extractFieldNames(Lt.text):void 0:[]}_getMediaInfoFields(Lt){const{caption:Pt,title:dt,value:jt}=Lt,Rt=jt||{},{fields:_e=[],normalizeField:ke,tooltipField:rt,sourceURL:Dt,linkURL:Kt}=Rt,st=[...this._extractFieldNames(dt),...this._extractFieldNames(Pt),...this._extractFieldNames(Dt),...this._extractFieldNames(Kt),..._e];return ke&&st.push(ke),rt&&st.push(rt),st}_getContentFields(Lt){return"string"==typeof Lt?this._extractFieldNames(Lt):Array.isArray(Lt)?Lt.reduce((Pt,dt)=>[...Pt,...this._getContentElementFields(dt)],[]):[]}_collectExpressionInfoFields(Lt,Pt,dt){return(0,z.Z)(function*(){dt&&(yield Promise.all(dt.map(jt=>(0,me.io)(Lt,Pt,jt.expression))))})()}_getFieldInfoFields(Lt){return Lt?Lt.filter(Pt=>void 0===Pt.visible||!!Pt.visible).map(Pt=>Pt.fieldName).filter(Pt=>-1===Pt.indexOf("relationships/")&&-1===Pt.indexOf("expression/")):[]}_getActionsFields(Lt){return Lt?Lt.toArray().reduce((Pt,dt)=>[...Pt,...this._getActionFields(dt)],[]):[]}_getActionFields(Lt){const{className:Pt,title:dt,type:jt}=Lt,Rt="button"===jt||"toggle"===jt?Lt.image:"";return[...this._extractFieldNames(dt),...this._extractFieldNames(Pt),...this._extractFieldNames(Rt)]}_getTitleFields(Lt){return"string"==typeof Lt?this._extractFieldNames(Lt):[]}_extractFieldNames(Lt){if(!Lt||"string"!=typeof Lt)return[];const dt=Lt.match(/{[^}]*}/g);if(!dt)return[];const jt=/\{(\w+):.+\}/,Rt=dt.filter(_e=>!(0===_e.indexOf("{relationships/")||0===_e.indexOf("{expression/"))).map(_e=>_e.replace(jt,"{$1}"));return Rt?Rt.map(_e=>_e.slice(1,-1)):[]}};(0,J._)([(0,he.Cb)({type:ut})],Vt.prototype,"actions",void 0),(0,J._)([(0,he.Cb)()],Vt.prototype,"content",void 0),(0,J._)([(0,re.p)("content")],Vt.prototype,"castContent",null),(0,J._)([(0,be.r)("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments"])],Vt.prototype,"readContent",null),(0,J._)([(0,de.c)("content",{popupElements:{type:Te.Z.ofType(Fe)},showAttachments:{type:Boolean},mediaInfos:{type:Te.Z.ofType(ot.V)},description:{type:String}})],Vt.prototype,"writeContent",null),(0,J._)([(0,he.Cb)({type:[Ve.Z],json:{write:!0}})],Vt.prototype,"expressionInfos",void 0),(0,J._)([(0,he.Cb)({type:[Le.Z]})],Vt.prototype,"fieldInfos",void 0),(0,J._)([(0,de.c)("fieldInfos")],Vt.prototype,"writeFieldInfos",null),(0,J._)([(0,he.Cb)({type:ve})],Vt.prototype,"layerOptions",void 0),(0,J._)([(0,de.c)("layerOptions")],Vt.prototype,"writeLayerOptions",null),(0,J._)([(0,he.Cb)({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],Vt.prototype,"lastEditInfoEnabled",void 0),(0,J._)([(0,he.Cb)()],Vt.prototype,"outFields",void 0),(0,J._)([(0,he.Cb)()],Vt.prototype,"overwriteActions",void 0),(0,J._)([(0,he.Cb)()],Vt.prototype,"returnGeometry",void 0),(0,J._)([(0,he.Cb)({json:{type:String}})],Vt.prototype,"title",void 0),(0,J._)([(0,de.c)("title")],Vt.prototype,"writeTitle",null),(0,J._)([(0,he.Cb)({type:Qe,json:{write:!0}})],Vt.prototype,"relatedRecordsInfo",void 0),Vt=nt=(0,J._)([(0,xe.j)(Ze)],Vt);var Bt=Vt},97478:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>le});var xe,z=N(17626),J=N(86162),Te=N(62208),Me=N(28170),Ce=N(77712),re=(N(8314),N(90912),N(63290),N(68653)),ce=N(61403),be=N(99433);let de=xe=class extends J.wq{constructor(oe){super(oe),this.end=null,this.start=null}static get allTime(){return Ae}static get empty(){return me}readEnd(oe,se){return null!=se.end?new Date(se.end):null}writeEnd(oe,se){se.end=oe?oe.getTime():null}get isAllTime(){return this.equals(xe.allTime)}get isEmpty(){return this.equals(xe.empty)}readStart(oe,se){return null!=se.start?new Date(se.start):null}writeStart(oe,se){se.start=oe?oe.getTime():null}clone(){return new xe({end:this.end,start:this.start})}equals(oe){if(!oe)return!1;const se=(0,Te.pC)(this.start)?this.start.getTime():this.start,fe=(0,Te.pC)(this.end)?this.end.getTime():this.end,Ee=(0,Te.pC)(oe.start)?oe.start.getTime():oe.start,ge=(0,Te.pC)(oe.end)?oe.end.getTime():oe.end;return se===Ee&&fe===ge}expandTo(oe){if(this.isEmpty||this.isAllTime)return this.clone();const se=(0,Te.Po)(this.start,Ee=>(0,Me.JE)(Ee,oe)),fe=(0,Te.Po)(this.end,Ee=>(0,Me.Nm)((0,Me.JE)(Ee,oe),1,oe));return new xe({start:se,end:fe})}intersection(oe){if(!oe)return this.clone();if(this.isEmpty||oe.isEmpty)return xe.empty;if(this.isAllTime)return oe.clone();if(oe.isAllTime)return this.clone();const se=(0,Te.R2)(this.start,-1/0,Ve=>Ve.getTime()),fe=(0,Te.R2)(this.end,1/0,Ve=>Ve.getTime()),Ee=(0,Te.R2)(oe.start,-1/0,Ve=>Ve.getTime()),ge=(0,Te.R2)(oe.end,1/0,Ve=>Ve.getTime());let Ue,Fe;if(Ee>=se&&Ee<=fe?Ue=Ee:se>=Ee&&se<=ge&&(Ue=se),fe>=Ee&&fe<=ge?Fe=fe:ge>=se&&ge<=fe&&(Fe=ge),!isNaN(Ue)&&!isNaN(Fe)){const Ve=new xe;return Ve.start=Ue===-1/0?null:new Date(Ue),Ve.end=Fe===1/0?null:new Date(Fe),Ve}return xe.empty}offset(oe,se){if(this.isEmpty||this.isAllTime)return this.clone();const fe=new xe,{start:Ee,end:ge}=this;return(0,Te.pC)(Ee)&&(fe.start=(0,Me.Nm)(Ee,oe,se)),(0,Te.pC)(ge)&&(fe.end=(0,Me.Nm)(ge,oe,se)),fe}union(oe){if(!oe||oe.isEmpty)return this.clone();if(this.isEmpty)return oe.clone();if(this.isAllTime||oe.isAllTime)return Ae.clone();const se=(0,Te.pC)(this.start)&&(0,Te.pC)(oe.start)?new Date(Math.min(this.start.getTime(),oe.start.getTime())):null,fe=(0,Te.pC)(this.end)&&(0,Te.pC)(oe.end)?new Date(Math.max(this.end.getTime(),oe.end.getTime())):null;return new xe({start:se,end:fe})}};(0,z._)([(0,Ce.Cb)({type:Date,json:{write:{allowNull:!0}}})],de.prototype,"end",void 0),(0,z._)([(0,re.r)("end")],de.prototype,"readEnd",null),(0,z._)([(0,be.c)("end")],de.prototype,"writeEnd",null),(0,z._)([(0,Ce.Cb)({readOnly:!0,json:{read:!1}})],de.prototype,"isAllTime",null),(0,z._)([(0,Ce.Cb)({readOnly:!0,json:{read:!1}})],de.prototype,"isEmpty",null),(0,z._)([(0,Ce.Cb)({type:Date,json:{write:{allowNull:!0}}})],de.prototype,"start",void 0),(0,z._)([(0,re.r)("start")],de.prototype,"readStart",null),(0,z._)([(0,be.c)("start")],de.prototype,"writeStart",null),de=xe=(0,z._)([(0,ce.j)("esri.TimeExtent")],de);const Ae=new de,me=new de({start:void 0,end:void 0});var le=de},20849:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>xe});var ce,z=N(17626),J=N(86162),Te=N(28170),Me=N(77712),he=(N(8314),N(90912),N(63290),N(61403)),re=N(58926);let be=ce=class extends J.wq{constructor(de){super(de),this.value=0,this.unit="milliseconds"}toMilliseconds(){return(0,Te.rJ)(this.value,this.unit,"milliseconds")}clone(){return new ce({value:this.value,unit:this.unit})}};(0,z._)([(0,Me.Cb)({type:Number,json:{write:!0},nonNullable:!0})],be.prototype,"value",void 0),(0,z._)([(0,Me.Cb)({type:re.v.apiValues,json:{type:re.v.jsonValues,read:re.v.read,write:re.v.write},nonNullable:!0})],be.prototype,"unit",void 0),be=ce=(0,z._)([(0,he.j)("esri.TimeInterval")],be);var xe=be},76687:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>jt});var z=N(17626),J=N(86162),Te=N(21286),Me=N(77712),Ie=(N(8314),N(66656)),he=(N(63290),N(68653)),re=N(61403),ce=N(99433),be=N(90912),xe=N(49672),Ae=(N(84161),N(28093));class ve{constructor(_e,ke){this.min=_e,this.max=ke,this.range=ke-_e}ndiff(_e,ke=0){return Math.ceil((_e-ke)/this.range)*this.range+ke}_normalize(_e,ke,rt,Dt=0,Kt=!1){return(rt-=Dt)<_e?rt+=this.ndiff(_e-rt):rt>ke&&(rt-=this.ndiff(rt-ke)),Kt&&rt===ke&&(rt=_e),rt+Dt}normalize(_e,ke=0,rt=!1){return this._normalize(this.min,this.max,_e,ke,rt)}clamp(_e,ke=0){return(0,Te.uZ)(_e-ke,this.min,this.max)+ke}monotonic(_e,ke,rt){return _e<ke?ke:ke+this.ndiff(_e-ke,rt)}minimalMonotonic(_e,ke,rt){return this._normalize(_e,_e+this.range,ke,rt)}center(_e,ke,rt){return ke=this.monotonic(_e,ke,rt),this.normalize((_e+ke)/2,rt)}diff(_e,ke,rt){return this.monotonic(_e,ke,rt)-_e}shortestSignedDiff(_e,ke){_e=this.normalize(_e);const rt=(ke=this.normalize(ke))-_e,Dt=ke<_e?this.minimalMonotonic(_e,ke)-_e:ke-this.minimalMonotonic(ke,_e);return Math.abs(rt)<Math.abs(Dt)?rt:Dt}contains(_e,ke,rt){return ke=this.minimalMonotonic(_e,ke),(rt=this.minimalMonotonic(_e,rt))>_e&&rt<ke}}function Qe(Rt){for(const _e in Rt){const ke=Rt[_e];ke instanceof Function&&(Rt[_e]=ke.bind(Rt))}return Rt}(0,Ae.c)(),(0,Ae.c)(),Qe(new ve(0,2*Math.PI)),Qe(new ve(-Math.PI,Math.PI));const Se=Qe(new ve(0,360));var xt;(0,Ae.c)(),(0,Ae.c)(),(0,Ae.c)();let Ze=xt=class extends J.wq{constructor(...Rt){super(...Rt),this.position=new xe.Z([0,0,0]),this.heading=0,this.tilt=0,this.fov=55}normalizeCtorArgs(Rt,_e,ke,rt){if(Rt&&"object"==typeof Rt&&("x"in Rt||Array.isArray(Rt))){const Dt={position:Rt};return null!=_e&&(Dt.heading=_e),null!=ke&&(Dt.tilt=ke),null!=rt&&(Dt.fov=rt),Dt}return Rt}writePosition(Rt,_e,ke,rt){const Dt=Rt.clone();Dt.x=(0,be.q9)(Rt.x||0),Dt.y=(0,be.q9)(Rt.y||0),Dt.z=Rt.hasZ?(0,be.q9)(Rt.z||0):Rt.z,_e[ke]=Dt.write(null,rt)}readPosition(Rt,_e){const ke=new xe.Z;return ke.read(Rt,_e),ke.x=(0,be.q9)(ke.x||0),ke.y=(0,be.q9)(ke.y||0),ke.z=ke.hasZ?(0,be.q9)(ke.z||0):ke.z,ke}equals(Rt){return!!Rt&&this.tilt===Rt.tilt&&this.heading===Rt.heading&&this.fov===Rt.fov&&this.position.equals(Rt.position)}clone(){return new xt({position:this.position.clone(),heading:this.heading,tilt:this.tilt,fov:this.fov})}};(0,z._)([(0,Me.Cb)({type:xe.Z,json:{write:{isRequired:!0}}})],Ze.prototype,"position",void 0),(0,z._)([(0,ce.c)("position")],Ze.prototype,"writePosition",null),(0,z._)([(0,he.r)("position")],Ze.prototype,"readPosition",null),(0,z._)([(0,Me.Cb)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,Ie.p)(Rt=>Se.normalize((0,be.q9)(Rt)))],Ze.prototype,"heading",void 0),(0,z._)([(0,Me.Cb)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,Ie.p)(Rt=>(0,Te.uZ)((0,be.q9)(Rt),-180,180))],Ze.prototype,"tilt",void 0),(0,z._)([(0,Me.Cb)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Ze.prototype,"fov",void 0),Ze=xt=(0,z._)([(0,re.j)("esri.Camera")],Ze);var Lt,et=Ze,gt=N(29132),Vt=N(62208),Bt=N(91179);let Pt=Lt=class extends J.wq{constructor(Rt){super(Rt),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(Rt){return(Rt%=360)<0&&(Rt+=360),Rt}clone(){return new Lt({rotation:this.rotation,scale:this.scale,targetGeometry:(0,Vt.pC)(this.targetGeometry)?this.targetGeometry.clone():null,camera:(0,Vt.pC)(this.camera)?this.camera.clone():null})}};function dt(){return{enabled:!this.camera}}(0,z._)([(0,Me.Cb)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:dt}}}}})],Pt.prototype,"rotation",void 0),(0,z._)([(0,Ie.p)("rotation")],Pt.prototype,"castRotation",null),(0,z._)([(0,Me.Cb)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:dt}}}}})],Pt.prototype,"scale",void 0),(0,z._)([(0,Me.Cb)({types:gt.qM,json:{read:Bt.im,write:!0,origins:{"web-scene":{read:Bt.im,write:{overridePolicy:dt}}}}})],Pt.prototype,"targetGeometry",void 0),(0,z._)([(0,Me.Cb)({type:et,json:{write:!0}})],Pt.prototype,"camera",void 0),Pt=Lt=(0,z._)([(0,re.j)("esri.Viewpoint")],Pt);var jt=Pt},54346:(hi,lt,N)=>{"use strict";N.d(lt,{V:()=>he});var z=N(59318),Te=(N(84792),N(26584)),Me=N(63290),Ce=N(21726);const Ie=Me.Z.getLogger("esri.assets");function he(re){if(!z.Z.assetsPath)throw Ie.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new Te.Z("assets:path-not-set","config.assetsPath is not set");return(0,Ce.v_)(z.Z.assetsPath,re)}},71530:(hi,lt,N)=>{"use strict";N.d(lt,{a:()=>de});var be,z=N(17626),J=N(91558),Te=N(86162),Me=N(58817),Ce=N(77712),re=(N(90912),N(8314),N(63290),N(61403)),ce=N(60958);let xe=be=class extends Te.wq{constructor(){super(...arguments),this.color=new J.Z("white")}clone(){return new be({color:(0,Me.d9)(this.color)})}};(0,z._)([(0,Ce.Cb)(ce.aK)],xe.prototype,"color",void 0),xe=be=(0,z._)([(0,re.j)("esri.symbols.callouts.LineCallout3DBorder")],xe);var de=xe;Object.freeze({__proto__:null,get LineCallout3DBorder(){return xe},default:de})},1719:(hi,lt,N)=>{"use strict";N.d(lt,{a:()=>Te,c:()=>z,g:()=>J});var z="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function J(Me){return Me&&Me.__esModule&&Object.prototype.hasOwnProperty.call(Me,"default")?Me.default:Me}function Te(Me){throw new Error('Could not dynamically require "'+Me+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}},39863:(hi,lt,N)=>{"use strict";N.d(lt,{E:()=>z,R:()=>J,a:()=>Ie,t:()=>Ce});const z=1e-6,J=Math.random,Te=Math.PI/180,Me=180/Math.PI;function Ce(re){return re*Te}function Ie(re){return re*Me}Object.freeze({__proto__:null,EPSILON:z,RANDOM:J,toRadian:Ce,toDegree:Ie,equals:function(re,ce){return Math.abs(re-ce)<=z*Math.max(1,Math.abs(re),Math.abs(ce))}})},4918:(hi,lt,N)=>{"use strict";N.r(lt),N.d(lt,{G:()=>J,g:()=>Te});var Me,ye,z={exports:{}};Me=z,void 0!==(ye=function(){function he(B){if("number"==typeof B)return st.Uc.$g(B);if(null==B)return null;if(null!=Un[B])return st.Uc.$g(Un[B]);throw Error("Unrecognised Unit Type")}function re(B){if("number"==typeof B)return st.Uc.$g(B);if(null==B)return null;if(null!=Vn[B])return st.Uc.$g(Vn[B]);throw Error("Unrecognised Unit Type")}function ce(B){if(B)switch(B){case"loxodrome":return 1;case"great-elliptic":return 2;case"normal-section":return 3;case"shape-preserving":return 4}return 0}function be(B,Be,$,k){if(null==$||$.B())return null;switch($.K()){case st.sn.Point:return B.exportPoint(Be,$,k);case st.sn.Polygon:return B.exportPolygon(Be,$,k);case st.sn.Polyline:return B.exportPolyline(Be,$,k);case st.sn.MultiPoint:return B.exportMultipoint(Be,$,k);case st.sn.Envelope:return B.exportExtent(Be,$,k)}return null}function xe(B,Be,$,k){if($.K()!==st.sn.Point)throw Error("Geometry not Point");return B.exportPoint(Be,$,k)}function de(B,Be,$){return B.convertToGEGeometry(Be,$)}function Ae(B){var Be=B.wkid;B=B.wkt;var $=kn.get(Be||B);return null==$&&(-1!==Be&&null!=Be?($=st.Gg.create(Be),kn.set(Be,$)):B&&($=st.Gg.iP(B),kn.set(B,$))),$}function me(B){var Be;if(null==B)return null;var $=Ae(B);return B=$.Id(),$=$.Ln(),(Be={}).tolerance=$,Be.unitType=null==B?-1:B.od,Be.unitID=null==B?-1:B.Fc(),Be.unitBaseFactor=null==B?0:B.bi,Be.unitSquareDerivative=null==B?0:st.Uc.TF(B).Fc(),Be}function le(B,Be,$,k){return null==$?null:($=st.bc.clip(de(B,li,$),de(B,li,k),Ae(Be)),be(B,li,$,Be))}function oe(B,Be,$,k){$=st.bc.el(de(B,li,$),de(B,li,k),Ae(Be)),k=[];for(var T=0;T<$.length;T++)k.push(be(B,li,$[T],Be));return k}function se(B,Be,$,k){if(null==$||null==k)throw Error("Illegal Argument Exception");return st.bc.contains(de(B,li,$),de(B,li,k),Ae(Be))}function fe(B,Be,$,k){if(null==$||null==k)throw Error("Illegal Argument Exception");return st.bc.tP(de(B,li,$),de(B,li,k),Ae(Be))}function Ee(B,Be,$,k,T){if(null==$||null==k)throw Error("Illegal Argument Exception");return st.bc.ub(de(B,li,$),de(B,li,k),Ae(Be),he(T))}function ge(B,Be,$,k){return!(null==$&&null!=k||null==k&&null!=$)&&st.bc.Nb(de(B,li,$),de(B,li,k),Ae(Be))}function Ue(B,Be,$,k){if(null==$||null==k)throw Error("Illegal Argument Exception");return st.bc.JS(de(B,li,$),de(B,li,k),Ae(Be))}function Fe(B,Be,$,k){if(null==$||null==k)throw Error("Illegal Argument Exception");return st.bc.touches(de(B,li,$),de(B,li,k),Ae(Be))}function Ve(B,Be,$,k){if(null==$||null==k)throw Error("Illegal Argument Exception");return st.bc.eY(de(B,li,$),de(B,li,k),Ae(Be))}function Le(B,Be,$,k){if(null==$||null==k)throw Error("Illegal Argument Exception");return st.bc.LP(de(B,li,$),de(B,li,k),Ae(Be))}function tt(B,Be,$,k){if(null==$||null==k)throw Error("Illegal Argument Exception");return st.bc.tU(de(B,li,$),de(B,li,k),Ae(Be))}function je(B,Be,$,k,T){if(null==$||null==k)throw Error("Illegal Argument Exception");return st.bc.sB(de(B,li,$),de(B,li,k),Ae(Be),T)}function ve(B,Be,$){if(null==$)throw Error("Illegal Argument Exception");return st.bc.US(de(B,li,$),Ae(Be))}function Oe(B,Be,$){if(null==$)throw Error("Illegal Argument Exception");return $=st.bc.YB(de(B,li,$),Ae(Be)),be(B,li,$,Be)}function qe(B,Be,$,k){if(void 0===k&&(k=!1),null==$)throw Error("Illegal Argument Exception");if(Array.isArray($)){var T=k,E=[];for(k=0;k<$.length;k++)E.push(de(B,li,$[k]));for($=st.bc.bP(E,T),T=Array($.length),k=0;k<$.length;k++)T[k]=be(B,li,$[k],Be);return T}return k=st.bc.aP(de(B,li,$),Ae(Be)),be(B,li,k,Be)}function He(B,Be,$,k){if(null==$||null==k)throw Error("Illegal Argument Exception");if(Array.isArray($)){for(var T=[],E=0;E<$.length;E++)T.push(de(B,li,$[E]));for($=st.bc.IP(T,de(B,li,k),Ae(Be)),k=Array($.length),E=0;E<$.length;E++)k[E]=be(B,li,$[E],Be);return k}return E=st.bc.km(de(B,li,$),de(B,li,k),Ae(Be)),be(B,li,E,Be)}function Qe(B,Be,$,k){if(null==$||null==k)throw Error("Illegal Argument Exception");if(Array.isArray($)){for(var T=[],E=0;E<$.length;E++)T.push(de(B,li,$[E]));for($=st.bc.JX(T,de(B,li,k),Ae(Be)),k=Array($.length),E=0;E<$.length;E++)k[E]=be(B,li,$[E],Be);return k}return E=st.bc.fp(de(B,li,$),de(B,li,k),Ae(Be)),be(B,li,E,Be)}function ot(B,Be,$,k){if(null==$||null==k)throw Error("Illegal Argument Exception");if(Array.isArray($)){for(var T=[],E=0;E<$.length;E++)T.push(de(B,li,$[E]));for($=st.bc.HS(T,de(B,li,k),Ae(Be)),k=Array($.length),E=0;E<$.length;E++)k[E]=be(B,li,$[E],Be);return k}return E=st.bc.Fa(de(B,li,$),de(B,li,k),Ae(Be)),be(B,li,E,Be)}function Ne(B,Be,$,k){if(null==$)return null;var T=[];if(Array.isArray($)){if(0===$.length)return null;for(k=0;k<$.length;k++)T.push(de(B,li,$[k]))}else T.push(de(B,li,$)),null!=k&&T.push(de(B,li,k));return be(B,li,st.bc.YX(T,Ae(Be)),Be)}function Se(B,Be,$,k,T,E,D,O){var L=0;if(null!=E)switch(E){case"round":L=0;break;case"bevel":L=1;break;case"miter":L=2;break;case"square":L=3}if(Array.isArray($)){if(null==$)B=null;else if(0===$.length)B=[];else{var F=[];for(E=0;E<$.length;E++)F.push(de(B,li,$[E]));for($=st.bc.rU(F,Ae(Be),k,L,D,O,he(T)),k=Array($.length),E=0;E<$.length;E++)k[E]=be(B,li,$[E],Be);B=k}return B}return $=st.bc.offset(de(B,li,$),Ae(Be),k,L,D,O,he(T)),be(B,li,$,Be)}function $e(B,Be,$,k,T,E){if(void 0===E&&(E=!1),Array.isArray($)){if(!Array.isArray(k)){for(var D=[],O=0;O<$.length;O++)D.push(k);k=D}if(k.length!=$.length){if(0==k.length)throw Error("Illegal Argument Exception");D=[];var L=0;for(O=0;O<$.length;O++)void 0===k[O]?D.push(L):(D.push(k[O]),L=k[O]);k=D}return ut(B,Be,$,k,T,!1,E,"geodesic",NaN)}return $=st.bc.buffer(de(B,li,$),Ae(Be),k,he(T),!1,0,NaN),be(B,li,$,Be)}function nt(B,Be,$,k,T,E,D,O){if(Array.isArray($)){if(!Array.isArray(k)){for(var L=[],F=0;F<$.length;F++)L.push(k);k=L}if(k.length!==$.length){if(0===k.length)throw Error("Illegal Argument Exception");L=[];var V=0;for(F=0;F<$.length;F++)void 0===k[F]?L.push(V):(L.push(k[F]),V=k[F]);k=L}return ut(B,Be,$,k,T,!0,E,D,O)}return void 0===D&&(D=NaN),$=st.bc.buffer(de(B,li,$),Ae(Be),k,he(T),!0,ce(E),D),be(B,li,$,Be)}function ut(B,Be,$,k,T,E,D,O,L){if(void 0===L&&(L=NaN),null==$)return null;if(0===$.length)return[];for(var F=[],V=0;V<$.length;V++)F.push(de(B,li,$[V]));for($=st.bc.EN(F,Ae(Be),k,he(T),E,D,ce(O),L),k=Array($.length),V=0;V<$.length;V++)k[V]=be(B,li,$[V],Be);return k}function xt(B,Be,$,k,T){var E;return void 0===T&&(T=!0),$=st.bc.iz(de(B,li,$),de(B,li,k),T),(E={}).coordinate=xe(B,li,$.az(),Be),E.distance=$.cz(),E.isRightSide=$.Nz(),E.vertexIndex=$.Va(),E.isEmpty=$.B(),E}function Ze(B,Be,$,k){var T;return $=st.bc.jz(de(B,li,$),de(B,li,k)),(T={}).coordinate=xe(B,li,$.az(),Be),T.distance=$.cz(),T.isRightSide=$.Nz(),T.vertexIndex=$.Va(),T.isEmpty=$.B(),T}function et(B,Be,$,k,T,E){var D;for($=st.bc.kz(de(B,li,$),de(B,li,k),T,E),k=[],T=0;T<$.length;T++)!1===$[T].B()&&k.push(((D={}).coordinate=xe(B,li,$[T].az(),Be),D.distance=$[T].cz(),D.isRightSide=$[T].Nz(),D.vertexIndex=$[T].Va(),D.isEmpty=$[T].B(),D));return k}function gt(B,Be,$,k,T,E){return $=st.bc.IQ(de(B,li,$),Ae(Be),k,T,he(E)),be(B,li,$,Be)}function Vt(B,Be,$,k,T){return $=st.bc.Rr(de(B,li,$),Ae(Be),k,he(T)),be(B,li,$,Be)}function Bt(B,Be,$,k,T,E){return void 0===E&&(E=0),$=st.bc.Ry(de(B,li,$),Ae(Be),k,he(T),E),be(B,li,$,Be)}function Lt(B,Be,$,k){if(null==$)throw Error("Illegal Argument Exception");return st.bc.zU(de(B,li,$),Ae(Be),re(k))}function Pt(B,Be,$,k){if(null==$)throw Error("Illegal Argument Exception");return st.bc.AU(de(B,li,$),Ae(Be),he(k))}function dt(B,Be,$,k,T){if(null==$)throw Error("Illegal Argument Exception");return st.bc.OQ(de(B,li,$),Ae(Be),re(k),ce(T))}function jt(B,Be,$,k,T){if(null==$)throw Error("Illegal Argument Exception");return st.bc.RQ(de(B,li,$),Ae(Be),he(k),ce(T))}function Rt(B){st.FL.bind(B)}function _e(B,Be,$,k,T){var E=null,D=null;if(k){if(!T)throw st.i.O("AOI missing Spatial Reference");E=de(B,li,k),D=Ae(T).gh()}return null!==(B=st.hu.OR(Ae(Be).gh(),Ae($).gh(),E,D))?B:null}function ke(B,Be,$,k,T){var E=null,D=null;if(k){if(!T)throw st.i.O("AOI missing Spatial Reference");E=de(B,li,k),D=Ae(T).gh()}return st.hu.PR(Ae(Be).gh(),Ae($).gh(),E,D)}function rt(B,Be,$,k,T){if(void 0===T&&(T=null),!1===this.zY)throw Error("Projection Engine must be enabled using enableProjection");if(0===Be.length)return[];if(T){var E=T.getCachedGeTransformation($,k);if(!E)e:{if(E=T,T=null,E){var D=E.getGTListEntry();if(null!==D){T=new st.pC(null);for(var O=0,L=D.steps;O<L.length;O++){var F=new st.Bx((D=L[O]).geogtran);D.isInverse&&F.Lz(),T.add(F)}T=st.xr.Or(Ae($).gh(),Ae(k).gh(),T),E.assignCachedGe($,k,T),E=T;break e}}if(null===T&&E&&E.steps&&0<E.steps.length){for(T=new st.pC(null),O=0,L=E.steps;O<L.length;O++)-1!=(D=L[O]).wkid&&null!=D.wkid?T.add(st.Bx.create(D.wkid,D.isInverse)):T.add(st.Bx.mP(D.wkt,D.isInverse));T=st.xr.Or(Ae($).gh(),Ae(k).gh(),T),E.assignCachedGe($,k,T),E=T}else E=st.xr.Or(Ae($).gh(),Ae(k).gh(),T)}for($=[],D=0;D<Be.length;D++)$.push(Dt(B,T=Be[D],k,E))}else for(E=st.xr.Or(Ae($).gh(),Ae(k).gh(),null),$=[],D=0;D<Be.length;D++)$.push(Dt(B,T=Be[D],k,E));return $}function Dt(B,Be,$,k){return Be=st.bc.Ah(de(B,li,Be),k),be(B,li,Be,$)}var Kt,st,Ti,qt,B,Be,pi=this&&this.__extends||function(){function B(Be,$){return(B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,T){k.__proto__=T}||function(k,T){for(var E in T)T.hasOwnProperty(E)&&(k[E]=T[E])})(Be,$)}return function(Be,$){function k(){this.constructor=Be}B(Be,$),Be.prototype=null===$?Object.create($):(k.prototype=$.prototype,new k)}}();(function(B){var Be,k;(Be=B.sn||(B.sn={}))[Be.Unknown=0]="Unknown",Be[Be.Point=33]="Point",Be[Be.Line=322]="Line",Be[Be.Envelope=197]="Envelope",Be[Be.MultiPoint=550]="MultiPoint",Be[Be.Polyline=1607]="Polyline",Be[Be.Polygon=1736]="Polygon",(k=B.QK||(B.QK={}))[k.enumMild=0]="enumMild",k[k.enumMedium=1]="enumMedium",k[k.enumHot=2]="enumHot";var $=function(){function k(){this.description=null,this.PA=0}return k.prototype.K=function(){return 0},k.prototype.Eb=function(){return-1},k.prototype.kg=function(T){this.wc(),T!=this.description&&this.un(T)},k.prototype.un=function(){},k.prototype.Ll=function(T){this.wc(),T!=this.description&&(T=B.ee.uR(this.description,T))!=this.description&&this.un(T)},k.prototype.hasAttribute=function(T){return this.description.hasAttribute(T)},k.prototype.se=function(T){this.wc(),this.description.hasAttribute(T)||(T=B.ee.tR(this.description,T),this.un(T))},k.prototype.Ug=function(){return null},k.prototype.dn=function(){},k.prototype.A=function(){},k.prototype.Ro=function(){},k.prototype.yc=function(T){this.A(T)},k.prototype.B=function(){return!0},k.prototype.Pa=function(){},k.prototype.Pc=function(){},k.prototype.Ja=function(){return null},k.prototype.copyTo=function(){},k.prototype.He=function(){return 0},k.prototype.Rb=function(){return 0},k.prototype.aG=function(){return this.hasAttribute(1)},k.uf=function(T){return 1+((192&T)>>6)>>1},k.Sn=function(T){return 0!=(32&T)},k.KS=function(T){return 0!=(128&T)},k.zd=function(T){return 0!=(256&T)},k.yj=function(T){return 0!=(512&T)},k.Ic=function(T){return 0!=(1024&T)},k.prototype.Pf=function(){var T=this.Ja();return this.copyTo(T),T},k.prototype.mg=function(){return null},k.ig=function(T){var E=T.Ja();return T.copyTo(E),E},k.prototype.wc=function(){0<=this.PA&&(this.PA+=2147483649)},k.yx=function(T){var E=T.K();if(k.yj(E))return T.I();if(T.B())return 0;if(197==E)return 4;if(33==E)return 1;if(k.zd(E))return 2;throw B.i.ga("missing type")},k}();B.ba=$})(st||(st={})),Ti=st||(st={}),qt=function(){function B(){this.y=this.x=0}return B.construct=function(Be,$){var k=new B;return k.x=Be,k.y=$,k},B.bl=function(Be){var $=new B;return $.x=Be.x,$.y=Be.y,$},B.prototype.na=function(Be,$){this.x=Be,this.y=$},B.prototype.N=function(Be){this.x=Be.x,this.y=Be.y},B.prototype.hq=function(Be,$){return this.x===Be&&this.y===$},B.prototype.Mz=function(Be){return 2220446049250313e-31>=Math.abs(this.x-Be.x)&&2220446049250313e-31>=Math.abs(this.y-Be.y)},B.prototype.rb=function(Be){return this.x===Be.x&&this.y===Be.y},B.prototype.Nb=function(Be){return Be==this||Be instanceof B&&this.x==Be.x&&this.y==Be.y},B.prototype.sub=function(Be){this.x-=Be.x,this.y-=Be.y},B.prototype.vc=function(Be,$){this.x=Be.x-$.x,this.y=Be.y-$.y},B.prototype.add=function(Be,$){void 0!==$?(this.x=Be.x+$.x,this.y=Be.y+$.y):(this.x+=Be.x,this.y+=Be.y)},B.prototype.Uq=function(){this.x=-this.x,this.y=-this.y},B.prototype.mt=function(Be){this.x=-Be.x,this.y=-Be.y},B.prototype.ES=function(Be,$,k){this.x=Be.x*(1-k)+$.x*k,this.y=Be.y*(1-k)+$.y*k},B.prototype.Ct=function(Be,$){this.x=this.x*Be+$.x,this.y=this.y*Be+$.y},B.prototype.wW=function(Be,$,k){this.x=$.x*Be+k.x,this.y=$.y*Be+k.y},B.prototype.scale=function(Be){this.x*=Be,this.y*=Be},B.prototype.compare=function(Be){return this.y<Be.y?-1:this.y>Be.y?1:this.x<Be.x?-1:this.x>Be.x?1:0},B.prototype.normalize=function(){var Be=this.length();0==Be&&(this.x=1,this.y=0),this.x/=Be,this.y/=Be},B.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},B.prototype.Sk=function(){return this.x*this.x+this.y*this.y},B.ub=function(Be,$){return Math.sqrt(this.zc(Be,$))},B.Jy=function(Be,$,k,T){return Be-=k,$-=T,Math.sqrt(Be*Be+$*$)},B.prototype.Rh=function(Be){return this.x*Be.x+this.y*Be.y},B.prototype.YC=function(Be){return Math.abs(this.x*Be.x)+Math.abs(this.y*Be.y)},B.prototype.xi=function(Be){return this.x*Be.y-this.y*Be.x},B.prototype.Bt=function(Be,$){var k=-this.x*$+this.y*Be;this.x=this.x*Be+this.y*$,this.y=k},B.prototype.Iv=function(){var Be=this.x;this.x=-this.y,this.y=Be},B.prototype.EG=function(Be){this.x=-Be.y,this.y=Be.x},B.prototype.cr=function(){var Be=this.x;this.x=this.y,this.y=-Be},B.prototype.ru=function(){return 0<this.x?0<=this.y?1:4:0<this.y?2:0==this.x?4:3},B.ou=function(Be,$){var k=Be.ru(),T=$.ru();return T==k?0>(Be=Be.xi($))?1:0<Be?-1:0:k<T?-1:1},B.zc=function(Be,$){var k=Be.x-$.x;return k*k+(Be=Be.y-$.y)*Be},B.prototype.toString=function(){return"("+this.x+" , "+this.y+")"},B.prototype.Sc=function(){this.y=this.x=NaN},B.prototype.isNaN=function(){return isNaN(this.x)||isNaN(this.y)},B.prototype.offset=function(Be,$){var k=B.ub(Be,$),T=B.construct(this.x,this.y);if(0==k)return B.ub(T,Be);var E=new B;return E.N($),E.sub(Be),T.sub(Be),T.xi(E)/k},B.Wq=function(Be,$,k){var T=new Ti.Xb;T.set($.x),T.sub(Be.x);var E=new Ti.Xb;E.set(k.y),E.sub(Be.y);var D=new Ti.Xb;D.set($.y),D.sub(Be.y);var O=new Ti.Xb;return O.set(k.x),O.sub(Be.x),T.Ag(E),D.Ag(O),T.sub(D),T.qs()?(T=new Ti.ip($.x),E=new Ti.ip(Be.x),D=new Ti.ip(Be.y),T=T.jt(E),Be=(Be=new Ti.ip(k.y)).jt(D),$=($=new Ti.ip($.y)).jt(D),k=(k=new Ti.ip(k.x)).jt(E),T=T.nr(Be),$=$.nr(k),(T=T.nr($)).dT()?-1:T.XR()?1:0):0>(k=T.value())?-1:0<k?1:0},B.prototype.dc=function(){return Ti.P.vj(Ti.P.vj())},B}(),Ti.h=qt,B=st||(st={}),Be=function(){function $(k){this.zy=this.Nt=0,this.CX=k}return $.prototype.reset=function(){this.zy=this.Nt=0},$.prototype.add=function(k){var T=this.Nt+(k-=this.zy);this.zy=T-this.Nt-k,this.Nt=T},$.prototype.sub=function(k){this.add(-k)},$.prototype.tm=function(){return this.CX+this.Nt},$}(),B.Dx=Be,B.mc=function(){function $(){}return $.Dn=function(k,T){return 0<=T?Math.abs(k):-Math.abs(k)},$.sign=function(k){return 0>k?-1:0<k?1:0},$.JK=function(k){return k-360*Math.floor(k/360)},$.round=function(k){return Math.floor(k+.5)},$.nx=function(k){return k*k},$.jq=function(k,T,E){return.5>=E?k+(T-k)*E:T-(T-k)*(1-E)},$.GG=function(k,T,E,D){.5>=E?(D.x=k.x+(T.x-k.x)*E,D.y=k.y+(T.y-k.y)*E):(D.x=T.x-(T.x-k.x)*(1-E),D.y=T.y-(T.y-k.y)*(1-E))},$.bT=function(k,T,E,D,O,L){.5>=O?(L.x=k+(E-k)*O,L.y=T+(D-T)*O):(L.x=E-(E-k)*(1-O),L.y=D-(D-T)*(1-O))},$}(),function(B){var Be=function($){function k(){var T=$.call(this)||this;return T.sa=0,T.oa=0,T.qa=0,T.ma=0,T.la=null,T}return pi(k,$),k.prototype.ac=function(){return B.h.construct(this.sa,this.oa)},k.prototype.$p=function(T){T.x=this.sa,T.y=this.oa},k.prototype.Ec=function(T){this.gm(0,T)},k.prototype.SB=function(T,E){this.gm(0,B.h.construct(T,E))},k.prototype.Uo=function(T){this.$C(0,T)},k.prototype.setStart=function(T){this.mD(0,T)},k.prototype.xv=function(T,E){return this.Pd(0,T,E)},k.prototype.RB=function(T,E,D){this.vn(0,T,E,D)},k.prototype.xc=function(){return B.h.construct(this.qa,this.ma)},k.prototype.Ur=function(T){T.x=this.qa,T.y=this.ma},k.prototype.Rc=function(T){this.gm(1,T)},k.prototype.Sl=function(T,E){this.gm(1,B.h.construct(T,E))},k.prototype.Qo=function(T){this.$C(1,T)},k.prototype.setEnd=function(T){this.mD(1,T)},k.prototype.hv=function(T,E){return this.Pd(1,T,E)},k.prototype.IB=function(T,E,D){this.vn(1,T,E,D)},k.prototype.Eb=function(){return 1},k.prototype.B=function(){return this.Bc()},k.prototype.Pa=function(){},k.prototype.He=function(){return 0},k.prototype.Fa=function(T,E,D,O,L){return this.CM(T,E,D,O,L)},k.prototype.isIntersecting=function(T,E){return 0!=this.Br(T,E,!1)},k.prototype.rs=function(T,E){return this.su(T,E,!1)},k.prototype.su=function(){return null},k.prototype.Bc=function(){return!1},k.prototype.Zx=function(T){if(this.wc(),null==this.la&&0<T)this.la=B.P.lg(2*T);else if(null!=this.la&&this.la.length<2*T){for(var E=this.la.slice(0),D=this.la.length;D<2*T;D++)E[D]=0;this.la=E}},k.ZL=function(T,E,D){if(0<D)var O=0;for(var L=0;L<D;L++)E[0+O]=T[0],O++},k.prototype.gm=function(T,E){0!=T?(this.qa=E.x,this.ma=E.y):(this.sa=E.x,this.oa=E.y)},k.prototype.un=function(T){if(null!=this.la){for(var E=B.ee.Jw(T,this.description),D=[],O=k.Ig(this.description,0),L=k.Ig(this.description,1),F=k.Ig(T,0),V=k.Ig(T,1),W=0,X=1,ie=T.Ba;X<ie;X++){var Y=T.qd(X),te=B.ua.Wa(Y);if(-1==E[X]){var ne=B.ua.te(Y);for(Y=0;Y<te;Y++)D[F+W]=ne,D[V+W]=ne,W++}else for(ne=this.description.$j(E[X])-2,Y=0;Y<te;Y++)D[F+W]=this.la[O+ne],D[V+W]=this.la[L+ne],W++,ne++}this.la=D}this.description=T},k.prototype.$C=function(T,E){if(this.Bc())throw B.i.ga("empty geometry");E.kg(this.description),E.Bc()&&E.up();for(var D=0;D<this.description.Ba;D++)for(var O=this.description.Fd(D),L=0,F=B.ua.Wa(O);L<F;L++){var V=this.Pd(T,O,L);E.setAttribute(O,L,V)}},k.prototype.mD=function(T,E){if(this.wc(),E.Bc())throw B.i.ga("empty geometry");for(var D=E.description,O=0,L=D.Ba;O<L;O++)for(var F=D.Fd(O),V=B.ua.Wa(F),W=0;W<V;W++){var X=E.Vc(F,W);this.vn(T,F,W,X)}},k.prototype.Pd=function(T,E,D){if(this.Bc())throw B.i.ga("This operation was performed on an Empty Geometry.");if(0==E)return 0!=T?0!=D?this.ma:this.qa:0!=D?this.oa:this.sa;if(D>=B.ua.Wa(E))throw B.i.re();var O=this.description.Qf(E);return 0<=O?(null!=this.la&&this.Zx(this.description.Be.length-2),this.la[k.Ig(this.description,T)+this.description.$j(O)-2+D]):B.ua.te(E)},k.prototype.vn=function(T,E,D,O){if(this.wc(),D>=B.ua.Wa(E))throw B.i.re();var L=this.description.Qf(E);0>L&&(this.se(E),L=this.description.Qf(E)),0==E?0!=T?0!=D?this.ma=O:this.qa=O:0!=D?this.oa=O:this.sa=O:(null==this.la&&this.Zx(this.description.Be.length-2),this.la[k.Ig(this.description,T)+this.description.$j(L)-2+D]=O)},k.prototype.copyTo=function(T){if(T.K()!=this.K())throw B.i.O();T.description=this.description,T.Zx(this.description.Be.length-2),k.ZL(this.la,T.la,2*(this.description.Be.length-2)),T.sa=this.sa,T.oa=this.oa,T.qa=this.qa,T.ma=this.ma,T.wc(),this.pp(T)},k.prototype.Ug=function(T,E){var D=new B.Oc;return this.Bc()?(D.Pa(),D):(D.pa=this.Pd(0,T,E),D.wa=D.pa,D.Lk(this.Pd(1,T,E)),D)},k.prototype.RI=function(T){this.Bc()?T.Pa():(T.pa=this.Pd(0,0,0),T.wa=T.pa,T.Lk(this.Pd(1,0,0)))},k.prototype.Uw=function(T,E){E.kg(this.description),E.Db(this.ic(T));for(var D=1,O=this.description.Ba;D<O;D++)for(var L=this.description.Fd(D),F=B.ua.Wa(L),V=0;V<F;V++){var W=this.Vc(T,L,V);E.setAttribute(L,V,W)}},k.prototype.xM=function(T){if(this.description!=T.description||this.sa!=T.sa||this.qa!=T.qa||this.oa!=T.oa||this.ma!=T.ma)return!1;for(var E=0;E<2*(this.description.Be.length-2);E++)if(this.la[E]!=T.la[E])return!1;return!0},k.prototype.tG=function(){return this.sa==this.qa&&this.oa==this.ma},k.prototype.reverse=function(){var T=this.sa;this.sa=this.qa,this.qa=T,T=this.oa,this.oa=this.ma,this.ma=T,T=1;for(var E=this.description.Ba;T<E;T++)for(var D=this.description.qd(T),O=0,L=B.ua.Wa(D);O<L;O++){var F=this.Pd(0,D,O),V=this.Pd(1,D,O);this.vn(0,D,O,V),this.vn(1,D,O,F)}},k.prototype.Br=function(T,E,D){var O=T.K();if(322===this.K()){if(322==O)return B.zb.GM(this,T,E,D);throw B.i.Ra()}throw B.i.Ra()},k.prototype.CM=function(T,E,D,O,L){var F=T.K();if(322===this.K()){if(322==F)return B.zb.Xx(this,T,E,D,O,L);throw B.i.Ra()}throw B.i.Ra()},k.prototype.Rx=function(){return null},k.Ig=function(T,E){return E*(T.Be.length-2)},k.prototype.ic=function(T,E){if(void 0===E)return E=new B.h,this.ic(T,E),E;B.mc.bT(this.sa,this.oa,this.qa,this.ma,T,E)},k.prototype.fe=function(){return null},k.prototype.XF=function(){return null},k.prototype.fq=function(){return null},k.prototype.Ci=function(){return null},k.prototype.Qn=function(){return null},k.prototype.jg=function(){return null},k.prototype.Sx=function(T,E){return void 0!==E?this.tx(E)-this.tx(T):this.tx(T)},k.prototype.pp=function(){},k.prototype.el=function(){return null},k.prototype.bh=function(){},k.prototype.Vc=function(){return null},k.prototype.Me=function(){return null},k.prototype.tx=function(){return null},k.prototype.FG=function(){return null},k.prototype.ub=function(T,E){if(!E&&0!=this.Br(T,0,!1))return 0;E=17976931348623157e292;var D=this.ac(),O=T.fe(D,!1);return D.sub(T.ic(O)),(D=D.length())<E&&(E=D),D=this.xc(),O=T.fe(D,!1),D.sub(T.ic(O)),(D=D.length())<E&&(E=D),D=T.ac(),O=this.fe(D,!1),D.sub(this.ic(O)),(D=D.length())<E&&(E=D),D=T.xc(),O=this.fe(D,!1),D.sub(this.ic(O)),(D=D.length())<E&&(E=D),E},k.prototype.mg=function(){return B.ri.im(this,null)},k}(B.ba);B.KC=Be}(st||(st={})),new st.h,function(B){var Be,k;(Be=B.SK||(B.SK={}))[Be.Unknown=-1]="Unknown",Be[Be.Not=0]="Not",Be[Be.Weak=1]="Weak",Be[Be.Strong=2]="Strong",(k=B.EK||(B.EK={}))[k.DirtyIsKnownSimple=1]="DirtyIsKnownSimple",k[k.IsWeakSimple=2]="IsWeakSimple",k[k.IsStrongSimple=4]="IsStrongSimple",k[k.DirtyOGCFlags=8]="DirtyOGCFlags",k[k.DirtyVerifiedStreams=32]="DirtyVerifiedStreams",k[k.DirtyExactIntervals=64]="DirtyExactIntervals",k[k.DirtyLooseIntervals=128]="DirtyLooseIntervals",k[k.DirtyIntervals=192]="DirtyIntervals",k[k.DirtyIsEnvelope=256]="DirtyIsEnvelope",k[k.DirtyLength2D=512]="DirtyLength2D",k[k.DirtyRingAreas2D=1024]="DirtyRingAreas2D",k[k.DirtyCoordinates=1993]="DirtyCoordinates",k[k.DirtyAllInternal=65535]="DirtyAllInternal",k[k.DirtyAll=16777215]="DirtyAll";var $=function(k){function T(){var E=k.call(this)||this;return E.Jm=65535,E.xa=0,E.Qg=-1,E.Cb=null,E}return pi(T,k),T.prototype.pp=function(){},T.prototype.Yx=function(){},T.prototype.dy=function(){},T.prototype.I=function(){return this.xa},T.prototype.B=function(){return this.Bc()},T.prototype.Bc=function(){return 0==this.xa},T.prototype.ak=function(E){return 0!=(this.Jm&E)},T.prototype.Nf=function(E,D){this.Jm=D?this.Jm|E:this.Jm&~E},T.prototype.rc=function(){this.ak(32)&&this.UM()},T.prototype.ux=function(){if(this.Bc())throw B.i.ga("This operation was performed on an Empty Geometry.")},T.prototype.we=function(E,D){if(0>E||E>=this.xa)throw B.i.ga("index out of bounds");this.rc(),D.kg(this.description),D.B()&&D.up();for(var O=0;O<this.description.Ba;O++)for(var L=this.description.Fd(O),F=0,V=B.ua.Wa(L);F<V;F++){var W=this.Aa[O].Bg(V*E+F);D.setAttribute(L,F,W)}},T.prototype.Ht=function(E,D){this.rc();for(var O=D.description,L=0;L<O.Ba;L++)for(var F=O.Fd(L),V=B.ua.Wa(F),W=0;W<V;W++){var X=D.Vc(F,W);this.setAttribute(F,E,W,X)}},T.prototype.D=function(E,D){if(0>E||E>=this.I())throw B.i.re();this.rc(),this.Aa[0].uc(2*E,D)},T.prototype.Oa=function(E){var D=new B.h;return this.D(E,D),D},T.prototype.Hc=function(E,D){this.Aa[0].uc(2*E,D)},T.prototype.Db=function(E,D,O){if(0>E||E>=this.xa)throw B.i.re();this.rc();var L=this.Aa[0];void 0!==O?(L.write(2*E,D),L.write(2*E+1,O)):L.Ut(2*E,D),this.Qc(1993)},T.prototype.xz=function(){if(void 0>=this.I())throw B.i.re();this.rc();var E=this.Aa[0],D=new B.Od;return D.x=E.read(NaN),D.y=E.read(NaN),D.z=this.hasAttribute(1)?this.Aa[1].Bg(void 0):B.ua.te(1),D},T.prototype.XB=function(E){if(0>E||E>=this.I())throw B.i.re();this.se(1),this.rc(),this.Qc(1993);var D=this.Aa[0];D.write(2*E,(void 0).x),D.write(2*E+1,(void 0).y),this.Aa[1].rr(E,(void 0).z)},T.prototype.Vc=function(E,D,O){if(0>D||D>=this.xa)throw B.i.re();var L=B.ua.Wa(E);if(O>=L)throw B.i.re();this.rc();var F=this.description.Qf(E);return 0<=F?this.Aa[F].Bg(D*L+O):B.ua.te(E)},T.prototype.qF=function(E,D){return this.Vc(E,D,void 0)},T.prototype.setAttribute=function(E,D,O,L){if(0>D||D>=this.xa)throw B.i.re();var F=B.ua.Wa(E);if(O>=F)throw B.i.re();this.se(E),this.rc(),E=this.description.Qf(E),this.Qc(1993),this.Aa[E].rr(D*F+O,L)},T.prototype.vb=function(E){return this.ux(),this.se(E),this.rc(),this.Aa[this.description.Qf(E)]},T.prototype.kn=function(E,D){if(null!=D&&B.ua.Vp(E)!=D.Vp())throw B.i.O();this.se(E),E=this.description.Qf(E),null==this.Aa&&(this.Aa=B.Zc.iI(this.description.Ba)),this.Aa[E]=D,this.Qc(16777215)},T.prototype.un=function(E){var D=null;if(null!=this.Aa){var O=B.ee.Jw(E,this.description);D=[];for(var L=0,F=E.Ba;L<F;L++)-1!=O[L]&&(D[L]=this.Aa[O[L]])}this.description=E,this.Aa=D,this.Qg=-1,this.Qc(16777215)},T.prototype.sD=function(E){this.xu(!0),E instanceof B.l?this.aa.A(E):this.aa.Ro(E)},T.prototype.TM=function(E){this.xu(!1),E instanceof B.l?this.aa.A(E):this.aa.Ro(E)},T.prototype.dn=function(E){this.xu(!0),this.aa.copyTo(E)},T.prototype.A=function(E){this.sD(E)},T.prototype.Ro=function(E){this.sD(E)},T.prototype.yc=function(E){this.TM(E)},T.prototype.Ug=function(E,D){var O=new B.Oc;return this.Bc()?(O.Pa(),O):(this.xu(!0),this.aa.Ug(E,D))},T.prototype.dc=function(){var E=this.description.dc();if(!this.Bc())for(var D=this.I(),O=0,L=this.description.Ba;O<L;O++)E=this.Aa[O].Bn(E,0,D*B.ua.Wa(this.description.Fd(O)));return E},T.prototype.Nb=function(E){if(E==this)return!0;if(!(E instanceof T&&this.description.Nb(E.description))||this.Bc()!=E.Bc())return!1;if(this.Bc())return!0;var D=this.I();if(D!=E.I())return!1;for(var O=0;O<this.description.Ba;O++){var L=this.description.qd(O),F=this.vb(L),V=E.vb(L);if(!F.Nb(V,0,D*B.ua.Wa(L)))return!1}return!0},T.prototype.copyTo=function(E){if(E.K()!=this.K())throw B.i.O();this.WC(E)},T.prototype.WC=function(E){this.rc(),E.description=this.description,E.Aa=null;var D=this.description.Ba,O=null;if(null!=this.Aa){O=[];for(var L=0;L<D;L++)null!=this.Aa[L]&&(O[L]=this.Aa[L].AB(this.I()*B.ua.Wa(this.description.Fd(L))))}null!=this.aa?(E.aa=this.aa.Ja(),this.aa.copyTo(E.aa)):E.aa=null,E.xa=this.xa,E.Jm=this.Jm,E.Aa=O;try{this.pp(E)}catch(F){throw E.Pa(),B.i.gu()}},T.prototype.oD=function(){this.xa=0,this.Qg=-1,this.Aa=null,this.Qc(16777215)},T.prototype.Qc=function(E){16777215==E&&(this.Qg=-1,this.Yx()),this.Jm|=E,this.dM(),this.wc()},T.prototype.xu=function(E){if(this.rc(),this.ak(192))if(null==this.aa?this.aa=new B.Gh(this.description):this.aa.kg(this.description),this.B())this.aa.Pa();else{this.cy(E);for(var D=1;D<this.description.Ba;D++)for(var O=this.description.Fd(D),L=B.ua.Wa(O),F=this.Aa[D],V=0;V<L;V++){var W=new B.Oc;W.Pa();for(var X=0;X<this.xa;X++){var ie=F.Bg(X*L+V);W.$b(ie)}this.aa.setInterval(O,V,W)}E&&this.Nf(192,!1)}},T.prototype.cy=function(){this.aa.Pa();for(var E=this.Aa[0],D=new B.h,O=0;O<this.xa;O++)E.uc(2*O,D),this.aa.$b(D)},T.prototype.Ap=function(E){E.Pa();for(var D=this.Aa[0],O=new B.h,L=0;L<this.xa;L++)D.uc(2*L,O),E.$b(O)},T.prototype.UM=function(){if(this.Qg<this.xa){null==this.Aa&&(this.Aa=B.Zc.iI(this.description.Ba)),this.Qg=2147483647;for(var E=0;E<this.description.Ba;E++){var D=this.description.Fd(E);if(null!=this.Aa[E]){var O=B.ua.Wa(D),L=B.P.truncate(this.Aa[E].size/O);L<this.xa&&(L=B.P.truncate(this.Qg>this.xa+5?(5*this.xa+3)/4:this.xa),this.Aa[E].resize(L*O,B.ua.te(D))),L<this.Qg&&(this.Qg=L)}else this.Aa[E]=B.Zc.QE(D,this.xa),this.Qg=this.xa}}this.dy(),this.Nf(32,!1)},T.prototype.fm=function(E){if(0>E)throw B.i.O();E!=this.xa&&(this.xa=E,this.Qc(65535))},T.prototype.qm=function(E){if(!this.ak(1)){if(!this.ak(2))return 0;if(this.GT>=E)return this.ak(8)?1:2}return-1},T.prototype.Dh=function(E,D){if(this.GT=D,-1==E)this.Nf(1,!0),this.Nf(8,!0);else if(this.Nf(1,!1),this.Nf(8,!0),0==E)this.Nf(2,!1),this.Nf(4,!1);else if(1==E)this.Nf(2,!0),this.Nf(4,!1);else{if(2!=E)throw B.i.ga("internal error.");this.Nf(2,!0),this.Nf(4,!0)}},T.prototype.dM=function(){null!=this.Cb&&(this.Cb=null)},T.prototype.cD=function(E,D,O,L){if(0>E||E>=this.xa||0>D||D>=this.xa)throw B.i.ga("index out of bounds");this.rc(),L.kg(this.description),L.B()&&L.up();for(var F=0;F<this.description.Ba;F++)for(var V=this.description.Fd(F),W=0,X=B.ua.Wa(V);W<X;W++){var ie=this.Aa[F].Bg(X*E+W),Y=this.Aa[F].Bg(X*D+W);L.setAttribute(V,W,B.mc.jq(ie,Y,O))}},T.prototype.Ar=function(E,D){var O=this.Aa[0].o,L=O[2*E]-O[2*D];return E=O[2*E+1]-O[2*D+1],Math.sqrt(L*L+E*E)},T.prototype.Eh=function(E,D){if(0>E||E>=this.xa)throw B.i.re();if(D.B())throw B.i.O();this.rc();for(var O=D.description,L=0;L<O.Ba;L++)for(var F=O.qd(L),V=B.ua.Wa(F),W=0;W<V;W++){var X=D.Vc(F,W);this.setAttribute(F,E,W,X)}},T.prototype.mu=function(){return null},T.prototype.gj=function(){return null},T}(B.ba);B.Ex=$}(st||(st={})),function(B){var Be=function(){function $(){this.ob=this.$n=null,this.Vm=124234251,this.Sv=!0,this.Ne=-1,this.ob=new B.ad(7),this.$n=null}return $.prototype.Wo=function(k){this.$n=k},$.prototype.JP=function(){this.Sv=!1},$.prototype.Ee=function(k){this.ob.Ee(k)},$.prototype.Qr=function(k){var T=this.ob.De();return this.fX(T),this.iX(k,T),T},$.prototype.EP=function(k){this.ob.kd(k)},$.prototype.addElement=function(k,T){return-1==T&&(-1==this.Ne&&(this.Ne=this.Qr(-1)),T=this.Ne),this.xD(k,0,T)},$.prototype.BD=function(k){return-1==this.Ne&&(this.Ne=this.Qr(-1)),this.xD(k,1,this.Ne)},$.prototype.yn=function(k){-1==this.Ne&&(this.Ne=this.Qr(-1));var T=this.Ne,E=this.ob.o;if(-1==T||-1==E[7*T])return k=this.ob.Nl([-1,-1,-1,k,this.il(),-1,-1]),(E=this.ob.o)[7*T]=k,this.xp(-1,k,T,E),k;var D=-1==T?-1:E[7*T+2];return k=this.ob.Nl([-1,-1,D,k,this.il(),-1,-1]),(E=this.ob.o)[7*D+1]=k,this.jy(k,E),-1===E[7*k+2]&&(E[7*T]=k),this.xp(-1,k,T,E),k},$.prototype.Au=function(k,T,E,D){var O=-1;-1==O&&(-1==this.Ne&&(this.Ne=this.Qr(-1)),O=this.Ne);var L=this.ob.o;if(-1==O||-1==L[7*O])return E=this.ob.Nl([-1,-1,-1,E,this.il(),-1,-1]),(L=this.ob.o)[7*O]=E,this.xp(-1,E,O,L),E;if(D){D=-1!=T?this.$n.compare(this,E,T):-1;var F=-1!=k?this.$n.compare(this,E,k):1}else D=-1,F=1;if(0==D||0==F)return L[7*O+3]=0==D?T:k,-1;for((-1!=T&&-1!=k?this.Vm>B.P.WA(this.Vm)>>1:-1!=T)?k=T:D=F,T=!0;;){if(0>D){if(-1==(F=L[7*k])){D=k,E=this.ob.Nl([-1,-1,k,E,this.il(),-1,-1]),(L=this.ob.o)[7*k]=E;break}k=F}else{if(-1==(F=L[7*k+1])){D=L[7*k+6],E=this.ob.Nl([-1,-1,k,E,this.il(),-1,-1]),(L=this.ob.o)[7*k+1]=E;break}k=F}T&&(D*=-1,T=!1)}return this.jy(E,L),-1===L[7*E+2]&&(L[7*O]=E),this.xp(D,E,O,L),E},$.prototype.xF=function(){return this.aR(this.Ne)},$.prototype.wd=function(k,T){T=-1==T?this.Ne:T,this.Sv?this.DP(k,T):this.XX(k,T)},$.prototype.search=function(k,T){for(T=this.tv(T);-1!=T;){var E=this.$n.compare(this,k,T);if(0==E)return T;T=0>E?this.nl(T):this.Zp(T)}return-1},$.prototype.xW=function(k){for(var T=this.tv(-1),E=-1;-1!=T;){var D=k.compare(this,T);if(0==D)return T;0>D?T=this.nl(T):(E=T,T=this.Zp(T))}return E},$.prototype.mJ=function(k){for(var T=this.tv(-1),E=-1;-1!=T;){var D=k.compare(this,T);if(0==D)return T;0>D?(E=T,T=this.nl(T)):T=this.Zp(T)}return E},$.prototype.ka=function(k){return this.ob.U(k,3)},$.prototype.nl=function(k){return this.ob.U(k,0)},$.prototype.Zp=function(k){return this.ob.U(k,1)},$.prototype.getParent=function(k){return this.ob.U(k,2)},$.prototype.lb=function(k){return this.ob.U(k,6)},$.prototype.xe=function(k){return this.ob.U(k,5)},$.prototype.sc=function(k){return this.ml(-1==k?this.Ne:k)},$.prototype.Gc=function(k){return this.$r(-1==k?this.Ne:k)},$.prototype.QR=function(k){return this.UF(-1==k?this.Ne:k)},$.prototype.Tj=function(k,T){this.HB(k,T)},$.prototype.tv=function(k){return this.QF(-1==k?this.Ne:k)},$.prototype.clear=function(){this.ob.nj(!1),this.Ne=-1},$.prototype.size=function(k){return this.SF(-1==k?this.Ne:k)},$.prototype.CN=function(k,T){for(var E=T[7*k],D=T[7*k+1],O=T[7*k+4];-1!=E||-1!=D;){var L=-1!=E?T[7*E+4]:2147483647;if(D=-1!=D?T[7*D+4]:2147483647,O<=Math.min(L,D))break;L<=D?this.kJ(E,T):this.jJ(k,T),E=T[7*k],D=T[7*k+1]}},$.prototype.jy=function(k,T){if(this.Sv)for(var E=T[7*k+4],D=T[7*k+2];-1!=D&&T[7*D+4]>E;)T[7*D]==k?this.kJ(k,T):this.jJ(D,T),D=T[7*k+2]},$.prototype.jJ=function(k,T){var E=T[7*k+1];T[7*E+2]=T[7*k+2],T[7*k+2]=E;var D=T[7*E];T[7*k+1]=D,-1!=D&&(T[7*D+2]=k),T[7*E]=k,-1!=(D=T[7*E+2])&&(T[7*D]==k?T[7*D]=E:T[7*D+1]=E)},$.prototype.kJ=function(k,T){var E=T[7*k+2];T[7*k+2]=T[7*E+2],T[7*E+2]=k;var D=T[7*k+1];T[7*E]=D,-1!=D&&(T[7*D+2]=E),T[7*k+1]=E,-1!=(D=T[7*k+2])&&(T[7*D]===E?T[7*D]=k:T[7*D+1]=k)},$.prototype.Pk=function(k,T){this.ob.T(k,2,T)},$.prototype.MB=function(k,T){this.ob.T(k,0,T)},$.prototype.QB=function(k,T){this.ob.T(k,1,T)},$.prototype.PB=function(k,T){this.ob.T(k,5,T)},$.prototype.ex=function(k,T){this.ob.T(k,6,T)},$.prototype.PJ=function(k,T){this.ob.T(T,0,k)},$.prototype.fX=function(k){this.ob.T(k,4,0)},$.prototype.iX=function(k,T){this.ob.T(T,5,k)},$.prototype.QF=function(k){return-1==k?-1:this.ob.U(k,0)},$.prototype.ml=function(k){return-1==k?-1:this.ob.U(k,1)},$.prototype.$r=function(k){return-1==k?-1:this.ob.U(k,2)},$.prototype.aR=function(k){return-1==k?-1:this.ob.U(k,3)},$.prototype.SF=function(k){return-1==k?0:this.ob.U(k,4)},$.prototype.UF=function(k){return this.ob.U(k,5)},$.prototype.Qw=function(){return this.ob.Nl([-1,-1,-1,void 0,this.il(),-1,-1])},$.prototype.hl=function(k){-1!=k&&this.ob.kd(k)},$.prototype.il=function(){return this.Vm=B.P.WA(this.Vm),1073741823&this.Vm},$.prototype.xD=function(k,T,E){var D=this.ob.o;if(-1==E||-1==D[7*E])return k=this.ob.Nl([-1,-1,-1,k,this.il(),-1,-1]),(D=this.ob.o)[7*E]=k,this.xp(-1,k,E,D),k;for(var O=-1==E?-1:D[7*E];;){var L=-1==T?1:this.$n.compare(this,k,O);if(0>L){if(-1==(L=this.nl(O))){T=O,k=this.ob.Nl([-1,-1,O,k,this.il(),-1,-1]),(D=this.ob.o)[7*O]=k;break}O=L}else{if(1==T&&0==L)return D[7*E+3]=O,-1;if(-1==(L=D[7*O+1])){T=D[7*O+6],k=this.ob.Nl([-1,-1,O,k,this.il(),-1,-1]),(D=this.ob.o)[7*O+1]=k;break}O=L}}return this.jy(k,D),-1===D[7*k+2]&&(D[7*E]=k),this.xp(T,k,E,D),k},$.prototype.xp=function(k,T,E,D){if(-1!=k){var O=D[7*k+5];D[7*k+5]=T}else O=-1==E?-1:D[7*E+2];D[7*T+5]=O,-1!=O&&(D[7*O+6]=T),D[7*T+6]=k,k==(-1==E?-1:D[7*E+1])&&(D[7*E+1]=T),-1==k&&(D[7*E+2]=T),D[7*E+4]=(-1==E?0:D[7*E+4])+1},$.prototype.uB=function(k,T){var E=this.ob.o,D=E[7*k+5];k=E[7*k+6],-1!=D?E[7*D+6]=k:E[7*T+1]=k,-1!=k?E[7*k+5]=D:E[7*T+2]=D,E[7*T+4]=-1===T?-1:E[7*T+4]-1},$.prototype.XX=function(k,T){this.uB(k,T);var E=this.nl(k),D=this.Zp(k),O=this.getParent(k),L=k;if(-1!=E&&-1!=D){this.Vm=B.P.WA(this.Vm);var F=1073741823<this.Vm?this.lb(k):this.xe(k),V=this.getParent(F)==k;this.ob.$B(k,F,0),this.ob.$B(k,F,1),this.ob.$B(k,F,2),-1!=O?this.nl(O)==k?this.MB(O,F):this.QB(O,F):this.PJ(F,T),V?(E==F?(this.MB(F,k),this.Pk(D,F)):D==F&&(this.QB(F,k),this.Pk(E,F)),this.Pk(k,F),O=F):(this.Pk(E,F),this.Pk(D,F),O=this.getParent(k),L=F),E=this.nl(k),D=this.Zp(k),-1!=E&&this.Pk(E,k),-1!=D&&this.Pk(D,k)}E=-1!=E?E:D,-1==O?this.PJ(E,T):this.nl(O)==L?this.MB(O,E):this.QB(O,E),-1!=E&&this.Pk(E,O),this.hl(k)},$.prototype.DP=function(k,T){var E=this.ob.o;E[7*k+4]=2147483647;var D=-1,O=-1,L=-1===T?-1:E[7*T],F=L==k;if(F&&(O=E[7*L+1],-1==(D=E[7*L])&&-1==O))return this.uB(L,T),this.hl(L),void(E[7*T]=-1);this.CN(k,E),-1!=(L=E[7*k+2])&&(E[7*L]==k?E[7*L]=-1:E[7*L+1]=-1),this.uB(k,T),this.hl(k),F&&(E[7*T]=-1==D||-1!=E[7*D+2]?O:D)},$.prototype.HB=function(k,T){this.ob.T(k,3,T)},$}();B.Yj=Be}(st||(st={})),function(B){var Be=function(){function $(k,T){void 0!==k&&this.L(k,T)}return $.prototype.L=function(k,T){this.pa=k,this.wa=T,this.normalize()},$.prototype.isIntersecting=function(k){return this.pa<=k.pa?this.wa>=k.pa:k.wa>=this.pa},$.prototype.move=function(k){this.B()||(this.pa+=k,this.wa+=k)},$.prototype.normalize=function(){if(!isNaN(this.pa)){if(this.pa>this.wa){var k=this.pa;this.pa=this.wa,this.wa=k}isNaN(this.wa)&&this.Pa()}},$.prototype.Pa=function(){this.wa=this.pa=NaN},$.prototype.B=function(){return isNaN(this.pa)},$.prototype.$b=function(k){"number"==typeof k?this.B()?this.wa=this.pa=k:this.Lk(k):k.B()||(this.B()?(this.pa=k.pa,this.wa=k.wa):(this.pa>k.pa&&(this.pa=k.pa),this.wa<k.wa&&(this.wa=k.wa),this.pa>this.wa&&this.Pa()))},$.prototype.Lk=function(k){k<this.pa?this.pa=k:k>this.wa&&(this.wa=k)},$.prototype.contains=function(k){return"number"==typeof k?k>=this.pa&&k<=this.wa:k.pa>=this.pa&&k.wa<=this.wa},$.prototype.Fa=function(k){this.B()||k.B()?this.Pa():(this.pa<k.pa&&(this.pa=k.pa),this.wa>k.wa&&(this.wa=k.wa),this.pa>this.wa&&this.Pa())},$.prototype.X=function(k){this.B()||(this.pa-=k,this.wa+=k,this.wa<this.pa&&this.Pa())},$.prototype.zr=function(){return this.B()?2220446049250313e-29:2220446049250313e-29*(Math.abs(this.pa)+Math.abs(this.wa)+1)},$.prototype.EB=function(k,T){k>T?(this.pa=T,this.wa=k):(this.pa=k,this.wa=T)},$.prototype.Jt=function(k){return B.P.Rk(k,this.pa,this.wa)},$.prototype.S=function(){return this.wa-this.pa},$.prototype.tf=function(){return.5*(this.pa+this.wa)},$.prototype.Nb=function(k){return k==this||k instanceof $&&(!(!this.B()||!k.B())||this.pa==k.pa&&this.wa==k.wa)},$.prototype.dc=function(){return B.P.vj(B.P.vj())},$}();B.Oc=Be}(st||(st={})),function(B){var Be=new B.Oc,$=new B.Oc,k=function(){this.ne=null,this.pb=-1,this.tb=new B.zb,this.kA=55555555,this.Uv=this.Wv=!1,this.Vf=new B.Oc,this.Vf.EB(0,0)};B.xY=k;var T=function(){function E(D,O,L){this.g=D,this.Hk=NaN,this.FH=this.Mq=0,this.GH=NaN,this.ra=O,this.Pq=10*O,this.HH=this.IH=NaN,this.rg=!1,this.Fm=this.gt=this.Mo=this.Ys=this.Xs=-1,this.bA=L,this.NA=new k,this.QH=new k,B.P.truncate(3*D.gd/2)}return E.prototype.eG=function(D,O,L,F){D.ne=null===F?null:F[L[5*O]],D.Uv=null!=D.ne,D.Uv||(-1!==(F=L[5*O+2])&&this.g.cW(L[5*O],L[5*F],D.tb),D.ne=D.tb,D.Vf.EB(D.tb.sa,D.tb.qa),D.Vf.wa+=this.ra,D.tb.jI(),D.Wv=D.tb.ma==D.tb.oa,D.Wv||(D.kA=(D.tb.qa-D.tb.sa)/(D.tb.ma-D.tb.oa)))},E.prototype.GO=function(D,O){var L=D.Br(O,this.ra,!0);return 0!=L?2==L?this.Ly():this.yi():(D.$p(fi),D.Ur(Mi),O.$p(Ki),O.Ur(yn),We.na(this.Mq,this.Hk),fi.rb(Ki)&&this.Hk==fi.y?0>Mi.compare(yn)?We.N(Mi):We.N(yn):fi.rb(yn)&&this.Hk==fi.y?0>Mi.compare(Ki)?We.N(Mi):We.N(Ki):Ki.rb(Mi)&&this.Hk==Ki.y?0>fi.compare(yn)?We.N(fi):We.N(yn):Mi.rb(yn)&&this.Hk==Mi.y&&(0>fi.compare(Ki)?We.N(fi):We.N(Ki)),D.Me(We.y,We.x)<O.Me(We.y,We.x)?-1:1)},E.prototype.EO=function(D,O){if(D.tb.oa==O.tb.oa&&D.tb.sa==O.tb.sa)return D.tb.ma==O.tb.ma&&D.tb.qa==O.tb.qa?this.bA?this.Ly():0:this.HE(D,O);if(D.tb.ma==O.tb.ma&&D.tb.qa==O.tb.qa)return this.GE(D,O);var L=this.GE(D,O);return D=this.HE(D,O),0>L&&0>D?-1:0<L&&0<D?1:this.yi()},E.prototype.AO=function(D,O){if(D.qa>O.qa){if(O.qa>O.sa&&O.ma-O.oa<2*this.ra&&D.wi(O.qa,O.ma,this.ra))return this.yi()}else if((O.ma-O.oa)/(O.qa-O.sa)*(D.qa-D.sa)<this.Pq&&O.wi(D.qa,D.ma,this.ra))return this.yi();return 1},E.prototype.BO=function(D,O){if(D.sa<O.sa){if(O.qa>O.sa&&O.ma-O.oa<2*this.ra&&D.wi(O.qa,O.ma,this.ra))return this.yi()}else if((O.ma-O.oa)/(O.qa-O.sa)*(D.sa-D.qa)<this.Pq&&O.wi(D.sa,D.oa,this.ra))return this.yi();return-1},E.prototype.CO=function(D,O){var L=new B.h;L.vc(O.xc(),O.ac()),L.cr(),L.normalize();var F=new B.h;F.vc(D.ac(),O.ac());var V=new B.h;V.vc(D.xc(),O.ac()),F=F.Rh(L),L=V.Rh(L),V=Math.abs(F);var W=Math.abs(L);if(V<W){if(V<this.Pq&&O.wi(D.sa,D.oa,this.ra))return this.yi()}else if(W<this.Pq&&O.wi(D.qa,D.ma,this.ra))return this.yi();return 0>F&&0>L?-1:0<F&&0<L?1:this.yi()},E.prototype.FE=function(D,O){return D.oa==O.oa&&D.sa==O.sa?this.AO(D,O):D.ma==O.ma&&D.qa==O.qa?this.BO(D,O):this.CO(D,O)},E.prototype.DO=function(D,O){return D.ma==O.ma&&D.qa==O.qa&&D.oa==O.oa&&D.sa==O.sa?this.bA?this.Ly():0:this.yi()},E.prototype.GE=function(D,O){var L=1;if(D.tb.oa<O.tb.oa){L=-1;var F=D;D=O,O=F}var V=(D=D.tb).sa-(F=O.tb).sa,W=this.Pq;return V<(O=O.kA*(D.oa-F.oa))-W?-L:V>O+W?L:F.wi(D.sa,D.oa,this.ra)?this.yi():V<O?-L:L},E.prototype.HE=function(D,O){var L=1;if(O.tb.ma<D.tb.ma){L=-1;var F=D;D=O,O=F}var V=(D=D.tb).qa-(F=O.tb).sa,W=this.Pq;return V<(O=O.kA*(D.ma-F.oa))-W?-L:V>O+W?L:F.wi(D.qa,D.ma,this.ra)?this.yi():V<O?-L:L},E.prototype.Ly=function(){return this.rg=!0,this.Oi=new B.Nd(5,this.Mo,this.gt),-1},E.prototype.yi=function(){return this.rg=!0,this.bA?this.Oi=new B.Nd(4,this.Mo,this.gt):this.gt=this.Mo=this.Ys=this.Xs=-1,-1},E.prototype.FO=function(D,O,L,F){if(this.rg)return-1;var V=this.GH==this.Hk&&this.FH==this.Mq;if(V&&D==this.Xs)var W=this.HH;else W=NaN,this.Xs=-1;return V&&O==this.Ys?V=this.IH:(V=NaN,this.Ys=-1),L.ne.RI(Be),F.ne.RI($),Be.wa<$.pa?-1:$.wa<Be.pa?1:(this.GH=this.Hk,this.FH=this.Mq,isNaN(W)&&(this.Xs=D,this.HH=W=D=L.ne.Me(this.Hk,this.Mq)),isNaN(V)&&(this.Ys=O,this.IH=V=D=F.ne.Me(this.Hk,this.Mq)),Math.abs(W-V)<=this.ra?this.GO(L.ne,F.ne):W<V?-1:W>V?1:0)},E.prototype.Lr=function(){this.rg=!1},E.prototype.tm=function(){return this.Oi},E.prototype.SJ=function(D,O){this.Hk=D,this.Mq=O,this.gt=this.Mo=this.Ys=this.Xs=-1},E.prototype.compare=function(D,O,L){return this.rg?-1:(D=D.ka(L),this.Fm=L,this.JE(O,O,D,D))},E.prototype.JE=function(D,O,L,F){if(this.Mo==O)var V=this.NA;else this.Mo=O,V=this.NA,this.NA.pb=D,this.eG(V,O,this.g.ud.o,this.g.Te);if(null==W){this.gt=F;var W=this.QH;this.QH.pb=L,this.eG(W,F,this.g.ud.o,this.g.Te)}return V.Uv||W.Uv?this.FO(O,F,V,W):V.Vf.wa<W.Vf.pa?-1:W.Vf.wa<V.Vf.pa?1:(D=V.Wv?1:0,0==(D|=W.Wv?2:0)?this.EO(V,W):1==D?this.FE(V.tb,W.tb):2==D?-1*this.FE(W.tb,V.tb):this.DO(V.tb,W.tb))},E}();B.MC=T}(st||(st={})),function(B){var Be=function(){function $(k,T){this.g=k,this.ra=T,this.rg=!1,this.Mo=-1,this.Vf=new B.Oc,this.Iq=new B.h,this.Iq.Sc(),this.ie=new B.zb,this.Fm=-1,this.vA=17976931348623157e292}return $.prototype.Lr=function(){this.rg=!1,this.vA=17976931348623157e292},$.prototype.Eh=function(k){this.Iq.N(k)},$.prototype.compare=function(k,T){return this.KE(T,k.ka(T))},$.prototype.KE=function(k,T){var E=null!=this.g.cc(T);if(E||(this.g.fd(T,this.ie),this.Vf.EB(this.ie.sa,this.ie.qa)),E)throw B.i.ga("not implemented");if(this.Iq.x+this.ra<this.Vf.pa)return-1;if(this.Iq.x-this.ra>this.Vf.wa)return 1;if(this.ie.oa==this.ie.ma)return this.Fm=k,this.rg=!0,0;this.ie.jI(),E=this.ie.ac(),(T=new B.h).vc(this.ie.xc(),E),T.cr();var D=new B.h;return D.vc(this.Iq,E),E=T.Rh(D),(E/=T.length())<10*-this.ra?-1:E>10*this.ra?1:this.ie.rs(this.Iq,this.ra)&&((T=Math.abs(E))<this.vA&&(this.Fm=k,this.vA=T),this.rg=!0,T<.25*this.ra)?0:0>E?-1:1},$}();B.TL=Be}(st||(st={})),function(B){function Be(k,T,E,D){E=new Float64Array(k.subarray(E,D)),k.set(E,T)}var $=function(){function k(T){this.Pb=this.pk=!1,this.o=null;var E=T;2>E&&(E=2),this.o=new Float64Array(E),this.size=T}return k.prototype.rotate=function(T,E,D){if(this.Pb)throw B.i.ga("invalid_call");if(E<T||E>D||T>D)throw B.i.O();T!=E&&D!=E&&(this.oi(T,E-T,1),this.oi(E,D-E,1),this.oi(T,D-T,1))},k.rf=function(T,E){var D=new k(T),O=D.o;if(2>T&&(T=2),0!==E)for(var L=0;L<T;L++)O[L]=E;return D},k.Cn=function(T){var E=new k(0);return E.o=new Float64Array(T.o),E.size=T.size,E},k.Mr=function(T,E){var D=new k(0);return D.size=T.size,D.size>E&&(D.size=E),2>(E=D.size)&&(E=2),D.o=new Float64Array(E),D.o.set(T.o.length<=E?T.o:T.o.subarray(0,E),0),D},k.prototype.Jb=function(T){0>=T||(null==this.o?this.o=new Float64Array(T):T<=this.o.length||(0<this.o.length?((T=new Float64Array(T)).set(this.o),this.o=T):this.o=new Float64Array(T)))},k.prototype.read=function(T){return this.o[T]},k.prototype.uc=function(T,E){E.x=this.o[T],E.y=this.o[T+1]},k.prototype.get=function(T){return this.o[T]},k.prototype.write=function(T,E){if(this.Pb)throw B.i.Hb();this.o[T]=E},k.prototype.set=function(T,E){if(this.Pb)throw B.i.Hb();this.o[T]=E},k.prototype.Ut=function(T,E){if(this.Pb)throw B.i.Hb();this.o[T]=E.x,this.o[T+1]=E.y},k.prototype.add=function(T){this.resize(this.size+1),this.o[this.size-1]=T},k.prototype.AB=function(T){return k.Mr(this,T)},k.prototype.Bg=function(T){return this.read(T)},k.prototype.resize=function(T,E){if(void 0===E&&(E=0),this.pk)throw B.i.ga("invalid call. Attribute Stream is locked and cannot be resized.");if(T<=this.size){if(30<this.o.length&&5*T/4<this.o.length){var D=new Float64Array(this.o,0,T);this.o=D}}else{T>this.o.length&&(D=B.P.truncate(64>T?Math.max(2*T,4):5*T/4),(D=new Float64Array(D)).set(this.o),this.o=D),D=this.o;for(var O=this.size;O<T;O++)D[O]=E}this.size=T},k.prototype.Ch=function(T){if((null==this.o||T>this.o.length)&&this.resize(T),this.pk)throw B.i.ga("invalid call. Attribute Stream is locked and cannot be resized.");this.size=T},k.prototype.rr=function(T,E){this.write(T,E)},k.prototype.Bn=function(T,E,D){for(var O=this.size;E<O&&E<D;E++)T=B.P.vj(this.read(E));return T},k.prototype.Nb=function(T,E,D){if(null==T||!(T instanceof k))return!1;var O=this.size,L=T.size;if(D>O||D>L&&O!=L)return!1;for(D>O&&(D=O);E<D;E++)if(this.read(E)!=T.read(E))return!1;return!0},k.prototype.addRange=function(T,E,D,O,L){if(this.Pb)throw B.i.Hb();if(!O&&(1>L||D%L!=0))throw B.i.O();var F=this.size;if(this.resize(F+D),O)this.o.set(T.o.subarray(E,E+D),F);else{O=D;for(var V=0;V<D;V+=L){O-=L;for(var W=0;W<L;W++)this.o[F+V+W]=T.o[E+O+W]}}},k.prototype.Nn=function(T,E,D,O,L,F,V){if(this.Pb)throw B.i.Hb();if(!L&&(1>F||O%F!=0))throw B.i.O();var W=this.size-V;if(W<O&&this.resize(this.size+O-W),Be(this.o,T+O,T,T+(V-T)),this.o==E.o&&T<D&&(D+=O),L)this.o.set(E.o.subarray(D,D+O),T);else for(L=O,V=0;V<O;V+=F)for(L-=F,W=0;W<F;W++)this.o[T+V+W]=E.o[D+L+W]},k.prototype.Dz=function(T,E,D,O,L,F){if(this.Pb)throw B.i.Hb();if(0>F&&(F=this.size),this.size+2*O>this.o.length?this.resize(this.size+2*O):this.size+=2*O,Be(this.o,T+2*O,T,T+(F-T)),L)for(L=0;L<O;L++)F=E[D++],this.o[T++]=F.x,this.o[T++]=F.y;else{L=0;for(var V=O-1;L<O;++L)this.o[T++]=(F=E[D+V]).x,this.o[T++]=F.y,V--}},k.prototype.Mn=function(T,E,D,O){if(this.Pb)throw B.i.Hb();for(Be(this.o,T+(O-=T),T,T+O),O=0;O<D;O++)this.o[T+O]=E},k.prototype.wj=function(T,E,D){if(this.Pb)throw B.i.Hb();Be(this.o,T+2,T,T+(D-T)),this.o[T]=E.x,this.o[T+1]=E.y},k.prototype.Vt=function(T,E,D,O,L,F){if(0>T||0>E||0>O||!L&&(0>=F||E%F!=0)||D.size<O+E)throw B.i.O();if(0!=E)if(this.size<E+T&&this.resize(E+T),D==this)this.Cr(T,E,O,L,F);else if(L)for(L=0;L<E;L++)this.o[T]=D.o[O],T++,O++;else if(O=O+E-F,1==F)for(L=0;L<E;L++)this.o[T]=D.o[O],T++,O--;else for(L=0,E=B.P.truncate(E/F);L<E;L++){for(var V=0;V<F;V++)this.o[T+V]=D.o[O+V];T+=F,O-=F}},k.prototype.Fn=function(T,E,D){if(this.Pb||T+E>this.size)throw B.i.Hb();0<D-(T+E)&&Be(this.o,T,T+E,T+(D-(T+E))+E),this.size-=E},k.prototype.oi=function(T,E,D){if(this.Pb||1>D||E%D!=0)throw B.i.Hb();for(var O=E>>1,L=0;L<O;L+=D){E-=D;for(var F=0;F<D;F++){var V=this.o[T+L+F];this.o[T+L+F]=this.o[T+E+F],this.o[T+E+F]=V}}},k.prototype.Xj=function(T,E,D){if(0>E||0>D||0>E||D+E>this.size)throw B.i.O();for(var O=E;O<E+D;O++)this.o[O]=T},k.prototype.Cr=function(T,E,D,O,L){if(!(O&&T==D||(this.o.set(this.o.subarray(D,D+E),T),O)))for(D=T,T=T+E-L,O=0,E=B.P.truncate(E/2);O<E;O++){for(var F=0;F<L;F++){var V=this.o[D+F];this.o[D+F]=this.o[T+F],this.o[T+F]=V}D+=L,T-=L}},k.prototype.oC=function(T,E,D,O,L){if(0>T||0>E||0>O)throw B.i.O();if(0!=E)for(this.size<(E<<1)+T&&this.resize((E<<1)+T),L||(T+=E-1<<1),L=L?2:-2,E+=O;O<E;O++)this.o[T]=D[O].x,this.o[T+1]=D[O].y,T+=L},k.prototype.nC=function(T,E,D){if(0>T||0>E)throw B.i.O();if(0!=E){this.size<(E<<1)+T&&this.resize((E<<1)+T),E+=0;for(var O=0;O<E;O++)this.o[T]=D[O][0],this.o[T+1]=D[O][1],T+=2}},k.prototype.Ww=function(T,E,D,O,L){if(0>T||0>E||0>O||this.size<E+T)throw B.i.O();if(L)for(L=0;L<E;L++)D[O+L]=this.o[T+L];else for(O=O+E-1;T<E;T++)D[O]=this.o[T],O--},k.prototype.oB=function(T,E,D){if(0>T||0>E||this.size<(E>>1)+T)throw B.i.O();if(0!=E){E=0+E;for(var O=0;O<E;O++)D[O][0]=this.o[T],D[O][1]=this.o[T+1],T+=2}},k.prototype.clear=function(T){T?this.resize(0):this.Ch(0)},k.prototype.hx=function(){this.pk=this.Pb=!0},k.prototype.Wd=function(T,E,D){Array.prototype.sort.call(this.o.subarray(T,E),D)},k.prototype.Vp=function(){return 1},k}();B.ce=$}(st||(st={})),function(B){function Be(k,T,E,D){E=new Int32Array(k.subarray(E,D)),k.set(E,T)}B.fY=function(){this.random=1973};var $=function(){function k(T){this.Pb=this.pk=!1,this.o=null;var E=T;2>E&&(E=2),this.o=new Int32Array(E),this.size=T}return k.prototype.rotate=function(T,E,D){if(this.Pb)throw B.i.ga("invalid_call");if(E<T||E>D||T>D)throw B.i.O();T!=E&&D!=E&&(this.oi(T,E-T,1),this.oi(E,D-E,1),this.oi(T,D-T,1))},k.rf=function(T,E){var D=new k(T),O=D.o;if(2>T&&(T=2),0!==E)for(var L=0;L<T;L++)O[L]=E;return D},k.Cn=function(T){var E=new k(0);return E.o=new Int32Array(T.o),E.size=T.size,E},k.Mr=function(T,E){var D=new k(0);return D.size=T.size,D.size>E&&(D.size=E),2>(E=D.size)&&(E=2),D.o=new Int32Array(E),D.o.set(T.o.length<=E?T.o:T.o.subarray(0,E),0),D},k.prototype.Jb=function(T){0>=T||(null==this.o?this.o=new Int32Array(T):T<=this.o.length||(0<this.o.length?((T=new Int32Array(T)).set(this.o),this.o=T):this.o=new Int32Array(T)))},k.prototype.read=function(T){return this.o[T]},k.prototype.uc=function(T,E){E.x=this.o[T],E.y=this.o[T+1]},k.prototype.get=function(T){return this.o[T]},k.prototype.write=function(T,E){if(this.Pb)throw B.i.Hb();this.o[T]=E},k.prototype.set=function(T,E){if(this.Pb)throw B.i.Hb();this.o[T]=E},k.prototype.Ut=function(T,E){if(this.Pb)throw B.i.Hb();this.o[T]=E.x,this.o[T+1]=E.y},k.prototype.add=function(T){this.resize(this.size+1),this.o[this.size-1]=T},k.prototype.AB=function(T){return k.Mr(this,T)},k.prototype.Bg=function(T){return this.read(T)},k.prototype.resize=function(T,E){if(void 0===E&&(E=0),this.pk)throw B.i.ga("invalid call. Attribute Stream is locked and cannot be resized.");if(T<=this.size){if(30<this.o.length&&5*T/4<this.o.length){var D=new Int32Array(this.o,0,T);this.o=D}}else{T>this.o.length&&(D=B.P.truncate(64>T?Math.max(2*T,4):5*T/4),(D=new Int32Array(D)).set(this.o),this.o=D),D=this.o;for(var O=this.size;O<T;O++)D[O]=E}this.size=T},k.prototype.Ch=function(T){if((null==this.o||T>this.o.length)&&this.resize(T),this.pk)throw B.i.ga("invalid call. Attribute Stream is locked and cannot be resized.");this.size=T},k.prototype.rr=function(T,E){this.write(T,E)},k.prototype.Bn=function(T,E,D){for(var O=this.size;E<O&&E<D;E++)T=B.P.Uh(this.read(E),T);return T},k.prototype.Nb=function(T,E,D){if(null==T||!(T instanceof k))return!1;var O=this.size,L=T.size;if(D>O||D>L&&O!=L)return!1;for(D>O&&(D=O);E<D;E++)if(this.read(E)!=T.read(E))return!1;return!0},k.prototype.addRange=function(T,E,D,O,L){if(this.Pb)throw B.i.Hb();if(!O&&(1>L||D%L!=0))throw B.i.O();var F=this.size;if(this.resize(F+D),O)this.o.set(T.o.subarray(E,E+D),F);else{O=D;for(var V=0;V<D;V+=L){O-=L;for(var W=0;W<L;W++)this.o[F+V+W]=T.o[E+O+W]}}},k.prototype.Nn=function(T,E,D,O,L,F,V){if(this.Pb)throw B.i.Hb();if(!L&&(1>F||O%F!=0))throw B.i.O();if(Be(this.o,T+O,T,T+(V-T)),this.o==E.o&&T<D&&(D+=O),L)this.o.set(E.o.subarray(D,D+O),T);else for(L=O,V=0;V<O;V+=F){L-=F;for(var W=0;W<F;W++)this.o[T+V+W]=E.o[D+L+W]}},k.prototype.Dz=function(T,E,D,O,L,F){if(this.Pb)throw B.i.Hb();if(0>F&&(F=this.size),this.size+2*O>this.o.length?this.resize(this.size+2*O):this.size+=2*O,Be(this.o,T+2*O,T,T+(F-T)),L)for(L=0;L<O;L++)F=E[D++],this.o[T++]=F.x,this.o[T++]=F.y;else{L=0;for(var V=O-1;L<O;++L)this.o[T++]=(F=E[D+V]).x,this.o[T++]=F.y,V--}},k.prototype.Mn=function(T,E,D,O){if(this.Pb)throw B.i.Hb();for(Be(this.o,T+(O-=T),T,T+O),O=0;O<D;O++)this.o[T+O]=E},k.prototype.wj=function(T,E,D){if(this.Pb)throw B.i.Hb();Be(this.o,T+2,T,T+(D-T)),this.o[T]=E.x,this.o[T+1]=E.y},k.prototype.Vt=function(T,E,D,O,L,F){if(0>T||0>E||0>O||!L&&(0>=F||E%F!=0)||D.size<O+E)throw B.i.O();if(0!=E)if(this.size<E+T&&this.resize(E+T),D==this)this.Cr(T,E,O,L,F);else if(L)for(L=0;L<E;L++)this.o[T]=D.o[O],T++,O++;else if(O=O+E-F,1==F)for(L=0;L<E;L++)this.o[T]=D.o[O],T++,O--;else for(L=0,E=B.P.truncate(E/F);L<E;L++){for(var V=0;V<F;V++)this.o[T+V]=D.o[O+V];T+=F,O-=F}},k.prototype.Fn=function(T,E,D){if(this.Pb||T+E>this.size)throw B.i.Hb();0<D-(T+E)&&Be(this.o,T,T+E,T+(D-(T+E))+E),this.size-=E},k.prototype.oi=function(T,E,D){if(this.Pb||1>D||E%D!=0)throw B.i.Hb();for(var O=E>>1,L=0;L<O;L+=D){E-=D;for(var F=0;F<D;F++){var V=this.o[T+L+F];this.o[T+L+F]=this.o[T+E+F],this.o[T+E+F]=V}}},k.prototype.Xj=function(T,E,D){if(0>E||0>D||0>E||D+E>this.size)throw B.i.O();for(var O=E;O<E+D;O++)this.o[O]=T},k.prototype.Cr=function(T,E,D,O,L){if(!(O&&T==D||(this.o.set(this.o.subarray(D,D+E),T),O)))for(D=T,T=T+E-L,O=0,E=B.P.truncate(E/2);O<E;O++){for(var F=0;F<L;F++){var V=this.o[D+F];this.o[D+F]=this.o[T+F],this.o[T+F]=V}D+=L,T-=L}},k.prototype.oC=function(T,E,D,O,L){if(0>T||0>E||0>O)throw B.i.O();if(0!=E)for(this.size<(E<<1)+T&&this.resize((E<<1)+T),L||(T+=E-1<<1),L=L?2:-2,E+=O;O<E;O++)this.o[T]=D[O].x,this.o[T+1]=D[O].y,T+=L},k.prototype.Ww=function(T,E,D,O,L){if(0>T||0>E||0>O||this.size<E+T)throw B.i.O();if(L)for(L=0;L<E;L++)D[O+L]=this.o[T+L];else for(O=O+E-1;T<E;T++)D[O]=this.o[T],O--},k.prototype.clear=function(T){T?this.resize(0):this.Ch(0)},k.prototype.hx=function(){this.pk=this.Pb=!0},k.prototype.Wd=function(T,E,D){10>E-T?k.jG(this.o,T,E,D):k.kB(this.o,T,E-1,D)},k.prototype.Vp=function(){return 2},k.prototype.Gc=function(){return this.o[this.size-1]},k.prototype.Jf=function(){this.resize(this.size-1)},k.prototype.PW=function(T){this.o[this.size-1]=T},k.prototype.IV=function(T){T<this.size-1&&(this.o[T]=this.o[this.size-1]),this.resize(this.size-1)},k.prototype.dF=function(T){for(var E=0,D=this.size;E<D;E++)if(this.o[E]==T)return E;return-1},k.prototype.$F=function(T){return 0<=this.dF(T)},k.jG=function(T,E,D,O){for(var L=E;L<D;L++){for(var F=T[L],V=L-1;V>=E&&0<O(T[V],F);)T[V+1]=T[V],V--;T[V+1]=F}},k.rx=function(T,E,D){var O=T[D];T[D]=T[E],T[E]=O},k.kB=function(T,E,D,O){if(!(E>=D))for(;;){if(9>D-E){k.jG(T,E,D+1,O);break}var L=T[E];k.rx(T,E,D);for(var F=E,V=E;V<D;V++)0>=O(T[V],L)&&(k.rx(T,F,V),F+=1);k.rx(T,F,D),F-E<D-F?(k.kB(T,E,F-1,O),E=F+1):(k.kB(T,F+1,D,O),D=F-1)}},k}();B.ja=$}(st||(st={})),function(B){function Be(k,T,E,D){E=new Int8Array(k.subarray(E,D)),k.set(E,T)}var $=function(){function k(T){this.o=null;var E=T;2>E&&(E=2),this.o=new Int8Array(E),this.size=T}return k.prototype.rotate=function(T,E,D){if(this.Pb)throw B.i.ga("invalid_call");if(E<T||E>D||T>D)throw B.i.O();T!=E&&D!=E&&(this.oi(T,E-T,1),this.oi(E,D-E,1),this.oi(T,D-T,1))},k.rf=function(T,E){var D=new k(T),O=D.o;if(2>T&&(T=2),0!==E)for(var L=0;L<T;L++)O[L]=E;return D},k.Cn=function(T){var E=new k(0);return E.o=new Int8Array(T.o),E.size=T.size,E},k.Mr=function(T,E){var D=new k(0);return D.size=T.size,D.size>E&&(D.size=E),2>(E=D.size)&&(E=2),D.o=new Int8Array(E),D.o.set(T.o.length<=E?T.o:T.o.subarray(0,E),0),D},k.prototype.Jb=function(T){0>=T||(null==this.o?this.o=new Int8Array(T):T<=this.o.length||(0<this.o.length?((T=new Int8Array(T)).set(this.o),this.o=T):this.o=new Int8Array(T)))},k.prototype.read=function(T){return this.o[T]},k.prototype.uc=function(T,E){E.x=this.o[T],E.y=this.o[T+1]},k.prototype.get=function(T){return this.o[T]},k.prototype.write=function(T,E){if(this.Pb)throw B.i.Hb();this.o[T]=E},k.prototype.set=function(T,E){if(this.Pb)throw B.i.Hb();this.o[T]=E},k.prototype.Ut=function(T,E){if(this.Pb)throw B.i.Hb();this.o[T]=E.x,this.o[T+1]=E.y},k.prototype.add=function(T){this.resize(this.size+1),this.o[this.size-1]=T},k.prototype.AB=function(T){return k.Mr(this,T)},k.prototype.Bg=function(T){return this.read(T)},k.prototype.resize=function(T,E){if(void 0===E&&(E=0),this.pk)throw B.i.ga("invalid call. Attribute Stream is locked and cannot be resized.");if(T<=this.size){if(30<this.o.length&&5*T/4<this.o.length){var D=new Int8Array(this.o,0,T);this.o=D}}else{T>this.o.length&&(D=B.P.truncate(64>T?Math.max(2*T,4):5*T/4),(D=new Int8Array(D)).set(this.o),this.o=D),D=this.o;for(var O=this.size;O<T;O++)D[O]=E}this.size=T},k.prototype.Ch=function(T){if((null==this.o||T>this.o.length)&&this.resize(T),this.pk)throw B.i.ga("invalid call. Attribute Stream is locked and cannot be resized.");this.size=T},k.prototype.rr=function(T,E){this.write(T,E)},k.prototype.Bn=function(T,E,D){for(var O=this.size;E<O&&E<D;E++)T=B.P.Uh(this.read(E),T);return T},k.prototype.Nb=function(T,E,D){if(null==T||!(T instanceof k))return!1;var O=this.size,L=T.size;if(D>O||D>L&&O!=L)return!1;for(D>O&&(D=O);E<D;E++)if(this.read(E)!=T.read(E))return!1;return!0},k.prototype.addRange=function(T,E,D,O,L){if(this.Pb)throw B.i.Hb();if(!O&&(1>L||D%L!=0))throw B.i.O();var F=this.size;if(this.resize(F+D),O)this.o.set(T.o.subarray(E,E+D),F);else{O=D;for(var V=0;V<D;V+=L){O-=L;for(var W=0;W<L;W++)this.o[F+V+W]=T.o[E+O+W]}}},k.prototype.Nn=function(T,E,D,O,L,F,V){if(this.Pb)throw B.i.Hb();if(!L&&(1>F||O%F!=0))throw B.i.O();if(Be(this.o,T+O,T,T+(V-T)),this.o==E.o&&T<D&&(D+=O),L)this.o.set(E.o.subarray(D,D+O),T);else for(L=O,V=0;V<O;V+=F){L-=F;for(var W=0;W<F;W++)this.o[T+V+W]=E.o[D+L+W]}},k.prototype.Mn=function(T,E,D,O){if(this.Pb)throw B.i.Hb();for(Be(this.o,T+(O-=T),T,T+O),O=0;O<D;O++)this.o[T+O]=E},k.prototype.Dz=function(T,E,D,O,L,F){if(this.Pb)throw B.i.Hb();if(0>F&&(F=this.size),this.size+2*O>this.o.length?this.resize(this.size+2*O):this.size+=2*O,Be(this.o,T+2*O,T,T+(F-T)),L)for(L=0;L<O;L++)F=E[D++],this.o[T++]=F.x,this.o[T++]=F.y;else{L=0;for(var V=O-1;L<O;++L)this.o[T++]=(F=E[D+V]).x,this.o[T++]=F.y,V--}},k.prototype.wj=function(T,E,D){if(this.Pb)throw B.i.Hb();Be(this.o,T+2,T,T+(D-T)),this.o[T]=E.x,this.o[T+1]=E.y},k.prototype.Vt=function(T,E,D,O,L,F){if(0>T||0>E||0>O||!L&&(0>=F||E%F!=0)||D.size<O+E)throw B.i.O();if(0!=E)if(this.size<E+T&&this.resize(E+T),D==this)this.Cr(T,E,O,L,F);else if(L)for(L=0;L<E;L++)this.o[T]=D.o[O],T++,O++;else if(O=O+E-F,1==F)for(L=0;L<E;L++)this.o[T]=D.o[O],T++,O--;else for(L=0,E=B.P.truncate(E/F);L<E;L++){for(var V=0;V<F;V++)this.o[T+V]=D.o[O+V];T+=F,O-=F}},k.prototype.Fn=function(T,E,D){if(this.Pb||T+E>this.size)throw B.i.Hb();0<D-(T+E)&&Be(this.o,T,T+E,T+(D-(T+E))+E),this.size-=E},k.prototype.oi=function(T,E,D){if(this.Pb||1>D||E%D!=0)throw B.i.Hb();for(var O=E>>1,L=0;L<O;L+=D){E-=D;for(var F=0;F<D;F++){var V=this.o[T+L+F];this.o[T+L+F]=this.o[T+E+F],this.o[T+E+F]=V}}},k.prototype.Xj=function(T,E,D){if(0>E||0>D||0>E||D+E>this.size)throw B.i.O();for(var O=E;O<E+D;O++)this.o[O]=T},k.prototype.Cr=function(T,E,D,O,L){if(!(O&&T==D||(this.o.set(this.o.subarray(D,D+E),T),O)))for(D=T,T=T+E-L,O=0,E=B.P.truncate(E/2);O<E;O++){for(var F=0;F<L;F++){var V=this.o[D+F];this.o[D+F]=this.o[T+F],this.o[T+F]=V}D+=L,T-=L}},k.prototype.oC=function(T,E,D,O,L){if(0>T||0>E||0>O)throw B.i.O();if(0!=E)for(this.size<(E<<1)+T&&this.resize((E<<1)+T),L||(T+=E-1<<1),L=L?2:-2,E+=O;O<E;O++)this.o[T]=D[O].x,this.o[T+1]=D[O].y,T+=L},k.prototype.Ww=function(T,E,D,O,L){if(0>T||0>E||0>O||this.size<E+T)throw B.i.O();if(L)for(L=0;L<E;L++)D[O+L]=this.o[T+L];else for(O=O+E-1;T<E;T++)D[O]=this.o[T],O--},k.prototype.clear=function(T){T?this.resize(0):this.Ch(0)},k.prototype.hx=function(){this.pk=this.Pb=!0},k.prototype.Wd=function(T,E,D){E=this.o.subarray(T,E),Array.prototype.sort.call(E,D),this.o.set(E,T)},k.prototype.rJ=function(T,E){if(this.Pb)throw B.i.ga("invalid call. Attribute Stream is read only.");this.o[T]|=E},k.prototype.CE=function(T,E){if(this.Pb)throw B.i.ga("invalid call. Attribute Stream is read only.");this.o[T]&=~E},k.prototype.Vp=function(){return 1},k}();B.rn=$}(st||(st={})),function(B){B.Zc=function(){function Be(){}return Be.Nr=function($,k){return B.rn.rf($,k)},Be.En=function($,k){return B.ce.rf($,k)},Be.hP=function($,k,T){switch($){case 1:$=B.ce.rf(k,T);break;case 2:$=B.ja.rf(k,T);break;case 4:$=B.rn.rf(k,T);break;default:throw B.i.Ra()}return $},Be.QE=function($,k){return Be.hP(B.ua.Vp($),k*B.ua.Wa($),B.ua.te($))},Be.Ph=function($,k){return B.ja.rf($,k)},Be.iI=function($){var k,T=[];for(k=0;k<$;k++)T.push(null);return T},Be}()}(st||(st={})),function(B){B.ha=function(Be){void 0===Be&&(Be=0),this.u=Be}}(st||(st={})),function(B){B.FL=function(){function Be(){}return Be.bind=function($){B.Tc=$.PeDefs,B.qf=$.PeFactory,B.FC=$.PeVertcs,B.fj=$.PeCSTransformations,B.EC=$.PeGTTransformations,B.DL=$.PeGeogtran,B.CL=$.PeFactoryCodechange,B.DC=$.PeGCSExtent,B.Eg=$.PePCSInfo,B.EL=$.PeHorizon,B.BL=$.PeCoordsys,B.mp=$.PeGTlistExtended,B.mp.PE_GTLIST_OPTS_USE_DEFAULT=128,B.qf.initialize(null),B.Kx=$.PeGTlistExtendedEntry,B.qf.fromString(B.Tc.PE_TYPE_UNIT,'UNIT["Meter",1.0]')},Be}(),B.qf=null,B.FC=null,B.BL=null,B.EL=null,B.Eg=null,B.mp=null,B.Kx=null,B.DC=null,B.CL=null,B.DL=null,B.Tc=null,B.EC=null,B.fj=null}(st||(st={})),function(B){var Be=function(){function $(){}return $.Mb=function(k,T){return 0<=T?$.R(k):-$.R(k)},$.R=function(k){return 0>k?-k:k},$.ui=function(k){return 3552713678800501e-30>k},$.CC=function(k,T,E){return $.R(k-T)<=E*(1+($.R(k)+$.R(T))/2)},$.$=function(k,T){return $.CC(k,T,3552713678800501e-30)},$.xL=function(k){return 3552713678800501e-30>=$.R(k)},$.Dd=function(k){return $.xL(k)},$}();B.s=Be,B.F=function(){function $(){}return $.hp=function(k,T){var E=0;return(k=Be.R(k))+(T=Be.R(T))!=0&&(k>T?(E=T/k,E=k*Math.sqrt(1+E*E)):(E=k/T,E=T*Math.sqrt(1+E*E))),E},$.Yq=function(k,T,E,D,O){for(var L=[0,0,0],F=[0,0,0],V=0;2>=V;V++)T[V]-=k[V],E[V]-=T[V];k=-1*((E=L[1]*F[2]-L[2]*F[1])*k[0]+(T=L[2]*F[0]-L[0]*F[2])*k[1]+(L=L[0]*F[1]-L[1]*F[0])*k[2]),D[0]=E,D[1]=T,D[2]=L,D[3]=k,F=$.qn(D),D[0]/=F,D[1]/=F,D[2]/=F,D[3]/=F,0!=O&&(F=Be.Dd(L)?Be.Dd(k)?Be.Mb(1,T):-Be.Mb(1,k):Be.Mb(1,L),F*=Be.Mb(1,O),D[0]*=F,D[1]*=F,D[2]*=F,D[3]*=F)},$.xx=function(k,T,E){E[0]=k[1]*T[2]-T[1]*k[2],E[1]=k[2]*T[0]-T[2]*k[0],E[2]=k[0]*T[1]-T[0]*k[1]},$.Tt=function(k,T){return k[0]*T[0]+k[1]*T[1]+k[2]*T[2]},$.qn=function(k){return $.hp($.hp(k[0],k[1]),k[2])},$.dl=function(k,T,E,D,O,L,F,V){k=$.n(k,T,E);var W=Math.cos(E);L.u=(k+O)*W*Math.cos(D),F.u=(k+O)*W*Math.sin(D),V.u=(k*(1-T)+O)*Math.sin(E)},$.bO=function(k,T,E,D,O,L,F){var V=$.hp(T,E),W=1*Math.sqrt(1-k),X=W/1;if(Be.$(V,0))L.u=0,O.u=Be.Mb(1.570796326794897,D),F.u=Be.R(D)-W;else{L.u=Math.atan2(E,T),E=Math.atan2(1*D,W*V),L=Math.cos(E);var ie=Math.sin(E);T=W*k/(1-k),k*=1,E=Math.atan2(D+T*ie*ie*ie,V-k*L*L*L),3.141592653589793<Be.R(E)&&(E=Be.Mb(3.141592653589793,E)-E),E=Math.atan(X*Math.tan(E)),ie=Math.sin(E),L=Math.cos(E),O.u=Math.atan2(D+T*ie*ie*ie,V-k*L*L*L),1.570796326794897<Be.R(O.u)&&(O.u=Be.Mb(3.141592653589793,O.u)-O.u),E=Math.atan(X*Math.tan(O.u)),ie=Math.sin(E),L=Math.cos(E),F.u=(D-W*ie)*Math.sin(O.u)+(V-1*L)*Math.cos(O.u)}},$.n=function(k,T,E){return E=Math.sin(E),k/Math.sqrt(1-T*E*E)},$.ot=function(k,T){return Math.atan2(Math.sin(T)*(1-k),Math.cos(T))},$.Rj=function(k,T){return Math.atan2(Math.sin(T),Math.cos(T)*(1-k))},$.Tq=function(k,T){if(Be.ui(k)||0==T||Be.$(Be.R(T),1.570796326794897))return T;if(.006884661117170036>k){var E=Math.sqrt(1-k),D=(1-E)/(1+E),O=D*D,L=D*O,F=D*L,V=D*F,W=D*V,X=D*W,ie=1.572916666666667*L-3.2578125*V+4.295068359375*X;k=2.142578125*F-6.071484375*W,E=3.129296875*V-11.249837239583334*X;var Y=4.775276692708333*W,te=7.958636765252976*X,ne=Math.cos(2*T);return T+Math.sin(2*T)*(1.5*D-.84375*L+.525390625*V-.2688395182291667*X-ie+E-te+ne*(2*(1.3125*O-1.71875*F+1.650146484375*W)-4*k+6*Y+ne*(4*ie-12*E+24*te+ne*(8*k-32*Y+ne*(16*E-80*te+ne*(32*Y+64*ne*te))))))}for(E=1-k,D=k/2,L=(O=Be.R(T))*$.$u(k)/(1.570796326794897*E),F=9999,W=O,O=0;1e-16<F&&50>O;O++)X=$.w(k,W),V=W-(ie=(V=($.cG(W,k)-D*Math.sin(2*W)/X)/E-L)/(X=1/(X*X*X))),F=Be.R(ie),W=V;return 0<=T?W:-W},$.gW=function(k,T){return Be.ui(T)?k:k*$.$u(T)/1.570796326794897},$.ca=function(k){return 0>(k=$.hF(k,6.283185307179586))?k+6.283185307179586:3.141592653589793>Be.R(k)||Be.$(Be.R(k),3.141592653589793)?k:k-6.283185307179586},$.hF=function(k,T){return k-Math.floor(k/T)*T},$.Bh=function(k,T){if(.006884661117170036>T){var E=(T=(1-(T=Math.sqrt(1-T)))/(1+T))*T,D=E*E;return k/(1+T)*(1+.25*E+.015625*D+.00390625*E*D)*1.570796326794897}return k*$.$u(T)},$.Xq=function(k,T){var E=Be.Mb(1,Math.sin(T));return T=1.570796326794897>=(T=Be.R($.hF(T,3.141592653589793)))?T:3.141592653589793-T,(Be.$(T,1.570796326794897)?T:Math.atan(Math.sqrt(1-k)*Math.tan(T)))*E},$.q=function(k,T,E){if(.006884661117170036>T){var D=(T=(1-(T=Math.sqrt(1-T)))/(1+T))*T,O=T*D,L=T*O,F=T*L,V=T*F,W=T*V,X=-.7291666666666666*O+.2278645833333333*F+.03987630208333334*W,ie=.615234375*L-.21533203125*V,Y=-.54140625*F+.20302734375*W,te=.48876953125*V,ne=-.4488699776785715*W,we=Math.cos(2*E);return k/(1+T)*((1+.25*D+.015625*L+.00390625*V)*E+Math.sin(2*E)*(-1.5*T+.1875*O+.0234375*F+.00732421875*W-X+Y-ne+we*(2*(.9375*D-.234375*L-.03662109375*V)-4*ie+6*te+we*(4*X-12*Y+24*ne+we*(8*ie-32*te+we*(16*Y-80*ne+we*(32*te+64*we*ne)))))))}return k*($.cG(E,T)-.5*T*Math.sin(2*E)/$.w(T,E))},$.w=function(k,T){return T=Math.sin(T),Math.sqrt(1-k*T*T)},$.$u=function(k){return Be.CC(k,1,2220446049250313e-31)?1:1>k?$.Yw(0,1-k)-k/3*$.Vw(0,1-k):NaN},$.cG=function(k,T){var E=Be.Mb(1,k);k=Be.R(k);var D=Math.floor(k/1.570796326794897);if(1<T)T=0==k?0:NaN;else if(Be.Dd(D))T=(k=$.sin(k))*$.Yw(1-k*k,1-T*k*k)-T/3*k*k*k*$.Vw(1-k*k,1-T*k*k);else{var O=B.P.truncate(D%2),L=$.$u(T);T=0<O?L*(D+1)-(T=(k=Math.sin(1.570796326794897*(D+1)-k))*$.Yw(1-k*k,1-T*k*k)-T/3*k*k*k*$.Vw(1-k*k,1-T*k*k)):L*D+(T=(k=Math.sin(k-1.570796326794897*D))*$.Yw(1-k*k,1-T*k*k)-T/3*k*k*k*$.Vw(1-k*k,1-T*k*k))}return T*E},$.sin=function(k){k=$.ca(k);var T=Be.Mb(1,k);return k=Be.R(k),Be.$(k,3.141592653589793)?0:Be.$(k,1.570796326794897)?1*T:Math.sin(k)*T},$.Vw=function(k,T){var E,D,O,L,F=k,V=T,W=1;for(T=0,k=1;D=((E=.2*(F+V+3*W))-F)/E,O=(E-V)/E,L=(E-W)/E,!(1e-4>Be.R(D)&&1e-4>Be.R(O)&&1e-4>Be.R(L));)L=Math.sqrt(V),T+=k/((E=Math.sqrt(W))*(W+(L=Math.sqrt(F)*(L+E)+L*E))),k*=.25,F=.25*(F+L),V=.25*(V+L),W=.25*(W+L);return V=(F=D*O)-(W=L*L),3*T+k*(1+(W=F-6*W)*(.10227272727272728*W-.2142857142857143-.1730769230769231*L*(D=W+V+V))+L*(.1666666666666667*D+L*(-.4090909090909091*V+.1153846153846154*L*F)))/(E*Math.sqrt(E))},$.Yw=function(k,T){for(var E,D,O,L,F=1;D=2-((E=(k+T+F)/3)+k)/E,O=2-(E+T)/E,L=2-(E+F)/E,!(1e-4>Be.R(D)&&1e-4>Be.R(O)&&1e-4>Be.R(L));F=.25*(F+E))E=Math.sqrt(T),D=Math.sqrt(F),k=.25*(k+(E=Math.sqrt(k)*(E+D)+E*D)),T=.25*(T+E);return(1+(.04166666666666666*(k=D*O-L*L)-.1-.06818181818181818*(T=D*O*L))*k+.07142857142857142*T)/Math.sqrt(E)},$.Rw=function(k,T){if(Be.ui(k)||0==T||Be.$(Be.R(T),1.570796326794897))return T;if(.006884661117170036>k){var E=k*k,D=k*E,O=k*D,L=k*O,F=k*L,V=k*F,W=-(.02708333333333333*D+.03430059523809524*O+.03149181547619048*L+.02634359154541446*F+.02156896735835538*V),X=.007669890873015873*O+.01299603174603175*L+.0148051353064374*F+.01454454953803912*V,ie=-(.002275545634920635*L+.004830845032667949*F+.006558395368616723*V),Y=.0006957236677288761*F+.001775193002406544*V,te=-.000217324089394402*V,ne=Math.cos(2*T);return T+Math.sin(2*T)*(-(.5*k+.2083333333333333*E+.09375*D+.04878472222222222*O+.02916666666666667*L+.01938905423280423*F+.01388255931712963*V)-W+ie-te+ne*(2*(.1041666666666667*E+.0875*D+.06050347222222222*O+.04151785714285714*L+.02958958540013228*F+.02203667534722222*V)-4*X+6*Y+ne*(4*W-12*ie+24*te+ne*(8*X-32*Y+ne*(16*ie-80*te+ne*(32*Y+64*ne*te))))))}return 0==T||Be.$(Be.R(T),1.570796326794897)?E=T:(O=(D=Math.sqrt(k))*Math.sin(T),E=Math.tan(.7853981633974483+T/2)*Math.pow((1-O)/(1+O),D/2),E=2*Math.atan(E)-1.570796326794897),E},$.qO=function(k,T){if(Be.ui(k)||0==T||Be.$(Be.R(T),1.570796326794897))return T;if(.006884661117170036>k){var E=k*(Y=k*(ie=k*(ne=k*k))),D=k*(te=k*E),O=.05833333333333333*ie+.07232142857142858*Y+.05634300595238095*E+.0355325796406526*te+.020235546186067*D,L=.02653149801587302*Y+.04379960317460317*E+.0429211791776896*te+.03255384637546096*D,F=.01294022817460318*E+.02668104344536636*te+.03155651254609588*D,V=.00659454790965208*te+.0163075268674227*D,W=.003463473736911237*D,X=Math.cos(2*T);return T+Math.sin(2*T)*(.5*k+.2083333333333333*ne+.08333333333333333*ie+.03611111111111111*Y+.01875*E+.01195601851851852*te+.008863673941798942*D-O+F-W+X*(2*(.1458333333333333*ne+.1208333333333333*ie+.07039930555555556*Y+.03616071428571429*E+.01839451058201058*te+.01017113095238095*D)-4*L+6*V+X*(4*O-12*F+24*W+X*(8*L-32*V+X*(16*F-80*W+X*(32*V+64*X*W))))))}var ie=Math.sqrt(k),Y=ie/2,te=Math.tan(.7853981633974483+T/2);k=0,O=1;for(var ne=T;0!=O;ne=D)E=ie*Math.sin(ne),D=te*Math.pow((1+E)/(1-E),Y),D=2*Math.atan(D)-1.570796326794897,k++,(Be.$(D,ne)||3e4<k)&&(O=0);return ne},$}()}(st||(st={})),function(B){var Be=function(){function $(k){this.wl=this.Vs=null,this.Jv=!1,this.AA=this.BA=0,this.zH=new B.h,this.PH=new B.h,this.EA=!1,this.xq=new B.l,this.oH=this.tw=0,this.uw=null,this.Bl=!1,this.Fo=null,this.Xz=0,this.Re=k,this.Bs=B.Ab.yv(this.Re,0,!0),this.zH.Sc(),this.PH.Sc(),this.JH=NaN;var T=k.getCode();0<T?(this.Kk=T,B.qf.getCode(k)):this.Kk=B.qf.getCode(k),0>this.Kk&&(this.Kk=0);var E=this.Re.getType();if(this.bH=E==B.Tc.PE_TYPE_PROJCS?2:1,E==B.Tc.PE_TYPE_PROJCS&&!k.loadConstants())throw B.i.O("PeProjcs.loadConstants failed");T=E==B.Tc.PE_TYPE_GEOGCS?this.Re:this.Re.getGeogcs(),E!=B.Tc.PE_TYPE_GEOGCS&&B.qf.getCode(T),this.Fo=k.getUnit(),this.JH=T.getPrimem().getLongitude(),this.oH=k=T.getUnit().getUnitFactor(),k=Math.PI/(180*k),1e-10>Math.abs(k-1)&&(k=1),this.AA=k,0!=(E&B.Tc.PE_TYPE_PROJCS)?(this.BA=1/(T=this.Re).getUnit().getUnitFactor(),this.tw=.001/this.Re.getUnit().getUnitFactor(),this.uw=B.Eg.generate(T,B.Eg.PE_PCSINFO_OPTION_NONE),this.Bl=this.uw.isPannableRectangle(),this.Xz=B.Ab.iN(this.uw.getCentralMeridian(),this.AA)):(this.EA=this.Bl=!0,this.BA=0,E=1/T.getUnit().getUnitFactor(),this.tw=.001/T.getDatum().getSpheroid().getAxis()*E,this.Xz=0),this.Bl&&(this.vx(),this.vK(),this.bY(),this.uK(),this.$X(),this.aY())}return $.prototype.bs=function(){return this.Kk},$.prototype.kk=function(){return this.uw},$.Ky=function(k,T){return k==T||null!=k&&null!=T&&0==k.Kk&&0==T.Kk&&k.Bs===T.Bs},$.prototype.Xc=function(){return this.Bl},$.prototype.hh=function(k){k.L(this.to)},$.prototype.qv=function(){return this.to.v},$.prototype.pv=function(){return this.to.C},$.prototype.yR=function(k){k.L(this.vw)},$.prototype.$X=function(){var k=this.Re.getType();if(k==B.Tc.PE_TYPE_PROJCS){k=this.Re;var T=this.kk().getCentralMeridian(),E=k.getGeogcs();if(null==E)throw B.i.ga("internal error");T=[[T+(E=1/E.getUnit().getUnitFactor()*Math.PI),0]],B.fj.geogToProj(k,1,T),T=T[0][0],E=k.getParameters()[B.Tc.PE_PARM_X0].getValue();var D=this.ol();k=new B.l,D.A(k),T=(D=Math.abs(T-E))+E,E=-1*D+E,D=k.H,k=k.G;var O=new B.l;O.L(E,k,T,D),null==this.to&&(this.to=O)}else{if(k!=B.Tc.PE_TYPE_GEOGCS)throw B.i.ga("internal error");E=1/this.Re.getUnit().getUnitFactor()*Math.PI,(k=new B.l).L(-E,-E/2,E,E/2),null==this.to&&(this.to=k)}},$.prototype.aY=function(){var k=this.Re.getType();if(k==B.Tc.PE_TYPE_PROJCS){var T=this.Re;if(k=this.kk().getCentralMeridian(),null==(T=T.getGeogcs()))throw B.i.ga("internal error");T=1/T.getUnit().getUnitFactor()*Math.PI;var E=this.Wr(),D=new B.l;E.A(D),(E=new B.l).L(k-T,D.G,k+T,D.H),null==this.vw&&(this.vw=E)}else{if(k!=B.Tc.PE_TYPE_GEOGCS)throw B.i.ga("internal error");T=1/this.Re.getUnit().getUnitFactor()*Math.PI,(k=new B.l).L(-T,-T/2,T,T/2),null==this.vw&&(this.vw=k)}},$.prototype.bf=function(){return this.AA},$.prototype.rm=function(){return this.BA},$.prototype.Wr=function(){if(this.Bl)return this.wl;var k=this.wl;return null!=k?k:(this.vx(),this.wl)},$.prototype.Xr=function(){return this.Bl?null:(null!=this.wl||this.vx(),this.PG)},$.prototype.vx=function(){if(this.Re.getType()==B.Tc.PE_TYPE_PROJCS){var k=this.Re,T=k.getGeogcs(),E=k.horizonGcsGenerate();if(null!=E){var D=E[0].getNump(),O=E[0].getKind();k=0<E[0].getInclusive();var L=this.bf(),F=90*L,V=360*L,W=370*L,X=180*L*B.Tc.PE_HORIZON_DELTA/Math.PI,ie=new B.l,Y=null;if(1<D)for(var te=1;te<D;te++)if(E[te].getKind()==B.Tc.PE_HORIZON_LINE){null==Y&&(Y=new B.Ua);var ne=E[te].getCoord();Y.qx(ne[0][0],ne[0][1]),Y.zj(ne[1][0],ne[1][1])}if(O==B.Tc.PE_HORIZON_RECT)E=E[0].getCoord(),ie.L(E[0][0],E[0][1]),ie.$b(E[1][0],E[1][1]),Math.abs(ie.H-F)<1e-7*X&&(ie.H=F),Math.abs(ie.G+F)<1e-7*X&&(ie.G=-F),ie.S()>W&&ie.L(E=-400*L,ie.G,E+5*V,ie.H),E=new B.Gh(ie),null==this.wl&&(this.wl=E,this.Jv=k);else{if(W=new B.Ea,V=this.kk().isGcsHorizonMultiOverlap(),ie=B.hu.UE(T,B.iu.Integer64),V){for(W=new B.ZK,X=B.Hh.local().W(W,ie,null),te=0;te<D;te++)if(E[te].getKind()==B.Tc.PE_HORIZON_POLY){for(T=E[te].getSize(),L=E[te].getCoord(),O=[],F=0;F<T;F++)O[F]=B.h.construct(L[F][0],L[F][1]);E[te].getInclusive(),V&&((L=new B.Ea).Zk(O,T-1),W.NX(L),X.qe())}W=X.next()}else for(te=0;te<D;te++)if(E[te].getKind()==B.Tc.PE_HORIZON_POLY){for(T=E[te].getSize(),L=E[te].getCoord(),V=[],F=0;F<T;F++)V[F]=B.h.construct(L[F][0],L[F][1]);E[te].getInclusive(),W.Zk(V,T-1)}k?B.Wk.local().xn(W,ie,1):B.lp.local().xn(W,ie,1),B.ej.local().xn(W,ie,1),null==this.wl&&(this.wl=W,this.Jv=k,this.PG=Y)}}}},$.prototype.jv=function(){return this.Bl||null==this.wl&&this.vx(),this.Jv},$.prototype.vK=function(){if(2==this.bH){var k=this.Re.horizonPcsGenerate();if(null!=k){var T=k[0].getKind();k[0].getInclusive();var E=k[0].getNump(),D=!1;if(T==B.Tc.PE_HORIZON_RECT)k=k[0].getCoord(),(E=new B.l).L(k[0][0],k[0][1]),E.$b(k[1][0],k[1][1]),k=new B.Gh(E);else{for(T=-1,D=0;D<E;D++)k[D].getKind()==B.Tc.PE_HORIZON_POLY&&(T=D);for(D=k[T].getSize()-1,k=k[T].getCoord(),E=[],T=0;T<D;T++)E[T]=B.h.construct(k[T][0],k[T][1]);k=T=new B.Ea,T.Zk(E,D),D=!0}this.kk().isDensificationNeeded()&&(E=1e5*this.rm(),k=B.Zl.local().W(k,E,null)),D&&(D=new B.Gh,k.dn(D),k.He(),k.Rb(),k.hR(),B.Wk.local().xn(k,null,1)),null==this.Vs&&(this.Vs=k)}}},$.prototype.ol=function(){if(this.Bl)return this.Vs;var k=this.Vs;return null!=k?k:(this.vK(),this.Vs)},$.prototype.bY=function(){if(this.Re.getType()==B.Tc.PE_TYPE_PROJCS){var k=90*this.bf();B.fj.geogToProj(this.Re,2,k=[[0,k],[0,-k]]);var T=this.kk(),E=T.getNorthPoleLocation()!=B.Eg.PE_POLE_OUTSIDE_BOUNDARY;T=T.getSouthPoleLocation()!=B.Eg.PE_POLE_OUTSIDE_BOUNDARY,this.EA||(E&&this.zH.na(k[0][0],k[0][1]),T&&this.PH.na(k[1][0],k[1][1]))}this.EA=!0},$.prototype.uK=function(){if(1==this.bH){var k=400*this.bf();this.xq.L(-k,-k,k,k)}else k=B.Eg.generate(this.Re,B.Eg.PE_PCSINFO_OPTION_DOMAIN),k=B.l.construct(k.getDomainMinx(),k.getDomainMiny(),k.getDomainMaxx(),k.getDomainMaxy()),this.xq.B()&&this.xq.L(k)},$.prototype.$Q=function(k){this.Bl&&k.L(this.xq),this.xq.B()&&this.uK(),k.L(this.xq)},$.prototype.Wp=function(){return this.JH},$.prototype.Ai=function(){return this.Xz},$.prototype.Id=function(){return this.Fo},$.prototype.Yr=function(){return this.oH},$}();B.GC=Be}(st||(st={})),function(B){var Be=function(){function $(k){this.AT=k,this.Bs=B.Ab.yv(k,0,!0);var T=k.getCode();this.ts=0<T?T:B.qf.getCode(k),0>this.ts&&(this.ts=0),this.Fo=T=this.AT.getUnit(),this.AH=1/T.getUnitFactor(),B.qf.getCode(k)}return $.Ky=function(k,T){return k==T||null!=k&&null!=T&&0==k.ts&&0==T.ts&&k.Bs===T.Bs},$.prototype.bs=function(){return this.ts},$}();B.HL=Be}(st||(st={})),function(B){B.Zg=function(){function Be(){}return Be.ub=function($,k,T,E,D,O,L,F){if(null!=O||null!=L||null!=F){E=B.F.ca(E),k=B.F.ca(k),T=B.F.ca(T),D=B.F.ca(D),1.570796326794897<B.s.R(T)&&(T=B.s.Mb(3.141592653589793,T)-T,k=B.F.ca(k+3.141592653589793)),1.570796326794897<B.s.R(D)&&(D=B.s.Mb(3.141592653589793,D)-D,E=B.F.ca(E+3.141592653589793));var V=B.F.ca(E-k);if(B.s.$(T,D)&&(B.s.$(k,E)||B.s.$(B.s.R(T),1.570796326794897)))null!=O&&(O.u=0),null!=L&&(L.u=0),null!=F&&(F.u=0);else{if(B.s.$(T,-D)){if(B.s.$(B.s.R(T),1.570796326794897))return null!=O&&(O.u=3.141592653589793*$),null!=L&&(L.u=B.F.ca(0<T?3.141592653589793-B.F.ca(E):E)),void(null!=F&&(F.u=B.F.ca(0<T?E:3.141592653589793-B.F.ca(E))));if(B.s.$(B.s.R(V),3.141592653589793))return null!=O&&(O.u=3.141592653589793*$),null!=L&&(L.u=0),void(null!=F&&(F.u=0))}var W=1.570796326794897==B.s.R(T)?0:Math.cos(T),X=Math.sin(T),ie=1.570796326794897==B.s.R(D)?0:Math.cos(D),Y=Math.sin(D),te=1.570796326794897==B.s.R(V)?0:Math.cos(V),ne=3.141592653589793==B.s.R(V)?0:Math.sin(V);if(null!=O){var we=Math.sin((D-T)/2);V=Math.sin(V/2),O.u=2*Math.asin(Math.sqrt(we*we+W*ie*V*V))*$}null!=L&&(L.u=B.s.$(B.s.R(T),1.570796326794897)?0>T?E:B.F.ca(3.141592653589793-E):Math.atan2(ie*ne,W*Y-X*ie*te)),null!=F&&(B.s.$(B.s.R(D),1.570796326794897)?F.u=0>D?k:B.F.ca(3.141592653589793-k):(F.u=Math.atan2(W*ne,Y*W*te-ie*X),F.u=B.F.ca(F.u+3.141592653589793)))}}},Be.sf=function($,k,T,E,D,O,L){if(null!=O||null!=L){k=B.F.ca(k),T=B.F.ca(T),1.570796326794897<B.s.R(T)&&(T=B.s.Mb(3.141592653589793,T)-T,k=B.F.ca(k+3.141592653589793)),B.s.$(B.s.R(T),1.570796326794897)&&(k=0),D=B.F.ca(D);var F=B.s.$(B.s.R(D),1.570796326794897)?0:Math.cos(D),V=B.s.$(B.s.R(D),3.141592653589793)?0:Math.sin(D),W=B.s.$(B.s.R(T),1.570796326794897)?0:Math.cos(T),X=Math.sin(T);E=B.s.$(B.s.R($=E/$),1.570796326794897)?0:Math.cos($);var ie=B.s.$(B.s.R($),3.141592653589793)?0:Math.sin($),Y=Math.asin(X*E+W*ie*F);null!=L&&(L.u=Y),null!=O&&(O.u=B.s.$(B.s.R(Y),1.570796326794897)?B.s.$(T,-Y)?0>Y?D:B.F.ca(3.141592653589793-D):k:B.s.$(B.s.R(T),1.570796326794897)&&B.s.$($,3.141592653589793)?0>T?D:B.F.ca(3.141592653589793-D):B.F.ca(k+Math.atan2(ie*V,W*E-X*ie*F)))}},Be}()}(st||(st={})),function(B){B.Xk=function(){function Be(){}return Be.ub=function($,k,T,E,D,O,L,F,V){var W=new B.ha(0),X=new B.ha(0),ie=[0,0,0],Y=[0,0,0],te=[0,0,0],ne=new B.ha(0),we=new B.ha(0),ze=new B.ha(0),_t=new B.ha(0),Mt=new B.ha(0);if(null!=L||null!=F||null!=V)if(B.s.ui(k))B.Zg.ub($,T,E,D,O,L,F,V);else{D=B.F.ca(D),T=B.F.ca(T);var pe=B.F.ca(D-T);if(B.s.$(E,O)&&(B.s.$(T,D)||B.s.$(B.s.R(E),1.570796326794897)))null!=L&&(L.u=0),null!=F&&(F.u=0),null!=V&&(V.u=0);else{if(B.s.$(E,-O)){if(B.s.$(B.s.R(E),1.570796326794897))return null!=L&&(L.u=2*B.F.Bh($,k)),null!=F&&(F.u=B.F.ca(0<E?3.141592653589793-B.F.ca(D):D)),void(null!=V&&(V.u=B.F.ca(0<E?D:3.141592653589793-B.F.ca(D))));B.s.$(B.s.R(pe),3.141592653589793)&&(null!=L&&(L.u=2*B.F.Bh($,k)),null!=F&&(F.u=0),null!=V&&(V.u=0))}else(B.s.$(B.s.R(E),1.570796326794897)||B.s.$(B.s.R(O),1.570796326794897))&&(B.s.$(B.s.R(E),1.570796326794897)?T=D:D=T);var Ge=0;if(0>pe){Ge=1;var it=T;T=D,D=it,it=E,E=O,O=it}pe=B.F.ot(k,E);var ht=B.F.ot(k,O);null==F&&null==V||(B.Zg.ub($,T,pe,D,ht,null,W,X),W=Math.atan2(Math.sin(W.u)*Math.cos(E-pe),Math.cos(W.u)),X=Math.atan2(Math.sin(X.u)*Math.cos(O-ht),Math.cos(X.u)),0!=Ge&&(it=W,W=X,X=it),null!=F&&(F.u=W),null!=V&&(V.u=X)),null!=L&&(B.F.dl(1,k,E,T,0,ze,_t,Mt),ie[0]=ze.u,ie[1]=_t.u,ie[2]=Mt.u,B.F.dl(1,k,O,D,0,ze,_t,Mt),Y[0]=ze.u,Y[1]=_t.u,Y[2]=Mt.u,te[0]=ie[1]*Y[2]-Y[1]*ie[2],te[1]=-(ie[0]*Y[2]-Y[0]*ie[2]),te[2]=ie[0]*Y[1]-Y[0]*ie[1],k=1-B.F.w(k,B.F.Xq(k,B.F.Rj(k,Math.acos(te[2]/Math.sqrt(te[0]*te[0]+te[1]*te[1]+te[2]*te[2]))))),k*=2-k,F=Math.atan2(-te[1],-te[0]),te=B.F.ca(F-1.570796326794897),F=B.F.ca(F+1.570796326794897),te=B.s.R(B.F.ca(T-te))<=B.s.R(B.F.ca(T-F))?te:F,B.Zg.ub(1,te,0,T,pe,ne,null,null),B.Zg.ub(1,te,0,D,ht,we,null,null),3.141592653589793<ne.u+we.u&&(te=B.F.ca(te+3.141592653589793),B.Zg.ub(1,te,0,T,pe,ne,null,null),B.Zg.ub(1,te,0,D,ht,we,null,null)),ne.u*=B.s.Mb(1,E),we.u*=B.s.Mb(1,O),ne.u=B.F.Rj(k,ne.u),we.u=B.F.Rj(k,we.u),T=B.F.q($,k,ne.u),$=B.F.q($,k,we.u),L.u=B.s.R($-T))}}},Be.sf=function($,k,T,E,D,O,L,F){var V=0,W=new B.ha(0),X=new B.ha(0),ie=[0,0,0],Y=[0,0,0],te=new B.ha(0),ne=new B.ha(0),we=new B.ha(0);if(null!=L||null!=F)if(B.s.ui(k))B.Zg.sf($,T,E,D,O,L,F);else if(B.s.Dd(D))null!=L&&(L.u=T),null!=F&&(F.u=E);else if(O=B.F.ca(O),0>D&&(D=B.s.R(D),O=B.F.ca(O+3.141592653589793)),T=B.F.ca(T),E=B.F.ca(E),1.570796326794897<B.s.R(E)&&(T=B.F.ca(T+3.141592653589793),E=B.s.Mb(3.141592653589793,E)-E),B.s.$(B.s.R(E),1.570796326794897)&&(T=0),B.s.Dd(E)){var ze=B.s.R(1.570796326794897-B.s.R(O));ze=B.F.Rj(k,ze),ze=1-B.F.w(k,B.F.Xq(k,ze)),$=D/B.F.Bh($,ze*=2-ze)*1.570796326794897,$=B.F.Tq(ze,$),$=B.F.ot(ze,$),B.Zg.sf(1,T,E,$,O,L,W),null!=F&&(V=W.u),null!=F&&(F.u=B.F.Rj(k,V))}else if(B.s.$(B.s.R(E),1.570796326794897))W=2*(V=B.F.Bh($,k)),O=0<($=B.s.Mb(1.570796326794897,E))?B.F.ca(3.141592653589793-O):O,B.s.R(E=V-D)<=V?null!=L&&(L.u=O):(E=Math.floor(D/W),0==B.P.truncate(E%2)?(null!=L&&(L.u=O),D-=E*W):(null!=L&&(L.u=B.F.ca(O+3.141592653589793)),D=(E+1)*W-D),E=V-D),null!=F&&(F.u=B.F.Tq(k,E/V*$));else{ze=B.F.ot(k,E),O=Math.atan2(Math.sin(O),Math.cos(O)*Math.cos(E-ze));var _t=B.P.truncate(B.s.Mb(1,ze))*(1.570796326794897>=B.s.R(O)?1:-1);O=B.F.ca(T+Math.atan(Math.tan(O)*-Math.sin(ze))),B.Zg.ub($,O,0,T,ze,null,X,null),ze=B.s.R(1.570796326794897-B.s.R(X.u)),ze=B.F.Rj(k,ze),ze=1-B.F.w(k,B.F.Xq(k,ze)),ze*=2-ze,B.F.dl(1,k,0,O,0,te,ne,we),ie[0]=te.u,ie[1]=ne.u,ie[2]=we.u,B.F.dl(1,k,E,T,0,te,ne,we),Y[0]=te.u,Y[1]=ne.u,Y[2]=we.u,E=Math.acos((ie[0]*Y[0]+ie[1]*Y[1]+ie[2]*Y[2])/Math.sqrt(Y[0]*Y[0]+Y[1]*Y[1]+Y[2]*Y[2])),E=B.F.Rj(ze,E),D=0<(E=B.F.q($,ze,E)+D*_t)?X.u:B.F.ca(X.u+3.141592653589793),$=B.s.R(E)/B.F.Bh($,ze)*1.570796326794897,$=B.F.Tq(ze,$),$=B.F.ot(ze,$),B.Zg.sf(1,O,0,$,D,L,W),null!=F&&(V=W.u),null!=F&&(F.u=B.F.Rj(k,V))}},Be}()}(st||(st={})),function(B){B.du=function(){function Be(){}return Be.ub=function($,k,T,E,D,O,L,F,V){var W=0,X=0,ie=0;if(null!=L||null!=F||null!=V)if(B.s.ui(k))B.Zg.ub($,T,E,D,O,L,F,V);else{var Y=B.F.ca(D-T);if(B.s.$(E,O)&&(B.s.Dd(Y)||B.s.$(B.s.R(E),1.570796326794897)))null!=L&&(L.u=0),null!=F&&(F.u=0),null!=V&&(V.u=0);else{if(B.s.$(E,-O)){if(B.s.$(B.s.R(E),1.570796326794897))return null!=L&&(L.u=2*B.F.Bh($,k)),null!=F&&(F.u=B.F.ca(0<E?3.141592653589793-B.F.ca(D):D)),void(null!=V&&(V.u=B.F.ca(0<E?D:3.141592653589793-B.F.ca(D))));B.s.$(B.s.R(Y),3.141592653589793)&&(null!=L&&(L.u=2*B.F.Bh($,k)),null!=F&&(F.u=0),null!=V&&(V.u=0))}else if(B.s.$(B.s.R(E),1.570796326794897)||B.s.$(B.s.R(O),1.570796326794897)||B.s.Dd(Y)||B.s.$(B.s.R(Y),3.141592653589793))return void B.Xk.ub($,k,T,E,D,O,L,F,V);var te=1-Math.sqrt(1-k),ne=k/(1-k),we=$*(1-te);$=B.F.Xq(k,E);var ze=B.F.Xq(k,O);k=1.570796326794897==B.s.R($)?0:Math.cos($);var _t=Math.sin($),Mt=1.570796326794897==B.s.R(ze)?0:Math.cos(ze),pe=Math.sin(ze),Ge=Y,it=Math.cos(Ge),ht=Math.sin(Ge),mt=1,yt=0;do{var Ot=Ge,St=Math.sqrt(Math.pow(Mt*ht,2)+Math.pow(k*pe-_t*Mt*it,2)),Tt=_t*pe+k*Mt*it,_i=Math.atan2(St,Tt);if(0==St){mt=0;break}var mi=k*Mt*ht/St;if(W=Math.cos(Math.asin(mi)),X=Tt-2*_t*pe/(W*=W),1<B.s.R(X)&&(X=B.s.Mb(1,X)),Ge=Y+(1-(Ge=te/16*W*(4+te*(4-3*W))))*te*mi*(_i+Ge*St*(X+Ge*Tt*(2*(ie=X*X)-1))),it=Math.cos(Ge),ht=Math.sin(Ge),yt++,3.141592653589793<B.s.R(Ge)&&30<yt){mt=0;break}}while(5e3>=yt&&!B.s.$(Ot,Ge));if(0!=mt)te=(ne*=W)*(256+ne*(ne*(74-47*ne)-128))/1024,null!=L&&(L.u=we*(1+ne*(4096+ne*(ne*(320-175*ne)-768))/16384)*(_i-te*St*(X+te/4*(Tt*(2*ie-1)-te/6*X*(4*St*St-3)*(4*ie-3))))),null!=F&&(F.u=B.s.$(B.s.R(E),1.570796326794897)?0>E?D:B.F.ca(3.141592653589793-D):Math.atan2(Mt*ht,k*pe-_t*Mt*it)),null!=V&&(B.s.$(B.s.R(O),1.570796326794897)?V.u=0>O?T:B.F.ca(3.141592653589793-T):(V.u=Math.atan2(k*ht,k*pe*it-_t*Mt),V.u=B.F.ca(V.u+3.141592653589793)));else{Ge=B.s.Mb(3.141592653589793,Y),Tt=_t*pe-k*Mt,_i=Math.acos(Tt),St=Math.sin(_i),W=1,yt=mi=0;do{ie=mi,it=1-.25*(mi=te*(W*=W)*(1+te+te*te))+.1875*(X=te*te*(it=W*W)*(1+2.25*te))-.1953125*(mt=te*te*te*it*W),mi=.25*mi-.25*X+.29296875*mt,ht=.03125*X-.05859375*mt,mt*=.00651041666666667,1<B.s.R(X=Tt-2*_t*pe/W)&&(X=B.s.Mb(1,X)),W=Math.acos(X),Tt=Math.cos(2*W),Ot=Math.cos(3*W),ht=(mi=B.s.$(E,-O)?B.F.ca(3.141592653589793-Y)/(3.141592653589793*te*it):B.F.ca(Ge-Y)/(te*(it*_i+mi*St*X+ht*Math.sin(2*_i)*Tt+mt*Math.sin(3*_i)*Ot)))*St/(k*Mt),Ge=1.570796326794897<B.s.R(Y)?B.s.Mb(3.141592653589793,ht)-Math.asin(ht):Math.asin(ht),it=Math.cos(Ge),St=Math.sqrt(Math.pow(Mt*ht,2)+Math.pow(k*pe-_t*Mt*it,2)),_i=3.141592653589793-Math.asin(B.s.R(St)),Tt=Math.cos(_i),W=Math.cos(Math.asin(mi)),yt++}while(70>=yt&&!B.s.$(ie,mi));null!=L&&(it=1+(ne*=W*=W)*(4096+ne*(ne*(320-175*ne)-768))/16384,B.s.$(E,-O)?L.u=3.141592653589793*we*it:(X=Tt-2*_t*pe/W,W=Math.acos(X),Tt=Math.cos(2*W),Ot=Math.cos(3*W),L.u=we*(it*_i+ne*(ne*(128+ne*(35*ne-60))-512)/2048*St*X+ne*(5*ne-4)/6144*ne*ne*Math.sin(2*_i)*Tt+mt*Math.sin(3*_i)*Ot+-762939453125e-16*ne*ne*ne*ne*Math.sin(4*_i)*Math.cos(4*W)))),null!=F&&(B.s.Dd(E)&&B.s.Dd(O)?(W=Math.sqrt(1-mi*mi),F.u=Math.acos(W),0>Y&&(F.u*=-1)):B.s.$(B.s.R(E),1.570796326794897)?F.u=0>E?D:B.F.ca(3.141592653589793-D):(L=mi/k,we=Math.sqrt(1-L*L),0>k*pe-_t*Mt*Math.cos(Ge)&&(we*=-1),F.u=Math.atan2(L,we),B.s.$(E,-O)&&B.s.R(B.F.ca(T-D))>3.141592653589793*(1-te*Math.cos(E))&&(0<E&&1.570796326794897>B.s.R(F.u)||0>E&&1.570796326794897<B.s.R(F.u))&&(F.u=B.s.Mb(3.141592653589793,F.u)-F.u))),null!=V&&(B.s.Dd(E)&&B.s.Dd(O)?(W=Math.sqrt(1-mi*mi),V.u=Math.acos(W),0<=Y&&(V.u*=-1)):B.s.$(B.s.R(O),1.570796326794897)?V.u=0>O?T:B.F.ca(3.141592653589793-T):(Y=mi/Mt,L=Math.sqrt(1-Y*Y),we=Math.sin(Ge/2),0>Math.sin(ze-$)-2*k*pe*we*we&&(L*=-1),V.u=Math.atan2(Y,L),V.u=B.F.ca(V.u+3.141592653589793),B.s.$(E,-O)&&!B.s.Dd(E)&&!B.s.$(B.s.R(E),1.570796326794897)&&B.s.R(B.F.ca(T-D))>3.141592653589793*(1-te*Math.cos(E))&&(null!=F?we=F.u:(L=mi/k,we=Math.sqrt(1-L*L),0>k*pe-_t*Mt*Math.cos(Ge)&&(we*=-1),we=Math.atan2(L,we),B.s.$(E,-O)&&B.s.R(B.F.ca(T-D))>3.141592653589793*(1-te*Math.cos(E))&&(0<E&&1.570796326794897>B.s.R(we)||0>E&&1.570796326794897<B.s.R(we))&&(we=B.s.Mb(3.141592653589793,we)-we)),1.570796326794897>=B.s.R(we)&&1.570796326794897<B.s.R(V.u)||1.570796326794897<=B.s.R(we)&&1.570796326794897>B.s.R(V.u))&&(V.u=-1*B.F.ca(V.u+3.141592653589793))))}}}},Be.sf=function($,k,T,E,D,O,L,F){if(null!=L||null!=F)if(B.s.ui(k))B.Zg.sf($,T,E,D,O,L,F);else if(O=B.F.ca(O),B.s.$(B.s.R(E),1.570796326794897)||B.s.Dd(O)||B.s.$(B.s.R(O),3.141592653589793))B.Xk.sf($,k,T,E,D,O,L,F);else{var V=1.570796326794897==B.s.R(O)?0:Math.cos(O),W=3.141592653589793==B.s.R(O)?0:Math.sin(O);B.s.$(B.s.R(E),1.570796326794897)&&(T=0),O=1-Math.sqrt(1-k);var X=B.F.Xq(k,E);E=1.570796326794897==B.s.R(X)?0:Math.cos(X);var ie=Math.sin(X);X=Math.atan2(Math.tan(X),V);var Y=E*W,te=Y*Y,ne=1-te,we=k/(1-k)*ne,ze=(k=we*(256+we*(we*(74-47*we)-128))/1024)/4,_t=k/6,Mt=D/($*(1-O)*(1+we*(4096+we*(we*(320-175*we)-768))/16384)),pe=Mt;do{var Ge=pe;D=1.570796326794897==B.s.R(pe)?0:Math.cos(pe);var it=(we=3.141592653589793==B.s.R(pe)?0:Math.sin(pe))*we;pe=k*we*(($=Math.cos(2*X+pe))+ze*(D*(2*(pe=$*$)-1)-_t*$*(4*it-3)*(4*pe-3)))+Mt}while(!B.s.$(Ge,pe));D=1.570796326794897==B.s.R(pe)?0:Math.cos(pe),we=3.141592653589793==B.s.R(pe)?0:Math.sin(pe),null!=L&&(W=Math.atan2(we*W,E*D-ie*we*V),ne=O/16*ne*(4+O*(4-3*ne)),$=Math.cos(2*X+pe),L.u=B.F.ca(T+(W-(1-ne)*O*Y*(pe+ne*we*($+ne*D*(2*$*$-1)))))),null!=F&&(ne=ie*we-E*D*V,ne=(1-O)*Math.sqrt(te+ne*ne),F.u=Math.atan2(ie*D+E*we*V,ne))}},Be}()}(st||(st={})),function(B){B.HC=function(){function Be(){}return Be.ub=function($,k,T,E,D,O,L,F,V){var W=B.F.ca(D-T),X=B.s.$(B.s.R(E),1.570796326794897),ie=B.s.$(B.s.R(O),1.570796326794897);if(B.s.$(E,O)&&(B.s.Dd(W)||X))null!=L&&(L.u=0),null!=F&&(F.u=0),null!=V&&(V.u=0);else{if(B.s.ui(k)){var Y=Math.sin(E),te=Math.sin(O);Y=Math.sqrt((1+Y)/(1-Y)),te=Math.sqrt((1+te)/(1-te)),Y=Math.log(te)-Math.log(Y),Y=Math.atan2(W,Y),null!=L&&(L.u=B.s.$(E,O)?B.s.R($*Math.cos(E)*W):B.s.R(($*O-$*E)/Math.cos(Y)))}else te=B.F.Rw(k,O),Y=Math.sin(B.F.Rw(k,E)),te=Math.sin(te),Y=Math.sqrt((1+Y)/(1-Y)),te=Math.sqrt((1+te)/(1-te)),Y=Math.log(te)-Math.log(Y),Y=Math.atan2(W,Y),null!=L&&(B.s.$(E,O)?L.u=B.s.R($*W*Math.cos(E)/B.F.w(k,E)):(W=B.F.q($,k,E),$=B.F.q($,k,O),L.u=B.s.R(($-W)/Math.cos(Y))));null==F&&null==V||(L=B.F.ca(Y+3.141592653589793),X&&ie||!X&&!ie||(X?Y=0>E?D:B.F.ca(3.141592653589793-D):ie&&(L=0>O?T:B.F.ca(3.141592653589793-T))),null!=F&&(F.u=Y),null!=V&&(V.u=L))}},Be.sf=function($,k,T,E,D,O,L,F){O=B.F.ca(O),0>D&&(D=B.s.R(D),O=B.F.ca(O+3.141592653589793)),B.s.ui(k)?B.s.$(B.s.R(E),1.570796326794897)?(T=0>E?O:B.F.ca(3.141592653589793-O),3.141592653589793>=(O=D/$%6.283185307179586)?$=E-B.s.Mb(O,E):(T=B.F.ca(T+3.141592653589793),$=-E+B.s.Mb(O-3.141592653589793,E))):B.s.$(B.s.R(O),1.570796326794897)?(T=B.F.ca(T+B.s.Mb(D,O)/($*Math.cos(E))),$=E):($=E+D*Math.cos(O)/$,1.570796326794897<B.s.R($)&&($=1.570796326794897),B.s.$(B.s.R($),1.570796326794897)&&(B.s.Dd(O)||B.s.$(B.s.R(O),3.141592653589793))||(1.570796316258184<B.s.R($)&&($=B.s.Mb(1.570796316258184,$)),k=Math.sin(E),E=Math.sin($),k=Math.sqrt((1+k)/(1-k)),E=Math.sqrt((1+E)/(1-E)),k=Math.log(E)-Math.log(k),T=B.F.ca(T+Math.tan(O)*k))):B.s.$(B.s.R(E),1.570796326794897)?(T=0>E?O:B.F.ca(3.141592653589793-O),O=D/B.F.gW($,k),3.141592653589793>=(O%=6.283185307179586)?$=E-B.s.Mb(O,E):(T=B.F.ca(T+3.141592653589793),$=-E+B.s.Mb(O-3.141592653589793,E)),$=B.F.Tq(k,$)):B.s.$(B.s.R(O),1.570796326794897)?(T=B.F.ca(T+B.s.Mb(D,O)*B.F.w(k,E)/($*Math.cos(E))),$=E):($=1.570796326794897*(D*Math.cos(O)+B.F.q($,k,E))/B.F.Bh($,k),1.570796326794897<B.s.R($)&&($=B.s.Mb(1.570796326794897,$)),$=B.F.Tq(k,$),B.s.$(B.s.R($),1.570796326794897)&&(B.s.Dd(O)||B.s.$(B.s.R(O),3.141592653589793))||(D=B.F.Rw(k,E),E=B.F.Rw(k,$),1.570796316258184<B.s.R(E)&&(E=B.s.Mb(1.570796316258184,$),$=B.F.qO(k,E)),k=Math.sin(D),E=Math.sin(E),k=Math.sqrt((1+k)/(1-k)),E=Math.sqrt((1+E)/(1-E)),k=Math.log(E)-Math.log(k),T=B.F.ca(T+Math.tan(O)*k))),null!=L&&(L.u=T),null!=F&&(F.u=$)},Be}()}(st||(st={})),function(B){B.kb=function(){function Be(){}return Be.Sy=function($,k,T,E,D,O,L){B.du.ub($,k,T,E,D,O,null,L,null)},Be.zi=function($,k,T,E,D,O,L,F){B.du.sf($,k,T,E,D,O,L,F)},Be.xd=function($,k,T,E,D,O,L,F,V,W){switch(W){case 2:B.Xk.ub($,k,T,E,D,O,L,F,V);break;case 3:B.IC.ub($,k,T,E,D,O,L,F,V);break;case 1:B.HC.ub($,k,T,E,D,O,L,F,V);break;default:B.du.ub($,k,T,E,D,O,L,F,V)}},Be.pj=function($,k,T,E,D,O,L,F,V){switch(V){case 2:B.Xk.sf($,k,T,E,D,O,L,F);break;case 3:B.IC.sf($,k,T,E,D,O,L,F);break;case 1:B.HC.sf($,k,T,E,D,O,L,F);break;default:B.du.sf($,k,T,E,D,O,L,F)}},Be}()}(st||(st={})),function(B){var Be=function(){function k(){this.y=this.x=null}return k.construct=function(T){var E=new k;return E.x=new B.Xb,E.x.set(T.x),E.y=new B.Xb,E.y.set(T.y),E},k.NE=function(T,E){var D=new k;return D.x=new B.Xb,D.x.set(T),D.y=new B.Xb,D.y.set(E),D},k.prototype.qg=function(){return this.x.qg()&&this.y.qg()},k.prototype.value=function(){return B.h.construct(this.x.value(),this.y.value())},k}();B.jY=Be;var $=function(){function k(){this.z=this.y=this.x=null}return k.construct=function(T){var E=new k;return E.x=new B.Xb,E.x.set(T.x),E.y=new B.Xb,E.y.set(T.y),E.z=new B.Xb,E.z.set(T.z),E},k.NE=function(T,E,D){var O=new k;return O.x=new B.Xb,O.x.set(T),O.y=new B.Xb,O.y.set(E),O.z=new B.Xb,O.z.set(D),O},k.prototype.qg=function(){return this.x.qg()&&this.y.qg()&&this.z.qg()},k.prototype.value=function(){return new B.Od(this.x.value(),this.y.value(),this.z.value())},k.prototype.Rh=function(T){var E=new B.Xb,D=new B.Xb,O=new B.Xb;return E.Ml(this.x,T.x),D.Ml(this.y,T.y),O.Ml(this.z,T.z),(T=new B.Xb).WM(E,D),T.add(O),T},k.prototype.VE=function(T){var E=new k;E.x.Ml(this.y,T.z),E.y.Ml(this.z,T.x),E.z.Ml(this.x,T.y);var D=new B.Xb,O=new B.Xb,L=new B.Xb;return D.Ml(this.z,T.y),O.Ml(this.x,T.z),L.Ml(this.y,T.x),E.x.sub(D),E.y.sub(O),E.z.sub(L),E},k}();B.kY=$,B.Mx=function(){function k(){}return k.wP=function(T,E,D){var O=E.x;E=E.y,k.dl(1,T,Math.cos(O),Math.sin(O),Math.cos(E),Math.sin(E),D)},k.vP=function(T,E){var D=new B.Od;return k.wP(T,E,D),D},k.dl=function(T,E,D,O,L,F,V){T/=Math.sqrt(1-E*F*F),V.L(T*L*D,T*L*O,T*(1-E)*F)},k.Zu=function(T,E){var D=new B.Xb,O=new B.Xb,L=new B.Xb,F=new B.Xb;D.cos(E.x),O.sin(E.x),L.cos(E.y),F.sin(E.y);var V=new B.Xb;return V.set(F),V.Ag(F),V.Oo(T),V.Oo(-1),V.cN(),V.sqrt(),(E=new B.Xb).set(1),E.lm(V),(V=new B.Xb).set(E),V.Ag(L),V.Ag(D),(D=new B.Xb).set(E),D.Ag(L),D.Ag(O),(O=new B.Xb).set(E),O.Oo(1-T),O.Ag(F),$.NE(V,D,O)},k.IS=function(T,E,D,O){if(Math.abs(E.x-D.x)>Math.PI||Math.abs(E.y)>.5*Math.PI||Math.abs(D.y)>.5*Math.PI||(Math.abs(E.y)==.5*Math.PI||Math.abs(D.y)==.5*Math.PI)&&E.x!=D.x)return NaN;if(O=k.XA(O,Math.min(E.x,D.x),Math.max(E.x,D.x)),!new B.Oc(E.x,D.x).contains(O))return NaN;var L=Be.construct(E);if(D=Be.construct(D),L=k.Zu(T,L),D=k.Zu(T,D),(D=L.VE(D)).z.qg())return E.y;var F=new B.Xb;F.set(D.x),F.lm(D.z),F.Oo(-1);var V=new B.Xb;V.set(D.y),V.lm(D.z),V.Oo(-1);var W=new B.Xb;return W.set(V),W.Ag(V),(L=new B.Xb).set(F),L.Ag(F),L.add(W),L.sqrt(),L.qg()||F.qg()&&V.qg()?E.y:(E=Math.atan2(V.value(),F.value()),E=Math.atan2(L.value()*Math.cos(E-O),1-T),O=k.vP(T,B.h.construct(O,E)),T=new B.Od(O.x,O.y,-O.z),O=D.value().Rh(O),T=D.value().Rh(T),Math.abs(T)<Math.abs(O)&&(E=-E),E)},k.Jz=function(T,E,D,O,L){if(L[0]=NaN,L[1]=NaN,Math.abs(E.x-D.x)>Math.PI||Math.abs(E.y)>.5*Math.PI||Math.abs(D.y)>.5*Math.PI||(Math.abs(E.y)==.5*Math.PI||Math.abs(D.y)==.5*Math.PI)&&E.x!=D.x||Math.abs(O)>=.5*Math.PI||0<E.y&&0<D.y&&E.y>O&&D.y>O||0>E.y&&0>D.y&&E.y<O&&D.y<O)return 0;var F=Be.construct(E),V=Be.construct(D);F=k.Zu(T,F),V=k.Zu(T,V);var W=F.VE(V);if(W.z.qg())return new B.Oc(E.y,D.y).contains(O)?(L[0]=E.x,1):0;(V=new B.Xb).set(W.x),V.lm(W.z),V.Oo(-1),(F=new B.Xb).set(W.y),F.lm(W.z),F.Oo(-1),(W=new B.Xb).set(F),W.Ag(F);var X=new B.Xb;return X.set(V),X.Ag(V),X.add(W),X.sqrt(),X.qg()||V.qg()&&F.qg()?0==O?(L[0]=E.x,L[1]=D.x,2):0:(T=(1-T)*Math.tan(O)/X.value(),1<Math.abs(T)?0:(T=Math.acos(T),W=Math.atan2(F.value(),V.value()),V=Math.min(E.x,D.x),F=Math.max(E.x,D.x),D=k.XA(W-T,V,F),T=0!=O?k.XA(W+T,V,F):D,O=0,V<=D&&D<=F&&(L[O]=D,O++),T!=D&&V<=T&&T<=F&&(L[O]=T,2==++O&&Math.abs(L[0]-E.x)>Math.abs(L[1]-E.x)&&(E=L[0],L[0]=L[1],L[1]=E)),O))},k.XA=function(T,E,D){return T>D?T-=2*(E=Math.ceil((T-D)/(2*Math.PI)))*Math.PI:T<E&&(T+=2*(E=Math.ceil((E-T)/(2*Math.PI)))*Math.PI),T},k}()}(st||(st={})),function(B){B.PK=function(){function Be(){}return Be.OX=function($,k){var E=[0,0,0,0],D=new B.h;D.N(k),D.scale(9102==B.cb.tc($).Id().Fc()?1:B.cb.tc($).Id().bi/3.141592653589793*180),-180>D.x?(D.x-=D.x%360,-180>D.x&&(D.x+=360)):180<D.x&&(D.x-=D.x%360,180<D.x&&(D.x-=360)),90<D.y&&(D.y=90),-90>D.y&&(D.y=-90);for(var O=-180,L=180,F=($=40)-1,V=(k=($+31)/32)-1;0<=V;V--)for(var W=F-32*V,X=Math.min(32,$-32*V),ie=1;ie<X;ie+=2){var Y=.5*(L+O);D.x>=Y?(E[V]|=1<<W,O=Y):L=Y,W-=2,F-=2}for(O=-90,L=90,F=$-2,V=k-1;0<=V;V--)for(W=F-32*V,X=Math.min(32,$-32*V),ie=0;ie<X;ie+=2)D.y>=(Y=.5*(L+O))?(E[V]|=1<<W,O=Y):L=Y,W-=2,F-=2;return Be.SP(E,8,8)},Be.SP=function($,k,T){for(var E=[],D=0;D<k;D++)E[D]="";for(var O=D=0,L=0;L<k;L++){var F=$[D]>>O&31;if(31<(O+=5)){var V=37-O;F&=(1<<V)-1,F|=($[++D]&(1<<(O-=32))-1)<<V}E[k-1-L]="0123456789bcdefghjkmnpqrstuvwxyz".split("")[F]}if(T>k)for(L=0;L<T-k;L++)E.push("0");else T<k&&(E.length=T);return E.join("")},Be}()}(st||(st={})),function(B){var Be={gcstol:[0,2e-9,1,2.241706620489156e-9,2,2.313672246530541e-9,3,8.98240164660333e-9,4,8.982433838020134e-9,5,8.982439417325895e-9,6,8.982466029667677e-9,7,8.982476760268133e-9,8,8.982492642167149e-9,9,8.98251968292634e-9,10,8.98253685210448e-9,11,8.982546725256576e-9,12,8.982557456049832e-9,13,8.98257333682596e-9,14,8.982575482995276e-9,15,8.982578488197342e-9,16,8.982579775336987e-9,17,8.9825840676828e-9,18,8.982599090925448e-9,19,8.982605529473397e-9,20,8.982609220517402e-9,21,8.982611968030573e-9,22,8.982616260407152e-9,23,8.982620552787834e-9,24,8.982633429954492e-9,25,8.982637722351582e-9,26,8.98264416095491e-9,27,8.982646307158072e-9,28,8.982654891980968e-9,29,8.982667769246082e-9,30,8.982674207892485e-9,31,8.982680646548117e-9,32,8.982682792768713e-9,33,8.982685798042582e-9,34,8.982689231436652e-9,35,8.98269137766135e-9,36,8.98269266624163e-9,37,8.982705114087017e-9,38,8.982706830791106e-9,39,8.982711958374661e-9,40,8.982712839964735e-9,41,8.982717991496125e-9,42,8.982721424914803e-9,43,8.982723571154887e-9,44,8.982727863638127e-9,45,8.982730868942154e-9,46,8.982734302370678e-9,47,8.982745033612112e-9,48,8.982751472369276e-9,49,8.982755764879183e-9,50,8.982762203651733e-9,51,8.982764776628385e-9,52,8.982766496171896e-9,53,8.98277722749025e-9,54,8.98278152002477e-9,55,8.98279933943848e-9,56,8.9829143024805e-9,57,8.982922161948598e-9,58,8.98292327314211e-9,59,8.982925667349601e-9,60,8.982932222965576e-9,61,8.982961298941316e-9,62,8.982965524049989e-9,63,8.982994818246099e-9,64,8.982994895706967e-9,65,8.98299489597736e-9,66,8.983000733443498e-9,67,8.983055097289157e-9,68,8.983064111047368e-9,69,8.983111996941178e-9,70,8.983120447446023e-9,71,8.98312748954554e-9,72,8.983134531656096e-9,73,8.983141573777694e-9,74,8.983148615910332e-9,75,8.983152841195215e-9,76,8.983153545409748e-9,77,8.983153827095593e-9,78,8.98315396793852e-9,79,8.983154249624393e-9,80,8.983155658054012e-9,81,8.983960794340072e-9,82,8.984061344391998e-9,83,8.984072829255685e-9,84,8.984194981201908e-9,85,8.984275233099427e-9,86,8.984326127007554e-9,87,8.984330099816539e-9,88,8.98433275258421e-9,89,8.984333047023206e-9,90,8.984333885258723e-9,91,8.984337959508212e-9,92,8.984365176209457e-9,93,8.984727360418079e-9,94,8.984901041679577e-9,95,8.98542662091587e-9,96,8.98610024130669e-9,97,8.992894229037531e-9,98,8.993203677616635e-9,99,8.993206178094346e-9,100,8.993216059187305e-9,101,8.99322029394808e-9,102,8.994627867045891e-9,103,9.467559984315793e-9,104,9.46881168618118e-9,105,9.980888154931644e-9,106,9.981105353606775e-9,107,9.983807356573187e-9,108,1.687060485811522e-8,109,1.688447560354875e-8,110,2.176606011487185e-8,111,2.225078816042032e-8,112,2.348476432064694e-8,113,2.348765250187846e-8,114,2.378108974103778e-8,115,3.14559636297708e-8,116,3.297788621680806e-8,117,3.667892343788279e-8,118,4.235973644320739e-8,119,4.794625900676345e-8,120,7.262742998235812e-8,121,7.499447580246377e-8,122,7.525056410964318e-8,123,7.979913581209237e-8,124,9.662020153976783e-8,125,9.799175562353741e-8,126,9.897353517547472e-8,127,1.02313891987647e-7,128,1.081460541960784e-7,129,1.21905913857622e-7,130,2.246893314238523e-7,131,2.297344808062643e-7,132,2.42984645941825e-7,133,2.754604784282804e-7,134,2.884548130346993e-7,135,3.370339971357784e-7,136,4.307953346848296e-7,137,5.208707228462029e-7,138,5.509209568565608e-7,139,6.452227422644406e-7,140,6.740679942715567e-7,141,6.861770001566745e-7,142,7.252630318111686e-7,143,7.441010326374328e-7,144,7.742672907173287e-7,145,9.629542775307953e-7,146,1061032953945969e-21,147,1143628333594458e-21,148,1162186197019925e-21,149,136418522650196e-20,150,1367441038498385e-21,151,1432394487827058e-21,152,1736235742820677e-21,153,1848250952034914e-21,154,1909859317102744e-21,155,1975716534933873e-21,156,2122065907891938e-21,157,272837045300392e-20,158,3183098861837907e-21,159,3580986219567645e-21,160,3819718634205488e-21,161,409255567950588e-20,162,4407367654852486e-21,163,4774648292756861e-21,164,5161781938115525e-21,165,520870722846203e-20,166,5729577951308232e-21,167,6031134685587613e-21,168,6987290184522236e-21,169,9241254760174569e-21,170,1145915590261646e-20],pcstol:[0,6.666666666666667e-9,1,2e-8,2,4970973863636364e-20,3,4970978156565657e-20,4,4970980410559237e-20,5,.001,6,.001093615055555556,7,.001093615194444445,8,.001093619003239988,9,.001093623110088878,10,.003280833333333333,11,.003280839895013123,12,.003280843014596366,13,.003280845583333334,14,.003280869330266636,15,.00497101413676763],newtoold:[2154,102110,2195,102200,2204,32036,2205,26979,2225,102641,2226,102642,2227,102643,2228,102644,2229,102645,2230,102646,2231,102653,2232,102654,2233,102655,2234,102656,2235,102657,2236,102658,2237,102659,2238,102660,2239,102666,2240,102667,2241,102668,2242,102669,2243,102670,2246,102679,2247,102680,2248,102685,2249,102686,2250,102687,2254,102694,2255,102695,2257,102712,2258,102713,2259,102714,2260,102715,2261,102716,2262,102717,2263,102718,2264,102719,2267,102724,2268,102725,2271,102728,2272,102729,2274,102736,2275,102737,2276,102738,2277,102739,2278,102740,2279,102741,2283,102746,2284,102747,2285,102748,2286,102749,2287,102752,2288,102753,2289,102754,2312,23433,2326,102140,2395,2091,2396,2092,2397,2166,2398,2167,2399,2168,2759,102229,2760,102230,2761,102248,2762,102249,2763,102250,2764,102251,2765,102252,2766,102241,2767,102242,2768,102243,2769,102244,2770,102245,2771,102246,2772,102253,2773,102254,2774,102255,2775,102256,2776,102257,2777,102258,2778,102259,2779,102260,2780,102266,2781,102267,2782,102261,2783,102262,2784,102263,2785,102264,2786,102265,2787,102268,2788,102269,2789,102270,2790,102271,2791,102272,2792,102273,2793,102274,2794,102275,2795,102276,2796,102277,2797,102278,2798,102279,2799,102280,2800,102281,2801,102282,2802,102283,2803,102284,2804,102285,2805,102286,2806,102287,2807,102288,2808,102289,2809,102290,2810,102291,2811,102292,2812,102293,2813,102294,2814,102295,2815,102296,2816,102297,2817,102298,2818,102300,2819,102304,2820,102307,2821,102308,2822,102309,2823,102310,2824,102311,2825,102312,2826,102313,2827,102314,2828,102315,2829,102316,2830,102317,2831,102318,2832,102320,2833,102321,2834,102322,2835,102323,2836,102324,2837,102325,2838,102326,2839,102327,2840,102330,2841,102334,2842,102335,2843,102336,2844,102337,2845,102338,2846,102339,2847,102340,2848,102341,2849,102342,2850,102343,2851,102344,2852,102345,2853,102346,2854,102347,2855,102348,2856,102349,2857,102350,2858,102351,2859,102352,2860,102353,2861,102354,2862,102355,2863,102356,2864,102357,2865,102358,2866,102361,2942,102167,2943,102169,2944,2139,2945,2140,2946,2141,2947,2142,2948,2143,2949,2144,2950,2145,2951,2146,2952,2147,2953,2036,2954,2291,2955,2153,2956,2152,2957,2151,2958,2150,2959,2149,2960,2037,2961,2038,2962,2148,2965,2244,2966,2245,3003,102091,3004,102092,3005,102190,3060,2982,3067,102139,3072,102606,3074,102608,3075,102208,3077,102210,3078,102123,3080,102119,3081,102603,3082,102602,3083,102601,3088,65163,3089,102763,3090,102363,3092,102151,3093,102152,3094,102153,3095,102154,3096,102155,3097,102145,3098,102146,3099,102147,3100,102148,3101,102149,3102,2155,3107,102172,3110,102170,3111,102171,3119,2214,3158,102234,3159,102235,3160,102236,3336,2979,3338,102006,3346,2600,3370,102126,3371,102127,3372,102130,3373,102131,3389,2577,3390,2694,3400,102184,3401,102185,3404,3359,3407,3366,3417,102675,3418,102676,3419,102677,3420,102678,3421,102707,3422,102708,3423,102709,3424,102711,3433,102651,3434,102652,3435,102671,3436,102672,3437,102710,3438,102730,3448,102095,3451,102681,3452,102682,3455,102735,3461,2063,3462,2064,3463,3073,3464,3076,3560,102742,3566,102743,3567,102744,3734,102722,3735,102723,3736,102755,3737,102756,3738,102757,3739,102758,3741,102205,3742,102206,3743,102207,3748,102211,3750,102202,3751,102203,3759,102663,3760,102463,3764,102112,3770,102090,3771,102180,3772,102181,3773,102182,3775,102186,3776,102187,3777,102188,3800,102183,3801,102189,3812,102199,3814,102609,3815,102469,3819,104990,3821,104136,3824,104137,3825,102444,3826,102443,3827,102442,3828,102441,3857,102100,3889,104991,3906,104992,4048,103201,4049,103202,4050,103203,4051,103204,4056,103205,4057,103206,4058,103207,4059,103208,4060,103209,4061,103210,4062,103211,4063,103212,4071,103213,4082,103214,4083,103215,4093,103216,4094,103217,4095,103218,4096,103219,4167,104108,4169,37252,4171,104107,4189,104110,4197,4234,4223,37223,4304,104304,4414,102201,4415,102762,4417,102764,4434,102765,4437,102647,4455,32029,4456,32018,4457,3454,4462,102439,4463,4466,4470,4469,4484,103794,4485,103795,4486,103796,4487,103797,4488,103798,4489,103799,4611,104104,4612,104111,4613,37255,4615,37247,4616,37250,4617,4140,4618,4291,4620,37211,4626,37235,4647,102362,4658,37204,4668,37201,4669,4126,4672,37217,4673,104125,4675,37220,4684,37232,4698,4631,4707,37213,4708,37231,4709,37212,4710,37238,4711,37214,4712,37237,4713,37208,4714,37215,4715,37253,4716,37216,4717,37239,4719,37219,4722,37242,4724,37233,4725,37222,4727,37224,4728,37246,4729,37226,4730,37227,4731,37228,4732,37229,4733,37230,4734,37251,4735,37259,4736,37254,4739,37205,4758,104133,4760,37001,4762,104114,4826,102214,5013,104142,5014,102331,5015,102332,5016,102333,5173,102085,5174,102086,5175,102087,5176,102088,5177,102089,5178,102040,5179,102080,5185,102081,5186,102082,5187,102083,5188,102084,5221,102066,5246,104100,5247,102490,5324,104144,5325,102420,5329,2934,5365,104143,5367,102305,5451,104132,5513,102065,5514,102067,5519,102111,5520,31461,5646,102745,5839,5388,5858,5532,5879,4474,6207,104256,6244,102769,6245,102790,6246,102770,6247,102771,6248,102793,6249,102796,6250,102772,6251,102788,6252,102775,6253,102795,6254,102781,6255,102767,6256,102774,6257,102768,6258,102797,6259,102789,6260,102780,6261,102783,6262,102787,6263,102791,6264,102777,6265,102798,6266,102779,6267,102784,6268,102792,6269,102782,6270,102785,6271,102794,6272,102773,6273,102778,6274,102786,6275,102776,6311,104141,6318,104145,6322,104287,6325,104286,6328,102046,6329,102047,6330,102048,6331,102049,6332,102050,6333,102051,6334,102052,6335,102053,6336,102054,6337,102055,6338,102056,6339,102057,6340,102058,6341,102059,6342,102382,6343,102383,6344,102384,6345,102385,6346,102386,6347,102387,6348,102388,6350,102965,6355,102975,6356,102976,6391,6141,6393,102966,6394,102977,6395,102978,6396,102979,6397,102980,6398,102981,6399,102982,6400,102983,6401,102984,6402,102985,6403,102986,6404,102988,6405,102991,6406,102987,6407,102990,6408,102989,6409,102992,6410,102993,6411,102995,6412,102994,6413,102996,6414,102962,6415,102997,6416,103003,6417,102998,6418,103004,6419,102999,6420,103005,6421,103e3,6422,103006,6423,103001,6424,103007,6425,103002,6426,103008,6427,103010,6428,103013,6429,103009,6430,103012,6431,103011,6432,103014,6433,103015,6434,103016,6435,103017,6436,103018,6437,103019,6438,103022,6439,102967,6440,103021,6441,103024,6442,103020,6443,103023,6444,103025,6445,103027,6446,103026,6447,103028,6448,103030,6449,103033,6450,103029,6451,103032,6452,103031,6453,103034,6454,103035,6455,103037,6456,103036,6457,103038,6458,103039,6459,103041,6460,103040,6461,103042,6462,103043,6463,103045,6464,103044,6465,103046,6466,103047,6467,103049,6468,103048,6469,103050,6470,103051,6471,103052,6472,103053,6473,103054,6474,103055,6475,103056,6476,103057,6477,103059,6478,103058,6479,103060,6480,103066,6481,103065,6482,103067,6483,103061,6484,103063,6485,103062,6486,103064,6487,103068,6488,103069,6489,103071,6490,103073,6491,103070,6492,103072,6493,103075,6494,103078,6495,103074,6496,103077,6497,102968,6498,103076,6499,103079,6500,103081,6501,103084,6502,103080,6503,103083,6504,103082,6505,103085,6506,103086,6507,103088,6508,102963,6509,103087,6510,103089,6511,103091,6512,103090,6513,103092,6514,103093,6515,103094,6516,103095,6518,103098,6519,103101,6520,103097,6521,103100,6522,103099,6523,103102,6524,103103,6525,103104,6526,103105,6527,103106,6528,103108,6529,103111,6530,103107,6531,103110,6532,103109,6533,103112,6534,103114,6535,103118,6536,103113,6537,103117,6538,103116,6539,103120,6540,103115,6541,103119,6542,103121,6543,103122,6544,103123,6545,103125,6546,103124,6547,103126,6548,103127,6549,103129,6550,103128,6551,103130,6552,103131,6553,103133,6554,103132,6555,103134,6556,102969,6557,102970,6558,103135,6559,103137,6560,103136,6561,103138,6562,103139,6563,103140,6564,103141,6565,103142,6566,103200,6567,103143,6568,103144,6569,103145,6570,103146,6571,103147,6572,103149,6573,103148,6574,103150,6575,103151,6576,103152,6577,103155,6578,103160,6579,102971,6580,102972,6581,103153,6582,103158,6583,103154,6584,103159,6585,103157,6586,103162,6587,103156,6588,103161,6589,103172,6590,103173,6592,103174,6593,103176,6594,103175,6595,103177,6596,103178,6597,103180,6598,103179,6599,103181,6600,103182,6601,103184,6602,103183,6603,103185,6605,103190,6606,103186,6607,103189,6608,103188,6609,103191,6610,102973,6611,103192,6612,103196,6613,103193,6614,103197,6615,103195,6616,103199,6617,103194,6618,103198,6619,103164,6620,103163,6621,103165,6625,103170,6626,103169,6627,103171,6628,102520,6629,102521,6630,102522,6631,102523,6632,102524,6633,102527,6634,102493,6635,102494,6636,102496,6637,102495,6668,104020,6669,102610,6670,102611,6671,102612,6672,102613,6673,102614,6674,102615,6675,102616,6676,102617,6677,102618,6678,102619,6679,102620,6680,102621,6681,102622,6682,102623,6683,102624,6684,102625,6685,102626,6686,102627,6687,102628,6688,102593,6689,102594,6690,102595,6691,102596,6692,102597,6783,104223,6784,102530,6785,102500,6788,102532,6789,102502,6792,102533,6793,102503,6796,102531,6797,102501,6800,102534,6801,102504,6804,102535,6805,102505,6808,102536,6809,102506,6812,102537,6813,102507,6816,102538,6817,102508,6820,102539,6821,102509,6824,102540,6825,102510,6828,102541,6829,102511,6832,102542,6833,102512,6836,102543,6837,102513,6840,102544,6841,102514,6844,102546,6845,102516,6848,102545,6849,102515,6852,102547,6853,102517,6856,102548,6857,102518,6860,102549,6861,102519,6867,102380,6868,102381,6879,103187,6880,103096,6884,102376,6885,102378,6886,102377,6887,102379,7136,6980,7139,6987,7142,102706,7692,102557,7693,102558,7694,102559,7695,102560,7696,102561,8090,103318,8091,103418,8092,103317,8093,103417,8095,103371,8096,103471,8097,103369,8098,103469,8099,103368,8100,103468,8101,103367,8102,103467,8103,103366,8104,103466,8105,103365,8106,103465,8107,103364,8108,103464,8109,103363,8110,103463,8111,103362,8112,103462,8113,103361,8114,103461,8115,103360,8116,103460,8117,103359,8118,103459,8119,103357,8120,103457,8121,103356,8122,103456,8123,103355,8124,103455,8125,103354,8126,103454,8127,103353,8128,103453,8129,103352,8130,103452,8131,103350,8132,103450,8133,103349,8134,103449,8135,103348,8136,103448,8139,103343,8140,103443,8141,103342,8142,103442,8143,103341,8144,103441,8145,103339,8146,103439,8147,103337,8148,103437,8149,103336,8150,103436,8151,103334,8152,103434,8153,103333,8154,103433,8155,103331,8156,103431,8161,103326,8162,103426,8163,103325,8164,103425,8165,103324,8166,103424,8171,103321,8172,103421,8173,103320,8177,103420,8179,103316,8180,103416,8181,103315,8182,103415,8184,103314,8185,103414,8191,103312,8193,103412,8196,103311,8197,103411,8198,103310,8200,103410,8201,103309,8202,103409,8203,103308,8204,103408,8207,103306,8208,103406,8209,103305,8210,103405,8212,103304,8213,103404,8214,103303,8216,103403,8218,103302,8220,103402,8222,103301,8224,103401,8431,104248,8441,102590,8693,102449,8826,102605,8857,54035,8858,54036,8859,54037,8860,8449,8988,104115,8989,104116,8990,104117,8991,104118,8992,104119,8993,104120,8994,104121,8995,104122,8996,104123,8997,104124,8998,104896,8999,104257,9e3,104019,9014,104010,9019,104021,9053,104011,9054,104012,9055,104013,9056,104014,9057,104015,9059,104258,9060,104179,9061,104180,9062,104181,9063,104182,9064,104183,9065,104184,9066,104185,9067,104186,21896,21891,21897,21892,21898,21893,21899,21894,26701,102124,26702,102125,26799,26747,26847,102683,26848,102684,26849,102691,26850,102692,26851,102693,26852,102704,26853,102750,26854,102751,26857,102466,26858,102467,26859,102468,26901,102128,26902,102129,27493,27492,29101,29100,29168,29118,29169,29119,29170,29120,29171,29121,29172,29122,29187,29177,29188,29178,29189,29179,29190,29180,29191,29181,29192,29182,29193,29183,29194,29184,29195,29185,29902,29900,31279,31278,31281,31291,31282,31292,31283,31293,31284,31294,31285,31295,31286,31296,31287,31297,31466,31462,31467,31463,31468,31464,31469,31465,31986,31917,31987,31918,31988,31919,31989,31920,31990,31921,31991,31922,32064,32074,32065,32075,32066,32076,32067,32077,102550,2181,102551,2182,102552,2183,102553,2184,102554,2185,102555,2186,102556,2187],pcsid:[2066,15,2136,12,2155,10,2157,5,2158,5,2159,12,2160,12,2219,5,2220,5,2244,10,2245,10,2256,11,2265,11,2266,11,2269,11,2270,11,2273,11,2290,5,2291,5,2294,5,2295,5,2313,5,2314,14,2899,10,2900,10,2901,11,2909,11,2910,11,2911,10,2912,10,2913,11,2914,11,2964,10,2967,10,2968,10,2991,5,2992,11,2993,5,2994,11,3073,5,3076,5,3079,5,3091,10,3106,5,3108,5,3109,5,3141,5,3142,5,3167,4,3337,5,3347,5,3348,5,3359,10,3360,5,3361,11,3362,5,3363,10,3364,5,3365,10,3366,14,3402,5,3403,5,3405,5,3406,5,3439,5,3440,5,3447,5,3449,5,3450,5,3453,10,3454,10,3460,5,3479,11,3480,5,3481,11,3482,5,3483,11,3484,5,3485,10,3486,5,3487,10,3488,5,3489,5,3490,10,3491,5,3492,10,3493,5,3494,10,3495,5,3496,10,3497,5,3498,10,3499,5,3500,10,3501,5,3502,10,3503,5,3504,10,3505,5,3506,10,3507,5,3508,10,3509,5,3510,10,3511,5,3512,10,3513,5,3514,5,3515,10,3516,5,3517,10,3518,5,3519,10,3520,5,3521,10,3522,5,3523,10,3524,5,3525,10,3526,5,3527,10,3528,5,3529,10,3530,5,3531,10,3532,5,3533,10,3534,5,3535,10,3536,5,3537,10,3538,5,3539,10,3540,5,3541,10,3542,5,3543,10,3544,5,3545,10,3546,5,3547,10,3548,5,3549,10,3550,5,3551,10,3552,5,3553,10,3582,10,3583,5,3584,10,3585,5,3586,10,3587,5,3588,11,3589,5,3590,11,3591,5,3592,5,3593,11,3598,10,3599,5,3600,10,3605,11,3606,5,3607,5,3608,10,3609,5,3610,10,3611,5,3612,10,3613,5,3614,10,3615,5,3616,10,3617,5,3618,10,3619,5,3620,10,3621,5,3622,10,3623,5,3624,10,3625,5,3626,10,3627,5,3628,10,3629,5,3630,10,3631,5,3632,10,3633,5,3634,11,3635,5,3636,11,3640,10,3641,5,3642,10,3643,5,3644,11,3645,5,3646,11,3647,5,3648,11,3649,5,3650,10,3651,5,3652,10,3653,5,3654,10,3655,5,3656,11,3657,5,3658,10,3659,5,3660,10,3661,5,3662,10,3663,5,3664,10,3668,10,3669,5,3670,10,3671,5,3672,10,3673,5,3674,10,3675,5,3676,11,3677,10,3678,5,3679,11,3680,10,3681,5,3682,11,3683,10,3684,5,3685,5,3686,10,3687,5,3688,10,3689,5,3690,10,3691,5,3692,10,3696,10,3697,5,3698,10,3699,5,3700,10,3740,5,3749,5,3783,5,3784,5,3793,5,3794,5,3802,5,3816,5,3829,5,3854,5,3911,5,3912,5,3920,5,3978,5,3979,5,3991,10,3992,10,4026,5,4037,5,4038,5,4087,5,4088,5,4217,10,4438,10,4439,10,4467,5,4471,5,4474,5,4559,5,4822,5,4839,5,5018,5,5048,5,5167,5,5168,5,5223,5,5234,5,5235,5,5243,5,5266,5,5316,5,5320,5,5321,5,5330,5,5331,5,5337,5,5361,5,5362,5,5382,5,5383,5,5396,5,5456,5,5457,5,5469,5,5472,9,5490,5,5518,5,5523,5,5559,5,5588,11,5589,14,5596,5,5627,5,5629,5,5641,5,5643,5,5644,5,5654,10,5655,10,5659,5,5700,5,5825,5,5836,5,5837,5,5842,5,5844,5,5880,5,5887,5,5890,5,6128,11,6129,11,6141,11,6204,5,6210,5,6211,5,6307,5,6312,5,6316,5,6362,5,6591,5,6646,5,6703,5,6786,5,6787,11,6790,5,6791,11,6794,5,6795,11,6798,5,6799,11,6802,5,6803,11,6806,5,6807,11,6810,5,6811,11,6814,5,6815,11,6818,5,6819,11,6822,5,6823,11,6826,5,6827,11,6830,5,6831,11,6834,5,6835,11,6838,5,6839,11,6842,5,6843,11,6846,5,6847,11,6850,5,6851,11,6854,5,6855,11,6858,5,6859,11,6862,5,6863,11,6870,5,6875,5,6876,5,6915,5,6922,5,6923,10,6924,5,6925,10,6962,5,6984,5,6991,5,7128,10,7131,5,7132,10,7257,5,7258,10,7259,5,7260,10,7261,5,7262,10,7263,5,7264,10,7265,5,7266,10,7267,5,7268,10,7269,5,7270,10,7271,5,7272,10,7273,5,7274,10,7275,5,7276,10,7277,5,7278,10,7279,5,7280,10,7281,5,7282,10,7283,5,7284,10,7285,5,7286,10,7287,5,7288,10,7289,5,7290,10,7291,5,7292,10,7293,5,7294,10,7295,5,7296,10,7297,5,7298,10,7299,5,7300,10,7301,5,7302,10,7303,5,7304,10,7305,5,7306,10,7307,5,7308,10,7309,5,7310,10,7311,5,7312,10,7313,5,7314,10,7315,5,7316,10,7317,5,7318,10,7319,5,7320,10,7321,5,7322,10,7323,5,7324,10,7325,5,7326,10,7327,5,7328,10,7329,5,7330,10,7331,5,7332,10,7333,5,7334,10,7335,5,7336,10,7337,5,7338,10,7339,5,7340,10,7341,5,7342,10,7343,5,7344,10,7345,5,7346,10,7347,5,7348,10,7349,5,7350,10,7351,5,7352,10,7353,5,7354,10,7355,5,7356,10,7357,5,7358,10,7359,5,7360,10,7361,5,7362,10,7363,5,7364,10,7365,5,7366,10,7367,5,7368,10,7369,5,7370,10,7877,5,7878,5,7882,5,7883,5,7887,5,7899,5,7991,5,7992,5,8035,10,8036,10,8058,5,8059,5,8082,5,8083,5,8088,5,8137,5,8138,10,8157,5,8158,10,8159,5,8160,10,8167,5,8168,10,8169,5,8170,10,8187,5,8189,10,8205,5,8206,10,8225,5,8226,10,8311,5,8312,11,8313,5,8314,11,8315,5,8316,11,8317,5,8318,11,8319,5,8320,11,8321,5,8322,11,8323,5,8324,11,8325,5,8326,11,8327,5,8328,11,8329,5,8330,11,8331,5,8332,11,8333,5,8334,11,8335,5,8336,11,8337,5,8338,11,8339,5,8340,11,8341,5,8342,11,8343,5,8344,11,8345,5,8346,11,8347,5,8348,11,8352,5,8353,5,8379,5,8380,10,8381,5,8382,10,8383,5,8384,10,8385,5,8387,10,8391,5,8395,5,8433,5,8455,5,8456,5,8531,10,8682,5,8687,5,8692,5,8903,5,8950,5,8951,5,9039,5,9040,5,9141,5,9149,5,9150,5,9191,5,9221,5,9222,5,20499,5,20538,5,20539,5,20790,5,20791,5,21291,5,21292,5,21500,5,21817,5,21818,5,22032,5,22033,5,22091,5,22092,5,22332,5,22391,5,22392,5,22700,5,22770,5,22780,5,22832,5,23090,5,23095,5,23239,5,23240,5,23433,5,23700,5,24047,5,24048,5,24100,14,24200,5,24305,5,24306,5,24382,6,24383,5,24500,5,24547,5,24548,5,24571,2,24600,5,25e3,5,25231,5,25884,5,25932,5,26237,5,26331,5,26332,5,26591,5,26592,5,26632,5,26692,5,26855,10,26856,10,27120,5,27200,5,27291,7,27292,7,27429,5,27492,5,27500,5,27700,5,28232,5,28600,5,28991,5,28992,5,29100,5,29220,5,29221,5,29333,5,29635,5,29636,5,29701,5,29738,5,29739,5,29849,5,29850,5,29871,3,29872,13,29873,5,29900,5,29901,5,29903,5,30200,15,30339,5,30340,5,30791,5,30792,5,31028,5,31121,5,31154,5,31170,5,31171,5,31370,5,31528,5,31529,5,31600,5,31700,5,31838,5,31839,5,31901,5,32061,5,32062,5,32098,5,32099,10,32100,5,32104,5,32161,5,32766,5,53048,5,53049,5,54090,5,54091,5,65061,10,65062,10,65161,5,65163,5,102041,10,102064,8,102068,1,102069,0,102118,10,102119,11,102120,10,102121,10,102217,10,102218,5,102219,10,102220,10,102378,11,102379,11,102380,5,102381,11,102498,5,102499,5,102589,10,102590,5,102599,10,102600,10,102604,10,102605,5,102606,5,102647,5,102704,10,102705,10,102706,5,102733,10,102761,10,102762,5,102763,10,102764,5,102765,5,102766,10,102962,5,102963,5,102970,11,102974,10,102993,5,102994,5,102995,10,102996,10,103015,5,103016,10,103017,5,103018,10,103025,5,103026,5,103027,10,103028,10,103035,5,103036,5,103037,10,103038,10,103039,5,103040,5,103041,10,103042,10,103043,5,103044,5,103045,10,103046,10,103047,5,103048,5,103049,10,103050,10,103051,5,103052,10,103053,5,103054,10,103055,5,103056,10,103057,5,103058,5,103059,10,103060,10,103061,5,103062,5,103063,10,103064,10,103069,10,103070,5,103071,5,103072,10,103073,10,103086,5,103087,5,103088,10,103089,10,103094,11,103095,5,103096,10,103103,5,103104,10,103105,5,103106,10,103121,5,103122,10,103123,5,103124,5,103125,11,103126,11,103127,5,103128,5,103129,10,103130,10,103131,5,103132,5,103133,10,103134,10,103135,5,103136,5,103137,11,103138,11,103139,5,103140,10,103141,5,103142,10,103143,5,103144,10,103145,5,103146,11,103147,5,103148,5,103149,10,103150,10,103151,5,103152,10,103172,5,103173,10,103174,5,103175,5,103176,10,103177,10,103178,5,103179,5,103180,10,103181,10,103182,5,103183,5,103184,10,103185,10,103228,5,103229,5,103230,10,103231,10,103250,5,103251,10,103252,5,103253,10,103260,5,103261,5,103262,10,103263,10,103270,5,103271,5,103272,10,103273,10,103274,5,103275,5,103276,10,103277,10,103278,5,103279,5,103280,10,103281,10,103282,5,103283,5,103284,10,103285,10,103286,5,103287,10,103288,5,103289,10,103290,5,103291,10,103292,5,103293,5,103294,10,103295,10,103296,5,103297,5,103298,10,103299,10,103376,10,103377,5,103378,5,103379,10,103380,10,103393,5,103394,5,103395,10,103396,10,103472,5,103473,11,103474,5,103475,10,103482,5,103483,10,103484,5,103485,10,103500,5,103501,10,103502,5,103503,5,103504,11,103505,11,103506,5,103507,5,103508,10,103509,10,103510,5,103511,5,103512,10,103513,10,103514,5,103515,10,103516,5,103517,10,103518,5,103519,10,103520,5,103521,11,103522,5,103523,5,103524,10,103525,10,103526,5,103527,10,103561,10,103562,10,103563,5,103564,5,103565,10,103566,10,103567,5,103568,5,103569,10,103570,10,103585,10,103586,5,103587,10,103588,11,103589,5,103590,10,103591,11,103592,5,103593,10,103594,11,103695,10,103846,5,103946,10],pcsidc:[[2e3,2045,5],[2056,2065,5],[2067,2135,5],[2137,2153,5],[2161,2170,5],[2172,2193,5],[2196,2198,5],[2200,2203,5],[2206,2217,5],[2222,2224,11],[2251,2253,11],[2280,2282,11],[2308,2311,5],[2315,2325,5],[2327,2394,5],[2400,2491,5],[2494,2758,5],[2867,2869,11],[2870,2888,10],[2891,2895,10],[2896,2898,11],[2902,2908,10],[2915,2920,10],[2921,2923,11],[2924,2930,10],[2931,2941,5],[2969,2973,5],[2975,2982,5],[2984,2988,5],[2995,3002,5],[3006,3051,5],[3054,3059,5],[3061,3066,5],[3068,3071,5],[3084,3087,5],[3112,3118,5],[3120,3138,5],[3146,3151,5],[3153,3157,5],[3161,3166,5],[3168,3172,5],[3174,3203,5],[3294,3313,5],[3315,3335,5],[3339,3345,5],[3350,3358,5],[3367,3369,5],[3374,3388,5],[3391,3399,5],[3408,3416,5],[3425,3432,10],[3441,3446,10],[3456,3459,10],[3465,3478,5],[3554,3559,5],[3561,3565,10],[3568,3570,10],[3571,3581,5],[3594,3597,5],[3601,3604,5],[3637,3639,5],[3665,3667,5],[3693,3695,5],[3701,3727,5],[3728,3733,10],[3744,3747,5],[3753,3758,10],[3761,3763,5],[3765,3769,5],[3779,3781,5],[3788,3791,5],[3797,3799,5],[3832,3841,5],[3844,3852,5],[3873,3885,5],[3890,3893,5],[3942,3950,5],[3968,3970,5],[3973,3976,5],[3986,3989,5],[3994,3997,5],[4390,4398,5],[4399,4413,10],[4418,4433,10],[4491,4554,5],[4568,4589,5],[4652,4656,5],[4766,4800,5],[5069,5072,5],[5105,5130,5],[5180,5184,5],[5253,5259,5],[5269,5275,5],[5292,5311,5],[5343,5349,5],[5355,5357,5],[5387,5389,5],[5459,5463,5],[5479,5482,5],[5530,5539,5],[5550,5552,5],[5562,5583,5],[5623,5625,10],[5631,5639,5],[5649,5653,5],[5663,5680,5],[5682,5685,5],[5875,5877,5],[5896,5899,5],[5921,5940,5],[6050,6125,5],[6351,6354,5],[6366,6372,5],[6381,6387,5],[6622,6624,5],[6707,6709,5],[6720,6723,5],[6732,6738,5],[6931,6933,5],[7005,7007,5],[7057,7070,10],[7074,7082,5],[7109,7118,5],[7119,7127,11],[7374,7376,5],[7528,7586,5],[7587,7645,10],[7755,7787,5],[7791,7795,5],[7799,7801,5],[7803,7805,5],[7825,7831,5],[7845,7859,5],[8013,8032,5],[8065,8068,11],[8518,8529,10],[8533,8536,10],[8538,8540,10],[8677,8679,5],[8836,8840,5],[8908,8910,5],[9154,9159,5],[9205,9218,5],[20002,20032,5],[20062,20092,5],[20135,20138,5],[20248,20258,5],[20348,20358,5],[20436,20440,5],[20822,20824,5],[20934,20936,5],[21035,21037,5],[21095,21097,5],[21148,21150,5],[21413,21423,5],[21473,21483,5],[21780,21782,5],[21891,21894,5],[22171,22177,5],[22181,22187,5],[22191,22197,5],[22234,22236,5],[22521,22525,5],[22991,22994,5],[23028,23038,5],[23830,23853,5],[23866,23872,5],[23877,23884,5],[23886,23894,5],[23946,23948,5],[24311,24313,5],[24342,24347,5],[24370,24374,6],[24375,24381,5],[24718,24721,5],[24817,24821,5],[24877,24882,5],[24891,24893,5],[25391,25395,5],[25828,25838,5],[26191,26195,5],[26391,26393,5],[26703,26722,5],[26729,26760,10],[26766,26798,10],[26860,26870,10],[26891,26899,5],[26903,26923,5],[26929,26946,5],[26948,26998,5],[27037,27040,5],[27205,27232,5],[27258,27260,5],[27391,27398,5],[27561,27564,5],[27571,27574,5],[27581,27584,5],[27591,27594,5],[28191,28193,5],[28348,28358,5],[28402,28432,5],[28462,28492,5],[29118,29122,5],[29177,29185,5],[30161,30179,5],[30491,30494,5],[30729,30732,5],[31251,31259,5],[31265,31268,5],[31275,31278,5],[31288,31297,5],[31461,31465,5],[31491,31495,5],[31917,31922,5],[31965,31985,5],[31992,32e3,5],[32001,32003,10],[32005,32031,10],[32033,32060,10],[32074,32077,10],[32081,32086,5],[32107,32130,5],[32133,32158,5],[32164,32167,10],[32180,32199,5],[32201,32260,5],[32301,32360,5],[32601,32662,5],[32664,32667,10],[32701,32761,5],[53001,53004,5],[53008,53019,5],[53021,53032,5],[53034,53037,5],[53042,53046,5],[53074,53080,5],[54001,54004,5],[54008,54019,5],[54021,54032,5],[54034,54037,5],[54042,54046,5],[54048,54053,5],[54074,54080,5],[54098,54101,5],[102001,102040,5],[102042,102063,5],[102065,102067,5],[102070,102112,5],[102114,102117,5],[102122,102208,5],[102210,102216,5],[102221,102300,5],[102304,102377,5],[102382,102388,5],[102389,102398,10],[102399,102444,5],[102445,102447,10],[102448,102458,5],[102459,102468,10],[102469,102496,5],[102500,102519,11],[102520,102524,5],[102525,102529,10],[102530,102549,5],[102557,102588,5],[102593,102598,5],[102601,102603,5],[102608,102628,5],[102629,102646,10],[102648,102672,10],[102675,102700,10],[102701,102703,5],[102707,102730,10],[102735,102758,10],[102767,102900,5],[102965,102969,5],[102971,102973,5],[102975,102989,5],[102990,102992,11],[102997,103002,5],[103003,103008,10],[103009,103011,5],[103012,103014,10],[103019,103021,5],[103022,103024,10],[103029,103031,5],[103032,103034,10],[103065,103068,5],[103074,103076,5],[103077,103079,11],[103080,103082,5],[103083,103085,10],[103090,103093,5],[103097,103099,5],[103100,103102,10],[103107,103109,5],[103110,103112,10],[103113,103116,5],[103117,103120,10],[103153,103157,5],[103158,103162,10],[103163,103165,5],[103166,103168,11],[103169,103171,10],[103186,103188,5],[103189,103191,10],[103192,103195,5],[103196,103199,10],[103200,103224,5],[103225,103227,11],[103232,103237,5],[103238,103243,10],[103244,103246,5],[103247,103249,10],[103254,103256,5],[103257,103259,10],[103264,103266,5],[103267,103269,10],[103300,103375,5],[103381,103383,5],[103384,103386,11],[103387,103389,5],[103390,103392,10],[103397,103399,5],[103400,103471,10],[103476,103478,5],[103479,103481,10],[103486,103488,5],[103489,103491,10],[103492,103495,5],[103496,103499,10],[103539,103543,5],[103544,103548,10],[103549,103551,5],[103552,103554,11],[103555,103557,10],[103558,103560,5],[103571,103573,5],[103574,103576,10],[103577,103580,5],[103581,103583,10],[103595,103597,5],[103600,103694,5],[103696,103698,5],[103700,103793,10],[103794,103799,5]],gcsid:[4001,81,4002,85,4003,70,4004,84,4005,82,4006,83,4007,60,4008,67,4009,39,4010,57,4011,63,4012,64,4013,64,4014,63,4015,92,4016,90,4018,86,4019,75,4020,68,4021,70,4022,55,4023,75,4024,66,4025,73,4027,95,4028,59,4029,58,4031,75,4032,78,4033,77,4034,65,4035,100,4036,70,4042,88,4044,87,4045,89,4046,75,4047,99,4052,101,4053,97,4054,61,4075,75,4081,75,4120,84,4121,75,4122,80,4123,55,4124,84,4126,75,4130,75,4131,92,4132,64,4133,75,4134,64,4140,75,4141,75,4142,64,4143,64,4144,92,4145,87,4146,89,4147,66,4148,75,4149,84,4150,84,4151,75,4152,75,4153,55,4154,55,4155,63,4156,84,4157,60,4162,84,4163,75,4164,66,4165,55,4166,75,4168,58,4170,75,4172,75,4173,75,4174,58,4175,64,4176,75,4178,66,4179,66,4180,75,4188,81,4190,75,4191,66,4192,55,4193,63,4198,64,4199,55,4200,66,4201,64,4202,70,4203,70,4204,55,4205,66,4206,63,4207,55,4208,55,4209,64,4210,64,4211,84,4212,64,4213,63,4214,66,4215,55,4216,67,4218,55,4219,84,4220,64,4221,55,4222,64,4224,55,4225,55,4229,68,4230,55,4231,55,4232,64,4234,64,4235,55,4236,55,4237,70,4238,70,4239,92,4240,92,4241,65,4242,67,4243,88,4244,92,4245,86,4246,64,4250,64,4251,64,4252,63,4253,67,4254,55,4255,55,4256,64,4257,84,4258,75,4259,55,4260,64,4261,106,4262,84,4263,64,4265,55,4266,63,4267,67,4269,75,4270,64,4271,55,4272,55,4273,82,4274,55,4275,63,4276,73,4280,84,4281,57,4282,63,4283,75,4284,66,4285,55,4286,68,4288,55,4289,84,4291,70,4292,55,4293,83,4294,84,4295,84,4296,63,4297,55,4298,90,4299,85,4300,85,4301,84,4302,60,4303,68,4306,84,4307,64,4308,84,4309,55,4310,63,4311,55,4312,84,4313,55,4314,84,4315,63,4316,55,4317,66,4318,75,4319,75,4322,80,4324,80,4326,75,4466,75,4469,75,4475,55,4483,75,4490,75,4555,66,4558,75,4608,67,4609,67,4610,74,4614,55,4619,75,4624,75,4625,55,4627,75,4636,55,4637,55,4638,67,4639,55,4657,93,4659,75,4660,55,4661,75,4666,84,4667,75,4670,75,4671,63,4674,75,4679,64,4680,64,4682,92,4683,67,4686,75,4687,75,4693,75,4694,75,4695,67,4696,64,4697,64,4702,75,4703,64,4704,55,4705,55,4706,68,4718,55,4720,80,4721,55,4723,67,4726,67,4737,75,4738,60,4740,79,4741,55,4742,75,4743,64,4744,64,4745,84,4746,84,4747,75,4748,56,4749,75,4750,75,4751,91,4752,56,4753,55,4754,55,4759,75,4761,75,4801,84,4802,55,4803,55,4804,84,4805,84,4806,55,4807,106,4808,84,4809,55,4810,105,4811,106,4816,106,4817,82,4818,84,4820,84,4821,106,4823,55,4824,55,4901,107,4902,107,4903,59,4904,84,5228,84,5229,84,5233,92,5252,75,5264,75,5340,75,5354,75,5360,75,5371,75,5373,75,5381,75,5393,75,5464,60,5467,67,5489,75,5524,55,5527,70,5546,75,5561,66,5593,75,5681,84,5886,75,6135,75,6365,75,6706,75,6881,64,6882,64,6883,55,6892,64,6894,64,6980,75,6983,75,6987,75,6990,75,7035,75,7037,75,7039,75,7041,75,7073,75,7084,75,7086,75,7133,75,7373,75,7683,76,7798,75,7844,75,7881,75,7886,75,8042,96,8043,96,8086,75,8232,75,8237,75,8240,75,8246,75,8249,75,8252,75,8255,75,8351,84,8427,75,8428,55,8449,75,8545,75,8685,75,8694,64,8699,75,8818,75,8888,75,8900,75,8902,75,8907,75,8949,75,9003,75,9006,75,9009,75,9012,75,9017,75,9068,75,9069,75,9140,75,9148,75,9153,75,37001,73,37002,69,37003,72,37004,71,37005,62,37006,91,37007,94,37008,101,37201,55,37202,92,37203,87,37204,55,37205,55,37206,64,37207,71,37208,64,37211,64,37220,67,37221,55,37222,55,37223,63,37224,55,37225,106,37226,55,37227,55,37228,64,37229,62,37230,55,37231,70,37232,55,37233,55,37235,55,37237,55,37238,55,37239,67,37240,64,37241,55,37242,55,37243,67,37252,67,37253,55,37254,64,37255,84,37257,66,37259,55,37260,67,104017,79,104018,79,104024,75,104027,75,104047,98,104050,75,104100,75,104101,84,104102,84,104103,64,104104,55,104105,84,104106,55,104107,75,104108,75,104109,67,104110,75,104111,75,104112,67,104113,67,104128,102,104129,75,104130,55,104131,84,104132,67,104133,75,104134,75,104135,66,104136,70,104137,75,104138,55,104139,106,104140,106,104223,75,104248,55,104256,92,104261,63,104286,75,104287,75,104304,63,104700,49,104701,9,104702,24,104703,15,104704,28,104705,32,104706,53,104707,46,104708,37,104709,54,104710,11,104711,14,104712,30,104713,52,104714,4,104715,4,104716,23,104717,14,104718,48,104719,29,104720,22,104721,21,104722,35,104723,21,104724,46,104725,22,104726,49,104727,45,104728,52,104729,10,104730,10,104731,21,104732,31,104733,26,104734,40,104735,19,104736,30,104737,34,104738,27,104739,46,104740,5,104741,12,104742,50,104743,9,104744,43,104745,21,104746,26,104747,25,104748,21,104749,7,104750,53,104751,6,104752,33,104753,29,104754,19,104755,41,104756,31,104757,3,104758,41,104759,25,104760,49,104761,41,104762,44,104763,50,104764,46,104765,6,104766,40,104767,16,104768,8,104769,17,104770,48,104771,42,104772,50,104773,25,104774,29,104775,25,104776,32,104777,13,104778,36,104779,47,104780,14,104781,29,104782,23,104783,38,104784,42,104785,18,104786,20,104808,51,104896,75,104900,112,104901,104,104902,103,104903,116,104904,109,104905,108,104906,169,104907,164,104908,0,104909,168,104910,141,104911,166,104912,114,104913,160,104914,151,104915,117,104916,110,104917,140,104918,115,104919,170,104920,163,104921,154,104922,158,104923,161,104924,148,104925,0,104926,159,104927,167,104928,127,104929,131,104930,145,104931,159,104932,136,104933,123,104934,139,104935,134,104936,166,104937,150,104938,137,104939,147,104940,121,104941,165,104942,128,104943,111,104944,1,104945,126,104946,152,104947,157,104948,162,104949,153,104950,156,104951,149,104952,132,104953,122,104954,160,104955,146,104956,143,104957,156,104958,120,104959,125,104960,2,104961,144,104962,142,104963,138,104964,155,104965,135,104966,133,104967,151,104968,118,104969,119,104970,124,104971,108,104972,129,104973,130,104974,113,104975,0,104990,84,104991,75,104992,84],gcsidc:[[4127,4129,67],[4135,4139,67],[4158,4161,55],[4181,4185,55],[4194,4196,55],[4226,4228,63],[4247,4249,55],[4277,4279,81],[4600,4607,64],[4621,4623,55],[4628,4633,55],[4641,4646,55],[4662,4665,55],[4676,4678,66],[4688,4692,55],[4699,4701,64],[4755,4757,75],[4763,4765,75],[4813,4815,84],[8972,8987,75],[37212,37219,55],[37245,37247,55],[37249,37251,55],[104009,104015,75],[104019,104022,75],[104114,104124,75],[104125,104127,55],[104141,104145,75],[104179,104186,75],[104257,104260,75]]},$={c:[[2e3,2035,9001],[2039,2045,9001],[2056,2062,9001],[2067,2090,9001],[2093,2135,9001],[2161,2165,9001],[2172,2180,9001],[2188,2193,9001],[2195,2198,9001],[2200,2203,9001],[2205,2213,9001],[2215,2217,9001],[2222,2224,9002],[2225,2243,9003],[2246,2250,9003],[2251,2253,9002],[2257,2264,9003],[2274,2279,9003],[2280,2282,9002],[2283,2289,9003],[2308,2313,9001],[2315,2491,9001],[2494,2576,9001],[2578,2599,9001],[2601,2693,9001],[2695,2866,9001],[2867,2869,9002],[2870,2888,9003],[2891,2895,9003],[2896,2898,9002],[2902,2908,9003],[2915,2920,9003],[2921,2923,9002],[2924,2930,9003],[2931,2933,9001],[2935,2962,9001],[2964,2968,9003],[2969,2973,9001],[2975,2978,9001],[2984,2988,9001],[2995,3051,9001],[3054,3072,9001],[3077,3079,9001],[3081,3088,9001],[3092,3101,9001],[3106,3138,9001],[3146,3151,9001],[3153,3166,9001],[3168,3172,9001],[3174,3203,9001],[3294,3313,9001],[3315,3348,9001],[3350,3358,9001],[3367,3403,9001],[3408,3416,9001],[3417,3438,9003],[3441,3446,9003],[3447,3450,9001],[3451,3453,9003],[3455,3459,9003],[3460,3478,9001],[3554,3559,9001],[3560,3570,9003],[3571,3581,9001],[3594,3597,9001],[3601,3604,9001],[3637,3639,9001],[3665,3667,9001],[3693,3695,9001],[3701,3727,9001],[3728,3739,9003],[3740,3751,9001],[3753,3760,9003],[3761,3773,9001],[3775,3777,9001],[3779,3781,9001],[3788,3791,9001],[3797,3802,9001],[3814,3816,9001],[3825,3829,9001],[3832,3841,9001],[3844,3852,9001],[3873,3885,9001],[3890,3893,9001],[3942,3950,9001],[3968,3970,9001],[3973,3976,9001],[3986,3989,9001],[3994,3997,9001],[4001,4016,9102],[4018,4025,9102],[4027,4029,9102],[4031,4036,9102],[4044,4047,9102],[4048,4051,9001],[4052,4054,9102],[4056,4063,9001],[4093,4096,9001],[4120,4124,9102],[4127,4139,9102],[4141,4176,9102],[4178,4185,9102],[4188,4216,9102],[4218,4232,9102],[4235,4260,9102],[4265,4267,9102],[4269,4286,9102],[4292,4304,9102],[4306,4319,9102],[4390,4398,9001],[4399,4413,9003],[4418,4433,9003],[4455,4457,9003],[4484,4489,9001],[4491,4554,9001],[4568,4589,9001],[4600,4630,9102],[4636,4639,9102],[4641,4646,9102],[4652,4656,9001],[4657,4680,9102],[4682,4684,9102],[4686,4765,9102],[4766,4800,9001],[4801,4806,9102],[4813,4815,9102],[5014,5016,9001],[5069,5072,9001],[5105,5130,9001],[5173,5188,9001],[5253,5259,9001],[5269,5275,9001],[5292,5311,9001],[5329,5331,9001],[5343,5349,9001],[5355,5357,9001],[5459,5463,9001],[5479,5482,9001],[5518,5520,9001],[5533,5539,9001],[5550,5552,9001],[5562,5583,9001],[5623,5625,9003],[5631,5639,9001],[5649,5653,9001],[5663,5680,9001],[5682,5685,9001],[5875,5877,9001],[5896,5899,9001],[5921,5940,9001],[6050,6125,9001],[6244,6275,9001],[6328,6348,9001],[6350,6356,9001],[6366,6372,9001],[6381,6387,9001],[6393,6404,9001],[6480,6483,9001],[6511,6514,9001],[6579,6581,9001],[6619,6624,9001],[6625,6627,9003],[6628,6632,9001],[6634,6637,9001],[6669,6692,9001],[6707,6709,9001],[6720,6723,9001],[6732,6738,9001],[6881,6883,9102],[6931,6933,9001],[7005,7007,9001],[7057,7070,9003],[7074,7082,9001],[7109,7118,9001],[7119,7127,9002],[7374,7376,9001],[7528,7586,9001],[7587,7645,9003],[7692,7696,9001],[7755,7787,9001],[7791,7795,9001],[7799,7801,9001],[7803,7805,9001],[7825,7831,9001],[7845,7859,9001],[8013,8032,9001],[8065,8068,9002],[8518,8529,9003],[8533,8536,9003],[8538,8540,9003],[8677,8679,9001],[8836,8840,9001],[8857,8859,9001],[8908,8910,9001],[8972,9e3,9102],[9053,9057,9102],[9059,9069,9102],[9154,9159,9001],[9205,9218,9001],[20002,20032,9001],[20062,20092,9001],[20135,20138,9001],[20248,20258,9001],[20348,20358,9001],[20436,20440,9001],[20822,20824,9001],[20934,20936,9001],[21035,21037,9001],[21095,21097,9001],[21148,21150,9001],[21413,21423,9001],[21473,21483,9001],[21780,21782,9001],[21896,21899,9001],[22171,22177,9001],[22181,22187,9001],[22191,22197,9001],[22234,22236,9001],[22521,22525,9001],[22991,22994,9001],[23028,23038,9001],[23830,23853,9001],[23866,23872,9001],[23877,23884,9001],[23886,23894,9001],[23946,23948,9001],[24311,24313,9001],[24342,24347,9001],[24370,24374,9084],[24375,24381,9001],[24718,24721,9001],[24817,24821,9001],[24877,24882,9001],[24891,24893,9001],[25391,25395,9001],[25828,25838,9001],[26191,26195,9001],[26391,26393,9001],[26701,26722,9001],[26729,26746,9003],[26748,26760,9003],[26766,26799,9003],[26847,26870,9003],[26891,26899,9001],[26901,26923,9001],[26929,26946,9001],[26948,26978,9001],[26980,26998,9001],[27037,27040,9001],[27205,27232,9001],[27258,27260,9001],[27391,27398,9001],[27561,27564,9001],[27571,27574,9001],[27581,27584,9001],[27591,27594,9001],[28191,28193,9001],[28348,28358,9001],[28402,28432,9001],[28462,28492,9001],[29168,29172,9001],[29187,29195,9001],[29901,29903,9001],[30161,30179,9001],[30491,30494,9001],[30729,30732,9001],[31251,31259,9001],[31265,31268,9001],[31275,31277,9001],[31281,31290,9001],[31466,31469,9001],[31491,31495,9001],[31965,32e3,9001],[32001,32003,9003],[32005,32017,9003],[32019,32028,9003],[32033,32035,9003],[32037,32060,9003],[32064,32067,9003],[32081,32086,9001],[32107,32130,9001],[32133,32158,9001],[32164,32167,9003],[32180,32199,9001],[32201,32260,9001],[32301,32360,9001],[32601,32662,9001],[32664,32667,9003],[32701,32761,9001],[37002,37008,9102],[53001,53004,9001],[53008,53019,9001],[53021,53032,9001],[53034,53037,9001],[53042,53046,9001],[53074,53080,9001],[54001,54004,9001],[54008,54019,9001],[54021,54032,9001],[54042,54046,9001],[54048,54053,9001],[54074,54080,9001],[54098,54101,9001],[102001,102005,9001],[102007,102039,9001],[102042,102045,9001],[102060,102063,9001],[102070,102079,9001],[102096,102099,9001],[102101,102109,9001],[102114,102117,9001],[102132,102138,9001],[102141,102144,9001],[102156,102166,9001],[102173,102179,9001],[102191,102198,9001],[102221,102228,9001],[102231,102233,9001],[102237,102240,9001],[102364,102375,9001],[102389,102398,9003],[102399,102419,9001],[102421,102438,9001],[102445,102447,9003],[102450,102458,9001],[102459,102462,9003],[102470,102489,9001],[102550,102556,9001],[102562,102588,9001],[102629,102640,9003],[102648,102650,9003],[102688,102690,9003],[102696,102700,9003],[102701,102703,9001],[102799,102900,9001],[103166,103168,9002],[103220,103224,9001],[103225,103227,9002],[103232,103237,9001],[103238,103243,9003],[103244,103246,9001],[103247,103249,9003],[103254,103256,9001],[103257,103259,9003],[103264,103266,9001],[103267,103269,9003],[103327,103330,9001],[103344,103347,9001],[103372,103375,9001],[103381,103383,9001],[103384,103386,9002],[103387,103389,9001],[103390,103392,9003],[103397,103399,9001],[103427,103430,9003],[103444,103447,9003],[103476,103478,9001],[103479,103481,9003],[103486,103488,9001],[103489,103491,9003],[103492,103495,9001],[103496,103499,9003],[103539,103543,9001],[103544,103548,9003],[103549,103551,9001],[103552,103554,9002],[103555,103557,9003],[103558,103560,9001],[103571,103573,9001],[103574,103576,9003],[103577,103580,9001],[103581,103583,9003],[103595,103597,9001],[103600,103694,9001],[103696,103698,9001],[103700,103793,9003],[104101,104103,9102],[104126,104131,9102],[104259,104261,9102],[104700,104786,9102],[104900,104975,9102]],nc:[2065,9001,2066,9039,2136,9094,2137,9001,2138,9001,2154,9001,2157,9001,2158,9001,2159,9094,2160,9094,2169,9001,2170,9001,2204,9003,2219,9001,2220,9001,2254,9003,2255,9003,2256,9002,2265,9002,2266,9002,2267,9003,2268,9003,2269,9002,2270,9002,2271,9003,2272,9003,2273,9002,2290,9001,2294,9001,2295,9001,2314,9005,2899,9003,2900,9003,2901,9002,2909,9002,2910,9002,2911,9003,2912,9003,2913,9002,2914,9002,2980,9001,2981,9001,2991,9001,2992,9002,2993,9001,2994,9002,3074,9001,3075,9001,3080,9002,3089,9003,3090,9001,3091,9003,3102,9003,3141,9001,3142,9001,3167,9301,3360,9001,3361,9002,3362,9001,3363,9003,3364,9001,3365,9003,3404,9003,3405,9001,3406,9001,3407,9005,3439,9001,3440,9001,3479,9002,3480,9001,3481,9002,3482,9001,3483,9002,3484,9001,3485,9003,3486,9001,3487,9003,3488,9001,3489,9001,3490,9003,3491,9001,3492,9003,3493,9001,3494,9003,3495,9001,3496,9003,3497,9001,3498,9003,3499,9001,3500,9003,3501,9001,3502,9003,3503,9001,3504,9003,3505,9001,3506,9003,3507,9001,3508,9003,3509,9001,3510,9003,3511,9001,3512,9003,3513,9001,3514,9001,3515,9003,3516,9001,3517,9003,3518,9001,3519,9003,3520,9001,3521,9003,3522,9001,3523,9003,3524,9001,3525,9003,3526,9001,3527,9003,3528,9001,3529,9003,3530,9001,3531,9003,3532,9001,3533,9003,3534,9001,3535,9003,3536,9001,3537,9003,3538,9001,3539,9003,3540,9001,3541,9003,3542,9001,3543,9003,3544,9001,3545,9003,3546,9001,3547,9003,3548,9001,3549,9003,3550,9001,3551,9003,3552,9001,3553,9003,3582,9003,3583,9001,3584,9003,3585,9001,3586,9003,3587,9001,3588,9002,3589,9001,3590,9002,3591,9001,3592,9001,3593,9002,3598,9003,3599,9001,3600,9003,3605,9002,3606,9001,3607,9001,3608,9003,3609,9001,3610,9003,3611,9001,3612,9003,3613,9001,3614,9003,3615,9001,3616,9003,3617,9001,3618,9003,3619,9001,3620,9003,3621,9001,3622,9003,3623,9001,3624,9003,3625,9001,3626,9003,3627,9001,3628,9003,3629,9001,3630,9003,3631,9001,3632,9003,3633,9001,3634,9002,3635,9001,3636,9002,3640,9003,3641,9001,3642,9003,3643,9001,3644,9002,3645,9001,3646,9002,3647,9001,3648,9002,3649,9001,3650,9003,3651,9001,3652,9003,3653,9001,3654,9003,3655,9001,3656,9002,3657,9001,3658,9003,3659,9001,3660,9003,3661,9001,3662,9003,3663,9001,3664,9003,3668,9003,3669,9001,3670,9003,3671,9001,3672,9003,3673,9001,3674,9003,3675,9001,3676,9002,3677,9003,3678,9001,3679,9002,3680,9003,3681,9001,3682,9002,3683,9003,3684,9001,3685,9001,3686,9003,3687,9001,3688,9003,3689,9001,3690,9003,3691,9001,3692,9003,3696,9003,3697,9001,3698,9003,3699,9001,3700,9003,3783,9001,3784,9001,3793,9001,3794,9001,3812,9001,3819,9102,3821,9102,3824,9102,3854,9001,3857,9001,3889,9102,3906,9102,3911,9001,3912,9001,3920,9001,3978,9001,3979,9001,3991,9003,3992,9003,4026,9001,4037,9001,4038,9001,4042,9102,4071,9001,4075,9102,4081,9102,4082,9001,4083,9001,4087,9001,4088,9001,4217,9003,4261,9105,4262,9102,4263,9102,4288,9102,4289,9102,4322,9102,4324,9102,4326,9102,4414,9001,4415,9001,4417,9001,4434,9001,4437,9001,4438,9003,4439,9003,4462,9001,4463,9102,4467,9001,4470,9102,4471,9001,4475,9102,4483,9102,4490,9102,4555,9102,4558,9102,4559,9001,4632,9102,4633,9102,4647,9001,4807,9105,4808,9102,4809,9102,4810,9105,4811,9105,4816,9105,4817,9102,4818,9102,4820,9102,4821,9105,4822,9001,4823,9102,4824,9102,4826,9001,4839,9001,4901,9105,4902,9105,4903,9102,4904,9102,5013,9102,5018,9001,5048,9001,5167,9001,5168,9001,5221,9001,5223,9001,5228,9102,5229,9102,5233,9102,5234,9001,5235,9001,5243,9001,5246,9102,5247,9001,5252,9102,5264,9102,5266,9001,5316,9001,5320,9001,5321,9001,5324,9102,5325,9001,5337,9001,5340,9102,5354,9102,5360,9102,5361,9001,5362,9001,5365,9102,5367,9001,5371,9102,5373,9102,5381,9102,5382,9001,5383,9001,5387,9001,5389,9001,5393,9102,5396,9001,5451,9102,5456,9001,5457,9001,5464,9102,5467,9102,5469,9001,5472,9037,5489,9102,5490,9001,5513,9001,5514,9001,5523,9001,5524,9102,5527,9102,5530,9001,5531,9001,5546,9102,5559,9001,5561,9102,5588,9002,5589,9005,5593,9102,5596,9001,5627,9001,5629,9001,5641,9001,5643,9001,5644,9001,5646,9003,5654,9003,5655,9003,5659,9001,5681,9102,5700,9001,5825,9001,5836,9001,5837,9001,5839,9001,5842,9001,5844,9001,5858,9001,5879,9001,5880,9001,5886,9102,5887,9001,5890,9001,6128,9002,6129,9002,6135,9102,6204,9001,6207,9102,6210,9001,6211,9001,6307,9001,6311,9102,6312,9001,6316,9001,6318,9102,6322,9102,6325,9102,6362,9001,6365,9102,6391,9002,6405,9002,6406,9001,6407,9002,6408,9001,6409,9002,6410,9001,6411,9003,6412,9001,6413,9003,6414,9001,6415,9001,6416,9003,6417,9001,6418,9003,6419,9001,6420,9003,6421,9001,6422,9003,6423,9001,6424,9003,6425,9001,6426,9003,6427,9001,6428,9003,6429,9001,6430,9003,6431,9001,6432,9003,6433,9001,6434,9003,6435,9001,6436,9003,6437,9001,6438,9003,6439,9001,6440,9001,6441,9003,6442,9001,6443,9003,6444,9001,6445,9003,6446,9001,6447,9003,6448,9001,6449,9003,6450,9001,6451,9003,6452,9001,6453,9003,6454,9001,6455,9003,6456,9001,6457,9003,6458,9001,6459,9003,6460,9001,6461,9003,6462,9001,6463,9003,6464,9001,6465,9003,6466,9001,6467,9003,6468,9001,6469,9003,6470,9001,6471,9003,6472,9001,6473,9003,6474,9001,6475,9003,6476,9001,6477,9003,6478,9001,6479,9003,6484,9003,6485,9001,6486,9003,6487,9001,6488,9003,6489,9001,6490,9003,6491,9001,6492,9003,6493,9001,6494,9002,6495,9001,6496,9002,6497,9001,6498,9001,6499,9002,6500,9001,6501,9003,6502,9001,6503,9003,6504,9001,6505,9003,6506,9001,6507,9003,6508,9001,6509,9001,6510,9003,6515,9002,6516,9001,6518,9001,6519,9003,6520,9001,6521,9003,6522,9001,6523,9003,6524,9001,6525,9003,6526,9001,6527,9003,6528,9001,6529,9003,6530,9001,6531,9003,6532,9001,6533,9003,6534,9001,6535,9003,6536,9001,6537,9003,6538,9001,6539,9003,6540,9001,6541,9003,6542,9001,6543,9003,6544,9001,6545,9002,6546,9001,6547,9002,6548,9001,6549,9003,6550,9001,6551,9003,6552,9001,6553,9003,6554,9001,6555,9003,6556,9001,6557,9002,6558,9001,6559,9002,6560,9001,6561,9002,6562,9001,6563,9003,6564,9001,6565,9003,6566,9001,6567,9001,6568,9003,6569,9001,6570,9002,6571,9001,6572,9003,6573,9001,6574,9003,6575,9001,6576,9003,6577,9001,6578,9003,6582,9003,6583,9001,6584,9003,6585,9001,6586,9003,6587,9001,6588,9003,6589,9001,6590,9003,6591,9001,6592,9001,6593,9003,6594,9001,6595,9003,6596,9001,6597,9003,6598,9001,6599,9003,6600,9001,6601,9003,6602,9001,6603,9003,6605,9003,6606,9001,6607,9003,6608,9001,6609,9003,6610,9001,6611,9001,6612,9003,6613,9001,6614,9003,6615,9001,6616,9003,6617,9001,6618,9003,6633,9003,6646,9001,6668,9102,6703,9001,6706,9102,6783,9102,6784,9001,6785,9002,6786,9001,6787,9002,6788,9001,6789,9002,6790,9001,6791,9002,6792,9001,6793,9002,6794,9001,6795,9002,6796,9001,6797,9002,6798,9001,6799,9002,6800,9001,6801,9002,6802,9001,6803,9002,6804,9001,6805,9002,6806,9001,6807,9002,6808,9001,6809,9002,6810,9001,6811,9002,6812,9001,6813,9002,6814,9001,6815,9002,6816,9001,6817,9002,6818,9001,6819,9002,6820,9001,6821,9002,6822,9001,6823,9002,6824,9001,6825,9002,6826,9001,6827,9002,6828,9001,6829,9002,6830,9001,6831,9002,6832,9001,6833,9002,6834,9001,6835,9002,6836,9001,6837,9002,6838,9001,6839,9002,6840,9001,6841,9002,6842,9001,6843,9002,6844,9001,6845,9002,6846,9001,6847,9002,6848,9001,6849,9002,6850,9001,6851,9002,6852,9001,6853,9002,6854,9001,6855,9002,6856,9001,6857,9002,6858,9001,6859,9002,6860,9001,6861,9002,6862,9001,6863,9002,6867,9001,6868,9002,6870,9001,6875,9001,6876,9001,6879,9001,6880,9003,6884,9001,6885,9002,6886,9001,6887,9002,6892,9102,6894,9102,6915,9001,6922,9001,6923,9003,6924,9001,6925,9003,6962,9001,6983,9102,6984,9001,6990,9102,6991,9001,7035,9102,7037,9102,7039,9102,7041,9102,7073,9102,7084,9102,7086,9102,7128,9003,7131,9001,7132,9003,7133,9102,7136,9102,7139,9102,7142,9001,7257,9001,7258,9003,7259,9001,7260,9003,7261,9001,7262,9003,7263,9001,7264,9003,7265,9001,7266,9003,7267,9001,7268,9003,7269,9001,7270,9003,7271,9001,7272,9003,7273,9001,7274,9003,7275,9001,7276,9003,7277,9001,7278,9003,7279,9001,7280,9003,7281,9001,7282,9003,7283,9001,7284,9003,7285,9001,7286,9003,7287,9001,7288,9003,7289,9001,7290,9003,7291,9001,7292,9003,7293,9001,7294,9003,7295,9001,7296,9003,7297,9001,7298,9003,7299,9001,7300,9003,7301,9001,7302,9003,7303,9001,7304,9003,7305,9001,7306,9003,7307,9001,7308,9003,7309,9001,7310,9003,7311,9001,7312,9003,7313,9001,7314,9003,7315,9001,7316,9003,7317,9001,7318,9003,7319,9001,7320,9003,7321,9001,7322,9003,7323,9001,7324,9003,7325,9001,7326,9003,7327,9001,7328,9003,7329,9001,7330,9003,7331,9001,7332,9003,7333,9001,7334,9003,7335,9001,7336,9003,7337,9001,7338,9003,7339,9001,7340,9003,7341,9001,7342,9003,7343,9001,7344,9003,7345,9001,7346,9003,7347,9001,7348,9003,7349,9001,7350,9003,7351,9001,7352,9003,7353,9001,7354,9003,7355,9001,7356,9003,7357,9001,7358,9003,7359,9001,7360,9003,7361,9001,7362,9003,7363,9001,7364,9003,7365,9001,7366,9003,7367,9001,7368,9003,7369,9001,7370,9003,7373,9102,7683,9102,7798,9102,7844,9102,7877,9001,7878,9001,7881,9102,7882,9001,7883,9001,7886,9102,7887,9001,7899,9001,7991,9001,7992,9001,8035,9003,8036,9003,8042,9102,8043,9102,8058,9001,8059,9001,8082,9001,8083,9001,8086,9102,8088,9001,8090,9001,8091,9003,8092,9001,8093,9003,8095,9001,8096,9003,8097,9001,8098,9003,8099,9001,8100,9003,8101,9001,8102,9003,8103,9001,8104,9003,8105,9001,8106,9003,8107,9001,8108,9003,8109,9001,8110,9003,8111,9001,8112,9003,8113,9001,8114,9003,8115,9001,8116,9003,8117,9001,8118,9003,8119,9001,8120,9003,8121,9001,8122,9003,8123,9001,8124,9003,8125,9001,8126,9003,8127,9001,8128,9003,8129,9001,8130,9003,8131,9001,8132,9003,8133,9001,8134,9003,8135,9001,8136,9003,8137,9001,8138,9003,8139,9001,8140,9003,8141,9001,8142,9003,8143,9001,8144,9003,8145,9001,8146,9003,8147,9001,8148,9003,8149,9001,8150,9003,8151,9001,8152,9003,8153,9001,8154,9003,8155,9001,8156,9003,8157,9001,8158,9003,8159,9001,8160,9003,8161,9001,8162,9003,8163,9001,8164,9003,8165,9001,8166,9003,8167,9001,8168,9003,8169,9001,8170,9003,8171,9001,8172,9003,8173,9001,8177,9003,8179,9001,8180,9003,8181,9001,8182,9003,8184,9001,8185,9003,8187,9001,8189,9003,8191,9001,8193,9003,8196,9001,8197,9003,8198,9001,8200,9003,8201,9001,8202,9003,8203,9001,8204,9003,8205,9001,8206,9003,8207,9001,8208,9003,8209,9001,8210,9003,8212,9001,8213,9003,8214,9001,8216,9003,8218,9001,8220,9003,8222,9001,8224,9003,8225,9001,8226,9003,8232,9102,8237,9102,8240,9102,8246,9102,8249,9102,8252,9102,8255,9102,8311,9001,8312,9002,8313,9001,8314,9002,8315,9001,8316,9002,8317,9001,8318,9002,8319,9001,8320,9002,8321,9001,8322,9002,8323,9001,8324,9002,8325,9001,8326,9002,8327,9001,8328,9002,8329,9001,8330,9002,8331,9001,8332,9002,8333,9001,8334,9002,8335,9001,8336,9002,8337,9001,8338,9002,8339,9001,8340,9002,8341,9001,8342,9002,8343,9001,8344,9002,8345,9001,8346,9002,8347,9001,8348,9002,8351,9102,8352,9001,8353,9001,8379,9001,8380,9003,8381,9001,8382,9003,8383,9001,8384,9003,8385,9001,8387,9003,8391,9001,8395,9001,8427,9102,8428,9102,8431,9102,8433,9001,8441,9001,8455,9001,8456,9001,8531,9003,8545,9102,8682,9001,8685,9102,8687,9001,8692,9001,8693,9001,8694,9102,8699,9102,8818,9102,8826,9001,8860,9102,8888,9102,8900,9102,8902,9102,8903,9001,8907,9102,8949,9102,8950,9001,8951,9001,9003,9102,9006,9102,9009,9102,9012,9102,9014,9102,9017,9102,9019,9102,9039,9001,9040,9001,9140,9102,9141,9001,9148,9102,9149,9001,9150,9001,9153,9102,9191,9001,9221,9001,9222,9001,20499,9001,20538,9001,20539,9001,20790,9001,20791,9001,21291,9001,21292,9001,21500,9001,21817,9001,21818,9001,22032,9001,22033,9001,22091,9001,22092,9001,22332,9001,22391,9001,22392,9001,22700,9001,22770,9001,22780,9001,22832,9001,23090,9001,23095,9001,23239,9001,23240,9001,23700,9001,24047,9001,24048,9001,24100,9005,24200,9001,24305,9001,24306,9001,24382,9084,24383,9001,24500,9001,24547,9001,24548,9001,24571,9062,24600,9001,25e3,9001,25231,9001,25884,9001,25932,9001,26237,9001,26331,9001,26332,9001,26591,9001,26592,9001,26632,9001,26692,9001,27120,9001,27200,9001,27291,9040,27292,9040,27429,9001,27493,9001,27500,9001,27700,9001,28232,9001,28600,9001,28991,9001,28992,9001,29101,9001,29220,9001,29221,9001,29333,9001,29635,9001,29636,9001,29701,9001,29738,9001,29739,9001,29849,9001,29850,9001,29871,9042,29872,9041,29873,9001,30200,9039,30339,9001,30340,9001,30791,9001,30792,9001,31028,9001,31121,9001,31154,9001,31170,9001,31171,9001,31279,9001,31370,9001,31528,9001,31529,9001,31600,9001,31700,9001,31838,9001,31839,9001,31901,9001,32030,9003,32031,9003,32061,9001,32062,9001,32098,9001,32099,9003,32100,9001,32104,9001,32161,9001,32766,9001,37202,9102,37203,9102,37206,9102,37207,9102,37218,9102,37221,9102,37225,9105,37240,9102,37241,9102,37243,9102,37245,9102,37249,9102,37257,9102,37260,9102,53048,9001,53049,9001,54034,9001,54090,9001,54091,9001,65061,9003,65062,9003,65161,9001,102041,9003,102064,9085,102068,109030,102069,109031,102093,9001,102094,9001,102118,9003,102120,9003,102121,9003,102122,9001,102150,9001,102168,9001,102204,9001,102212,9001,102213,9001,102215,9001,102216,9001,102217,9003,102218,9001,102219,9003,102220,9003,102247,9001,102299,9001,102306,9001,102319,9001,102328,9001,102329,9001,102359,9001,102360,9001,102440,9001,102448,9001,102464,9003,102465,9003,102491,9001,102492,9001,102498,9001,102499,9001,102525,9003,102526,9003,102528,9003,102529,9003,102589,9003,102598,9001,102599,9003,102600,9003,102604,9003,102661,9003,102662,9003,102664,9003,102665,9003,102705,9003,102720,9003,102721,9003,102726,9003,102727,9003,102733,9003,102761,9003,102766,9003,102974,9003,103228,9001,103229,9001,103230,9003,103231,9003,103250,9001,103251,9003,103252,9001,103253,9003,103260,9001,103261,9001,103262,9003,103263,9003,103270,9001,103271,9001,103272,9003,103273,9003,103274,9001,103275,9001,103276,9003,103277,9003,103278,9001,103279,9001,103280,9003,103281,9003,103282,9001,103283,9001,103284,9003,103285,9003,103286,9001,103287,9003,103288,9001,103289,9003,103290,9001,103291,9003,103292,9001,103293,9001,103294,9003,103295,9003,103296,9001,103297,9001,103298,9003,103299,9003,103300,9001,103307,9001,103313,9001,103319,9001,103322,9001,103323,9001,103332,9001,103335,9001,103338,9001,103340,9001,103351,9001,103358,9001,103370,9001,103376,9003,103377,9001,103378,9001,103379,9003,103380,9003,103393,9001,103394,9001,103395,9003,103396,9003,103400,9003,103407,9003,103413,9003,103419,9003,103422,9003,103423,9003,103432,9003,103435,9003,103438,9003,103440,9003,103451,9003,103458,9003,103470,9003,103472,9001,103473,9002,103474,9001,103475,9003,103482,9001,103483,9003,103484,9001,103485,9003,103500,9001,103501,9003,103502,9001,103503,9001,103504,9002,103505,9002,103506,9001,103507,9001,103508,9003,103509,9003,103510,9001,103511,9001,103512,9003,103513,9003,103514,9001,103515,9003,103516,9001,103517,9003,103518,9001,103519,9003,103520,9001,103521,9002,103522,9001,103523,9001,103524,9003,103525,9003,103526,9001,103527,9003,103561,9003,103562,9003,103563,9001,103564,9001,103565,9003,103566,9003,103567,9001,103568,9001,103569,9003,103570,9003,103585,9003,103586,9001,103587,9003,103588,9002,103589,9001,103590,9003,103591,9002,103592,9001,103593,9003,103594,9002,103695,9003,103846,9001,103946,9003,104009,9102,104017,9102,104018,9102,104022,9102,104024,9102,104027,9102,104047,9102,104050,9102,104105,9102,104106,9102,104109,9102,104112,9102,104113,9102,104134,9102,104135,9102,104138,9102,104139,9105,104140,9105,104808,9102]};B.yr=function(){function k(){}return k.Ny=function(T){!1===k.zp&&k.yt();var E=k.xQ(T);if(-1==E){var D=k.zx(T);D!=T&&(E=k.Ny(D))}return-1==E&&(D=k.xK(T))!=T&&(E=k.Ny(D)),E},k.xQ=function(T){return void 0!==k.Gw[T]?k.Gw[T]:-1},k.uQ=function(T){!1===k.zp&&k.yt();var E=k.fF(T);if(1e38==E){var D=k.zx(T);if(D!=T&&(E=k.fF(D)),1e38==E)return 1e-10}return E},k.PS=function(T){if(void 0!==k.Js[T])return!0;var E=k.zx(T);return E!=T&&void 0!==k.Js[E]},k.RS=function(T){if(void 0!==k.yo[T])return!0;var E=k.zx(T);return E!=T&&void 0!==k.yo[E]},k.fF=function(T){return!1===k.zp&&k.yt(),void 0!==k.Js[T]?k.Js[T]:void 0!==k.yo[T]?k.yo[T]:1e38},k.xK=function(T){return!1===k.zp&&k.yt(),void 0!==k.QA[T]?k.QA[T]:T},k.zx=function(T){return!1===k.zp&&k.yt(),void 0!==k.RA[T]?k.RA[T]:T},k.yt=function(){for(var T,E=Be,D=0;D<E.pcsid.length;D+=2)k.yo[E.pcsid[D]]=E.pcstol[2*E.pcsid[D+1]+1];for(D=0;D<E.pcsidc.length;D+=1)for(var O=(T=E.pcsidc[D])[0];O<=T[1];O++)k.yo[O]=E.pcstol[2*T[2]+1];for(D=0;D<E.gcsid.length;D+=2)k.Js[E.gcsid[D]]=E.gcstol[2*E.gcsid[D+1]+1];for(D=0;D<E.gcsidc.length;D+=1)for(O=(T=E.gcsidc[D])[0];O<=T[1];O++)k.yo[O]=E.gcstol[2*T[2]+1];for(D=0;D<$.c.length;D+=1)for(O=(T=$.c[D])[0];O<=T[1];O++)k.Gw[O]=T[2];for(D=0;D<$.nc.length;D+=2)k.Gw[$.nc[D]]=$.nc[D+1];for($=null,D=0;D<E.newtoold.length;D+=2)k.QA[E.newtoold[D+1]]=E.newtoold[D],k.RA[E.newtoold[D]]=E.newtoold[D+1];Be=null,k.zp=!0},k.zp=!1,k.Js=[],k.yo=[],k.QA=[],k.RA=[],k.Gw=[],k}()}(st||(st={})),function(B){function Be(k){return 0===k.length?'""':'"'==k[0]||"."==k[0]||"0"<=k[0]&&"9">=k[0]?k:'"'+k.trim()+'"'}var $=[];B.PC=function(){function k(){}return k.wQ=function(T){try{for(var E=0;E<$.length;E++)if($[E].wkttext===T)return $[E].unit;for(var D,O=E="",L=!1,F=0;F<T.length;F++){var V=T[F];!0===L?'"'==V?'"'==T[F+1]?E+=V:L=L=!1:E+=V:/[\s]/.test(V)||(","==V?(O=""!==E?O+(Be(E)+","):O+",",E=""):")"==V||"]"==V?(O=""!==E?O+(Be(E)+"]}"):O+"]}",E=""):"("==V||"["==V?(O+='{ "entity": "'+E.toUpperCase().trim()+'", "values":[',E=""):'"'==V?(L=!0,E=""):E+=V)}D=JSON.parse(O);var W=k.eF(D);if(null===W)return null;for(D=null,V=0;V<W.values.length;V++)if("object"==typeof W.values[V]&&"UNIT"===W.values[V].entity){D=W.values[V];break}if(null===D)return null;var X=B.Uc.RO("GEOGCS"===W.entity?1:0,D.values[1],D.values[2]);return $.push({wkttext:T,unit:X}),10<$.length&&$.shift(),X}catch(ie){return null}},k.eF=function(T){if(null===T)return null;if("GEOGCS"===T.entity||"PROJCS"===T.entity)return T;for(var E=[],D=0;D<T.values.length;D++)if("object"==typeof T.values[D]&&void 0!==T.values[D].entity){if("GEOGCS"===T.values[D].entity||"PROJCS"==T.values[D].entity)return T.values[D];E.push(T.values[D])}for(T=0;T<E.length;T++)if(null!==(D=k.eF(E[T])))return D;return null},k.vQ=function(T){var E=-1;if(null!=T&&0<T.length){var D=T.indexOf("PROJCS");if(0<=D){var O=0;if(0<=(D=T.lastIndexOf("UNIT"))&&0<(D=T.indexOf(",",D+4))){D++;var L=T.indexOf("]",D+1);if(0<L)try{O=parseFloat(T.substring(D,L))}catch(V){O=0}}0<O&&(E=.001/O)}else if(0<=(D=T.indexOf("GEOGCS"))){var F=0;if(O=0,0<(D=T.indexOf("SPHEROID",D+6))&&0<(D=T.indexOf(",",D+8))){if(D++,0<(L=T.indexOf(",",D+1)))try{F=parseFloat(T.substring(D,L))}catch(V){F=0}if(0<F&&0<=(D=T.indexOf("UNIT",L+1))&&0<(D=T.indexOf(",",D+4))&&(D++,0<(L=T.indexOf("]",D+1))))try{O=parseFloat(T.substring(D,L))}catch(V){O=0}}0<F&&0<O&&(E=.001/(F*O))}}return E},k}()}(st||(st={})),function(B){var Be,k;(Be=B.XK||(B.XK={}))[Be.NONE=0]="NONE",Be[Be.LINEAR=1]="LINEAR",Be[Be.ANGULAR=2]="ANGULAR",(k=B.IL||(B.IL={}))[k.enumFloat=0]="enumFloat",k[k.enumDouble=1]="enumDouble",k[k.enumInt32=2]="enumInt32",k[k.enumInt64=3]="enumInt64",k[k.enumInt8=4]="enumInt8",k[k.enumInt16=5]="enumInt16",function(k){k[k.POSITION=0]="POSITION",k[k.Z=1]="Z",k[k.M=2]="M",k[k.ID=3]="ID",k[k.NORMAL=4]="NORMAL",k[k.TEXTURE1D=5]="TEXTURE1D",k[k.TEXTURE2D=6]="TEXTURE2D",k[k.TEXTURE3D=7]="TEXTURE3D",k[k.ID2=8]="ID2",k[k.MAXSEMANTICS=10]="MAXSEMANTICS"}(B.Jh||(B.Jh={}));var $=function(){function k(T,E){if(this.Ws=this.Be=null,this.Qq=this.Ba=0,this.vh=this.cg=null,this.yl=0,void 0!==E){for(this.Ba=E.Ba,this.Qq=E.Qq,this.cg=E.cg.slice(0),this.vh=E.vh.slice(0),this.yl=E.yl,this.Ws=[],T=E=0;T<this.Ba;T++)this.Ws[T]=E,E+=k.Wa(this.cg[T]);for(this.Qq=E,this.Be=[],T=0;T<this.Ba;T++){E=k.Wa(this.qd(T));for(var D=k.te(this.qd(T)),O=0;O<E;O++)this.Be[this.Ws[T]+O]=D}}else this.Qq=this.Ba=0}return k.prototype.qd=function(T){if(0>T||T>this.Ba)throw B.i.O();return this.cg[T]},k.prototype.Qf=function(T){return this.vh[T]},k.gz=function(T){return k.BM[T]},k.Vp=function(T){return k.KM[T]},k.Wa=function(T){return k.jM[T]},k.prototype.hasAttribute=function(T){return 0<=this.vh[T]},k.prototype.aG=function(){return this.hasAttribute(1)},k.te=function(T){return k.XC[T]},k.prototype.CR=function(T){return this.Ws[T]},k.vG=function(T,E){return k.XC[T]===E},k.prototype.Nb=function(T){return this===T},k.prototype.Bn=function(){for(var T=B.P.Uh(this.cg[0]),E=1;E<this.Ba;E++)T=B.P.Uh(this.cg[E],T);return T},k.prototype.$j=function(T){return this.Ws[T]},k.prototype.dc=function(){return this.yl},k.prototype.Fd=function(T){return this.cg[T]},k.XC=[0,0,NaN,0,0,0,0,0,0],k.BM=[1,1,1,0,2,1,1,1,0],k.KM=[1,1,1,2,0,0,0,0,2],k.jM=[2,1,1,1,3,1,2,3,2],k}();B.ua=$}(st||(st={})),function(B){function Be(L,F,V){var W=F-(L=new O(L)).e,X=L.c;for(X.length>++F&&$(L,W,O.fu),X[0]?V?W=F:(X=L.c,W=L.e+W+1):++W;X.length<W;X.push(0));return W=L.e,1===V||V&&(F<=W||W<=T)?(0>L.Cd&&X[0]?"-":"")+(1<X.length?X[0]+"."+X.join("").slice(1):X[0])+(0>W?"e":"e+")+W:L.toString()}function $(L,F,V,W){var X=L.c,ie=L.e+F+1;if(1===V?W=5<=X[ie]:2===V?W=5<X[ie]||5==X[ie]&&(W||0>ie||void 0!==X[ie+1]||1&X[ie-1]):3===V?W=W||void 0!==X[ie]||0>ie:(W=!1,0!==V&&k("!Big.RM!")),1>ie||!X[0])W?(L.e=-F,L.c=[1]):L.c=[L.e=0];else{if(X.length=ie--,W)for(;9<++X[ie];)X[ie]=0,ie--||(++L.e,X.unshift(1));for(ie=X.length;!X[--ie];X.pop());}return L}function k(L){throw(L=Error(L)).name="BigError",L}var T=-7,E=21,D=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,O=function(){function L(F){if(F instanceof L)this.Cd=F.Cd,this.e=F.e,this.c=F.c.slice();else{var V,W,X;for(0===F&&0>1/F?F="-0":D.test(F+="")||k(NaN),this.Cd="-"==F.charAt(0)?(F=F.slice(1),-1):1,-1<(V=F.indexOf("."))&&(F=F.replace(".","")),0<(W=F.search(/e/i))?(0>V&&(V=W),V+=+F.slice(W+1),F=F.substring(0,W)):0>V&&(V=F.length),W=0;"0"==F.charAt(W);W++);if(W==(X=F.length))this.c=[this.e=0];else{for(;"0"==F.charAt(--X););for(this.e=V-W-1,this.c=[],V=0;W<=X;this.c[V++]=+F.charAt(W++));}}}return L.prototype.abs=function(){var F=new L(this);return F.Cd=1,F},L.prototype.cmp=function(F){var V=this.c,W=(F=new L(F)).c,X=this.Cd,ie=F.Cd,Y=this.e,te=F.e;if(!V[0]||!W[0])return V[0]?X:W[0]?-ie:0;if(X!=ie)return X;if(F=0>X,Y!=te)return Y>(te^F)?1:-1;for(X=-1,ie=(Y=V.length)<(te=W.length)?Y:te;++X<ie;)if(V[X]!=W[X])return V[X]>(W[X]^F)?1:-1;return Y==te?0:Y>(te^F)?1:-1},L.prototype.lm=function(F){var V=this.c,W=(F=new L(F)).c,X=this.Cd==F.Cd?1:-1,ie=L.tr;if((ie!==~~ie||0>ie||1e6<ie)&&k("!Big.DP!"),!V[0]||!W[0])return V[0]==W[0]&&k(NaN),W[0]||k(X/0),new L(0*X);var Y,te,ne=W.slice(),we=Y=W.length,ze=V.length,_t=V.slice(0,Y),Mt=_t.length,pe=F,Ge=pe.c=[],it=0,ht=ie+(pe.e=this.e-F.e)+1;for(pe.Cd=X,X=0>ht?0:ht,ne.unshift(0);Mt++<Y;_t.push(0));do{for(te=0;10>te;te++){if(Y!=(Mt=_t.length))var mt=Y>Mt?1:-1;else{var yt=-1;for(mt=0;++yt<Y;)if(W[yt]!=_t[yt]){mt=W[yt]>_t[yt]?1:-1;break}}if(!(0>mt))break;for(F=Mt==Y?W:ne;Mt;){if(_t[--Mt]<F[Mt]){for(yt=Mt;yt&&!_t[--yt];_t[yt]=9);--_t[yt],_t[Mt]+=10}_t[Mt]-=F[Mt]}for(;!_t[0];_t.shift());}Ge[it++]=mt?te:++te,_t[0]&&mt?_t[Mt]=V[we]||0:_t=[V[we]]}while((we++<ze||void 0!==_t[0])&&X--);return Ge[0]||1==it||(Ge.shift(),pe.e--),it>ht&&$(pe,ie,L.fu,void 0!==_t[0]),pe},L.prototype.XR=function(){return 0<this.cmp(0)},L.prototype.dT=function(){return 0>this.cmp(0)},L.prototype.jt=function(F){var V,W=this.Cd,X=(F=new L(F)).Cd;if(W!=X)return F.Cd=-X,this.lI(F);var ie=this.c.slice(),Y=this.e,te=F.c,ne=F.e;if(!ie[0]||!te[0])return te[0]?(F.Cd=-X,F):new L(ie[0]?this:0);if(W=Y-ne){for((V=0>W)?(W=-W,Y=ie):(ne=Y,Y=te),Y.reverse(),X=W;X--;Y.push(0));Y.reverse()}else for(Y=((V=ie.length<te.length)?ie:te).length,W=X=0;X<Y;X++)if(ie[X]!=te[X]){V=ie[X]<te[X];break}if(V&&(Y=ie,ie=te,te=Y,F.Cd=-F.Cd),0<(X=(Y=te.length)-(V=ie.length)))for(;X--;ie[V++]=0);for(X=V;Y>W;){if(ie[--Y]<te[Y]){for(V=Y;V&&!ie[--V];ie[V]=9);--ie[V],ie[Y]+=10}ie[Y]-=te[Y]}for(;0==ie[--X];ie.pop());for(;0==ie[0];)ie.shift(),--ne;return ie[0]||(F.Cd=1,ie=[ne=0]),F.c=ie,F.e=ne,F},L.prototype.lI=function(F){var V=this.Cd,W=(F=new L(F)).Cd;if(V!=W)return F.Cd=-W,this.jt(F);W=this.e;var X=this.c,ie=F.e,Y=F.c;if(!X[0]||!Y[0])return Y[0]?F:new L(X[0]?this:0*V);if(X=X.slice(),V=W-ie){for(0<V?(ie=W,W=Y):(V=-V,W=X),W.reverse();V--;W.push(0));W.reverse()}for(0>X.length-Y.length&&(W=Y,Y=X,X=W),V=Y.length,W=0;V;)W=(X[--V]=X[V]+Y[V]+W)/10|0,X[V]%=10;for(W&&(X.unshift(W),++ie),V=X.length;0==X[--V];X.pop());return F.c=X,F.e=ie,F},L.prototype.pow=function(F){var V=this,W=new L(1),X=W,ie=0>F;for((F!==~~F||-1e6>F||1e6<F)&&k("!pow!"),F=ie?-F:F;1&F&&(X=X.nr(V)),F>>=1;)V=V.nr(V);return ie?W.lm(X):X},L.prototype.round=function(F,V){var W=this;return null==F?F=0:(F!==~~F||0>F||1e6<F)&&k("!round!"),$(W=new L(W),F,null==V?L.fu:V),W},L.prototype.sqrt=function(){var F=this.c,V=this.Cd,W=this.e,X=new L("0.5");if(!F[0])return new L(this);0>V&&k(NaN),0==(V=Math.sqrt(this.toString()))||V==1/0?((V=F.join("")).length+W&1||(V+="0"),(F=new L(Math.sqrt(V).toString())).e=((W+1)/2|0)-(0>W||1&W)):F=new L(V.toString()),V=F.e+(L.tr+=4);do{F=X.nr((W=F).lI(this.lm(W)))}while(W.c.slice(0,V).join("")!==F.c.slice(0,V).join(""));return $(F,L.tr-=4,L.fu),F},L.prototype.nr=function(F){var V=this.c,W=(F=new L(F)).c,X=V.length,ie=W.length,Y=this.e,te=F.e;if(F.Cd=this.Cd==F.Cd?1:-1,!V[0]||!W[0])return new L(0*F.Cd);if(F.e=Y+te,X<ie){var ne=V;V=W,W=ne,te=X,X=ie,ie=te}for(ne=Array(te=X+ie);te--;ne[te]=0);for(Y=ie;Y--;){for(ie=0,te=X+Y;te>Y;)ie=ne[te]+W[Y]*V[te-Y-1]+ie,ne[te--]=ie%10,ie=ie/10|0;ne[te]=(ne[te]+ie)%10}for(ie&&++F.e,ne[0]||ne.shift(),Y=ne.length;!ne[--Y];ne.pop());return F.c=ne,F},L.prototype.toString=function(){var F=this.e,V=this.c.join(""),W=V.length;if(F<=T||F>=E)V=V.charAt(0)+(1<W?"."+V.slice(1):"")+(0>F?"e":"e+")+F;else if(0>F){for(;++F;V="0"+V);V="0."+V}else if(0<F)if(++F>W)for(F-=W;F--;V+="0");else F<W&&(V=V.slice(0,F)+"."+V.slice(F));else 1<W&&(V=V.charAt(0)+"."+V.slice(1));return 0>this.Cd&&this.c[0]?"-"+V:V},L.prototype.toExponential=function(F){return null==F?F=this.c.length-1:(F!==~~F||0>F||1e6<F)&&k("!toExp!"),Be(this,F,1)},L.prototype.toFixed=function(F){var V=T,W=E;if(T=-(E=1/0),null==F)var X=this.toString();else F===~~F&&0<=F&&1e6>=F&&(X=Be(this,this.e+F),0>this.Cd&&this.c[0]&&0>X.indexOf("-")&&(X="-"+X));return T=V,E=W,X||k("!toFix!"),X},L.prototype.toPrecision=function(F){return null==F?this.toString():((F!==~~F||1>F||1e6<F)&&k("!toPre!"),Be(this,F-1,2))},L.tr=20,L.fu=1,L}();B.ip=O}(st||(st={})),function(B){var Be=function(){function $(k){this.lf=k}return $.prototype.qr=function(k,T,E){var D=new B.h,O=new B.h,L=this.lf;E.Wd(k,T,function(F,V){return L.uc(2*F,D),L.uc(2*V,O),D.compare(O)})},$.prototype.bq=function(k){return this.lf.read(2*k+1)},$}();B.ri=function(){function $(){}return $.cq=function(k){if(k.B())return!1;var T=k.K();return 1736==T?0!=k.He():1607==T?($.kE(k,!0,T=[!1]),T[0]):!(197!=T&&(!B.ba.zd(T)||k.tG()))},$.im=function(k){var T=k.K();if(1736==T)return T=new B.Ua(k.description),k.B()||k.WC(T),T;if(1607==T)return $.kE(k,!1,null);if(197==T)return T=new B.Ua(k.description),k.B()||T.bd(k,!1),T;if(B.ba.zd(T)){if(T=new B.de(k.description),!k.B()&&!k.tG()){var E=new B.Ta;k.Uo(E),T.add(E),k.Qo(E),T.add(E)}return T}if(B.ba.Sn(T))return null;throw B.i.O()},$.kE=function(k,T,E){null!=E&&(E[0]=!1);var D=null;if(T||(D=new B.de(k.description)),!k.B()){var O=new B.ja(0);O.Jb(2*k.ea());for(var L=0,F=k.ea();L<F;L++)if(0<k.Ka(L)&&!k.On(L)){var V=k.Ca(L);O.add(V),V=k.Wc(L)-1,O.add(V)}if(0<O.size){F=new B.Yt,L=k.vb(0),F.sort(O,0,O.size,new Be(L)),F=new B.h,L.uc(2*O.get(0),F),V=0;for(var W=1,X=new B.Ta,ie=new B.h,Y=1,te=O.size;Y<te;Y++)if(L.uc(2*O.get(Y),ie),ie.rb(F))O.get(V)>O.get(Y)?(O.set(V,2147483647),V=Y):O.set(Y,2147483647),W++;else{if(0==(1&W))O.set(V,2147483647);else if(T)return null!=E&&(E[0]=!0),null;F.N(ie),V=Y,W=1}if(0==(1&W))O.set(V,2147483647);else if(T)return null!=E&&(E[0]=!0),null;if(!T)for(O.Wd(0,O.size,function(ne,we){return ne-we}),Y=0,te=O.size;Y<te&&2147483647!=O.get(Y);Y++)k.we(O.get(Y),X),D.add(X)}}return T?null:D},$}()}(st||(st={})),function(B){var Be=function(){function $(){this.zf=new B.ja(0),this.zs=new B.ja(0),this.wH=1,this.Fs=NaN}return $.prototype.sort=function(k,T,E,D){if(32>E-T)D.qr(T,E,k);else{var O=!0;try{for(var L=1/0,F=-1/0,V=T;V<E;V++){var W=D.bq(k.get(V));W<L&&(L=W),W>F&&(F=W)}if(this.reset(E-T,L,F,E-T)){for(V=T;V<E;V++){var X=k.get(V);W=D.bq(X);var ie=this.rF(W);this.zf.set(ie,this.zf.get(ie)+1),this.zs.write(V-T,X)}var Y=this.zf.get(0);this.zf.set(0,0),V=1;for(var te=this.zf.size;V<te;V++){var ne=this.zf.get(V);this.zf.set(V,Y),Y+=ne}for(V=T;V<E;V++){X=this.zs.read(V-T),W=D.bq(X),ie=this.rF(W);var we=this.zf.get(ie);k.set(we+T,X),this.zf.set(ie,we+1)}O=!1}}catch(ze){this.zf.resize(0),this.zs.resize(0)}if(O)D.qr(T,E,k);else{for(V=E=0,te=this.zf.size;V<te;V++)O=E,(E=this.zf.get(V))>O&&D.qr(T+O,T+E,k);100<this.zf.size&&(this.zf.resize(0),this.zs.resize(0))}}},$.prototype.reset=function(k,T,E,D){return!(2>k||E==T||(k=Math.min($.$K,k),this.zf.Jb(k),this.zf.resize(k),this.zf.Xj(0,0,this.zf.size),this.wH=T,this.zs.resize(D),this.Fs=(E-T)/(k-1),0))},$.prototype.rF=function(k){return B.P.truncate((k-this.wH)/this.Fs)},$.$K=65536,$}();B.Yt=Be}(st||(st={})),function(B){var Be,$;($=Be||(Be={}))[$.enum_line=1]="enum_line",$[$.enum_arc=2]="enum_arc",$[$.enum_dummy=4]="enum_dummy",$[$.enum_concave_dip=8]="enum_concave_dip",$[$.enum_connection=3]="enum_connection";var k=function(){function L(){}return L.Su=function(F,V,W,X,ie,Y){var te=new L;return te.Km=new B.h,te.Xm=new B.h,te.bw=new B.h,te.Km.N(F),te.Xm.N(V),te.bw.N(W),te.Do=X,te.rh=ie,te.th=Y,te},L.construct=function(F,V,W,X){var ie=new L;return ie.Km=new B.h,ie.Xm=new B.h,ie.bw=new B.h,ie.Km.N(F),ie.Xm.N(V),ie.bw.Sc(),ie.Do=4,ie.rh=W,ie.th=X,ie},L}(),T=function(){function L(F,V,W,X,ie,Y){this.Zv=null,this.za=0,this.yA=F,this.UH=this.SH=0,this.La=V,this.Nj=W,this.vk=X,this.Fq=ie,this.Vb=Y}return L.prototype.next=function(){for(var F=new B.Ta;;){if(this.za==this.yA.I())return null;if(this.yA.we(this.za,F),this.za++,!F.B())break}var V=!1;if(null==this.Zv&&(this.SH=F.Mg(),this.UH=F.jh(),this.Zv=O.buffer(F,this.La,this.Nj,this.vk,this.Fq,this.Vb),V=!0),this.za<this.yA.I()){var W=new B.Ea;this.Zv.copyTo(W)}else W=this.Zv;if(!V){V=new B.Ed;var X=F.Mg()-this.SH;F=F.jh()-this.UH,V.gg(X,F),W.Pc(V)}return W},L.prototype.Ma=function(){return 0},L.prototype.qe=function(){},L}(),E=function(){function L(F,V){this.Xa=F,this.za=0,this.qq=V}return L.prototype.next=function(){var F=this.Xa.Y;if(this.za<F.ea()){var V=this.za;if(this.za++,!F.On(V))for(var W=F.Oa(F.Wc(V)-1);this.za<F.ea();){var X=F.Oa(F.Ca(this.za));if(F.On(this.za)||X!=W)break;W=F.Oa(F.Wc(this.za)-1),this.za++}if(this.za-V==1)return this.Xa.cE(this.Xa.Y,V,this.qq);for((W=new B.Ua(this.Xa.Y.description)).addPath(this.Xa.Y,V,!0),V+=1;V<this.za;V++)W.Fr(this.Xa.Y,V,0,F.sv(V),!1);return this.Xa.cE(W,0,this.qq)}return null},L.prototype.Ma=function(){return 0},L.prototype.qe=function(){},L}(),D=function(){function L(F){this.Xa=F,this.za=0}return L.prototype.next=function(){var F=this.Xa.Y;if(this.za<F.ea()){var V=this.za;for(F.Kr(this.za),this.za++;this.za<F.ea()&&!(0<F.Kr(this.za));)this.za++;return 0==V&&this.za==F.ea()?this.Xa.ky(F,0,F.ea()):this.Xa.ky(F,V,this.za)}return null},L.prototype.Ma=function(){return 0},L.prototype.qe=function(){},L}(),O=function(){function L(F){this.Ls=this.mw=this.Ms=this.Jd=null,this.$d=[],this.Vb=F,this.sb=this.Lv=this.zT=this.La=this.nA=this.ct=this.ra=0,this.iA=this.vk=-1,this.qq=!0}return L.buffer=function(F,V,W,X,ie,Y){if(null==F||0>X)throw B.i.O();if(F.B())return new B.Ea(F.description);var te=new B.l;return F.yc(te),0<V&&te.X(V,V),(Y=new L(Y)).Nj=W,Y.Y=F,Y.ra=B.ta.Xd(W,te,!0),Y.ct=B.ta.Xd(null,te,!0),Y.La=V,Y.zT=F.K(),0>=ie&&(ie=96),Y.sb=Math.abs(Y.La),Y.Lv=0!=Y.sb?1/Y.sb:0,isNaN(X)||0==X?X=1e-5*Y.sb:X>.5*Y.sb&&(X=.5*Y.sb),12>ie&&(ie=12),(F=Math.abs(V)*(1-Math.cos(Math.PI/ie)))>X?X=F:(F=Math.PI/Math.acos(1-X/Math.abs(V)))<ie-1&&12>(ie=B.P.truncate(F))&&(ie=12,X=Math.abs(V)*(1-Math.cos(Math.PI/ie))),Y.vk=X,Y.Fq=ie,Y.nA=Math.min(Y.ct,.25*X),Y.dE()},L.prototype.dv=function(){if(null==this.Jd)this.Jd=[];else if(0!==this.Jd.length)return;var F=this.iE();F=B.P.truncate((F+3)/4);var V=.5*Math.PI/F;this.iA=V;for(var W=0;W<4*F;W++)this.Jd.push(null);var X=Math.cos(V);V=Math.sin(V);var ie=B.h.construct(0,1);for(W=0;W<F;W++)this.Jd[W+0*F]=B.h.construct(ie.y,-ie.x),this.Jd[W+1*F]=B.h.construct(-ie.x,-ie.y),this.Jd[W+2*F]=B.h.construct(-ie.y,ie.x),this.Jd[W+3*F]=ie,(ie=B.h.construct(ie.x,ie.y)).Bt(X,V)},L.prototype.dE=function(){var F=this.Y.K();if(B.ba.zd(F))return(F=new B.Ua(this.Y.description)).oc(this.Y,!0),this.Y=F,this.dE();if(this.La<=this.ra){if(!B.ba.KS(F))return new B.Ea(this.Y.description);if(0>=this.La&&(F=new B.l,this.Y.A(F),F.S()<=2*-this.La||F.da()<=2*this.La))return new B.Ea(this.Y.description)}switch(this.Y.K()){case 33:return this.HN();case 550:return this.GN();case 1607:return this.JN();case 1736:return this.IN();case 197:return this.DN();default:throw B.i.Ra()}},L.prototype.JN=function(){if(this.wG(this.Y)){var F=new B.Ta;this.Y.we(0,F);var V=new B.l;return this.Y.A(V),F.Db(V.tf()),this.Hu(F)}return this.Y=this.MV(this.Y),F=new E(this,this.qq),B.Hh.local().W(F,this.Nj,this.Vb).next()},L.prototype.IN=function(){if(0==this.La)return this.Y;var F=B.$l.local();if(this.dv(),this.Y=F.W(this.Y,null,!1,this.Vb),0>this.La){var V=this.Y;return V=this.ky(V,0,V.ea()),F.W(V,this.Nj,!1,this.Vb)}return this.wG(this.Y)?(F=new B.Ta,this.Y.we(0,F),V=new B.l,this.Y.A(V),F.Db(V.tf()),this.Hu(F)):(F=new D(this),B.Hh.local().W(F,this.Nj,this.Vb).next())},L.prototype.ky=function(F,V,W){for(var X=new B.Ea(F.description);V<W;V++)if(!(1>F.Ka(V))){var ie=F.Kr(V),Y=new B.l;if(F.Sj(V,Y),0<this.La){if(0<ie)if(this.xG(F,V))ie=new B.Ta,F.we(F.Ca(V),ie),ie.Db(Y.tf()),this.zu(X,ie);else{var te=ie=new B.Ua(F.description);te=B.$t.BG(this.Y,V)||2==this.An(this.Y,V,te,!0,1)?this.bE(F,V):this.zn(ie),X.add(te,!1)}else if(!(Y.S()+this.ra<=2*this.sb||Y.da()+this.ra<=2*this.sb||(te=ie=new B.Ua(F.description),this.An(this.Y,V,te,!0,1),ie.B()))){var ne=new B.l;for(ne.L(Y),ne.X(this.sb,this.sb),te.vp(ne),Y=1,ie=(te=this.zn(ie)).ea();Y<ie;Y++)X.addPath(te,Y,!0)}}else if(0<ie){if(!(Y.S()+this.ra<=2*this.sb||Y.da()+this.ra<=2*this.sb||(te=ie=new B.Ua(F.description),this.An(this.Y,V,te,!0,-1),ie.B())))for(ne=new B.l,te.yc(ne),ne.X(this.sb,this.sb),te.vp(ne),Y=1,ie=(te=this.zn(ie)).ea();Y<ie;Y++)X.addPath(te,Y,!0)}else for(te=ie=new B.Ua(F.description),this.An(this.Y,V,te,!0,-1),Y=0,ie=(te=this.zn(ie)).ea();Y<ie;Y++)X.addPath(te,Y,!0)}if(0<this.La)return 1<X.ea()?X=this.zn(X):L.jx(X);if(F=new B.l,X.yc(F),X.B())return L.jx(X);for(F.X(this.sb,this.sb),X.vp(F),X=this.zn(X),F=new B.Ea(X.description),Y=1,ie=X.ea();Y<ie;Y++)F.addPath(X,Y,!1);return L.jx(F)},L.prototype.HN=function(){return this.Hu(this.Y)},L.prototype.Hu=function(F){var V=new B.Ea(this.Y.description);return this.zu(V,F),this.gX(V)},L.prototype.GN=function(){var F=new T(this.Y,this.La,this.Nj,this.vk,this.Fq,this.Vb);return B.Hh.local().W(F,this.Nj,this.Vb).next()},L.prototype.DN=function(){var F=new B.Ea(this.Y.description);if(0>=this.La){if(0==this.La)F.bd(this.Y,!1);else{var V=new B.Gh;this.Y.dn(V),V.X(this.La,this.La),F.bd(V,!1)}return F}return F.bd(this.Y,!1),this.Y=F,this.bE(F,0)},L.prototype.bE=function(F,V){this.dv();var W=new B.Ea(F.description),X=new B.h,ie=new B.h,Y=new B.h,te=new B.h,ne=new B.h,we=new B.h,ze=new B.h,_t=new B.h,Mt=F.Ka(V),pe=F.Ca(V),Ge=0;for(V=F.Ka(V);Ge<V;Ge++){if(F.D(pe+Ge,ie),F.D(pe+(Ge+1)%Mt,te),F.D(pe+(Ge+2)%Mt,we),ze.vc(te,ie),0==ze.length()||(ze.Iv(),ze.normalize(),ze.scale(this.sb),X.add(ze,ie),Y.add(ze,te),0==Ge?W.Mt(X):W.Di(X),W.Di(Y),_t.vc(we,te),0==_t.length()))throw B.i.Ra();_t.Iv(),_t.normalize(),_t.scale(this.sb),ne.add(_t,te),this.yD(W,te,Y,ne,!1)}return L.jx(W)},L.prototype.cE=function(F,V,W){if(this.dv(),1>F.Ka(V))return null;if(this.xG(F,V)&&0<this.La){W=new B.Ta,F.we(F.Ca(V),W);var X=new B.l;return F.Sj(V,X),W.Db(X.tf()),this.Hu(W)}if(X=new B.Ua(F.description),F.On(V))this.An(F,V,X,W,1),this.An(F,V,X,W,-1);else{var ie=new B.Ua(F.description);ie.addPath(F,V,!1),ie.Fr(F,V,0,F.sv(V),!1),this.An(ie,0,X,W,1)}return this.zn(X)},L.prototype.Zq=function(){if(this.Zs++,this.Zs%1024==0&&null!=this.Vb&&!this.Vb.progress(-1,-1))throw B.i.gu("user_canceled")},L.prototype.zn=function(F){return B.Hg.Mk(F,this.ct,!0,!0,this.Vb)},L.prototype.iE=function(){if(0==this.vk)return this.Fq;var F=1-this.vk*Math.abs(this.Lv);return 4>(F=-1>F?4:2*Math.PI/Math.acos(F)+.5)?F=4:F>this.Fq&&(F=this.Fq),B.P.truncate(F)},L.prototype.yD=function(F,V,W,X,ie){this.dv();var Y=new B.h;Y.vc(W,V),Y.scale(this.Lv);var te=new B.h;te.vc(X,V),te.scale(this.Lv),0>(Y=Math.atan2(Y.y,Y.x)/this.iA)&&(Y=this.Jd.length+Y),Y=this.Jd.length-Y,0>(te=Math.atan2(te.y,te.x)/this.iA)&&(te=this.Jd.length+te),(te=this.Jd.length-te)<Y&&(te+=this.Jd.length);var ne=B.P.truncate(te);te=B.P.truncate(Math.ceil(Y)),(Y=new B.h).N(this.Jd[te%this.Jd.length]),Y.Ct(this.sb,V);var we=10*this.ra;for(Y.sub(W),Y.length()<we&&(te+=1),Y.N(this.Jd[ne%this.Jd.length]),Y.Ct(this.sb,V),Y.sub(X),Y.length()<we&&--ne,W=ne-te,W++,ne=0,te%=this.Jd.length;ne<W;ne++,te=(te+1)%this.Jd.length)Y.N(this.Jd[te]),Y.Ct(this.sb,V),F.Di(Y),this.Zq();ie&&F.Di(X)},L.prototype.An=function(F,V,W,X,ie){var Y=new B.hd,te=Y.eN(F,V);if(Y.Ip(this.nA,!1,!1),2>Y.I(te))return 0>ie||(ie=F,Y=new B.Ta,ie.we(ie.Ca(V),Y),this.zu(W,Y)),1;var ne=Y.Oa(Y.Ya(Y.Ob(te))),we=new B.Ed;if(we.gg(-ne.x,-ne.y),Y.Pc(we),X&&(this.lQ(Y,te,ie),2>Y.I(te)))return 0>ie||(ie=F,Y=new B.Ta,ie.we(ie.Ca(V),Y),this.zu(W,Y)),1;this.$d.length=0;var ze=Y.Ob(te);V=Y.Ya(ze);var _t=1==ie?Y.Na(V):Y.V(V);F=1==ie?Y.V(V):Y.Na(V);var Mt=!0;X=new B.h,te=new B.h;var pe=new B.h,Ge=new B.h,it=new B.h,ht=new B.h,mt=new B.h,yt=new B.h,Ot=new B.h,St=new B.h,Tt=this.sb;ze=Y.Ka(ze);for(var _i=0;_i<ze;_i++)Y.D(F,te),Mt&&(Y.D(V,X),Y.D(_t,pe),yt.vc(X,pe),yt.normalize(),St.EG(yt),St.scale(Tt),Ge.add(St,X)),mt.vc(te,X),mt.normalize(),Ot.EG(mt),Ot.scale(Tt),it.add(X,Ot),_t=yt.xi(mt),Mt=yt.Rh(mt),0>_t||0>Mt&&0==_t?this.$d.push(k.Su(Ge,it,X,2,this.$d.length+1,this.$d.length-1)):Ge.rb(it)||(this.$d.push(k.construct(Ge,X,this.$d.length+1,this.$d.length-1,"dummy")),this.$d.push(k.construct(X,it,this.$d.length+1,this.$d.length-1,"dummy"))),ht.add(te,Ot),this.$d.push(k.Su(it,ht,X,1,this.$d.length+1,this.$d.length-1)),Ge.N(ht),St.N(Ot),pe.N(X),X.N(te),yt.N(mt),_t=V,V=F,Mt=!1,F=1==ie?Y.V(V):Y.Na(V);return this.$d[this.$d.length-1].rh=0,this.$d[0].th=this.$d.length-1,this.OV(W),we.gg(ne.x,ne.y),W.QD(we,W.ea()-1),1},L.prototype.OV=function(F){for(var V=this.rO(),W=!0,X=V+1,ie=V;X!=V;ie=X){var Y=this.$d[ie];X=-1!=Y.rh?Y.rh:(ie+1)%this.$d.length,0!=Y.Do&&(W&&F.Mt(Y.Km),2==Y.Do?this.yD(F,Y.bw,Y.Km,Y.Xm,!0):F.Di(Y.Xm),W=!1)}},L.prototype.rO=function(){null==this.Ls&&(this.Ls=[null,null,null,null,null,null,null,null,null]);for(var F=0,V=0,W=this.$d.length;V<W;){var X=this.$d[V];if(0!=(3&X.Do)){F=V;break}V=X.rh}for(W=F+1,V=F;W!=F;V=W){W=(X=this.$d[V]).rh;for(var ie=1,Y=null;W!=V&&0==(3&(Y=this.$d[W]).Do);)W=Y.rh,ie++;1!=ie&&1==(X.Do&Y.Do)&&(null==this.Ms&&(this.Ms=new B.zb,this.mw=new B.zb),this.Ms.Ec(X.Km),this.Ms.Rc(X.Xm),this.mw.Ec(Y.Km),this.mw.Rc(Y.Xm),1==this.Ms.Fa(this.mw,this.Ls,null,null,this.ct)&&(X.Xm.N(this.Ls[0]),Y.Km.N(this.Ls[0]),X.rh=W,Y.th=V))}return F},L.prototype.Gv=function(F,V,W){var X=new B.h;if(X.vc(W,F),W=X.length(),0<(W=this.sb*this.sb-W*W*.25)){W=Math.sqrt(W),X.normalize(),X.cr();var ie=new B.h;if(ie.vc(V,F),ie.Rh(X)+W>=this.sb)return!0}return!1},L.prototype.lQ=function(F,V,W){for(var X=0;1>X;X++){var ie=!1,Y=F.Ob(V),te=F.Ka(Y);if(0==te)break;var ne=te;if(3>te)break;!F.ec(Y)&&(ne=te-1),Y=F.Ya(Y),te=0<W?F.Na(Y):F.V(Y);for(var we=0<W?F.V(Y):F.Na(Y),ze=te,_t=!0,Mt=new B.h,pe=new B.h,Ge=new B.h,it=new B.h,ht=new B.h,mt=B.h.construct(0,0),yt=new B.h,Ot=new B.h,St=new B.h,Tt=new B.h,_i=this.sb,mi=0,Ui=0;Ui<ne&&(F.D(we,pe),_t&&(F.D(Y,Mt),F.D(te,Ge),ze=te),Ot.vc(Mt,Ge),Ot.normalize(),yt.vc(pe,Mt),yt.normalize(),ze!=we);){var Ft=Ot.xi(yt),ti=Ot.Rh(yt),ui=!0;if(0>Ft||0>ti&&0==Ft||!this.Gv(Ge,Mt,pe)||(mt.N(pe),ui=!1,++mi,ie=!0),ui){if(0<mi)for(;(Ft=0<W?F.Na(ze):F.V(ze))!=Y;){if(F.D(Ft,it),!this.Gv(it,Ge,mt)){Ft!=we&&this.Gv(it,Ge,pe)&&this.Gv(it,Mt,pe)&&(Ge.N(it),ze=Ft,ui=!1,++mi);break}Ge.N(it),ze=Ft,ui=!1,++mi}if(!ui)continue;if(0<mi){for(ze=0<W?F.Na(te):F.V(te),_t=1;_t<mi;_t++)ui=0<W?F.Na(ze):F.V(ze),F.pd(ze,!0),ze=ui;St.vc(Mt,Ge),mi=_i*_i-(mi=St.length())*mi*.25,_i-(mi=Math.sqrt(mi))>.5*this.vk?(ht.add(Ge,Mt),ht.scale(.5),St.normalize(),St.cr(),Tt.N(St),Tt.scale(_i-mi),ht.add(Tt),F.mf(te,ht)):F.pd(te,!0),mi=0}Ge.N(Mt),ze=Y}Mt.N(pe),te=Y,Y=we,we=0<W?F.V(Y):F.Na(Y),Ui++,_t=!1}if(0<mi){for(ze=0<W?F.Na(te):F.V(te),_t=1;_t<mi;_t++)ui=0<W?F.Na(ze):F.V(ze),F.pd(ze,!0),ze=ui;ht.add(Ge,Mt),ht.scale(.5),St.vc(Mt,Ge),mi=_i*_i-(mi=St.length())*mi*.25,mi=Math.sqrt(mi),St.normalize(),St.cr(),Tt.N(St),Tt.scale(_i-mi),ht.add(Tt),F.mf(te,ht)}if(F.Ip(this.nA,!1,!1),!ie)break}},L.prototype.xG=function(F,V){if(1==F.Ka(V))return!0;var W=new B.l;return F.Sj(V,W),Math.max(W.S(),W.da())<.5*this.vk},L.prototype.wG=function(F){var V=new B.l;return F.A(V),Math.max(V.S(),V.da())<.5*this.vk},L.prototype.MV=function(F){for(var V=0,W=0,X=(F=B.wC.local().W(F,.25*this.vk,!1,this.Vb)).ea();W<X;W++)V=Math.max(F.Ka(W),V);return 32>V?(this.qq=!1,F):(this.qq=!0,B.Hg.Mk(F,this.ct,!1,!0,this.Vb))},L.prototype.zu=function(F,V){if(V=V.D(),null!=this.Jd&&0!==this.Jd.length){var W=new B.h;W.N(this.Jd[0]),W.Ct(this.sb,V),F.Mt(W);for(var X=1,ie=this.Jd.length;X<ie;X++)W.N(this.Jd[X]),W.Ct(this.sb,V),F.Di(W)}else{X=this.iE(),W=B.P.truncate((X+3)/4),X=.5*Math.PI/W,ie=Math.cos(X);for(var Y=Math.sin(X),te=new B.h,ne=3;0<=ne;ne--){switch(te.na(0,this.sb),ne){case 0:for(X=0;X<W;X++)F.zj(te.x+V.x,te.y+V.y),te.Bt(ie,Y);break;case 1:for(X=0;X<W;X++)F.zj(-te.y+V.x,te.x+V.y),te.Bt(ie,Y);break;case 2:for(X=0;X<W;X++)F.zj(-te.x+V.x,-te.y+V.y),te.Bt(ie,Y);break;default:for(F.qx(te.y+V.x,-te.x+V.y),X=1;X<W;X++)te.Bt(ie,Y),F.zj(te.y+V.x,-te.x+V.y)}this.Zq()}}},L.jx=function(F){return F.Dh(1,0),F},L.prototype.gX=function(F){return F.Dh(2,this.ra),F.hm(),F},L}();B.zK=O}(st||(st={})),function(B){var Be=function(){function $(k){this.Da=k,this.g=new B.hd,this.ed=new B.ja(0)}return $.prototype.Mh=function(k,T,E){switch(T){case 0:if(k.v<E&&k.C<=E)break;return k.v>=E?1:-1;case 1:if(k.G<E&&k.H<=E)break;return k.G>=E?1:-1;case 2:if(k.v>=E&&k.C>E)break;return k.C<=E?1:-1;case 3:if(!(k.G>=E&&k.H>E))return k.H<=E?1:-1}return 0},$.prototype.uy=function(k,T){return 1736==k.K()?this.wy(k,T):this.xy(k)},$.prototype.wy=function(k,T){if(0==this.Da.S()||0==this.Da.da())return k.Ja();var E=new B.l;k.yc(E),this.Y=this.g.Ib(k);var D=new B.l,O=new B.l,L=new B.h,F=new B.h,V=[0,0,0,0,0,0,0,0,0],W=[0,0,0,0,0,0,0,0,0];new B.hg;var X=new B.zb,ie=new B.ja(0);ie.Jb(Math.min(100,k.I()));for(var Y=!1,te=0;!Y&&4>te;te++){var ne=!1,we=0!=(1&te),ze=0;switch(te){case 0:ne=E.v<=(ze=this.Da.v)&&E.C>=ze;break;case 1:ne=E.G<=(ze=this.Da.G)&&E.H>=ze;break;case 2:ne=E.v<=(ze=this.Da.C)&&E.C>=ze;break;case 3:ne=E.G<=(ze=this.Da.H)&&E.H>=ze}if(ne)for(Y=!0,ne=this.g.Ob(this.Y);-1!=ne;){var _t=-1,Mt=-1,pe=this.g.Ya(ne),Ge=pe;do{var it=this.g.cc(Ge);null==it&&(it=X,this.g.D(Ge,L),it.Ec(L),this.g.D(this.g.V(Ge),F),it.Rc(F)),it.A(D);var ht=this.Mh(D,te,ze),mt=0,yt=-1;if(-1==ht){mt=0<(it=it.fq(we,ze,V,W))?this.g.Wl(Ge,W,it):0,mt+=1;var Ot=Ge,St=this.g.V(Ot);for(it=0;it<mt;it++){if(this.g.D(Ot,L),this.g.D(St,F),null==(yt=this.g.cc(Ot))&&((yt=X).Ec(L),yt.Rc(F)),yt.A(O),-1==(yt=this.Mh(O,te,ze))){if(we)(yt=Math.abs(L.y-ze))<(Tt=Math.abs(F.y-ze))?(L.y=ze,this.g.mf(Ot,L)):(F.y=ze,this.g.mf(St,F));else{yt=Math.abs(L.x-ze);var Tt=Math.abs(F.x-ze);yt<Tt?(L.x=ze,this.g.mf(Ot,L)):(F.x=ze,this.g.mf(St,F))}null==(yt=this.g.cc(Ot))&&((yt=X).Ec(L),yt.Rc(F)),yt.A(O),yt=this.Mh(O,te,ze)}Tt=_t,_t=yt,-1==Mt&&(Mt=_t),0==Tt&&1==_t||1==Tt&&0==_t||0!=Tt||0!=_t||ie.add(Ot),1==_t&&(Y=!1),yt=Ot=St,St=this.g.V(St)}}0==mt&&(Tt=_t,_t=ht,-1==Mt&&(Mt=_t),0==Tt&&1==_t||1==Tt&&0==_t||0!=Tt||0!=_t||ie.add(Ge),1==_t&&(Y=!1),yt=this.g.V(Ge)),Ge=yt}while(Ge!=pe);for(0==Mt&&0==_t&&ie.add(pe),it=0,_t=ie.size;it<_t;it++)Mt=ie.get(it),this.g.pd(Mt,!1);ie.clear(!1),ne=3>this.g.Ka(ne)?this.g.ar(ne):this.g.Sb(ne)}}return Y?k.Ja():(this.zB(),0<T&&this.Hy(T),this.g.Ke(this.Y))},$.prototype.xy=function(k){var T=new B.l,E=new B.l,D=[0,0,0,0,0,0,0,0,0],O=[0,0,0,0,0,0,0,0,0],L=new B.hg,F=k,V=new B.l;k.yc(V);for(var W=0;4>W;W++){var X=!1,ie=0!=(1&W),Y=0;switch(W){case 0:X=V.v<=(Y=this.Da.v)&&V.C>=Y;break;case 1:X=V.G<=(Y=this.Da.G)&&V.H>=Y;break;case 2:X=V.v<=(Y=this.Da.C)&&V.C>=Y;break;case 3:X=V.G<=(Y=this.Da.H)&&V.H>=Y}if(X){X=F,F=k.Ja(),(X=X.Ha()).$i();for(var te,ne=new B.h;X.ab();)for(var we,ze=!0;X.Ia();){var _t=X.ia();_t.A(T);var Mt=this.Mh(T,W,Y);if(-1==Mt){if(0<(Mt=_t.fq(ie,Y,D,O))){var pe=0;te=_t.ac();for(var Ge=0;Ge<=Mt;Ge++)if(pe!=(we=Ge<Mt?O[Ge]:1)){_t.bh(pe,we,L);var it=L.get();it.Ec(te),Ge<Mt&&(ie?(ne.x=D[Ge],ne.y=Y):(ne.x=Y,ne.y=D[Ge]),it.Rc(ne)),it.A(E);var ht=this.Mh(E,W,Y);if(-1==ht){if(te=it.ac(),pe=it.xc(),ie)(ht=Math.abs(te.y-Y))<(mt=Math.abs(pe.y-Y))?(te.y=Y,it.Ec(te)):(pe.y=Y,it.Rc(pe));else{ht=Math.abs(te.x-Y);var mt=Math.abs(pe.x-Y);ht<mt?(te.x=Y,it.Ec(te)):(pe.x=Y,it.Rc(pe))}it.A(E),ht=this.Mh(E,W,Y)}te=it.xc(),pe=we,1==(we=ht)?(F.oc(it,ze),ze=!1):ze=!0}}}else 1==(we=Mt)?(F.oc(_t,ze),ze=!1):ze=!0}}}return F},$.prototype.zB=function(){this.ki=-1,this.Xl(!1,this.Da.v),this.Xl(!1,this.Da.C),this.Xl(!0,this.Da.G),this.Xl(!0,this.Da.H),this.ed.resize(0),this.ed.Jb(100),this.ki=this.g.Hd();for(var k=new B.h,T=this.g.Ob(this.Y);-1!=T;T=this.g.Sb(T))for(var E=this.g.Ya(T),D=0,O=this.g.Ka(T);D<O;D++,E=this.g.V(E))this.g.D(E,k),(this.Da.v==k.x||this.Da.C==k.x||this.Da.G==k.y||this.Da.H==k.y)&&(this.g.Sa(E,this.ki,this.ed.size),this.ed.add(E));this.Pl(!1,this.Da.v),this.Pl(!1,this.Da.C),this.Pl(!0,this.Da.G),this.Pl(!0,this.Da.H),this.Oy()},$.prototype.Hy=function(k){for(var T=new B.h,E=new B.h,D=B.P.lg(2048,0),O=this.g.Ob(this.Y);-1!=O;O=this.g.Sb(O)){var L=this.g.Ya(O),F=L;do{var V=this.g.V(F);this.g.D(F,T);var W=-1;if(T.x==this.Da.v?(this.g.D(V,E),E.x==this.Da.v&&(W=1)):T.x==this.Da.C&&(this.g.D(V,E),E.x==this.Da.C&&(W=1)),T.y==this.Da.G?(this.g.D(V,E),E.y==this.Da.G&&(W=0)):T.y==this.Da.H&&(this.g.D(V,E),E.y==this.Da.H&&(W=0)),-1!=W&&(W=B.h.ub(T,E),!(1>=(W=B.P.truncate(Math.min(Math.ceil(W/k),2048)))))){for(var X=1;X<W;X++)D[X-1]=1*X/W;this.g.Wl(F,D,W-1)}F=V}while(F!=L)}},$.prototype.Xl=function(k,T){var E=this.g.Hd(),D=new B.h,O=new B.ja(0);O.Jb(100);for(var L=this.g.Ob(this.Y);-1!=L;L=this.g.Sb(L))for(var F=this.g.Ya(L),V=0,W=this.g.Ka(L);V<W;V++){var X=this.g.V(F);this.g.D(F,D),(k?D.y==T:D.x==T)&&(this.g.D(X,D),(k?D.y==T:D.x==T)&&(1!=this.g.Qa(F,E)&&(O.add(F),this.g.Sa(F,E,1)),1!=this.g.Qa(X,E)&&(O.add(X),this.g.Sa(X,E,1)))),F=X}if(this.g.Ud(E),!(3>O.size)){var ie=this;O.Wd(0,O.size,function(ht,mt){return ie.Nh(ht,mt)}),E=new B.h,L=new B.h,F=new B.h,L.Sc();var Y=-1;V=new B.ja(0),W=new B.ja(0),X=this.g.Hd();for(var te=this.g.Hd(),ne=0,we=O.size;ne<we;ne++){var ze=O.get(ne);if(this.g.D(ze,D),!D.rb(L)){if(-1!=Y){for(var _t=Y;_t<ne;_t++){Y=O.get(_t);var Mt=this.g.V(Y);ze=this.g.Na(Y);var pe=!1;0>this.Nh(Y,Mt)&&(this.g.D(Mt,E),k?E.y==T:E.x==T)&&(V.add(Y),pe=!0,this.g.Sa(Y,te,1)),0>this.Nh(Y,ze)&&(this.g.D(ze,E),k?E.y==T:E.x==T)&&(pe||V.add(Y),this.g.Sa(Y,X,1))}for(_t=0,pe=V.size;_t<pe;_t++){if(Y=V.get(_t),ze=this.g.Qa(Y,X),Mt=this.g.Qa(Y,te),1==ze){ze=this.g.Na(Y),this.g.D(ze,F);var Ge=[0];if(Ge[0]=0,!F.rb(D)){var it=B.h.ub(L,F);Ge[0]=B.h.ub(F,D)/it,0==Ge[0]?Ge[0]=2220446049250313e-31:1==Ge[0]&&(Ge[0]=.9999999999999998),this.g.Wl(ze,Ge,1),ze=this.g.Na(Y),this.g.mf(ze,D),W.add(ze),this.g.Sa(ze,X,1),this.g.Sa(ze,te,-1)}}1==Mt&&(Mt=this.g.V(Y),this.g.D(Mt,F),(Ge=[0])[0]=0,F.rb(D)||(it=B.h.ub(L,F),Ge[0]=B.h.ub(L,D)/it,0==Ge[0]?Ge[0]=2220446049250313e-31:1==Ge[0]&&(Ge[0]=.9999999999999998),this.g.Wl(Y,Ge,1),ze=this.g.V(Y),this.g.mf(ze,D),W.add(ze),this.g.Sa(ze,X,-1),this.g.Sa(ze,te,1)))}Y=V,V=W,(W=Y).clear(!1)}Y=ne,L.N(D)}}this.g.Ud(X),this.g.Ud(te)}},$.prototype.Pl=function(k,T){var E=new B.h,D=new B.ja(0);D.Jb(100);for(var O=this.g.Hd(),L=0,F=this.ed.size;L<F;L++){var V=this.ed.get(L);if(-1!=V){var W=this.g.V(V);this.g.D(V,E),(k?E.y==T:E.x==T)&&(this.g.D(W,E),(k?E.y==T:E.x==T)&&(-2!=this.g.Qa(V,O)&&(D.add(V),this.g.Sa(V,O,-2)),-2!=this.g.Qa(W,O)&&(D.add(W),this.g.Sa(W,O,-2))))}}if(0!=D.size){var X=this;for(D.Wd(0,D.size,function(mt,yt){return X.Nh(mt,yt)}),L=0,F=D.size;L<F;L++){var ie=D.get(L);this.g.Sa(ie,O,L)}V=new B.h,(W=new B.h).Sc();var Y=-1;for(L=0,F=D.size;L<F;L++)if(-1!=(ie=D.get(L))&&(this.g.D(ie,E),!E.rb(W))){if(-1!=Y)for(;;){ie=!1;for(var te=1<L-Y?L-1:L,ne=Y;ne<te;ne++){var we=D.get(ne);if(-1!=we){var ze=-1,_t=this.g.V(we);0>this.Nh(we,_t)&&(this.g.D(_t,V),k?V.y==T:V.x==T)&&(ze=_t),_t=-1;var Mt=this.g.Na(we);if(0>this.Nh(we,Mt)&&(this.g.D(Mt,V),k?V.y==T:V.x==T)&&(_t=Mt),-1!=ze&&-1!=_t)this.Lh(we,D,O),this.g.pd(we,!1),this.Lh(ze,D,O),this.g.pd(ze,!1),ie=!0;else if(-1!=ze||-1!=_t){for(Mt=ne+1;Mt<L;Mt++){var pe=D.get(Mt);if(-1!=pe){var Ge=this.g.V(pe),it=-1;0>this.Nh(pe,Ge)&&(this.g.D(Ge,V),k?V.y==T:V.x==T)&&(it=Ge),Ge=this.g.Na(pe);var ht=-1;if(0>this.Nh(pe,Ge)&&(this.g.D(Ge,V),k?V.y==T:V.x==T)&&(ht=Ge),-1!=it&&-1!=ht){this.Lh(pe,D,O),this.g.pd(pe,!1),this.Lh(it,D,O),this.g.pd(it,!1),ie=!0;break}if(-1!=ze&&-1!=ht){this.zt(D,we,ze,pe,ht,O),ie=!0;break}if(-1!=_t&&-1!=it){this.zt(D,pe,it,we,_t,O),ie=!0;break}}}if(ie)break}}}if(!ie)break}Y=L,W.N(E)}}this.g.Ud(O)},$.prototype.Lh=function(k,T,E){E=this.g.Qa(k,E),T.set(E,-1),E=this.g.Qa(k,this.ki),this.ed.set(E,-1),-1!=(T=this.g.cd(k))&&this.g.Ya(T)==k&&(this.g.Kf(T,-1),this.g.Xg(T,-1))},$.prototype.zt=function(k,T,E,D,O,L){this.g.Cc(T,D),this.g.Dc(D,T),this.g.Dc(E,O),this.g.Cc(O,E),this.Lh(D,k,L),this.g.ni(D,!1),this.Lh(O,k,L),this.g.ni(O,!0)},$.prototype.Oy=function(){for(var k=0,T=this.ed.size;k<T;k++){var E=this.ed.get(k);-1!=E&&this.g.bj(E,-1)}for(var D=0,O=0,L=this.g.Ob(this.Y);-1!=L;){var F=this.g.Ya(L);if(-1==F||L!=this.g.cd(F)){var V=L;L=this.g.Sb(L),this.g.Kf(V,-1),this.g.br(V)}else{E=F,V=0;do{this.g.bj(E,L),V++,E=this.g.V(E)}while(E!=F);2>=V?(E=this.g.Qa(F,this.ki),this.ed.set(E,-1),F=this.g.pd(F,!1),2==V&&(E=this.g.Qa(F,this.ki),this.ed.set(E,-1),this.g.pd(F,!1)),V=L,L=this.g.Sb(L),this.g.Kf(V,-1),this.g.br(V)):(this.g.ep(L,!1),this.g.Xg(L,this.g.Na(F)),this.g.Wj(L,V),O+=V,D++,L=this.g.Sb(L))}}for(k=0,T=this.ed.size;k<T;k++)if(-1!=(E=this.ed.get(k))&&-1==(L=this.g.cd(E))){L=this.g.wf(this.Y,-1),V=0,F=E;do{this.g.bj(E,L),V++,E=this.g.V(E)}while(E!=F);2>=V?(E=this.g.Qa(F,this.ki),this.ed.set(E,-1),F=this.g.pd(F,!1),2==V&&(0<=(E=this.g.Qa(F,this.ki))&&this.ed.set(E,-1),this.g.pd(F,!1)),this.g.Kf(V=L,-1),this.g.br(V)):(this.g.mn(L,!0),this.g.Wj(L,V),this.g.Kf(L,F),this.g.Xg(L,this.g.Na(F)),this.g.ep(L,!1),O+=V,D++)}for(this.g.Tl(this.Y,D),this.g.Uj(this.Y,O),k=0,T=this.g.ld;-1!=T;T=this.g.ve(T))k+=this.g.I(T);this.g.VB(k)},$.vy=function(k,T,E){return new $(T).uy(k,E)},$.clip=function(k,T,E,D){if(k.B())return k;if(T.B())return k.Ja();if(33==(E=k.K()))return D=k.D(),T.contains(D)?k:k.Ja();if(197==E)return D=new B.l,k.A(D),D.Fa(T)?(T=new B.Gh,k.copyTo(T),T.Yo(D),T):k.Ja();var O=new B.l;if(k.yc(O),T.contains(O))return k;if(!T.isIntersecting(O))return k.Ja();if(null!=(O=k.Cb)&&null!=(O=O.Fk)){if(1==(O=O.So(T))){if(1736!=E)throw B.i.Ra();return(k=new B.Ea(k.description)).vp(T),k}if(0==O)return k.Ja()}switch(E){case 550:E=null,O=k.I();for(var L=k.vb(0),F=0,V=0;V<O;V++)D=new B.h,L.uc(2*V,D),T.contains(D)||(0==F&&(E=k.Ja()),F<V&&E.Gd(k,F,V),F=V+1);return 0<F&&E.Gd(k,F,O),0==F?k:E;case 1736:case 1607:return $.vy(k,T,D);default:throw B.i.Ra()}},$.prototype.Nh=function(k,T){var E=new B.h;return this.g.D(k,E),k=new B.h,this.g.D(T,k),E.compare(k)},$}();B.Vd=Be}(st||(st={})),function(B){var Be=function(){function $(k,T){this.Da=k,this.g=new B.hd,this.ed=new B.ja(0),this.nd=T}return $.prototype.Mh=function(k,T,E){switch(T){case 0:if(k.v<E&&k.C<=E)break;return k.v>=E?1:-1;case 1:if(k.G<E&&k.H<=E)break;return k.G>=E?1:-1;case 2:if(k.v>=E&&k.C>E)break;return k.C<=E?1:-1;case 3:if(!(k.G>=E&&k.H>E))return k.H<=E?1:-1}return 0},$.prototype.uy=function(k,T){return 1736==k.K()?this.wy(k,T):this.xy(k)},$.prototype.wy=function(k,T){if(0==this.Da.S()||0==this.Da.da())return k.Ja();var E=new B.l;k.yc(E),this.Y=this.g.Ib(k);var D=new B.l,O=new B.l,L=new B.h,F=new B.h,V=[0,0,0,0,0,0,0,0,0],W=[0,0,0,0,0,0,0,0,0],X=new B.zb,ie=new B.ja(0);ie.Jb(256);for(var Y=!1,te=0;!Y&&4>te;te++){var ne=!1,we=0!=(1&te),ze=0;switch(te){case 0:ne=E.v<=(ze=this.Da.v)&&E.C>=ze;break;case 1:ne=E.G<=(ze=this.Da.G)&&E.H>=ze;break;case 2:ne=E.v<=(ze=this.Da.C)&&E.C>=ze;break;case 3:ne=E.G<=(ze=this.Da.H)&&E.H>=ze}if(ne)for(Y=!0,ne=this.g.Ob(this.Y);-1!=ne;){var _t=!0,Mt=-1,pe=-1,Ge=this.g.Ya(ne),it=Ge;do{var ht=this.g.cc(it);null==ht&&(ht=X,this.g.D(it,L),ht.Ec(L),this.g.D(this.g.V(it),F),ht.Rc(F)),ht.A(D);var mt=this.Mh(D,te,ze),yt=0,Ot=-1;if(-1==mt){yt=0<(ht=ht.fq(we,ze,V,W))?this.g.zX(it,W,ht):0,yt+=1;var St=it,Tt=this.g.V(St);for(ht=0;ht<yt;ht++){if(this.g.D(St,L),this.g.D(Tt,F),null==(Ot=this.g.cc(St))&&((Ot=X).Ec(L),Ot.Rc(F)),Ot.A(O),-1==(Ot=this.Mh(O,te,ze))){if(we)(Ot=Math.abs(L.y-ze))<(_i=Math.abs(F.y-ze))?(L.y=ze,this.g.mf(St,L)):(F.y=ze,this.g.mf(Tt,F));else{Ot=Math.abs(L.x-ze);var _i=Math.abs(F.x-ze);Ot<_i?(L.x=ze,this.g.mf(St,L)):(F.x=ze,this.g.mf(Tt,F))}null==(Ot=this.g.cc(St))&&((Ot=X).Ec(L),Ot.Rc(F)),Ot.A(O),Ot=this.Mh(O,te,ze)}_i=Mt,Mt=Ot,-1==pe&&(pe=Mt),0==_i&&1==Mt||1==_i&&0==Mt||0!=_i||0!=Mt||ie.add(St),1==Mt&&(_t=Y=!1),Ot=St=Tt,Tt=this.g.V(Tt)}}if(0==yt&&(_i=Mt,Mt=mt,-1==pe&&(pe=Mt),0==_i&&1==Mt||1==_i&&0==Mt||0!=_i||0!=Mt||ie.add(it),1==Mt&&(_t=Y=!1),Ot=this.g.V(it)),it=Ot,256<=ie.size){for(ht=1,mt=ie.size-1;ht<mt;ht++)yt=ie.get(ht),this.g.pd(yt,!1);ie.set(1,ie.Gc()),ie.Ch(2)}}while(it!=Ge);if(!_t)for(0==pe&&0==Mt&&ie.add(Ge),ht=0,mt=ie.size;ht<mt;ht++)yt=ie.get(ht),this.g.pd(yt,!1);ie.clear(!1),ne=_t||0==this.g.Ka(ne)?this.g.ar(ne):this.g.Sb(ne)}}return Y?k.Ja():(this.zB(),0<T&&this.Hy(T),this.g.Ke(this.Y))},$.prototype.xy=function(k){var T=new B.l,E=new B.l,D=[0,0,0,0,0,0,0,0,0],O=[0,0,0,0,0,0,0,0,0],L=new B.hg,F=k,V=new B.l;k.yc(V);for(var W=new B.h,X=new B.h,ie=null,Y=null,te=0;4>te;te++){var ne=!1,we=0!=(1&te),ze=0;switch(te){case 0:ne=V.v<=(ze=this.Da.v)&&V.C>=ze;break;case 1:ne=V.G<=(ze=this.Da.G)&&V.H>=ze;break;case 2:ne=V.v<=(ze=this.Da.C)&&V.C>=ze;break;case 3:ne=V.G<=(ze=this.Da.H)&&V.H>=ze}if(ne)for(ne=F,F=k.Ja(),(ne=ne.Ha()).$i();ne.ab();)for(var _t,Mt=!0;ne.Ia();){var pe=ne.ia();pe.A(T);var Ge=this.Mh(T,te,ze);if(-1==Ge){if(0<(Ge=pe.fq(we,ze,D,O))){var it=0;pe.$p(W);for(var ht=0;ht<=Ge;ht++)if(it!=(_t=ht<Ge?O[ht]:1)){pe.bh(it,_t,L);var mt=L.get();mt.Ec(W),ht<Ge&&(we?(X.x=D[ht],X.y=ze):(X.x=ze,X.y=D[ht]),mt.Rc(X)),mt.A(E);var yt=this.Mh(E,te,ze);-1==yt&&(null==ie&&(ie=new B.h),null==Y&&(Y=new B.h),mt.$p(ie),mt.Ur(Y),we?(it=Math.abs(ie.y-ze))<(yt=Math.abs(Y.y-ze))?(ie.y=ze,mt.Ec(ie)):(Y.y=ze,mt.Rc(Y)):(it=Math.abs(ie.x-ze))<(yt=Math.abs(Y.x-ze))?(ie.x=ze,mt.Ec(ie)):(Y.x=ze,mt.Rc(Y)),mt.A(E),yt=this.Mh(E,te,ze)),mt.Ur(W),it=_t,1==(_t=yt)?(F.oc(mt,Mt),Mt=!1):Mt=!0}}}else 1==(_t=Ge)?(F.oc(pe,Mt),Mt=!1):Mt=!0}}return F},$.prototype.zB=function(){this.ki=-1,this.Xl(!1,this.Da.v),this.Xl(!1,this.Da.C),this.Xl(!0,this.Da.G),this.Xl(!0,this.Da.H),this.ed.resize(0),this.ed.Jb(100),this.ki=this.g.Hd();for(var k=new B.h,T=this.g.Ob(this.Y);-1!=T;T=this.g.Sb(T))for(var E=this.g.Ya(T),D=0,O=this.g.Ka(T);D<O;D++,E=this.g.V(E))this.g.D(E,k),(this.Da.v==k.x||this.Da.C==k.x||this.Da.G==k.y||this.Da.H==k.y)&&(this.g.Sa(E,this.ki,this.ed.size),this.ed.add(E));this.Pl(!1,this.Da.v),this.Pl(!1,this.Da.C),this.Pl(!0,this.Da.G),this.Pl(!0,this.Da.H),this.Oy()},$.prototype.Hy=function(k){for(var T=new B.h,E=new B.h,D=null,O=null,L=B.P.lg(2048,0),F=this.g.Ob(this.Y);-1!=F;F=this.g.Sb(F)){var V=this.g.Ya(F),W=V;do{var X=this.g.V(W);this.g.D(W,T);var ie=-1;if(T.x==this.Da.v?(this.g.D(X,E),E.x==this.Da.v&&(ie=1)):T.x==this.Da.C&&(this.g.D(X,E),E.x==this.Da.C&&(ie=1)),T.y==this.Da.G?(this.g.D(X,E),E.y==this.Da.G&&(ie=0)):T.y==this.Da.H&&(this.g.D(X,E),E.y==this.Da.H&&(ie=0)),-1!=ie){if(null==D&&(D=new B.h),null==O&&(O=new B.h),D.N(T),O.na(0,0),0==ie){var Y=T.x-this.Da.v;O.x=B.mc.sign(E.x-T.x),D.x=k*B.mc.Dn(Math.floor(Math.abs(Y/k)),Y)+this.Da.v,0>D.x&&(D.x+=k)}else Y=T.y-this.Da.G,O.y=B.mc.sign(E.y-T.y),D.y=k*B.mc.Dn(Math.floor(Math.abs(Y/k)),Y)+this.Da.G,0>D.y&&(D.y+=k);Y=0!=ie?E.y-T.y:E.x-T.x;var te=Math.abs(Y);if(65536<te/k)throw B.i.ga("internal error");if(0<te){te=B.P.truncate(te/k)+2,L.length<te&&(L=B.P.lg(te));for(var ne=te=0;;ne++){var we=new B.h;if(we.x=D.x+O.x*ne*k,we.y=D.y+O.y*ne*k,1<=(we=(0!=ie?we.y-T.y:we.x-T.x)/Y))break;0>=we||(L[te]=we,te++)}0!=te&&this.g.Wl(W,L,te)}}W=X}while(W!=V)}},$.prototype.Xl=function(k,T){for(var E=-1,D=new B.h,O=null,L=this.g.Ob(this.Y);-1!=L;L=this.g.Sb(L))for(var F=this.g.Ya(L),V=0,W=this.g.Ka(L);V<W;V++){var X=this.g.V(F);this.g.D(F,D),(k?D.y==T:D.x==T)&&(this.g.D(X,D),(k?D.y==T:D.x==T)&&(-1==E&&(E=this.g.Hd()),null==O&&(O=new B.ja(0)).Jb(100),1!=this.g.Qa(F,E)&&(O.add(F),this.g.Sa(F,E,1)),1!=this.g.Qa(X,E)&&(O.add(X),this.g.Sa(X,E,1)))),F=X}if(-1!=E&&this.g.Ud(E),!(null==O||3>O.size)){var ie=this;O.Wd(0,O.size,function(ht,mt){return ie.Nh(ht,mt)}),E=new B.h,L=new B.h,F=new B.h,L.Sc();var Y=-1;V=new B.ja(0),W=new B.ja(0),X=null;for(var te=this.g.Hd(),ne=this.g.Hd(),we=0,ze=O.size;we<ze;we++){var _t=O.get(we);if(this.g.D(_t,D),!D.rb(L)){if(-1!=Y){for(var Mt=Y;Mt<we;Mt++){Y=O.get(Mt);var pe=this.g.V(Y);_t=this.g.Na(Y);var Ge=!1;this.g.D(pe,E),0>L.compare(E)&&(k?E.y==T:E.x==T)&&(V.add(Y),Ge=!0,this.g.Sa(Y,ne,1)),this.g.D(_t,E),0>L.compare(E)&&(k?E.y==T:E.x==T)&&(Ge||V.add(Y),this.g.Sa(Y,te,1))}for(Mt=0,Ge=V.size;Mt<Ge;Mt++){if(Y=V.get(Mt),_t=this.g.Qa(Y,te),pe=this.g.Qa(Y,ne),1==_t&&(_t=this.g.Na(Y),this.g.D(_t,F),!F.rb(D))){null==X&&(X=[]);var it=B.h.ub(L,F);X[0]=B.h.ub(F,D)/it,0==X[0]?X[0]=2220446049250313e-31:1==X[0]&&(X[0]=.9999999999999998),this.g.Wl(_t,X,1),_t=this.g.Na(Y),this.g.mf(_t,D),W.add(_t),this.g.Sa(_t,te,1),this.g.Sa(_t,ne,-1)}1==pe&&(pe=this.g.V(Y),this.g.D(pe,F),F.rb(D)||(null==X&&(X=[]),it=B.h.ub(L,F),X[0]=B.h.ub(L,D)/it,0==X[0]?X[0]=2220446049250313e-31:1==X[0]&&(X[0]=.9999999999999998),this.g.Wl(Y,X,1),_t=this.g.V(Y),this.g.mf(_t,D),W.add(_t),this.g.Sa(_t,te,-1),this.g.Sa(_t,ne,1)))}Y=V,V=W,(W=Y).clear(!1)}Y=we,L.N(D)}}this.g.Ud(te),this.g.Ud(ne)}},$.prototype.Pl=function(k,T){for(var E=new B.h,D=null,O=-1,L=0,F=this.ed.size;L<F;L++){var V=this.ed.get(L);if(-1!=V){var W=this.g.V(V);this.g.D(V,E),(k?E.y==T:E.x==T)&&(this.g.D(W,E),(k?E.y==T:E.x==T)&&(-1==O&&(O=this.g.Hd()),null==D&&(D=new B.ja(0)).Jb(100),-2!=this.g.Qa(V,O)&&(D.add(V),this.g.Sa(V,O,-2)),-2!=this.g.Qa(W,O)&&(D.add(W),this.g.Sa(W,O,-2))))}}if(null==D)-1!=O&&this.g.Ud(O);else{var X=this;for(D.Wd(0,D.size,function(mt,yt){return X.Nh(mt,yt)}),L=0,F=D.size;L<F;L++){var ie=D.get(L);this.g.Sa(ie,O,L)}V=new B.h,(W=new B.h).Sc();var Y=-1;for(L=0,F=D.size;L<F;L++)if(-1!=(ie=D.get(L))&&(this.g.D(ie,E),!E.rb(W))){if(-1!=Y)for(;;){ie=!1;for(var te=1<L-Y?L-1:L,ne=Y;ne<te;ne++){var we=D.get(ne);if(-1!=we){var ze=-1,_t=this.g.V(we);this.g.D(_t,V),0>W.compare(V)&&(k?V.y==T:V.x==T)&&(ze=_t),_t=-1;var Mt=this.g.Na(we);if(this.g.D(Mt,V),0>W.compare(V)&&(k?V.y==T:V.x==T)&&(_t=Mt),-1!=ze&&-1!=_t)this.Lh(we,D,O),this.g.pd(we,!1),this.Lh(ze,D,O),this.g.pd(ze,!1),ie=!0;else if(-1!=ze||-1!=_t){for(Mt=ne+1;Mt<L;Mt++){var pe=D.get(Mt);if(-1!=pe){var Ge=this.g.V(pe),it=-1;this.g.D(Ge,V),0>W.compare(V)&&(k?V.y==T:V.x==T)&&(it=Ge),Ge=this.g.Na(pe);var ht=-1;if(this.g.D(Ge,V),0>W.compare(V)&&(k?V.y==T:V.x==T)&&(ht=Ge),-1!=it&&-1!=ht){this.Lh(pe,D,O),this.g.pd(pe,!1),this.Lh(it,D,O),this.g.pd(it,!1),ie=!0;break}if(-1!=ze&&-1!=ht){this.zt(D,we,ze,pe,ht,O),ie=!0;break}if(-1!=_t&&-1!=it){this.zt(D,pe,it,we,_t,O),ie=!0;break}}}if(ie)break}}}if(!ie)break}Y=L,W.N(E)}this.g.Ud(O)}},$.prototype.Lh=function(k,T,E){E=this.g.Qa(k,E),T.set(E,-1),E=this.g.Qa(k,this.ki),this.ed.set(E,-1),-1!=(T=this.g.cd(k))&&this.g.Ya(T)==k&&(this.g.Kf(T,-1),this.g.Xg(T,-1))},$.prototype.zt=function(k,T,E,D,O,L){this.g.Cc(T,D),this.g.Dc(D,T),this.g.Dc(E,O),this.g.Cc(O,E),this.Lh(D,k,L),this.g.ni(D,!1),this.Lh(O,k,L),this.g.ni(O,!0)},$.prototype.Oy=function(){for(var k=0,T=this.ed.size;k<T;k++){var E=this.ed.get(k);-1!=E&&this.g.bj(E,-1)}for(var D=0,O=0,L=this.g.Ob(this.Y);-1!=L;){var F=this.g.Ya(L);if(-1==F||L!=this.g.cd(F)){var V=L;L=this.g.Sb(L),this.g.Kf(V,-1),this.g.br(V)}else{E=F,V=0;do{this.g.bj(E,L),V++,E=this.g.V(E)}while(E!=F);this.g.ep(L,!1),this.g.Xg(L,this.g.Na(F)),this.g.Wj(L,V),O+=V,D++,L=this.g.Sb(L)}}for(k=0,T=this.ed.size;k<T;k++)if(-1!=(E=this.ed.get(k))&&-1==(L=this.g.cd(E))){L=this.g.wf(this.Y,-1),V=0,F=E;do{this.g.bj(E,L),V++,E=this.g.V(E)}while(E!=F);2>=V?(E=this.g.Qa(F,this.ki),this.ed.set(E,-1),F=this.g.pd(F,!1),2==V&&(0<=(E=this.g.Qa(F,this.ki))&&this.ed.set(E,-1),this.g.pd(F,!1)),this.g.Kf(V=L,-1),this.g.br(V)):(this.g.mn(L,!0),this.g.Wj(L,V),this.g.Kf(L,F),this.g.Xg(L,this.g.Na(F)),this.g.ep(L,!1),O+=V,D++)}for(this.g.Tl(this.Y,D),this.g.Uj(this.Y,O),k=0,T=this.g.ld;-1!=T;T=this.g.ve(T))k+=this.g.I(T);this.g.VB(k)},$.vy=function(k,T,E,D){return new $(T,D).uy(k,E)},$.clip=function(k,T,E,D,O){return $.Pu(k,T,null,E,D,O)},$.Pu=function(k,T,E,D,O,L){var F=k.K();if(33==F)return O=k.D(),T.contains(O)?k:k.Ja();if(197==F)return O=new B.l,k.A(O),O.Fa(T)?(T=new B.Gh,k.copyTo(T),T.Yo(O),T):k.Ja();if(k.B())return k;if(T.B())return k.Ja();var V=new B.l;if(k.yc(V),T.contains(V))return k;if(!T.isIntersecting(V))return k.Ja();if((null!=E||isNaN(D))&&B.ta.ny(E,T,!1),!B.ba.yj(F))throw B.i.O();if(null!=(E=k.Cb)&&null!=(E=E.Fk)){if(1==(E=E.So(T))){if(1736!=F)throw B.i.ga("internal error");return(k=new B.Ea(k.description)).vp(T),k}if(0==E)return k.Ja()}switch(F){case 550:for(L=null,F=k.I(),E=k.vb(0),D=0,O=new B.h,V=0;V<F;V++)E.uc(2*V,O),T.contains(O)||(0==D&&(L=k.Ja()),D<V&&L.Gd(k,D,V),D=V+1);return 0<D&&L.Gd(k,D,F),0==D?k:L;case 1736:case 1607:return $.vy(k,T,O,L);default:throw B.i.ga("internal error")}},$.prototype.Nh=function(k,T){var E=new B.h;return this.g.D(k,E),k=new B.h,this.g.D(T,k),E.compare(k)},$}();B.si=Be}(st||(st={})),function(B){var Be=new B.h,$=function(){function T(E,D,O,L,F){this.Rm=new B.h,this.Dk=new B.h,this.Qi=new B.h,this.g=E,this.Bw=O,this.oo=L,this.Rm=D,this.Al=F,this.Dk.Sc(),this.Qi.Sc()}return T.prototype.pE=function(E){this.g.D(E,this.Dk),E=B.P.truncate((this.Dk.x-this.Rm.x)*this.oo+.5);var D=B.P.truncate((this.Dk.y-this.Rm.y)*this.oo+.5);return k.bG(E,D)},T.prototype.ez=function(E){return this.g.Qa(E,this.Al)},T.prototype.Ky=function(E,D){return this.g.D(E,this.Dk),this.g.D(D,this.Qi),k.Dv(this.Dk.x,this.Dk.y,this.Qi.x,this.Qi.y,this.Bw)},T}();B.gY=function(){};var k=function(){function T(){this.Rm=new B.h,this.rq=[0,0,0,0],this.ys=[0,0,0,0],this.ro=this.Al=-1}return T.aQ=function(E,D){var O=new T;return O.g=E,O.ra=D,O.Bw=D*D,O.aw=2*D,O.oo=1/O.aw,O.tO()},T.Dv=function(E,D,O,L,F){return(E-=O)*E+(D-=L)*D<=F},T.bG=function(E,D){return B.P.Uh(D,B.P.Uh(E))},T.prototype.vO=function(E,D){this.g.Hc(E,Be);for(var O=(Be.y-this.Rm.y)*this.oo,L=B.P.truncate((Be.x-this.Rm.x)*this.oo),F=B.P.truncate(O),V=O=0;1>=V;V+=1)for(var W=0;1>=W;W+=1){var X=T.bG(L+V,F+W),ie=this.zl.iR(X);-1!=ie&&(this.rq[O]=ie,this.ys[O]=X,O++)}for(L=O-1;1<=L;L--)for(ie=this.rq[L],F=L-1;0<=F;F--)if(ie==this.rq[F]){this.ys[F]=-1,L!=--O&&(this.ys[L]=this.ys[O],this.rq[L]=this.rq[O]);break}for(F=0;F<O;F++)this.wO(E,this.ys[F],Be,this.rq[F],D)},T.prototype.wO=function(E,D,O,L,F){for(var V=new B.h;-1!=L;L=this.zl.wR(L)){var W=this.zl.ka(L);E==W||-1!=D&&this.g.Qa(W,this.Al)!=D||(this.g.Hc(W,V),T.Dv(O.x,O.y,V.x,V.y,this.Bw)&&F.add(L))}},T.prototype.Zm=function(E,D,O){var L=this.g.Qa(E,this.ro),F=this.g.Qa(D,this.ro);return-1==L&&(L=this.Ad.Qh(),this.Ad.addElement(L,E),this.g.Sa(E,this.ro,L)),-1==F?this.Ad.addElement(L,D):this.Ad.By(L,F),this.g.Sa(D,this.ro,-2),D=this.OT(E,D),O&&(O=this.lw.pE(E),this.g.Sa(E,this.Al,O)),D},T.MT=function(E,D,O){E.Nb(D),O=E;var L=new B.h;T.NT(E.D(),D.D(),L),O.Db(L)},T.NT=function(E,D,O){var L=E.x;E.x!=D.x&&(L=(1*E.x+1*D.x)/2);var F=E.y;E.y!=D.y&&(F=(1*E.y+1*D.y)/2),O.na(L,F)},T.prototype.OT=function(E,D){var O=new B.h;this.g.D(E,O);var L=new B.h;this.g.D(D,L);var F=this.g.VF(E),V=F+(D=this.g.VF(D)),W=0,X=O.x;O.x!=L.x&&(X=(O.x*F+L.x*D)/V,W++);var ie=O.y;return O.y!=L.y&&(ie=(O.y*F+L.y*D)/V,W++),0<W&&this.g.Db(E,X,ie),this.g.jX(E,V),0!=W},T.prototype.tO=function(){var E=this.g.gd,D=this.g.AF();for(this.Rm=D.hz(),D=Math.max(D.da(),D.S())/2147483646,this.aw<D&&(this.aw=D,this.oo=1/this.aw),this.Ad=new B.bu,this.Ad.At(B.P.truncate(this.g.gd/3+1)),this.Ad.hn(B.P.truncate(this.g.gd/3+1)),this.Al=this.g.Hd(),this.ro=this.g.Hd(),this.lw=new $(this.g,this.Rm,this.Bw,this.oo,this.Al),this.zl=new B.WK(B.P.truncate(4*E/3),this.lw),this.zl.qW(this.g.gd),E=!1,D=this.g.ld;-1!=D;D=this.g.ve(D))for(var O=this.g.Ob(D);-1!=O;O=this.g.Sb(O))for(var L=this.g.Ya(O),F=0,V=this.g.Ka(O);F<V;F++){var W=this.lw.pE(L);this.g.Sa(L,this.Al,W),this.zl.addElement(L,W),L=this.g.V(L)}var X=new B.ja(0);for(X.Jb(10),D=this.g.ld;-1!=D;D=this.g.ve(D))for(O=this.g.Ob(D);-1!=O;O=this.g.Sb(O))for(L=this.g.Ya(O),F=0,V=this.g.Ka(O);F<V;F++){if(-2!=this.g.Qa(L,this.ro))for(W=this.g.Qa(L,this.Al),this.zl.kd(L,W);this.vO(L,X),0!=X.size;){W=!1;for(var ie=0,Y=X.size;ie<Y;ie++){var te=X.get(ie),ne=this.zl.ka(te);this.zl.wd(te),W=this.Zm(L,ne,ie+1==Y)||W}if(E=E||W,X.clear(!1),!W)break}L=this.g.V(L)}return E&&this.nN(),this.lw=this.zl=null,this.g.Ud(this.Al),this.g.Ud(this.ro),E},T.prototype.nN=function(){for(var E=new B.h,D=this.Ad.je;-1!=D;D=this.Ad.lz(D)){var O=this.Ad.sc(D);for(this.g.D(this.Ad.ka(O),E),O=this.Ad.lb(O);-1!=O;O=this.Ad.lb(O))this.g.mf(this.Ad.ka(O),E)}},T}();B.Zt=k}(st||(st={})),function(B){var Be=function(){function $(k){void 0===k&&(k=null),this.yg=null,this.Pb=!1,this.yg=null===k?[]:k}return $.prototype.copyTo=function(k){if(k.Pb)throw B.i.ga("CompositeGeographicTransformation is read-only");for(var T=0;T<this.yg.length;T++)k.yg.push(this.yg[T].Pf())},$.prototype.count=function(){return this.yg.length},$.prototype.add=function(k){if(this.Pb)throw B.i.ga("CompositeGeographicTransformation is read-only");this.yg.push(k.Pf())},$.prototype.clear=function(){if(this.Pb)throw B.i.ga("CompositeGeographicTransformation is read-only");this.yg.length=0},$.prototype.remove=function(k){if(this.Pb)throw B.i.ga("CompositeGeographicTransformation is read-only");this.yg.splice(k,1)},$.prototype.ig=function(){var k=new $;return this.copyTo(k),k},$.prototype.Pf=function(){return this.ig()},$.prototype.transform=function(k,T,E,D){if(k.length<T)throw B.i.ga("invalid Argument");var O=E;for(E=0;E<this.yg.length;E++){var L=this.yg[E];if(null!=L.sm()){var F=L.Vn,V=F?1:0,W=F?L.sm().getGeogcs2():L.sm().getGeogcs1();if(W=O/(W=W.getUnit().getUnitFactor()),3552713678800501e-30<Math.abs(W-1))for(O=0;O<T;O++)k[O][0]*=W,k[O][1]*=W;B.EC.geogToGeog(L.sm(),T,k,null,V),O=(F?L.sm().getGeogcs1():L.sm().getGeogcs2()).getUnit().getUnitFactor()}}if(W=O/D,3552713678800501e-30<Math.abs(W-1))for(O=0;O<T;O++)k[O][0]*=W,k[O][1]*=W;return T},$.prototype.Nb=function(k){if(k==this)return!0;if(!(k instanceof $)||this.yg.length!=k.yg.length)return!1;for(var T=0;T<this.yg.length;T++)if(!this.yg[T].Nb(k.yg[T]))return!1;return!0},$.prototype.hx=function(){this.Pb=!0},$.prototype.toString=function(){for(var k="CGT ("+this.count()+") ",T=0,E=this.count();T<E;++T)k+=this.yg[T].toString()+", ";return 200<k.length?k.substring(0,197)+"... ("+k.length.toString()+" characters)":k},$.create=function(){return new $},$}();B.pC=Be}(st||(st={})),function(B){var Be,$=Math.PI,k=2*Math.PI,T=Math.PI/2,E=function(){function L(){}return L.LO=function(F,V){var W=new L;return W.x=F,W.y=V,W.type=0,W.Vh=0,W},L.bl=function(F){var V=new L;return V.x=F.x,V.y=F.y,V.type=0,V.Vh=0,V},L.KO=function(F){var V=new L;return V.x=F.x,V.y=F.y,V.type=F.type,V.Vh=F.Vh,V},L.Qd=function(F,V,W){var X=new L;return X.x=F.x+V*Math.cos(W),X.y=F.y+V*Math.sin(W),X.type=F.type,X.Vh=F.Vh,X},L.Ru=function(F,V){var W=new L;return W.x=.5*(F.x+V.x),W.y=.5*(F.y+V.y),W.type=F.type,W.Vh=F.Vh,W},L.LE=function(F,V){var W=new L;return W.x=F.x+.001*(V.x-F.x),W.y=F.y+.001*(V.y-F.y),W.type=F.type,W.Vh=F.Vh,W},L}(),D=function(){};(Be=B.YK||(B.YK={}))[Be.Round=0]="Round",Be[Be.Bevel=1]="Bevel",Be[Be.Miter=2]="Miter",Be[Be.Square=3]="Square";var O=function(){function L(F){this.HA=this.Zb=this.wg=null,this.nd=F}return L.W=function(F,V,W,X,ie,Y){if(null==F||1>F.Eb())throw B.i.O();return 0==V||F.B()?F:((Y=new L(Y)).lo=F,Y.La=V,Y.ra=ie,Y.Li=W,Y.wA=X,Y.Px())},L.prototype.XL=function(){var F=this.lo,V=F.ac(),W=F.xc(),X=new B.h;return X.vc(W,V),X.normalize(),X.Iv(),X.scale(this.La),V.add(X),W.add(X),X=F.Ja(),F.Ec(V),F.Rc(W),X},L.prototype.WL=function(){var F=this.lo;if(0<this.La&&2!=this.Li){var V=new B.Ea;return V.bd(F,!1),this.lo=V,this.Px()}return(F=new B.Gh(F.aa)).X(this.La,this.La),F},L.prototype.lJ=function(F,V,W,X){return(V.x-F.x)*(X.x-W.x)+(V.y-F.y)*(X.y-W.y)},L.prototype.hc=function(F,V){if(void 0===V)this.Zb.push(F),this.gf++;else if(0==this.gf)this.hc(F);else{var W=this.Cw,X=this.wg[0==V?W-1:V-1],ie=this.wg[V],Y=this.lJ(X,ie,this.Zb[this.gf-1],F);0<Y?this.hc(F):0>Y&&(0<this.lJ(X,ie,ie,this.Zb[this.gf-1])?(ie=this.wg[0==V?W-2:1==V?W-1:V-2],W=E.Qd(X,this.La,Math.atan2(X.y-ie.y,X.x-ie.x)-T),this.Zb[this.gf-1]=W,1==this.Li||2==this.Li?(W=E.Ru(W,X),this.hc(W),W=E.Qd(X,this.La,this.Kv+T),(X=E.Ru(W,X)).type|=256,this.hc(X)):(W=E.Qd(X,this.La,this.Kv+T)).type|=256,this.hc(W),this.hc(F,V)):(W=E.Qd(ie,this.La,this.Kv+T),this.hc(W),1==this.Li||2==this.Li?(W=E.Ru(W,ie),this.hc(W),W=E.Qd(ie,this.La,this.Wz-T),(X=E.Ru(W,ie)).type|=256,this.hc(X)):(W=E.Qd(ie,this.La,this.Wz-T)).type|=256,this.hc(W)))}},L.prototype.eE=function(){var F,V=this.Cw;this.gf=0;var W=.5*this.ra,X=0,ie=0;for(F=0;F<V;F++){var Y=this.wg[F],te=0==F?this.wg[V-1]:this.wg[F-1],ne=F==V-1?this.wg[0]:this.wg[F+1],we=te.x-Y.x,ze=te.y-Y.y,_t=ne.x-Y.x,Mt=ne.y-Y.y,pe=Math.atan2(ze,we),Ge=Math.atan2(Mt,_t);if(this.Kv=pe,this.Wz=Ge,0==F&&(X=pe,ie=Ge),we=we*Mt-_t*ze,ze=Ge,Ge<pe&&(Ge+=k),0<we*this.La)1==this.Li||2==this.Li?(pe=E.Qd(Y,this.La,pe+T),this.hc(pe),pe=E.LE(Y,pe),this.hc(pe),pe=E.Qd(Y,this.La,Ge-T),(Y=E.LE(Y,pe)).type|=256,this.hc(Y),this.hc(pe)):(we=.5*(Ge-pe),we=this.La/Math.abs(Math.sin(we)),pe=E.Qd(Y,we,.5*(pe+Ge)),this.hc(pe,F));else if(0!=(512&Y.type)){for(we=1-W/Math.abs(this.La),te=1,ne=0>this.La?-$:$,-1<we&&1>we&&(.017453292519943295>(ze=2*Math.acos(we))&&(ze=.017453292519943295),1<(te=B.P.truncate($/ze+1.5))&&(ne/=te)),pe=E.Qd(Y,this.La,ze=pe+T),0==F&&(pe.type|=1024),this.hc(pe,F),we=this.La/Math.cos(ne/2),(pe=E.Qd(Y,we,ze+=ne/2)).type|=1024,this.hc(pe);0<--te;)(pe=E.Qd(Y,we,ze+=ne)).type|=1024,this.hc(pe);(pe=E.Qd(Y,this.La,Ge-T)).type|=1024,this.hc(pe)}else if(1==this.Li)pe=E.Qd(Y,this.La,pe+T),this.hc(pe,F),pe=E.Qd(Y,this.La,Ge-T),this.hc(pe);else if(0==this.Li)for(we=1-W/Math.abs(this.La),te=1,ne=Ge-T-(pe+T),-1<we&&1>we&&(.017453292519943295>(ze=2*Math.acos(we))&&(ze=.017453292519943295),1<(te=B.P.truncate(Math.abs(ne)/ze+1.5))&&(ne/=te)),we=this.La/Math.cos(.5*ne),pe=E.Qd(Y,we,ze=pe+T+.5*ne),this.hc(pe,F);0<--te;)pe=E.Qd(Y,we,ze+=ne),this.hc(pe);else 2==this.Li?.99999999<(te=((we=te.x-Y.x)*(_t=ne.x-Y.x)+(ze=te.y-Y.y)*(Mt=ne.y-Y.y))/Math.sqrt(we*we+ze*ze)/Math.sqrt(_t*_t+Mt*Mt))?(pe=E.Qd(Y,1.4142135623730951*this.La,Ge-.25*$),this.hc(pe,F),pe=E.Qd(Y,1.4142135623730951*this.La,Ge+.25*$),this.hc(pe)):(te=Math.abs(this.La/Math.sin(.5*Math.acos(te))))>(ne=Math.abs(this.wA*this.La))?(we=.5*(Ge-pe),we=this.La/Math.abs(Math.sin(we)),pe=E.Qd(Y,we,.5*(pe+Ge)),Ge=B.h.construct(pe.x,pe.y),pe=B.h.construct(Y.x,Y.y),(Y=new B.h).vc(Ge,pe),(Ge=new B.h).wW(ne/Y.length(),Y,pe),pe=(te-ne)*Math.abs(this.La)/Math.sqrt(te*te-this.La*this.La),0<this.La?Y.Iv():Y.cr(),Y.scale(pe/Y.length()),(pe=new B.h).add(Ge,Y),(te=new B.h).vc(Ge,Y),pe=E.bl(pe),this.hc(pe,F),pe=E.bl(te),this.hc(pe)):(we=.5*(Ge-pe),we=this.La/Math.abs(Math.sin(we)),pe=E.Qd(Y,we,.5*(pe+Ge)),this.hc(pe,F)):(Ge=ze,0<this.La?(Ge>pe&&(Ge-=k),te=pe-Ge<T):(Ge<pe&&(Ge+=k),te=Ge-pe<T),te?(ze=0>(we=1.4142135623730951*this.La)?pe+.25*$:pe+.75*$,pe=E.Qd(Y,we,ze),this.hc(pe,F),pe=E.Qd(Y,we,ze=0>we?Ge-.25*$:Ge-.75*$),this.hc(pe)):(we=.5*(Ge-pe),we=this.La/Math.abs(Math.sin(we)),Ge<pe&&(Ge+=k),pe=E.Qd(Y,we,(pe+Ge)/2),this.hc(pe,F)))}return this.Kv=X,this.Wz=ie,this.hc(this.Zb[0],0),Y=E.KO(this.Zb[this.gf-1]),this.Zb[0]=Y,this.mW()},L.prototype.Bu=function(F,V){if(!(2>V))for(var W=0;W<V;W++){var X=this.Zb[F+W];0!=W?this.HA.Di(B.h.construct(X.x,X.y)):this.HA.Mt(B.h.construct(X.x,X.y))}},L.prototype.YL=function(F,V,W){var X=F.Ca(V),ie=F.Wc(V);if(this.Zb=[],this.HA=W,F.ec(V)){for(V=F.Oa(X);F.Oa(ie-1).rb(V);)ie--;if(2<=ie-X){for(this.Cw=ie-X,this.wg=[],V=X;V<ie;V++)this.wg.push(E.bl(F.Oa(V)));this.eE()&&this.Bu(0,this.gf-1)}}else{for(V=F.Oa(X);X<ie&&F.Oa(X+1).rb(V);)X++;for(V=F.Oa(ie-1);X<ie&&F.Oa(ie-2).rb(V);)ie--;if(2<=ie-X){for(this.Cw=2*(ie-X)-2,this.wg=[],(W=E.bl(F.Oa(X))).type|=1536,this.wg.push(W),V=X+1;V<ie-1;V++)W=E.bl(F.Oa(V)),this.wg.push(W);for((W=E.bl(F.Oa(ie-1))).type|=512,this.wg.push(W),V=ie-2;V>=X+1;V--)(W=E.bl(F.Oa(V))).type|=1024,this.wg.push(W);if(this.eE())if(2<=this.Zb.length){for(F=-1,(ie=0!=(1024&this.Zb[this.gf-1].type))||(F=0),V=1;V<this.gf;V++)(X=0!=(1024&this.Zb[V].type))?ie||1<(ie=V-1)-F+1&&this.Bu(F,ie-F+1):ie&&(F=V-1),ie=X;ie||1<(ie=this.gf-1)-F+1&&this.Bu(F,ie-F+1)}else ie=this.gf-1,0<=(F=0)&&1<=ie-F&&this.Bu(F,ie-F+1)}}this.wg=null,this.Cw=0,this.Zb=null,this.gf=0},L.prototype.mW=function(){for(var F=!1,V=0;V<this.gf;V++){var W=this.Zb[V];W.rh=V+1,W.th=V-1,this.Zb[V]=W}for((W=this.Zb[0]).th=this.gf-2,this.Zb[0]=W,(W=this.Zb[this.gf-2]).rh=0,this.Zb[this.gf-2]=W,V=W=0;V<this.gf;V++)if(0!=(256&this.Zb[W].type)){var X=this.yP(W);if(-1==X){F=!0;break}W=X}else W=this.Zb[W].rh;return!F&&(this.IO(W),!0)},L.prototype.yP=function(F){for(var V,W,X=this.gf-1,ie=F,Y=1;Y<=X-2;Y++){V=ie=this.Zb[ie].rh,W=F;for(var te=1;te<=Y;te++){if(0==(256&this.Zb[W=this.Zb[W].th].type)&&0==(256&this.Zb[V].type)){var ne=this.YR(W,V);if(-1!=ne)return ne}V=this.Zb[V].th}}return-1},L.prototype.YR=function(F,V){var W=this.Zb[this.Zb[F].th],X=this.Zb[F],ie=this.Zb[this.Zb[V].th],Y=this.Zb[V];if(!this.yW(W,X,ie,Y))return-1;var te=new D;return this.pQ(W,X,ie,Y,te)&&!te.UD&&B.P.UJ((X.x-W.x)*(Y.y-ie.y)-(X.y-W.y)*(Y.x-ie.x))!=B.P.UJ(this.La)?(W=this.Zb[F].th,te.cn.type=X.type,te.cn.rh=V,te.cn.th=W,this.Zb[F]=te.cn,te.cn=this.Zb[V],te.cn.th=F,this.Zb[V]=te.cn,V):-1},L.prototype.yW=function(F,V,W,X){return Math.max(F.x,V.x)>=Math.min(W.x,X.x)&&Math.max(W.x,X.x)>=Math.min(F.x,V.x)&&Math.max(F.y,V.y)>=Math.min(W.y,X.y)&&Math.max(W.y,X.y)>=Math.min(F.y,V.y)},L.prototype.pQ=function(F,V,W,X,ie){ie.UD=!1;var Y=(V.y-F.y)*(X.x-W.x)-(V.x-F.x)*(X.y-W.y),te=(W.y-F.y)*(V.x-F.x)-(W.x-F.x)*(V.y-F.y);if(0<=(Y=0==Y?2:te/Y)&&1>=Y){var ne=Y;if(te=(F.y-W.y)*(X.x-W.x)-(F.x-W.x)*(X.y-W.y),0<=(Y=0==(Y=(X.y-W.y)*(V.x-F.x)-(X.x-W.x)*(V.y-F.y))?2:te/Y)&&1>=Y)return ie.cn=E.LO(F.x+Y*(V.x-F.x),F.y+Y*(V.y-F.y)),ie.cn.Vh=W.Vh+ne*(X.Vh-W.Vh),0!=ne&&1!=ne||0!=Y&&1!=Y||(ie.UD=!0),ie.KY=Y,ie.LY=ne,!((0==ne||1==ne)&&0<Y&&1>Y||(0==Y||1==Y)&&0<ne&&1>ne)}return!1},L.prototype.IO=function(F){for(;this.Zb[F].th<F;)F=this.Zb[F].th;var V=0,W=F;do{this.Zb[V]=W=this.Zb[W],W=W.rh,V++}while(W!=F);this.Zb[V]=this.Zb[0],this.gf=V+1},L.prototype.SC=function(F){var V=this.lo,W=V.Ha();if(null!=W){W.$i();for(var X=-1;W.ab();)X++,this.YL(V,X,F)}},L.prototype.Px=function(){var F=this.lo.K();return 322==F?this.XL():197==F?this.WL():B.ba.zd(F)?((F=new B.Ua).oc(this.lo,!0),this.lo=F,this.Px()):1607==F?(F=new B.Ua,this.SC(F),F):1736==F?(F=new B.Ea,this.SC(F),F):null},L}();B.AK=O}(st||(st={})),function(B){var Be=function(){function E(D){this.qk=D}return E.prototype.D=function(D,O){this.qk.g.D(D,O)},E.prototype.wd=function(D){var O=this.qk.Ga.ka(D);this.qk.Ga.wd(D,-1),this.qk.g.pd(O,!1)},E}(),$=function(){function E(D){this.qk=D}return E.prototype.D=function(D,O){this.qk.yT.D(D,O)},E.prototype.wd=function(D){this.qk.Ga.wd(D,-1)},E}(),k=function(){function E(D){this.qk=D}return E.prototype.D=function(D,O){O.N(this.qk.BT[D])},E.prototype.wd=function(D){this.qk.Ga.wd(D,-1)},E}(),T=function(){function E(D){void 0===D?(this.Ga=new B.Yj,this.Ga.Ee(20),this.g=new B.hd,this.mT=this.g.Kg(550),this.Ts=this.g.wf(this.mT,-1),this.Yh=new Be(this)):D instanceof Array?(this.Ga=new B.Yj,this.Ga.Ee(20),this.BT=D,this.Yh=new k(this)):(this.Ga=new B.Yj,this.Ga.Ee(20),this.yT=D,this.Yh=new $(this))}return E.prototype.Ib=function(D){var O=D.K();if(B.Ex.yj(O))this.bN(D);else if(B.Vk.zd(O))this.gN(D);else if(197==O)this.ZM(D);else{if(33!=O)throw B.i.O("invalid shape type");this.fN(D)}},E.prototype.VQ=function(){var D=new B.Ta,O=this.Ga.sc(-1),L=new B.Ea(this.g.ht);for(this.g.Wi(this.Ga.ka(O),D),L.nf(D),O=this.Ga.lb(O);-1!=O;O=this.Ga.lb(O))this.g.Wi(this.Ga.ka(O),D),L.lineTo(D);return L},E.JO=function(D){var O=new E(D),L=D.I(),F=1,V=new B.h,W=new B.h,X=new B.h;for(D.D(0,V);D.D(F,W),W.Mz(V)&&F<L-1;)F++;for(O.Ga.addElement(0,-1),O.Ga.yn(F),L=F+1;L<D.I();L++)D.D(L,X),-1!=(F=O.iC(X))&&O.Ga.Tj(F,L);for(X=new B.Ta,F=O.Ga.sc(-1),L=new B.Ea(D.description),D.we(O.Ga.ka(F),X),L.nf(X),F=O.Ga.lb(F);-1!=F;F=O.Ga.lb(F))D.we(O.Ga.ka(F),X),L.lineTo(X);return L},E.construct=function(D,O,L){for(var F=new E(D),V=1,W=D[0];D[V].Mz(W)&&V<O-1;)V++;for(F.Ga.addElement(0,-1),F.Ga.yn(V),V+=1;V<O;V++)-1!=(W=F.iC(D[V]))&&F.Ga.Tj(W,V);for(D=0,O=F.Ga.sc(-1);-1!=O;O=F.Ga.lb(O))L[D++]=F.Ga.ka(O);return D},E.BG=function(D,O){var L=D.Ca(O),F=D.Wc(O);if(O=!D.ec(O)&&D.On(O),D=D.vb(0),F*=2,O&&(F-=2),6>F-(L*=2))return!0;O=new B.h;var V=new B.h,W=new B.h;D.uc(L,O),D.uc(L+2,V),D.uc(L+4,W);var X=E.Xu(V,W,O);if(X.qs()||!E.wm(X.value()))return!1;var ie=B.h.construct(V.x,V.y),Y=new B.h;for(L+=6;L<F;L+=2)if(Y.N(V),V.N(W),D.uc(L,W),(X=E.Xu(V,W,O)).qs()||!E.wm(X.value())||(X=E.Xu(ie,W,O)).qs()||!E.wm(X.value())||(X=E.Xu(V,W,Y)).qs()||!E.wm(X.value()))return!1;return!0},E.prototype.bN=function(D){for(var O=new B.Ta,L=new B.h,F=0;F<D.I();F++){D.D(F,L);var V=this.Er(L);if(-1!=V){D.we(F,O);var W=this.g.hc(this.Ts,O);this.Ga.Tj(V,W)}}},E.prototype.ZM=function(D){for(var O=new B.Ta,L=new B.h,F=0;4>F;F++){D.gB(F,L);var V=this.Er(L);if(-1!=V){D.If(F,O);var W=this.g.hc(this.Ts,O);this.Ga.Tj(V,W)}}},E.prototype.gN=function(D){var O=new B.Ta,L=D.ac();if(-1!=(L=this.Er(L))){D.Uo(O);var F=this.g.hc(this.Ts,O);this.Ga.Tj(L,F)}L=D.xc(),-1!=(L=this.Er(L))&&(D.Qo(O),D=this.g.hc(this.Ts,O),this.Ga.Tj(L,D))},E.prototype.fN=function(D){var O=D.D();-1!=(O=this.Er(O))&&(D=this.g.hc(this.Ts,D),this.Ga.Tj(O,D))},E.prototype.Er=function(D){var O=-1;if(0==this.Ga.size(-1))return this.Ga.addElement(-4,-1);if(1==this.Ga.size(-1)){var L=this.g.Oa(this.Ga.ka(this.Ga.sc(-1)));return D.Mz(L)||(O=this.Ga.yn(-5)),O}return this.iC(D)},E.prototype.iC=function(D){var O=-1;do{var L=this.Ga.sc(-1),F=this.Ga.Gc(-1),V=this.Ga.ka(L),W=this.Ga.ka(F),X=new B.h,ie=new B.h;if(this.Yh.D(V,X),this.Yh.D(W,ie),V=B.h.Wq(ie,D,X),E.wm(V))O=this.Ga.yn(-1),(X=this.gC(D,F,L))!=L&&this.hC(D,L,this.Ga.xe(X));else if(E.uG(V)){ie=this.Ga.tv(-1);var Y=this.Ga.sc(-1),te=this.Ga.Gc(-1);for(V=new B.h,W=new B.h;Y!=this.Ga.xe(te);){var ne=this.Ga.ka(ie);this.Yh.D(ne,V),ne=B.h.Wq(V,D,X),E.uG(ne)?(te=ie,ie=this.Ga.nl(ie)):(Y=ie,ie=this.Ga.Zp(ie))}if(X=Y,ne=this.Ga.ka(ie=te),Y=this.Ga.ka(X),this.Yh.D(ne,V),this.Yh.D(Y,W),X!=L&&(V=B.h.Wq(W,D,V),!E.wm(V)))continue;O=this.Ga.Au(X,ie,-2,!1),this.hC(D,ie,F),this.gC(D,X,L)}else null==this.tb&&(this.tb=new B.zb),this.tb.Ec(ie),this.tb.Rc(X),0>(X=this.tb.fe(D,!0))?(X=this.Ga.xe(F),this.Ga.wd(F,-1),O=this.Ga.yn(-3),this.gC(D,X,L)):1<X&&(X=this.Ga.lb(L),this.Ga.wd(L,-1),O=this.Ga.Au(-1,X,-3,!1),this.hC(D,X,F))}while(0);return O},E.prototype.hC=function(D,O,L){if(O!=L){var F=this.Ga.ka(O),V=this.Ga.lb(O),W=new B.h,X=new B.h;for(this.Yh.D(F,W);O!=L&&2<this.Ga.size(-1)&&(this.Yh.D(this.Ga.ka(V),X),F=B.h.Wq(X,D,W),!E.wm(F));)F=O,O=V,W.N(X),V=this.Ga.lb(O),this.Yh.wd(F)}},E.prototype.gC=function(D,O,L){if(O==L)return L;var F=this.Ga.ka(O),V=this.Ga.xe(O),W=new B.h,X=new B.h;for(this.Yh.D(F,W);O!=L&&2<this.Ga.size(-1)&&(this.Yh.D(this.Ga.ka(V),X),F=B.h.Wq(W,D,X),!E.wm(F));)F=O,O=V,W.N(X),V=this.Ga.xe(O),this.Yh.wd(F);return O},E.Xu=function(D,O,L){var F=new B.Xb;F.set(O.x),F.sub(D.x);var V=new B.Xb;V.set(L.y),V.sub(D.y);var W=new B.Xb;return W.set(O.y),W.sub(D.y),(O=new B.Xb).set(L.x),O.sub(D.x),F.Ag(V),W.Ag(O),F.sub(W),F},E.wm=function(D){return 0>D},E.uG=function(D){return 0<D},E}();B.$t=T}(st||(st={})),function(B){var Be=function(){function $(k){this.g=null,this.lH=!0,this.nd=k}return $.pU=function(k,T,E){return k=B.ta.Gr(k),B.Zt.Dv(T.Mg(),T.jh(),E.Mg(),E.jh(),B.mc.nx(k))},$.uO=function(k,T){var E=new B.Ta;return B.Zt.MT(k,T,E),E},$.W=function(k,T,E,D){return(E=new $(E)).g=k,E.ra=T,E.lH=D,E.wM()},$.prototype.fM=function(k){return B.Zt.aQ(this.g,k)},$.prototype.kM=function(k){return B.au.W(this.g,k,this.nd)},$.prototype.wM=function(){var k=this.ra,T=B.ta.Gr(k),E=1.00001*(k=B.ta.jN(k));k*=1.000001;for(var D=!1,O=30<this.g.gd+10?1e3:(this.g.gd+10)*(this.g.gd+10),L=0,F=this.g.aS();;L++){if(L>O)throw B.i.ga("Internal Error: max number of iterations exceeded");var V=this.fM(T);if(D=D||V,this.lH&&(V=0!=this.g.Ip(T,!0,!1),D=D||V),V=!1,(0==L||F||B.au.cI(!0,this.g,k,null,this.nd))&&(V=this.kM(E),D=D||V),!V)break;B.np.Bp(this.nd)}return D},$}();B.Tk=Be}(st||(st={})),function(B){var Be=function(){function k(T){this.ae=this.Nc=null,this.Zs=0,this.Vb=T,this.Yz=!0}return k.prototype.vv=function(T,E){var D=this.g.cc(T);if(null==D){if(!this.g.fd(T,E))return null;D=E}return D},k.prototype.Zq=function(){var T;void 0===T&&(T=!1),this.Zs++,(T||0==(4095&this.Zs))&&(this.Zs=0,B.np.Bp(this.Vb))},k.prototype.fP=function(){var T=this.g.$q(!1),E=!1,D=new B.zb,O=new B.zb,L=new B.l;L.Pa();var F=new B.l;F.Pa();for(var V=new B.Ta,W=new B.LC,X=T.next();-1!=X;X=T.next()){B.np.Bp(this.Vb);var ie=null,Y=!1;if(!B.ba.Sn(this.g.jc(T.ck))){if(null==(ie=this.vv(X,D)))continue;if(ie.A(L),L.X(this.ra,this.ra),ie.Ci(this.ra)){if(!ie.Ci(0))continue;Y=!0,ie=null}}var te=this.g.$q(T),ne=te.next();for(-1!=ne&&(ne=te.next());-1!=ne;ne=te.next()){var we=null,ze=!1;if(!B.ba.Sn(this.g.jc(te.ck))){if(null==(we=this.vv(ne,O)))continue;if(we.A(F),we.Ci(this.ra)){if(!we.Ci(0))continue;ze=!0,we=null}}var _t=0,Mt=0;if(null!=ie&&null!=we)L.zG(F)&&(W.Po(ie),W.Po(we),W.Fa(this.ra,!1),0<(_t=W.ql(0))+(Mt=W.ql(1))&&(this.g.lr(X,W,0,!0),this.g.lr(ne,W,1,!0)),W.clear());else if(null!=ie){var pe=new B.h;if(this.g.D(ne,pe),L.contains(pe)){if(W.Po(ie),this.g.Wi(ne,V),W.Fz(this.ra,V,!1),0<(_t=W.ql(0)))if(this.g.lr(X,W,0,!0),ze){for(ze=-1,pe=this.g.V(ne);-1!=pe&&pe!=ne&&(ze=pe,null!=(we=this.vv(pe,O))&&we.Ci(0));pe=this.g.V(pe));for(pe=ne;-1!=pe&&(this.g.Eh(pe,W.Cf),pe!=ze);pe=this.g.V(pe));}else this.g.Eh(ne,W.Cf);W.clear()}}else{if(null==we)continue;if(pe=new B.h,this.g.D(X,pe),F.X(this.ra,this.ra),F.contains(pe)){if(W.Po(we),this.g.Wi(X,V),W.Fz(this.ra,V,!1),0<(Mt=W.ql(0)))if(this.g.lr(ne,W,0,!0),Y){for(ze=-1,pe=this.g.V(X);-1!=pe&&pe!=X&&(ze=pe,null!=(we=this.vv(pe,O))&&we.Ci(0));pe=this.g.V(pe));for(pe=X;-1!=pe&&(this.g.Eh(pe,W.Cf),pe!=ze);pe=this.g.V(pe));}else this.g.Eh(X,W.Cf);W.clear()}}if(_t+Mt!=0){if(0!=_t){if(null==(ie=this.g.cc(X))){if(!this.g.fd(X,D))continue;ie=D,D.A(L)}else ie.A(L);if(ie.Ci(this.ra))break}E=!0}}}return E},k.prototype.gP=function(){return this.GU()},k.prototype.GU=function(){return(new B.JC).DX(this.g,this.ra)},k.prototype.dI=function(){var T=!1;null==this.Nc&&(this.Nc=new B.Yj);var E=new B.ja(0);E.Jb(this.g.gd+1);for(var D=this.g.$q(),O=D.next();-1!=O;O=D.next())E.add(O);this.g.mx(E,E.size),E.add(-1),D=this.g.Hd(),O=this.g.Hd(),this.ae=new B.MC(this.g,this.ra,!this.Yz),this.Nc.Wo(this.ae);var L=new B.ja(0),F=new B.ja(0),V=0;new B.h;var W=this.g.ud;this.g.wb.rc();for(var X,ie,Y=this.g.wb.Aa[0].o,te=E.get(V++);-1!=te;){var ne=X=Y[2*(ie=W.U(te,0))],we=ie=Y[2*ie+1];do{var ze=W.U(te,2),_t=W.U(te,1);if(-1!=ze){var Mt=W.U(ze,0),pe=Y[2*Mt];0>(we<(Mt=Y[2*Mt+1])?-1:we>Mt?1:ne<pe?-1:ne>pe?1:0)&&(F.add(te),F.add(ze))}-1!=_t&&(pe=Y[2*(Mt=W.U(_t,0))],0>(we<(Mt=Y[2*Mt+1])?-1:we>Mt?1:ne<pe?-1:ne>pe?1:0)&&(F.add(_t),F.add(_t))),-1!=(pe=this.g.Qa(te,D))&&(L.add(pe),this.g.Sa(te,D,-1)),-1!=(pe=this.g.Qa(te,O))&&(L.add(pe),this.g.Sa(te,O,-1)),-1!==(te=E.get(V++))&&(ne=Y[2*(we=W.U(te,0))],we=Y[2*we+1])}while(-1!=te&&ne===X&&we===ie);for(ne=1==L.size&&2==F.size,pe=we=-1,ze=0,_t=L.size;ze<_t;ze++){Mt=L.get(ze);var Ge=this.Nc.xe(Mt);if(-1==Ge||L.$F(Ge)||(we=Ge),-1==(Mt=this.Nc.lb(Mt))||L.$F(Mt)||(pe=Mt),-1!=we&&-1!=pe)break}for(this.ae.SJ(ie,X),ze=0,_t=L.size;ze<_t;ze++)Mt=L.get(ze),this.Nc.wd(Mt,-1);if(L.clear(!1),!ne&&-1!=we&&-1!=pe&&this.iO(we,pe)){T=!0,this.Oi=this.ae.tm();break}for(ze=0,_t=F.size;ze<_t;ze+=2){if(ie=F.get(ze),X=F.get(ze+1),ne?(ie=this.Nc.Au(we,pe,ie,!0),ne=!1):ie=this.Nc.addElement(ie,-1),this.ae.rg){this.Oi=this.ae.tm(),T=!0;break}-1==this.g.Qa(X,D)?this.g.Sa(X,D,ie):this.g.Sa(X,O,ie)}if(T)break;F.Ch(0)}return this.g.Ud(D),this.g.Ud(O),T},k.prototype.iO=function(T,E){return this.ae.compare(this.Nc,this.Nc.ka(T),E),T=this.ae.rg,this.ae.Lr(),T},k.qE=function(T){for(var E=T.ld;-1!=E;E=T.ve(E))if(B.ba.Ic(T.jc(E)))return!0;return!1},k.YP=function(T,E,D,O){return!!k.qE(T)&&((E=new k(O)).g=T,E.ra=D,15>T.gd?T=E.fP():E.gP())},k.W=function(T,E,D){return k.YP(T,T.AF(),E,D)},k.cI=function(T,E,D,O,L){if(!k.qE(E))return!1;var F=new k(L);if(F.g=E,F.ra=D,F.Yz=T,F.dI())return null!=O&&O.Xt(F.Oi),!0;var V=new B.Ed;return V.TB(),E.Pc(V),(F=new k(L)).g=E,F.ra=D,F.Yz=T,T=F.dI(),V.TB(),E.Pc(V),!!T&&(null!=O&&O.Xt(F.Oi),!0)},k.Ol=function(T,E){return!(16>(T=T.I()))&&2*T+Math.log(T)*Math.LOG10E/Math.log(2)*E<1*T*E},k.dP=function(T,E,D,O){if(B.ba.Ic(E.K()))return new k(O).eP(T,E,D);throw B.i.ga("crack_A_with_B")},k.prototype.eP=function(T,E,D){var O=new B.l;T.yc(O);var L=new B.l;if(E.yc(L),L.X(D,D),!L.isIntersecting(O))return T;var F=T.Cb,V=null;null!=F&&(V=F.Gb),k.Ol(T,T.I())&&(V=B.ta.kj(T,L));var W=null!=V?V.getIterator():null,X=E.Ha();E=T.Ha();var ie=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(L=[];X.ab();)for(;X.Ia();){var Y=X.ia();if(null!=V){for(W.Vo(Y,D),F=W.next();-1!=F;F=W.next())if(this.Zq(),E.Wb(V.ka(F),-1),E.Ia()){var te=(F=E.ia()).Fa(Y,null,ie,null,D);for(F=0;F<te;++F){var ne=ie[F];if(0!=ne&&1!=ne){var we=E.xb(),ze=new $;ze.t=ne,ze.index=we,L.push(ze)}}}}else{var _t=new B.l;if(Y.yc(_t),_t.X(D,D),O.isIntersecting(_t))for(E.$i();E.ab();)for(;E.Ia();)if(this.Zq(),F=E.ia(),ne=new B.l,F.yc(ne),ne.isIntersecting(_t))for(te=F.Fa(Y,null,ie,null,D),F=0;F<te;++F)0!=(ne=ie[F])&&1!=ne&&(we=E.xb(),(ze=new $).t=ne,ze.index=we,L.push(ze))}}if(0==L.length)return T;for(L=L.sort($.yy),T=T.Ja(),E.$i();E.ab()&&!E.Ia(););for(D=E.ia(),O=new B.hg,V=-1,F=0,W=L.length;F<W;){for(ie=L[F].index,X=F+1;X<W&&L[X].index==ie;)++X;for(;E.xb()<ie;){if(this.Zq(),Y=E.Ia(),ne=E.gb,(_t=Y||!E.Pn()||E.Qn())&&T.oc(D,V!=ne),V=ne,!Y)for(;E.ab()&&!E.Ia(););D=E.ia()}for(ie=0;F<X;F++)(ne=L[F].t)!=ie&&(D.bh(ie,ne,O),ie=ne,ne=E.gb,T.oc(O.get(),V!=ne),V=ne);if((_t=(Y=E.Ia())||!E.Pn()||E.Qn())&&(D.bh(ie,1,O),T.oc(O.get(),!1)),Y)D=E.ia();else{for(;E.ab()&&!E.Ia(););D=E.Ia()?E.ia():null}F=X}for(null!=D&&(ne=E.gb,(_t=(Y=E.Ia())||!E.Pn()||E.Qn())&&T.oc(D,V!=ne),V=ne),Y=E.Ia();;){if(!Y){for(;E.ab()&&!(Y=E.Ia()););if(!Y)break}D=E.ia(),ne=E.gb,(_t=(Y=E.Ia())||!E.Pn()||E.Qn())&&T.oc(D,V!=ne),V=ne}return T},k}();B.au=Be;var $=function(){function k(){}return k.yy=function(T,E){return T.index==E.index?T.t>E.t?1:T.t<E.t?-1:0:T.index>E.index?1:-1},k}()}(st||(st={})),function(B){var Be;(Be=B.CK||(B.CK={}))[Be.Left=0]="Left",Be[Be.Right=1]="Right",Be[Be.Coincident=2]="Coincident",Be[Be.Undefined=3]="Undefined",Be[Be.Uncut=4]="Uncut";var $=function(E,D,O,L,F,V,W,X,ie,Y,te){this.Y=E,this.bt=D,this.Os=O,this.tg=L,this.Nm=Y,this.Cl=te};B.iY=$;var k=function(){function E(D,O){this.BH=D,this.Ii=O}return E.prototype.iM=function(D,O){var L=new B.h;this.Ii.D(D,L);var F=new B.h;return this.Ii.D(O,F),0!=(L=L.compare(F))?L:(D=this.Ii.Qa(D,this.BH))<(O=this.Ii.Qa(O,this.BH))?-1:D==O?0:1},E}(),T=function(E,D,O,L,F,V,W,X,ie){this.tg=E,this.Os=D,this.IA=O,this.MH=L,this.Fi=F,this.Cl=V,this.Nm=W,this.NH=X,this.ET=ie};B.hY=T,B.DK=function(){function E(){}return E.BK=function(D,O,L,F,V,W){if(O.B())D=new $(O,4,-1,-1,NaN,4,-1,-1,NaN,-1,-1,NaN,-1,-1,NaN),V.push(D);else if(L.B())D=new $(O,4,-1,-1,NaN,4,-1,-1,NaN,-1,-1,NaN,-1,-1,NaN),V.push(D);else{var X=new B.hd;if(X.Ib(O),X.Ib(L),B.Tk.W(X,F,W,!0),0==X.gd)D=new $(O.Ja(),4,-1,-1,NaN,4,-1,-1,NaN,-1,-1,NaN,-1,-1,NaN),V.push(D);else{for(O=0,L=X.Hd(),F=X.ld;-1!=F;F=X.ve(F))for(W=X.Ob(F);-1!=W;W=X.Sb(W))for(var ie=X.Ya(W),Y=0,te=X.Ka(W);Y<te;ie=X.V(ie),Y++)X.Sa(ie,L,O++);O=E.zM(L,X),E.VL(D,O,X,V)}}},E.zM=function(D,O){for(var L=O.gd,F=new B.ja(0),V=O.ld;-1!=V;V=O.ve(V))for(var W=O.Ob(V);-1!=W;W=O.Sb(W))for(var X=O.Ya(W),ie=0,Y=O.Ka(W);ie<Y;X=O.V(X),ie++)F.add(X);var te=new k(D,O);F.Wd(0,L,function(St,Tt){return te.iM(St,Tt)}),D=[];var ne=[],we=O.Hd(),ze=O.Hd();W=O.ve(V=O.ld),Y=new B.h;var _t=new B.h,Mt=F.get(0),pe=O.cd(Mt),Ge=O.Rf(pe);O.D(Mt,Y);var it=1;for(X=0;it<L-1;){var ht=!1;for(ie=it;ie<L;ie++)if(ie!=X){var mt=F.get(ie),yt=O.cd(mt),Ot=O.Rf(yt);if(O.D(mt,_t),!Y.rb(_t))break;Ge==V&&Ot==W&&(ht=E.mM(we,ze,O,D,ne,pe,Mt,yt,mt))}if(ht||X==it-1){if(ht&&X==it-1&&it--,++X==L)break;Mt=F.get(X),pe=O.cd(Mt),Ge=O.Rf(pe),O.D(Mt,Y)}ht||(it=X+1)}for(L=[],V=O.ld;-1!=V;V=O.ve(V))for(W=O.Ob(V);-1!=W;W=O.Sb(W))for(F=O.Ya(W),ie=0,Y=O.Ka(W);ie<Y;F=O.V(F),ie++){if(0<=(X=O.Qa(F,ze)))for(;X<ne.length&&ne[X].tg==F;)L.push(ne[X++]);if(0<=(X=O.Qa(F,we)))for(;X<D.length&&D[X].tg==F;)L.push(D[X++])}return O.Ud(we),O.Ud(ze),L},E.mM=function(D,O,L,F,V,W,X,ie,Y){var te=L.sj(W),ne=L.sj(ie),we=L.Ya(W),ze=L.Ya(ie),_t=L.Na(X),Mt=L.Na(Y),pe=!1,Ge=!1,it=!1,ht=!1;return X!=we&&(Y!=ze&&(pe=E.nM(D,L,F,W,_t,ie,Mt)),Y!=ne&&(Ge=E.oM(D,L,F,W,_t,ie,Y))),X!=te&&(Y!=ze&&(it=E.pM(O,L,V,W,X,ie,Mt,we)),Y!=ne&&(ht=E.qM(O,L,V,W,X,ie,Y,we))),pe&&Ge&&it?(D=F.length-1,2==V[ht?V.length-2:V.length-1].Fi&&(F[D-1]=F[D],--F.length)):pe&&Ge&&ht&&2==V[V.length-1].Fi&&(V=F[F.length-1],--F.length,L.Qa(V.tg,D)==F.length&&L.Sa(V.tg,D,-1)),pe||Ge||it||ht},E.nM=function(D,O,L,F,V,W,X){var ie=new B.zb,Y=new B.zb,te=[0,0],ne=[0,0],we=O.cc(V);return null==we&&(O.fd(V,ie),we=ie),null==(ie=O.cc(X))&&(O.fd(X,Y),ie=Y),2>(we=we.Fa(ie,null,te,ne,0))&&(F=new T(V,F,te[0],NaN,we,X,W,ne[0],NaN),L.push(F),0>(F=O.Qa(V,D))&&O.Sa(V,D,L.length-1)),!0},E.oM=function(D,O,L,F,V,W,X){var ie=new B.zb,Y=new B.zb,te=[0,0],ne=[0,0],we=O.cc(V);return null==we&&(O.fd(V,ie),we=ie),null==(ie=O.cc(X))&&(O.fd(X,Y),ie=Y),2>(we=we.Fa(ie,null,te,ne,0))&&(F=new T(V,F,te[0],NaN,we,X,W,ne[0],NaN),L.push(F),0>(F=O.Qa(V,D))&&O.Sa(V,D,L.length-1),!0)},E.pM=function(D,O,L,F,V,W,X,ie){var Y=new B.zb,te=new B.zb,ne=[0,0],we=[0,0],ze=O.cc(V);return null==ze&&(O.fd(V,Y),ze=Y),null==(Y=O.cc(X))&&(O.fd(X,te),Y=te),2==(ze=ze.Fa(Y,null,ne,we,0))?(F=new T(V,F,ne[0],ne[1],ze,X,W,we[0],we[1]),L.push(F),0>(F=O.Qa(V,D))&&O.Sa(V,D,L.length-1),!0):(te=!1,V==ie&&(F=new T(V,F,ne[0],NaN,ze,X,W,we[0],NaN),L.push(F),0>(F=O.Qa(V,D))&&O.Sa(V,D,L.length-1),te=!0),te)},E.qM=function(D,O,L,F,V,W,X,ie){var Y=new B.zb,te=new B.zb,ne=[0,0],we=[0,0],ze=O.cc(V);return null==ze&&(O.fd(V,Y),ze=Y),null==(Y=O.cc(X))&&(O.fd(X,te),Y=te),2==(ze=ze.Fa(Y,null,ne,we,0))?(F=new T(V,F,ne[0],ne[1],ze,X,W,we[0],we[1]),L.push(F),0>(F=O.Qa(V,D))&&O.Sa(V,D,L.length-1),!0):(te=!1,V==ie&&(F=new T(V,F,ne[0],NaN,ze,X,W,we[0],NaN),L.push(F),0>(F=O.Qa(V,D))&&O.Sa(V,D,L.length-1),te=!0),te)},E.VL=function(D,O,L,F){var V=[];V[0]=new B.h,V[1]=new B.h,V[2]=new B.h,V[3]=new B.h;var W=new B.h,X=new B.h,ie=new B.h,Y=new B.h,te=null;null!=F&&(te=new B.hg).Pr();var ne=0,we=null,ze=new B.zb;new B.zb;for(var _t=L.Ob(L.ld);-1!=_t;_t=L.Sb(_t)){for(var Mt=4,pe=-1,Ge=-1,it=-1,ht=-1,mt=NaN,yt=!0,Ot=!1,St=!0,Tt=!0,_i=!0,mi=0,Ui=_t,Ft=0,ti=L.Ya(_t),ui=L.Ka(_t),vi=0;vi<ui;ti=L.V(ti),vi++){var Di=L.cc(ti);if(null==Di){if(!L.fd(ti,ze))continue;Di=ze}-1==Ge&&(Ge=ti);for(var Oi=0;ne<O.length&&ti==O[ne].tg;){pe=O[ne].Os;var Vi=O[ne].tg,Zi=O[ne].IA,nn=O[ne].Nm,Tn=O[ne].Cl,bn=O[ne].NH;if(2==O[ne].Fi){if(Ot||(Ui=pe,Ge=Vi,Ft=Zi,it=nn,ht=Tn,mt=bn,Mt=2,null!=F?we=new B.Ua:mi=0,_i=!1,Tt=!0),Zi=O[ne].MH,bn=O[ne].ET,null!=F?(Di.bh(Oi,O[ne].MH,te),we.oc(te.get(),Tt)):mi++,Oi=Zi,Ot=!0,Tt=yt=!1,ne+1==O.length||2!=O[ne+1].Fi||O[ne+1].tg==Vi&&O[ne+1].IA!=Oi){if(null!=F){var Li=new $(we,2,pe,Vi,Zi,Mt,Ui,Ge,Ft,nn,Tn,bn,it,ht,mt);F.push(Li)}else null.add(mi);Ui=pe,Ge=Vi,Ft=Zi,it=nn,ht=Tn,mt=bn,Mt=2,Ot=yt=!1,Tt=_i=!0}}else{var si=L.V(Vi);if(ne<O.length-1&&O[ne+1].tg==si&&O[ne+1].Cl==Tn&&2==O[ne+1].Fi)Zi!=Oi&&(_i&&(null!=F?we=new B.Ua:mi=0),yt=0<ne&&O[ne-1].Os==pe?1==Mt?0:0==Mt?1:3:3,null!=F?(Di.bh(Oi,Zi,te),we.oc(te.get(),Tt),Li=new $(we,yt,pe,Vi,Zi,Mt,Ui,Ge,Ft,nn,Tn,bn,it,ht,mt),F.push(Li)):(mi++,null.add(mi)),Oi=Zi,Ui=pe,Ge=Vi,Ft=Zi,it=nn,ht=Tn,mt=bn,Mt=yt,yt=St=!1,Tt=_i=!0);else if(!E.uM(D,L,O,ne,W,X)){E.rM(L,O,ne,_t,ti,ie,Y);var $i=!1;if(si=!1,Li=!0,!(W.rb(ie)||X.rb(ie)||W.rb(Y)||X.rb(Y))){V[0].N(W),V[1].N(X),V[2].N(ie),V[3].N(Y),V.sort(B.h.ou);var Ye=V[0],Ht=V[1],$t=V[2],ci=V[3];Ye.rb(W)?Ht.rb(X)?D?(si=$i=!0,Li=!1):$i=!1:ci.rb(X)?D?Li=si=$i=!0:$i=!1:($i=!0,Li=Ht.rb(ie)):Ht.rb(W)?$t.rb(X)?D?(si=$i=!0,Li=!1):$i=!1:Ye.rb(X)?D?Li=si=$i=!0:$i=!1:($i=!0,Li=$t.rb(ie)):$t.rb(W)?ci.rb(X)?D?(si=$i=!0,Li=!1):$i=!1:Ht.rb(X)?D?Li=si=$i=!0:$i=!1:($i=!0,Li=ci.rb(ie)):Ye.rb(X)?D?(si=$i=!0,Li=!1):$i=!1:$t.rb(X)?D?Li=si=$i=!0:$i=!1:($i=!0,Li=Ye.rb(ie))}$i&&($i=ti==Vi,(Zi!=Oi||$i&&0==Oi)&&(_i&&(null!=F?we=new B.Ua:mi=0),null!=F?(Di.bh(Oi,Zi,te),we.oc(te.get(),Tt)):mi++),Li?1!=Mt?((Zi!=Oi||$i&&0==Oi)&&(null!=F?(Li=new $(we,1,pe,Vi,Zi,Mt,Ui,Ge,Ft,nn,Tn,bn,it,ht,mt),F.push(Li)):null.add(mi)),si?(ne>=O.length-2||O[ne+2].Os!=pe)&&(Mt=0):Mt=1):((Zi!=Oi||$i&&0==Oi)&&(null!=F?(Li=new $(we,3,pe,Vi,Zi,Mt,Ui,Ge,Ft,nn,Tn,bn,it,ht,mt),F.push(Li)):null.add(mi)),Mt=1):0!=Mt?((Zi!=Oi||$i&&0==Oi)&&(null!=F?(Li=new $(we,0,pe,Vi,Zi,Mt,Ui,Ge,Ft,nn,Tn,bn,it,ht,mt),F.push(Li)):null.add(mi)),si?(ne>=O.length-2||O[ne+2].Os!=pe)&&(Mt=1):Mt=0):((Zi!=Oi||$i&&0==Oi)&&(null!=F?(Li=new $(we,3,pe,Vi,Zi,Mt,Ui,Ge,Ft,nn,Tn,bn,it,ht,mt),F.push(Li)):null.add(mi)),Mt=0),(Zi!=Oi||$i&&0==Oi)&&(Oi=Zi,Ui=pe,Ge=Vi,Ft=Zi,it=nn,ht=Tn,mt=bn,yt=St=!1,Tt=_i=!0))}}ne++}1!=Oi&&(_i&&(null!=F?we=new B.Ua:mi=0),null!=F?(Di.bh(Oi,1,te),we.oc(te.get(),Tt)):mi++,Tt=_i=!1,St=!0)}St&&(Zi=1,Vi=L.sj(_t),Vi=L.Na(Vi),Tn=nn=-1,bn=NaN,yt?null!=F?(Li=new $(we,4,pe,Vi,Zi,Mt,Ui,Ge,Ft,nn,Tn,bn,it,ht,mt),F.push(Li)):null.add(mi):(yt=1==Mt?0:0==Mt?1:3,null!=F?(Li=new $(we,yt,pe,Vi,Zi,Mt,Ui,Ge,Ft,nn,Tn,bn,it,ht,mt),F.push(Li)):null.add(mi)))}},E.uM=function(D,O,L,F,V,W){var X=L[F].NH;if(1==X)return E.sM(D,O,L,F,V,W);if(0==X)return E.tM(D,O,L,F,V,W);throw B.i.Ra()},E.sM=function(D,O,L,F,V,W){var X=new B.zb,ie=L[F].tg,Y=L[F].Nm,te=L[F].Cl,ne=-1,we=-1,ze=-1,_t=-1;if(!D&&0<F){var Mt=L[F-1];ne=Mt.tg,we=Mt.Nm,ze=Mt.Cl,_t=Mt.Fi}var pe=-1,Ge=-1,it=-1,ht=-1;F<L.length-1&&(pe=(Mt=L[F+1]).tg,Ge=Mt.Nm,it=Mt.Cl,ht=Mt.Fi);var mt=O.V(ie);return Mt=O.V(te),D?F==L.length-1||pe!=ie||Ge!=Y||it!=Mt||2==ht?(null==(D=O.cc(te))&&(O.fd(te,X),D=X),W.N(D.jg()),V.mt(W),W.normalize(),V.normalize(),!1):(null==(D=O.cc(te))&&(O.fd(te,X),D=X),V.N(D.jg()),null==(D=O.cc(Mt))&&(O.fd(Mt,X),D=X),W.N(D.jg()),V.Uq(),W.normalize(),V.normalize(),!1):0<F&&ne==ie&&we==Y&&ze==Mt&&2==_t||F<L.length-1&&pe==mt&&Ge==Y&&it==Mt&&2==ht?(null==(D=O.cc(te))&&(O.fd(te,X),D=X),W.N(D.jg()),V.mt(W),W.normalize(),V.normalize(),!1):!(F<L.length-1&&pe==ie&&Ge==Y&&it==Mt&&(null==(D=O.cc(te))&&(O.fd(te,X),D=X),V.N(D.jg()),null==(D=O.cc(Mt))&&(O.fd(Mt,X),D=X),W.N(D.jg()),V.Uq(),W.normalize(),V.normalize(),1))},E.tM=function(D,O,L,F,V,W){var X=new B.zb,ie=L[F].tg,Y=L[F].Nm,te=L[F].Cl,ne=-1,we=-1,ze=-1,_t=-1;if(!D&&F<L.length-1){var Mt=L[F+1];ne=Mt.tg,we=Mt.Nm,ze=Mt.Cl,_t=Mt.Fi}var pe=-1,Ge=-1,it=-1;Mt=-1,0<F&&(pe=(Mt=L[F-1]).tg,Ge=Mt.Nm,it=Mt.Cl,Mt=Mt.Fi);var ht=O.V(ie),mt=O.Na(te);return D?0!=F&&pe==ie&&Ge==Y&&it==mt&&2!=Mt||(null==(D=O.cc(te))&&(O.fd(te,X),D=X),W.N(D.jg()),V.mt(W),W.normalize(),V.normalize(),!1):!(0<F&&pe==ie&&Ge==Y&&it==mt&&2==Mt||F<L.length-1&&ne==ht&&we==Y&&ze==mt&&2==_t)||(null==(D=O.cc(te))&&(O.fd(te,X),D=X),W.N(D.jg()),V.mt(W),W.normalize(),V.normalize(),!1)},E.rM=function(D,O,L,F,V,W,X){var ie=new B.zb,Y=D.cc(V);if(null==Y&&(D.fd(V,ie),Y=ie),O=(L=O[L]).tg,L=L.IA,V=D.V(O),1==L)W.N(Y.jg()),-1!=V&&V!=D.sj(F)?(null==(Y=D.cc(V))&&(D.fd(V,ie),Y=ie),X.N(Y.jg()),null==(Y=D.cc(O))&&D.fd(O,ie)):X.N(W),W.Uq(),X.normalize(),W.normalize();else{if(0!=L)throw B.i.Ra();X.N(Y.jg()),W.mt(X),X.normalize(),W.normalize()}},E}()}(st||(st={})),function(B){var Be;(Be=B.UL||(B.UL={}))[Be.Linear=0]="Linear",Be[Be.Angular=1]="Angular",Be[Be.Area=2]="Area";var $=function(){function F(V,W,X){this.od=W,this.bi=X,this.pA=V}return F.prototype.Nb=function(V){return V instanceof F&&this.bi===V.bi},F.TF=function(V){return 0!==V.od?null:-1===V.pA?new F(-1,2,V.bi*V.bi):F.$g(O[V.pA])},F.$g=function(V){return void 0===(V=D[V])?null:V},F.RO=function(V,W,X){var ie=null;if(null!=X)try{"EPSG"===X.values[0]&&(ie=F.$g(parseInt(X.values[1])))}catch(Y){}return null===ie&&(ie=new F(-1,V,W)),ie},F.prototype.Fc=function(){return this.pA},F.prototype.uF=function(V){if(V.od!=this.od)throw B.i.Hb();return this.bi/V.bi},F.Oh=function(V,W,X){return W.uF(X)*V},F.PE=function(V,W,X,ie,Y){for(X=X.uF(ie),ie=0;ie<W;ie++)Y[ie]=V[ie]*X},F}();B.Uc=$;for(var k=[109401,1e4,109402,4046.8564224,109403,4046.87260987425,109404,1,109405,.09290304,109406,.09290341161327487,109407,.09290137299531805,109408,3.34450944,109409,3429904,109410,1.000027193184865,109411,404.6872609874253,109412,.04046872609874253,109413,2589998.4703195216,109414,1e6,109415,.8361123569578626,109416,404.67838076760535,109417,.04046783807676053,109418,.8361244606523066,109419,.09290271785025629,109420,404.68423895571647,109421,.04046842389557164,109422,.83612589696064,109423,.0929028774400711,109424,404.6849341289498,109425,.04046849341289498,109426,.836125904805842,109427,.09290287831176021,109428,404.68493792602754,109429,.04046849379260275,109430,.09290354800069446,109431,.09290274144751023,109432,.09290207073852812,109433,.09290279616016,109434,.09290273520025,109435,.836124673027592,109436,.836118636646753,109437,.8361251654414399,109438,.83612461680225,109439,2589988.110336,109440,.09290286332673177,109441,.09290349665192114,109442,.83612736,109443,.8361307045194736,109444,404.68564224000005,109445,.04046856422400001,109446,.8361237024040001,109447,.0929026336004445,109448,404.683871963536,109449,.0404683871963536,109450,.01,109451,1e-4,109452,1e-6,109453,64516e-8,109454,.0006451625806477421,109455,25.292852640000003,109456,25.29295381171408,109457,3434528.1495040003,109458,3434290.937856,109459,2.89612324,109460,25e8,109461,225e8,109462,.7168473118308245,109463,100,109464,1.244521604938272e-7,109465,1e-12,109466,1e-18],T=[1031,4.84813681109536e-9,9101,1,9102,.0174532925199433,9103,.0002908882086657216,9104,484813681109536e-20,9105,.01570796326794897,9106,.01570796326794897,9109,1e-6,9112,.0001570796326794897,9113,1570796326794897e-21,9114,.0009817477042468104],E=[1025,.001,109452,1033,.01,109451,9001,1,109404,9002,.3048,109405,9003,.3048006096012192,109406,9005,.3047972654,109407,9014,1.8288,109408,9030,1852,109409,9031,1.0000135965,109410,9033,20.11684023368047,109411,9034,.2011684023368047,109412,9035,1609.3472186944375,109413,9036,1e3,109414,9037,.9143917962000001,109415,9038,20.1166195164,109416,9039,.201166195164,109417,9040,.9143984146160287,109418,9041,.304799471538676,109419,9042,20.116765121552632,109420,9043,.2011676512155263,109421,9050,.9143992,109422,9051,.3047997333333333,109423,9052,20.1167824,109424,9053,.201167824,109425,9060,.9143992042898124,109426,9061,.3047997347632708,109427,9062,20.116782494375872,109428,9063,.2011678249437587,109429,9070,.3048008333333334,109430,9080,.3047995102481469,109431,9081,.30479841,109432,9082,.3047996,109433,9083,.3047995,109434,9084,.9143985307444408,109435,9085,.91439523,109436,9086,.9143988,109437,9087,.9143985,109438,9093,1609.344,109439,9094,.3047997101815088,109440,9095,.3048007491,109441,9096,.9144,109442,9097,20.1168,109444,9098,.201168,109445,9099,.914398,109446,9300,.3047993333333334,109447,9301,20.116756,109448,9302,.20116756,109449,109001,.9144,109442,109002,.9144018288036576,109443,109003,20.1168,109444,109004,.201168,109445,109005,.1,109450,109006,.01,109451,109007,.001,109452,109008,.0254,109453,109009,.0254000508001016,109454,109010,5.0292,109455,109011,5.029210058420118,109456,109012,1853.248,109457,109013,1853.184,109458,109014,1.7018,109459,109015,.8466683600033867,109462,109016,.0003527777777777778,109464,109017,1e-6,109465,109018,1e-9,109466,109030,5e4,109460,109031,15e4,109461],D=[],O=[],L=0;L<k.length;L+=2)D[k[L]]=new $(k[L],2,k[L+1]);for(k=null,L=0;L<T.length;L+=2)D[T[L]]=new $(T[L],1,T[L+1]);for(T=null,L=0;L<E.length;L+=3)D[E[L]]=new $(E[L],0,E[L+1]),O[E[L]]=E[L+2];E=null}(st||(st={})),function(B){var Be=function(){function $(){this.yb=this.pb=0}return $.prototype.set=function(k,T){void 0!==T?(this.pb=k,this.yb=T):"number"==typeof k?(this.pb=k,this.yb=0):(this.pb=k.pb,this.yb=k.yb)},$.prototype.value=function(){return this.pb},$.prototype.add=function(k){var T=this.pb+k.pb;k=this.yb+k.yb+2220446049250313e-31*Math.abs(T),this.pb=T,this.yb=k},$.prototype.cN=function(){var k=this.pb+1,T=this.yb+2220446049250313e-31*Math.abs(k);this.pb=k,this.yb=T},$.prototype.WM=function(k,T){this.pb=k.pb+T.pb,this.yb=k.yb+T.yb+2220446049250313e-31*Math.abs(this.pb)},$.prototype.sub=function(k){if("number"==typeof k){var T=this.pb-k;k=this.yb+2220446049250313e-31*Math.abs(T)}else T=this.pb-k.pb,k=this.yb+k.yb+2220446049250313e-31*Math.abs(T);this.pb=T,this.yb=k},$.prototype.Ag=function(k){var T=this.pb*k.pb;this.yb=this.yb*Math.abs(k.pb)+k.yb*Math.abs(this.pb)+this.yb*k.yb+2220446049250313e-31*Math.abs(T),this.pb=T},$.prototype.Oo=function(k){var T=this.pb*k;this.yb=this.yb*Math.abs(k)+2220446049250313e-31*Math.abs(T),this.pb=T},$.prototype.Ml=function(k,T){var E=Math.abs(k.pb)*Math.abs(T.pb);this.yb=k.yb*Math.abs(T.pb)+T.yb*Math.abs(k.pb)+k.yb*T.yb+2220446049250313e-31*Math.abs(E),this.pb=E},$.prototype.lm=function(k){var T=Math.abs(k.pb),E=this.pb/k.pb,D=(this.yb+Math.abs(E)*k.yb)/T;k.yb>.01*T&&(D*=1+(1+(k=k.yb/T))*k),this.pb=E,this.yb=D+2220446049250313e-31*Math.abs(E)},$.prototype.sqrt=function(){if(0<=this.pb){var k=Math.sqrt(this.pb),T=this.pb>10*this.yb?.5*this.yb/k:this.pb>this.yb?k-Math.sqrt(this.pb-this.yb):Math.max(k,Math.sqrt(this.pb+this.yb)-k);T+=2220446049250313e-31*Math.abs(k)}else this.pb<-1*this.yb?T=k=NaN:(k=0,T=Math.sqrt(this.yb));this.pb=k,this.yb=T},$.prototype.sin=function(k){var T=Math.sin(k.pb),E=Math.cos(k.pb);this.pb=T,T=Math.abs(T),this.yb=(Math.abs(E)+.5*T*k.yb)*k.yb+2220446049250313e-31*T},$.prototype.cos=function(k){var T=Math.sin(k.pb),E=Math.cos(k.pb);this.pb=E,E=Math.abs(E),this.yb=(Math.abs(T)+.5*E*k.yb)*k.yb+2220446049250313e-31*E},$.prototype.qg=function(){return Math.abs(this.pb)<=this.yb},$.prototype.qs=function(){return this.qg()&&0!=this.yb},$}();B.Xb=Be}(st||(st={}));var We=new st.h,fi=new st.h,Mi=new st.h,Ki=new st.h,yn=new st.h;(function(B){var Be,$;($=Be||(Be={}))[$.closedPath=1]="closedPath",$[$.exteriorPath=2]="exteriorPath",$[$.ringAreaValid=4]="ringAreaValid";var k=function(){function T(E,D,O,L,F,V,W){void 0!==D?(this.ib=E,this.ck=D,this.cl=O,this.ji=L,this.za=V,this.cA=W,this.fw=F):(this.ib=E.ib,this.ck=E.ck,this.cl=E.cl,this.ji=E.ji,this.za=E.za,this.cA=E.cA,this.fw=E.fw),this.UG=!0}return T.prototype.next=function(){return this.UG?(this.UG=!1,this.ji):-1!=this.ji?(this.ji=this.ib.V(this.ji),this.za++,-1!=this.ji&&this.ji!=this.fw?this.ji:this.QT()):-1},T.prototype.QT=function(){for(this.cl=this.ib.Sb(this.cl),this.za=0;-1!=this.ck;){for(;-1!=this.cl;this.cl=this.ib.Sb(this.cl))if(this.fw=this.ji=this.ib.Ya(this.cl),-1!=this.ji)return this.ji;if(this.ck=this.ib.ve(this.ck),-1==this.ck)break;this.cA&&!B.ba.Ic(this.ib.jc(this.ck))||(this.cl=this.ib.Ob(this.ck))}return-1},T.sP=function(E,D,O,L,F,V,W){return new T(E,D,O,L,F,V,W)},T}();B.nY=k,Be=function(){function T(){this.ko=this.Cm=this.wk=this.dd=this.Ck=this.wo=this.Pi=this.md=this.ci=this.Tg=this.Te=this.Kl=null,this.rw=this.ld=-1,this.gd=0,this.aA=!1,this.ht=this.it=this.wb=null}return T.prototype.Th=function(E){return null!=this.Te?this.Te[E]:null},T.prototype.Yg=function(E,D){if(null==this.Te){if(null==D)return;this.Te=[];for(var O=0,L=this.wb.I();O<L;O++)this.Te.push(null)}this.Te[E]=D},T.prototype.cp=function(E,D){this.md.T(E,1,D)},T.prototype.bp=function(E,D){this.md.T(E,2,D)},T.prototype.OB=function(E,D){this.md.T(E,6,D)},T.prototype.Up=function(E){return this.md.U(E,6)},T.prototype.fx=function(E,D){this.md.T(E,7,D)},T.prototype.rv=function(E){return this.md.U(E,0)},T.prototype.GJ=function(E,D){this.dd.T(E,1,D)},T.prototype.KJ=function(E,D){this.dd.T(E,0,D)},T.prototype.BF=function(E){return this.dd.U(E,7)},T.prototype.$o=function(E,D){this.dd.T(E,3,D)},T.prototype.ap=function(E,D){this.dd.T(E,4,D)},T.prototype.kU=function(E){null==this.dd&&(this.dd=new B.ad(8));var D=this.dd.De();return this.dd.T(D,2,E),this.dd.T(D,5,0),this.dd.T(D,6,0),this.dd.T(D,7,D),D},T.prototype.GQ=function(E){this.dd.kd(E)},T.prototype.mU=function(E){null==this.md&&(this.md=new B.ad(8),this.ud=new B.ad(5),this.Pi=new B.ce(0),this.wo=new B.ce(0));var D=this.md.De();return this.md.T(D,0,D),this.md.T(D,3,0),this.md.T(D,6,0),this.fx(D,E),D>=this.Pi.size&&(E=16>D?16:B.P.truncate(3*D/2),this.Pi.resize(E),this.wo.resize(E)),this.Pi.set(D,0),this.wo.set(D,0),D},T.prototype.kF=function(E){this.md.kd(E)},T.prototype.Qy=function(E){this.ud.kd(E),this.gd--},T.prototype.gI=function(E){null==this.md&&(this.md=new B.ad(8),this.ud=new B.ad(5),this.Pi=new B.ce(0),this.wo=new B.ce(0));var D=this.ud.De(),O=0<=E?E:D;if(this.ud.T(D,0,O),0>E){if(O>=this.wb.I()){if(E=16>O?16:B.P.truncate(3*O/2),this.wb.resize(E),null!=this.Te)for(var L=0;L<E;L++)this.Te.push(null);null!=this.Tg&&this.Tg.resize(E),this.it=this.wb.vb(0)}this.wb.Db(O,-1e38,-1e38),null!=this.Te&&(this.Te[O]=null),null!=this.Tg&&this.Tg.write(O,1)}return this.ud.T(D,4,2*O),this.gd++,D},T.prototype.xj=function(E,D,O){var L=-1!=D?this.Na(D):this.sj(E),F=-1!=L?this.V(L):-1,V=this.gI(null==O?this.gd:-1),W=this.Va(V);return null!=O&&this.wb.Ht(W,O),this.bj(V,E),this.Cc(V,F),this.Dc(V,L),-1!=F&&this.Dc(F,V),-1!=L&&this.Cc(L,V),O=this.ec(E),L=this.Ya(E),-1==D&&this.Xg(E,V),D==L&&this.Kf(E,V),O&&-1==F&&(this.Cc(V,V),this.Dc(V,V)),this.Wj(E,this.Ka(E)+1),E=this.Rf(E),this.Uj(E,this.I(E)+1),V},T.prototype.pm=function(){return null==this.ko&&(this.ko=new B.Ta(this.wb.description)),this.ko},T.prototype.Zo=function(E,D){this.dd.T(E,2,-134217729&this.dd.U(E,2)||(1==D?134217728:0))},T.prototype.Jn=function(E){return 0!=(134217728&this.dd.U(E,2))?1:0},T.prototype.$M=function(E){var D=this.Kg(E.K(),E.description);return 1736==E.K()&&this.Zo(D,E.Jn()),this.MD(D,E),D},T.prototype.aN=function(E){var D=this.Kg(E.K(),E.description);return this.ND(D,E),D},T.prototype.NV=function(E,D){null==this.md&&(this.md=new B.ad(8),this.ud=new B.ad(5),this.Pi=new B.ce(0),this.wo=new B.ce(0)),this.md.Ee(this.md.Jg+E),this.ud.Ee(this.ud.Jg+D),this.Pi.Jb(this.Pi.size+E),this.wo.Jb(this.wo.size+E)},T.prototype.MD=function(E,D){this.NV(D.ea(),D.I()),this.Kl.Gd(D,0,D.I()),this.it=this.wb.vb(0);for(var O=null!=this.Te&&null!=D.Se,L=0,F=D.ea();L<F;L++)if(!(2>D.Ka(L))){var V=this.wf(E,-1);this.mn(V,D.ec(L));for(var W=D.Ca(L),X=D.Wc(L);W<X;W++){var ie=this.xj(V,-1,null);if(O)if(ie=this.Va(ie),0!=(1&D.RF(W)))this.Yg(ie,null);else{var Y=new B.hg;D.cc(W,Y,!0),this.Yg(ie,Y.get())}}}},T.prototype.ND=function(E,D){this.Kl.Gd(D,0,D.I()),this.it=this.wb.vb(0),E=this.wf(E,-1);var O=0;for(D=D.I();O<D;O++)this.xj(E,-1,null)},T.prototype.BX=function(E,D,O){var L=this.V(E);if(-1==L)throw B.i.Ra();for(var F=this.pm(),V=this.cd(E),W=0,X=D.ql(O);W<X;W++){var ie=this.Va(E),Y=this.V(E),te=D.Xp(O,W);0==W&&(te.Uo(F),this.Eh(E,F)),322==te.K()?this.Yg(ie,null):this.Yg(ie,B.ba.ig(te)),te.Qo(F),W<X-1?E=this.xj(V,Y,F):this.Eh(L,F)}},T.prototype.AX=function(E,D,O){var L=this.V(E);if(-1==L)throw B.i.Ra();for(var F=this.pm(),V=this.cd(E),W=0,X=D.ql(O);W<X;W++){var ie=this.Va(E),Y=this.V(E),te=D.Xp(O,X-W-1);0==W&&(te.Qo(F),this.Eh(E,F)),322==te.K()?this.Yg(ie,null):this.Yg(ie,B.ba.ig(te)),te.Uo(F),W<X-1?E=this.xj(V,Y,F):this.Eh(L,F)}},T.prototype.AF=function(){var E=new B.l;E.Pa();for(var D=this.$q(),O=new B.h,L=!0,F=D.next();-1!=F;F=D.next())this.D(F,O),L?E.$b(O.x,O.y):E.Lk(O.x,O.y),L=!1;return E},T.prototype.Ib=function(E){var D=E.K();if(B.ba.Ic(D))return this.$M(E);if(550==D)return this.aN(E);throw B.i.Ra()},T.prototype.mN=function(E,D){var O=D.K();if(B.ba.Ic(O))this.MD(E,D);else{if(550!=O)throw B.i.Ra();this.ND(E,D)}},T.prototype.eN=function(E,D){var O=this.Kg(1736,E.description);if(2>E.Ka(D))return O;this.Kl.Gd(E,E.Ca(D),E.Wc(D)),this.it=this.wb.vb(0);var L=this.wf(O,-1);this.mn(L,E.ec(D)||!0);var F=null!=this.Te&&null!=E.Se,V=E.Ca(D);for(D=E.Wc(D);V<D;V++){var W=this.xj(L,-1,null);if(F)if(W=this.Va(W),0!=(1&E.RF(V)))this.Yg(W,null);else{var X=new B.hg;E.cc(V,X,!0),this.Yg(W,X.get())}}return O},T.prototype.Ke=function(E){var D=this.jc(E),O=B.RK.Kg(D,this.Kl.description),L=this.I(E);if(0==L)return O;if(B.ba.Ic(D)){D=this.ea(E);for(var F=B.Zc.Ph(D+1),V=B.Zc.Nr(D+1,0),W=O.description,X=0,ie=W.Ba;X<ie;X++){for(var Y=W.qd(X),te=B.ua.Wa(Y),ne=B.Zc.QE(Y,L),we=this.wb.vb(Y),ze=0,_t=0,Mt=0,pe=this.Ob(E);-1!=pe;pe=this.Sb(pe)){var Ge=0;this.ec(pe)&&(Ge|=1),this.OS(pe)&&(Ge|=4),0!=Ge&&V.rJ(_t,Ge);var it=this.Ka(pe);if(F.write(_t++,Mt),Mt+=it,0==Y){it=we;var ht=ne,mt=new B.h;for(Ge=this.Ya(pe);ze<Mt;Ge=this.V(Ge),ze++){var yt=this.Va(Ge);it.uc(2*yt,mt),ht.Ut(2*ze,mt)}}else for(Ge=this.Ya(pe);ze<Mt;Ge=this.V(Ge),ze++)for(yt=this.Va(Ge),ht=0;ht<te;ht++)mt=we.Bg(yt*te+ht),ne.rr(ze*te+ht,mt)}O.kn(Y,ne),F.write(D,L)}O.HJ(V),O.IJ(F),O.Qc(16777215)}else if(550==D){for(W=O.description,O.resize(L),X=0,ie=W.Ba;X<ie;X++){for(Y=W.qd(X),te=B.ua.Wa(Y),ne=O.vb(Y),we=this.wb.vb(Y),ze=0,pe=this.Ob(E),it=this.Ka(pe),Ge=this.Ya(pe);ze<it;Ge=this.V(Ge),ze++)for(yt=this.Va(Ge),ht=0;ht<te;ht++)mt=we.Bg(yt*te+ht),ne.rr(ze*te+ht,mt);O.kn(Y,ne)}O.Qc(16777215)}return O},T.prototype.vB=function(E){for(var D=this.Ob(E);-1!=D;D=this.ar(D));D=this.GR(E);var O=this.ve(E);-1!=D?this.GJ(D,O):this.ld=O,-1!=O?this.KJ(O,D):this.rw=D,this.GQ(E)},T.prototype.Kg=function(E,D){return this.SE(E,void 0===D?B.ee.og():D)},T.prototype.SE=function(E,D){return E=this.kU(E),null==this.wb?this.wb=this.Kl=new B.de(D):this.Kl.Ll(D),this.ht=this.Kl.description,this.aA=1<this.ht.Ba,-1==this.ld?this.ld=E:(this.KJ(E,this.rw),this.GJ(this.rw,E)),this.rw=E},T.prototype.ve=function(E){return this.dd.U(E,1)},T.prototype.GR=function(E){return this.dd.U(E,0)},T.prototype.jc=function(E){return 2147483647&this.dd.U(E,2)},T.prototype.zJ=function(E,D,O){D=this.wk[D],(E=this.BF(E))>=D.size&&D.resize(Math.max(B.P.truncate(1.25*E),16),-1),D.write(E,O)},T.prototype.CF=function(E,D){return(E=this.BF(E))<(D=this.wk[D]).size?D.read(E):-1},T.prototype.TE=function(){null==this.wk&&(this.wk=[]);for(var E=0;E<this.wk.length;E++)if(null==this.wk[E])return this.wk[E]=B.Zc.Ph(0),E;return this.wk.push(B.Zc.Ph(0)),this.wk.length-1},T.prototype.nW=function(E){this.wk[E]=null},T.prototype.Ob=function(E){return this.dd.U(E,3)},T.prototype.lv=function(E){return this.dd.U(E,4)},T.prototype.I=function(E){return this.dd.U(E,5)},T.prototype.ea=function(E){return this.dd.U(E,6)},T.prototype.Ip=function(E,D,O){for(var L=0,F=this.ld;-1!=F;F=this.ve(F)){var V=this.jc(F);if(B.ba.Ic(V)&&(!O||1736==V)){V=1736==this.jc(F);for(var W=this.Ob(F);-1!=W;){for(var X=0,ie=this.Ya(W);X<B.P.truncate(this.Ka(W)/2);){var Y=this.V(ie);if(-1==Y)break;var te=this.Va(ie),ne=this.Th(te);null!=ne?te=ne.Rb():(ne=this.Va(Y),te=this.wb.Ar(te,ne)),te<=E?(0==te?0==L&&(L=-1):L=1,Y!=this.sj(W)&&(this.eC(Y,ie),this.pd(Y,!0))):ie=this.V(ie),X++}for(X=this.Ya(W),ie=this.ec(W)?X:this.sj(W);0<this.Ka(W);){if(-1==(Y=this.Na(ie))){this.pd(ie,!0),0==L&&(L=-1);break}var we=this.Va(Y);if(null!=(ne=this.Th(we))?te=ne.Rb():(te=this.Va(ie),te=this.wb.Ar(te,we)),te<=E)0==te?0==L&&(L=-1):L=1,this.eC(Y,ie),this.pd(Y,!1),X==Y&&(X=this.Ya(W));else if((ie=this.Na(ie))==X)break}ie=this.Ka(W),D&&(V?3>ie:2>ie)?(W=this.ar(W),L=0<ie?1:0==L?-1:L):W=this.Sb(W)}}}return L},T.prototype.eC=function(E,D){var O=this.Va(E),L=this.Va(D);if(null!=this.Tg&&(O=this.Tg.read(O),this.Tg.write(L,O)),null!=this.ci)for(L=0,O=this.ci.length;L<O;L++)if(null!=this.ci[L]){var F=this.Qa(E,L);-1!=F&&this.Sa(D,L,F)}},T.prototype.Wl=function(E,D,O){var L=0,F=this.V(E);if(-1==F)throw B.i.Ra();for(var V=this.Va(E),W=this.Va(F),X=this.Th(V),ie=null==X?this.wb.Ar(V,W):X.Rb(),Y=0;Y<O;Y++){var te=D[Y];if(0<te&&1>te){var ne=te;null!=X&&(ne=0<ie?X.Sx(te)/ie:0),this.wb.cD(V,W,ne,this.pm());var we=this.xj(this.cd(E),F,this.pm());if(L++,null!=X){var ze=X.el(0,te);ne=this.Va(this.Na(we)),this.Yg(ne,ze),this.mf(we,ze.xc()),Y!=O-1&&1!=D[Y+1]||(te=X.el(te,1),this.Yg(ne,te))}}}return L},T.prototype.zX=function(E,D,O){var L=0,F=this.V(E);if(-1==F)throw B.i.ga("internal error");var V=this.Va(E),W=this.Va(F),X=this.Th(V),ie=null==X?this.wb.Ar(V,W):X.Rb(),Y=0;E=this.cd(E);for(var te=0;te<O;te++){var ne=D[te];if(Y<ne&&1>ne){var we=ne;if(null!=X&&(we=0<ie?X.Sx(ne)/ie:0),this.wb.cD(V,W,we,this.pm()),we=this.pS(E,F,this.pm()),L++,null!=X){Y=X.el(Y,ne);var ze=this.Va(this.Na(we));this.Yg(ze,Y),this.Db(we,Y.qa,Y.ma),te!=O-1&&1!=D[te+1]||(Y=X.el(ne,1),we=this.Va(we),this.Yg(we,Y))}}Y=ne}return L},T.prototype.pS=function(E,D,O){var L=-1!=D?this.Na(D):this.sj(E),F=-1!=L?this.V(L):-1,V=this.gI(null==O?this.gd:-1),W=this.Va(V);return null!=O&&this.wb.Ht(W,O),this.bj(V,E),this.Cc(V,F),this.Dc(V,L),-1!=F&&this.Dc(F,V),-1!=L&&this.Cc(L,V),O=this.ec(E),L=this.Ya(E),-1==D&&this.Xg(E,V),D==L&&(O&&-1!=L||this.Kf(E,V)),O&&-1==F&&(this.Cc(V,V),this.Dc(V,V)),this.Wj(E,this.Ka(E)+1),E=this.Rf(E),this.Uj(E,this.I(E)+1),V},T.prototype.mE=function(E,D,O){var L=this.Va(D),F=this.Va(O);if(0>L||F>this.gd-1)throw B.i.O("invalid call");if(L>F&&!this.ec(E))throw B.i.O("cannot iterate across an open path");for(E=0;D!=O;D=this.V(D))L=this.Va(D),null!=(F=this.Th(L))?E+=F.Rb():(F=this.Va(this.V(D)),E+=this.wb.Ar(L,F));return E},T.prototype.Eh=function(E,D){var O=this.Va(E);this.wb.Ht(O,D),null!=(O=this.Th(O))&&O.setStart(D),-1!=(E=this.Na(E))&&(E=this.Va(E),null!=this.Th(E)&&O.setEnd(D))},T.prototype.Wi=function(E,D){E=this.Va(E),this.wb.we(E,D)},T.prototype.mf=function(E,D){this.Db(E,D.x,D.y)},T.prototype.Db=function(E,D,O){var L=this.Va(E);this.wb.Db(L,D,O),null!=(L=this.Th(L))&&L.SB(D,O),-1!=(E=this.Na(E))&&(E=this.Va(E),null!=this.Th(E)&&L.Sl(D,O))},T.prototype.D=function(E,D){this.wb.D(this.ud.U(E,0),D)},T.prototype.Hc=function(E,D){this.wb.Aa[0].uc(2*this.ud.U(E,0),D)},T.prototype.Oa=function(E){var D=new B.h;return this.wb.D(this.ud.U(E,0),D),D},T.prototype.WF=function(E,D){this.it.uc(2*E,D)},T.prototype.Vc=function(E,D,O){return this.wb.Vc(E,this.Va(D),O)},T.prototype.setAttribute=function(E,D,O,L){this.wb.setAttribute(E,this.Va(D),O,L)},T.prototype.Va=function(E){return this.ud.U(E,0)},T.prototype.jh=function(){var E=new B.h;return this.D(void 0,E),E.y},T.prototype.hq=function(E,D){E=this.Va(E),D=this.Va(D);var O=this.wb.Aa[0].o;return O[2*E]===O[2*D]&&O[2*E+1]===O[2*D+1]},T.prototype.Ev=function(E,D){E=this.Va(E);var O=this.wb.Aa[0].o;return O[2*E]===D.x&&O[2*E+1]===D.y},T.prototype.jX=function(E,D){if(1>D&&(D=1),null==this.Tg){if(1==D)return;this.Tg=B.Zc.En(this.wb.I(),1)}(E=this.Va(E))>=this.Tg.size&&this.Tg.resize(E+1,1),this.Tg.write(E,D)},T.prototype.VF=function(E){return E=this.Va(E),null==this.Tg||E>=this.Tg.size?1:this.Tg.read(E)},T.prototype.Sa=function(E,D,O){D=this.ci[D],E=this.Va(E),D.size<this.wb.I()&&D.resize(this.wb.I(),-1),D.write(E,O)},T.prototype.Qa=function(E,D){return(E=this.Va(E))<(D=this.ci[D]).size?D.read(E):-1},T.prototype.Hd=function(){null==this.ci&&(this.ci=[]);for(var E=0;E<this.ci.length;E++)if(null==this.ci[E])return this.ci[E]=B.Zc.Ph(0,-1),E;return this.ci.push(B.Zc.Ph(0,-1)),this.ci.length-1},T.prototype.Ud=function(E){this.ci[E]=null},T.prototype.cc=function(E){return null!=this.Te?(E=this.Va(E),this.Te[E]):null},T.prototype.fd=function(E,D){var O=this.ud.U(E,2);if(-1==O)return!1;if(this.aA){var L=new B.Ta;this.Wi(E,L),D.setStart(L),this.Wi(O,L),D.setEnd(L)}else this.wb.Hc(this.ud.U(E,0),We),D.gm(0,We),this.wb.Hc(this.ud.U(O,0),We),D.gm(1,We);return!0},T.prototype.cW=function(E,D,O){if(this.aA){var L=new B.Ta;this.Wi(E,L),O.setStart(L),this.Wi(D,L),O.setEnd(L)}else this.wb.Hc(E,We),O.gm(0,We),this.wb.Hc(D,We),O.gm(1,We)},T.prototype.wf=function(E,D){if(-1!=D){if(E!=this.Rf(D))throw B.i.Ra();var O=this.ds(D)}else O=this.lv(E);var L=this.mU(E);return-1!=D&&this.cp(D,L),this.bp(L,D),this.cp(L,O),-1!=O?this.bp(O,L):this.$o(E,L),-1==D&&this.ap(E,L),this.Tl(E,this.ea(E)+1),L},T.prototype.fG=function(E,D,O,L){E=this.wf(E,-1);for(var F=0,V=D,W=!1;V==O&&(W=!0),this.bj(V,E),F++,(V=this.V(V))!=D;);return this.mn(E,!0),this.Wj(E,F),W&&(D=O),this.Kf(E,D),this.Xg(E,this.Na(D)),this.ep(E,!1),null!=L&&(L[0]=W),E},T.prototype.ar=function(E){var D=this.ds(E),O=this.Sb(E),L=this.Rf(E);return-1!=D?this.bp(D,O):this.$o(L,O),-1!=O?this.cp(O,D):this.ap(L,D),this.sO(E),this.Tl(L,this.ea(L)-1),this.kF(E),O},T.prototype.sO=function(E){var D=this.Ya(E);if(-1!=D){for(var O=0,L=this.Ka(E);O<L;O++){var F=D;D=this.V(D),this.Qy(F)}D=this.Rf(E),this.Uj(D,this.I(D)-this.Ka(E))}this.Wj(E,0)},T.prototype.Sb=function(E){return this.md.U(E,2)},T.prototype.ds=function(E){return this.md.U(E,1)},T.prototype.Ka=function(E){return this.md.U(E,3)},T.prototype.ec=function(E){return 0!=(1&this.Up(E))},T.prototype.mn=function(E,D){if(this.ec(E)!=D){if(0<this.Ka(E)){var O=this.Ya(E),L=this.sj(E);D?(this.Cc(L,O),this.Dc(O,L),O=this.Va(L)):(this.Cc(L,-1),this.Dc(O,-1),O=this.Va(L)),this.Yg(O,null)}this.OB(E,(1|this.Up(E))-1|(D?1:0))}},T.prototype.Rf=function(E){return this.md.U(E,7)},T.prototype.OS=function(E){return 0!=(2&this.Up(E))},T.prototype.JB=function(E,D){this.OB(E,(2|this.Up(E))-2|(D?2:0))},T.prototype.qz=function(E){if(this.TS(E))return this.Pi.get(this.rv(E));var D=new B.zb,O=this.Ya(E);if(-1==O)return 0;var L=new B.h;this.D(O,L);for(var F=0,V=0,W=this.Ka(E);V<W;V++,O=this.V(O)){var X=this.cc(O);if(null==X){if(!this.fd(O,D))continue;X=D}F+=X.Rx(L.x,L.y)}return this.ep(E,!0),this.Pi.set(this.rv(E),F),F},T.prototype.ir=function(E,D,O){D=this.Ck[D],E=this.rv(E),D.size<this.Pi.size&&D.resize(this.Pi.size,-1),D.write(E,O)},T.prototype.tj=function(E,D){return(E=this.rv(E))<(D=this.Ck[D]).size?D.read(E):-1},T.prototype.Ey=function(){null==this.Ck&&(this.Ck=[]);for(var E=0;E<this.Ck.length;E++)if(null==this.Ck[E])return this.Ck[E]=B.Zc.Ph(0),E;return this.Ck.push(B.Zc.Ph(0)),this.Ck.length-1},T.prototype.wB=function(E){this.Ck[E]=null},T.prototype.PT=function(E,D,O){if(-1==O)throw B.i.O();if(D!=O){var L=this.Sb(O),F=this.ds(O),V=this.Rf(O);-1==F?this.$o(V,L):this.bp(F,L),-1==L?this.ap(V,F):this.cp(L,F),this.Uj(V,this.I(V)-this.Ka(O)),this.Tl(V,this.ea(V)-1),F=-1==D?this.lv(E):this.ds(D),this.cp(O,F),this.bp(O,D),-1==D?this.ap(E,O):this.cp(D,O),-1==F?this.$o(E,O):this.bp(F,O),this.Uj(E,this.I(E)+this.Ka(O)),this.Tl(E,this.ea(E)+1),this.fx(O,E)}},T.prototype.jj=function(E,D){this.wb.we(this.Va(D),this.pm()),this.xj(E,-1,this.pm())},T.prototype.pd=function(E,D){var O=this.cd(E),L=this.Na(E),F=this.V(E);-1!=L&&this.Cc(L,F);var V=this.Ka(O);if(E==this.Ya(O)&&this.Kf(O,1<V?F:-1),-1!=F&&this.Dc(F,L),E==this.sj(O)&&this.Xg(O,1<V?L:-1),-1!=L&&-1!=F){L=this.Va(L);var W=this.Va(F);D?null!=(D=this.Th(L))&&(L=new B.h,this.wb.D(W,L),D.Rc(L)):(W=this.Va(E),D=this.Th(W),this.Yg(L,D),null!=D&&(L=this.wb.Oa(L),D.Ec(L)))}return this.Wj(O,V-1),O=this.Rf(O),this.Uj(O,this.I(O)-1),this.Qy(E),F},T.prototype.Ya=function(E){return this.md.U(E,4)},T.prototype.sj=function(E){return this.md.U(E,5)},T.prototype.V=function(E){return this.ud.U(E,2)},T.prototype.Na=function(E){return this.ud.U(E,1)},T.prototype.cd=function(E){return this.ud.U(E,3)},T.prototype.hc=function(E,D){return this.xj(E,-1,D)},T.prototype.$q=function(E){if(void 0===E)return this.$q(!1);if(E instanceof k)return new k(E);var D,O=-1,L=-1,F=-1,V=0,W=!1;for(D=this.ld;-1!=D;D=this.ve(D))if(!E||B.ba.Ic(this.jc(D))){for(O=this.Ob(D);-1!=O;O=this.Sb(O))if(F=L=this.Ya(O),V=0,-1!=L){W=!0;break}if(W)break}return k.sP(this,D,O,L,F,V,E)},T.prototype.Pc=function(E){if(this.Kl.Pc(E),null!=this.Te)for(var D=0,O=this.Te.length;D<O;D++)null!=this.Te[D]&&this.Te[D].Pc(E)},T.prototype.lr=function(E,D,O,L){L?this.BX(E,D,O):this.AX(E,D,O)},T.prototype.Dc=function(E,D){this.ud.T(E,1,D)},T.prototype.Cc=function(E,D){this.ud.T(E,2,D)},T.prototype.bj=function(E,D){this.ud.T(E,3,D)},T.prototype.Wj=function(E,D){this.md.T(E,3,D)},T.prototype.Kf=function(E,D){this.md.T(E,4,D)},T.prototype.Xg=function(E,D){this.md.T(E,5,D)},T.prototype.Tl=function(E,D){this.dd.T(E,6,D)},T.prototype.Uj=function(E,D){this.dd.T(E,5,D)},T.prototype.hJ=function(E){var D=E;do{var O=this.V(D);this.Cc(D,this.Na(D)),this.Dc(D,O),D=O}while(D!=E)},T.prototype.VB=function(E){this.gd=E},T.prototype.br=function(E){var D=this.ds(E),O=this.Sb(E),L=this.Rf(E);-1!=D?this.bp(D,O):this.$o(L,O),-1!=O?this.cp(O,D):this.ap(L,D),this.Kf(E,-1),this.Xg(E,-1),this.kF(E)},T.prototype.ni=function(E,D){var O=this.Na(E),L=this.V(E);if(-1!=O&&this.Cc(O,L),-1!=L&&this.Dc(L,O),-1!=O&&-1!=L)if(O=this.Va(O),L=this.Va(L),D){if(null!=(D=this.Th(O))){var F=new B.h;this.wb.D(L,F),D.Rc(F)}}else D=this.Va(E),D=this.Th(D),this.Yg(O,D),null!=D&&(F=new B.h,this.wb.D(O,F),D.Ec(F));this.Qy(E)},T.prototype.TS=function(E){return 0!=(4&this.Up(E))},T.prototype.ep=function(E,D){this.OB(E,(4|this.Up(E))-4|(D?4:0))},T.prototype.mx=function(E,D){var O=this.ud.o;this.wb.rc();var L=this.wb.Aa[0].o;E.Wd(0,D,function(F,V){var W=O[5*F];F=O[5*V],V=L[2*W];var X=L[2*F];return(W=L[2*W+1])<(F=L[2*F+1])?-1:W>F?1:V<X?-1:V>X?1:0})},T.prototype.aS=function(){for(var E=this.ld;-1!=E;E=this.ve(E))if(!B.ba.Ic(this.jc(E)))return!0;return!1},T.prototype.aC=function(E,D){for(var O=this.Ob(E),L=this.Ob(D),F=this.lv(E),V=this.lv(D),W=this.Ob(E);-1!=W;W=this.Sb(W))this.fx(W,D);for(W=this.Ob(D);-1!=W;W=this.Sb(W))this.fx(W,E);this.$o(E,L),this.$o(D,O),this.ap(E,V),this.ap(D,F),O=this.I(E),L=this.ea(E),F=this.ea(D),this.Uj(E,this.I(D)),this.Uj(D,O),this.Tl(E,F),this.Tl(D,L),O=this.dd.U(E,2),this.dd.T(E,2,this.dd.U(D,2)),this.dd.T(D,2,O)},T}(),B.hd=Be})(st||(st={})),function(B){var Be=function($){function k(T,E,D,O){var L=$.call(this)||this;return L.aa=new B.l,void 0===T?L.ME():"number"==typeof T?L.NO(T,E,D,O):T instanceof B.Ta?void 0!==E?L.Su(T,E,D):L.OO(T):T instanceof B.ua?void 0!==E?L.QO(T,E):L.PO(T):T instanceof B.l?L.MO(T):L.ME(),L}return pi(k,$),k.prototype.Su=function(T,E,D){this.description=B.ee.og(),this.aa.Pa(),T.B()||this.uu(T,E,D)},k.prototype.MO=function(T){this.description=B.ee.og(),this.aa.L(T),this.aa.normalize()},k.prototype.PO=function(T){if(null==T)throw B.i.O();this.description=T,this.aa.Pa()},k.prototype.QO=function(T,E){if(null==T)throw B.i.O();this.description=T,this.aa.L(E),this.aa.normalize()},k.prototype.ME=function(){this.description=B.ee.og(),this.aa.Pa()},k.prototype.OO=function(T){this.description=B.ee.og(),this.aa.Pa(),T.B()||this.uu(T)},k.prototype.NO=function(T,E,D,O){this.description=B.ee.og(),this.L(T,E,D,O)},k.prototype.L=function(T,E,D,O){if(this.wc(),"number"==typeof T)this.aa.L(T,E,D,O);else for(this.Pa(),E=0,D=T.length;E<D;E++)this.$b(T[E])},k.prototype.Yo=function(T){if(this.wc(),!T.WS())throw B.i.O();this.aa.L(T)},k.prototype.Pa=function(){this.wc(),this.aa.Pa()},k.prototype.B=function(){return this.aa.B()},k.prototype.S=function(){return this.aa.S()},k.prototype.da=function(){return this.aa.da()},k.prototype.gk=function(){return this.aa.gk()},k.prototype.Lp=function(){return this.aa.Lp()},k.prototype.Kp=function(){return this.aa.tf()},k.prototype.$b=function(T){if(T instanceof B.h)this.wc(),this.aa.$b(T);else if(T instanceof B.l)this.wc(),this.aa.$b(T);else if(T instanceof B.Ta){if(this.wc(),!T.Bc()){var E=T.description;if(this.description!=E&&this.Ll(E),this.B())this.uu(T);else{this.aa.$b(T.D());for(var D=1,O=E.Ba;D<O;D++)for(var L=E.Fd(D),F=B.ua.Wa(L),V=0;V<F;V++){var W=T.Vc(L,V),X=this.Ug(L,V);X.$b(W),this.setInterval(L,V,X)}}}}else if(T instanceof k&&!T.B())for((E=T.description)!=this.description&&this.Ll(E),this.aa.$b(T.aa),D=1,O=E.Ba;D<O;D++)for(L=E.qd(D),F=B.ua.Wa(L),V=0;V<F;V++)W=T.Ug(L,V),(X=this.Ug(L,V)).$b(W),this.setInterval(L,V,X)},k.prototype.uu=function(T,E,D){if(void 0!==E){this.aa.L(T.D(),E,D),D=1;for(var O=(E=T.description).Ba;D<O;D++)for(var L=E.Fd(D),F=B.ua.Wa(L),V=0;V<F;V++){var W=T.Vc(L,V);this.setInterval(L,V,W,W)}}else for(this.aa.L(T.la[0],T.la[1]),D=1,O=(E=T.description).Ba;D<O;D++)for(L=E.Fd(D),F=B.ua.Wa(L),V=0;V<F;V++)W=T.Vc(L,V),this.setInterval(L,V,W,W)},k.prototype.setInterval=function(T,E,D,O){if(D="number"==typeof D?new B.Oc(D,O):D,this.wc(),0==T)if(0==E)this.aa.v=D.pa,this.aa.C=D.wa;else{if(1!=E)throw B.i.re();this.aa.G=D.pa,this.aa.H=D.wa}else this.nD(0,T,E,D.pa),this.nD(1,T,E,D.wa)},k.prototype.X=function(T,E){this.wc(),this.aa.X(T,E)},k.prototype.Pc=function(T){if(T instanceof B.Ed)this.wc(),T.fC(this.aa);else if(this.wc(),!this.aa.B()){var E=new B.GK;this.Ro(E),E.NS()?E.Pa():T.fC(E)}},k.prototype.copyTo=function(T){if(T.K()!=this.K())throw B.i.O();if(T.wc(),T.description=this.description,T.aa.L(this.aa),T.la=null,null!=this.la){T.pu();for(var E=0;E<2*(this.description.Be.length-2);E++)T.la[E]=this.la[E]}},k.prototype.Ja=function(){return new k(this.description)},k.prototype.He=function(){return this.aa.oF()},k.prototype.Rb=function(){return this.aa.qR()},k.prototype.K=function(){return 197},k.prototype.Eb=function(){return 2},k.prototype.dn=function(T){this.copyTo(T)},k.prototype.A=function(T){T.v=this.aa.v,T.G=this.aa.G,T.C=this.aa.C,T.H=this.aa.H},k.prototype.Ro=function(T){T.v=this.aa.v,T.G=this.aa.G,T.C=this.aa.C,T.H=this.aa.H,T.L(this.aa.v,this.aa.G,this.Pd(0,1,0),this.aa.C,this.aa.H,this.Pd(1,1,0))},k.prototype.Ug=function(T,E){var D=new B.Oc;return D.L(this.Pd(0,T,E),this.Pd(1,T,E)),D},k.prototype.If=function(T,E){E.kg(this.description);var D=this.description.Ba-1;switch(T){case 0:for(T=0;T<D;T++)for(var O=this.description.qd(T),L=B.ua.Wa(O),F=0;F<L;F++)E.setAttribute(O,F,this.Pd(0,O,F));E.Db(this.aa.v,this.aa.G);break;case 1:for(T=0;T<D;T++)for(O=this.description.qd(T),L=B.ua.Wa(O),F=0;F<L;F++)E.setAttribute(O,F,this.Pd(1,O,F));E.Db(this.aa.v,this.aa.H);break;case 2:for(T=0;T<D;T++)for(O=this.description.qd(T),L=B.ua.Wa(O),F=0;F<L;F++)E.setAttribute(O,F,this.Pd(0,O,F));E.Db(this.aa.C,this.aa.H);break;case 3:for(T=0;T<D;T++)for(O=this.description.qd(T),L=B.ua.Wa(O),F=0;F<L;F++)E.setAttribute(O,F,this.Pd(1,O,F));E.Db(this.aa.C,this.aa.G);break;default:throw B.i.re()}},k.prototype.gB=function(T,E){T=this.aa.gB(T),E.na(T.x,T.y)},k.prototype.cR=function(T,E){return E*(T.Qq-2)},k.prototype.pF=function(T,E,D){if(this.aa.B())throw B.i.ga("empty geometry");if(0==E)return 0!=T?0!=D?this.aa.H:this.aa.C:0!=D?this.aa.G:this.aa.v;if(D>=B.ua.Wa(E))throw B.i.O();var O=this.description.Qf(E);return this.pu(),0<=O?this.la[this.cR(this.description,T)+this.description.CR(O)-2+D]:B.ua.te(E)},k.prototype.pu=function(){if(this.wc(),null==this.la&&2<this.description.Be.length){this.la=[];for(var T=k.Ig(this.description,0),E=k.Ig(this.description,1),D=0,O=1,L=this.description.Ba;O<L;O++){var F=this.description.qd(O),V=B.ua.Wa(F);F=B.ua.te(F);for(var W=0;W<V;W++)this.la[T+D]=F,this.la[E+D]=F,D++}}},k.prototype.un=function(T){if(null!=this.la)if(2<T.Be.length){for(var E=B.ee.Jw(T,this.description),D=[],O=k.Ig(this.description,0),L=k.Ig(this.description,1),F=k.Ig(T,0),V=k.Ig(T,1),W=0,X=1,ie=T.Ba;X<ie;X++){var Y=T.qd(X),te=B.ua.Wa(Y);if(-1==E[X]){var ne=B.ua.te(Y);for(Y=0;Y<te;Y++)D[F+W]=ne,D[V+W]=ne,W++}else for(ne=this.description.$j(E[X])-2,Y=0;Y<te;Y++)D[F+W]=this.la[O+ne],D[V+W]=this.la[L+ne],W++,ne++}this.la=D}else this.la=null;this.description=T},k.prototype.Pd=function(T,E,D){if(this.aa.B())throw B.i.ga("This operation was performed on an Empty Geometry.");if(0==E)return 0!=T?0!=D?this.aa.H:this.aa.C:0!=D?this.aa.G:this.aa.v;if(D>=B.ua.Wa(E))throw B.i.re();var O=this.description.Qf(E);return 0<=O?(this.pu(),this.la[k.Ig(this.description,T)+this.description.$j(O)-2+D]):B.ua.te(E)},k.prototype.nD=function(T,E,D,O){if(this.wc(),0==E)0!=T?0!=D?this.aa.H=O:this.aa.C=O:0!=D?this.aa.G=O:this.aa.v=O;else{if(D>=B.ua.Wa(E))throw B.i.re();if(!this.hasAttribute(E)){if(B.ua.vG(E,O))return;this.se(E)}E=this.description.Qf(E),this.pu(),this.la[k.Ig(this.description,T)+this.description.$j(E)-2+D]=O}},k.Ig=function(T,E){return E*(T.Be.length-2)},k.prototype.Fa=function(T){this.wc();var E=new B.l;return T.A(E),this.aa.Fa(E)},k.prototype.isIntersecting=function(T){return this.aa.isIntersecting(T instanceof B.l?T:T.aa)},k.prototype.Ku=function(T,E){this.wc(),T.B()?this.Pa():void 0!==E?this.uu(T,E,void 0):this.aa.Ku(T.Mg(),T.jh())},k.prototype.offset=function(T,E){this.wc(),this.aa.offset(T,E)},k.prototype.normalize=function(){this.wc(),this.aa.normalize()},k.prototype.tf=function(T){if(void 0===T){if(T=new B.Ta(this.description),this.B())return T;for(E=this.description.Ba,D=1;D<E;D++)for(O=this.description.Fd(D),L=B.ua.Wa(O),F=0;F<L;F++)V=.5*(this.Pd(0,O,F)+this.Pd(1,O,F)),T.setAttribute(O,F,V);return T.Db(this.aa.gk(),this.aa.Lp()),T}if(T.kg(this.description),this.B())T.Pa();else{for(var E=this.description.Ba,D=1;D<E;D++)for(var O=this.description.qd(D),L=B.ua.Wa(O),F=0;F<L;F++){var V=.5*(this.pF(0,O,F)+this.pF(1,O,F));T.setAttribute(O,F,V)}T.Db(this.aa.tf())}},k.prototype.hz=function(){return new B.Ta(this.aa.hz())},k.prototype.contains=function(T){return T instanceof B.Ta?!T.B()&&this.aa.contains(T.Mg(),T.jh()):this.aa.contains(T.aa)},k.prototype.WO=function(T){return this.aa.contains(T)},k.prototype.Nb=function(T){if(T==this)return!0;if(!(T instanceof k)||this.description!=T.description)return!1;if(this.B())return!!T.B();if(!this.aa.Nb(T.aa))return!1;for(var E=0,D=2*(this.description.Be.length-2);E<D;E++)if(this.la[E]!=T.la[E])return!1;return!0},k.prototype.dc=function(){var T=this.description.dc();if(T=B.P.Uh(T,this.aa.dc()),!this.B()&&null!=this.la)for(var E=0,D=2*(this.description.Be.length-2);E<D;E++)T=B.P.Uh(T,this.la[E]);return T},k.prototype.fs=function(){return this.aa.v},k.prototype.hs=function(){return this.aa.G},k.prototype.es=function(){return this.aa.C},k.prototype.gs=function(){return this.aa.H},k.prototype.mg=function(){return B.ri.im(this,null)},k.prototype.toString=function(){return this.B()?"Envelope: []":"Envelope: ["+this.aa.v+", "+this.aa.G+", "+this.aa.C+", "+this.aa.H+"]"},k}(B.ba);B.Gh=Be}(st||(st={})),function(B){var Be=function(){function $(k,T,E,D){void 0===k?this.Pa():(this.v=k,this.G=T,this.C=E,this.H=D)}return $.construct=function(k,T,E,D){var O=new $;return O.v=k,O.G=T,O.C=E,O.H=D,O},$.prototype.L=function(k,T,E,D){"number"==typeof k?void 0!==E?(this.v=k,this.G=T,this.C=E,this.H=D,this.normalize()):(this.v=k,this.G=T,this.C=k,this.H=T):k instanceof B.h?void 0!==T?(this.v=k.x-.5*T,this.C=this.v+T,this.G=k.y-.5*E,this.H=this.G+E,this.normalize()):(this.v=k.x,this.G=k.y,this.C=k.x,this.H=k.y):k instanceof $?this.L(k.v,k.G,k.C,k.H):k instanceof B.Oc&&(k.B()||T.B()?this.Pa():(this.v=k.pa,this.C=k.wa,this.G=T.pa,this.H=T.wa))},$.prototype.ax=function(k,T){if(void 0!==T)if(0==T)this.Pa();else{this.v=k[0].x,this.G=k[0].y,this.C=this.v,this.H=this.G;for(var E=1;E<T;E++){var D=k[E];D.x<this.v?this.v=D.x:D.x>this.C&&(this.C=D.x),D.y<this.G?this.G=D.y:D.y>this.H&&(this.H=D.y)}}else if(null==k||0==k.length)this.Pa();else for(this.L((D=k[0]).x,D.y),E=1;E<k.length;E++)this.Lk((T=k[E]).x,T.y)},$.prototype.Pa=function(){this.H=this.C=this.G=this.v=NaN},$.prototype.B=function(){return isNaN(this.v)},$.prototype.$b=function(k,T){"number"==typeof k?this.B()?(this.v=k,this.G=T,this.C=k,this.H=T):(this.v>k?this.v=k:this.C<k&&(this.C=k),this.G>T?this.G=T:this.H<T&&(this.H=T)):k instanceof B.h||k instanceof B.Od?this.$b(k.x,k.y):k instanceof $&&!k.B()&&(this.$b(k.v,k.G),this.$b(k.C,k.H))},$.prototype.Lk=function(k,T){this.v>k?this.v=k:this.C<k&&(this.C=k),this.G>T?this.G=T:this.H<T&&(this.H=T)},$.prototype.X=function(k,T){this.B()||(this.v-=k,this.C+=k,this.G-=T,this.H+=T,(this.v>this.C||this.G>this.H)&&this.Pa())},$.prototype.scale=function(k){0>k&&this.Pa(),this.B()||(this.v*=k,this.C*=k,this.G*=k,this.H*=k)},$.prototype.zoom=function(k,T){this.B()||this.L(this.tf(),k*this.S(),T*this.da())},$.prototype.isIntersecting=function(k){return!this.B()&&!k.B()&&(this.v<=k.v?this.C>=k.v:k.C>=this.v)&&(this.G<=k.G?this.H>=k.G:k.H>=this.G)},$.prototype.zG=function(k){return(this.v<=k.v?this.C>=k.v:k.C>=this.v)&&(this.G<=k.G?this.H>=k.G:k.H>=this.G)},$.prototype.Fa=function(k){return!this.B()&&!k.B()&&(k.v>this.v&&(this.v=k.v),k.C<this.C&&(this.C=k.C),k.G>this.G&&(this.G=k.G),k.H<this.H&&(this.H=k.H),(k=this.v<=this.C&&this.G<=this.H)||this.Pa(),k)},$.prototype.gB=function(k){switch(k){case 0:return B.h.construct(this.v,this.G);case 1:return B.h.construct(this.v,this.H);case 2:return B.h.construct(this.C,this.H);case 3:return B.h.construct(this.C,this.G);default:throw B.i.re()}},$.prototype.hB=function(k){if(null==k||4>k.length)throw B.i.O();null!=k[0]?k[0].na(this.v,this.G):k[0]=B.h.construct(this.v,this.G),null!=k[1]?k[1].na(this.v,this.H):k[1]=B.h.construct(this.v,this.H),null!=k[2]?k[2].na(this.C,this.H):k[2]=B.h.construct(this.C,this.H),null!=k[3]?k[3].na(this.C,this.G):k[3]=B.h.construct(this.C,this.G)},$.prototype.oF=function(){return this.B()?0:this.S()*this.da()},$.prototype.qR=function(){return this.B()?0:2*(this.S()+this.da())},$.prototype.gk=function(){return(this.C+this.v)/2},$.prototype.Lp=function(){return(this.H+this.G)/2},$.prototype.S=function(){return this.C-this.v},$.prototype.da=function(){return this.H-this.G},$.prototype.move=function(k,T){this.B()||(this.v+=k,this.G+=T,this.C+=k,this.H+=T)},$.prototype.Ku=function(k,T){if(void 0!==T)this.move(k-this.gk(),T-this.Lp());else if(k instanceof B.h)this.Ku(k.x,k.y);else{if(!(k instanceof B.Ta))throw B.i.O();T=(this.C-this.v)/2;var E=(this.H-this.G)/2;this.v=k.Mg()-T,this.C=k.Mg()+T,this.G=k.jh()-E,this.H=k.jh()+E}},$.prototype.offset=function(k,T){this.v+=k,this.C+=k,this.G+=T,this.H+=T},$.prototype.normalize=function(){if(!this.B()){var k=Math.min(this.v,this.C),T=Math.max(this.v,this.C);this.v=k,this.C=T,k=Math.min(this.G,this.H),T=Math.max(this.G,this.H),this.G=k,this.H=T}},$.prototype.fn=function(k){k.na(this.v,this.G)},$.prototype.SI=function(k){k.na(this.C,this.G)},$.prototype.VI=function(k){k.na(this.v,this.H)},$.prototype.gn=function(k){k.na(this.C,this.H)},$.prototype.WS=function(){return this.B()||this.v<=this.C&&this.G<=this.H},$.prototype.tf=function(){return B.h.construct((this.C+this.v)/2,(this.H+this.G)/2)},$.prototype.hz=function(){return B.h.construct(this.v,this.G)},$.prototype.contains=function(k,T){if(void 0!==T)return k>=this.v&&k<=this.C&&T>=this.G&&T<=this.H;if(k instanceof B.Ta)return this.contains(k.Mg(),k.jh());if(k instanceof B.h)return this.contains(k.x,k.y);if(k instanceof $)return k.v>=this.v&&k.C<=this.C&&k.G>=this.G&&k.H<=this.H;throw B.i.O()},$.prototype.jm=function(k,T){if(void 0!==T)return k>this.v&&k<this.C&&T>this.G&&T<this.H;if(k instanceof B.h)return this.jm(k.x,k.y);if(k instanceof $)return k.v>this.v&&k.C<this.C&&k.G>this.G&&k.H<this.H;throw B.i.O()},$.prototype.Nb=function(k){return k==this||k instanceof $&&(!(!this.B()||!k.B())||this.v==k.v&&this.G==k.G&&this.C==k.C&&this.H==k.H)},$.prototype.dc=function(){var k=this.v;k=B.P.truncate(k^k>>>32);var T=B.P.Uh(k);return k=B.P.truncate((k=this.C)^k>>>32),T=B.P.Uh(k,T),k=B.P.truncate((k=this.G)^k>>>32),T=B.P.Uh(k,T),k=B.P.truncate((k=this.H)^k>>>32),B.P.Uh(k,T)},$.prototype.zr=function(){return this.B()?2220446049250313e-29:2220446049250313e-29*(Math.abs(this.v)+Math.abs(this.C)+Math.abs(this.G)+Math.abs(this.H)+1)},$.prototype.ty=function(k,T){var E=this.Zj(k),D=this.Zj(T);if(0!=(E&D))return 0;if(0==(E|D))return 4;var O=(0!=E?1:0)|(0!=D?2:0);do{var L=T.x-k.x,F=T.y-k.y;if(L>F?0!=(E&$.QC)?(0!=(E&$.ku)?(k.y+=F*(this.v-k.x)/L,k.x=this.v):(k.y+=F*(this.C-k.x)/L,k.x=this.C),E=this.Zj(k)):0!=(D&$.QC)?(0!=(D&$.ku)?(T.y+=F*(this.v-T.x)/L,T.x=this.v):(T.y+=F*(this.C-T.x)/L,T.x=this.C),D=this.Zj(T)):0!=E?(0!=(E&$.lu)?(k.x+=L*(this.G-k.y)/F,k.y=this.G):(k.x+=L*(this.H-k.y)/F,k.y=this.H),E=this.Zj(k)):(0!=(D&$.lu)?(T.x+=L*(this.G-T.y)/F,T.y=this.G):(T.x+=L*(this.H-T.y)/F,T.y=this.H),D=this.Zj(T)):0!=(E&$.RC)?(0!=(E&$.lu)?(k.x+=L*(this.G-k.y)/F,k.y=this.G):(k.x+=L*(this.H-k.y)/F,k.y=this.H),E=this.Zj(k)):0!=(D&$.RC)?(0!=(D&$.lu)?(T.x+=L*(this.G-T.y)/F,T.y=this.G):(T.x+=L*(this.H-T.y)/F,T.y=this.H),D=this.Zj(T)):0!=E?(0!=(E&$.ku)?(k.y+=F*(this.v-k.x)/L,k.x=this.v):(k.y+=F*(this.C-k.x)/L,k.x=this.C),E=this.Zj(k)):(0!=(D&$.ku)?(T.y+=F*(this.v-T.x)/L,T.x=this.v):(T.y+=F*(this.C-T.x)/L,T.x=this.C),D=this.Zj(T)),0!=(E&D))return 0}while(0!=(E|D));return O},$.prototype.Zj=function(k){return(k.x<this.v?1:0)|(k.x>this.C?1:0)<<1|(k.y<this.G?1:0)<<2|(k.y>this.H?1:0)<<3},$.prototype.Ci=function(k){return!this.B()&&(this.S()<=k||this.da()<=k)},$.prototype.ub=function(k){return k instanceof B.h?Math.sqrt(this.aK(k)):Math.sqrt(this.ox(k))},$.prototype.ox=function(k){var T=0,E=0,D=this.v-k.C;return D>T&&(T=D),(D=this.G-k.H)>E&&(E=D),(D=k.v-this.C)>T&&(T=D),(D=k.G-this.H)>E&&(E=D),T*T+E*E},$.prototype.aK=function(k){var T=0,E=0,D=this.v-k.x;return D>T&&(T=D),(D=this.G-k.y)>E&&(E=D),(D=k.x-this.C)>T&&(T=D),(D=k.y-this.H)>E&&(E=D),T*T+E*E},$.prototype.en=function(k){this.B()?k.Pa():k.L(this.v,this.C)},$.ku=1,$.lu=4,$.QC=3,$.RC=12,$}();B.l=Be}(st||(st={})),function(B){var Be,$;($=Be||(Be={}))[$.initialize=0]="initialize",$[$.initializeRed=1]="initializeRed",$[$.initializeBlue=2]="initializeBlue",$[$.initializeRedBlue=3]="initializeRedBlue",$[$.sweep=4]="sweep",$[$.sweepBruteForce=5]="sweepBruteForce",$[$.sweepRedBlueBruteForce=6]="sweepRedBlueBruteForce",$[$.sweepRedBlue=7]="sweepRedBlue",$[$.sweepRed=8]="sweepRed",$[$.sweepBlue=9]="sweepBlue",$[$.iterate=10]="iterate",$[$.iterateRed=11]="iterateRed",$[$.iterateBlue=12]="iterateBlue",$[$.iterateBruteForce=13]="iterateBruteForce",$[$.iterateRedBlueBruteForce=14]="iterateRedBlueBruteForce",$[$.resetRed=15]="resetRed",$[$.resetBlue=16]="resetBlue";var k=function(){function T(E,D){this.di=E,this.WG=D}return T.prototype.qr=function(E,D,O){this.di.xX(O,E,D,this.WG)},T.prototype.bq=function(E){return this.di.Sr(E,this.WG)},T}();Be=function(){function T(){this.pw=this.po=this.ff=this.sd=null,this.yq=new B.l,this.Cm=this.Ij=this.Jj=this.Bd=this.Ff=this.Md=this.dw=this.ho=this.rd=this.Fb=null,this.Yb=-1,this.ra=0,this.Nk()}return T.prototype.mr=function(){this.Nk(),this.Qv=!0,null==this.Fb?(this.ho=new B.ja(0),this.Fb=[]):(this.ho.Ch(0),this.Fb.length=0)},T.prototype.bd=function(E,D){if(!this.Qv)throw B.i.Hb();var O=new B.l;O.L(D),this.ho.add(E),this.Fb.push(O)},T.prototype.Hp=function(){if(!this.Qv)throw B.i.Hb();this.Qv=!1,null!=this.Fb&&0<this.Fb.length&&(this.Yb=0,this.Jc=!1)},T.prototype.hK=function(){this.Nk(),this.Pv=!0,null==this.Fb?(this.ho=new B.ja(0),this.Fb=[]):(this.ho.Ch(0),this.Fb.length=0)},T.prototype.AD=function(E,D){if(!this.Pv)throw B.i.Hb();var O=new B.l;O.L(D),this.ho.add(E),this.Fb.push(O)},T.prototype.aF=function(){if(!this.Pv)throw B.i.Hb();this.Pv=!1,null!=this.Fb&&0<this.Fb.length&&null!=this.rd&&0<this.rd.length&&(-1==this.Yb||2==this.Yb?this.Yb=3:3!=this.Yb&&(this.Yb=1),this.Jc=!1)},T.prototype.gK=function(){this.Nk(),this.Ov=!0,null==this.rd?(this.dw=new B.ja(0),this.rd=[]):(this.dw.Ch(0),this.rd.length=0)},T.prototype.wD=function(E,D){if(!this.Ov)throw B.i.Hb();var O=new B.l;O.L(D),this.dw.add(E),this.rd.push(O)},T.prototype.$E=function(){if(!this.Ov)throw B.i.Hb();this.Ov=!1,null!=this.Fb&&0<this.Fb.length&&null!=this.rd&&0<this.rd.length&&(-1==this.Yb||1==this.Yb?this.Yb=3:3!=this.Yb&&(this.Yb=2),this.Jc=!1)},T.prototype.next=function(){if(this.Jc)return!1;for(var E=!0;E;)switch(this.Yb){case 0:E=this.Bz();break;case 1:E=this.iS();break;case 2:E=this.fS();break;case 3:E=this.hS();break;case 4:E=this.IX();break;case 5:E=this.EX();break;case 6:E=this.FX();break;case 7:E=this.GX();break;case 8:E=this.sx();break;case 9:E=this.bC();break;case 10:E=this.Pz();break;case 11:E=this.$S();break;case 12:E=this.XS();break;case 13:E=this.YS();break;case 14:E=this.ZS();break;case 15:E=this.cJ();break;case 16:E=this.bJ();break;default:throw B.i.Ra()}return!this.Jc},T.prototype.UB=function(E){this.ra=E},T.prototype.oz=function(E){return this.Fb[E]},T.prototype.Wy=function(E){return this.rd[E]},T.prototype.pl=function(E){return this.ho.read(E)},T.prototype.jl=function(E){return this.dw.read(E)},T.Oz=function(E){return 1==(1&E)},T.gq=function(E){return 0==(1&E)},T.prototype.Nk=function(){this.Qv=this.Ov=this.Pv=!1,this.Df=this.Ef=this.Sg=this.pe=-1,this.Jc=!0},T.prototype.Bz=function(){if(this.Bf=this.Wf=-1,10>this.Fb.length)return this.pe=this.Fb.length,this.Yb=5,!0;null==this.sd&&(this.sd=new B.ur(!0),this.po=this.sd.getIterator(),this.Md=new B.ja(0)),this.sd.mr();for(var E=0;E<this.Fb.length;E++){var D=this.Fb[E];this.sd.Dr(D.v,D.C)}for(this.sd.Hp(),this.Md.Jb(2*this.Fb.length),this.Md.resize(0),E=0;E<2*this.Fb.length;E++)this.Md.add(E);return this.Lt(this.Md,2*this.Fb.length,!0),this.pe=2*this.Fb.length,this.Yb=4,!0},T.prototype.iS=function(){if(this.Bf=this.Wf=-1,10>this.Fb.length||10>this.rd.length)return this.pe=this.Fb.length,this.Yb=6,!0;null==this.sd&&(this.sd=new B.ur(!0),this.po=this.sd.getIterator(),this.Md=new B.ja(0)),this.sd.mr();for(var E=0;E<this.Fb.length;E++){var D=this.Fb[E];this.sd.Dr(D.v,D.C)}for(this.sd.Hp(),this.Md.Jb(2*this.Fb.length),this.Md.resize(0),E=0;E<2*this.Fb.length;E++)this.Md.add(E);return this.Lt(this.Md,this.Md.size,!0),this.pe=this.Md.size,-1!=this.Ef&&(this.Bd.dh(this.Ef),this.Jj.resize(0),this.Ef=-1),this.Yb=7,this.bJ()},T.prototype.fS=function(){if(this.Bf=this.Wf=-1,10>this.Fb.length||10>this.rd.length)return this.pe=this.Fb.length,this.Yb=6,!0;null==this.ff&&(this.ff=new B.ur(!0),this.pw=this.ff.getIterator(),this.Ff=new B.ja(0)),this.ff.mr();for(var E=0;E<this.rd.length;E++){var D=this.rd[E];this.ff.Dr(D.v,D.C)}for(this.ff.Hp(),this.Ff.Jb(2*this.rd.length),this.Ff.resize(0),E=0;E<2*this.rd.length;E++)this.Ff.add(E);return this.Lt(this.Ff,this.Ff.size,!1),this.Sg=this.Ff.size,-1!=this.Df&&(this.Bd.dh(this.Df),this.Ij.resize(0),this.Df=-1),this.Yb=7,this.cJ()},T.prototype.hS=function(){if(this.Bf=this.Wf=-1,10>this.Fb.length||10>this.rd.length)return this.pe=this.Fb.length,this.Yb=6,!0;null==this.sd&&(this.sd=new B.ur(!0),this.po=this.sd.getIterator(),this.Md=new B.ja(0)),null==this.ff&&(this.ff=new B.ur(!0),this.pw=this.ff.getIterator(),this.Ff=new B.ja(0)),this.sd.mr();for(var E=0;E<this.Fb.length;E++){var D=this.Fb[E];this.sd.Dr(D.v,D.C)}for(this.sd.Hp(),this.ff.mr(),E=0;E<this.rd.length;E++)this.ff.Dr((D=this.rd[E]).v,D.C);for(this.ff.Hp(),this.Md.Jb(2*this.Fb.length),this.Ff.Jb(2*this.rd.length),this.Md.resize(0),this.Ff.resize(0),E=0;E<2*this.Fb.length;E++)this.Md.add(E);for(E=0;E<2*this.rd.length;E++)this.Ff.add(E);return this.Lt(this.Md,this.Md.size,!0),this.Lt(this.Ff,this.Ff.size,!1),this.pe=this.Md.size,this.Sg=this.Ff.size,-1!=this.Ef&&(this.Bd.dh(this.Ef),this.Jj.resize(0),this.Ef=-1),-1!=this.Df&&(this.Bd.dh(this.Df),this.Ij.resize(0),this.Df=-1),this.Yb=7,!0},T.prototype.IX=function(){var E=this.Md.get(--this.pe),D=E>>1;return T.gq(E)?(this.sd.remove(D),0!=this.pe||(this.Bf=this.Wf=-1,this.Jc=!0,!1)):(this.po.yB(this.Fb[D].v,this.Fb[D].C,this.ra),this.Wf=D,this.Yb=10,!0)},T.prototype.EX=function(){return-1==--this.pe?(this.Bf=this.Wf=-1,this.Jc=!0,!1):(this.Sg=this.Wf=this.pe,this.Yb=13,!0)},T.prototype.FX=function(){return-1==--this.pe?(this.Bf=this.Wf=-1,this.Jc=!0,!1):(this.Wf=this.pe,this.Sg=this.rd.length,this.Yb=14,!0)},T.prototype.GX=function(){var E=this.Md.get(this.pe-1),D=this.Ff.get(this.Sg-1),O=this.Sr(E,!0),L=this.Sr(D,!1);return O>L?this.sx():O<L?this.bC():T.Oz(E)?this.sx():T.Oz(D)?this.bC():this.sx()},T.prototype.sx=function(){var E=this.Md.get(--this.pe),D=E>>1;if(T.gq(E))return-1!=this.Ef&&-1!=this.Jj.get(D)?(this.Bd.kd(this.Ef,this.Jj.get(D)),this.Jj.set(D,-1)):this.sd.remove(D),0!=this.pe||(this.Bf=this.Wf=-1,this.Jc=!0,!1);if(-1!=this.Df&&0<this.Bd.cs(this.Df))for(E=this.Bd.sc(this.Df);-1!=E;){var O=this.Bd.getData(E);this.ff.wj(O),this.Ij.set(O,-1),O=this.Bd.lb(E),this.Bd.kd(this.Df,E),E=O}return 0<this.ff.size()?(this.pw.yB(this.Fb[D].v,this.Fb[D].C,this.ra),this.Wf=D,this.Yb=12):(-1==this.Ef&&(null==this.Bd&&(this.Bd=new B.kp),this.Jj=new B.ja(0),this.Jj.resize(this.Fb.length,-1),this.Jj.Xj(-1,0,this.Fb.length),this.Ef=this.Bd.Qh(1)),this.Jj.set(D,this.Bd.addElement(this.Ef,D)),this.Yb=7),!0},T.prototype.bC=function(){var E=this.Ff.get(--this.Sg),D=E>>1;if(T.gq(E))return-1!=this.Df&&-1!=this.Ij.get(D)?(this.Bd.kd(this.Df,this.Ij.get(D)),this.Ij.set(D,-1)):this.ff.remove(D),0!=this.Sg||(this.Bf=this.Wf=-1,this.Jc=!0,!1);if(-1!=this.Ef&&0<this.Bd.cs(this.Ef))for(E=this.Bd.sc(this.Ef);-1!=E;){var O=this.Bd.getData(E);this.sd.wj(O),this.Jj.set(O,-1),O=this.Bd.lb(E),this.Bd.kd(this.Ef,E),E=O}return 0<this.sd.size()?(this.po.yB(this.rd[D].v,this.rd[D].C,this.ra),this.Bf=D,this.Yb=11):(-1==this.Df&&(null==this.Bd&&(this.Bd=new B.kp),this.Ij=new B.ja(0),this.Ij.resize(this.rd.length,-1),this.Ij.Xj(-1,0,this.rd.length),this.Df=this.Bd.Qh(0)),this.Ij.set(D,this.Bd.addElement(this.Df,D)),this.Yb=7),!0},T.prototype.Pz=function(){if(this.Bf=this.po.next(),-1!=this.Bf)return!1;var E=this.Md.get(this.pe)>>1;return this.sd.wj(E),this.Yb=4,!0},T.prototype.$S=function(){if(this.Wf=this.po.next(),-1!=this.Wf)return!1;this.Bf=this.Wf=-1;var E=this.Ff.get(this.Sg)>>1;return this.ff.wj(E),this.Yb=7,!0},T.prototype.XS=function(){if(this.Bf=this.pw.next(),-1!=this.Bf)return!1;var E=this.Md.get(this.pe)>>1;return this.sd.wj(E),this.Yb=7,!0},T.prototype.YS=function(){if(-1==--this.Sg)return this.Yb=5,!0;this.yq.L(this.Fb[this.pe]);var E=this.Fb[this.Sg];return this.yq.X(this.ra,this.ra),!this.yq.isIntersecting(E)||(this.Bf=this.Sg,!1)},T.prototype.ZS=function(){if(-1==--this.Sg)return this.Yb=6,!0;this.yq.L(this.Fb[this.pe]);var E=this.rd[this.Sg];return this.yq.X(this.ra,this.ra),!this.yq.isIntersecting(E)||(this.Bf=this.Sg,!1)},T.prototype.cJ=function(){return null==this.sd?(this.Jc=!0,!1):(this.pe=this.Md.size,0<this.sd.size()&&this.sd.reset(),-1!=this.Ef&&(this.Bd.dh(this.Ef),this.Jj.resize(0),this.Ef=-1),this.Jc=!1,!0)},T.prototype.bJ=function(){return null==this.ff?(this.Jc=!0,!1):(this.Sg=this.Ff.size,0<this.ff.size()&&this.ff.reset(),-1!=this.Df&&(this.Bd.dh(this.Df),this.Ij.resize(0),this.Df=-1),this.Jc=!1,!0)},T.prototype.Lt=function(E,D,O){null==this.Cm&&(this.Cm=new B.Yt),O=new k(this,O),this.Cm.sort(E,0,D,O)},T.prototype.xX=function(E,D,O,L){var F=this;E.Wd(D,O,function(V,W){var X=F.Sr(V,L),ie=F.Sr(W,L);return X<ie||X==ie&&T.gq(V)&&T.Oz(W)?-1:1})},T.prototype.Sr=function(E,D){var O=.5*this.ra;return D?(D=this.Fb[E>>1],T.gq(E)?D.G-O:D.H+O):(D=this.rd[E>>1],T.gq(E)?D.G-O:D.H+O)},T}(),B.qC=Be}(st||(st={})),function(B){var Be=function(){function $(){}return $.construct=function(k,T,E,D,O,L){var F=new $;return F.v=k,F.G=T,F.Xe=E,F.C=D,F.H=O,F.Dg=L,F},$.prototype.Pa=function(){this.Xe=this.v=NaN},$.prototype.B=function(){return isNaN(this.v)},$.prototype.NS=function(){return isNaN(this.Xe)},$.prototype.L=function(k,T,E,D,O,L){void 0!==D?"number"==typeof k?(this.v=k,this.G=T,this.Xe=E,this.C=D,this.H=O,this.Dg=L):(this.v=k.x-.5*T,this.C=this.v+T,this.G=k.y-.5*E,this.H=this.G+E,this.Xe=k.z-.5*D,this.Dg=this.Xe+D):(this.v=k,this.G=T,this.Xe=E,this.C=k,this.H=T,this.Dg=E)},$.prototype.move=function(k){this.v+=k.x,this.G+=k.y,this.Xe+=k.z,this.C+=k.x,this.H+=k.y,this.Dg+=k.z},$.prototype.copyTo=function(k){k.v=this.v,k.G=this.G,k.C=this.C,k.H=this.H},$.prototype.Lk=function(k,T,E){this.v>k?this.v=k:this.C<k&&(this.C=k),this.G>T?this.G=T:this.H<T&&(this.H=T),0==isNaN(this.Xe)?this.Xe>E?this.Xe=E:this.Dg<E&&(this.Dg=E):this.Dg=this.Xe=E},$.prototype.$b=function(k,T,E){if("number"==typeof k)this.B()?(this.v=k,this.G=T,this.Xe=E,this.C=k,this.H=T,this.Dg=E):this.Lk(k,T,E);else if(k instanceof B.Od)this.$b(k.x,k.y,k.z);else{if(!(k instanceof $))throw B.i.O();k.B()||(this.$b(k.v,k.G,k.Xe),this.$b(k.C,k.H,k.Dg))}},$.prototype.construct=function(k,T,E){k.B()||T.B()?this.Pa():(this.v=k.pa,this.C=k.wa,this.G=T.pa,this.H=T.wa,this.Xe=E.pa,this.Dg=E.wa)},$.prototype.hB=function(k){if(null==k||8>k.length)throw B.i.O();k[0]=new B.Od(this.v,this.G,this.Xe),k[1]=new B.Od(this.v,this.H,this.Xe),k[2]=new B.Od(this.C,this.H,this.Xe),k[3]=new B.Od(this.C,this.G,this.Xe),k[4]=new B.Od(this.v,this.G,this.Dg),k[5]=new B.Od(this.v,this.H,this.Dg),k[6]=new B.Od(this.C,this.H,this.Dg),k[7]=new B.Od(this.C,this.G,this.Dg)},$.prototype.ax=function(k){if(null==k||0==k.length)this.Pa();else{var T=k[0];for(this.L(T.x,T.y,T.z),T=1;T<k.length;T++){var E=k[T];this.Lk(E.x,E.y,E.z)}}},$}();B.GK=Be}(st||(st={})),function(B){!function(Be){Be.Ra=function(){var $=Error();return $.message="Internal Error",$},Be.Fe=function(){var $=Error();return $.message="Not Implemented",$},Be.Yk=function(){var $=Error();return $.message="The input unit and the spatial reference unit are not of the same unit type.ie Linear vs.Angular",$},Be.Hb=function(){var $=Error();return $.message="Invalid Call",$},Be.O=function($){var k=Error();return k.message="Illegal Argument Exception",void 0!==$&&(k.message+=": "+$),k},Be.gu=function($){var k=Error();return k.message=void 0!==$?"Runtime Exception: "+$:"Runtime Exception.",k},Be.ga=function($){var k=Error();return k.message="Geometry Exception: "+$,k},Be.yK=function(){var $=Error();return $.message="Assert Failed Exception",$},Be.re=function(){var $=Error();return $.message="IndexOutOfBoundsException",$},Be.OC=function(){var $=Error();return $.message="UserCancelException",$}}(B.i||(B.i={}))}(st||(st={})),function(B){(B=B.dm||(B.dm={}))[B.forward=0]="forward",B[B.reverse=1]="reverse"}(st||(st={})),function(B){var Be=function(){function T(E,D){this.Xa=E,this.xH=D,this.DH=-1,this.ul=!1}return T.prototype.qe=function(){},T.prototype.next=function(){if(++this.DH==this.xH.I())return null;var E=this.xH.Oa(this.DH);E.scale(this.Xa.fc);var D=new B.Ea;return this.Xa.my(E,this.ul,D),D},T.prototype.Ma=function(){return 0},T}(),$=function(){function T(E,D,O){this.Xa=E,this.sw=D,this.Yn=!1,this.eo=O,this.cw=[0],this.sk=[0],this.Oj=[0],this.Hs=[0],this.ul=!1,this.sq=new B.Ea,this.uk=[]}return T.prototype.qe=function(){},T.prototype.next=function(){if(this.Yn){this.Yn=!1,this.td.ia();var E=B.ba.ig(this.sq);return B.Hg.Mk(E,this.Xa.Cq,!0,!0,this.Xa.Vb)}if(null==this.td&&(this.td=this.sw.Ha(),this.td.ab(),null!=this.eo&&this.eo.Zk(null,0)),!this.td.Ia()){if(!this.td.ab())return null;null!=this.eo&&this.eo.Zk(null,0)}E=null,this.sk[0]=0,this.zA=this.cw[0]=0,this.ei=NaN,this.Yn=!1;for(var D=this.uk.length=0,O=new B.h,L=new B.h,F=[0];this.td.Ia()&&8>this.zA;){var V=this.td.ia();if(O.N(V.ac()),L.N(V.xc()),O.scale(this.Xa.fc),L.scale(this.Xa.fc),B.dj.Ou(O,L)?O.x=L.x:B.dj.Mu(O,L)&&(L.x=O.x),this.uk.length=0,B.dj.lF(this.Xa.Ub,this.Xa.lc,this.Xa.Ae,O,L,this.Xa.KA,this.Xa.$s,F,this.Oj,this.Hs,this.uk,this.cw),null!=this.eo&&(V=this.uk.slice(0),this.eo.iG(this.eo.ea()-1,V,V.length-1)),B.dj.Nu(O,L)?(this.sq.Pa(),this.Xa.my(O,this.ul,this.sq),this.Yn=!0):(this.sq.Pa(),this.Yn=this.ry(F[0],this.sq)),this.Yn){if(this.td.mi(),this.td.zz()){this.td.mi(),this.td.ia();break}this.td.sW();break}null==E&&(E=new B.Ea).Zk(null,0),this.FD(E),D++}if(this.cw[0]=0,0<D){for(F=this.td.xb();0<D;)this.td.mi(),O.N(this.sw.Oa(this.td.xb())),L.N(this.sw.Oa(this.td.ik())),O.scale(this.Xa.fc),L.scale(this.Xa.fc),this.ul&&(B.dj.Ou(O,L)?O.x=L.x:B.dj.Mu(O,L)&&(L.x=O.x)),this.uk.length=0,B.dj.lF(this.Xa.Ub,this.Xa.lc,this.Xa.Ae,L,O,this.Xa.KA,this.Xa.$s,null,this.Oj,this.Hs,this.uk,this.cw),this.FD(E),D--;return O.N(this.sw.Oa(this.td.xb())),O.scale(this.Xa.fc),k.Jr(this.Xa.Ub,this.Xa.lc,this.Xa.fc,this.Xa.sb,O,this.ei+1.570796326794897,this.ei+4.71238898038469,this.Xa.bo,this.ul,this.sk,E,NaN,NaN),this.td.Wb(F),this.td.ia(),D=B.ta.lj(null,E,!0),B.Hg.Mk(E,D,!0,!0,this.Xa.Vb)}return this.Yn=!1,this.td.ia(),E=B.ba.ig(this.sq),B.Hg.Mk(E,this.Xa.Cq,!0,!0,this.Xa.Vb)},T.prototype.FD=function(E){var D=this.uk[0],O=this.Oj[0]-1.570796326794897,L=this.Hs[0]+1.570796326794897;if(!isNaN(this.ei)){if(this.ei>=this.Oj[0]){var F=this.ei+1.570796326794897;O=F+3.141592653589793-(this.ei-this.Oj[0])}else O=(F=this.ei+1.570796326794897)+3.141592653589793-(6.283185307179586-(this.Oj[0]-this.ei));var V=!(this.ei>=this.Oj[0]&&3.141592653589793>=this.ei-this.Oj[0]||this.ei<this.Oj[0]&&3.141592653589793<=this.Oj[0]-this.ei),W=!1;if(Math.abs(O-F)<=.5*this.Xa.bo)if(V){var X=E.Oa(E.I()-2);X.scale(this.Xa.fc);var ie=new B.ha(0);for(B.kb.Sy(this.Xa.Ub,this.Xa.lc,D.x,D.y,X.x,X.y,ie),X=ie.u;X<=F;)X+=6.283185307179586;for(;X>F;)X-=6.283185307179586;X<O&&(W=!0)}else W=!0;W?(E.xB(0,E.I()-1),this.ul||((D=new B.h).N(E.Oa(E.I()-1)),D.scale(this.Xa.fc),-3.141592653589793>D.x-this.sk[0]?this.sk[0]-=6.283185307179586:3.141592653589793<D.x-this.sk[0]&&(this.sk[0]+=6.283185307179586)),V||(O=.5*(O+F))):(V?((F=new B.h).N(D),F.scale(1/this.Xa.fc),E.xf(0,-1,F)):k.Jr(this.Xa.Ub,this.Xa.lc,this.Xa.fc,this.Xa.sb,this.uk[0],F,O,this.Xa.bo,this.ul,this.sk,E,NaN,NaN),this.zA+=1)}k.ly(this.Xa.Ub,this.Xa.lc,this.Xa.fc,this.Xa.sb,this.Xa.Ae,this.uk,O,L,this.ul,this.sk,E),this.ei=this.Hs[0]},T.prototype.ry=function(E,D){return this.Xa.ry(this.uk,E,this.Oj[0],this.Hs[0],this.ul,D)},T.prototype.Ma=function(){return 0},T}(),k=function(){function T(){}return T.buffer=function(E,D,O,L,F,V){if(null==E)throw B.i.O("Geometry::Geodesic_bufferer::buffer");if(E.B())return new B.Ea(E.description);var W=new T;W.Rg=D,W.Kc=B.cb.tc(D);var X=B.cb.wv(W.Kc);if(W.Vb=V,W.Ub=B.cb.fv(W.Kc),W.lc=X*(2-X),W.fc=W.Kc.Id().bi,W.ra=W.Rg.Ln(),W.Cq=W.Kc.Ln(),W.$s=W.Cq*W.fc,W.Bq=1.570796326794897/W.fc,W.DY=3.141592653589793/W.fc,W.Ks=6.283185307179586/W.fc,W.EY=W.Ks/6,W.FA=0,W.CY=1.5707963267948966*W.Ub/W.FA,4==O?(W.Ae=2,W.Xv=!0):(W.Ae=O,W.Xv=!1),W.La=L,W.sb=Math.abs(L),isNaN(F)||.001>F?W.lX():W.ao=F,O=E.K(),B.ba.zd(O)?((O=new B.Ua(E.description)).oc(E,!0),E=O,O=1607):197==O&&(O=new B.l,E.A(O),O.S()<=W.ra||O.da()<=W.ra?((O=new B.Ua(E.description)).bd(E,!1),E=O,O=1607):((O=new B.Ea(E.description)).bd(E,!1),E=O,O=1736)),W.mX(),B.ba.Sn(O)||W.nX(),W.sb<=.5*W.ao)return 1736!=O?new B.Ea(E.description):W.Xv?E:B.dj.Rr(E,W.Rg,W.Ae,W.KA,-1,V);if(0>W.La&&1736!=O)return new B.Ea(E.description);if(W.Xv&&B.ba.Ic(O)?(D=B.dj.Rr(E,D,4,NaN,W.ao,V),E=B.cb.Ah(D,W.Rg,W.Kc)):E=B.cb.Ah(E,W.Rg,W.Kc),(E=B.Ih.mj(E,W.Kc)).B())return new B.Ea(E.description);switch(!W.Xv&&B.ba.Ic(O)&&(E=B.dj.hI(W.fc,E)),E=T.yX(E,W.Kc),O){case 1736:D=W.MN(E);break;case 1607:D=W.NN(E);break;case 550:D=W.KN(E);break;case 33:D=W.LN(E);break;default:throw B.i.ga("corrupted_geometry")}return(W=B.cb.Ah(D,W.Kc,W.Rg)).Ll(E.description),W},T.prototype.MN=function(E){var D=new B.Ea;E=new $(this,E,D),E=B.Hh.local().W(E,this.Kc,this.Vb).next(),E=B.jp.oj(E,this.Kc,2);var O=new B.Ed;return O.scale(1/this.fc,1/this.fc),D.Pc(O),D=B.jp.oj(D,this.Kc,2),0<=this.La?B.Hh.local().W(D,E,this.Kc,this.Vb):B.lp.local().W(D,E,this.Kc,this.Vb)},T.prototype.NN=function(E){return E=new $(this,E,null),E=B.Hh.local().W(E,this.Kc,this.Vb).next(),B.jp.oj(E,this.Kc,2)},T.prototype.KN=function(E){return E=new Be(this,E),E=B.Hh.local().W(E,this.Kc,this.Vb).next(),B.jp.oj(E,this.Kc,2)},T.prototype.LN=function(E){(E=E.D()).scale(this.fc);var D=new B.Ea;return this.my(E,!1,D),B.jp.oj(D,this.Kc,2)},T.prototype.ry=function(E,D,O,L,F,V){var W=E[0],X=E[E.length-1],ie=W.y>X.y?W.y:X.y,Y=B.F.q(this.Ub,this.lc,W.y<X.y?W.y:X.y);if(ie=B.F.q(this.Ub,this.lc,ie),.001<this.FA-(Y+D+this.sb)&&.001<this.FA+(ie-D-this.sb))return!1;Y=(D=O-1.570796326794897)-3.141592653589793,ie=D+3.141592653589793;var te=(O=L+1.570796326794897)+3.141592653589793,ne=[NaN],we=[NaN],ze=[NaN],_t=[NaN];if(L=!1,T.WI(this.Ub,this.lc,this.sb,W,D,Y,X,O,ne,we),T.WI(this.Ub,this.lc,this.sb,X,te,O,W,Y,ze,_t),(O<ne[0]&&ne[0]<te||O<we[0]&&we[0]<te)&&(L=!0),L||(Y<ze[0]&&ze[0]<D||Y<_t[0]&&_t[0]<D)&&(L=!0),!L&&F)return!1;for(var Mt=[],pe=E.length-1;0<=pe;pe--)Mt.push(E[pe]);return V.Pa(),V.Zk(null,0),T.ly(this.Ub,this.lc,this.fc,this.sb,this.Ae,E,D,O,F,pe=[0],V),T.Jr(this.Ub,this.lc,this.fc,this.sb,X,O,te,this.bo,F,pe,V,ne[0],we[0]),T.ly(this.Ub,this.lc,this.fc,this.sb,this.Ae,Mt,te,ie,F,pe,V),T.Jr(this.Ub,this.lc,this.fc,this.sb,W,Y,D,this.bo,F,pe,V,ze[0],_t[0]),E=!1,F||(E=this.AE(this.fc,V)),L||E},T.prototype.my=function(E,D,O){O.Pa(),O.Zk(null,0),T.Jr(this.Ub,this.lc,this.fc,this.sb,E,-this.bo,6.283185307179586,this.bo,D,[0],O,NaN,NaN),D||this.AE(this.fc,O)},T.prototype.AE=function(E,D){var O=this.nO(E,D);return E=this.oO(E,D),O||E},T.prototype.nO=function(E,D){var O=D.I(),L=!1,F=new B.l;if(D.A(F),!B.s.$(F.H*E,1.570796326794897)&&!B.s.$(F.G*E,-1.570796326794897))return!1;var V=new B.h;for(--O;0<=O;O--)D.D(O,V),(V.y==F.H&&B.s.$(V.y*E,1.570796326794897)||V.y==F.G&&B.s.$(V.y*E,-1.570796326794897))&&(L=!0,this.GI(V,O,D));return L},T.prototype.oO=function(E,D){var O=D.Oa(0),L=D.Oa(D.I()-1);return 3.141592653589793<Math.abs(O.x-L.x)*E?(this.LV(D),!0):this.mO(D)},T.prototype.mO=function(E){return 0>E.He()&&(this.KV(E),!0)},T.prototype.GI=function(E,D,O){var L=O.I(),F=0<D?D-1:L-1;if(L=O.Oa(D<L-1?D+1:0),F=O.Oa(F),!B.s.$(L.y,E.y)&&!B.s.$(L.x,E.x)){var V=new B.h;V.na(L.x,E.y),O.Db(D,V)}B.s.$(F.y,E.y)||B.s.$(F.x,E.x)||((L=new B.h).na(F.x,E.y),O.xf(0,D,L))},T.prototype.LV=function(E){var D=new B.Ea,O=new B.Ea,L=new B.Ed,F=E.Oa(0),V=E.Oa(E.I()-1),W=new B.h;F.x>V.x?(V=this.Bq,L.gg(-this.Ks,0)):(V=-this.Bq,L.gg(this.Ks,0)),D.add(E,!1),E.Pa(),O.add(D,!1),O.Pc(L),F=new B.l,O.A(F),F.X((this.Ks-F.S())/2,0),F.G=-this.Bq,F.H=this.Bq;for(var X=0;X<O.I();X++)O.D(X,W),D.xf(0,-1,W);for(O.Pc(L),X=0;X<O.I();X++)O.D(X,W),D.xf(0,-1,W);O=D.Oa(0),L=D.Oa(D.I()-1),W.na(L.x,V),D.xf(0,-1,W),W.na(.5*(L.x+O.x),V),D.xf(0,-1,W),W.na(O.x,V),D.xf(0,-1,W),D=B.Ih.ls(D,this.Kc,2,!0,F.v),D=B.Ih.ls(D,this.Kc,2,!0,F.C),D=B.Vd.clip(D,F,this.Cq,NaN),E.add(D,!1)},T.prototype.KV=function(E){var D=new B.l;E.A(D),D.X((this.Ks-D.S())/2,0),D.G=-this.Bq,D.H=this.Bq,E.Zk(null,0);var O=new B.h;O.na(D.v,D.G),E.xf(1,-1,O),O.na(D.v,D.H),E.xf(1,-1,O),O.na(.5*(D.v+D.C),D.H),E.xf(1,-1,O),O.na(D.C,D.H),E.xf(1,-1,O),O.na(D.C,D.G),E.xf(1,-1,O),O.na(.5*(D.v+D.C),D.G),E.xf(1,-1,O)},T.ly=function(E,D,O,L,F,V,W,X,ie,Y,te){var ne=null;ie||((ne=new B.h).Sc(),0<te.I()&&(ne.N(te.Oa(te.I()-1)),ne.scale(O)));var we=new B.ha(0),ze=new B.ha(0),_t=new B.ha(0),Mt=new B.h,pe=new B.h,Ge=V[V.length-1];O=1/O;for(var it=0;it<V.length;it++){var ht=V[it];if(0==it)var mt=W;else it==V.length-1?mt=X:(B.kb.xd(E,D,Ge.x,Ge.y,ht.x,ht.y,null,null,we,F),mt=we.u-1.570796326794897);B.kb.zi(E,D,ht.x,ht.y,L,mt,ze,_t),ie?pe.na(ze.u,_t.u):(Mt.na(ze.u,_t.u),T.ZI(ht.x,Mt.x,ne.x,Y),pe.na(Y[0]+Mt.x,Mt.y),ne.N(pe)),pe.scale(O),te.xf(0,-1,pe)}},T.Jr=function(E,D,O,L,F,V,W,X,ie,Y,te,ne,we){if(!(W-V<X)){var ze=new B.ha(0),_t=new B.ha(0),Mt=new B.h,pe=new B.h,Ge=null;ie||((Ge=new B.h).Sc(),0<te.I()&&(Ge.N(te.Oa(te.I()-1)),Ge.scale(O)));var it=B.P.truncate(Math.ceil(V/X)),ht=it++*X;for(ht==V&&(ht=it++*X),O=1/O;ht<W+X&&(V<ne&&ne<ht?(ht=ne,it--):V<we&&we<ht&&(ht=we,it--),!(ht>=W));)B.kb.zi(E,D,F.x,F.y,L,ht,ze,_t),ie?pe.na(ze.u,_t.u):(Mt.na(ze.u,_t.u),T.ZI(F.x,Mt.x,Ge.x,Y),pe.na(Y[0]+Mt.x,Mt.y),Ge.N(pe)),pe.scale(O),te.xf(0,-1,pe),V=ht,ht=it++*X}},T.WI=function(E,D,O,L,F,V,W,X,ie,Y){var te=new B.h,ne=new B.h,we=new B.ha(0),ze=new B.ha(0);for(B.kb.zi(E,D,L.x,L.y,O,F,we,ze),te.na(we.u,ze.u),B.kb.zi(E,D,L.x,L.y,O,V,we,ze),ne.na(we.u,ze.u),O=new B.ha(0),B.kb.Sy(E,D,W.x,W.y,te.x,te.y,O),ie[0]=O.u,B.kb.Sy(E,D,W.x,W.y,ne.x,ne.y,O),Y[0]=O.u;ie[0]<=Y[0];)ie[0]+=6.283185307179586;for(;ie[0]>Y[0];)ie[0]-=6.283185307179586;for(;ie[0]>=X;)ie[0]-=6.283185307179586,Y[0]-=6.283185307179586;for(;ie[0]<X;)ie[0]+=6.283185307179586,Y[0]+=6.283185307179586},T.ZI=function(E,D,O,L){if(isNaN(O)){for(;3.141592653589793<L[0]+D-E;)L[0]-=6.283185307179586;for(;3.141592653589793<E-(L[0]+D);)L[0]+=6.283185307179586}else 3.141592653589793<L[0]+D-O?L[0]-=6.283185307179586:3.141592653589793<O-(L[0]+D)&&(L[0]+=6.283185307179586)},T.yX=function(E,D){var O=E.K(),L=B.ba.Ic(O)?E.ea():550==O?E.I():1;if(1==L)return E;var F=new B.ja(0);F.resize(L);for(var V=[],W=new B.l,X=0;X<L;X++){if(F.write(X,X),B.ba.Ic(O)){E.Sj(X,W);var ie=W.tf()}else ie=E.Oa(X);ie=B.PK.OX(D,ie),V[X]=ie}for(F.Wd(0,F.size,function(Y,te){return V[Y]<V[te]?-1:V[Y]>V[te]?1:0}),D=E.Ja(),X=0;X<L;X++)W=F.read(X),B.ba.Ic(O)?D.addPath(E,W,!0):D.Gd(E,W,W+1);return D},T.prototype.mX=function(){var E=Math.min(3.141592653589793*this.Ub-this.sb,this.sb);E=Math.min(E,.39269908169872414*this.Ub);var D=new B.h;D.na(0,10*this.fc);var O=45*this.fc,L=new B.ha(0),F=new B.ha(0),V=new B.ha(0),W=new B.ha(0),X=new B.ha(0),ie=new B.ha(0),Y=new B.ha(0),te=new B.ha(0),ne=new B.h,we=new B.h,ze=new B.h,_t=new B.h;B.kb.zi(this.Ub,this.lc,D.x,D.y,E,0,L,F),ne.na(L.u,F.u),B.kb.zi(this.Ub,this.lc,D.x,D.y,E,O,V,W),we.na(V.u,W.u),L=new B.ha(0),F=new B.ha(0);for(var Mt=new B.ha(0);B.kb.zi(this.Ub,this.lc,D.x,D.y,E,.5*(0+O),X,ie),ze.na(X.u,ie.u),B.kb.xd(this.Ub,this.lc,ne.x,ne.y,we.x,we.y,L,F,null,2),B.kb.pj(this.Ub,this.lc,ne.x,ne.y,.5*L.u,F.u,Y,te,2),_t.na(Y.u,te.u),B.kb.xd(this.Ub,this.lc,ze.x,ze.y,_t.x,_t.y,Mt,null,null,2),!(Mt.u<=this.ao);)B.kb.zi(this.Ub,this.lc,D.x,D.y,E,O*=.9,V,W),we.na(V.u,W.u);this.bo=6.283185307179586/Math.ceil(6.283185307179586/(O-0))},T.prototype.nX=function(){var E=Math.min(3.141592653589793*this.Ub-this.sb,this.sb);E=Math.min(E,.39269908169872414*this.Ub);var D=new B.h,O=new B.h;D.na(0,10*this.fc),O.na(10*this.fc,10*this.fc);var L=new B.ha(0),F=new B.ha(0),V=new B.ha(0);B.kb.xd(this.Ub,this.lc,D.x,D.y,O.x,O.y,V,L,F,this.Ae);var W=new B.ha(0),X=new B.ha(0),ie=new B.ha(0),Y=new B.ha(0),te=new B.h,ne=new B.ha(0),we=new B.ha(0),ze=new B.ha(0),_t=new B.ha(0),Mt=new B.ha(0),pe=new B.ha(0),Ge=new B.ha(0),it=new B.ha(0),ht=new B.ha(0),mt=new B.h,yt=new B.h,Ot=new B.h,St=new B.h,Tt=1;F=F.u+1.570796326794897,V=V.u,B.kb.zi(this.Ub,this.lc,D.x,D.y,E,(L=L.u)-1.570796326794897,we,ze),mt.na(we.u,ze.u),B.kb.zi(this.Ub,this.lc,O.x,O.y,E,F,_t,Mt),yt.na(_t.u,Mt.u),we=new B.ha(0),ze=new B.ha(0),F=new B.ha(0);for(var _i=new B.ha(0);B.kb.pj(this.Ub,this.lc,D.x,D.y,.5*(0+Tt)*V,L,W,X,this.Ae),te.na(W.u,X.u),B.kb.xd(this.Ub,this.lc,D.x,D.y,te.x,te.y,null,null,ne,this.Ae),B.kb.zi(this.Ub,this.lc,te.x,te.y,E,ne.u+1.570796326794897,pe,Ge),Ot.na(pe.u,Ge.u),B.kb.xd(this.Ub,this.lc,mt.x,mt.y,yt.x,yt.y,we,ze,null,2),B.kb.pj(this.Ub,this.lc,mt.x,mt.y,.5*we.u,ze.u,it,ht,2),St.na(it.u,ht.u),B.kb.xd(this.Ub,this.lc,Ot.x,Ot.y,St.x,St.y,F,null,null,2),!(F.u<=this.ao);)B.kb.pj(this.Ub,this.lc,D.x,D.y,(Tt*=.9)*V,L,ie,Y,this.Ae),O.na(ie.u,Y.u),B.kb.xd(this.Ub,this.lc,D.x,D.y,O.x,O.y,null,null,_i,this.Ae),B.kb.zi(this.Ub,this.lc,O.x,O.y,E,_i.u+1.570796326794897,_t,Mt),yt.na(_t.u,Mt.u);1e5<(E=Tt*V)&&(E=1e5),this.KA=E},T.prototype.lX=function(){var E=5e4<this.sb?100:1e4<this.sb?10:1;500>this.sb/E&&(E=this.sb/500),.01>E&&(E=.01),this.ao=E},T}();B.NK=k}(st||(st={})),function(B){var Be=function(){function $(){}return $.Of=function(k,T){var E=new B.h;E.N(T),k.push(E)},$.wp=function(k,T){k.add(T.x),k.add(T.y)},$.bB=function(k){k.Ch(k.size-2)},$.iB=function(k,T){T.na(k.get(k.size-2),k.get(k.size-1))},$.Rr=function(k,T,E,D,O,L){if(null==k)throw B.i.O();var F=k.K();if(k.B()||B.ba.Sn(F))return k;var V=new $;V.Rg=T,V.Kc=B.cb.tc(T);var W=B.cb.wv(V.Kc);if(V.Vb=L,V.Ub=B.cb.fv(V.Kc),V.lc=W*(2-W),V.fc=V.Kc.Id().bi,V.Cq=V.Kc.Ln(),V.$s=V.Cq*V.fc,V.uA=D,V.tA=O,V.Ae=E,197==F?(E=new B.Ea(k.description)).bd(k,!1):B.ba.zd(F)?(E=new B.Ua(k.description)).oc(k,!0):E=k,4!=V.Ae){if((T=0==V.Rg.Nb(V.Kc)?B.cb.Ah(E,V.Rg,V.Kc):B.Ih.mj(E,V.Kc)).B())return T;T=$.hI(V.fc,T),T=V.Uy(T),T=B.jp.oj(T,V.Kc,V.Ae),V=B.cb.Ah(T,V.Kc,V.Rg)}else{if(2==B.Gg.Tb(T)?(k=B.cb.ol(),(T=B.Wk.local().W(E,k,T,L))==k&&(T=new B.Ea,k.copyTo(T))):T=B.Ih.mj(E,V.Kc),T.B())return T;V=V.qX(T)}return V},$.hI=function(k,T){var E=new B.l;if(T.yc(E),3.141592653589793>E.S()*k)return T;var D=!1;E=T.Ha();for(var O=new B.h,L=new B.h;E.ab();)for(;E.Ia();){var F=E.ia();if(O.N(F.ac()),L.N(F.xc()),O.scale(k),L.scale(k),3.141592653589793<Math.abs(O.x-L.x)){var V=$.Nu(O,L);if(!V){D=!0;break}if(6.283185307179586<Math.abs(O.x-L.x)){D=!0;break}}}if(!D)return T;D=T.Ja();var W=1<T.description.Ba,X=new B.h,ie=new B.h,Y=new B.h,te=new B.h,ne=new B.Ta;for(E.$i();E.ab();)for(var we=NaN,ze=[0];E.Ia();){if(F=E.ia(),O.N(F.ac()),L.N(F.xc()),O.scale(k),L.scale(k),isNaN(we)?($.Xi(O.x,NaN,ze),ie.N(O)):ie.N(Y),we=ie.x,V=$.Nu(O,L)){if(6.283185307179586<L.x-O.x)for(;6.283185307179586<L.x-O.x;)L.x-=6.283185307179586;if(-6.283185307179586>L.x-O.x)for(;-6.283185307179586>L.x-O.x;)L.x+=6.283185307179586;$.Xi(L.x,NaN,ze),Y.N(L)}else X.N(L),$.qU(X),$.Xi(X.x,we,ze),Y.na(ze[0]+X.x,X.y);.5>Math.abs(Y.x-L.x)&&Y.N(L),W?(F.Uw(0,ne),te.N(ie),te.scale(1/k),ne.Db(te),(V=E.xm())?D.nf(ne):D.lineTo(ne),E.Rn()&&!T.ec(E.gb)&&(F.Uw(1,ne),te.N(Y),te.scale(1/k),ne.Db(te),D.lineTo(ne))):((V=E.xm())&&D.Cz(null,0),F=D.ea()-1,te.N(ie),te.scale(1/k),D.xf(F,-1,te),E.Rn()&&!T.ec(E.gb)&&(te.N(Y),te.scale(1/k),D.xf(F,-1,te)))}return D},$.lF=function(k,T,E,D,O,L,F,V,W,X,ie,Y){var te=new B.h,ne=new B.h,we=0<D.compare(O);$.YI(we,D,O,te,ne),$.mF(k,T,E,te,ne,L,NaN,F,V,W,X,null,ie,Y),we&&$.ZB(W,X,null,ie)},$.prototype.Uy=function(k){var T=k.Ja(),E=k.Ha(),D=[],O=null,L=null,F=1<k.description.Ba;F&&(O=new B.ce(0),L=new B.hg);for(var V=[0],W=new B.h,X=new B.h,ie=new B.h,Y=new B.h;E.ab();)for(V[0]=0;E.Ia();){var te=E.ia();W.N(te.ac()),X.N(te.xc()),W.scale(this.fc),X.scale(this.fc);var ne=0<W.compare(X);$.YI(ne,W,X,ie,Y),D.length=0,null!=O&&O.Ch(0),0<this.uA?$.mF(this.Ub,this.lc,this.Ae,ie,Y,this.uA,this.tA,this.$s,null,null,null,F?O:null,D,V):$.TQ(this.Ub,this.lc,this.Ae,ie,Y,this.tA,this.$s,F?O:null,D,V),ne&&$.ZB(null,null,F?O:null,D),D[0].N(te.ac()),D[D.length-1].N(te.xc());for(var we=1;we<D.length-1;we++)D[we].scale(1/this.fc);F?(ne=$.XI(ne,te,L),$.LD(E.xm(),E.Rn()&&!k.ec(E.gb),te,ne,O,D,T)):$.KD(E.xm(),E.Rn()&&!k.ec(E.gb),D,T)}return T},$.prototype.qX=function(k){var T=k.Ja(),E=k.Ha(),D=[],O=null,L=new B.hg,F=1<k.description.Ba;for(F&&(O=new B.ce(0));E.ab();)for(;E.Ia();){var V=E.ia(),W=V.ac(),X=V.xc();W=0<W.compare(X),X=$.XI(W,V,L),D.length=0,null!=O&&O.Ch(0),$.pX(this.Ub,this.lc,this.fc,X,this.Rg,this.uA,this.tA,F?O:null,D),W&&$.ZB(null,null,F?O:null,D),F?$.LD(E.xm(),E.Rn()&&!k.ec(E.gb),V,X,O,D,T):$.KD(E.xm(),E.Rn()&&!k.ec(E.gb),D,T)}return T},$.KD=function(k,T,E,D){k&&D.Cz(null,0),k=D.ea()-1;var O=E.slice(0);D.iG(k,O,O.length-1),T&&D.xf(k,-1,E[E.length-1])},$.LD=function(k,T,E,D,O,L,F){var V=new B.Ta;if(E.Uo(V),k?F.nf(V):F.lineTo(V),2<L.length){k=D.Rb();for(var W=1;W<L.length-1;W++){var X=D.FG(O.get(W)*k);D.Uw(X,V),V.Db(L[W]),F.lineTo(V)}}T&&(E.Qo(V),F.lineTo(V))},$.mF=function(k,T,E,D,O,L,F,V,W,X,ie,Y,te,ne){var we=new B.ha(0),ze=new B.ha(0),_t=new B.ha(0);B.kb.xd(k,T,D.x,D.y,O.x,O.y,_t,we,ze,E),_t=_t.u;var Mt=we=we.u;0>Mt&&(Mt+=6.283185307179586),0>(ze=ze.u)&&(ze+=6.283185307179586),null!=W&&(W[0]=_t),null!=X&&(X[0]=Mt),null!=ie&&(ie[0]=ze),X=W=NaN,null!=Y&&(W=((X=B.F.Bh(k,T))-(ie=B.F.q(k,T,D.y)))/_t,X=(X+ie)/_t),ie=$.Ou(D,O),ze=$.Mu(D,O),Mt=ie||ze;var pe=$.xE(D,O,V),Ge=new B.ha(0),it=new B.ha(0),ht=new B.h,mt=new B.h,yt=new B.h;$.Xi(D.x,NaN,ne);var Ot=[ne[0]];if(_t<=L)$.Of(te,D),$.Xi(O.x,NaN,ne),null!=Y&&Y.add(0),Mt?(ie&&$.eB(D,O,Y,te),ze&&$.cB(D,O,Y,te)):pe?$.dB(D,O,we,W,X,Y,te):0<F&&(mt.na(D.x-Ot[0],D.y),ht.na(O.x-ne[0],O.y),$.Ty(k,T,E,D,_t,we,mt,ht,0,1,F,Y,te,Ot)),$.Of(te,O);else{var St=_t/((L=1+B.P.truncate(Math.ceil(_t/L)))-1),Tt=new B.h,_i=0;$.Of(te,D),Tt.N(D),mt.na(D.x-ne[0],D.y),null!=Y&&Y.add(0);for(var mi=1;mi<L;mi++){if(mi<L-1){B.kb.pj(k,T,D.x,D.y,mi*St,we,Ge,it,E),ht.na(Ge.u,it.u),$.Xi(ht.x,Tt.x,ne),yt.na(ne[0]+ht.x,ht.y);var Ui=mi/(L-1)}else $.Xi(O.x,NaN,ne),ht.na(O.x-ne[0],O.y),yt.N(O),Ui=1;Mt?(1==mi&&ie&&$.eB(D,yt,Y,te),mi==L-1&&ze&&$.cB(Tt,O,Y,te)):pe?$.wE(Tt,yt,V)&&(D.x<O.x?Tt.x>yt.x&&(ne[0]+=6.283185307179586,yt.na(ne[0]+ht.x,ht.y)):Tt.x<yt.x&&(ne[0]-=6.283185307179586,yt.na(ne[0]+ht.x,ht.y)),$.dB(Tt,yt,we,W,X,Y,te)):0<F&&$.Ty(k,T,E,D,_t,we,mt,ht,_i,Ui,F,Y,te,Ot),$.Of(te,yt),null!=Y&&Y.add(Ui),Tt.N(yt),mt.N(ht),Ot[0]=ne[0],_i=Ui}}},$.TQ=function(k,T,E,D,O,L,F,V,W,X){var ie=new B.ha(0),Y=new B.ha(0),te=new B.ha(0);B.kb.xd(k,T,D.x,D.y,O.x,O.y,te,ie,Y,E),Y=te.u,ie=ie.u;var ne=te=NaN;if(null!=V){ne=B.F.Bh(k,T);var we=B.F.q(k,T,D.y);te=(ne-we)/Y,ne=(ne+we)/Y}we=$.Ou(D,O);var ze=$.Mu(D,O),_t=we||ze;F=$.xE(D,O,F);var Mt=$.Nu(D,O);Mt=_t||F||Mt,$.Xi(D.x,NaN,X);var pe=new B.h;$.Of(W,D),pe.N(D),null!=V&&V.add(0),Mt?(_t?(we&&$.eB(D,O,V,W),ze&&$.cB(D,O,V,W)):F&&$.dB(D,O,ie,te,ne,V,W),$.Xi(O.x,NaN,X),$.Of(W,O)):Y<=L?($.Xi(O.x,NaN,X),$.Of(W,O)):(te=new B.h,F=new B.h,te.N(D),F.N(O),te.x-=X[0],F.x-=X[0],-3.141592653589793>F.x?F.x+=6.283185307179586:3.141592653589793<F.x&&(F.x-=6.283185307179586),$.Ty(k,T,E,D,Y,ie,te,F,0,1,L,V,W,X),$.Of(W,O),$.Xi(O.x,NaN,X)),null!=V&&V.add(1)},$.Ty=function(k,T,E,D,O,L,F,V,W,X,ie,Y,te,ne){var we=new B.h,ze=new B.h;we.na(F.x+ne[0],F.y),new B.ha(0),new B.ha(0),new B.ha(0),new B.ha(0);var _t=new B.ha(0),Mt=new B.ha(0),pe=new B.ha(0),Ge=new B.h,it=new B.h,ht=new B.h,mt=new B.h;Ge.N(F),it.N(V),F=new B.ce(0),V=new B.ce(0),$.wp(F,it),V.add(X);var yt=new B.h,Ot=new B.zb,St=[];for($.QJ(4,St);0<F.size;){for(var Tt,_i=!1,mi=NaN,Ui=0;3>Ui;Ui++)if(B.kb.pj(k,T,D.x,D.y,(Tt=St[Ui]*X+(1-St[Ui])*W)*O,L,_t,Mt,E),ht.na(_t.u,Mt.u),0==Ui&&(mi=Tt,mt.N(ht)),$.JW(Ge,ht,it,Ot),Ot.ic(Ot.fe(ht,!0),yt),B.kb.xd(k,T,ht.x,ht.y,yt.x,yt.y,pe,null,null,2),pe.u>ie){_i=!0;break}_i?(it.N(mt),X=mi,$.wp(F,it),V.add(X)):($.bB(F),V.Fn(V.size-1,1,V.size-1),0<F.size&&($.Xi(it.x,we.x,ne),ze.na(ne[0]+it.x,it.y),$.Of(te,ze),we.N(ze),null!=Y&&Y.add(X),Ge.N(it),W=X,$.iB(F,it),X=V.get(V.size-1)))}},$.pX=function(k,T,E,D,O,L,F,V,W){var X=new B.h,ie=new B.h,Y=new B.h,te=new B.h,ne=new B.h,we=new B.h,ze=new B.h,_t=new B.h,Mt=new B.h,pe=new B.h,Ge=new B.ha(0),it=new B.ha(0),ht=new B.h,mt=[[],[]],yt=1==B.Gg.Tb(O);O=O.Yd(0);var Ot=D.ac(),St=D.xc();yt?(we.na(Ot.x*E,Ot.y*E),ze.na(St.x*E,St.y*E)):(mt[0][0]=Ot.x,mt[0][1]=Ot.y,mt[1][0]=St.x,mt[1][1]=St.y,B.cb.vt(),we.x=mt[0][0]*E,we.y=mt[0][1]*E,ze.x=mt[1][0]*E,ze.y=mt[1][1]*E);var Tt=0,_i=0,mi=1,Ui=D.Qn();X.N(Ot),ie.N(St),St=new B.ce(0);var Ft=new B.ce(0),ti=new B.ce(0);$.wp(St,ie),$.wp(Ft,ze),ti.add(mi),$.Of(W,X),null!=V&&V.add(_i);var ui=[],vi=0<F?Ui?5:3:Ui?5:1;$.QJ(vi,ui);for(var Di=new B.ha(0),Oi=new B.ha(0),Vi=new B.ha(0),Zi=new B.ha(0),nn=new B.ha(0),Tn=new B.ha(0),bn=new B.ha(0);0<Ft.size;){var Li=!1,si=NaN;for(B.kb.xd(k,T,we.x,we.y,ze.x,ze.y,Di,Oi,null,2),Ot=0;Ot<vi&&(0!=Ot||!(!Ui&&0>=F&&Di.u<=L&&3.141592653589793>Math.abs(we.x-ze.x)||D.Sx(_i,mi)<=O));Ot++){var $i=ui[Ot]*mi+(1-ui[Ot])*_i;if(D.ic($i,Y),yt?_t.na(Y.x*E,Y.y*E):(mt[0][0]=Y.x,mt[0][1]=Y.y,B.cb.vt(),_t.x=mt[0][0]*E,_t.y=mt[0][1]*E),0==Ot&&(si=$i,ne.N(Y),pe.N(_t),0<L&&(Di.u>L||3.141592653589793<=Math.abs(we.x-ze.x)))){Li=!0;break}if(Ui&&0<L){if(B.kb.xd(k,T,we.x,we.y,_t.x,_t.y,Vi,null,null,2),Vi.u>L||3.141592653589793<=Math.abs(we.x-_t.x)){Li=!0;break}}else if(0<F){if(Ui?(te.ES(X,ie,ui[Ot]),yt?Mt.na(te.x*E,te.y*E):(mt[0][0]=te.x,mt[0][1]=te.y,B.cb.vt(),Mt.x=mt[0][0]*E,Mt.y=mt[0][1]*E)):(te.N(Y),Mt.N(_t)),B.kb.xd(k,T,we.x,we.y,Mt.x,Mt.y,Zi,null,null,2),!(Zi.u<=Di.u)){Li=!0;break}if(B.kb.pj(k,T,we.x,we.y,Zi.u,Oi.u,Ge,it,2),ht.na(Ge.u,it.u),B.kb.xd(k,T,ht.x,ht.y,_t.x,_t.y,nn,null,null,2),nn.u>F){Li=!0;break}if(Ui){if(B.kb.xd(k,T,ht.x,ht.y,Mt.x,Mt.y,Tn,null,null,2),Tn.u>F){Li=!0;break}if(B.kb.xd(k,T,Mt.x,Mt.y,_t.x,_t.y,bn,null,null,2),bn.u>F){Li=!0;break}}}}Li?(ie.N(ne),ze.N(pe),mi=si,$.wp(St,ie),$.wp(Ft,ze),ti.add(mi)):($.bB(St),$.bB(Ft),ti.Fn(ti.size-1,1,ti.size-1),$.Of(W,ie),Tt+=Di.u,null!=V&&V.add(Tt),0<Ft.size&&(X.N(ie),we.N(ze),_i=mi,$.iB(St,ie),$.iB(Ft,ze),mi=ti.get(ti.size-1)))}if(null!=V)for(k=1/Tt,Ot=0;Ot<V.size;Ot++)V.write(Ot,V.read(Ot)*k)},$.ZB=function(k,T,E,D){D.reverse(),null!=E&&E.oi(0,E.size,1),E=null!=k?k[0]:NaN,D=null!=T?T[0]:NaN,null!=k&&(k[0]=D),null!=T&&(T[0]=E)},$.YI=function(k,T,E,D,O){k?(D.N(E),O.N(T)):(D.N(T),O.N(E))},$.XI=function(k,T,E){return k?(E.create(T.K()),T.copyTo(E.get()),E.get().reverse(),E.get()):T},$.Xi=function(k,T,E){if(isNaN(T)){for(;3.141592653589793<E[0]-k;)E[0]-=6.283185307179586;for(;3.141592653589793<k-E[0];)E[0]+=6.283185307179586}else 3.141592653589793<E[0]+k-T?E[0]-=6.283185307179586:3.141592653589793<T-(E[0]+k)&&(E[0]+=6.283185307179586)},$.JW=function(k,T,E,D){3.141592653589793>Math.abs(T.x-k.x)?(D.Ec(k),D.Sl(3.141592653589793<=E.x-k.x?E.x-6.283185307179586:3.141592653589793<=k.x-E.x?E.x+6.283185307179586:E.x,E.y)):(D.Ec(E),D.Sl(3.141592653589793<=k.x-E.x?k.x-6.283185307179586:3.141592653589793<=E.x-k.x?k.x+6.283185307179586:k.x,k.y))},$.QJ=function(k,T){for(var E=0;E<k;E++){var D=Math.ceil(E/2)/(k+1);E%2!=0&&(D=-D),T[E]=.5+D}},$.Ou=function(k,T){return!!(B.s.$(k.y,1.570796326794897)&&!B.s.$(T.y,1.570796326794897)||B.s.$(k.y,-1.570796326794897)&&!B.s.$(T.y,-1.570796326794897))},$.Mu=function(k,T){return!!(B.s.$(T.y,1.570796326794897)&&!B.s.$(k.y,1.570796326794897)||B.s.$(T.y,-1.570796326794897)&&!B.s.$(k.y,-1.570796326794897))},$.xE=function(k,T,E){return!(!$.wE(k,T,E)||B.s.$(k.y,1.570796326794897)||B.s.$(k.y,-1.570796326794897)||B.s.$(T.y,1.570796326794897)||B.s.$(T.y,-1.570796326794897))},$.wE=function(k,T,E){return Math.abs(Math.abs(k.x-T.x)-3.141592653589793)<=E},$.Nu=function(k,T){return!!(B.s.$(k.y,1.570796326794897)&&B.s.$(T.y,1.570796326794897)||B.s.$(k.y,-1.570796326794897)&&B.s.$(T.y,-1.570796326794897))},$.eB=function(k,T,E,D){if(0<k.y){var O=new B.h;O.na(T.x,1.570796326794897)}else(O=new B.h).na(T.x,-1.570796326794897);B.s.$(k.x,O.x)||B.s.$(T.y,O.y)||($.Of(D,O),null!=E&&E.add(0))},$.cB=function(k,T,E,D){if(0<T.y){var O=new B.h;O.na(k.x,1.570796326794897)}else(O=new B.h).na(k.x,-1.570796326794897);B.s.$(T.x,O.x)||B.s.$(k.y,O.y)||($.Of(D,O),null!=E&&E.add(1))},$.dB=function(k,T,E,D,O,L,F){B.s.Dd(E)?(0<1.570796326794897-k.y&&((E=new B.h).na(k.x,1.570796326794897),$.Of(F,E),null!=L&&L.add(D)),0<1.570796326794897-T.y&&((E=new B.h).na(T.x,1.570796326794897),$.Of(F,E),null!=L&&L.add(D))):(0<1.570796326794897+k.y&&((E=new B.h).na(k.x,-1.570796326794897),$.Of(F,E),null!=L&&L.add(O)),0<1.570796326794897+T.y&&((E=new B.h).na(T.x,-1.570796326794897),$.Of(F,E),null!=L&&L.add(O)))},$.qU=function(k){if(-3.141592653589793>k.x)for(;-3.141592653589793>k.x;)k.x+=6.283185307179586;if(3.141592653589793<k.x)for(;3.141592653589793<k.x;)k.x-=6.283185307179586},$}();B.dj=Be}(st||(st={})),function(B){B.jp=function(){function Be(){}return Be.oj=function($,k,T){if(null==$||null==k||!B.cb.Xc(k))throw B.i.O();if($.B())return $;var E=$,D=E.K();if(B.ba.Ic(D)){E=B.Ih.mj($,k),$=new B.l,E.A($),D=B.ta.Xd(k,$,!1);for(var O=B.cb.hh(k),L=Math.floor(($.v-O.v)/O.S())*O.S()+O.v;L<$.C;)L>$.v+D&&L<$.C-D&&(E=B.Ih.ls(E,k,T,!0,L)),L+=O.S()}else{if(197==D)return($=new B.Ea(E.description)).bd(E,!1),Be.oj($,k,T);if(B.ba.zd(D))return($=new B.Ua(E.description)).oc(E,!0),Be.oj($,k,T)}return Be.Py(E,k)},Be.Py=function($,k){if(null==$||null==k||!B.cb.Xc(k))throw B.i.O();if($.B())return $;var T=$.K();return 197==T?(T=new B.Ea($.description)).bd($,!1):B.ba.zd(T)?(T=new B.Ua($.description)).oc($,!0):T=$,(T=B.Ih.mj(T,k)).B()?T:1==B.Gg.Tb(k)?B.Ih.Gn(T,k,0,T!=$,0):Be.FQ(T,k,T!=$)},Be.FQ=function($,k,T){if(!B.cb.Xc(k))throw B.i.O();if($.B())return $;var E=B.cb.bf(k),D=-180*E;return E*=360,2==B.Gg.Tb(k)&&(E=(D=B.cb.hh(k)).C,E-=D=D.v),B.Ih.Jp($,D,E,k,T,0,!0)},Be}()}(st||(st={})),function(B){B.qY=function(){function Be(){}return Be.R=function($){return 0>$?-$:$},Be.Mb=function($,k){return 0<=k?Be.R($):-Be.R($)},Be.$=function($,k){return $==k||Be.R($-k)<=Be.BC*(1+(Be.R($)+Be.R(k))/2)},Be.Dd=function($){return 0==$||Be.R($)<=Be.BC},Be.Bh=function($,k){var T=(k=(1-(k=Math.sqrt(1-k)))/(1+k))*k;return $/(1+k)*(1+T*(.25+T*(.015625+1/256*T)))*Be.wL},Be.wL=1.5707963267948966,Be.BC=3552713678800501e-30,Be}()}(st||(st={})),function(B){var Be=function(k){this.Xf=k,this.Kk=this.Xf.getCode(),0>this.Kk&&(this.Kk=0)};B.sY=Be;var $=function(){function k(T){void 0===T&&(T=null),this.Dj=null,this.Vn=!1,null!==T&&(this.Dj=new Be(T))}return k.prototype.Fc=function(){return null!=this.Dj?this.Dj.Kk:0},k.prototype.Pf=function(){var T=new k;return this.copyTo(T),T},k.prototype.copyTo=function(T){T.Dj=this.Dj,T.Vn=this.Vn},k.prototype.Lz=function(){this.Vn=!this.Vn},k.prototype.sm=function(){return null!=this.Dj?this.Dj.Xf:null},k.prototype.DJ=function(T){if(0>=T)throw B.i.O();if(T!=this.Fc()){if(null==(T=B.qf.geogtran(T)))throw B.i.O("Geogtran not found.");this.Dj=new Be(T)}},k.prototype.wz=function(){return null==this.Dj?null:this.Dj.Xf.toString()},k.prototype.hX=function(T){if(null==T)throw B.i.O();var E=null;try{E=B.qf.fromString(B.Tc.PE_TYPE_GEOGTRAN,T)}catch(D){throw B.i.O()}this.Dj=new Be(E)},k.prototype.Nb=function(T){return T==this||!(!(T instanceof k)||(0>=this.Fc()||this.Fc()!=T.Fc())&&!this.sm().isEqual(T.sm()))&&this.Vn==T.Vn},k.prototype.toString=function(){var T="GeographicTransformation: "+this.wz();return 200<T.length?T.substring(0,197)+"... ("+T.length.toString()+" characters)":T},k.create=function(T,E){var D=new k;return D.DJ(T),E&&D.Lz(),D},k.mP=function(T,E){var D=new k;return D.hX(T),E&&D.Lz(),D},k}();B.Bx=$}(st||(st={})),function(B){var Be=function(){function k(){}return k.construct=function(T,E,D,O){var L=new k;return L.iw=T,L.jw=E,L.FY=D,L.GY=O,L},k.yy=function(T,E){return T.iw==E.iw?T.jw==E.jw?0:T.jw<E.jw?-1:1:T.iw<E.iw?-1:1},k}(),$=function(){function k(){this.nT=[],this.oT=[],this.rp()}return k.fz=function(){return null==k.bK&&(k.bK=new k),k.bK},k.prototype.rp=function(){this.aD(this.nT),this.aD(this.oT)},k.prototype.aD=function(T){try{var E=[];E=E.sort(Be.yy);for(var D=0;D<E.length;D++)T.push(E[D])}catch(O){}},k}();B.rY=$}(st||(st={})),function(B){var Be=function(){function $(){}return $.prototype.qD=function(k){this.Fk=k},$.prototype.OM=function(k){this.Gb=k},$.prototype.pD=function(k){this.Ao=k},$.uE=function(k){return!(k.B()||1607!=k.K()&&1736!=k.K())},$.sE=function(k){return!(k.B()||1607!=k.K()&&1736!=k.K()||20>k.I())},$.tE=function(k){return!(k.B()||1607!=k.K()&&1736!=k.K()||20>k.I())},$}();B.Uk=Be}(st||(st={})),function(B){B.bc=function(){function Be(){}return Be.JT=function($){var k=new B.Ea;return k.qx($.fs(),$.hs()),k.zj($.fs(),$.gs()),k.zj($.es(),$.gs()),k.zj($.es(),$.hs()),k},Be.Ah=function($,k){return null===$?null:B.Fx.local().W($,k,null)},Be.YX=function($,k){var T=B.Hh.local();return $=new B.$c($),T.W($,k,null).next()},Be.km=function($,k,T){return B.lp.local().W($,k,T,null)},Be.fp=function($,k,T){return B.Ix.local().W($,k,T,null)},Be.JX=function($,k,T){var E=B.Ix.local();for($=new B.$c($),k=new B.$c(k),T=E.W($,k,T,null),E=[];null!=(k=T.next());)E.push(k);return E},Be.Nb=function($,k,T){return B.ej.local().W(3,$,k,T,null)},Be.LP=function($,k,T){return B.ej.local().W(4,$,k,T,null)},Be.HS=function($,k,T){var E=B.Wk.local();for($=new B.$c($),k=new B.$c(k),T=E.W($,k,T,null),E=[];null!=(k=T.next());)E.push(k);return E},Be.IP=function($,k,T){var E=B.lp.local();for($=new B.$c($),k=new B.$c(k),T=E.W($,k,T,null),E=[];null!=(k=T.next());)E.push(k);return E},Be.Fa=function($,k,T){return B.Wk.local().W($,k,T,null)},Be.eY=function($,k,T){return B.ej.local().W(2,$,k,T,null)},Be.contains=function($,k,T){return B.ej.local().W(1,$,k,T,null)},Be.tP=function($,k,T){return B.ej.local().W(16,$,k,T,null)},Be.touches=function($,k,T){return B.ej.local().W(8,$,k,T,null)},Be.tU=function($,k,T){return B.ej.local().W(32,$,k,T,null)},Be.JS=function($,k,T){return B.ej.local().W(1073741824,$,k,T,null)},Be.sB=function($,k,T,E){return B.rL.local().W($,k,T,E,null)},Be.ub=function($,k,T,E){var D=null;if(null!=T){if(D=T.Id(),null!=E&&D.Fc()!=E.Fc()&&D.od!=E.od)throw B.i.Yk()}else if(null!=E)throw B.i.O();return $=B.iL.local().W($,k,null),null!==D&&null!==E&&($=B.Uc.Oh($,D,E)),$},Be.clip=function($,k,T){return B.cL.local().W($,B.l.construct(k.fs(),k.hs(),k.es(),k.gs()),T,null)},Be.el=function($,k,T){if(null==$||null==k)return null;for($=B.eL.local().W(!0,$,k,T,null),k=[];null!=(T=$.next());)T.B()||k.push(T);return k.slice(0)},Be.EN=function($,k,T,E,D,O,L,F){if(!0===D)return Be.FN($,k,T,E,O,L,F);if(D=T,null!=k){if(L=k.Id(),null!=E&&L.Fc()!=E.Fc()){if(L.od!=E.od)throw B.i.Yk();B.Uc.PE(T,T.length,E,L,D=[])}}else if(null!=E)throw B.i.O();if(T=B.sC.local(),O){for($=new B.$c($),k=T.W($,k,D,O,null),$=[];null!=(O=k.next());)$.push(O);O=$.slice(0)}else for(O=[],E=0;E<$.length;E++)O[E]=T.W($[E],k,D[E],null);return O},Be.FN=function($,k,T,E,D,O,L){if(null===k||(null==E&&(E=4326!==k.Fc()?k.Id():B.Uc.$g(9001)),0!==E.od))throw B.i.O();if(B.Uc.PE(T,T.length,E,B.Uc.$g(9001),T),E=B.xC.local(),D){for($=new B.$c($),k=E.W($,k,O,T,L,!1,D,null),T=[];null!=(O=k.next());)T.push(O);D=T.slice(0)}else{D=[];for(var F=0;F<$.length;F++)D[F]=E.W($[F],k,O,T[F],L,!1,null)}return D},Be.buffer=function($,k,T,E,D,O,L){var F=T;if(!1===D){if(null!=k){if(D=k.Id(),null!=E&&D.Fc()!=E.Fc()){if(D.od!=E.od)throw B.i.Yk();F=B.Uc.Oh(T,E,D)}}else if(null!=E)throw B.i.O();$=B.sC.local().W($,k,F,null)}else{if(null===k||(null==E&&(E=4326!==k.Fc()?k.Id():B.Uc.$g(9001)),0!==E.od))throw B.i.O();F=B.Uc.Oh(T,E,B.Uc.$g(9001)),$=B.xC.local().W($,k,O,F,L,!1,null)}return $},Be.rU=function($,k,T,E,D,O,L){if(null!=k){var F=k.Id();if(null!=L&&F.Fc()!=L.Fc()){if(F.od!=L.od)throw B.i.Yk();T=B.Uc.Oh(T,L,F)}}else if(null!=L)throw B.i.O();for($=new B.$c($),k=B.AC.local().W($,k,T,E,D,O,null),T=[];null!=(E=k.next());)T.push(E);return T.slice(0)},Be.offset=function($,k,T,E,D,O,L){if(null!=k){var F=k.Id();if(null!=L&&F.Fc()!=L.Fc()){if(F.od!=L.od)throw B.i.Yk();T=B.Uc.Oh(T,L,F)}}else if(null!=L)throw B.i.O();return B.AC.local().W($,k,T,E,D,O,null)},Be.aP=function($){return B.uC.local().W($,null)},Be.bP=function($,k){var T=B.uC.local();for($=new B.$c($),k=T.W($,k,null),T=[];null!=($=k.next());)T.push($);return T},Be.iz=function($,k,T){return B.Gx.local().iz($,k,T)},Be.jz=function($,k){return B.Gx.local().jz($,k)},Be.kz=function($,k,T,E){return B.Gx.local().kz($,k,T,E)},Be.YB=function($,k){return B.$l.local().W($,k,!1,null)},Be.US=function($,k){return B.$l.local().ss($,k,null)},Be.IQ=function($,k,T,E,D){var O=B.wC.local();if(null!=k){if(k=k.Id(),null!=D&&k.Fc()!=D.Fc()){if(k.od!=D.od)throw B.i.Yk();T=B.Uc.Oh(T,D,k)}}else if(null!=D)throw B.i.O();return O.W($,T,E,null)},Be.Rr=function($,k,T,E){var D=B.Zl.local();if(null!=k){if(k=k.Id(),null!=E&&k.Fc()!=E.Fc()){if(k.od!=E.od)throw B.i.Yk();T=B.Uc.Oh(T,E,k)}}else if(null!=E)throw B.i.O();return D.W($,T,null)},Be.Ry=function($,k,T,E,D){void 0===D&&(D=0);var O=B.kL.local();if(4==D||0!==D)throw B.i.Fe();if(null!==E){if(0!==E.od)throw B.i.O("Unit must be a linear unit type");T=B.Uc.Oh(T,E,B.Uc.$g(9001))}return O.W($,T,k,D,null)},Be.OQ=function($,k,T,E){if(null===$)return 0;if(4==E||0!==E)throw B.i.Fe();if(197==$.K())$=Be.JT($);else if(1736!=$.K())return 0;if(E=B.cb.tc(k),$=B.cb.Ah($,k,E),$=B.MK.PQ([$])[0],null!==T){if(2!==T.od)throw B.i.O("Unit must be a area unit type");$=B.Uc.Oh($,B.Uc.$g(109404),T)}return $},Be.RQ=function($,k,T,E){if($=B.mL.local().W($,k,E,null),null!==T){if(0!==T.od)throw B.i.O("Unit must be a linear unit type");$=B.Uc.Oh($,B.Uc.$g(9001),T)}return $},Be.zU=function($,k,T){if(null===$)return 0;var E=null;if(null!=k){if(0==(E=k.Id()).od&&null==(E=B.Uc.TF(E))&&null!==T)throw B.i.O();if(null!=T&&E.Fc()!=T.Fc()&&E.od!=T.od)throw B.i.Yk()}else if(null!=T)throw B.i.O();return 1736==$.K()||197==$.K()?($=$.He(),null!==T?B.Uc.Oh($,E,T):$):0},Be.AU=function($,k,T){if(null===$||$.B()||1>$.Eb())return 0;var E=null;if(null!=k){if(E=k.Id(),null!=T&&E.Fc()!=T.Fc()&&E.od!=T.od)throw B.i.Yk()}else if(null!=T)throw B.i.O();1736==$.K()||197==$.K()?k=$.mg():B.ba.zd($.K())?(k=new B.Ua($.description)).oc($,!0):k=$,$=0,k=k.Ha();for(var D=new B.h,O=new B.h;k.ab();)for(;k.Ia();){var L=k.ia();L.$p(D),L.Ur(O),$+=B.h.ub(D,O)}return null!==E&&null!==T&&($=B.Uc.Oh($,E,T)),$},Be.YO=function($){return void 0!==$.points?Be.dS($,void 0!==$.hasZ&&$.hasZ,void 0!==$.hasM&&$.hasM):void 0!==$.rings?Be.dG($.rings,void 0!==$.hasZ&&$.hasZ,void 0!==$.hasM&&$.hasM,"P"):void 0!==$.paths?Be.dG($.paths,void 0!==$.hasZ&&$.hasZ,void 0!==$.hasM&&$.hasM,"L"):void 0!==$.x?Be.eS($):void 0!==$.xmin?Be.cS($):null},Be.eS=function($){if(null==$.x||"NaN"==$.x)return new B.Ta;var k=new B.Ta($.x,$.y);return null!=$.z&&k.kX($.z),null!=$.m&&k.VW($.m),k},Be.cS=function($){if(null==$.xmin||"NaN"==$.xmin)return new B.Gh;var k=new B.Gh($.xmin,$.ymin,$.xmax,$.ymax);return null!=$.zmin&&k.setInterval(1,0,$.zmin,$.zmax),null!=$.mmin&&k.setInterval(2,0,$.mmin,$.mmax),k},Be.dS=function($,k,T){var E=0,D=new B.de,O=3*$.points.length;O%2!=0&&O++,2>O&&(O=2);var L=B.P.truncate(3*$.points.length/2);4>L?L=4:16>L&&(L=16),O=B.Zc.En(O,0);var F=B.Zc.En(L);L=B.Zc.En(L);for(var V=0;V<$.points.length;V++)O.write(2*V,$.points[V][0]),O.write(2*V+1,$.points[V][1]),F.write(V,k||T?$.points[V][2]:NaN),L.write(V,T&&k?$.points[V][3]:NaN),E++;return 0!=E&&(D.resize(E),D.kn(0,O)),k&&(D.se(1),D.kn(1,F)),T&&(D.se(2),D.kn(2,0==k?F:L)),D.Qc(16777215),D},Be.dG=function($,k,T,E){var D=0,O=2;if("P"==E){var L=new B.Ea;D=1,O=3}else L=new B.Ua;for(var F=B.Zc.Ph(0),V=B.Zc.Nr(0),W=0,X=0,ie=[],Y=[],te=0;te<$.length;te++){var ne=$[te].length;if(ie[te]=!1,"P"===E&&$[te][0][0]===$[te][$[te].length-1][0]&&$[te][0][1]===$[te][$[te].length-1][1]){var we=0==T||$[te][0][3]===$[te][$[te].length-1][3]||void 0===$[te][0][3]&&void 0===$[te][$[te].length-1][3];(0==k||$[te][0][2]===$[te][$[te].length-1][2]||void 0===$[te][0][2]&&void 0===$[te][$[te].length-1][2])&&we&&(ie[te]=!0,--ne)}ne>=O?(Y[te]=!1,X+=1,F.add(W),V.add(D),W+=ne):Y[te]=!0}for((E=3*W)%2!=0&&E++,2>E&&(E=2),4>(te=B.P.truncate(3*W/2))?te=4:16>te&&(te=16),E=B.Zc.En(E,0),D=B.Zc.En(te),O=B.Zc.En(te),te=ne=0;te<$.length;te++)if(!1===Y[te])for(we=0;we<$[te].length;we++){var ze=!1;we===$[te].length-1&&!0===ie[te]&&(ze=!0),ze||(E.write(2*ne,$[te][we][0]),E.write(2*ne+1,$[te][we][1]),D.write(ne,k||T?$[te][we][2]:NaN),O.write(ne,T&&k?$[te][we][3]:NaN),ne++)}return 0!=W&&($=L,F.resize(X),V.resize(X),0<W&&(F.add(W),V.add(0)),$.kn(0,E),$.HJ(V),$.IJ(F)),k&&(L.se(1),L.kn(1,D)),T&&(L.se(2),L.kn(2,0==k?D:O)),L.Qc(16777215),L},Be}()}(st||(st={})),function(B){B.Cx=function(){function Be(){}return Be.dr=function($){var k,T=0,E=$.length,D=$[0];for(k=0;k<E-1;k++){var O=$[k+1];T+=(O[0]-D[0])*(O[1]+D[1]),D=O}return 0<=T},Be.rotate=function($,k,T){k=k*Math.PI/180;var E=Math.cos(k),D=Math.sin(k);if(void 0!==$.paths){k={paths:[]};for(var O=0;O<$.paths.length;O++){for(var L=$.paths[O],F=[],V=0;V<L.length;V++){var W=L[V].slice(0);F.push(W);var X=E*(L[V][0]-T.x)-D*(L[V][1]-T.y)+T.x,ie=D*(L[V][0]-T.x)+E*(L[V][1]-T.y)+T.y;W[0]=X,W[1]=ie}k.paths.push(F)}return k}if(void 0!==$.rings){for(k={rings:[]},O=0;O<$.rings.length;O++){F=[];var Y=Be.dr(L=$.rings[O]);for(V=0;V<L.length;V++)W=L[V].slice(0),F.push(W),ie=D*(L[V][0]-T.x)+E*(L[V][1]-T.y)+T.y,W[0]=X=E*(L[V][0]-T.x)-D*(L[V][1]-T.y)+T.x,W[1]=ie;Be.dr(F)!==Y&&F.reverse(),k.rings.push(F)}return k}if(void 0!==$.x)return k={x:E*($.x-T.x)-D*($.y-T.y)+T.x,y:D*($.x-T.x)+E*($.y-T.y)+T.y},void 0!==$.z&&(k.z=$.z),void 0!==$.m&&(k.m=$.m),k;if(void 0!==$.points){for(k={points:[]},$=$.points,V=0;V<$.length;V++)(O=$[V].slice(0))[0]=E*($[V][0]-T.x)-D*($[V][1]-T.y)+T.x,O[1]=D*($[V][0]-T.x)+E*($[V][1]-T.y)+T.y,k.points.push(O);return k}return null},Be.BQ=function($,k){if(void 0!==$.paths){for(var T={paths:[]},E=0;E<$.paths.length;E++){for(var D=$.paths[E],O=[],L=0;L<D.length;L++){var F=D[L].slice(0);O.push(F);var V=k.x-D[L][0];F[0]=D[L][0]+2*V}T.paths.push(O)}return T}if(void 0!==$.rings){for(T={rings:[]},E=0;E<$.rings.length;E++){var W=Be.dr(D=$.rings[E]);for(O=[],L=0;L<D.length;L++)F=D[L].slice(0),O.push(F),F[0]=D[L][0]+2*(V=k.x-D[L][0]);Be.dr(O)!==W&&O.reverse(),T.rings.push(O)}return T}if(void 0!==$.x)return T={x:$.x+2*(V=k.x-$.x),y:$.y},void 0!==$.z&&(T.z=$.z),void 0!==$.m&&(T.m=$.m),T;if(void 0!==$.points){for(T={points:[]},$=$.points,L=0;L<$.length;L++)(E=$[L].slice(0))[0]+=2*(V=k.x-E[0]),T.points.push(E);return T}return void 0!==$.xmin?(T={v:$.xmin,G:$.ymin,C:$.xmax,H:$.ymax},void 0!==$.zmin&&(T.zmin=$.zmin,T.zmax=$.zmax),void 0!==$.mmin&&(T.mmin=$.mmin,T.mmax=$.mmax),T.xmax=$.xmin+2*(V=k.x-$.xmin),T.xmin=$.xmax+2*(V=k.x-$.xmax),T):null},Be.CQ=function($,k){if(void 0!==$.paths){for(var T={paths:[]},E=0;E<$.paths.length;E++){for(var D=$.paths[E],O=[],L=0;L<D.length;L++){var F=D[L].slice(0);O.push(F);var V=k.y-D[L][1];F[1]=D[L][1]+2*V}T.paths.push(O)}return T}if(void 0!==$.rings){for(T={rings:[]},E=0;E<$.rings.length;E++){var W=Be.dr(D=$.rings[E]);for(O=[],L=0;L<D.length;L++)F=D[L].slice(0),O.push(F),F[1]=D[L][1]+2*(V=k.y-D[L][1]);Be.dr(O)!==W&&O.reverse(),T.rings.push(O)}return T}if(void 0!==$.x)return T={y:$.y+2*(V=k.y-$.y),x:$.x},void 0!==$.z&&(T.z=$.z),void 0!==$.m&&(T.m=$.m),T;if(void 0!==$.points){for(T={points:[]},$=$.points,L=0;L<$.length;L++)(E=$[L].slice(0))[1]+=2*(V=k.y-E[1]),T.points.push(E);return T}return void 0!==$.xmin?(T={v:$.xmin,G:$.ymin,C:$.xmax,H:$.ymax},void 0!==$.zmin&&(T.zmin=$.zmin,T.zmax=$.zmax),void 0!==$.mmin&&(T.mmin=$.mmin,T.mmax=$.mmax),T.ymax=$.ymin+2*(V=k.y-$.ymin),T.ymin=$.ymax+2*(V=k.y-$.ymax),T):null},Be}()}(st||(st={})),function(B){B.RK=function(){function Be(){}return Be.Kg=function($,k){switch(null==k&&(k=B.ee.og()),$){case 33:return new B.Ta(k);case 322:return new B.zb(k);case 197:return new B.Gh(k);case 550:return new B.de(k);case 1607:return new B.Ua(k);case 1736:return new B.Ea(k);default:throw B.i.ga("invalid argument.")}},Be}()}(st||(st={})),function(B){var Be=function(){function $(k,T){this.Qe=B.ja.rf(k,-1),this.va=new B.bu,this.yl=T}return $.prototype.qW=function(k){this.va.At(Math.min(this.Qe.size,k)),this.va.hn(k)},$.prototype.addElement=function(k,T){if(void 0===T)return this.XM(k);T=B.P.truncate(T%this.Qe.size);var E=this.Qe.get(T);return-1==E&&(E=this.va.Qh(),this.Qe.set(T,E)),this.va.addElement(E,k)},$.prototype.XM=function(k){var T=this.yl.ez(k);T=B.P.truncate(T%this.Qe.size);var E=this.Qe.get(T);return-1==E&&(E=this.va.Qh(),this.Qe.set(T,E)),this.va.addElement(E,k)},$.prototype.kd=function(k,T){if(void 0===T)this.CP(k);else{T=B.P.truncate(T%this.Qe.size);var E=this.Qe.get(T);if(-1==E)throw B.i.O();for(var D=this.va.sc(E),O=-1;-1!=D;){var L=this.va.lb(D);this.va.ka(D)==k?(this.va.kd(E,O,D),-1==this.va.sc(E)&&(this.va.dh(E),this.Qe.set(T,-1))):O=D,D=L}}},$.prototype.CP=function(k){var T=this.yl.ez(k);T=B.P.truncate(T%this.Qe.size);var E=this.Qe.get(T);if(-1==E)throw B.i.O();for(var D=this.va.sc(E),O=-1;-1!=D;){var L=this.va.lb(D);this.va.ka(D)==k?(this.va.kd(E,O,D),-1==this.va.sc(E)&&(this.va.dh(E),this.Qe.set(T,-1))):O=D,D=L}},$.prototype.iR=function(k){return k=B.P.truncate(k%this.Qe.size),-1==(k=this.Qe.get(k))?-1:this.va.sc(k)},$.prototype.wR=function(k){return this.va.lb(k)},$.prototype.wd=function(k){var T=this.yl.ez(this.ka(k));T=B.P.truncate(T%this.Qe.size);var E=this.Qe.get(T);if(-1==E)throw B.i.O();for(var D=this.va.sc(E),O=-1;-1!=D;){if(D==k)return this.va.kd(E,O,D),void(-1==this.va.sc(E)&&(this.va.dh(E),this.Qe.set(T,-1)));O=D,D=this.va.lb(D)}throw B.i.O()},$.prototype.ka=function(k){return this.va.ka(k)},$.prototype.clear=function(){this.Qe=B.ja.rf(this.Qe.size,-1),this.va.clear()},$.prototype.size=function(){return this.va.LF()},$}();B.WK=Be}(st||(st={})),function(B){var Be=function(){function $(){this.Mi=new B.ad(3),this.va=new B.ad(6),this.hT=!1,this.je=-1}return $.prototype.hl=function(k){this.Mi.kd(k)},$.prototype.Qw=function(){return this.Mi.De()},$.prototype.cv=function(k){this.va.kd(k)},$.prototype.UA=function(){return this.va.De()},$.prototype.PB=function(k,T){this.Mi.T(k,1,T)},$.prototype.ex=function(k,T){this.Mi.T(k,2,T)},$.prototype.UW=function(k,T){this.Mi.T(k,3,T)},$.prototype.NB=function(k,T){this.va.T(k,4,T)},$.prototype.XW=function(k,T){this.va.T(k,3,T)},$.prototype.LJ=function(k,T){this.va.T(k,2,T)},$.prototype.Qh=function(k){var T=this.UA();return this.va.T(T,3,this.je),this.va.T(T,4,0),this.va.T(T,5,k),-1!=this.je&&this.LJ(this.je,T),this.je=T},$.prototype.dh=function(k){this.DE(k);var T=this.va.U(k,2),E=this.va.U(k,3);return-1!=T?this.XW(T,E):this.je=E,-1!=E&&this.LJ(E,T),this.cv(k),E},$.prototype.At=function(k){this.va.Ee(k)},$.prototype.HF=function(k){return this.va.U(k,5)},$.prototype.TW=function(k,T){this.va.T(k,5,T)},$.prototype.addElement=function(k,T){return this.kS(k,T)},$.prototype.kS=function(k,T){var E=this.Qw();this.ex(E,-1),-1==this.va.U(k,0)&&this.va.T(k,0,E);var D=this.va.U(k,1);return this.PB(E,D),-1!=D&&this.ex(D,E),this.va.T(k,1,E),this.setData(E,T),this.NB(k,this.cs(k)+1),this.hT&&this.UW(E,k),E},$.prototype.kd=function(k,T){var E=this.xe(T),D=this.lb(T);return-1!=E?this.ex(E,D):this.va.T(k,0,D),-1!=D?this.PB(D,E):this.va.T(k,1,E),this.hl(T),this.NB(k,this.cs(k)-1),D},$.prototype.hn=function(k){this.Mi.Ee(k)},$.prototype.getData=function(k){return this.Mi.U(k,0)},$.prototype.setData=function(k,T){this.Mi.T(k,0,T)},$.prototype.lb=function(k){return this.Mi.U(k,2)},$.prototype.xe=function(k){return this.Mi.U(k,1)},$.prototype.sc=function(k){return this.va.U(k,0)},$.prototype.Gc=function(k){return this.va.U(k,1)},$.prototype.clear=function(){for(var k=this.je;-1!=k;)k=this.dh(k)},$.prototype.DE=function(k){for(var T=this.Gc(k);-1!=T;){var E=T;T=this.xe(E),this.hl(E)}this.va.T(k,0,-1),this.va.T(k,1,-1),this.NB(k,0)},$.prototype.B=function(){return 0==this.Mi.size},$.prototype.LF=function(){return this.Mi.size},$.prototype.cs=function(k){return this.va.U(k,4)},$.prototype.lz=function(k){return this.va.U(k,3)},$}();B.kp=Be}(st||(st={})),function(B){var Be=function(){function $(k){void 0===k?(this.ug=new B.ad(2),this.va=new B.ad(4),this.je=-1,this.Rv=!0):(this.ug=new B.ad(2),this.va=new B.ad(k?4:2),this.je=-1,this.Rv=k)}return $.prototype.hl=function(k){this.ug.kd(k)},$.prototype.Qw=function(){return this.ug.De()},$.prototype.cv=function(k){this.va.kd(k)},$.prototype.UA=function(){return this.va.De()},$.prototype.Qh=function(){var k=this.UA();return this.Rv&&(this.va.T(k,3,this.je),-1!=this.je&&this.va.T(this.je,2,k),this.je=k),k},$.prototype.dh=function(k){for(var T=this.sc(k);-1!=T;){var E=T;T=this.lb(T),this.hl(E)}this.Rv&&(T=this.va.U(k,2),E=this.va.U(k,3),-1!=T?this.va.T(T,3,E):this.je=E,-1!=E&&this.va.T(E,2,T)),this.cv(k)},$.prototype.At=function(k){this.va.Ee(k)},$.prototype.addElement=function(k,T){var E=this.va.U(k,1),D=this.Qw();return-1!=E?this.ug.T(E,1,D):this.va.T(k,0,D),this.va.T(k,1,D),this.ug.T(D,0,T),D},$.prototype.hn=function(k){this.ug.Ee(k)},$.prototype.kd=function(k,T,E){-1!=T?(this.ug.T(T,1,this.ug.U(E,1)),this.va.U(k,1)==E&&this.va.T(k,1,T)):(this.va.T(k,0,this.ug.U(E,1)),this.va.U(k,1)==E&&this.va.T(k,1,-1)),this.hl(E)},$.prototype.By=function(k,T){var E=this.va.U(k,1),D=this.va.U(T,0);-1!=D&&(-1!=E?this.ug.T(E,1,D):this.va.T(k,0,D),this.va.T(k,1,this.va.U(T,1))),this.Rv&&(k=this.va.U(T,2),E=this.va.U(T,3),-1!=k?this.va.T(k,3,E):this.je=E,-1!=E&&this.va.T(E,2,k)),this.cv(T)},$.prototype.ka=function(k){return this.ug.U(k,0)},$.prototype.Tj=function(k,T){this.ug.T(k,0,T)},$.prototype.lb=function(k){return this.ug.U(k,1)},$.prototype.sc=function(k){return this.va.U(k,0)},$.prototype.Kn=function(k){return this.ka(this.sc(k))},$.prototype.clear=function(){this.ug.nj(!0),this.va.nj(!0),this.je=-1},$.prototype.B=function(){return 0==this.ug.size},$.prototype.LF=function(){return this.ug.size},$.prototype.lz=function(k){return this.va.U(k,3)},$}();B.bu=Be}(st||(st={})),function(B){B.ta=function(){function Be(){}return Be.Xd=function($,k,T){return k=k.zr(),$=null!=$&&void 0!==$.Yd?$.Yd(0):0,T&&(k*=4,$*=1.1),Math.max($,k)},Be.Gr=function($){return 2*Math.sqrt(2)*$},Be.jN=function($){return Math.sqrt(2)*$},Be.lj=function($,k,T){var E=new B.l;return k.A(E),Be.Xd($,E,T)},Be.oE=function($,k,T){return k=k.Ug(1,0).zr(),$=null!=$?$.Yd(1):0,T&&(k*=4,$*=1.1),Math.max($,k)},Be.nv=function($,k){var T=new B.l;return $.yc(T),$=new B.l,k.yc($),T.$b($),T},Be.QN=function($){var k=new B.l;if($.yc(k),k.B())return null;var T=new B.eu(k,8),E=-1,D=new B.l,O=!1;do{for(var L=0,F=$.ea();L<F;L++){if($.Sj(L,D),-1==(E=T.Ez(L,D,E))){if(O)throw B.i.ga("internal error");$.Ap(k,!1),O=!0,T.reset(k,8);break}O=!1}}while(O);return T},Be.fE=function($){var k=new B.l;$.yc(k);for(var T=new B.eu(k,8),E=-1,D=$.Ha(),O=new B.l,L=!1;D.ab();)for(;D.Ia();){var F=D.ia(),V=D.xb();if(F.A(O),-1==(E=T.Ez(V,O,E))){if(L)throw B.i.Ra();$.Ap(k,!1),L=!0,T.reset(k,8),D.$i();break}}return T},Be.kj=function($,k){var T=new B.l;$.yc(T);for(var E=new B.eu(T,8),D=-1,O=new B.l,L=$.Ha(),F=!1;L.ab();)for(;L.Ia();){var V=L.ia(),W=L.xb();if(V.A(O),O.isIntersecting(k)&&-1==(D=E.Ez(W,O,D))){if(F)throw B.i.ga("internal error.");$.Ap(T,!1),F=!0,E.reset(T,8),L.$i();break}}return E},Be.gE=function($,k){for(var T=new B.eu(k,8),E=new B.h,D=!1,O=new B.l,L=0;L<$.I();L++)if($.D(L,E),k.contains(E)&&(O.L(E),-1==T.wj(L,O))){if(D)throw B.i.Ra();D=!0,L=new B.l,$.Ap(L,!1),T.reset(L,8),L=-1}return T},Be.dR=function($,k,T){var E=new B.l,D=new B.l;$.yc(E),k.yc(D),E.X(T,T),D.X(T,T);var O=new B.l;O.L(E),O.Fa(D),$=$.Ha(),k=k.Ha();var L=new B.qC;L.UB(T);var F=!1;for(L.hK();$.ab();)for(;$.Ia();)$.ia().A(E),E.isIntersecting(O)&&(F=!0,(T=new B.l).L(E),L.AD($.xb(),T));if(L.aF(),!F)return null;for(E=!1,L.gK();k.ab();)for(;k.Ia();)k.ia().A(D),D.isIntersecting(O)&&(E=!0,(T=new B.l).L(D),L.wD(k.xb(),T));return L.$E(),E?L:null},Be.eR=function($,k,T,E,D){var O=$.K(),L=k.K(),F=new B.l,V=new B.l;$.yc(F),k.yc(V),F.X(T,T),V.X(T,T);var W=new B.l;W.L(F),W.Fa(V);var X=new B.qC;X.UB(T);var ie=!1;X.hK();var Y=0;for(T=$.ea();Y<T;Y++)E&&1736==O&&!$.Fv(Y)||($.Sj(Y,F),F.isIntersecting(W)&&(ie=!0,X.AD(Y,F)));if(X.aF(),!ie)return null;for($=!1,X.gK(),E=0,T=k.ea();E<T;E++)D&&1736==L&&!k.Fv(E)||(k.Sj(E,V),V.isIntersecting(W)&&($=!0,X.wD(E,V)));return X.$E(),$?X:null},Be.Tu=function($,k,T){if($!=k)for(var E=0;E<T;E++)null==$[E]?$[E]=B.h.bl(k[E]):$[E].N(k[E])},Be.Dy=function($,k,T,E){var D=0;for(E+=0;D<E;T++,D++)null==$[D]&&($[D]=[0,0]),$[D][0]=k[T].x,$[D][1]=k[T].y},Be.Cy=function($,k,T,E){var D=k,O=0;for(k=E+k;D<k;O++,D++)null==$[D]?$[D]=B.h.construct(T[O][0],T[O][1]):$[D].na(T[O][0],T[O][1])},Be.cP=function($,k,T){if($!=k)for(var E=0;E<T;E++)null==$[E]?$[E]=new B.Ta(k[E]):k[E].copyTo($[E])},Be.nE=function($,k,T,E){var D=0;return null!=$&&(D=$.Yd(0),E&&!T||null==$||(D+=1.01*$.pz(0))),T&&(k*=4,D*=1.01),Math.max(D,k)},Be.ny=function($,k,T){return Be.nE($,k.zr(),T,!1)},Be.ZN=function($,k){var T=new B.l;return k.A(T),Be.ny($,T,!0)},Be.oy=function($,k){return Be.nE($,k.zr(),!1,!0)},Be.Iu=function($,k){var T=new B.l;return k.A(T),Be.oy($,T)},Be.sG=function($,k,T,E){E*=E;var D=new B.h;if(D.vc($,k),($=new B.h).vc(T,k),k=D.Sk(),T=$.Sk(),k<=E&&T<=E)return!0;var O=B.mc.nx(D.xi($));return(O<=E*k||O<=E*T)&&0<=D.Rh($)},Be.WJ=function($,k,T,E){for(var D=0;D<k;D++){var O=$[D].y,L=B.P.Rk(O,T,E);L!=O&&($[D].y=L)}},Be}()}(st||(st={})),function(B){var Be,$,k=function(){function O(L){this.Za=L}return O.prototype.compare=function(L,F,V){L=L.ka(V),V=this.Za.nk(F);var W=this.Za.nk(L);return V<W?-1:V==W?D.iq(F)&&D.Hv(L)?-1:D.iq(L)&&D.Hv(F)?1:0:1},O}(),T=function(){function O(L){this.Za=L}return O.prototype.qr=function(L,F,V){this.Za.uX(V,L,F)},O.prototype.bq=function(L){return this.Za.nk(L)},O}();($=Be||(Be={}))[$.initialize=0]="initialize",$[$.pIn=1]="pIn",$[$.pL=2]="pL",$[$.pR=3]="pR",$[$.pT=4]="pT",$[$.right=5]="right",$[$.left=6]="left",$[$.all=7]="all";var E=function(){function O(){this.Za=null,this.Ri=new B.Oc,this.ii=new B.ja(0),this.sg=[0,0]}return O.prototype.Yi=function(L,F){this.Ri.pa=L.pa-F,this.Ri.wa=L.wa+F,this.ii.resize(0),this.he=0,this.sg[0]=0},O.prototype.yB=function(L,F,V){if(L>F)throw B.i.O();this.Ri.pa=L-V,this.Ri.wa=F+V,this.ii.resize(0),this.he=0,this.sg[0]=0},O.prototype.Vo=function(L,F){this.Ri.pa=L-F,this.Ri.wa=L+F,this.ii.resize(0),this.he=0,this.sg[0]=0},O.prototype.next=function(){if(!this.Za.nq)throw B.i.Hb();if(0>this.he)return-1;for(var L=!0;L;)switch(this.sg[this.he]){case 1:L=this.vU();break;case 2:L=this.wU();break;case 3:L=this.xU();break;case 4:L=this.yU();break;case 5:L=this.vW();break;case 6:L=this.aT();break;case 7:L=this.lN();break;case 0:L=this.Bz();break;default:throw B.i.Ra()}return-1!=this.Pg?this.Op()>>1:-1},O.construct=function(L){var F=new O;return F.Za=L,F.ii.Jb(20),F.he=-1,F},O.prototype.Bz=function(){return this.Pg=this.nH=this.Ni=this.Mc=-1,null!=this.Za.me&&0<this.Za.me.size?(this.sg[0]=1,this.Ni=this.Za.kf,!0):(this.he=-1,!1)},O.prototype.vU=function(){if(this.Mc=this.Ni,-1==this.Mc)return this.Pg=this.he=-1,!1;var L=this.Za.Pp(this.Mc);return this.Ri.wa<L?(L=this.Za.mk(this.Mc),this.Ni=this.Za.rj(this.Mc),-1!=L&&(this.fi=this.Za.ml(L),this.sg[++this.he]=6),!0):L<this.Ri.pa?(L=this.Za.mk(this.Mc),this.Ni=this.Za.lk(this.Mc),-1!=L&&(this.fi=this.Za.$r(L),this.sg[++this.he]=5),!0):(this.sg[this.he]=2,this.nH=this.Mc,L=this.Za.mk(this.Mc),this.Ni=this.Za.rj(this.Mc),-1!=L&&(this.fi=this.Za.ml(L),this.sg[++this.he]=7),!0)},O.prototype.wU=function(){if(this.Mc=this.Ni,-1==this.Mc)return this.sg[this.he]=3,this.Ni=this.Za.lk(this.nH),!0;if(this.Za.Pp(this.Mc)<this.Ri.pa){var L=this.Za.mk(this.Mc);return this.Ni=this.Za.lk(this.Mc),-1!=L&&(this.fi=this.Za.$r(L),this.sg[++this.he]=5),!0}return L=this.Za.mk(this.Mc),this.Ni=this.Za.rj(this.Mc),-1!=L&&(this.fi=this.Za.ml(L),this.sg[++this.he]=7),-1!=(L=this.Za.lk(this.Mc))&&this.ii.add(L),!0},O.prototype.xU=function(){if(this.Mc=this.Ni,-1==this.Mc)return this.sg[this.he]=4,!0;if(this.Ri.wa<this.Za.Pp(this.Mc)){var L=this.Za.mk(this.Mc);return this.Ni=this.Za.rj(this.Mc),-1!=L&&(this.fi=this.Za.ml(L),this.sg[++this.he]=6),!0}return L=this.Za.mk(this.Mc),this.Ni=this.Za.lk(this.Mc),-1!=L&&(this.fi=this.Za.ml(L),this.sg[++this.he]=7),-1!=(L=this.Za.rj(this.Mc))&&this.ii.add(L),!0},O.prototype.yU=function(){if(0==this.ii.size)return this.Pg=this.he=-1,!1;this.Mc=this.ii.get(this.ii.size-1),this.ii.resize(this.ii.size-1);var L=this.Za.mk(this.Mc);return-1!=L&&(this.fi=this.Za.ml(L),this.sg[++this.he]=7),-1!=this.Za.rj(this.Mc)&&this.ii.add(this.Za.rj(this.Mc)),-1!=this.Za.lk(this.Mc)&&this.ii.add(this.Za.lk(this.Mc)),!0},O.prototype.aT=function(){return this.Pg=this.fi,-1!=this.Pg&&D.iq(this.Op())&&this.Za.nk(this.Op())<=this.Ri.wa?(this.fi=this.KF(),!1):(this.he--,!0)},O.prototype.vW=function(){return this.Pg=this.fi,-1!=this.Pg&&D.Hv(this.Op())&&this.Za.nk(this.Op())>=this.Ri.pa?(this.fi=this.HR(),!1):(this.he--,!0)},O.prototype.lN=function(){return this.Pg=this.fi,-1!=this.Pg&&D.iq(this.Op())?(this.fi=this.KF(),!1):(this.he--,!0)},O.prototype.KF=function(){return this.Za.Tf?this.Za.ag.lb(this.Pg):this.Za.Ui.lb(this.Pg)},O.prototype.HR=function(){return this.Za.Tf?this.Za.ag.xe(this.Pg):this.Za.Ui.xe(this.Pg)},O.prototype.Op=function(){return this.Za.Tf?this.Za.ag.ka(this.Pg):this.Za.Ui.getData(this.Pg)},O}();B.tY=E;var D=function(){function O(L){this.Cm=this.ai=this.ag=this.Ui=this.Mm=this.Fj=this.me=this.Gj=null,this.Tf=L,this.nq=this.Tv=!1}return O.prototype.mr=function(){this.Nk(!0)},O.prototype.Dr=function(L,F){if(!this.Tv)throw B.i.Hb();this.Gj.push(new B.Oc(L,F))},O.prototype.Hp=function(){if(!this.Tv)throw B.i.ga("invalid call");this.Tv=!1,this.nq=!0,this.Tf||(this.mS(),this.$v=this.Gj.length)},O.prototype.wj=function(L){if(!this.Tf||!this.nq)throw B.i.O("invalid call");if(-1==this.kf){var F=this.Gj.length;if(this.dA){var V=new B.ja(0);V.Jb(2*F),this.UI(V),this.ai.Jb(2*F),this.ai.resize(0),this.TI(V),this.Mm.resize(F,-1),this.Mm.Xj(-1,0,F),this.dA=!1}else this.Mm.Xj(-1,0,F);this.kf=this.Vu()}F=this.hG(L<<1,this.kf),V=this.ag.addElement(1+(L<<1),this.rz(F)),this.NJ(F,V),this.Mm.set(L,F),this.$v++},O.prototype.remove=function(L){if(!this.Tf||!this.nq)throw B.i.ga("invalid call");var F=this.Mm.get(L);if(-1==F)throw B.i.O("the interval does not exist in the interval tree");this.Mm.set(L,-1),this.$v--;var V=this.rz(F),W=this.ag.QR(V);this.ag.wd(this.nR(F),V),this.ag.wd(this.KR(F),V),0==(L=this.ag.size(V))&&(this.ag.EP(V),this.RJ(W,-1)),this.Fj.kd(F),V=this.MF(W);var X=this.rj(W),ie=this.lk(W);for(F=0;!(0<L||W==this.kf||-1!=X&&-1!=ie);)W==this.rj(V)?-1!=X?(this.Ok(V,X),this.Vj(X,V),this.Ok(W,-1)):-1!=ie?(this.Ok(V,ie),this.Vj(ie,V),this.Qk(W,-1)):this.Ok(V,-1):-1!=X?(this.Qk(V,X),this.Vj(X,V),this.Ok(W,-1)):-1!=ie?(this.Qk(V,ie),this.Vj(ie,V),this.Qk(W,-1)):this.Qk(V,-1),this.Vj(W,-1),F++,L=-1!=(V=this.mk(W=V))?this.ag.size(V):0,X=this.rj(W),ie=this.lk(W),V=this.MF(W)},O.prototype.reset=function(){if(!this.Tf||!this.nq)throw B.i.O("invalid call");this.Nk(!1)},O.prototype.size=function(){return this.$v},O.prototype.getIterator=function(){return E.construct(this)},O.prototype.UI=function(L){for(var F=this.Gj.length,V=0;V<2*F;V++)L.add(V);this.vX(L,2*F)},O.prototype.TI=function(L){for(var F=NaN,V=0;V<L.size;V++){var W=L.get(V),X=this.nk(W);X!=F&&(this.ai.add(W),F=X)}},O.prototype.mS=function(){var L=this.Gj.length,F=new B.ja(0);F.Jb(2*L),this.UI(F),this.ai.Jb(2*L),this.ai.resize(0),this.TI(F),this.Fj.Ee(L),this.Ui.hn(2*L);var V=B.Zc.Ph(L);for(V.Xj(-1,0,L),this.kf=this.Vu(),L=0;L<F.size;L++){var W=F.get(L),X=V.get(W>>1);-1!=X?this.NJ(X,this.Ui.addElement(this.rz(X),W)):(X=this.hG(W,this.kf),V.set(W>>1,X))}},O.prototype.hG=function(L,F){var V=F,W=F,X=-1,ie=0,Y=this.ai.size-1,te=0,ne=L>>1,we=NaN,ze=NaN,_t=!0,Mt=this.vR(ne);for(ne=this.sR(ne);_t;){ie<Y?(te=ie+B.P.truncate((Y-ie)/2),-1==this.bz(V)&&this.xJ(V,this.ai.get(te),this.ai.get(te+1))):-1==this.bz(V)&&this.xJ(V,this.ai.get(ie),this.ai.get(ie));var pe=this.Pp(V);if(ne<pe)-1!=F&&(F==V?(W=V,we=pe,ze=-1!=(F=this.rj(V))?this.Pp(F):NaN):ze>pe&&(pe<we?this.Ok(W,V):this.Qk(W,V),this.Qk(V,F),this.Tf&&(this.Vj(V,W),this.Vj(F,V)),W=V,we=pe,F=-1,ze=NaN)),-1==(Y=this.oR(V))&&(Y=this.Vu(),this.RW(V,Y)),V=Y,Y=te;else if(Mt>pe)-1!=F&&(F==V?(W=V,we=pe,ze=-1!=(F=this.lk(V))?this.Pp(F):NaN):ze<pe&&(pe<we?this.Ok(W,V):this.Qk(W,V),this.Ok(V,F),this.Tf&&(this.Vj(V,W),this.Vj(F,V)),W=V,we=pe,F=-1,ze=NaN)),-1==(ie=this.LR(V))&&(ie=this.Vu(),this.bX(V,ie)),V=ie,ie=te+1;else{-1==(_t=this.mk(V))&&(_t=this.rP(V),this.RJ(V,_t));var Ge=this.YM(_t,L);X=this.pP(),this.eX(X,_t),this.QW(X,Ge),V!=F&&(pe<we?this.Ok(W,V):this.Qk(W,V),this.Tf&&this.Vj(V,W),-1!=F&&(ze<pe?this.Ok(V,F):this.Qk(V,F),this.Tf&&this.Vj(F,V))),_t=!1}}return X},O.prototype.Vu=function(){return this.me.De()},O.prototype.rP=function(L){return this.Tf?this.ag.Qr(L):this.Ui.Qh(L)},O.prototype.pP=function(){return this.Fj.De()},O.prototype.Nk=function(L){L?(this.Tv=this.dA=!0,this.nq=!1,null==this.ai?this.ai=B.Zc.Ph(0):this.ai.resize(0),null==this.Gj?this.Gj=[]:this.Gj.length=0):this.dA=!1,this.Tf?null==this.Mm?(this.Mm=B.Zc.Ph(0),this.ag=new B.Yj,this.ag.Wo(new k(this))):this.ag.clear():null==this.Ui?this.Ui=new B.kp:this.Ui.clear(),null==this.me?(this.Fj=new B.ad(3),this.me=new B.ad(this.Tf?8:7)):(this.Fj.nj(!1),this.me.nj(!1)),this.kf=-1,this.$v=0},O.prototype.xJ=function(L,F,V){this.KW(L,F),this.LW(L,V)},O.prototype.Pp=function(L){var F=this.bz(L);return-1==F?NaN:(F=this.nk(F))==(L=this.nk(this.ZQ(L)))?F:.5*(F+L)},O.prototype.KW=function(L,F){this.me.T(L,0,F)},O.prototype.LW=function(L,F){this.me.T(L,1,F)},O.prototype.RW=function(L,F){this.me.T(L,3,F)},O.prototype.bX=function(L,F){this.me.T(L,4,F)},O.prototype.RJ=function(L,F){this.me.T(L,2,F)},O.prototype.Ok=function(L,F){this.me.T(L,5,F)},O.prototype.Qk=function(L,F){this.me.T(L,6,F)},O.prototype.Vj=function(L,F){this.me.T(L,7,F)},O.prototype.eX=function(L,F){this.Fj.T(L,0,F)},O.prototype.YM=function(L,F){return this.Tf?this.ag.addElement(F,L):this.Ui.addElement(L,F)},O.prototype.QW=function(L,F){this.Fj.T(L,1,F)},O.prototype.NJ=function(L,F){this.Fj.T(L,2,F)},O.prototype.ml=function(L){return this.Tf?this.ag.sc(L):this.Ui.sc(L)},O.prototype.$r=function(L){return this.Tf?this.ag.Gc(L):this.Ui.Gc(L)},O.iq=function(L){return 0==(1&L)},O.Hv=function(L){return 1==(1&L)},O.prototype.bz=function(L){return this.me.U(L,0)},O.prototype.ZQ=function(L){return this.me.U(L,1)},O.prototype.mk=function(L){return this.me.U(L,2)},O.prototype.oR=function(L){return this.me.U(L,3)},O.prototype.LR=function(L){return this.me.U(L,4)},O.prototype.rj=function(L){return this.me.U(L,5)},O.prototype.lk=function(L){return this.me.U(L,6)},O.prototype.MF=function(L){return this.me.U(L,7)},O.prototype.rz=function(L){return this.Fj.U(L,0)},O.prototype.nR=function(L){return this.Fj.U(L,1)},O.prototype.KR=function(L){return this.Fj.U(L,2)},O.prototype.vR=function(L){return this.Gj[L].pa},O.prototype.sR=function(L){return this.Gj[L].wa},O.prototype.vX=function(L,F){null==this.Cm&&(this.Cm=new B.Yt);var V=new T(this);this.Cm.sort(L,0,F,V)},O.prototype.uX=function(L,F,V){var W=this;L.Wd(F,V,function(X,ie){var Y=W.nk(X),te=W.nk(ie);return Y<te||Y==te&&O.iq(X)&&O.Hv(ie)?-1:1})},O.prototype.nk=function(L){var F=this.Gj[L>>1];return O.iq(L)?F.pa:F.wa},O}();B.ur=D}(st||(st={})),function(B){var Be=function(){function $(k){if(null==k)throw B.i.ga("Invalid arguement");this.hf=k;var T=k.fR();this.mo=T.ZR()?k.ef.AG()?B.ti.PannableFold:B.ti.Clip:B.ti.DontClip,this.Sm=T.$R()?k.Zf.AG()?B.ti.PannableFold:B.ti.Clip:B.ti.DontClip,this.Dm=T.Lu,this.eH=T.Gy,this.TG=(k=this.hf.kH).js(2147483648),this.Vv=k.js(1073741824)}return $.Ah=function(k,T,E){return T.xw.Ah(k,E)},$.St=function(k,T,E,D){return k.xw.St(T,E,D)},$.Rt=function(k,T,E,D){if((k=k.xw.St(T,E=0>E?T.length:E,D))==E)return k;for(var O=T=0;O<E;O++){var L=D[O];L.isNaN()||(T<O&&D[T].N(L),T++)}for(;T<E;T++)D[T].Sc();return k},$.transform=function(k,T,E,D,O){if(k.isIdentity())return B.ta.cP(D,T,E),E;for(var L=[],F=0,V=0;V<E;){for(var W=Math.min(L.length,E-V),X=V,ie=0;X<W;X++,ie++)null==L[ie]?L[ie]=T[X].D():T[X].D(L[ie]);var Y=O?$.Rt(k,L,W,L):$.St(k,L,W,L);for(ie=X=0;X<Y;X++,ie++)null==D[V]&&(D[V]=new B.Ta(T[V])),D[V].Db(L[ie]);V+=W,F+=Y}return F},$.prototype.St=function(k,T,E){if(this.hf.isIdentity())return k!=E&&B.ta.Tu(E,k,T),T;var D=this.hf.ef,O=this.hf.Zf,L=D.Tb(),F=O.Tb();if(0==L&&L===F){var V=D.Sp();return O=V/(O=O.Sp()),(V=new B.Ed).It(O,O),V.TX(k,T,E),T}if(V=B.P.Gu(Math.min(T,64)),3==L){var W=D.Ki;L=(D=W.fk()).Tb(),E!=k&&B.ta.Tu(E,k,T),B.Ab.al(W,E,T,!0),W.Rt(B.dm.forward,E,T),B.Ab.$k(W,E,T,!0)}if(3==L||3===F)throw B.i.ga("image: transform_in_place_");if(2==L)this.mo==B.ti.Clip?(E!=k&&B.ta.Tu(E,k,T),k=D.ol(),B.Ab.FS(k,D,E,T)):(E!=k&&B.ta.Tu(E,k,T),D.Xc()&&(L=D.Yd(0),W=D.Le(),B.Ab.sX(E,T,W,L),B.Ab.iF(E,T,D,0))),B.Ab.AL(D,E,T,V);else for(L=D.Yd(0),W=D.Le(),D=0;D<T;D++)B.Ab.tX(k[D],W,L,E[D]);for(B.Ab.yL(this.hf,E,T,V),k=0,(F=2==F)?k=O.Ai():isNaN(this.Dm)||(k=this.Dm),F&&this.Sm!=B.ti.Clip||B.Ab.iF(E,T,O.tc(),k),F&&(B.Ab.qG(E,T,O,this.Sm),B.Ab.zL(O,E,T,V)),k=T,D=0;D<T;++D)E[D].isNaN()&&k--;return k},$.prototype.Ah=function(k,T){if(this.hf.isIdentity()||k.B())return k;if(33==k.K())return this.OI(k);var E=this.hf.ef,D=this.hf.Zf,O=E.Tb(),L=D.Tb();if(0==O&&O==L)return T=E.Sp(),T/=D=D.Sp(),(D=new B.Ed).It(T,T),(k=B.ba.ig(k)).Pc(D),k;switch(k.K()){case 1607:case 1736:k=this.MI(k,T);break;case 550:k=this.WV(k,T);break;case 197:k=this.VV(k,T);break;default:throw B.i.ga("")}return k},$.prototype.OI=function(k){var T=k.D(),E=[];return E[0]=T,this.St(E,1,E),(k=new B.Ta(k)).Db(E[0]),k},$.prototype.MI=function(k,T){if(k.vm())throw B.i.ga("curves not supported");var E=k.K();if(1736==E)return this.XV(k,T);if(1607==E)return this.YV(k,T);throw B.i.ga("projectMultiPath")},$.prototype.XV=function(k,T){var E=this.hf.ef,D=this.hf.Zf,O=E.Tb(),L=D.Tb(),F=B.P.Gu(Math.min(k.I(),64)),V=B.Ea.ig(k);3==O&&(O=(E=(k=E.Ki).fk()).Tb(),V=k.al(V,!0),this.yp(k,B.dm.forward,V),V=k.$k(V,!0)),k=null,3==L&&(L=(D=(k=D.Ki).fk()).Tb());var W=2==O,X=2==L,ie=X?D.tc():D,Y=!X&&!this.Vv;L=!1;var te=V;if(W){if((te=B.Ab.LI(te,E,this.mo,T)).B())return te}else{if(V=new B.l,te.yc(V),O=E.Le(),V.G<O.G||V.H>O.H){var ne=B.l.construct(V.v-1,O.G,V.C+1,O.H);if((te=B.si.Pu(te,ne,E,NaN,0,T)).B())return te}V.S()>2*O.S()&&(te=B.Ab.Jp(te,-2*O.S(),2*O.S(),E,!0,0,!0,T))}V=this.eH,(O=!isNaN(V))&&(te=B.Zl.local().W(te,V,T)),ne=X?D.kk():null;var we=NaN;W&&(we=E.Ai());var ze=null!=D.Xr();if(this.TG)W&&(B.Ab.wr(E,we,te,F),O&&(W=E.ih(),V*=(we=E.tc().ih())/W)),B.Ab.vr(this.hf,te,Y,F),O&&(W=E.tc().ih(),V*=(we=D.tc().ih())/W),E=te;else{var _t=new B.Ua(te.description);_t.vD(te),W&&(B.Ab.wr(E,we,_t,F),O&&(W=E.ih(),V*=(we=E.tc().ih())/W)),B.Ab.vr(this.hf,_t,Y,F),O&&(W=E.tc().rm(),V*=(we=D.tc().rm())/W),Y=NaN,X?(ne=D.kk(),Y=D.Ai()):isNaN(this.Dm)||(Y=this.Dm),W=$.uv(E)|$.uv(D),we=10*ie.Yd(0),this.Vv&&(W=3,we=0),E=B.Ab.MQ(te,E,_t,ie,Y,T,W,we)}return ze&&(E=B.Ab.PD(E,D,T)),X&&(L||(X=ie.Le().S(),E.Ug(0,0).S()>=X-ie.Yd(0)&&(ie=ne.getNorthPoleLocation(),X=ne.getSouthPoleLocation(),te=ne.getNorthPoleGeometry(),ne=ne.getSouthPoleGeometry(),Y=0,te==B.Eg.PE_POLE_POINT&&ie!=B.Eg.PE_POLE_OUTSIDE_BOUNDARY&&(Y=1),ne==B.Eg.PE_POLE_POINT&&X!=B.Eg.PE_POLE_OUTSIDE_BOUNDARY&&(Y|=2),0!==Y&&(L=!0))),E=B.Ab.Hz(E,D,this.Sm,T),O&&(E=B.Zl.local().W(E,V,T)),B.Ab.Jx(D,E,F)),E.B()||(L&&(E=B.$l.local().W(E,D,!1,T)),null!=k&&(E=k.$k(E,!1),this.yp(k,B.dm.reverse,E),E=k.al(E,!1))),E},$.uv=function(k){if(2!=k.Tb())return 0;var T=0,E=k.kk();k=E.getNorthPoleLocation();var D=E.getSouthPoleLocation(),O=E.getNorthPoleGeometry();return E=E.getSouthPoleGeometry(),O==B.Eg.PE_POLE_POINT&&k!=B.Eg.PE_POLE_OUTSIDE_BOUNDARY&&(T=1),E==B.Eg.PE_POLE_POINT&&D!=B.Eg.PE_POLE_OUTSIDE_BOUNDARY&&(T|=2),T},$.prototype.YV=function(k,T){var E=this.hf.ef,D=this.hf.Zf,O=E.Tb(),L=D.Tb(),F=B.P.Gu(Math.min(k.I(),64)),V=B.Ua.ig(k);3==O&&(O=(E=(k=E.Ki).fk()).Tb(),V=k.al(V,!0),this.yp(k,B.dm.forward,V),V=k.$k(V,!0)),k=null,3==L&&(L=(D=(k=D.Ki).fk()).Tb());var W=2==O;O=(L=2==L)?D.tc():D;var X=!L&&!this.Vv;if(W){if((V=B.Ab.LI(V,E,this.mo,T)).B())return V}else{var ie=new B.l;V.yc(ie);var Y=E.Le();if((ie.G<Y.G||ie.H>Y.H)&&(ie=B.l.construct(ie.v-1,Y.G,ie.C+1,Y.H),(V=B.si.Pu(V,ie,E,NaN,0,T)).B()))return V}var te=NaN;W&&(te=E.Ai()),ie=null!=D.Xr(),Y=this.eH;var ne=!isNaN(Y);if(ne&&(V=B.Zl.local().W(V,Y,T)),this.TG)W&&B.Ab.wr(E,te,V,F),ne&&(W=E.ih(),Y*=(te=E.tc().ih())/W),B.Ab.vr(this.hf,V,X,F),ne&&(W=E.tc().ih(),Y*=(te=D.tc().ih())/W),E=V;else{var we=new B.Ua(V.description);we.vD(V),W&&(B.Ab.wr(E,te,we,F),ne&&(W=E.ih(),Y*=(te=E.tc().ih())/W)),B.Ab.vr(this.hf,we,X,F),ne&&(W=E.tc().ih(),Y*=(te=D.tc().ih())/W),X=NaN,L?X=D.Ai():isNaN(this.Dm)||(X=this.Dm),W=$.uv(E)|$.uv(D),te=10*O.Yd(0),this.Vv&&(W=3,te=0),E=B.Ab.NQ(V,E,we,O,X,T,W,te)}return ie&&(E=B.Ab.PD(E,D,T)),L&&(E=B.Ab.Hz(E,D,this.Sm,T),ne&&(E=B.Zl.local().W(E,Y,T)),B.Ab.Jx(D,E,F)),E.B()||null!=k&&(E=k.$k(E,!1),this.yp(k,B.dm.reverse,E),E=k.al(E,!1)),E},$.prototype.VV=function(k,T){var E=(k.da()+k.S())/400;return 0!=E?(E=B.Zl.local().W(k,E,T),E=this.MI(E,T),T=k.Ja(),E.dn(T)):(T=new B.Ta(k.Kp()),E=this.OI(T),T=k.Ja(),E.B()?T.Pa():(k.copyTo(T),k=E.D(),T.L(k.x,k.y,k.x,k.y))),T},$.prototype.WV=function(k,T){k=B.ba.ig(k);var E=this.hf.ef,D=this.hf.Zf,O=E.Tb(),L=D.Tb(),F=B.P.Gu(Math.min(k.I(),64));if(3==O){var V=E.Ki;O=(E=V.fk()).Tb(),k=V.$k(k,!0),this.yp(V,B.dm.forward,k),k=V.al(k,!0)}if(2==O){if(this.mo==B.ti.Clip?k=B.Wk.local().W(k,E.ol(),E,T):E.Xc()&&(O=new B.l,k.yc(O),E.Le().contains(O)||(this.mo==B.ti.PannableFold&&(k=B.Ab.mj(k,E)),B.Ab.Kt(k,E.Le(),E.Yd(0),!0),k=B.Ab.Gn(k,E,0,!0,0,T))),k.B())return k;B.Ab.wr(E,0,k,F)}else B.Ab.Kt(k,E.Le(),E.Yd(0),!0);return B.Ab.vr(this.hf,k,!1,F),E=0,O=!1,V=null,3==L&&(O=!0,L=(D=(V=D.Ki).fk()).Tb()),(L=2==L)?E=D.Ai():isNaN(this.Dm)||(E=this.Dm),L&&this.Sm!=B.ti.Clip||(k=B.Ab.Gn(k,D.tc(),E,!1,0,T)),L&&(k=B.Ab.Hz(k,D,this.Sm,T),B.Ab.Jx(D,k,F),k.B())||O&&(k=V.$k(k,!0),this.yp(V,B.dm.reverse,k),k=V.al(k,!0)),k},$.prototype.yp=function(k,T,E){var D=E.I();if(0!=D){for(var O=E.vb(0),L=B.P.lg(200,0),F=[],V=0;V<D;){var W=Math.min(100,D-V);O.Ww(2*V,2*W,L,2,!0);for(var X=0;X<W;++X)F[X]=B.h.construct(L[2*V],L[2*V+1]);k.Rt(T,F,W),V+=W}E.Qc(1993)}},$.Py=function(k,T,E){if(null==k||null==T||!T.Xc())throw B.i.ga("Invalid Arguement");if(k.B())return k;var D=k.K();return 197==D?(D=new B.Ea(k.description)).bd(k,!1):B.ba.zd(D)?(D=new B.Ua(k.description)).oc(k,!0):D=k,(D=B.Ab.mj(D,T)).B()?D:B.Ab.Gn(D,T,0,D!=k,0,E)},$.oj=function(k,T,E,D){if(null==k||null==T||!T.Xc())throw B.i.ga("Invalid Arguement");if(k.B())return k;var O=k.K();if(B.ba.Ic(O)){k=B.Ab.mj(k,T),O=new B.l,k.A(O);for(var L=B.ta.ny(T,O,!1),F=T.hh(),V=Math.floor((O.v-F.v)/F.S())*F.S()+F.v;V<O.C;)V>O.v+L&&V<O.C-L&&(k=B.Ab.lS(k,T,E,V)),V+=F.S()}else{if(197==O)return(O=new B.Ea(k.description)).bd(k,!1),$.oj(O,T,E,D);if(B.ba.zd(O))return(O=new B.Ua(k.description)).oc(k,!0),$.oj(O,T,E,D)}return $.Py(k,T,D)},$}();B.cu=Be}(st||(st={})),function(B){var Be=function($){function k(T,E,D,O){var L=$.call(this)||this;return void 0===T?L.description=B.ee.og():void 0===D?L.description=T:(L.description=B.ee.og(),L.SB(T,E),L.Sl(D,O)),L}return pi(k,$),k.prototype.K=function(){return 322},k.prototype.Rb=function(){var T=this.sa-this.qa,E=this.oa-this.ma;return Math.sqrt(T*T+E*E)},k.prototype.Ci=function(T){var E=this.sa-this.qa,D=this.oa-this.ma;return Math.sqrt(E*E+D*D)<=T},k.prototype.Qn=function(){return!1},k.prototype.jg=function(){var T=new B.h;return T.vc(this.xc(),this.ac()),T},k.VO=function(T,E){return new k(T.x,T.y,E.x,E.y)},k.prototype.dn=function(T){T.Pa(),T.kg(this.description);var E=new B.l;this.A(E),T.Yo(E),E=1;for(var D=this.description.Ba;E<D;E++)for(var O=this.description.qd(E),L=B.ua.Wa(O);E<L;E++){var F=this.Ug(O,0);T.setInterval(O,0,F)}},k.prototype.A=function(T){T.L(this.sa,this.oa,this.qa,this.ma),T.normalize()},k.prototype.Ro=function(T){T.Pa(),T.$b(this.sa,this.oa,this.Pd(0,1,0)),T.$b(this.qa,this.ma,this.Pd(1,1,0))},k.prototype.Pc=function(T){if(T instanceof B.Ed){this.wc();var E=new B.h;E.x=this.sa,E.y=this.oa,T.Fh(E,E),this.sa=E.x,this.oa=E.y,E.x=this.qa,E.y=this.ma,T.Fh(E,E),this.qa=E.x,this.ma=E.y}else this.wc(),(E=new B.Od).x=this.sa,E.y=this.oa,E.z=this.Pd(0,1,0),E=T.gp(E),this.sa=E.x,this.oa=E.y,this.vn(0,1,0,E.z),E.x=this.qa,E.y=this.ma,E.z=this.Pd(1,1,0),E=T.gp(E),this.qa=E.x,this.ma=E.y,this.vn(1,1,0,E.z)},k.prototype.Ja=function(){return new k(this.description)},k.prototype.Rx=function(T,E){return(this.qa-T-(this.sa-T))*(this.ma-E+(this.oa-E))*.5},k.prototype.tx=function(T){return T*this.Rb()},k.prototype.FG=function(T){return T/this.Rb()},k.prototype.vF=function(T){return B.mc.jq(this.sa,this.qa,T)},k.prototype.YQ=function(T){return B.mc.jq(this.oa,this.ma,T)},k.prototype.el=function(T,E){var D=new B.hg;return this.bh(T,E,D),D.get()},k.prototype.bh=function(T,E,D){if(null==D)throw B.i.O();D.Pr(),(D=D.get()).kg(this.description);var O=new B.h;this.ic(T,O),D.SB(O.x,O.y),this.ic(E,O),D.Sl(O.x,O.y),O=1;for(var L=this.description.Ba;O<L;O++)for(var F=this.description.Fd(O),V=B.ua.Wa(F),W=0;W<V;W++){var X=this.Vc(T,F,W);D.RB(F,W,X),X=this.Vc(E,F,W),D.IB(F,W,X)}},k.prototype.Vc=function(T,E,D){if(0==E)return 0==D?this.ic(T).x:this.ic(T).y;switch(B.ua.gz(E)){case 0:return.5>T?this.xv(E,D):this.hv(E,D);case 1:var O=this.xv(E,D);return E=this.hv(E,D),B.mc.jq(O,E,T);case 2:throw B.i.ga("not implemented")}throw B.i.Ra()},k.prototype.fe=function(T,E){var D=this.qa-this.sa,O=this.ma-this.oa,L=D*D+O*O;return 0==L?.5:(T=((T.x-this.sa)*D+(T.y-this.oa)*O)/L,E||(0>T?T=0:1<T&&(T=1)),T)},k.prototype.fq=function(T,E,D,O){if(T){if(0==(T=this.ma-this.oa))return E==this.ma?-1:0;if(0>(E=(E-this.oa)/T)||1<E)return 0;null!=D&&(D[0]=this.vF(E))}else{if(0==(T=this.qa-this.sa))return E==this.qa?-1:0;if(0>(E=(E-this.sa)/T)||1<E)return 0;null!=D&&(D[0]=this.YQ(E))}return null!=O&&(O[0]=E),1},k.prototype.Me=function(T,E){var D=this.ma-this.oa;return 0==D?T==this.ma?E:NaN:(E=this.vF(T=(T-this.oa)/D),1==T&&(E=this.qa),E)},k.prototype.su=function(T,E,D){return 0<=this.sp(T.x,T.y,E,D)},k.prototype.wi=function(T,E,D){return 0<=this.sp(T,E,D,!0)},k.prototype.rs=function(T,E){return this.su(T,E,!1)},k.prototype.jI=function(){if(this.ma<this.oa||this.ma==this.oa&&this.qa<this.sa){var T=this.sa;this.sa=this.qa,this.qa=T,T=this.oa,this.oa=this.ma,this.ma=T,T=0;for(var E=this.description.Qq-2;T<E;T++){var D=this.la[T];this.la[T]=this.la[T+E],this.la[T+E]=D}}},k.prototype.vu=function(T,E){(E=B.h.construct(T,E)).sub(this.ac());var D=new B.h;return D.vc(this.xc(),this.ac()),(T=D.xi(E))>(E=8881784197001252e-31*(Math.abs(D.x*E.y)+Math.abs(D.y*E.x)))?-1:T<-E?1:0},k.prototype.sp=function(T,E,D,O){var L=this.sa,F=this.oa,V=T-L,W=E-F;if((V=Math.sqrt(V*V+W*W))<=Math.max(D,6661338147750939e-31*V))return O&&0==V?NaN:0;if(V=T-this.qa,W=E-this.ma,(V=Math.sqrt(V*V+W*W))<=Math.max(D,6661338147750939e-31*V))return O&&0==V?NaN:1;if(V=this.qa-this.sa,W=this.ma-this.oa,0<(O=Math.sqrt(V*V+W*W))){var X=1/O,ie=T-L,Y=E-F,te=ie*(V*=X)+Y*(W*=X),ne=17763568394002505e-31*(Math.abs(ie*V)+Math.abs(Y*W)),we=V;if(V=-W,W=we,te<-(ne=Math.max(D,ne))||te>O+ne)return NaN;if(Math.abs(ie*V+Y*W)<=Math.max(D,17763568394002505e-31*(Math.abs(ie*V)+Math.abs(Y*W)))&&(.5>=(V=B.P.Rk(te*X,0,1))?(W=this.sa+(this.qa-this.sa)*V,O=this.oa+(this.ma-this.oa)*V):(W=this.qa-(this.qa-this.sa)*(1-V),O=this.ma-(this.ma-this.oa)*(1-V)),B.h.Jy(W,O,T,E)<=D)){if(.5>V){if(B.h.Jy(W,O,L,F)<=D)return 0}else if(B.h.Jy(W,O,this.qa,this.ma)<=D)return 1;return V}}return NaN},k.prototype.Nb=function(T){return null!=T&&(T==this||T.constructor===this.constructor&&this.xM(T))},k.prototype.jD=function(T,E,D){var O=D?this.sa:this.qa;D=D?this.oa:this.ma;var L=new B.h;return L.x=T.qa-O,L.y=T.ma-D,!(E.Rh(L)>6661338147750939e-31*E.YC(L))||(L.x=T.sa-O,L.y=T.oa-D,E.Rh(L)<=6661338147750939e-31*E.YC(L))},k.prototype.iD=function(T){var E=new B.h;return E.x=this.qa-this.sa,E.y=this.ma-this.oa,!!this.jD(T,E,!1)&&(E.Uq(),!!this.jD(T,E,!0))},k.FM=function(T,E){var D=T.vu(E.sa,E.oa),O=T.vu(E.qa,E.ma);return!(0>D&&0>O||0<D&&0<O)&&(D=E.vu(T.sa,T.oa),O=E.vu(T.qa,T.ma),!(0>D&&0>O||0<D&&0<O)&&((D=T.Rb())>(O=E.Rb())?T.iD(E):E.iD(T)))},k.DM=function(T,E,D){var O=B.h.construct(NaN,NaN),L=T.qa-T.sa,F=T.ma-T.oa,V=E.qa-E.sa,W=E.ma-E.oa,X=V*F-L*W;if(0==X)return O;var ie=8881784197001252e-31*(Math.abs(V*F)+Math.abs(L*W)),Y=E.sa-T.sa,te=E.oa-T.oa,ne=V*te-Y*W,we=ne/X,ze=Math.abs(X);return we<-(V=(8881784197001252e-31*(Math.abs(V*te)+Math.abs(Y*W))*ze+ie*Math.abs(ne))/(X*X)+2220446049250313e-31*Math.abs(we))||we>1+V||(V=(W=L*te-Y*F)/X)<-(L=(8881784197001252e-31*(Math.abs(L*te)+Math.abs(Y*F))*ze+ie*Math.abs(W))/(X*X)+2220446049250313e-31*Math.abs(V))||V>1+L||(we=B.P.Rk(we,0,1),L=B.P.Rk(V,0,1),F=T.ic(we),X=E.ic(L),(ie=new B.h).vc(F,X),ie.length()>D&&(ie.add(F,X),ie.scale(.5),we=T.fe(ie,!1),L=E.fe(ie,!1),T=T.ic(we),E=E.ic(L),T.sub(E),T.length()>D)||O.na(we,L)),O},k.GM=function(T,E,D,O){var L=0;if((T.sa==E.sa&&T.oa==E.oa||T.sa==E.qa&&T.oa==E.ma)&&(L++,!O))return 1;if(T.qa==E.sa&&T.ma==E.oa||T.qa==E.qa&&T.ma==E.ma){if(2==++L)return 2;if(!O)return 1}return E.wi(T.sa,T.oa,D)||E.wi(T.qa,T.ma,D)||T.wi(E.sa,E.oa,D)||T.wi(E.qa,E.ma,D)?1:O&&0!=L||0==k.FM(T,E)?0:1},k.Xx=function(T,E,D,O,L,F){var V=0,W=T.sp(E.sa,E.oa,F,!1),X=T.sp(E.qa,E.ma,F,!1),ie=E.sp(T.sa,T.oa,F,!1),Y=E.sp(T.qa,T.ma,F,!1);return isNaN(W)||(null!=O&&(O[V]=W),null!=L&&(L[V]=0),null!=D&&(D[V]=B.h.construct(E.sa,E.oa)),V++),isNaN(X)||(null!=O&&(O[V]=X),null!=L&&(L[V]=1),null!=D&&(D[V]=B.h.construct(E.qa,E.ma)),V++),2==V||isNaN(ie)||0==W&&0==ie||0==X&&1==ie||(null!=O&&(O[V]=0),null!=L&&(L[V]=ie),null!=D&&(D[V]=B.h.construct(T.sa,T.oa)),V++),2==V||isNaN(Y)||1==W&&0==Y||1==X&&1==Y||(null!=O&&(O[V]=1),null!=L&&(L[V]=Y),null!=D&&(D[V]=B.h.construct(E.qa,E.ma)),V++),0<V?(2==V&&null!=O&&O[0]>O[1]&&(T=O[0],O[0]=O[1],O[1]=T,null!=L&&(O=L[0],L[0]=L[1],L[1]=O),null!=D&&(L=B.h.construct(D[0].x,D[0].y),D[0]=D[1],D[1]=L)),V):(V=k.DM(T,E,F),isNaN(V.x)?0:(null!=D&&(D[0]=T.ic(V.x)),null!=O&&(O[0]=V.x),null!=L&&(L[0]=V.y),1))},k.prototype.XF=function(){return 0},k.prototype.pp=function(){},k.prototype.toString=function(){return"Line: ["+this.sa.toString()+", "+this.oa.toString()+", "+this.qa.toString()+", "+this.ma.toString()+"]"},k}(B.KC);B.zb=Be}(st||(st={})),function(B){var Be=function(){function $(){this.Lm=[],this.za=-1}return $.prototype.Ma=function(){return this.za},$.prototype.next=function(){if(null!=this.Lm&&0!=this.Lm.length){this.za++;var k=this.Lm[0];return this.Lm=1>=this.Lm.length?[]:this.Lm.slice(1),k}return this.Lm=null},$.prototype.NX=function(k){this.Lm.push(k)},$.prototype.qe=function(){},$}();B.ZK=Be}(st||(st={})),function(B){var Be;(Be=B.KL||(B.KL={}))[Be.enumFillRuleOddEven=0]="enumFillRuleOddEven",Be[Be.enumFillRuleWinding=1]="enumFillRuleWinding";var $=function(k){function T(E,D){var O=k.call(this)||this;if(O.yf=!1,O.Gq=null,O.uq=0,O.tq=0,O.Bj=null,O.Ng=!1,O.nb=null,O.mb=null,O.Se=null,O.Mj=null,O.Td=null,O.vq=0,O.gb=0,O.zq=0,void 0===D)O.yf=E,O.Ng=!1,O.vq=0,O.uq=0,O.tq=0,O.xa=0,O.description=B.ee.og();else{if(null==D)throw B.i.O();O.yf=E,O.Ng=!1,O.vq=0,O.uq=0,O.tq=0,O.xa=0,O.description=D}return O.Bj=null,O.gb=0,O}return pi(T,k),T.prototype.vm=function(){return 0<this.vq},T.prototype.Wx=function(){this.wc(),null==this.Gq?this.Gq=new B.Ta(this.description):this.Gq.kg(this.description)},T.prototype.qx=function(E,D){var O=new B.h;O.x=E,O.y=D,this.Mt(O)},T.prototype.Mt=function(E){this.Wx(),this.Gq.Db(E),this.Ng=!0},T.prototype.nf=function(E){if(E.B())throw B.i.O();this.Ll(E.description),this.Wx(),E.copyTo(this.Gq),this.Ng=!0},T.prototype.Qx=function(){var E=1;this.Ng&&(this.Wx(),null==this.nb?(this.nb=B.Zc.Ph(2),this.nb.write(0,0),this.mb=B.Zc.Nr(2,0)):(this.nb.resize(this.nb.size+1,0),this.mb.resize(this.mb.size+1,0)),this.yf&&this.mb.write(this.mb.size-2,1),E++);var D=this.xa;this.nb.write(this.nb.size-1,this.xa+E),this.fm(D+E),this.mb.write(this.nb.size-1,0),this.Ng&&(this.Ht(D,this.Gq),this.Ng=!1)},T.prototype.zj=function(E,D){this.Qx(),this.Db(this.xa-1,E,D)},T.prototype.Di=function(E){this.Qx(),this.Db(this.xa-1,E)},T.prototype.lineTo=function(E){this.Qx(),this.Ht(this.xa-1,E)},T.prototype.sU=function(E){if(this.wc(),this.yf)throw B.i.Ra();var D=this.ea();if(E>D)throw B.i.Ra();if(this.ec(E)){if(null==this.mb)throw B.i.Ra();var O=this.xa,L=this.Ca(E),F=this.Wc(E);this.fm(this.xa+1),this.rc();for(var V=0,W=this.description.Ba;V<W;V++)if(null!=this.Aa[V]){var X=B.ua.Wa(this.description.Fd(V));this.Aa[V].Nn(X*F,this.Aa[V],X*L,X,!0,1,X*O)}for(;D>E;D--)O=this.nb.read(D),this.nb.write(D,O+1);this.mb.CE(E,1)}},T.prototype.Cp=function(){if(this.ux(),void 0===E){this.Ng=!1;var E=this.ea()-1}var D=this.mb.read(E);this.mb.write(E,1|D),null!=this.Se&&(E=this.Wc(E)-1,this.Se.write(E,1),this.Mj.write(E,-1))},T.prototype.ec=function(E){return 0!=(1&this.mb.read(E))},T.prototype.On=function(E){if(this.ec(E))return!0;var D=this.Ca(E);return!(D>(E=this.Wc(E)-1))&&(D=this.Oa(D),E=this.Oa(E),D.rb(E))},T.prototype.zv=function(E){return 0!=(2&this.mb.read(E))},T.prototype.oc=function(E,D){if(this.Ll(E.description),322!=E.K())throw B.i.Ra();var O=new B.Ta;(D||this.B())&&(E.Uo(O),this.nf(O)),E.Qo(O),this.lineTo(O)},T.prototype.vp=function(E){var D=0==this.xa;this.qx(E.v,E.G),this.zj(E.v,E.H),this.zj(E.C,E.H),this.zj(E.C,E.G),this.Cp(),this.Ng=!1,D&&this.Nf(256,!1)},T.prototype.bd=function(E,D){if(!E.B()){for(var O=0==this.xa,L=new B.Ta(this.description),F=0;4>F;F++)E.If(D?4-F-1:F,L),0==F?this.nf(L):this.lineTo(L);this.Cp(),this.Ng=!1,O&&!D&&this.Nf(256,!1)}},T.prototype.add=function(E,D){for(var O=0;O<E.ea();O++)this.addPath(E,O,!D)},T.prototype.addPath=function(E,D,O){this.wf(-1,E,D,O)},T.prototype.Zk=function(E,D){this.Cz(E,D)},T.prototype.Fr=function(E,D,O,L,F){if(F||0!=this.ea()||(F=!0),0>D&&(D=E.ea()-1),D>=E.ea()||0>O||0>L||L>E.sv(D))throw B.i.ga("index out of bounds");if(0!=L){var V=E.ec(D)&&O+L==E.sv(D);if(!V||1!=L){if(this.Ng=!1,this.Ll(E.description),O=E.Ca(D)+O+1,F&&(L++,O--),V&&L--,V=this.xa,this.fm(this.xa+L),this.rc(),F){if(0==L)return;this.nb.add(this.xa),F=E.mb.read(D),F&=-5,this.yf&&(F|=1),this.mb.write(this.mb.size-1,F),this.mb.add(0)}else this.nb.write(this.mb.size-1,this.xa);F=0;for(var W=this.description.Ba;F<W;F++){var X=this.description.qd(F),ie=B.ua.Wa(X),Y=E.description.Qf(X);0>Y||null==E.Aa[Y]?this.Aa[F].Mn(ie*V,B.ua.te(X),L*ie,ie*V):this.Aa[F].Nn(ie*V,E.Aa[Y],ie*O,L*ie,!0,ie,ie*V)}if(this.vm()||E.zv(D))throw B.i.Ra();this.Qc(1993)}}},T.prototype.gJ=function(){for(var E=0,D=this.ea();E<D;E++)this.uW(E)},T.prototype.uW=function(E){if(this.rc(),E>=this.ea())throw B.i.O();var D=this.Ca(E),O=this.Ka(E);E=this.ec(E)?1:0;for(var L=0,F=this.description.Ba;L<F;L++)if(null!=this.Aa[L]){var V=B.ua.Wa(this.description.Fd(L));this.Aa[L].oi(V*(D+E),V*(O-E),V)}this.Qc(1993)},T.prototype.ar=function(E){this.rc();var D=this.ea();if(0>E&&(E=D-1),E>=D)throw B.i.O();for(var O=this.Ca(E),L=this.Ka(E),F=0,V=this.description.Ba;F<V;F++)if(null!=this.Aa[F]){var W=B.ua.Wa(this.description.Fd(F));this.Aa[F].Fn(W*O,W*L,W*this.xa)}for(O=E+1;O<=D;O++)F=this.nb.read(O),this.nb.write(O-1,F-L);if(null==this.mb)for(O=E+1;O<=D;O++)E=this.mb.read(O),this.mb.write(O-1,E);this.nb.resize(D),this.mb.resize(D),this.xa-=L,this.Qg-=L,this.Qc(1993)},T.prototype.wf=function(E,D,O,L){if(D==this||O>=D.ea())throw B.i.O();var F=this.ea();if(E>F)throw B.i.O();0>E&&(E=F),0>O&&(O=D.ea()-1),this.Ng=!1,this.Ll(D.description),D.rc();var V=D.Ca(O),W=D.Ka(O),X=this.xa,ie=D.ec(O)&&!L?1:0;this.fm(this.xa+W),this.rc();for(var Y=E<F?this.Ca(E):X,te=0,ne=this.description.Ba;te<ne;te++){var we=this.description.Fd(te),ze=D.description.Qf(we),_t=B.ua.Wa(we);0<=ze&&null!=D.Aa[ze]?(0!=ie&&this.Aa[te].Nn(Y*_t,D.Aa[ze],_t*V,_t,!0,_t,_t*X),this.Aa[te].Nn((Y+ie)*_t,D.Aa[ze],_t*(V+ie),_t*(W-ie),L,_t,_t*(X+ie))):this.Aa[te].Mn(Y*_t,B.ua.te(we),_t*W,_t*X)}for(this.nb.add(X+W),L=F;L>=E+1;L--)V=this.nb.read(L-1),this.nb.write(L,V+W);for(D.zv(O),this.mb.add(0),L=F-1;L>=E+1;L--)F=this.mb.read(L),this.mb.write(L+1,F&=-5);F=D.BR().read(O),F&=-5,this.yf&&(F|=1),this.mb.write(E,F)},T.prototype.Cz=function(E,D){var O=-1,L=this.ea();if(O>L)throw B.i.O();0>O&&(O=L),this.Ng=!1;var F=this.xa;this.fm(this.xa+D),this.rc();var V=O<L?this.Ca(O):F;if(null!=E)this.Aa[0].Dz(2*V,E,0,D,!0,2*F);else{var W=B.ua.te(0);this.Aa[0].Mn(2*V,W,2*D,2*F)}E=1;for(var X=this.description.Ba;E<X;E++){W=this.description.qd(E);var ie=B.ua.Wa(W);W=B.ua.te(W),this.Aa[E].Mn(V*ie,W,ie*D,ie*F)}for(this.nb.add(this.xa),F=L;F>=O+1;F--)V=this.nb.read(F-1),this.nb.write(F,V+D);for(this.mb.add(0),F=L-1;F>=O+1;F--)D=this.mb.read(F),this.mb.write(F+1,D&=-5);this.yf&&this.mb.write(O,1)},T.prototype.iG=function(E,D,O){var L=-1;if(0>E&&(E=this.ea()),E>this.ea()||L>this.Ka(E)||O>D.length)throw B.i.ga("index out of bounds");if(0!=O){E==this.ea()&&(this.nb.add(this.xa),this.mb.add(this.yf?1:0)),0>L&&(L=this.Ka(E)),this.rc();var F=this.xa;this.fm(this.xa+O),this.rc();for(var V=0,W=this.description.Ba;V<W;V++){var X=this.description.Fd(V),ie=B.ua.Wa(X);this.Aa[V].Vt(ie*(this.Ca(E)+L+O),(F-this.Ca(E)-L)*ie,this.Aa[V],ie*(this.Ca(E)+L),!0,ie),0==V?this.Aa[V].oC(ie*(this.Ca(E)+L),O,D,0,!0):this.Aa[V].Xj(B.ua.te(X),(this.Ca(E)+L)*ie,O*ie)}for(this.vm()&&(this.Se.Vt(this.Ca(E)+L+O,F-this.Ca(E)-L,this.Se,this.Ca(E)+L,!0,1),this.Mj.Vt(this.Ca(E)+L+O,F-this.Ca(E)-L,this.Mj,this.Ca(E)+L,!0,1),this.Se.Xj(1,this.Ca(E)+L,O),this.Mj.Xj(-1,this.Ca(E)+L,O)),E+=1,D=this.ea();E<=D;E++)this.nb.write(E,this.nb.read(E)+O)}},T.prototype.xf=function(E,D,O){var L=this.ea();if(0>E&&(E=this.ea()),E>=L||D>this.Ka(E))throw B.i.ga("index out of bounds");E==this.ea()&&(this.nb.add(this.xa),this.mb.add(this.yf?1:0)),0>D&&(D=this.Ka(E));var F=this.xa;this.fm(this.xa+1),this.rc();var V=this.Ca(E);this.Aa[0].wj(2*(V+D),O,2*F),O=1;for(var W=this.description.Ba;O<W;O++){var X=this.description.Fd(O),ie=B.ua.Wa(X);this.Aa[O].Mn(ie*(V+D),B.ua.te(X),ie,ie*F)}for(E+=1;E<=L;E++)this.nb.write(E,this.nb.read(E)+1)},T.prototype.xB=function(E,D){var O=this.ea();if(0>E&&(E=O-1),E>=O||D>=this.Ka(E))throw B.i.ga("index out of bounds");this.rc();var L=this.Ca(E);0>D&&(D=this.Ka(E)-1),D=L+D,L=0;for(var F=this.description.Ba;L<F;L++)if(null!=this.Aa[L]){var V=B.ua.Wa(this.description.Fd(L));this.Aa[L].Fn(V*D,V,V*this.xa)}for(;O>=E+1;O--)D=this.nb.read(O),this.nb.write(O,D-1);this.xa--,this.Qg--,this.Qc(1993)},T.prototype.mE=function(E,D,O,L){if(E=this.Ca(E)+D,(O=this.Ca(O)+L)<E||0>E||O>this.I()-1)throw B.i.O();D=0,(L=this.Ha()).Wb(E);do{for(;L.Ia()&&(E=L.ia(),L.xb()!=O);)D+=E=E.Rb();if(L.xb()==O)break}while(L.ab());return D},T.prototype.YN=function(E,D,O){if(D=this.Ca(E)+D,O=this.Ca(E)+O,0>D||O>this.I()-1)throw B.i.O();var L=this.Ha();if(D>O){if(!this.ec(E))throw B.i.O("cannot iterate across an open path");L.DB()}var F=E=0;L.Wb(D);do{F+=E,E=L.ia().Rb()}while(L.xb()!=O);return F},T.prototype.mg=function(){return B.ri.im(this,null)},T.prototype.BS=function(E,D,O){for(var L=E;L<O-1;L++)if(this.ec(L))throw B.i.O("cannot interpolate across closed paths");if(1!=(L=this.description.Ba)){var F=this.mE(E,D,O,void 0);if(0!=F)for(var V=1;V<L;V++){var W=this.description.qd(V);if(2!=B.ua.gz(W))for(var X=B.ua.Wa(W),ie=0;ie<X;ie++)this.DS(W,E,D,O,F,ie)}}},T.prototype.AS=function(E,D,O){var L=this.description.Ba;if(1!=L){var F=this.YN(E,D,O);if(0!=F)for(var V=1;V<L;V++){var W=this.description.qd(V);if(2!=B.ua.gz(W))for(var X=B.ua.Wa(W),ie=0;ie<X;ie++)this.CS(W,E,D,O,F,ie)}}},T.prototype.DS=function(E,D,O,L,F,V){var W=this.Ha(),X=this.Ca(D)+O;L=this.Ca(L)+void 0,D=this.Vc(E,X,V),O=this.Vc(E,L,V);var ie=D,Y=0;W.Wb(X);do{if(W.Ia()){if(W.ia(),W.xb()==L)break;this.setAttribute(E,W.xb(),V,ie),W.mi();do{if(X=W.ia(),W.ik()==L)return;Y+=X=X.Rb(),ie=B.mc.jq(D,O,Y/F),W.Pn()||this.setAttribute(E,W.ik(),V,ie)}while(W.Ia())}}while(W.ab())},T.prototype.CS=function(E,D,O,L,F,V){var W=this.Ha(),X=this.Ca(D)+O;if((D=this.Ca(D)+L)!=X){L=this.Vc(E,X,V),O=this.Vc(E,D,V);var ie=0;W.Wb(X),W.DB(),X=L;do{var Y=W.ia();this.setAttribute(E,W.xb(),V,X),ie+=X=Y.Rb(),X=B.mc.jq(L,O,ie/F)}while(W.ik()!=D)}},T.prototype.Pa=function(){this.vq=0,this.Ng=!1,this.Td=this.Se=this.Mj=this.mb=this.nb=null,this.oD()},T.prototype.Pc=function(E){E instanceof B.Ed?this.QD(E,-1):this.oN(E)},T.prototype.QD=function(E,D){if(!this.B()&&!E.isIdentity()){this.rc();var O=this.Aa[0],L=new B.h,F=new B.h;if(0>D){var V=this.vm(),W=0;D=this.xa}else V=this.zv(D),W=this.Ca(D),D=this.Wc(D);for(;W<D;W++){if(L.x=O.read(2*W),L.y=O.read(2*W+1),V){var X=this.Mj.read(W);if(0<=X)switch(7&this.Se.read(W)){case 2:F.x=this.Td.read(X),F.y=this.Td.read(X+1),E.Fh(F,F),this.Td.write(X,F.x),this.Td.write(X+1,F.y),F.x=this.Td.read(X+3),F.y=this.Td.read(X+4),E.Fh(F,F),this.Td.write(X+3,F.x),this.Td.write(X+4,F.y);break;case 4:throw B.i.Ra()}}E.Fh(L,L),O.write(2*W,L.x),O.write(2*W+1,L.y)}this.Qc(1993)}},T.prototype.oN=function(E){if(!this.B()){this.se(1),this.rc();for(var D=this.Aa[0],O=this.Aa[1],L=new B.Od,F=new B.Od,V=this.vm(),W=0;W<this.xa;W++){if(L.x=D.read(2*W),L.y=D.read(2*W+1),L.z=O.read(W),V){var X=this.Mj.read(W);if(0<=X)switch(7&this.Se.read(W)){case 2:F.x=this.Td.read(X),F.y=this.Td.read(X+1),F.z=this.Td.read(X+2),F=E.gp(F),this.Td.write(X,F.x),this.Td.write(X+1,F.y),this.Td.write(X+1,F.z),F.x=this.Td.read(X+3),F.y=this.Td.read(X+4),F.z=this.Td.read(X+5),F=E.gp(F),this.Td.write(X+3,F.x),this.Td.write(X+4,F.y),this.Td.write(X+5,F.z);break;case 4:throw B.i.Ra()}}L=E.gp(L),D.write(2*W,L.x),D.write(2*W+1,L.y),O.write(W,L.z)}this.Qc(1993)}},T.prototype.dy=function(){null==this.nb&&(this.nb=B.Zc.Ph(1,0),this.mb=B.Zc.Nr(1,0)),null!=this.Se&&(this.Se.resize(this.Qg,1),this.Mj.resize(this.Qg,-1))},T.prototype.pp=function(E){E.Ng=!1,E.vq=this.vq,E.zq=this.zq,E.nb=null!=this.nb?B.ja.Cn(this.nb):null,E.mb=null!=this.mb?B.rn.Cn(this.mb):null,E.Mj=null!=this.Mj?B.ja.Cn(this.Mj):null,E.Se=null!=this.Se?B.rn.Cn(this.Se):null,E.Td=null!=this.Td?B.ce.Cn(this.Td):null,E.uq=this.uq,E.tq=this.tq,E.Bj=this.ak(1024)?null:this.Bj},T.prototype.Rb=function(){if(!this.ak(512))return this.uq;for(var E=this.Ha(),D=new B.Dx(0);E.ab();)for(;E.Ia();)D.add(E.ia().Rb());return this.uq=D.tm(),this.Nf(512,!1),D.tm()},T.prototype.Nb=function(E){if(E==this)return!0;if(!(E instanceof T&&k.prototype.Nb.call(this,E)))return!1;var D=this.ea();return!(D!=E.ea()||null!=this.nb&&!this.nb.Nb(E.nb,0,D+1)||this.zq!=E.zq||null!=this.mb&&!this.mb.Nb(E.mb,0,D))&&k.prototype.Nb.call(this,E)},T.prototype.Ha=function(){return new B.QL(this)},T.prototype.cy=function(E){if(k.prototype.cy.call(this,E),this.vm())for(E=this.Ha();E.ab();)E.Ia()},T.prototype.Ap=function(E,D){if(k.prototype.Ap.call(this,E,D),this.vm())for(E=this.Ha();E.ab();)E.Ia()},T.prototype.Yx=function(){this.xa=null==this.nb||0==this.nb.size?0:this.nb.read(this.nb.size-1)},T.prototype.He=function(){return this.yf?(this.yu(),this.tq):0},T.prototype.Fv=function(E){return!!this.yf&&(this.ak(8)?(this.yu(),0<this.Bj.read(E)):0!=(4&this.mb.read(E)))},T.prototype.Kr=function(E){return this.yf?(this.yu(),this.Bj.read(E)):0},T.prototype.yu=function(){if(this.ak(1024)){var E=this.ea();null==this.Bj?this.Bj=new B.ce(E):this.Bj.size!=E&&this.Bj.resize(E),E=new B.Dx(0);for(var D=new B.Dx(0),O=new B.h,L=0,F=this.Ha();F.ab();){for(D.reset(),this.D(this.Ca(F.gb),O);F.Ia();)D.add(F.ia().Rx(O.x,O.y));E.add(D.tm());var V=L++;this.Bj.write(V,D.tm())}this.tq=E.tm(),this.Nf(1024,!1)}},T.prototype.xR=function(){if(this.yf){this.hm();for(var E=this.ea(),D=0;D<E;D++)this.mb.read(D)}},T.prototype.hm=function(){if(this.ak(8)){this.yu();var E=this.ea();(null==this.mb||this.mb.size<E)&&(this.mb=B.Zc.Nr(E+1));for(var D=1,O=0;O<E;O++){var L=this.Bj.read(O);0==O&&(D=0<L?1:-1),0<L*D?this.mb.rJ(O,4):this.mb.CE(O,4)}this.Nf(8,!1)}},T.prototype.nz=function(E){var D=this.gb,O=this.ea();if(0<=D&&D<O){if(E<this.Wc(D)){if(E>=this.Ca(D))return D;D--}else D++;if(0<=D&&D<O&&E>=this.Ca(D)&&E<this.Wc(D))return this.gb=D}if(5>O){for(D=0;D<O;D++)if(E<this.Wc(D))return this.gb=D;throw B.i.ga("corrupted geometry")}for(D=0,--O;O>D;){var L=D+(O-D>>1);if(E<this.Ca(L))O=L-1;else{if(!(E>=(D=this.Wc(L))))return this.gb=L;D=L+1}}return this.gb=D},T.prototype.sz=function(){var E=this.I();if(!this.yf){E-=this.ea();for(var D=0,O=this.ea();D<O;D++)this.ec(D)&&E++}return E},T.prototype.sv=function(E){var D=this.Ka(E);return this.ec(E)||D--,D},T.prototype.Ja=function(){return new T(this.yf,this.description)},T.prototype.Eb=function(){return this.yf?2:1},T.prototype.K=function(){return this.yf?1736:1607},T.prototype.IJ=function(E){this.nb=E,this.Qc(16777215)},T.prototype.MR=function(){return this.ux(),this.Se},T.prototype.BR=function(){return this.ux(),this.mb},T.prototype.HJ=function(E){this.mb=E,this.Qc(16777215)},T.prototype.ea=function(){return null!=this.nb?this.nb.size-1:0},T.prototype.Wc=function(E){return this.nb.read(E+1)},T.prototype.Ka=function(E){return this.nb.read(E+1)-this.nb.read(E)},T.prototype.Ca=function(E){return this.nb.read(E)},T.prototype.mu=function(E,D){null==this.Cb&&(this.Cb=new B.Uk),D=B.Lx.fW(D);var O=this.Cb.Fk;if(null!=O){if(!(O.Ik<E||D>O.IR()))return!0;this.Cb.qD(null)}return O=B.Lx.create(this,E,D),this.Cb.qD(O),!0},T.prototype.dc=function(){var E=k.prototype.dc.call(this);if(!this.Bc()){var D=this.ea();null!=this.nb&&this.nb.Bn(E,0,D+1),null!=this.mb&&this.mb.Bn(E,0,D)}return E},T.prototype.RF=function(E){return null!=this.Se?this.Se.read(E):1},T.prototype.cc=function(E,D,O){var L=this.nz(E);if(E==this.Wc(L)-1&&!this.ec(L))throw B.i.ga("index out of bounds");this.rc();var F=this.Se,V=1;if(null!=F&&(V=7&F.read(E)),1!==V)throw B.i.Ra();if(D.Pr(),(D=D.get()).kg(O?B.ee.og():this.description),L=E==this.Wc(L)-1&&this.ec(L)?this.Ca(L):E+1,F=new B.h,this.D(E,F),D.Ec(F),this.D(L,F),D.Rc(F),!O)for(O=1,F=this.description.Ba;O<F;O++){V=this.description.Fd(O);for(var W=B.ua.Wa(V),X=0;X<W;X++){var ie=this.Vc(V,E,X);D.RB(V,X,ie),ie=this.Vc(V,L,X),D.IB(V,X,ie)}}},T.prototype.Sj=function(E,D){if(E>=this.ea())throw B.i.O();if(this.B())D.Pa();else{if(this.zv(E))throw B.i.ga("not implemented");var O=this.vb(0),L=new B.h,F=new B.l;F.Pa();var V=this.Ca(E);for(E=this.Wc(E);V<E;V++)O.uc(2*V,L),F.$b(L);D.L(F)}},T.prototype.gj=function(E){return null==this.Cb&&(this.Cb=new B.Uk),!(0==E||16>this.I()||(E=B.ta.fE(this),this.Cb.OM(E),0))},T.prototype.$L=function(){if(null==this.Cb&&(this.Cb=new B.Uk),null==this.Cb.Ao){this.Cb.pD(null);var E=B.ta.QN(this);this.Cb.pD(E)}},T.prototype.Zo=function(E){this.zq=E},T.prototype.Jn=function(){return this.zq},T.prototype.vD=function(E){if(this==E)throw B.i.ga("MultiPathImpl.add");for(var D=this.ea(),O=0;O<E.ea();O++)this.addPath(E,O,!0),this.sU(D),D++},T.prototype.cO=function(E){var D=this.nz(E),O=this.Ca(D);if(O!=E){if(E>=(D=this.Wc(D))||E<O)throw B.i.ga("change_ring_start_point");for(var L=0,F=this.description.Ba;L<F;L++){var V=this.description.qd(L);V=B.ua.Wa(V),this.Aa[L].rotate(O*V,E*V,D*V)}}},T}(B.Ex);B.Vk=$}(st||(st={})),function(B){var Be=function($){function k(T){var E=$.call(this)||this;if(void 0!==T){if(null==T)throw B.i.O();E.description=T}else E.description=B.ee.og();return E.xa=0,E}return pi(k,$),k.prototype.Ja=function(){return new k(this.description)},k.prototype.add=function(T){this.resize(this.xa+1),this.Eh(this.xa-1,T)},k.prototype.Cu=function(T,E){this.resize(this.xa+1);var D=new B.h;D.na(T,E),this.Db(this.xa-1,D)},k.prototype.Gd=function(T,E,D){if(D=0>D?T.I():D,0>E||E>T.I()||D<E)throw B.i.O();if(E!=D){this.Ll(T.description);var O=this.xa;this.resize(this.xa+(D-=E)),this.rc();for(var L=0,F=T.description.Ba;L<F;L++){var V=T.description.Fd(L),W=B.ua.Wa(V),X=this.vb(V);V=T.vb(V),X.Nn(O*W,V,E*W,D*W,!0,1,O*W)}}},k.prototype.zD=function(T,E){var D=T.length;if(E=0>E?D:E,0>D||0>E)throw B.i.O();if(0!=E){D=E-0,E=this.xa,this.resize(this.xa+D);for(var O=0;O<D;O++)this.Db(E+O,T[0+O])}},k.prototype.xB=function(T){if(0>T||T>=this.I())throw B.i.ga("index out of bounds");this.rc();for(var E=0,D=this.description.Ba;E<D;E++)if(null!=this.Aa[E]){var O=B.ua.Wa(this.description.Fd(E));this.Aa[E].Fn(O*T,O,O*this.xa)}this.xa--,this.Qg--,this.Qc(1993)},k.prototype.resize=function(T){this.fm(T)},k.prototype.pp=function(){},k.prototype.Pa=function(){$.prototype.oD.call(this)},k.prototype.Pc=function(T){if(T instanceof B.Ed){if(this.B())return;this.rc();for(var E=this.Aa[0],D=new B.h,O=0;O<this.xa;O++)D.x=E.read(2*O),D.y=E.read(2*O+1),T.Fh(D,D),E.write(2*O,D.x),E.write(2*O+1,D.y)}else{if(this.B())return;this.rc(),this.se(1),this.rc(),E=this.Aa[0],D=this.Aa[1];var L=new B.Od;for(O=0;O<this.xa;O++){L.x=E.read(2*O),L.y=E.read(2*O+1),L.z=D.read(O);var F=T.gp(L);E.write(2*O,F.x),E.write(2*O+1,F.y),D.write(O,F.z)}}this.Qc(1993)},k.prototype.Eb=function(){return 0},k.prototype.K=function(){return 550},k.prototype.He=function(){return 0},k.prototype.Rb=function(){return 0},k.prototype.Nb=function(T){return T==this||T instanceof k&&$.prototype.Nb.call(this,T)},k.prototype.bW=function(T,E){var D=this.xa;if(D=Math.min(D,E+1e3),0>E||E>=this.xa||D<E||1e3!=T.length)throw B.i.O();var O=D-E,L=[];for(this.vb(0).Ww(2*E,2*O,L,0,!0),E=0;E<O;E++)T[E]=B.h.construct(L[2*E],L[2*E+1]);return D},k.prototype.Yx=function(){},k.prototype.dy=function(){},k.prototype.mu=function(){return!1},k.prototype.gj=function(){return!1},k.prototype.mg=function(){return null},k}(B.Ex);B.de=Be}(st||(st={})),function(B){var Be;(Be=B.aL||(B.aL={}))[Be.NotDetermined=0]="NotDetermined",Be[Be.Structure=1]="Structure",Be[Be.DegenerateSegments=2]="DegenerateSegments",Be[Be.Clustering=3]="Clustering",Be[Be.Cracking=4]="Cracking",Be[Be.CrossOver=5]="CrossOver",Be[Be.RingOrientation=6]="RingOrientation",Be[Be.RingOrder=7]="RingOrder",Be[Be.OGCPolylineSelfTangency=8]="OGCPolylineSelfTangency",Be[Be.OGCPolygonSelfTangency=9]="OGCPolygonSelfTangency",Be[Be.OGCDisconnectedInterior=10]="OGCDisconnectedInterior";var $=function(){function k(T,E,D){void 0===T?(this.Kj=0,this.Lo=this.Ko=-1):(this.Kj=T,this.Ko=E,this.Lo=D)}return k.prototype.Xt=function(T){this.Kj=T.Kj,this.Ko=T.Ko,this.Lo=T.Lo},k}();B.Nd=$}(st||(st={})),function(B){B.P=function(){function Be(){}return Be.assert=function($){if(!1===$)throw B.i.yK()},Be.UJ=function($){return isNaN($)?NaN:0===$?$:0<$?1:-1},Be.Gu=function($){var k;void 0===k&&(k=0);for(var T=[],E=0;E<$;E++)T[E]=Be.lg(2,k);return T},Be.lg=function($,k){void 0===k&&(k=0);for(var T=[],E=0;E<$;E++)T[E]=k;return T},Be.av=function($,k){var T,E;for(void 0===T&&(T=0),void 0===E&&(E=$.length-1);T<=E;T++)$[T]=k},Be.Rk=function($,k,T){return $<k?k:$>T?T:$},Be.Uh=function($,k){var T=5381;return((T=((T=((T=void 0!==k?(k<<5)+k+(255&$):(T<<5)+T+(255&$))<<5)+T+($>>8&255))<<5)+T+($>>16&255))<<5)+T+($>>24&255)&2147483647},Be.vj=function(){throw Error("Not Implemented")},Be.WA=function($){return Be.RT($)+12345&2147483647},Be.OG=function($){var k=32,E=$/Be.Ox|0;return 0==(k&=63)?$:(32>k?($=($%Be.Ox|0)>>>k|E<<32-k,k=E>>k):($=E>>k-32,k=0<=E?0:-1),k*Be.Ox+($>>>0))},Be.RT=function($){return(1103495168*($|=0)|0)+(20077*$|0)|0},Be.truncate=function($){return 0>$?-1*Math.floor(Math.abs($)):Math.floor($)},Be.MAX_SAFE_INTEGER=Math.pow(2,53)-1,Be.MIN_SAFE_INTEGER=-Be.MAX_SAFE_INTEGER,Be.Ox=(Be.NC=65536)*Be.NC,Be}()}(st||(st={})),function(B){var Be;(Be=B.uL||(B.uL={}))[Be.Project=0]="Project",Be[Be.Union=1]="Union",Be[Be.Difference=2]="Difference",Be[Be.Proximity2D=3]="Proximity2D",Be[Be.Relate=4]="Relate",Be[Be.Equals=5]="Equals",Be[Be.Disjoint=6]="Disjoint",Be[Be.Intersects=7]="Intersects",Be[Be.Within=8]="Within",Be[Be.Contains=9]="Contains",Be[Be.Crosses=10]="Crosses",Be[Be.Touches=11]="Touches",Be[Be.Overlaps=12]="Overlaps",Be[Be.Buffer=13]="Buffer",Be[Be.Distance=14]="Distance",Be[Be.Intersection=15]="Intersection",Be[Be.Clip=16]="Clip",Be[Be.Cut=17]="Cut",Be[Be.DensifyByLength=18]="DensifyByLength",Be[Be.DensifyByAngle=19]="DensifyByAngle",Be[Be.LabelPoint=20]="LabelPoint",Be[Be.GeodesicBuffer=21]="GeodesicBuffer",Be[Be.GeodeticDensifyByLength=22]="GeodeticDensifyByLength",Be[Be.ShapePreservingDensify=23]="ShapePreservingDensify",Be[Be.GeodeticLength=24]="GeodeticLength",Be[Be.GeodeticArea=25]="GeodeticArea",Be[Be.Simplify=26]="Simplify",Be[Be.SimplifyOGC=27]="SimplifyOGC",Be[Be.Offset=28]="Offset",Be[Be.Generalize=29]="Generalize",Be[Be.SymmetricDifference=30]="SymmetricDifference",Be[Be.ConvexHull=31]="ConvexHull",Be[Be.Boundary=32]="Boundary",Be[Be.SimpleRelation=33]="SimpleRelation";var $=function(){function k(){}return k.prototype.K=function(){return null},k.prototype.xn=function(){},k.prototype.Ju=function(){return!1},k}();B.Ge=$}(st||(st={})),function(B){var Be=function($){function k(){return null!==$&&$.apply(this,arguments)||this}return pi(k,$),k.prototype.K=function(){return 13},k.local=function(){return null===k.instance&&(k.instance=new k),k.instance},k.prototype.W=function(T,E,D,O,L){return T instanceof B.ba?(L=new B.$c(T),this.W(L,E,[D],!1,O).next()):!0===O?(D=new B.tC(T,E,D,!1,L),B.Hh.local().W(D,E,L)):new B.tC(T,E,D,!1,L)},k.instance=null,k}(B.Ge);B.sC=Be}(st||(st={})),function(B){var Be=function(){function $(k,T,E,D,O){this.za=-1,this.Sd=k,this.Vz=T,this.Ds=E,this.iT=new B.l,this.iT.Pa(),this.fo=-1,this.Vb=O}return $.prototype.next=function(){for(var k;null!=(k=this.Sd.next());)return this.za=this.Sd.Ma(),this.fo+1<this.Ds.length&&this.fo++,this.buffer(k,this.Ds[this.fo]);return null},$.prototype.Ma=function(){return this.za},$.prototype.buffer=function(k,T){return B.zK.buffer(k,T,this.Vz,NaN,96,this.Vb)},$.prototype.qe=function(){},$}();B.tC=Be}(st||(st={})),function(B){var Be=function($){function k(){return null!==$&&$.apply(this,arguments)||this}return pi(k,$),k.prototype.K=function(){return 16},k.local=function(){return null===k.instance&&(k.instance=new k),k.instance},k.prototype.W=function(T,E,D,O){return T instanceof B.ba?(T=new B.$c(T),this.W(T,E,D,O).next()):new B.dL(T,E,D,O)},k.instance=null,k}(B.Ge);B.cL=Be}(st||(st={})),function(B){var Be=function(){function $(k,T,E){if(this.za=-1,null==k)throw B.i.O();this.aa=T,this.yk=k,this.ra=B.ta.Xd(E,T,!1)}return $.prototype.next=function(){var k;return null!=(k=this.yk.next())?(this.za=this.yk.Ma(),B.Vd.clip(k,this.aa,this.ra,0)):null},$.prototype.Ma=function(){return this.za},$.prototype.qe=function(){},$}();B.dL=Be}(st||(st={})),function(B){var Be=function($){function k(){return null!==$&&$.apply(this,arguments)||this}return pi(k,$),k.prototype.K=function(){return 31},k.local=function(){return null===k.instance&&(k.instance=new k),k.instance},k.prototype.W=function(T,E,D){return T instanceof B.ba?B.vC.jE(T):new B.vC(E,T,D)},k.instance=null,k}(B.Ge);B.uC=Be}(st||(st={})),function(B){var Be=function(){function $(k,T,E){if(this.oA=new B.$t,this.za=-1,null==T)throw B.i.O();this.VG=k,this.Jc=!1,this.yk=T,this.Vb=E}return $.prototype.next=function(){if(this.VG){if(!this.Jc){var k=this.WN(this.yk);return this.Jc=!0,k}return null}if(!this.Jc){if(null!=(k=this.yk.next()))return this.za=this.yk.Ma(),$.jE(k);this.Jc=!0}return null},$.prototype.Ma=function(){return this.za},$.prototype.WN=function(k){for(var T;null!=(T=k.next());)this.oA.Ib(T);return this.oA.VQ()},$.prototype.qe=function(){if(!this.Jc){if(!this.VG)throw B.i.ga("Invalid call for non merging convex hull.");var k=this.yk.next();if(null==k)throw B.i.ga("Expects a non-null geometry.");this.oA.Ib(k)}},$.jE=function(k){if($.LS(k))return k;var T=k.K();if(B.Vk.zd(T))return(T=new B.Ua(k.description)).oc(k,!0),T;if(550==T&&2==k.I()){var E=new B.Ta;return T=new B.Ua(k.description),k.we(0,E),T.nf(E),k.we(1,E),T.lineTo(E),T}return B.$t.JO(k)},$.LS=function(k){if(k.B())return!0;var T=k.K();return 33==T||197==T||!B.Vk.zd(T)&&(550==T?1==k.I():1607==T?1==k.ea()&&2>=k.I():1==k.ea()&&(2>=k.I()||B.$t.BG(k,0)))},$}();B.vC=Be}(st||(st={})),function(B){var Be=function($){function k(){return null!==$&&$.apply(this,arguments)||this}return pi(k,$),k.prototype.K=function(){return 17},k.local=function(){return null===k.instance&&(k.instance=new k),k.instance},k.prototype.W=function(T,E,D,O,L){return new B.fL(T,E,D,O,L)},k.instance=null,k}(B.Ge);B.eL=Be}(st||(st={})),function(B){var Be=function(){function $(k,T,E,D,O){if(this.Uf=null,null==T||null==E)throw B.i.ga("invalid argument");this.fT=k,this.hA=T,this.dH=E,k=B.ta.nv(T,E),this.ra=B.ta.Xd(D,k,!0),this.cH=-1,this.nd=O}return $.prototype.Ma=function(){return 0},$.prototype.next=function(){return this.JQ(),++this.cH<this.Uf.length?this.Uf[this.cH]:null},$.prototype.JQ=function(){if(null==this.Uf)switch(this.Uf=[],this.hA.K()){case 1607:this.LQ();break;case 1736:this.KQ()}},$.prototype.LQ=function(){var k=new B.Ua,T=new B.Ua,E=new B.Ua;this.Uf.push(k),this.Uf.push(T);var D=[];B.DK.BK(this.fT,this.hA,this.dH,this.ra,D,this.nd);for(var O=0;O<D.length;O++){var L=D[O];if(0==L.bt)k.add(L.Y,!1);else if(1==L.bt||2==L.bt)T.add(L.Y,!1);else if(3==L.bt)this.Uf.push(L.Y);else{if(4!=L.bt)throw B.i.ga("internal");E.add(L.Y,!1)}}E.B()||k.B()&&T.B()&&!(3<=this.Uf.length)||this.Uf.push(E),k.B()&&T.B()&&3>this.Uf.length&&(this.Uf.length=0)},$.prototype.KQ=function(){var k=new B.ja(0),T=new B.hd,E=T.TE(),D=T.Ib(this.hA),O=T.Ib(this.dH),L=new B.Hg;try{L.Ft(T,this.ra,this.nd),L.el(E,D,O,k);var F=T.Ke(D),V=new B.Ea,W=new B.Ea;for(this.Uf.length=0,this.Uf.push(V),this.Uf.push(W),D=0;D<k.size;D++){var X=new B.hd,ie=X.Ib(F),Y=X.Ib(T.Ke(k.get(D)));L.fr(X,this.nd);var te=L.Bv(ie,Y),ne=X.Ke(te);if(!ne.B()){var we=T.CF(k.get(D),E);2==we?V.add(ne,!1):1==we?W.add(ne,!1):this.Uf.push(ne);var ze=new B.hd;ie=ze.Ib(F),Y=ze.Ib(T.Ke(k.get(D))),L.fr(ze,this.nd),F=ze.Ke(L.km(ie,Y))}}!F.B()&&0<k.size&&this.Uf.push(F),V.B()&&W.B()&&(this.Uf.length=0)}finally{L.Vg()}},$.prototype.qe=function(){},$}();B.fL=Be}(st||(st={})),function(B){var Be=function($){function k(){return null!==$&&$.apply(this,arguments)||this}return pi(k,$),k.prototype.K=function(){return 18},k.local=function(){return null===k.instance&&(k.instance=new k),k.instance},k.prototype.W=function(T,E,D){if(T instanceof B.ba)return T=new B.$c(T),this.W(T,E,D).next();if(0>=E)throw B.i.O();return new B.gL(T,E,D)},k.instance=null,k}(B.Ge);B.Zl=Be}(st||(st={})),function(B){var Be=function(){function $(k,T){this.za=-1,this.Sd=k,this.Qs=T}return $.prototype.Ma=function(){return this.za},$.prototype.next=function(){var k;return null!=(k=this.Sd.next())?(this.za=this.Sd.Ma(),this.FP(k)):null},$.prototype.FP=function(k){if(k.B()||1>k.Eb())return k;var T=k.K();if(1736==T||1607==T)return this.Iy(k);if(B.ba.zd(T))return this.HP(k);if(197==T)return this.GP(k);throw B.i.Ra()},$.prototype.HP=function(k){if(k.Rb()<=this.Qs)return k;var T=new B.Ua(k.description);return T.oc(k,!0),this.Iy(T)},$.prototype.GP=function(k){var T=new B.Ea(k.description);T.bd(k,!1);var E=new B.l;return k.A(E),k=E.da(),E.S()<=this.Qs&&k<=this.Qs?T:this.Iy(T)},$.prototype.Iy=function(k){for(var T=k.Ja(),E=k.Ha();E.ab();)for(var D=!0;E.Ia();){var O=E.ia();if(322!=O.K())throw B.i.ga("not implemented");var L=E.Pn(),F=O.Rb();if(F>this.Qs){var V=Math.ceil(F/this.Qs);F=new B.Ta(k.description),D&&(O.Uo(F),T.nf(F));var W=D=1/V,X=0;for(--V;X<V;X++)O.Uw(W,F),T.lineTo(F),W+=D;L?T.Cp():(O.Qo(F),T.lineTo(F))}else L?T.Cp():T.oc(O,D);D=!1}return T},$.prototype.qe=function(){},$}();B.gL=Be}(st||(st={})),function(B){var Be=function($){function k(){return null!==$&&$.apply(this,arguments)||this}return pi(k,$),k.local=function(){return null===k.instance&&(k.instance=new k),k.instance},k.prototype.K=function(){return 2},k.prototype.W=function(T,E,D,O){return T instanceof B.ba?(T=new B.$c(T),E=new B.$c(E),this.W(T,E,D,O).next()):new B.hL(T,E,D,O)},k.km=function(T,E,D,O){if(T.B()||E.B())return T;var L=T.Eb(),F=E.Eb();if(L>F)return T;var V=T.K(),W=E.K(),X=new B.l,ie=new B.l,Y=new B.l;T.A(X),E.A(ie),Y.L(X),Y.$b(ie);var te=(Y=B.ta.Xd(D,Y,!0))*Math.sqrt(2)*1.00001,ne=new B.l;if(ne.L(X),ne.X(te,te),!ne.isIntersecting(ie))return T;if(1==L&&2==F)return k.AV(T,E,W,D,O);if(33==V)switch(B.Vk.zd(W)?(D=new B.Ua(E.description),D.oc(E,!0)):D=E,W){case 1736:return k.NU(T,D,Y);case 1607:return k.OU(T,D,Y);case 550:return k.LU(T,D,Y);case 197:return k.KU(T,D,Y);case 33:return k.MU(T,D,Y);default:throw B.i.O()}else if(550==V)switch(W){case 1736:return k.dU(T,E,Y);case 197:return k.bU(T,E,Y);case 33:return k.cU(T,E,Y)}return B.Hg.km(T,E,D,O)},k.NU=function(T,E,D){return 0==B.jd.CG(E,T,D)?T:T.Ja()},k.OU=function(T,E,D){var O=T.D();E=E.Ha();for(var L=D*Math.sqrt(2)*1.00001,F=L*L,V=new B.l;E.ab();)for(;E.Ia();){var W=E.ia();if(W.A(V),V.X(L,L),V.contains(O)){if(W.rs(O,D))return T.Ja();var X=W.ac();if(B.h.zc(O,X)<=F||(X=W.xc(),B.h.zc(O,X)<=F))return T.Ja()}}return T},k.LU=function(T,E,D){var O=E.vb(0);E=E.I();var L=T.D(),F=new B.h;D=D*Math.sqrt(2)*1.00001,D*=D;for(var V=0;V<E;V++)if(O.uc(2*V,F),B.h.zc(F,L)<=D)return T.Ja();return T},k.KU=function(T,E,D){var O=new B.l;return E.A(O),O.X(D,D),E=T.D(),O.contains(E)?T.Ja():T},k.MU=function(T,E,D){D=D*Math.sqrt(2)*1.00001,D*=D;var O=T.D();return E=E.D(),B.h.zc(O,E)<=D?T.Ja():T},k.dU=function(T,E,D){var O=new B.l;E.A(O),O.X(D,D);for(var L=T.I(),F=!1,V=[],W=0;W<L;W++)V[W]=!1;var X=new B.h;for(W=0;W<L;W++)T.D(W,X),O.contains(X)&&0!=B.jd.Zd(E,X,D)&&(F=!0,V[W]=!0);if(!F)return T;for(E=T.Ja(),W=0;W<L;W++)V[W]||E.Gd(T,W,W+1);return E},k.bU=function(T,E,D){var O=new B.l;E.A(O),O.X(D,D),E=T.I();var L=!1;D=[];for(var F=0;F<E;F++)D[F]=!1;var V=new B.h;for(F=0;F<E;F++)T.D(F,V),O.contains(V)&&(L=!0,D[F]=!0);if(!L)return T;for(O=T.Ja(),F=0;F<E;F++)D[F]||O.Gd(T,F,F+1);return O},k.cU=function(T,E,D){var O=T.vb(0),L=T.I(),F=E.D(),V=new B.h,W=!1;E=[];for(var X=0;X<L;X++)E[X]=!1;for(D=(X=D*Math.sqrt(2)*1.00001)*X,X=0;X<L;X++)O.uc(2*X,V),B.h.zc(V,F)<=D&&(W=!0,E[X]=!0);if(!W)return T;for(O=T.Ja(),X=0;X<L;X++)E[X]||O.Gd(T,X,X+1);return O},k.AV=function(T,E,D,O,L){var F=new B.Gh;T.dn(F);var V=new B.l;return E.A(V),F.$b(V),F.X(.1*F.S(),.1*F.da()),(V=new B.Ea).bd(F,!1),1736==D?V.add(E,!0):V.bd(E,!0),B.Wk.local().W(T,V,O,L)},k.instance=null,k}(B.Ge);B.lp=Be}(st||(st={})),function(B){var Be=function(){function $(k,T,E,D){this.us=null==T,this.za=-1,this.Sd=k,this.Vz=E,this.lT=T.next(),this.Vb=D}return $.prototype.next=function(){return this.us?null:null!=(k=this.Sd.next())?(this.za=this.Sd.Ma(),B.lp.km(k,this.lT,this.Vz,this.Vb)):null;var k},$.prototype.Ma=function(){return this.za},$.prototype.qe=function(){},$}();B.hL=Be}(st||(st={})),function(B){var Be=function(){function k(T){this.nd=T,this.Cj=new B.l,this.Cj.Pa(),this.ph=new B.l,this.ph.Pa()}return k.prototype.Ot=function(){var T=this.Cj.v;this.Cj.v=this.ph.v,this.ph.v=T,T=this.Cj.C,this.Cj.C=this.ph.C,this.ph.C=T,T=this.Cj.G,this.Cj.G=this.ph.G,this.ph.G=T,T=this.Cj.H,this.Cj.H=this.ph.H,this.ph.H=T},k.prototype.XP=function(T,E){if(null!=this.nd&&!this.nd.progress(-1,-1))throw B.i.gu("user_canceled");var D=!this.Cj.isIntersecting(this.ph);return B.ba.Ic(T.K())&&B.ba.Ic(E.K())?T.I()>E.I()?this.ZD(T,E,D):(this.Ot(),T=this.ZD(E,T,D),this.Ot(),T):550==T.K()&&B.ba.Ic(E.K())?(T=this.$D(E,T,D),this.Ot(),T):550==E.K()&&B.ba.Ic(T.K())?this.$D(T,E,D):550==T.K()&&550==E.K()?T.I()>E.I()?this.aE(T,E):(this.Ot(),T=this.aE(E,T),this.Ot(),T):0},k.prototype.ZD=function(T,E,D){var O=T.Ha(),L=E.Ha(),F=new B.l,V=new B.l,W=17976931348623157e292;if(!D&&this.dY(T,E,O,L))return 0;for(;O.ab();)for(;O.Ia();)if((T=O.ia()).A(F),!(F.ox(this.ph)>W)){for(;L.ab();)for(;L.Ia();)if((E=L.ia()).A(V),F.ox(V)<W&&(E=T.ub(E,D),(E*=E)<W)){if(0==E)return 0;W=E}L.$i()}return Math.sqrt(W)},k.prototype.$D=function(T,E,D){var O=T.Ha(),L=new B.l,F=17976931348623157e292,V=new B.h,W=E.I();for(D=!D&&1736==T.K();O.ab();)for(;O.Ia();){var X=O.ia();if(X.A(L),!(1<W&&L.ox(this.ph)>F)){for(var ie=0;ie<W;ie++){if(E.D(ie,V),D&&0!=B.jd.Zd(T,V,0))return 0;var Y=X.fe(V,!1);if(V.sub(X.ic(Y)),(Y=V.Sk())<F){if(0==Y)return 0;F=Y}}D=!1}}return Math.sqrt(F)},k.prototype.aE=function(T,E){for(var D,O=17976931348623157e292,L=new B.h,F=new B.h,V=T.I(),W=E.I(),X=0;X<V;X++)if(T.D(X,L),!(1<W&&this.ph.aK(L)>O))for(var ie=0;ie<W;ie++)if(E.D(ie,F),(D=B.h.zc(L,F))<O){if(0==D)return 0;O=D}return Math.sqrt(O)},k.prototype.dY=function(T,E,D,O){if(1736==T.K()){for(;O.ab();)if(O.Ia()){var L=O.ia();if(0!=B.jd.Zd(T,L.xc(),0))return!0}O.$i()}if(1736==E.K()){for(;D.ab();)if(D.Ia()&&(T=D.ia(),0!=B.jd.Zd(E,T.xc(),0)))return!0;D.$i()}return!1},k.prototype.im=function(T,E){return T.B()||E.B()?NaN:(T.A(this.Cj),E.A(this.ph),this.XP(T,E))},k}(),$=function(k){function T(){return null!==k&&k.apply(this,arguments)||this}return pi(T,k),T.prototype.W=function(E,D,O){if(null==E||null==D)throw B.i.O();if(E.B()||D.B())return NaN;var L=E.K(),F=D.K();if(33==L){if(33==F)return B.h.ub(E.D(),D.D());if(197==F)return O=new B.l,D.A(O),O.ub(E.D());(L=new B.de).add(E),E=L}else if(197==L){if(197==F)return F=new B.l,E.A(F),O=new B.l,D.A(O),O.ub(F);(L=new B.Ea).bd(E,!1),E=L}return 33==F?((F=new B.de).add(D),D=F):197==F&&((F=new B.Ea).bd(D,!1),D=F),new Be(O).im(E,D)},T.local=function(){return null===T.instance&&(T.instance=new T),T.instance},T.prototype.K=function(){return 14},T.instance=null,T}(B.Ge);B.iL=$}(st||(st={})),function(B){var Be=function(){function $(k,T,E,D){this.rH=k,this.vH=T,this.nd=D,this.SG=E}return $.prototype.next=function(){var k=this.rH.next();return null==k?null:this.rC(k)},$.prototype.Ma=function(){return this.rH.Ma()},$.prototype.rC=function(k){var T=k.K();if(B.ba.Sn(T))return k;if(197==T)return(T=new B.Ea(k.description)).bd(k,!1),this.rC(T);if(k.B())return k;if(null==k)throw B.i.Ra();T=k.Ja();for(var E=new B.zb,D=0,O=k.ea();D<O;D++)this.LK(k,D,T,E);return T},$.prototype.LK=function(k,T,E,D){if(!(2>k.Ka(T))){var O=k.Ca(T),L=k.Wc(T)-1,F=k.vb(0),V=k.ec(T),W=new B.ja(0);W.Jb(k.Ka(T)+1);var X=new B.ja(0);for(X.Jb(k.Ka(T)+1),W.add(V?O:L),W.add(O),O=new B.h;1<W.size;){var ie=W.Gc();W.Jf();var Y=W.Gc();k.D(ie,O),D.Ec(O),k.D(Y,O),D.Rc(O),0<=(Y=this.KK(D,O,F,ie,Y,L))?(W.add(Y),W.add(ie)):X.add(ie)}if(V||X.add(W.get(0)),X.size==W.size)E.addPath(k,T,!0);else if(2<=X.size&&(!this.SG||2!=X.size||!(V||B.h.ub(k.Oa(X.get(0)),k.Oa(X.get(1)))<=this.vH))){for(T=new B.Ta,D=0,L=X.size;D<L;D++)k.we(X.get(D),T),0==D?E.nf(T):E.lineTo(T);V&&(this.SG||2!=X.size||E.lineTo(T),E.Cp())}}},$.prototype.KK=function(k,T,E,D,O,L){var F=O-1;for(O<=D&&(F=L),L=O=-1,D+=1;D<=F;D++){E.uc(2*D,T);var V=T.x,W=T.y;k.ic(k.fe(T,!1),T),T.x-=V,T.y-=W,(V=T.length())>this.vH&&V>L&&(O=D,L=V)}return O},$.prototype.qe=function(){},$}();B.jL=Be}(st||(st={})),function(B){var Be=function($){function k(){return null!==$&&$.apply(this,arguments)||this}return pi(k,$),k.prototype.K=function(){return 29},k.prototype.W=function(T,E,D,O){return T instanceof B.ba?(T=new B.$c(T),this.W(T,E,D,O).next()):new B.jL(T,E,D,O)},k.local=function(){return null===k.instance&&(k.instance=new k),k.instance},k.instance=null,k}(B.Ge);B.wC=Be}(st||(st={})),function(B){var Be=function($){function k(){return null!==$&&$.apply(this,arguments)||this}return pi(k,$),k.prototype.K=function(){return 21},k.local=function(){return null===k.instance&&(k.instance=new k),k.instance},k.prototype.W=function(T,E,D,O,L,F,V,W){return T instanceof B.ba?(W=new B.$c(T),this.W(W,E,D,[O],L,F,!1,V).next()):!0===V?(D=new B.yC(T,E,D,O,L,!1,!1,W),B.Hh.local().W(D,E,W)):new B.yC(T,E,D,O,L,!1,!1,W)},k.instance=null,k}(B.Ge);B.xC=Be}(st||(st={})),function(B){var Be=function(){function $(k,T,E,D,O,L,F,V){if(L)throw B.i.Fe();if(null==T)throw B.i.O();this.za=-1,this.Ns=k,this.vg=T,this.Ae=E,this.Ds=D,this.ao=O,this.fo=-1,this.Vb=V,this.jT=new B.l,this.jT.Pa()}return $.prototype.next=function(){for(var k;null!=(k=this.Ns.next());)return this.za=this.Ns.Ma(),this.fo+1<this.Ds.length&&this.fo++,this.SQ(k,this.Ds[this.fo]);return null},$.prototype.Ma=function(){return this.za},$.prototype.SQ=function(k,T){return B.NK.buffer(k,this.vg,this.Ae,T,this.ao,this.Vb)},$.prototype.qe=function(){},$}();B.yC=Be}(st||(st={})),function(B){var Be=function($){function k(){return null!==$&&$.apply(this,arguments)||this}return pi(k,$),k.prototype.K=function(){return 24},k.local=function(){return null===k.instance&&(k.instance=new k),k.instance},k.prototype.W=function(T,E,D){if(null==E)throw B.i.O();if(T.B()||1>T.Eb())return 0;if(4==D)throw B.i.Fe();var O=B.cb.tc(E),L=B.cb.wv(O),F=B.cb.fv(O);L*=2-L;var V=O.Id().bi,W=T.K();if(1736==W||197==W)var X=T.mg();else B.ba.zd(W)?(X=new B.Ua(T.description)).oc(T,!0):X=T;if(0==O.Nb(E)){if(B.cb.Xc(E)){X=B.Ih.mj(X,E),1607==W&&X==T&&(X=B.ba.ig(T)),T=new B.Oc,B.cb.hh(E).en(T),W=0;for(var ie=X.I();W<ie;W++){var Y=X.Oa(W);Y.x=B.Ih.an(Y.x,T),X.Db(W,Y)}}T=X.Ja(),X=B.Ih.NI(E,O,X,T)?T:B.cb.Ah(X,E,O)}return this.$P(X,D,F,L,V)},k.prototype.$P=function(T,E,D,O,L){var F=new B.ha(0),V=0;for(T=T.Ha();T.ab();)for(;T.Ia();){var W=T.ia(),X=W.ac();W=W.xc(),X.scale(L),W.scale(L),B.kb.xd(D,O,X.x,X.y,W.x,W.y,F,null,null,E),V+=F.u}return V},k.instance=null,k}(B.Ge);B.mL=Be}(st||(st={})),function(B){var Be=function($){function k(){return null!==$&&$.apply(this,arguments)||this}return pi(k,$),k.prototype.K=function(){return 18},k.local=function(){return null===k.instance&&(k.instance=new k),k.instance},k.prototype.W=function(T,E,D,O,L){return T instanceof B.ba?(T=new B.$c(T),this.W(T,E,D,O,L).next()):new B.lL(T,D,O,E,-1,-1,L)},k.instance=null,k}(B.Ge);B.kL=Be}(st||(st={})),function(B){var Be=function(){function $(k,T,E,D,O,L){if(0<L||4!=E&&0<O)throw B.i.Fe();if(null==T)throw B.i.O();this.za=-1,this.Ns=k,this.vg=T,this.Ae=E,this.tT=D,this.sT=O}return $.prototype.next=function(){for(var k;null!=(k=this.Ns.next());)return this.za=this.Ns.Ma(),this.Uy(k);return null},$.prototype.Ma=function(){return this.za},$.prototype.Uy=function(k){return B.dj.Rr(k,this.vg,this.Ae,this.tT,this.sT,this.Vb)},$.prototype.qe=function(){},$}();B.lL=Be}(st||(st={})),function(B){(function(Be){Be[Be.Unknown=0]="Unknown",Be[Be.Contains=1]="Contains",Be[Be.Within=2]="Within",Be[Be.Equals=3]="Equals",Be[Be.Disjoint=4]="Disjoint",Be[Be.Touches=8]="Touches",Be[Be.Crosses=16]="Crosses",Be[Be.Overlaps=32]="Overlaps",Be[Be.NoThisRelation=64]="NoThisRelation",Be[Be.Intersects=1073741824]="Intersects",Be[Be.IntersectsOrDisjoint=1073741828]="IntersectsOrDisjoint"})(B.VK||(B.VK={})),B.nL=function(){function Be(){}return Be.dW=function($,k){var T=$.K(),E=k.K();if(B.ba.yj(T)){var D=$.Cb;if(null!=D&&null!=(D=D.Fk)){if(33==E){var O=k.D();D=D.To(O.x,O.y)}else O=new B.l,k.A(O),D=D.So(O);if(1==D)return 1;if(0==D)return 4}}if(B.ba.yj(E)&&null!=(D=k.Cb)&&null!=(D=D.Fk)){if(33==T?($=$.D(),D=D.To($.x,$.y)):(k=new B.l,$.A(k),D=D.So(k)),1==D)return 2;if(0==D)return 4}return 0},Be}()}(st||(st={})),function(B){var Be=function($){function k(){return null!==$&&$.apply(this,arguments)||this}return pi(k,$),k.local=function(){return null===k.instance&&(k.instance=new k),k.instance},k.prototype.K=function(){return 15},k.prototype.W=function(T,E,D,O,L){return T instanceof B.ba?(T=new B.$c(T),E=new B.$c(E),this.W(T,E,D,O,L).next()):new B.zC(T,E,D,O,void 0===L?-1:L)},k.prototype.xn=function(T,E,D){this.Ju(T)&&(E=B.ta.lj(E,T,!1),T.gj(D)||T.mu(E,D))},k.prototype.Ju=function(T){return B.Lx.rE(T)},k.instance=null,k}(B.Ge);B.Wk=Be}(st||(st={})),function(B){var Be=function(){function $(k,T,E,D,O){if(this.us=null==T,this.za=-1,this.Sd=k,this.vg=E,this.Pe=T.next(),this.Ej=this.Pe.K(),this.Vb=D,this.Gi=O,-1!=this.Gi&&(0>=this.Gi||7<this.Gi))throw B.i.O("bad dimension mask")}return $.prototype.next=function(){if(this.us)return null;if(null!=this.Aw){var k=this.Aw.next();if(null!=k)return k;this.Aw=null}for(;null!=(k=this.Sd.next());)return this.za=this.Sd.Ma(),-1==this.Gi?k=this.Fa(k):(this.Aw=this.GS(k),k=this.Aw.next()),k;return null},$.prototype.Ma=function(){return this.za},$.prototype.Fa=function(k){var T=this.rK(k);if(null!=T)return T;T=B.ta.nv(this.Pe,k);var E=B.ta.Xd(this.vg,T,!0);T=new B.l,this.Pe.A(T);var D=new B.l;return k.A(D),T.X(2*E,2*E),T.Fa(D),T.X(100*E,100*E),E=B.Vd.clip(this.Pe,T,0,0),k=B.Vd.clip(k,T,0,0),B.Hg.Bv(k,E,this.vg,this.Vb)},$.prototype.HI=function(k,T,E){var D=0;if(0!=(1&T))null==E[0]&&(E[0]=new B.de(k)),D++;else for(var O=0;O<E.length-1;O++)E[O]=E[O+1];if(0!=(2&T))null==E[D]&&(E[D]=new B.Ua(k)),D++;else for(O=D;O<E.length-1;O++)E[O]=E[O+1];if(0!=(4&T))null==E[D]&&(E[D]=new B.Ea(k)),D++;else for(O=D;O<E.length-1;O++)E[O]=E[O+1];if(3!=D){for(k=[],O=0;O<D;O++)k[O]=E[O];return new B.$c(k)}return new B.$c(E)},$.prototype.GS=function(k){var T=this.rK(k);if(null!=T){var E=[null,null,null];return E[T.Eb()]=T,this.HI(k.description,this.Gi,E)}T=B.ta.nv(this.Pe,k),E=B.ta.Xd(this.vg,T,!0),T=new B.l,this.Pe.A(T),T.X(2*E,2*E);var D=new B.l;return k.A(D),T.Fa(D),T.X(100*E,100*E),E=B.Vd.clip(this.Pe,T,0,0),T=B.Vd.clip(k,T,0,0),E=B.Hg.Kz(T,E,this.vg,this.Vb),this.HI(k.description,this.Gi,E)},$.prototype.rK=function(k){var T=B.ta.nv(k,this.Pe),E=B.ta.Xd(this.vg,T,!0);T=k.K();var D=k.B(),O=this.Pe.B();if(!(O=D||O)){O=new B.l,k.A(O);var L=new B.l;this.Pe.A(L),L.X(2*E,2*E),O=!O.isIntersecting(L)}if(!O)if(4==(L=B.nL.dW(this.Pe,k)))O=!0;else{if(0!=(2&L))return this.Pe;if(0!=(1&L))return k}if(O)return(E=B.ba.uf(T))<(O=B.ba.uf(this.Ej))?$.BB(k,D):E>O||0==E&&550==T&&33==this.Ej?this.fJ():$.BB(k,D);if((-1==this.Gi||4==this.Gi)&&197==T&&197==this.Ej)return E=this.Pe,T=new B.l,k.A(T),D=new B.l,E.A(D),T.Fa(D),E=new B.Gh,k.copyTo(E),E.Yo(T),E;if(197==T&&0==B.ba.uf(this.Ej)||197==this.Ej&&0==B.ba.uf(T))return D=197==T?k:this.Pe,k=197==T?this.Pe:k,T=new B.l,D.A(T),B.Vd.clip(k,T,E,0);if(0==B.ba.uf(T)&&0<B.ba.uf(this.Ej)||0<B.ba.uf(T)&&0==B.ba.uf(this.Ej)){if(E=B.ta.lj(this.vg,k,!1),550==T||33==T)return B.Hg.rG(k,this.Pe,E);if(550==this.Ej||33==this.Ej)return B.Hg.rG(this.Pe,k,E);throw B.i.Ra()}return-1!=this.Gi&&2!=this.Gi||1607!=T||1736!=this.Ej?-1!=this.Gi&&2!=this.Gi||1736!=T||1607!=this.Ej?null:this.oK(this.Pe,k):this.oK(k,this.Pe)},$.prototype.oK=function(k,T){var E=k,D=T,O=B.ta.lj(this.vg,T,!1),L=new B.l;D.A(L);var F=new B.l;E.A(F),F.X(2*O,2*O),L.Fa(F),L.X(10*O,10*O),E=k=B.Vd.clip(k,L,0,0),F=new B.ja(0);var V=-1,W=D.Cb;if(null!=W){var X=W.Fk;if(null!=X){V=0,F.Jb(E.I()+E.ea());for(var ie=new B.l,Y=E.Ha();Y.ab();)for(;Y.Ia();){Y.ia().A(ie);var te=X.So(ie);1==te?F.add(1):0==te?F.add(0):(F.add(-1),V++)}}}if(5<T.I()&&(W=(D=T=B.Vd.clip(T,L,0,0)).Cb),0>V&&(V=E.sz()),L=E.I()+D.I(),V*D.I()>Math.log(L)*L*4)return null;L=null,V=D.Ha(),null!=W&&null!=W.Gb&&(L=W.Gb),null==L&&20<D.I()&&(L=B.ta.fE(D)),k=k.Ja(),D=null,W=E.Ha(),X=[0,0,0,0,0,0,0,0,0],ie=new B.ce(0),Y=new B.hg,te=-1;for(var ne=0,we=0,ze=0<F.size,_t=-1;W.ab();){_t=W.gb;var Mt=0;for(te=-1,ne=0;W.Ia();){var pe=ze?B.P.truncate(F.get(we)):-1;we++;var Ge=W.ia();if(0>pe){if(null!=L)for(null==D?D=L.mR(Ge,O):D.Vo(Ge,O),pe=D.next();-1!=pe;pe=D.next()){V.Wb(L.ka(pe)),pe=V.ia();var it=Ge.Fa(pe,null,X,null,O);for(pe=0;pe<it;pe++)ie.add(X[pe])}else for(V.$i();V.ab();)for(;V.Ia();)for(pe=V.ia(),it=Ge.Fa(pe,null,X,null,O),pe=0;pe<it;pe++)ie.add(X[pe]);if(0<ie.size){ie.Wd(0,ie.size,function(St,Tt){return St-Tt});var ht=0;ie.add(1),it=-1,pe=0;for(var mt=ie.size;pe<mt;pe++){var yt=ie.get(pe);if(yt!=ht){var Ot=!1;if(0!=ht||1!=yt?(Ge.bh(ht,yt,Y),ht=Y.get()):(ht=Ge,Ot=!0),2<=Mt){if(k.Fr(E,_t,te,ne,3==Mt),1!=this.HD(T,ht.ac(),O)&&1!=this.JD(T,ht,O))return null;k.oc(ht,!1),Mt=1,ne=0}else switch(it=this.JD(T,ht,O),it){case 1:Ot?2>Mt?(te=W.xb()-E.Ca(_t),ne=1,Mt=0==Mt?3:2):ne++:(k.oc(ht,0==Mt),Mt=1);break;case 0:Mt=0,te=-1,ne=0;break;default:return null}ht=yt}}}else{if(0>(pe=this.HD(T,Ge.ac(),O)))return null;1==pe?(2>Mt&&(te=W.xb()-E.Ca(_t),Mt=0==Mt?3:2),ne++):(te=-1,ne=0)}ie.clear(!1)}else 0!=pe&&1==pe&&(0==Mt?(Mt=3,te=W.xb()-E.Ca(_t)):1==Mt?(Mt=2,te=W.xb()-E.Ca(_t)):ne++)}2<=Mt&&(k.Fr(E,_t,te,ne,3==Mt),te=-1)}return k},$.prototype.HD=function(k,T,E){return B.Fg.ym(k,T,E)},$.prototype.JD=function(k,T,E){var D=T.ac();T=T.xc();var O=B.Fg.ym(k,D,E),L=B.Fg.ym(k,T,E);return 1==O&&0==L||0==O&&1==L?-1:0==O||0==L?0:1==O||1==L?1:((O=new B.h).add(D,T),O.scale(.5),0==(k=B.Fg.ym(k,O,E))?0:1==k?1:-1)},$.BB=function(k,T){return T?k:k.Ja()},$.prototype.fJ=function(){return null==this.qH&&(this.qH=this.Pe.Ja()),this.qH},$.prototype.qe=function(){},$}();B.zC=Be}(st||(st={})),function(B){var Be=function($){function k(){return null!==$&&$.apply(this,arguments)||this}return pi(k,$),k.prototype.K=function(){return 28},k.local=function(){return null===k.instance&&(k.instance=new k),k.instance},k.prototype.W=function(T,E,D,O,L,F,V){return T instanceof B.ba?(T=new B.$c(T),this.W(T,E,D,O,L,F,V).next()):new B.oL(T,E,D,O,L,F,V)},k.instance=null,k}(B.Ge);B.AC=Be}(st||(st={})),function(B){var Be=function(){function $(k,T,E,D,O,L,F){this.za=-1,this.Sd=k,this.Nj=T,this.La=E,this.Li=D,this.wA=O,this.mH=L,this.nd=F}return $.prototype.next=function(){var k=this.Sd.next();return null!=k?(this.za=this.Sd.Ma(),this.bL(k)):null},$.prototype.Ma=function(){return this.za},$.prototype.bL=function(k){var T=0>=this.mH?B.ta.lj(this.Nj,k,!1):this.mH;return B.AK.W(k,this.La,this.Li,this.wA,T,this.nd)},$.prototype.qe=function(){},$}();B.oL=Be}(st||(st={})),function(B){var Be;(Be=B.FK||(B.FK={}))[Be.clipToDomainOnly=1]="clipToDomainOnly",Be[Be.clipWithHorizon=2]="clipWithHorizon",Be[Be.foldAndClipWithHorizon=3]="foldAndClipWithHorizon";var $=function(k){function T(){return null!==k&&k.apply(this,arguments)||this}return pi(T,k),T.prototype.K=function(){return 0},T.local=function(){return null===T.instance&&(T.instance=new T),T.instance},T.prototype.W=function(E,D,O){return E instanceof B.ba?(E=new B.$c(E),this.W(E,D,O).next()):new B.qL(E,D,O)},T.prototype.transform=function(E,D,O,L){return B.cu.transform(E,D,O,L,!0)},T.prototype.Rt=function(E,D,O,L){return B.cu.Rt(E,D,O,L)},T.instance=null,T}(B.Ge);B.Fx=$}(st||(st={})),function(B){var Be=function(){function $(k,T,E){this.za=-1,this.Sd=k,this.CT=T,this.nd=E}return $.prototype.next=function(){var k=this.Sd.next();return null!=k?(this.za=this.Sd.Ma(),B.cu.Ah(k,this.CT,this.nd)):null},$.prototype.Ma=function(){return this.za},$.prototype.qe=function(){},$}();B.qL=Be}(st||(st={})),function(B){var Be=function(){function k(){}return k.prototype.reset=function(){this.qh=this.xk=-1,this.vs=this.mq=!1},k.prototype.sQ=function(T,E,D){for(T.Wb(E,D);T.Ia();){var O=T.ia();if(0!=(O=O.Rb()))return T.xb()}for(T.Wb(E,D);T.zz();)if(0!=(O=(O=T.mi()).Rb()))return T.xb();return-1},k.prototype.tQ=function(T,E){for(T.Wb(E,-1);T.zz();)if(0!=T.mi().Rb())return T.xb();return-1},k.prototype.rQ=function(T,E){for(T.Wb(E,-1),T.ia();T.Ia();)if(0!=T.ia().Rb())return T.xb();return-1},k.prototype.qQ=function(T,E,D,O){if(this.xk=this.sQ(E,D,O),-1!=this.xk){E.Wb(this.xk,-1);var L=E.ia(),F=L.ic(L.fe(T,!1));if(D=B.h.zc(F,T),(O=new B.h).N(F),O.sub(L.ac()),(F=new B.h).N(T),F.sub(L.ac()),this.mq=0>O.xi(F),this.qh=this.rQ(E,this.xk),-1!=this.qh){E.Wb(this.qh,-1);var V=(L=E.ia()).fe(T,!1);V=L.ic(V);var W=B.h.zc(V,T);W>D?this.qh=-1:(O.N(V),O.sub(L.ac()),F.N(T),F.sub(L.ac()),this.vs=0>O.xi(F))}-1==this.qh&&(this.qh=this.tQ(E,this.xk),-1!=this.qh&&(E.Wb(this.qh,-1),V=(L=E.ia()).fe(T,!1),V=L.ic(V),(W=B.h.zc(V,T))>D?this.qh=-1:(O.N(V),O.sub(L.ac()),F.N(T),F.sub(L.ac()),this.vs=0>O.xi(F),T=this.xk,this.xk=this.qh,this.qh=T,T=this.mq,this.mq=this.vs,this.vs=T)))}},k.prototype.VN=function(T,E,D,O,L){return D=D.Ha(),this.qQ(T,D,O,L),-1!=this.xk&&-1==this.qh?this.mq:-1!=this.xk&&-1!=this.qh?this.mq==this.vs?this.mq:(D.Wb(this.xk,-1),T=D.ia().jg(),D.Wb(this.qh,-1),E=D.ia().jg(),0<=T.xi(E)):E},k}(),$=function(k){function T(){return null!==k&&k.apply(this,arguments)||this}return pi(T,k),T.local=function(){return null===T.instance&&(T.instance=new T),T.instance},T.prototype.K=function(){return 3},T.prototype.iz=function(E,D,O){var L;if(void 0===L&&(L=!1),E.B())return new B.bm;D=D.D();var F=E,V=E.K();switch(197==V&&((F=new B.Ea).bd(E,!1),V=1736),V){case 33:return this.pI(F,D);case 550:return this.bI(F,D);case 1607:case 1736:return this.ST(F,D,O,L);default:throw B.i.ga("not implemented")}},T.prototype.jz=function(E,D){if(E.B())return new B.bm;D=D.D();var O=E,L=E.K();switch(197==L&&((O=new B.Ea).bd(E,!1),L=1736),L){case 33:return this.pI(O,D);case 550:case 1607:case 1736:return this.bI(O,D);default:throw B.i.ga("not implemented")}},T.prototype.kz=function(E,D,O,L){if(0>L)throw B.i.O();if(E.B())return[];D=D.D();var F=E,V=E.K();switch(197==V&&((F=new B.Ea).bd(E,!1),V=1736),V){case 33:return this.JU(F,D,O,L);case 550:case 1607:case 1736:return this.jU(F,D,O,L);default:throw B.i.ga("not implemented")}},T.prototype.ST=function(E,D,O,L){if(1736==E.K()&&O&&(O=new B.l,E.A(O),O=B.ta.Xd(null,O,!1),0!=B.jd.Zd(E,D,L?0:O))){var F=new B.bm(D,0,0);return L&&F.OJ(!0),F}var V=E.Ha();F=new B.h;for(var W=O=-1,X=17976931348623157e292,ie=0;V.ab();)for(;V.Ia();){var Y=V.ia();Y=Y.ic(Y.fe(D,!1));var te=B.h.zc(Y,D);te<X?(ie=1,F=Y,O=V.xb(),W=V.gb,X=te):te==X&&ie++}return F=new B.bm(F,O,Math.sqrt(X)),L&&(V.Wb(O,W),Y=V.ia(),L=0>B.h.Wq(D,Y.ac(),Y.xc()),1<ie&&((ie=new Be).reset(),L=ie.VN(D,L,E,O,W)),F.OJ(L)),F},T.prototype.pI=function(E,D){return E=E.D(),D=B.h.ub(E,D),new B.bm(E,0,D)},T.prototype.bI=function(E,D){for(var O=E.vb(0),L=E.I(),F=E=0,V=0,W=17976931348623157e292,X=0;X<L;X++){var ie=new B.h;O.uc(2*X,ie);var Y=B.h.zc(ie,D);Y<W&&(F=ie.x,V=ie.y,E=X,W=Y)}return(D=new B.bm).ay(F,V,E,Math.sqrt(W)),D},T.prototype.JU=function(E,D,O,L){return 0==L?[]:(O*=O,E=E.D(),(D=B.h.zc(E,D))<=O?(O=[],(L=new B.bm).ay(E.x,E.y,0,Math.sqrt(D)),O[0]=L):O=[],O)},T.prototype.jU=function(E,D,O,L){if(0==L)return[];var F=E.vb(0),V=E.I();E=[],O*=O;for(var W=0;W<V;W++){var X=F.read(2*W),ie=F.read(2*W+1),Y=D.x-X,te=D.y-ie;(Y=Y*Y+te*te)<=O&&((te=new B.bm).ay(X,ie,W,Math.sqrt(Y)),E.push(te))}return D=E.length,E.sort(function(ne,we){return ne.La<we.La?-1:ne.La==we.La?0:1}),L>=D||(E.length=L),E.slice(0)},T.instance=null,T}(B.Ge);B.Gx=$}(st||(st={})),function(B){var Be=function($){function k(){return null!==$&&$.apply(this,arguments)||this}return pi(k,$),k.prototype.K=function(){return 4},k.prototype.W=function(T,E,D,O,L){return B.cm.sB(T,E,D,O,L)},k.local=function(){return null===k.instance&&(k.instance=new k),k.instance},k.prototype.Ju=function(T){return B.Wt.qy(T)},k.prototype.xn=function(T,E,D){B.Wt.uD(T,E,D)},k.instance=null,k}(B.Ge);B.rL=Be}(st||(st={})),function(B){var Be=function($){function k(){return null!==$&&$.apply(this,arguments)||this}return pi(k,$),k.prototype.K=function(){return 33},k.prototype.W=function(T,E,D,O,L){return 1073741824===T?!B.vd.tB(E,D,O,4,L):B.vd.tB(E,D,O,T,L)},k.local=function(){return null===k.instance&&(k.instance=new k),k.instance},k.prototype.Ju=function(T){return B.Wt.qy(T)},k.prototype.xn=function(T,E,D){B.Wt.uD(T,E,D)},k.instance=null,k}(B.Ge);B.ej=Be}(st||(st={})),function(B){var Be=function(){function $(k,T,E,D){if(this.nd=D,this.gT=E,this.za=-1,null==k)throw B.i.O();this.yk=k,this.Nj=T}return $.prototype.next=function(){var k;if(null!=(k=this.yk.next())){if(this.za=this.yk.Ma(),null!=this.nd&&!this.nd.progress(-1,-1))throw B.i.gu("user_canceled");return this.YB(k)}return null},$.prototype.Ma=function(){return this.za},$.prototype.YB=function(k){if(null==k)throw B.i.O();return B.Hx.VJ(k,this.Nj,this.gT,this.nd)},$.prototype.qe=function(){},$}();B.sL=Be}(st||(st={})),function(B){var Be=function($){function k(){return null!==$&&$.apply(this,arguments)||this}return pi(k,$),k.prototype.K=function(){return 26},k.prototype.W=function(T,E,D,O){return T instanceof B.ba?(T=new B.$c(T),this.W(T,E,D,O).next()):new B.sL(T,E,D,O)},k.prototype.ss=function(T,E,D,O,L){return 0<(void 0!==O?B.Hx.ss(T,E,D,O,L):B.Hx.ss(T,E,!1,null,D))},k.local=function(){return null===k.instance&&(k.instance=new k),k.instance},k.instance=null,k}(B.Ge);B.$l=Be}(st||(st={})),function(B){var Be=function(){function L(){this.Aq=0}return L.prototype.aX=function(F){this.Aq&=-2,this.Aq|=F?1:0},L.prototype.Yp=function(){return 0!=(1&this.Aq)},L.prototype.PF=function(){return this.Yp()?0:1},L}();B.lY=Be;var $=function(){},k=function(L,F,V,W){this.x=L,this.y=F,this.Bi=V,this.zm=W},T=function(){function L(F){this.Ce=F}return L.prototype.compare=function(F,V,W){return F=F.ka(W),V=this.Ce.lf.read(2*V),0>(V-=F=this.Ce.lf.read(2*F))?-1:0<V?1:0},L}(),E=function(){function L(F){this.Ce=F}return L.prototype.compare=function(F,V,W){V=this.Ce.hb[V],F=this.Ce.hb[F.ka(W)];var X=V.Yp(),ie=F.Yp();W=V.ne.Me(this.Ce.No,0);var Y=F.ne.Me(this.Ce.No,0);return W==Y&&((X=.5*((W=Math.min(X?V.ne.oa:V.ne.ma,ie?F.ne.oa:F.ne.ma))-this.Ce.No)+this.Ce.No)==this.Ce.No&&(X=W),W=V.ne.Me(X,0),Y=F.ne.Me(X,0)),W<Y?-1:W>Y?1:0},L}(),D=function(){function L(F,V){this.QI=new B.h,this.parent=F,this.VR=V}return L.prototype.qr=function(F,V,W){var X=this.parent,ie=this.VR;W.Wd(F,V,function(Y,te){return X.Nh(Y,te,ie)})},L.prototype.bq=function(F){return F=this.parent.hi.get(F),this.parent.lf.uc(2*(F>>1),this.QI),this.QI.y+(0!=(1&F)?this.parent.Pj:-this.parent.Pj)},L}(),O=function(){function L(F,V,W,X,ie){this.fH=F.description,this.Y=F,this.Rg=V,this.Pj=B.ta.lj(this.Rg,F,!1),this.Co=B.ta.lj(this.Rg,F,!0),this.rA=W,this.eT=this.fH.Ba,this.hb=[],this.qo=[],this.nh=new B.kp,this.fb=new B.Yj,this.ke=new B.Nd,this.QG=this.sl=ie}return L.prototype.VS=function(){return this.QG=!0,(!B.ba.Ic(this.Y.K())||this.yE()&&this.vE(!1))&&this.eO()?B.ba.Ic(this.Y.K())?this.hO()?1607==this.Y.K()?this.jO()?2:0:this.kO()?this.lO():0:0:2:0},L.prototype.dC=function(F,V){var W=this.lf.read(2*F);F=this.lf.read(2*F+1);var X=this.lf.read(2*V);return V=this.lf.read(2*V+1),!B.Zt.Dv(W,F,X,V,this.Pj*this.Pj)||0!=this.Y.Eb()&&W==X&&F==V},L.prototype.yE=function(){for(var F=this.Y,V=F.yf?3:2,W=0,X=F.ea();W<X;W++)if(F.Ka(W)<V)return this.ke=new B.Nd(1,W,0),!1;return!0},L.prototype.vE=function(F){var V=this.Y,W=V.Ha(),X=V.hasAttribute(1);for(V=X?B.ta.oE(this.Rg,V,!1):0;W.ab();)for(;W.Ia();){var ie=W.ia();if(!(ie.Rb()>this.Pj)){if(F&&X){var Y=ie.xv(1,0);if(ie=ie.xv(1,0),Math.abs(ie-Y)>V)continue}return this.ke=new B.Nd(2,W.xb(),-1),!1}}return!0},L.prototype.eO=function(){var F=this.Y,V=null;B.ba.Ic(this.Y.K())&&(V=this.Y);var W=(this.QG||this.sl)&&null!=V,X=F.I();this.lf=F.vb(0),this.hi=new B.ja(0),this.hi.Jb(2*X),this.gi=new B.ja(0),this.gi.Jb(2*X),W&&(null==this.Hl&&(this.Hl=new B.ja(0)),this.Hl.Jb(X));for(var ie=F=0;ie<X;ie++)if(this.hi.add(2*ie),this.hi.add(2*ie+1),this.gi.add(2*ie),this.gi.add(2*ie+1),W){for(;ie>=V.Wc(F);)F++;this.Hl.add(F)}for((new B.Yt).sort(this.gi,0,2*X,new D(this,W)),this.fb.clear(),this.fb.Wo(new T(this)),this.fb.Ee(X),V=0,X*=2;V<X;V++)if(W=this.gi.get(V),W=(F=this.hi.get(W))>>1,0==(1&F)){if(F=this.fb.addElement(W,-1),-1!=(ie=this.fb.xe(F))&&!this.dC(this.fb.ka(ie),W))return this.ke=new B.Nd(3,W,this.fb.ka(ie)),!1;var Y=this.fb.lb(F);if(-1!=Y&&!this.dC(this.fb.ka(Y),W))return this.ke=new B.Nd(3,W,this.fb.ka(Y)),!1}else if(F=this.fb.search(W,-1),ie=this.fb.xe(F),Y=this.fb.lb(F),this.fb.wd(F,-1),-1!=ie&&-1!=Y&&!this.dC(this.fb.ka(ie),this.fb.ka(Y)))return this.ke=new B.Nd(3,this.fb.ka(ie),this.fb.ka(Y)),!1;return!0},L.prototype.hO=function(){return 10>this.Y.I()?this.fO():this.gO()},L.prototype.gO=function(){var F=new B.hd;F.Ib(this.Y);var V=new B.Nd;return!B.au.cI(!1,F,this.Pj,V,this.nd)||(V.Ko=F.Va(V.Ko),V.Lo=F.Va(V.Lo),this.ke.Xt(V),!1)},L.prototype.fO=function(){var F=this.Y,V=F.Ha();for(F=F.Ha();V.ab();)for(;V.Ia();){var W=V.ia();if(!V.Rn()||!V.QS()){F.rW(V);do{for(;F.Ia();){var X=F.ia();if(0!=(X=W.Br(X,this.Pj,!0)))return this.ke=new B.Nd(2==X?5:4,V.xb(),F.xb()),!1}}while(F.ab())}}return!0},L.prototype.kO=function(){var F=this.Y;this.hb.length=0,this.qo.length=0,this.$f=F.Ha(),this.$f.DB();var V=new B.ja(0);V.Jb(10);var W=NaN,X=0,ie=0;for(F=2*F.I();ie<F;ie++){var Y=this.gi.get(ie);if(0==(1&(Y=this.hi.get(Y)))){var te=this.lf.read(2*(Y>>=1)),ne=this.lf.read(2*Y+1);if(0!=V.size&&(te!=W||ne!=X)){if(!this.II(V))return!1;null!=V&&V.clear(!1)}V.add(Y),W=te,X=ne}}return!!this.II(V)},L.prototype.jO=function(){for(var F=this.Y,V=Array(F.ea()),W=0,X=F.ea();W<X;W++)V[W]=F.On(W);X=new $;var ie=new B.h;W=this.gi.get(0);var Y=(W=this.hi.get(W))>>1;this.lf.uc(2*Y,ie);var te=V[W=this.Hl.get(Y)],ne=F.Ca(W),we=F.Wc(W)-1;X.fl=Y==ne||Y==we,X.iy=this.sl?!te&&X.fl:X.fl,X.Bi=W,X.x=ie.x,X.y=ie.y,X.zm=Y;for(var ze=new $,_t=1,Mt=this.gi.size;_t<Mt;_t++)if(W=this.gi.get(_t),0==(1&(W=this.hi.get(W)))){this.lf.uc(2*(Y=W>>1),ie),(W=this.Hl.get(Y))!=X.Bi&&(te=V[W],ne=F.Ca(W),we=F.Wc(W)-1);var pe=Y==ne||Y==we,Ge=this.sl?!te&&X.fl:X.fl;if(ze.x=ie.x,ze.y=ie.y,ze.Bi=W,ze.zm=Y,ze.iy=Ge,ze.fl=pe,ze.x==X.x&&ze.y==X.y)if(this.sl){if(!(ze.iy&&X.iy||ze.Bi==X.Bi&&(ze.fl||X.fl)))return this.ke=new B.Nd(8,ze.zm,X.zm),!1}else if(!ze.fl||!X.fl)return this.ke=new B.Nd(5,ze.zm,X.zm),!1;W=X,X=ze,ze=W}return!0},L.prototype.BE=function(){for(var F=this.Y,V=[],W=-1,X=!1,ie=0,Y=F.ea();ie<Y;ie++)F.Fv(ie)&&(X=!1,W++,ie<Y-1&&(F.Fv(ie+1)||(X=!0))),V[ie]=X?W:-1;X=new B.h,ie=this.gi.get(0);var te=(ie=this.hi.get(ie))>>1;this.lf.uc(2*te,X),ie=this.Hl.get(te),W=new k(X.x,X.y,ie,te,V[ie]),F=[];var ne=1;for(Y=this.gi.size;ne<Y;ne++)if(ie=this.gi.get(ne),0==(1&(ie=this.hi.get(ie)))){if(this.lf.uc(2*(te=ie>>1),X),ie=this.Hl.get(te),(ie=new k(X.x,X.y,ie,te,V[ie])).x==W.x&&ie.y==W.y){if(ie.Bi==W.Bi)return this.ke=new B.Nd(9,ie.zm,W.zm),!1;0<=V[ie.Bi]&&V[ie.Bi]==V[W.Bi]&&(0!=F.length&&F[F.length-1]==W||F.push(W),F.push(ie))}W=ie}if(0==F.length)return!0;for(ie=new B.kp(!0),B.P.av(V,-1),X=-1,(ne=new B.h).Sc(),W=0,Y=F.length;W<Y;W++){(te=F[W]).x==ne.x&&te.y==ne.y||(X=ie.Qh(0),ne.x=te.x,ne.y=te.y);var we=V[te.Bi];-1==we&&(we=ie.Qh(2),V[te.Bi]=we),ie.addElement(we,X),ie.addElement(X,we)}for((Y=new B.ja(0)).Jb(10),W=ie.je;-1!=W;W=ie.lz(W))if(0==(1&(F=ie.HF(W)))&&0!=(2&F)){for(F=-1,Y.add(W),Y.add(-1);0<Y.size;){if(X=Y.Gc(),Y.Jf(),ne=Y.Gc(),Y.Jf(),0!=(1&(te=ie.HF(ne)))){F=0==(2&te)?X:ne;break}for(ie.TW(ne,1|te),te=ie.sc(ne);-1!=te;te=ie.lb(te))(we=ie.getData(te))!=X&&(Y.add(we),Y.add(ne))}if(-1!=F){for(ie=-1,W=0,Y=V.length;W<Y;W++)if(V[W]==F){ie=W;break}return this.ke=new B.Nd(10,ie,-1),!1}}return!0},L.prototype.lO=function(){var F=this.Y;if(0>=F.He())return this.ke=new B.Nd(6,1==F.ea()?1:-1,-1),0;if(1==F.ea())return this.sl&&!this.BE()?0:2;this.uo=B.ja.rf(F.ea(),0),this.DA=B.ja.rf(F.ea(),-1);for(var V=-1,W=0,X=0,ie=F.ea();X<ie;X++){var Y=F.Kr(X);if(this.uo.write(X,0>Y?0:256),0<Y)V=X,W=Y;else{if(0==Y)return this.ke=new B.Nd(6,X,-1),0;if((0>V||W<Math.abs(Y))&&(this.ke=new B.Nd(7,X,-1),this.sl))return 0;this.DA.write(X,V)}}for(this.dt=F.ea(),this.Qm=new B.ja(0),this.Qm.Jb(10),ie=F.I(),this.No=NaN,(F=new B.ja(0)).Jb(10),this.Sq=B.ja.rf(ie,-1),this.Iw=B.ja.rf(ie,-1),null!=this.Aj?this.Aj.clear(!1):this.Aj=new B.ja(0),this.Aj.Jb(10),this.fb.clear(),this.fb.Wo(new E(this)),V=0,ie*=2;0<this.dt&&V<ie;V++)if(W=this.gi.get(V),0==(1&(W=this.hi.get(W)))){if((X=this.lf.read(2*(W>>=1)+1))!=this.No&&0!=F.size){if(!this.ut(F))return 0;null!=F&&F.clear(!1)}F.add(W),this.No=X}return 0<this.dt&&!this.ut(F)?0:this.sl?0==this.ke.Kj&&this.BE()?2:0:0==this.ke.Kj?2:1},L.prototype.II=function(F){if(1==F.size)return!0;for(var V=0,W=F.size;V<W;V++){var X=F.get(V);this.$f.Wb(X);var ie=this.$f.mi();this.hb.push(this.Uu(ie,X,this.$f.gb,!0)),this.$f.ia(),ie=this.$f.ia(),this.hb.push(this.Uu(ie,X,this.$f.gb,!1))}var Y=this;for(this.hb.sort(function(we,ze){return Y.PP(we,ze)}),-1==(X=this.nh.je)&&(X=this.nh.Qh(0)),this.nh.hn(this.hb.length),V=0,W=this.hb.length;V<W;V++)this.nh.addElement(X,V);V=!0;for(var te=W=-1;V&&(V=!1,-1!=(ie=this.nh.sc(X)));)for(var ne=this.nh.lb(ie);-1!=ne;)if(W=this.nh.getData(ie),te=this.nh.getData(ne),(W=this.hb[W].Jo)!=(te=this.hb[te].Jo))ne=this.nh.lb(ie=ne);else if(V=!0,this.nh.kd(X,ie),ie=this.nh.xe(ne),-1==(ne=this.nh.kd(X,ne))||-1==ie)break;if(V=this.nh.cs(X),this.nh.DE(X),0<V)return this.ke=new B.Nd(5,W,te),!1;for(V=0,W=F.size;V<W;V++)this.pB(this.hb[V]);return this.hb.length=0,!0},L.prototype.ut=function(F){for(var V=0,W=F.size;V<W;V++){var X=F.get(V),ie=this.Sq.read(X);if(-1!=ie){var Y=this.fb.ka(ie);this.Aj.add(Y),this.fb.wd(ie,-1),this.pB(this.hb[Y]),this.hb[Y]=null,this.Sq.write(X,-1)}-1!=(ie=this.Iw.read(X))&&(Y=this.fb.ka(ie),this.Aj.add(Y),this.fb.wd(ie,-1),this.pB(this.hb[Y]),this.hb[Y]=null,this.Iw.write(X,-1))}for(V=0,W=F.size;V<W;V++){if(X=F.get(V),this.$f.Wb(X),(ie=this.$f.mi()).oa>ie.ma){var te=this.$f.xb(),ne=this.Uu(ie,X,this.$f.gb,!0);0<this.Aj.size?(Y=this.Aj.Gc(),this.Aj.Jf(),this.hb[Y]=ne):(Y=this.hb.length,this.hb.push(ne)),ie=this.fb.addElement(Y,-1),-1==this.Sq.read(te)?this.Sq.write(te,ie):this.Iw.write(te,ie),0==(3&this.uo.read(this.$f.gb))&&this.Qm.add(ie)}this.$f.ia(),(ie=this.$f.ia()).oa<ie.ma&&(te=this.$f.ik(),ne=this.Uu(ie,X,this.$f.gb,!1),0<this.Aj.size?(Y=this.Aj.Gc(),this.Aj.Jf(),this.hb[Y]=ne):(Y=this.hb.length,this.hb.push(ne)),ie=this.fb.addElement(Y,-1),-1==this.Sq.read(te)?this.Sq.write(te,ie):this.Iw.write(te,ie),0==(3&this.uo.read(this.$f.gb))&&this.Qm.add(ie))}for(V=0,W=this.Qm.size;V<W&&0<this.dt;V++)if(ie=this.Qm.get(V),0==(3&this.uo.read(this.hb[this.fb.ka(ie)].CA))){F=-1,X=this.fb.xe(ie);var we=ie;ne=null,Y=-1;for(var ze=0;-1!=X&&(Y=this.fb.ka(X),Y=(ne=this.hb[Y]).CA,0==(3&(ze=this.uo.read(Y))));)we=X,X=this.fb.xe(X);-1==X?(te=1,X=we):(F=1==(3&ze)?Y:this.DA.read(Y),te=0!=ne.PF()?0:1,X=this.fb.lb(X));do{if(Y=this.fb.ka(X),Y=(ne=this.hb[Y]).CA,0==(3&(we=this.uo.read(Y)))){if(te!=ne.PF())return this.ke=new B.Nd(6,Y,-1),!1;if(we=252&we|(ze=0==te||ne.Yp()?2:1),this.uo.write(Y,ze),2==ze&&0==this.ke.Kj&&this.DA.read(Y)!=F&&(this.ke=new B.Nd(7,Y,-1),this.sl))return!1;if(this.dt--,0==this.dt)return!0}1==(3&we)&&(F=Y),we=X,X=this.fb.lb(X),te=0!=te?0:1}while(we!=ie)}return null!=this.Qm?this.Qm.clear(!1):this.Qm=new B.ja(0),!0},L.prototype.Uu=function(F,V,W,X){if(322!=F.K())throw B.i.Ra();return(F=this.kP(F)).Jo=V,F.CA=W,F.Aq=0,F.aX(X),F},L.prototype.kP=function(F){if(0<this.qo.length){var V=this.qo[this.qo.length-1];--this.qo.length,F.copyTo(V.ne)}else(V=new Be).ne=B.KC.ig(F);return V},L.prototype.pB=function(F){322==F.ne.K()&&this.qo.push(F)},L.prototype.aU=function(){for(var F=this.Y.I(),V=new B.ja(0),W=0;W<F;W++)V.add(W);var X=this;for(V.Wd(0,F,function(ie,Y){return X.Qu(ie,Y)}),W=1;W<F;W++)if(0==this.Qu(V.get(W-1),V.get(W)))return this.ke=new B.Nd(3,V.get(W-1),V.get(W)),0;return 2},L.prototype.zV=function(){return this.yE()&&this.vE(!0)?2:0},L.prototype.eV=function(){return this.VS()},L.prototype.fU=function(){for(var F=this.Y.I(),V=new B.ja(0),W=0;W<F;W++)V.add(W);var X=this;V.Wd(0,F,function(we,ze){return X.HO(we,ze)});var ie=Array(F);for(B.P.av(ie,!1),ie[V.get(0)]=!0,W=1;W<F;W++){var Y=V.get(W-1),te=V.get(W);ie[te]=0!=this.Qu(Y,te)}V=this.Y.Ja(),Y=this.Y,te=0;var ne=1;for(W=0;W<F;W++)ie[W]?ne=W+1:(te<ne&&V.Gd(Y,te,ne),te=W+1);return te<ne&&V.Gd(Y,te,ne),V.Dh(2,this.Co),V},L.prototype.DV=function(){var F=this.Y,V=F.Ha(),W=F.Ha(),X=this.Y.Ja(),ie=this.Y,Y=F.hasAttribute(1),te=Y?B.ta.oE(this.Rg,F,!0):0,ne=new B.ja(0),we=new B.ja(0);for(ne.Jb(B.P.truncate(F.I()/2+1)),we.Jb(B.P.truncate(F.I()/2+1));V.ab();)if(W.ab(),!(2>F.Ka(V.gb))){W.tW();for(var ze,_t,Mt=!0;V.Ia();){var pe=V.ia(),Ge=W.mi();if(V.xb()>W.xb())break;Mt&&(ne.add(V.xb()),we.add(W.ik()),Mt=!1),_t=ne.Gc();var it=V.ik();if(1<it-_t){var ht=new B.h;ht.vc(F.Oa(_t),F.Oa(it)),ze=ht.length()}else ze=pe.Rb();_t=we.Gc(),1<(it=W.xb())-_t?((ht=new B.h).vc(F.Oa(_t),F.Oa(it)),_t=ht.length()):_t=Ge.Rb(),ze>this.Co?ne.add(V.ik()):Y&&(ze=F.Vc(1,ne.Gc(),0),pe=pe.hv(1,0),Math.abs(pe-ze)>te&&ne.add(V.ik())),_t>this.Co?we.add(W.xb()):Y&&(ze=F.Vc(1,we.Gc(),0),pe=Ge.hv(1,0),Math.abs(pe-ze)>te&&we.add(W.xb()))}if(ne.Gc()<we.Gc()?ne.size>we.size?ne.Jf():we.Jf():(ne.Gc()!=we.Gc()&&we.Jf(),we.Jf()),2<=we.size+ne.size){for(Mt=new B.Ta,Ge=0,pe=ne.size;Ge<pe;Ge++)ie.we(ne.get(Ge),Mt),0==Ge?X.nf(Mt):X.lineTo(Mt);for(Ge=we.size-1;0<Ge;Ge--)ie.we(we.get(Ge),Mt),X.lineTo(Mt);ie.ec(V.gb)?X.Cp():0<we.size&&(ie.we(we.get(0),Mt),X.lineTo(Mt))}null!=ne&&ne.clear(!1),null!=we&&we.clear(!1)}return X.Dh(2,this.Co),X},L.prototype.hV=function(){return this.rX()},L.prototype.rX=function(){return 1736==this.Y.K()&&1==this.Y.Jn()?B.Hg.Mk(this.Y,this.Co,!0,!1,this.nd):(this.Ii=new B.hd,this.Ii.Ib(this.Y),0!=this.Ii.gd&&(1!=this.rA&&B.Tk.W(this.Ii,this.Co,this.nd,!0),1736==this.Y.K()&&B.tn.W(this.Ii,this.Ii.ld,this.rA,!1,this.nd)),this.Y=this.Ii.Ke(this.Ii.ld),1736==this.Y.K()&&(this.Y.hm(),this.Y.Zo(0)),this.Y.Dh(2,this.Co),this.Y)},L.ss=function(F,V,W,X,ie){if(null!=X&&(X.Kj=0,X.Ko=-1,X.Lo=-1),F.B())return 1;var Y=F.K();if(33==Y)return 1;var te=B.ta.lj(V,F,!1);if(197==Y)return V=new B.l,F.A(V),V.Ci(te)?(null!=X&&(X.Kj=2,X.Ko=-1,X.Lo=-1),0):1;if(B.ba.zd(Y))return(te=new B.Ua(F.description)).oc(F,!0),L.ss(te,V,W,X,ie);var ne=F.qm(te);if(-1!=(W=W?-1:ne))return W;if(V=new L(F,V,W,ie,!1),550==Y)W=V.aU();else if(1607==Y)W=V.zV();else{if(1736!=Y)throw B.i.Ra();W=V.eV()}return F.Dh(W,te),null!=X&&0==W&&X.Xt(V.ke),W},L.VJ=function(F,V,W,X){if(F.B())return F;var ie=F.K();if(33==ie)return F;var Y=B.ta.lj(V,F,!1);if(197==ie)return V=new B.l,F.A(V),V.Ci(Y)?F.Ja():F;if(B.ba.zd(ie))return(ie=new B.Ua(F.description)).oc(F,!0),L.VJ(ie,V,W,X);if(Y=F.qm(Y),2==(W=W?-1:Y))return F;if(F=new L(F,V,W,X,!1),550==ie)F=F.fU();else if(1607==ie)F=F.DV();else{if(1736!=ie)throw B.i.Ra();F=F.hV()}return F},L.prototype.Nh=function(F,V,W){if(F==V)return 0;F=this.hi.get(F);var X=this.hi.get(V);V=F>>1;var ie=X>>1,Y=new B.h,te=new B.h;return this.lf.uc(2*V,Y),Y.y+=0!=(1&F)?this.Pj:-this.Pj,this.lf.uc(2*ie,te),te.y+=0!=(1&X)?this.Pj:-this.Pj,0==(F=Y.compare(te))&&W?0>(W=this.Hl.get(V)-this.Hl.get(ie))?-1:0<W?1:0:F},L.prototype.Qu=function(F,V){if(F==V)return 0;var W=this.Y,X=W.Oa(F),ie=W.Oa(V);if(X.x<ie.x)return-1;if(X.x>ie.x)return 1;if(X.y<ie.y)return-1;if(X.y>ie.y)return 1;for(X=1;X<this.eT;X++){ie=this.fH.qd(X);for(var Y=B.ua.Wa(ie),te=0;te<Y;te++){var ne=W.Vc(ie,F,te),we=W.Vc(ie,V,te);if(ne<we)return-1;if(ne>we)return 1}}return 0},L.prototype.HO=function(F,V){var W=this.Qu(F,V);return 0==W?F<V?-1:1:W},L.prototype.PP=function(F,V){if(F===V)return 0;var W=F.ne.jg();F.Yp()&&W.Uq(),F=V.ne.jg(),V.Yp()&&F.Uq(),V=W.ru();var X=F.ru();return X==V?(V=W.xi(F),Math.abs(V)<=8881784197001252e-31*(Math.abs(F.x*W.y)+Math.abs(F.y*W.x))&&(V--,V++),0>V?1:0<V?-1:0):V<X?-1:1},L}();B.Hx=O}(st||(st={})),function(B){var Be=function($){function k(){return null!==$&&$.apply(this,arguments)||this}return pi(k,$),k.prototype.K=function(){return 30},k.local=function(){return null===k.instance&&(k.instance=new k),k.instance},k.prototype.W=function(T,E,D,O){return T instanceof B.ba?(T=new B.$c(T),E=new B.$c(E),this.W(T,E,D,O).next()):new B.tL(T,E,D,O)},k.fp=function(T,E,D,O){var L=T.Eb(),F=E.Eb();if(T.B()&&E.B())return L>F?T:E;if(T.B())return E;if(E.B())return T;var V=new B.l,W=new B.l,X=new B.l;return T.A(V),E.A(W),X.L(V),X.$b(W),V=B.ta.Xd(D,X,!0),W=T.K(),X=E.K(),33==W&&33==X?k.RU(T,E,V):W!=X?0<L||0<F?L>F?T:E:550==W?k.aI(T,E,V):k.aI(E,T,V):B.Hg.fp(T,E,D,O)},k.RU=function(T,E,D){D=D*Math.sqrt(2)*1.00001,D*=D;var O=T.D(),L=E.D(),F=new B.de(T.description);return B.h.zc(O,L)>D&&(F.add(T),F.add(E)),F},k.aI=function(T,E,D){var O=T.vb(0),L=T.I(),F=E.D(),V=T.Ja();D=D*Math.sqrt(2)*1.00001;var W=new B.l;if(T.A(W),W.X(D,D),W.contains(F)){D*=D,W=!1;for(var X=[],ie=0;ie<L;ie++)X[ie]=!1;for(ie=0;ie<L;ie++){var Y=O.read(2*ie),te=O.read(2*ie+1);(Y-=F.x)*Y+(te-=F.y)*te<=D&&(W=!0,X[ie]=!0)}if(W)for(ie=0;ie<L;ie++)X[ie]||V.Gd(T,ie,ie+1);else V.Gd(T,0,L),V.add(E)}else V.Gd(T,0,L),V.add(E);return V},k.instance=null,k}(B.Ge);B.Ix=Be}(st||(st={})),function(B){var Be=function(){function $(k,T,E,D){this.us=null==T,this.za=-1,this.Sd=k,this.vg=E,this.DT=T.next(),this.Vb=D}return $.prototype.next=function(){return this.us?null:null!=(k=this.Sd.next())?(this.za=this.Sd.Ma(),B.Ix.fp(k,this.DT,this.vg,this.Vb)):null;var k},$.prototype.Ma=function(){return this.za},$.prototype.qe=function(){},$}();B.tL=Be}(st||(st={})),function(B){var Be=function(){function T(){}return T.prototype.Az=function(){this.Vy=null,this.yx=-1,this.sK=!1},T}(),$=function(){function T(){this.Ir=0,this.qj=[]}return T.prototype.hN=function(E){this.Ir+=E.yx,this.qj.push(E)},T.prototype.JV=function(){this.Ir-=this.qj[this.qj.length-1].yx,--this.qj.length},T.prototype.hy=function(){return this.qj[this.qj.length-1]},T.prototype.Nb=function(E){return E===this},T}(),k=function(){function T(E,D,O){this.za=-1,this.Jc=!1,this.sH=[!1,!1,!1,!1],this.wq=[0,0,0,0],this.eA=!1,this.zk=-1,this.kq=0,this.co=-1,this.Eo=[],this.Sd=E,this.vg=D,this.Vb=O}return T.WD=function(E){var D=[],O=0;for(E=Object.keys(E);O<E.length;O++)D.push(Number(E[O]));return D.sort(function(L,F){return L-F}),D},T.prototype.YF=function(E){var D=this.Eo[E],O=T.WD(D)[0],L=D[O],F=L.hy().Vy;return L=L.hy().sK,delete D[O],L&&(F=B.$l.local().W(F,this.vg,!1,this.Vb),0==E&&33==F.K()&&(E=new B.de(F.description),F.B()||E.add(F),F=E)),F},T.prototype.next=function(){if(this.Jc&&this.co==this.zk)return null;for(;!this.iK(););if(-1==this.zk)return null;if(this.eA){for(this.co++;;){if(this.co>this.zk||0>this.co)throw B.i.Ra();if(this.sH[this.co])break}return this.za++,this.YF(this.co)}return this.za=0,this.co=this.zk,this.YF(this.zk)},T.prototype.Ma=function(){return this.za},T.prototype.iK=function(){if(this.Jc)return!0;var E=null;if(null!=this.Sd&&null==(E=this.Sd.next())&&(this.Jc=!0,this.Sd=null),B.np.Bp(this.Vb),null!=E){var D=E.Eb();this.sH[D]=!0,D>=this.zk&&!this.eA&&(this.ED(D,!1,E),D>this.zk&&!this.eA&&this.pW(D))}if(0<this.kq)for(D=0;D<=this.zk;D++)for(;1<this.wq[D]&&0!=(E=this.xO(D)).length;)E=B.Hg.NP(E,this.vg,this.Vb),this.ED(D,!0,E);return this.Jc},T.prototype.xO=function(E){for(var D=[],O=[],L=this.Eo[E],F=T.WD(L),V=0;V<F.length;V++){var W=F[V],X=L[W];if(this.Jc||1e4<X.Ir&&1<X.qj.length){for(this.wq[E]-=X.qj.length,this.kq-=X.qj.length;0<X.qj.length;)D.push(X.hy().Vy),X.JV();O.push(W)}}for(V=0;V<O.length;V++)delete L[O[V]];return D},T.prototype.pW=function(E){for(var D=0;D<E;D++)this.Eo[D]=[],this.kq-=this.wq[D],this.wq[D]=0},T.prototype.ED=function(E,D,O){var L=new Be;if(L.Az(),L.Vy=O,O=T.WR(O),L.yx=O,O=T.UR(O),E+1>this.Eo.length)for(var F=0,V=Math.max(2,E+1);F<V;F++)this.Eo.push([]);void 0===(F=this.Eo[E][O])&&(F=new $,this.Eo[E][O]=F),L.sK=D,F.hN(L),this.wq[E]++,this.kq++,this.zk=Math.max(this.zk,E)},T.UR=function(E){return 0<E?B.P.truncate(Math.log(E)/Math.log(4)+.5):0},T.WR=function(E){var D=E.K();if(B.ba.yj(D))return E.I();if(33==D)return 1;if(197==D)return 4;if(B.ba.zd(D))return 2;throw B.i.Ra()},T.prototype.qe=function(){this.iK()},T}();B.vL=k}(st||(st={})),function(B){var Be=function($){function k(){return null!==$&&$.apply(this,arguments)||this}return pi(k,$),k.prototype.K=function(){return 1},k.prototype.W=function(T,E,D,O){return void 0===O?new B.vL(T,E,D):this.ZP(T,E,D,O)},k.prototype.ZP=function(T,E,D,O){return T=new B.$c([T,E]),this.W(T,D,O).next()},k.local=function(){return null===k.instance&&(k.instance=new k),k.instance},k.instance=null,k}(B.Ge);B.Hh=Be}(st||(st={})),function(B){var Be,$;($=Be||(Be={}))[$.nextPath=0]="nextPath",$[$.nextSegment=1]="nextSegment",$[$.iterate=2]="iterate",Be=function(){function k(T,E,D,O){this.Us=new B.l,this.wT=T,this.xT=E,this.oq=O,this.vo=-1,this.tl=!1;var L=T.Cb;null!=L&&null!=(L=O?L.Ao:L.Gb)&&(this.Jc=!1,this.ra=D,this.Gb=L,this.yw=this.Gb.getIterator(),this.pq=this.tl=!0,this.Yb=0,O?this.vo=E.ea():this.td=E.Ha()),this.tl||null!=(L=E.Cb)&&null!=(L=O?L.Ao:L.Gb)&&(this.Jc=!1,this.ra=D,this.Gb=L,this.yw=this.Gb.getIterator(),this.tl=!0,this.pq=!1,this.Yb=0,O?this.vo=T.ea():this.td=T.Ha()),this.tl||(this.di=O?B.ta.eR(T,E,D,1<=T.qm(0),1<=E.qm(0)):B.ta.dR(T,E,D))}return k.prototype.next=function(){if(this.tl){if(this.Jc)return!1;for(var T=!0;T;)switch(this.Yb){case 0:T=this.nU();break;case 1:T=this.oU();break;case 2:T=this.Pz();break;default:throw B.i.ga("internal error")}return!this.Jc}return null!=this.di&&this.di.next()},k.prototype.pl=function(){return this.tl?this.pq?this.Gb.ka(this.Gs):this.oq?this.vo:this.td.xb():this.di.pl(this.di.Wf)},k.prototype.jl=function(){return this.tl?this.pq?this.oq?this.vo:this.td.xb():this.Gb.ka(this.Gs):this.di.jl(this.di.Bf)},k.prototype.oz=function(){if(!this.oq)throw B.i.ga("internal error");return this.tl?this.pq?this.Gb.yF(this.Gs):this.Us:this.di.oz(this.di.Wf)},k.prototype.Wy=function(){if(!this.oq)throw B.i.ga("internal error");return this.tl?this.pq?this.Us:this.Gb.yF(this.Gs):this.di.Wy(this.di.Bf)},k.prototype.nU=function(){return this.oq?-1==--this.vo?(this.Jc=!0,!1):(this.pq?this.xT.Sj(this.vo,this.Us):this.wT.Sj(this.vo,this.Us),this.yw.Yi(this.Us,this.ra),this.Yb=2,!0):this.td.ab()?(this.Yb=1,!0):(this.Jc=!0,!1)},k.prototype.oU=function(){if(!this.td.Ia())return this.Yb=0,!0;var T=this.td.ia();return this.yw.Vo(T,this.ra),this.Yb=2,!0},k.prototype.Pz=function(){return this.Gs=this.yw.next(),-1==this.Gs&&(this.Yb=this.oq?0:1,!0)},k}(),B.am=Be}(st||(st={})),function(B){(B=B.GL||(B.GL={}))[B.enumClosed=1]="enumClosed",B[B.enumHasNonlinearSegments=2]="enumHasNonlinearSegments",B[B.enumOGCStartPolygon=4]="enumOGCStartPolygon",B[B.enumCalcMask=4]="enumCalcMask"}(st||(st={})),function(B){B.IC=function(){function Be(){}return Be.ub=function($,k,T,E,D,O,L,F,V){var W=[0,0,0],X=[0,0,0],ie=[0,0,0],Y=[0,0,0,0],te=new B.ha(0),ne=new B.ha(0),we=new B.ha(0);if(null!=L||null!=F||null!=V)if(B.s.ui(k))B.Zg.ub($,T,E,D,O,L,F,V);else{D=B.F.ca(D),T=B.F.ca(T);var ze=B.F.ca(D-T);if(B.s.$(E,O)&&(B.s.$(T,D)||B.s.$(B.s.R(E),1.570796326794897)))null!=L&&(L.u=0),null!=F&&(F.u=0),null!=V&&(V.u=0);else{if(B.s.$(E,-O)){if(B.s.$(B.s.R(E),1.570796326794897))return null!=L&&(L.u=2*B.F.Bh($,k)),null!=F&&(F.u=B.F.ca(0<E?3.141592653589793-B.F.ca(D):D)),void(null!=V&&(V.u=B.F.ca(0<E?D:3.141592653589793-B.F.ca(D))));B.s.$(B.s.R(ze),3.141592653589793)&&(null!=L&&(L.u=2*B.F.Bh($,k)),null!=F&&(F.u=0),null!=V&&(V.u=0))}else if(B.s.$(B.s.R(E),1.570796326794897)||B.s.$(B.s.R(O),1.570796326794897)||B.s.$(T,D)||B.s.$(B.s.R(ze),3.141592653589793)||B.s.Dd(E))return void B.Xk.ub($,k,T,E,D,O,L,F,V);var _t=Math.sqrt(1-k);D=B.F.ca(D-T),B.F.dl(1,k,E,T=0,0,te,ne,we),W[0]=te.u,W[1]=ne.u,W[2]=we.u,B.F.dl(1,k,O,D,0,te,ne,we),X[0]=te.u,X[1]=ne.u,X[2]=we.u,ie[0]=0,ie[1]=0,ie[2]=-1*k*B.F.n(1,k,E)*Math.sin(E),0>D?B.F.Yq(ie,X,W,Y,0):B.F.Yq(ie,W,X,Y,0),ne=[0,0,0],we=[0,0,0];var Mt=[0,0,0];W=[0,0,0],te=[0,0,0];var pe=Math.acos(Y[2]/1),Ge=1-k,it=Math.tan(pe),ht=1+it*it/Ge,mt=2*ie[2]*it/Ge;for(Ge=(-mt+(it=Math.sqrt(mt*mt-4*ht*(ie[2]*ie[2]/Ge-1))))/(ht*=2),mt=(-mt-it)/ht,ie=((ht=(it=Math.tan(pe))*Ge+ie[2])+(it*mt+ie[2]))/2,it=B.F.hp(Ge-(pe=(Ge+mt)/2),ht-ie),Ge=ie/_t*1.570796326794897,mt=0;100>mt&&(ht=(ht=B.F.w(k,Ge))*ht/Math.cos(Ge)*(Math.sin(Ge)-ie*ht/(1-k)),!B.s.Dd(ht));mt++)Ge-=ht;ie=B.F.n(1,k,Ge)*Math.cos(Ge),it=1-it/(ie=Math.sqrt((ie-pe)*(ie+pe))),it*=2-it,ht=B.F.qn(ne),pe=B.F.qn(we),Ge=B.F.qn(Mt);var yt=B.F.Tt(Mt,ne);mt=B.F.Tt(Mt,we),B.F.xx(Mt,ne,W),B.F.xx(Mt,we,te),ne=Math.acos(yt/(Ge*ht)),we=Math.acos(mt/(Ge*pe)),we*=B.s.Mb(1,B.F.Tt(W,te)),(1.570796326794897<=B.s.R(ne)&&1.570796326794897<=B.s.R(we)||3.141592653589793<B.s.R(ne-we))&&(ne=(3.141592653589793-B.s.R(ne))*B.s.Mb(1,ne),we=(3.141592653589793-B.s.R(we))*B.s.Mb(1,we)),W=B.F.Rj(it,we),te=B.F.q(ie,it,B.F.Rj(it,ne)),W=B.F.q(ie,it,W),W=B.s.R(W-te)*$,ne=new B.ha(0),we=new B.ha(0),Mt=Y[1]/1,Mt*=-B.s.Mb(1,ze),te=Math.acos(Mt)*B.s.Mb(1,ze),Be.sf($,k,T,E,W,te,ne,we),B.s.$(D,ne.u)&&B.s.$(O,we.u)||(it=B.F.hp(B.F.ca(D-ne.u),O-we.u),Be.sf($,k,T,E,W,B.F.ca(te+3.141592653589793),ne,we),(ht=B.F.hp(B.F.ca(D-ne.u),O-we.u))<it&&(te=B.F.ca(te+3.141592653589793))),ne=[0,0,0,0],we=[0,0,0,0],it=[0,0,0],$=[0,0,0],T=[0,0,0],E=[0,0,0],Mt=[0,0,0],(ie=[0,0,0])[0]=0,ie[1]=0,ie[2]=_t,it[0]=0,it[1]=0,it[2]=0,B.F.Yq(it,ie,X,ne,0),B.s.Dd(O)?($[0]=X[0],$[1]=X[1],$[2]=1,T[0]=1*Math.cos(D)-1*Math.sin(D),T[1]=1*Math.sin(D)+1*Math.cos(D)):(k=B.F.n(1,k,O)*Math.cos(O),$[0]=0,$[1]=0,X[2]+=Math.tan(1.570796326794897-B.s.R(O))*k*B.s.Mb(1,O),T[0]=k*Math.cos(D)-k*Math.sin(D),T[1]=k*Math.sin(D)+k*Math.cos(D)),T[2]=X[2],B.F.Yq(X,T,$,we,1),B.F.xx(we,ne,E),B.F.xx(we,Y,Mt),Mt=B.F.Tt(E,Mt)/(B.F.qn(E)*B.F.qn(Mt)),Mt*=B.s.Mb(1,ze),D=Math.acos(Mt)*-B.s.Mb(1,ze),(0<te&&0<D||0>te&&0>D)&&(D=B.F.ca(D+3.141592653589793)),null!=L&&(L.u=W),null!=F&&(F.u=te),null!=V&&(V.u=D)}}},Be.sf=function($,k,T,E,D,O,L,F){var V=[0,0,0],W=[0,0,0],X=[0,0,0],ie=[0,0,0],Y=[0,0,0],te=[0,0,0],ne=[0,0,0],we=[0,0,0,0],ze=new B.ha(0),_t=new B.ha(0),Mt=new B.ha(0),pe=new B.ha(0),Ge=new B.ha(0),it=new B.ha(0);if(null!=L&&null!=F)if(B.s.ui(k))B.Zg.sf($,T,E,D,O,L,F);else if(B.s.Dd(D))null!=L&&(L.u=T),null!=F&&(F.u=E);else if(O=B.F.ca(O),0>D&&(D=B.s.R(D),O=B.F.ca(O+3.141592653589793)),T=B.F.ca(T),E=B.F.ca(E),1.570796326794897<B.s.R(E)&&(T=B.F.ca(T+3.141592653589793),E=B.s.Mb(3.141592653589793,E)-E),B.s.$(B.s.R(E),1.570796326794897)||B.s.Dd(E)||B.s.Dd(O)||B.s.$(B.s.R(O),3.141592653589793))B.Xk.sf($,k,T,E,D,O,L,F);else{var ht=Math.sqrt(1-k);for($=D/$,B.F.dl(1,k,E,0,0,pe,Ge,it),V[0]=pe.u,V[1]=Ge.u,V[2]=Ge.u,ne[0]=0,ne[1]=0,ne[2]=-1*k*B.F.n(1,k,E)*Math.sin(E),pe=B.F.n(1,k,E),Ge=B.F.ca(1.570796326794897-O),it=Math.sin(Ge),D=Math.cos(E),E=Math.sin(E),Y[0]=pe*D-E*it,Y[1]=Math.cos(Ge),Y[2]=(1-k)*pe*E+D*it,0>O?B.F.Yq(ne,Y,V,we,0):B.F.Yq(ne,V,Y,we,0),V=Math.acos(we[2]/1),we=Math.atan2(-we[1],-we[0]),E=1-k,Ge=1+(Y=Math.tan(V))*Y/E,E=(-(pe=2*ne[2]*Y/E)+(Y=Math.sqrt(pe*pe-4*Ge*(ne[2]*ne[2]/E-1))))/(Ge*=2),pe=(-pe-Y)/Ge,ne=((Ge=(Y=Math.tan(V))*E+ne[2])+(Y*pe+ne[2]))/2,Y=B.F.hp(E-(V=(E+pe)/2),Ge-ne),ht=ne/ht*1.570796326794897,E=0;100>E&&(pe=(pe=B.F.w(k,ht))*pe/Math.cos(ht)*(Math.sin(ht)-ne*pe/(1-k)),!B.s.Dd(pe));E++)ht-=pe;ht=B.F.n(1,k,ht)*Math.cos(ht),ne=1-Y/(ht=Math.sqrt((ht-V)*(ht+V))),ne*=2-ne,te=Math.acos(B.F.Tt(te,W)/(B.F.qn(te)*B.F.qn(W))),te*=B.s.Mb(1,W[0]),O=(B.F.q(ht,ne,B.F.Rj(ne,te))+$*B.s.Mb(1,O))/B.F.Bh(ht,ne),O=B.F.ca(1.570796326794897*O),O=B.F.Tq(ne,O),B.F.n(ht,ne,O),Y=B.F.ca(we+T),T=Math.cos(Y),O=Math.sin(Y),X[0]=ie[0]*T+ie[1]*-O,X[1]=ie[0]*O+ie[1]*T,X[2]=ie[2],B.F.bO(k,X[0],X[1],X[2],Mt,_t,ze),null!=L&&(L.u=_t.u),null!=F&&(F.u=Mt.u)}},Be}()}(st||(st={})),function(B){var Be=function(){function D(O){this.Za=null,this.wt=new B.h,this.xt=new B.h,this.g=O}return D.prototype.compare=function(O,L,F){return this.g.Hc(L,this.wt),this.g.Hc(O.ka(F),this.xt),this.wt.compare(this.xt)},D}(),$=function(){function D(O){this.Cf=new B.h,this.Dk=new B.h,this.g=O}return D.prototype.Eh=function(O){this.Cf.N(O)},D.prototype.compare=function(O,L){return this.g.Hc(O.ka(L),this.Dk),this.Cf.compare(this.Dk)},D}(),k=function(D){function O(L){var F=D.call(this,L.g,L.ra,!1)||this;return F.ib=L,F}return pi(O,D),O.prototype.compare=function(L,F,V){if(this.rg)return-1;var W=this.ib.Rd.Kn(this.ib.Sh(F));L=L.ka(V);var X=this.ib.Rd.Kn(this.ib.Sh(L));return this.Fm=V,this.JE(F,W,L,X)},O}(B.MC),T=function(D){function O(L){var F=D.call(this,L.g,L.ra)||this;return F.ib=L,F}return pi(O,D),O.prototype.compare=function(L,F){return this.rg?-1:(L=this.ib.Rd.Kn(this.ib.Sh(L.ka(F))),this.Fm=F,this.KE(F,L))},O}(B.TL),E=function(){function D(){this.Nc=this.df=this.ko=this.Rd=this.mh=this.Ad=this.hb=this.g=null,this.Og=!1,this.wh=this.Pm=this.ie=this.Gk=this.oh=this.Ak=this.Gf=this.ae=null,this.yh=this.Lq=this.OA=this.ra=0,this.Yv=this.Xn=!1,this.zo=new B.h,this.Qi=new B.h,this.hb=new B.ad(8),this.Ad=new B.ad(5),this.mh=new B.bu,this.Rd=new B.bu,this.Og=!1,this.wh=new B.h,this.wh.na(0,0),this.ra=0,this.yh=-1,this.Xn=!1,this.g=null,this.df=new B.Yj,this.Nc=new B.Yj,this.oh=new B.ja(0),this.Gk=new B.LC,this.Gf=new B.ja(0),this.Ak=new B.ja(0),this.ko=new B.Ta}return D.prototype.DX=function(O,L){var F=new B.Ed;return F.TB(),O.Pc(F),this.gr(O),this.Xn=!1,this.ra=L,this.OA=L*L,L=this.cC(),O.Pc(F),L||(this.iQ(),L||this.cC()),-1!=this.yh&&(this.g.Ud(this.yh),this.yh=-1),this.g=null,this.Xn},D.prototype.HX=function(O,L){this.gr(O),this.Xn=!1,this.ra=L,this.OA=L*L,this.Og=!1,this.cC(),this.Og||(this.Og=1==O.Ip(L,!0,!1)),-1!=this.yh&&(this.g.Ud(this.yh),this.yh=-1),this.g=null},D.prototype.pg=function(O,L){return this.hb.U(O,0+L)},D.prototype.FB=function(O,L,F){this.hb.T(O,0+L,F)},D.prototype.Sh=function(O){return this.hb.U(O,2)},D.prototype.MW=function(O,L){this.hb.T(O,2,L)},D.prototype.JF=function(O,L){return this.hb.U(O,3+L)},D.prototype.Rp=function(O){return this.hb.U(O,7)},D.prototype.Rl=function(O,L){this.hb.T(O,7,L)},D.prototype.Tp=function(O,L){return this.hb.U(O,3+this.Qp(O,L))},D.prototype.hr=function(O,L,F){this.hb.T(O,3+this.Qp(O,L),F)},D.prototype.ER=function(O,L){return this.hb.U(O,5+this.Qp(O,L))},D.prototype.jr=function(O,L,F){this.hb.T(O,5+this.Qp(O,L),F)},D.prototype.Tr=function(O){return this.Ad.U(O,0)},D.prototype.IW=function(O,L){this.Ad.T(O,0,L)},D.prototype.$y=function(O){return this.Ad.U(O,4)},D.prototype.er=function(O,L){this.Ad.T(O,4,L)},D.prototype.kl=function(O){return this.Ad.U(O,1)},D.prototype.nn=function(O,L){this.Ad.T(O,1,L)},D.prototype.Zy=function(O){return this.Ad.U(O,3)},D.prototype.Et=function(O,L){this.Ad.T(O,3,L)},D.prototype.$m=function(O){var L=this.Ad.De(),F=this.mh.Qh();return this.IW(L,F),-1!=O?(this.mh.addElement(F,O),this.g.Sa(O,this.yh,L),this.er(L,this.g.Va(O))):this.er(L,-1),L},D.prototype.zP=function(O){this.Ad.kd(O)},D.prototype.CD=function(O,L){this.mh.addElement(this.Tr(O),L),this.g.Sa(L,this.yh,O)},D.prototype.nt=function(O){var L=this.hb.De(),F=this.Rd.Qh();return this.MW(L,F),-1!=O&&this.Rd.addElement(F,O),L},D.prototype.DD=function(O,L){this.Rd.addElement(this.Sh(O),L)},D.prototype.Wu=function(O){this.hb.kd(O),0<=(O=this.oh.dF(O))&&this.oh.IV(O)},D.prototype.ij=function(O,L){if(-1==this.pg(O,0))this.FB(O,0,L);else{if(-1!=this.pg(O,1))throw B.i.Ra();this.FB(O,1,L)}this.fy(O,L)},D.prototype.fy=function(O,L){var F=this.kl(L);if(-1!=F){var V=this.Tp(F,L);this.jr(V,L,O),this.hr(O,L,V),this.hr(F,L,O),this.jr(O,L,F)}else this.jr(O,L,O),this.hr(O,L,O),this.nn(L,O)},D.prototype.Qp=function(O,L){return this.pg(O,0)==L?0:1},D.prototype.Zm=function(O,L){var F,V=this.Zy(L);if(-1!=V&&(this.df.wd(V,-1),this.Et(L,-1)),-1!=(V=this.kl(L))){var W=F=V;do{var X=!1,ie=this.Qp(F,L),Y=this.JF(F,ie);if(this.pg(F,ie+1&1)==O){if(this.Yu(F),this.Rd.dh(this.Sh(F)),this.Wu(F),F==Y){V=-1;break}V==F&&(V=this.kl(L),W=Y,X=!0)}F=Y}while(F!=W||X);if(-1!=V){do{ie=this.Qp(F,L),Y=this.JF(F,ie),this.FB(F,ie,O),F=Y}while(F!=W);-1!=(F=this.kl(O))?(W=this.Tp(F,O),X=this.Tp(V,O),W==F?(this.nn(O,V),this.fy(F,O),this.nn(O,F)):X==V&&this.fy(V,O),this.hr(V,O,W),this.jr(W,O,V),this.hr(F,O,X),this.jr(X,O,F)):this.nn(O,V)}}for(V=this.Tr(O),F=this.Tr(L),W=this.mh.sc(F);-1!=W;W=this.mh.lb(W))this.g.Sa(this.mh.ka(W),this.yh,O);this.mh.By(V,F),this.zP(L)},D.prototype.KT=function(O,L){var F=this.pg(O,0),V=this.pg(O,1),W=this.pg(L,0),X=this.pg(L,1);this.Rd.By(this.Sh(O),this.Sh(L)),L==this.kl(F)&&this.nn(F,O),L==this.kl(V)&&this.nn(V,O),this.Yu(L),this.Wu(L),F==W&&V==X||V==W&&F==X||(this.In(F,this.zo),this.In(W,this.Qi),this.zo.rb(this.Qi)?(F!=W&&this.Zm(F,W),V!=X&&this.Zm(V,X)):(V!=W&&this.Zm(V,W),F!=X&&this.Zm(F,X)))},D.prototype.Yu=function(O){var L=this.pg(O,1);this.WE(O,this.pg(O,0)),this.WE(O,L)},D.prototype.WE=function(O,L){var F=this.Tp(O,L),V=this.ER(O,L),W=this.kl(L);F!=O?(this.hr(V,L,F),this.jr(F,L,V),W==O&&this.nn(L,F)):this.nn(L,-1)},D.prototype.OD=function(O,L,F){var V=this.Rd.sc(O),W=this.Rd.ka(V);O=this.Ie(W);var X=this.Ie(this.g.V(W));for(this.g.lr(W,L,F,!0),V=this.Rd.lb(V);-1!=V;V=this.Rd.lb(V)){W=this.Rd.ka(V);var ie=this.Ie(W)==O;this.g.lr(W,L,F,ie)}V=L.Xp(F,0).ac(),L=L.Xp(F,L.ql(F)-1).xc(),this.tK(O,V),this.tK(X,L)},D.prototype.RE=function(O,L,F){var V=this.Sh(O),W=this.pg(O,0),X=this.pg(O,1),ie=this.nt(-1);for(this.oh.add(ie),this.Rl(ie,-3),this.Gf.add(ie),this.ij(ie,W),O=1,L=L.ql(F);O<L;O++)F=this.$m(-1),this.Ak.add(F),this.Gf.add(F),this.ij(ie,F),ie=this.nt(-1),this.oh.add(ie),this.Rl(ie,-3),this.Gf.add(ie),this.ij(ie,F);for(this.ij(ie,X),V=this.Rd.sc(V);-1!=V;V=this.Rd.lb(V))if(X=this.Rd.ka(V),this.Ie(X)==W){O=0;do{0<O&&(ie=this.Gf.get(O-1),this.CD(ie,X),-1==this.$y(ie)&&this.er(ie,this.g.Va(X))),ie=this.Gf.get(O),O+=2,this.DD(ie,X),X=this.g.V(X)}while(O<this.Gf.size)}else{O=this.Gf.size-1;do{O<this.Gf.size-2&&(ie=this.Gf.get(O+1),this.CD(ie,X),0>this.$y(ie)&&this.er(ie,this.g.Va(X))),ie=this.Gf.get(O),O-=2,this.DD(ie,X),X=this.g.V(X)}while(0<=O)}this.Gf.clear(!1)},D.prototype.Ie=function(O){return this.g.Qa(O,this.yh)},D.prototype.KI=function(O,L,F){var V=this.pg(L,0),W=new B.h;this.In(V,W);var X=new B.h,ie=this.pg(L,1);this.In(ie,X);var Y=F.ql(O),te=F.Xp(O,0),ne=new B.h;if(te.$p(ne),!W.rb(ne)){if(!this.Og){var we=W.compare(this.wh);0>we*(ne=ne.compare(this.wh))&&(this.Og=!0)}this.nF(V,this.Gf),this.Ak.add(V)}for(!this.Og&&1<Y&&(we=W.compare(X),te=te.xc(),(W.compare(te)!=we||te.compare(X)!=we||0>te.compare(this.wh))&&(this.Og=!0)),O=(te=F.Xp(O,Y-1)).xc(),X.rb(O)||(this.Og||0>(we=X.compare(this.wh))*(ne=O.compare(this.wh))&&(this.Og=!0),this.nF(ie,this.Gf),this.Ak.add(ie)),this.Gf.add(L),X=0,ie=this.Gf.size;X<ie;X++)O=this.Gf.get(X),F=this.Rp(O),B.ad.DG(F)&&(this.Nc.wd(F,-1),this.Rl(O,-1)),O!=L&&-3!=this.Rp(O)&&(this.oh.add(O),this.Rl(O,-3));this.Gf.clear(!1)},D.prototype.dO=function(O,L){this.ae.compare(this.Nc,this.Nc.ka(O),L),this.ae.rg&&(this.ae.Lr(),this.gF(O,L))},D.prototype.gF=function(O,L){this.Xn=!0,O=this.Nc.ka(O),L=this.Nc.ka(L);var F=this.Rd.Kn(this.Sh(O)),V=this.Rd.Kn(this.Sh(L)),W=this.g.cc(F);null==W&&(null==this.ie&&(this.ie=new B.zb),this.g.fd(F,this.ie),W=this.ie),null==(F=this.g.cc(V))&&(null==this.Pm&&(this.Pm=new B.zb),this.g.fd(V,this.Pm),F=this.Pm),this.Gk.Po(W),this.Gk.Po(F),this.Gk.Fa(this.ra,!0)&&(this.Og=!0),this.$J(O,L,-1,this.Gk),this.Gk.clear()},D.prototype.yQ=function(O,L){this.Xn=!0,L=this.Nc.ka(L);var F=this.Rd.Kn(this.Sh(L)),V=this.g.cc(F);null==V&&(null==this.ie&&(this.ie=new B.zb),this.g.fd(F,this.ie),V=this.ie),F=this.tF(O),this.Gk.Po(V),this.g.Wi(F,this.ko),this.Gk.Fz(this.ra,this.ko,!0),this.$J(L,-1,O,this.Gk),this.Gk.clear()},D.prototype.oS=function(){if(0!=this.oh.size)for(;0!=this.oh.size;){if(this.oh.size>Math.max(100,this.g.gd)){this.oh.clear(!1),this.Og=!0;break}var O=this.oh.Gc();this.oh.Jf(),this.Rl(O,-1),-1!=this.MS(O)&&this.nS(O),this.Wn=!1}},D.prototype.nS=function(O){if(this.Wn){var L=this.Nc.Au(this.EH,this.yH,O,!0);this.Wn=!1}else L=this.Nc.BD(O);-1==L?this.KT(this.Nc.ka(this.Nc.xF()),O):(this.Rl(O,L),this.ae.rg&&(this.ae.Lr(),this.gF(this.ae.Fm,L)))},D.prototype.MS=function(O){var L=this.pg(O,0);if(O=this.pg(O,1),this.In(L,this.zo),this.In(O,this.Qi),B.h.zc(this.zo,this.Qi)<=this.OA)return this.Og=!0,-1;var F=this.zo.compare(this.wh),V=this.Qi.compare(this.wh);return 0>=F&&0<V?O:0>=V&&0<F?L:-1},D.prototype.gQ=function(){var O=new B.ja(0);O.Jb(this.g.gd);for(var L=this.g.$q(),F=L.next();-1!=F;F=L.next())-1!=this.g.Qa(F,this.yh)&&O.add(F);this.g.mx(O,O.size),this.hQ(O)},D.prototype.hQ=function(O){this.df.clear(),this.df.Ee(O.size),this.df.Wo(new Be(this.g));var L=new B.h;L.Sc();for(var F=-1,V=new B.h,W=0,X=O.size;W<X;W++){var ie=O.get(W);this.g.Hc(ie,V),V.rb(L)?(ie=this.g.Qa(ie,this.yh),this.Zm(F,ie)):(F=this.Ie(ie),this.g.Hc(ie,L),ie=this.df.yn(ie),this.Et(F,ie))}},D.prototype.iQ=function(){var O=new B.ja(0);O.Jb(this.g.gd);for(var L=this.df.sc(-1);-1!=L;L=this.df.lb(L))O.add(this.df.ka(L));this.df.clear(),this.g.mx(O,O.size),L=0;for(var F=O.size;L<F;L++){var V=O.get(L),W=this.Ie(V);V=this.df.yn(V),this.Et(W,V)}},D.prototype.nF=function(O,L){var F=this.kl(O);if(-1!=F){var V=F;do{B.ad.DG(this.Rp(V))&&L.add(V),V=this.Tp(V,O)}while(V!=F)}},D.prototype.tK=function(O,L){for(O=this.mh.sc(this.Tr(O));-1!=O;O=this.mh.lb(O))this.g.mf(this.mh.ka(O),L)},D.prototype.$J=function(O,L,F,V){this.Yu(O),-1!=L&&this.Yu(L),this.KI(0,O,V),-1!=L&&this.KI(1,L,V),-1!=F&&(V.Cf.D(this.zo),this.In(F,this.Qi),this.Qi.rb(this.zo)||this.Ak.add(F)),F=0;for(var W=this.Ak.size;F<W;F++){var X=this.Ak.get(F),ie=this.Zy(X);-1!=ie&&(this.df.wd(ie,-1),this.Et(X,-1))}for(F=this.Sh(O),W=-1!=L?this.Sh(L):-1,this.OD(F,V,0),-1!=L&&this.OD(W,V,1),this.RE(O,V,0),-1!=L&&this.RE(L,V,1),this.Rd.dh(F),this.Wu(O),-1!=L&&(this.Rd.dh(W),this.Wu(L)),F=0,W=this.Ak.size;F<W;F++)(X=this.Ak.get(F))==this.Lq&&(this.Yv=!0),-1==(ie=this.Zy(X))&&(-1==(ie=this.df.BD(this.tF(X)))?(O=this.Ie(this.df.ka(this.df.xF())),this.Zm(O,X)):this.Et(X,ie));this.Ak.clear(!1)},D.prototype.In=function(O,L){this.g.WF(this.$y(O),L)},D.prototype.tF=function(O){return this.mh.Kn(this.Tr(O))},D.prototype.cC=function(){this.Yv=!1,this.Lq=-1,null==this.ae&&(this.Nc.Sv=!1,this.ae=new k(this),this.Nc.$n=this.ae);var O=new B.ja(0),L=null,F=null;this.yH=this.EH=-1,this.Wn=!1;for(var V=this.df.sc(-1);-1!=V;){this.Wn=!1;var W=this.df.ka(V);this.Lq=this.Ie(W),this.g.Hc(W,this.wh),this.ae.SJ(this.wh.y,this.wh.x);var X=this.kl(this.Lq),ie=-1==X;if(!ie){W=X;do{var Y=this.Rp(W);-1==Y?(this.oh.add(W),this.Rl(W,-3)):-3!=Y&&O.add(Y),W=this.Tp(W,this.Lq)}while(W!=X)}if(0<O.size){for(this.Wn=1==O.size&&1==this.oh.size,ie=0,X=O.size;ie<X;ie++)W=this.Nc.ka(O.get(ie)),this.Rl(W,-2);var te=-2,ne=-2;for(ie=0,X=O.size;ie<X;ie++){if(Y=O.get(ie),-2==te){var we=this.Nc.xe(Y);-1!=we?(W=this.Nc.ka(we),-2!=(W=this.Rp(W))&&(te=we)):te=-1}if(-2==ne&&(-1!=(Y=this.Nc.lb(Y))?(W=this.Nc.ka(Y),-2!=(W=this.Rp(W))&&(ne=Y)):ne=-1),-2!=te&&-2!=ne)break}for(ie=0,X=O.size;ie<X;ie++)Y=O.get(ie),W=this.Nc.ka(Y),this.Nc.wd(Y,-1),this.Rl(W,-1);O.clear(!1),this.EH=-1!=te?te:-1,this.yH=-1!=ne?ne:-1,-1!=te&&-1!=ne?this.Wn||this.dO(te,ne):-1==te&&-1==ne&&(this.Wn=!1)}else ie&&(null==L&&(L=new T(this)),L.Eh(this.wh),this.Nc.mJ(L),L.rg&&(L.Lr(),this.yQ(this.Lq,L.Fm)));this.oS(),this.Yv?(this.Yv=!1,null==F&&(F=new $(this.g)),F.Eh(this.wh),V=this.df.mJ(F)):V=this.df.lb(V)}return this.Xn},D.prototype.gr=function(O){for(this.g=O,this.yh=this.g.Hd(),this.hb.Ee(O.gd+32),this.Ad.Ee(O.gd),this.mh.At(O.gd),this.mh.hn(O.gd),this.Rd.At(O.gd+32),this.Rd.hn(O.gd+32),O=this.g.ld;-1!=O;O=this.g.ve(O))if(B.ba.Ic(this.g.jc(O)))for(Y=this.g.Ob(O);-1!=Y;Y=this.g.Sb(Y)){var L=this.g.Ka(Y),F=this.g.Ya(Y),V=this.$m(F),W=this.nt(F);for(this.ij(W,V),te=this.g.V(F),F=0,L-=2;F<L;F++){var X=this.g.V(te),ie=this.$m(te);this.ij(W,ie),W=this.nt(te),this.ij(W,ie),te=X}this.g.ec(Y)?(ie=this.$m(te),this.ij(W,ie),W=this.nt(te),this.ij(W,ie),this.ij(W,V)):(ie=this.$m(te),this.ij(W,ie))}else for(var Y=this.g.Ob(O);-1!=Y;Y=this.g.Sb(Y)){var te=this.g.Ya(Y);for(V=0,L=this.g.Ka(Y);V<L;V++)this.$m(te),te=this.g.V(te)}this.gQ()},D}();B.JC=E}(st||(st={})),function(B){var Be=function($){function k(T,E,D){var O=$.call(this)||this;if(void 0!==T)if(void 0!==D){O.description=B.ee.og();var L=new B.Od;L.L(T,E,D),O.XB(L)}else if(void 0!==E)O.description=B.ee.og(),O.Db(T,E);else if(T instanceof B.ua)O.description=T;else if(T instanceof B.h)O.description=B.ee.og(),O.Db(T);else{if(!(T instanceof k))throw B.i.O();O.description=T.description,O.Db(T.Mg(),T.jh()),null!==T.la&&(O.la=T.la.slice(0))}else O.description=B.ee.og();return O}return pi(k,$),k.prototype.D=function(T){if(void 0===T){if(this.Bc())throw B.i.ga("This operation should not be performed on an empty geometry.");return(T=new B.h).na(this.la[0],this.la[1]),T}if(this.Bc())throw B.i.ga("This operation should not be performed on an empty geometry.");T.na(this.la[0],this.la[1])},k.prototype.Db=function(T,E){"number"==typeof T?(this.wc(),null==this.la&&this.up(),this.la[0]=T,this.la[1]=E):(this.wc(),this.Db(T.x,T.y))},k.prototype.xz=function(){if(this.Bc())throw B.i.ga("This operation should not be performed on an empty geometry.");var T=new B.Od;return T.x=this.la[0],T.y=this.la[1],T.z=this.description.aG()?this.la[2]:B.ua.te(1),T},k.prototype.XB=function(T){this.wc();var E=this.hasAttribute(1);E||B.ua.vG(1,T.z)||(this.se(1),E=!0),null==this.la&&this.up(),this.la[0]=T.x,this.la[1]=T.y,E&&(this.la[2]=T.z)},k.prototype.Mg=function(){if(this.Bc())throw B.i.ga("This operation should not be performed on an empty geometry.");return this.la[0]},k.prototype.WB=function(T){this.setAttribute(0,0,T)},k.prototype.jh=function(){if(this.Bc())throw B.i.ga("This operation should not be performed on an empty geometry.");return this.la[1]},k.prototype.TJ=function(T){this.setAttribute(0,1,T)},k.prototype.TR=function(){return this.Vc(1,0)},k.prototype.kX=function(T){this.setAttribute(1,0,T)},k.prototype.rR=function(){return this.Vc(2,0)},k.prototype.VW=function(T){this.setAttribute(2,0,T)},k.prototype.Fc=function(){return this.qF(3,0)},k.prototype.DJ=function(T){this.setAttribute(3,0,T)},k.prototype.Vc=function(T,E){var D=this.description.Qf(T);return 0<=D?this.la[this.description.$j(D)+E]:B.ua.te(T)},k.prototype.qF=function(T,E){var D=this.description.Qf(T);return 0<=D?this.la[this.description.$j(D)+E]:B.ua.te(T)},k.prototype.setAttribute=function(T,E,D){this.wc();var O=this.description.Qf(T);0>O&&(this.se(T),O=this.description.Qf(T)),null==this.la&&this.up(),this.la[this.description.$j(O)+E]=D},k.prototype.K=function(){return 33},k.prototype.Eb=function(){return 0},k.prototype.Pa=function(){this.wc(),null!=this.la&&(this.la[0]=NaN,this.la[1]=NaN)},k.prototype.un=function(T){if(null!=this.la){for(var E=B.ee.Jw(T,this.description),D=[],O=0,L=0,F=T.Ba;L<F;L++){var V=T.qd(L),W=B.ua.Wa(V);if(-1==E[L]){var X=B.ua.te(V);for(V=0;V<W;V++)D[O]=X,O++}else for(X=this.description.$j(E[L]),V=0;V<W;V++)D[O]=this.la[X],O++,X++}this.la=D}this.description=T},k.prototype.up=function(){this.dJ(this.description.Be.length),k.VD(this.description.Be,this.la,this.description.Be.length),this.la[0]=NaN,this.la[1]=NaN},k.prototype.Pc=function(T){if(T instanceof B.Ed){if(!this.Bc()){var E=this.D();T.Fh(E,E),this.Db(E)}}else this.Bc()||(this.se(1),E=this.xz(),this.XB(T.gp(E)))},k.prototype.copyTo=function(T){if(33!=T.K())throw B.i.O();T.wc(),null==this.la?(T.Pa(),T.la=null,T.kg(this.description)):(T.kg(this.description),T.dJ(this.description.Be.length),k.VD(this.la,T.la,this.description.Be.length))},k.prototype.Ja=function(){return new k(this.description)},k.prototype.B=function(){return this.Bc()},k.prototype.Bc=function(){return null==this.la||isNaN(this.la[0])||isNaN(this.la[1])},k.prototype.dn=function(T){T.Pa(),this.description!=T.description&&T.kg(this.description),T.$b(this)},k.prototype.A=function(T){this.Bc()?T.Pa():(T.v=this.la[0],T.G=this.la[1],T.C=this.la[0],T.H=this.la[1])},k.prototype.Ro=function(T){if(this.Bc())T.Pa();else{var E=this.xz();T.v=E.x,T.G=E.y,T.Xe=E.z,T.C=E.x,T.H=E.y,T.Dg=E.z}},k.prototype.Ug=function(T,E){var D=new B.Oc;return this.Bc()?(D.Pa(),D):(T=this.Vc(T,E),D.pa=T,D.wa=T,D)},k.prototype.dJ=function(T){if(null==this.la)this.la=B.P.lg(T);else if(this.la.length<T){for(var E=this.la.slice(0),D=this.la.length;D<T;D++)E[D]=0;this.la=E}},k.VD=function(T,E,D){if(0<D)for(D=0;D<T.length;D++)E[D]=T[D]},k.prototype.Nb=function(T){if(T==this)return!0;if(!(T instanceof k)||this.description!=T.description)return!1;if(this.Bc())return!!T.Bc();for(var E=0,D=this.description.Be.length;E<D;E++)if(this.la[E]!=T.la[E])return!1;return!0},k.prototype.dc=function(){var T=this.description.dc();if(!this.Bc())for(var E=0,D=this.description.Be.length;E<D;E++){var O=this.la[E];O=B.P.truncate(O^O>>>32),T=B.P.Uh(O,T)}return T},k.prototype.mg=function(){return null},k}(B.ba);B.Ta=Be}(st||(st={})),function(B){var Be=function(){function $(k,T,E){void 0!==k&&(this.x=k,this.y=T,this.z=E)}return $.construct=function(k,T,E){var D=new $;return D.x=k,D.y=T,D.z=E,D},$.prototype.L=function(k,T,E){this.x=k,this.y=T,this.z=E},$.prototype.kx=function(){this.z=this.y=this.x=0},$.prototype.normalize=function(){var k=this.length();0==k&&(this.x/=k,this.y/=k,this.z/=k)},$.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},$.prototype.sub=function(k){return new $(this.x-k.x,this.y-k.y,this.z-k.z)},$.prototype.Ag=function(k){new $(this.x*k,this.y*k,this.z*k)},$.prototype.Rh=function(k){return this.x*k.x+this.y*k.y+this.z*k.z},$}();B.Od=Be}(st||(st={})),function(B){var Be=function(){function $(k,T,E){this.Hw=this.xA=null,this.Yf=T,this.vT=T.y-E,this.uT=T.y+E,this.Fw=0,this.Zz=k,this.ra=E,this.HT=E*E,this.$z=0!=E,this.Mv=!1}return $.prototype.result=function(){return 0!=this.Fw?1:0},$.prototype.RM=function(k){return k=k.ic(k.fe(this.Yf,!1)),B.h.zc(k,this.Yf)<=this.HT},$.prototype.YE=function(k){if(!this.$z&&(this.Zz&&this.Yf.rb(k.ac())||this.Yf.rb(k.xc())))this.Mv=!0;else if(k.oa==this.Yf.y&&k.oa==k.ma){if(this.Zz&&!this.$z){var T=Math.max(k.sa,k.qa);this.Yf.x>Math.min(k.sa,k.qa)&&this.Yf.x<T&&(this.Mv=!0)}}else{var E=!1;if(T=Math.max(k.sa,k.qa),this.Yf.x>T?E=!0:this.Yf.x>=Math.min(k.sa,k.qa)&&(E=0<k.fq(!0,this.Yf.y,this.Hw,null)&&this.Hw[0]<=this.Yf.x),E){if(this.Yf.y==k.ac().y){if(this.Yf.y<k.xc().y)return}else if(this.Yf.y==k.xc().y&&this.Yf.y<k.ac().y)return;this.Fw=this.Zz?1^this.Fw:this.Fw+(k.ac().y>k.xc().y?1:-1)}}},$.prototype.JI=function(k){var T=k.Ug(0,1);if(T.pa>this.uT||T.wa<this.vT)return!1;if(this.$z&&this.RM(k))return!0;if(T.pa>this.Yf.y||T.wa<this.Yf.y)return!1;if(null==this.xA&&(this.xA=[null,null,null,null,null]),null==this.Hw&&(this.Hw=[0,0,0]),0<(T=k.XF()))for(k=0;k<T;k++){var E=this.xA[k].get();if(this.YE(E),this.Mv)return!0}else if(this.YE(k),this.Mv)return!0;return!1},$.HM=function(k,T,E){for(T=new $(0==k.Jn(),T,E),k=k.Ha();k.ab();)for(;k.Ia();)if(E=k.ia(),T.JI(E))return-1;return T.result()},$.IM=function(k,T,E,D){var O=new B.l;k.yc(O),O.X(D,D);var L=new $(0==k.Jn(),E,D);k=k.Ha();var F=new B.l;for(F.L(O),F.C=E.x+D,F.G=E.y-D,F.H=E.y+D,D=(E=T.EF(F,D)).next();-1!=D;D=E.next())if(k.Wb(T.ka(D)),k.Ia()&&(D=k.ia(),L.JI(D)))return-1;return L.result()},$.ym=function(k,T,E){if(k.B())return 0;var D=new B.l;if(k.yc(D),D.X(E,E),!D.contains(T))return 0;if(null!=(D=k.Cb)){var O=D.Fk;if(null!=O){if(1==(O=O.To(T.x,T.y)))return 1;if(0==O)return 0}if(null!=(D=D.Gb))return $.IM(k,D,T,E)}return $.HM(k,T,E)},$.SS=function(k,T,E){return T.B()?0:$.ym(k,T.D(),E)},$.Ol=function(k,T){return!(16>(k=k.I()))&&2*k+Math.log(k)/Math.log(2)*T<1*k*T},$}();B.Fg=Be}(st||(st={})),function(B){var Be=function($){function k(T){return $.call(this,!0,T)||this}return pi(k,$),k.prototype.Ja=function(){return new k(this.description)},k.prototype.Eb=function(){return 2},k.prototype.K=function(){return 1736},k.prototype.pG=function(T,E,D){this.AS(T,E,D)},k.prototype.hR=function(){this.xR()},k}(B.Vk);B.Ea=Be}(st||(st={})),function(B){(function(Be){Be[Be.PiPOutside=0]="PiPOutside",Be[Be.PiPInside=1]="PiPInside",Be[Be.PiPBoundary=2]="PiPBoundary"})(B.JL||(B.JL={})),B.jd=function(){function Be(){}return Be.CG=function($,k,T){return 0==($=B.Fg.SS($,k,T))?0:1==$?1:2},Be.Zd=function($,k,T){return 0==($=B.Fg.ym($,k,T))?0:1==$?1:2},Be.KX=function($,k,T,E,D){if(k.length<T||D.length<T)throw B.i.O();for(var O=0;O<T;O++)D[O]=Be.Zd($,k[O],E)},Be.kK=function($,k,T,E,D){if(1736==$.K())Be.KX($,k,T,E,D);else{if(197!=$.K())throw B.i.ga("invalid_call");var O=new B.l;$.A(O),Be.SM(O,k,T,E,D)}},Be.SM=function($,k,T,E,D){if(k.length<T||D.length<T)throw B.i.O();if($.B())for(E=0;E<T;E++)D[E]=0;else for($.X(.5*-E,.5*-E),$.X(.5*E,.5*E),E=0;E<T;E++)D[E]=$.contains(k[E])?1:$.contains(k[E])?2:0},Be.MX=function($,k,T,E,D){for(var O=0;O<T;O++)D[O]=$.rs(k[O],E)?2:0},Be.LX=function($,k,T,E,D){var O=$.Cb,L=null;null!=O&&(L=O.Fk),O=T;for(var F=0;F<T;F++)if(D[F]=1,null!=L){var V=k[F];0==L.To(V.x,V.y)&&(D[F]=0,O--)}if(0!=O)for($=$.Ha();$.ab()&&0!=O;)for(;$.Ia()&&0!=O;)for(L=$.ia(),F=0;F<T&&0!=O;F++)1==D[F]&&L.rs(k[F],E)&&(D[F]=2,O--);for(F=0;F<T;F++)1==D[F]&&(D[F]=0)},Be.lK=function($,k,T,E,D){var O=$.K();if(1607==O)Be.LX($,k,T,E,D);else{if(!B.ba.zd(O))throw B.i.ga("Invalid call.");Be.MX($,k,T,E,D)}},Be}()}(st||(st={})),function(B){var Be=function($){function k(T,E){if(2==arguments.length){var D=$.call(this,!1,T.description)||this;D.nf(T),D.lineTo(E)}else D=$.call(this,!1,T)||this;return D}return pi(k,$),k.prototype.Ja=function(){return new k(this.description)},k.prototype.Eb=function(){return 1},k.prototype.K=function(){return 1607},k.prototype.pG=function(T,E,D){this.BS(T,E,D)},k}(B.Vk);B.Ua=Be}(st||(st={})),function(B){var Be=function(){function $(){}return $.prototype.progress=function(){return!0},$.Bp=function(k){if(null!=k&&!k.progress(-1,-1))throw B.i.OC()},$}();B.np=Be}(st||(st={})),function(B){var Be;(Be=B.HK||(B.HK={}))[Be.clipWithInputHorizon=1]="clipWithInputHorizon",Be[Be.clipWithOutputHorizon=2]="clipWithOutputHorizon";var E,$=function(){function E(){this.gl=3,this.Gy=this.Lu=NaN}return E.prototype.ZR=function(){return this.js(1)},E.prototype.$R=function(){return this.js(2)},E.prototype.js=function(D){return 0!=(this.gl&D)},E.prototype.Pf=function(){var D=new E;return D.Lu=this.Lu,D.Gy=this.Gy,D.gl=this.gl,D},E}();B.oY=$,(E=B.IK||(B.IK={}))[E.Dont_Geonomalize_Polygon=2147483648]="Dont_Geonomalize_Polygon",E[E.Dont_Adjust_At_Poles=1073741824]="Dont_Adjust_At_Poles";var k=function(){function E(){this.gl=0}return E.prototype.js=function(D){return 0!=(this.gl&D)},E.ig=function(D){var O=new E;return O.gl=D.gl,O},E.prototype.eM=function(D){this.gl=D.gl},E}();B.pY=k;var T=function(){function E(D,O,L){this.ef=D,this.Zf=O,this.Vf=new B.l,this.Vf.L(L),this.qT=D.dc()+O.dc()+this.Vf.dc().toString()}return E.prototype.dc=function(){return this.qT},E.prototype.Nb=function(D){return this==D||this.ef.Nb(D.ef)&&this.Zf.Nb(D.Zf)&&this.Vf.Nb(D.Vf)},E}();B.uY=T,T=function(){function E(){this.Zf=this.ef=null,this.jH=new $,this.kH=new k,this.xw=this.Xf=null,this.nw=this.Un=!0}return E.Or=function(D,O,L,F){var V;void 0===F&&(F=null),void 0===V&&(V=null);var W=new E;return W.rp(D,O,L,F,V),W},E.prototype.rp=function(D,O,L,F,V){if(null==D||null==O)throw B.i.ga("invalidArgument");if(this.ef=D,this.Zf=O,this.nw=this.Un=!1,null!=F&&(this.jH=F.Pf()),null!=V&&this.kH.eM(V),V=!1,1==O.Tb()&&null!=F&&(F=F.Lu,isNaN(F)||0==F||(V=!0)),D==O)this.Un=!V,this.nw=!0;else{F=D.Tb();var W=O.Tb();if(0==F||0==W){if(null!=L)throw B.i.O();null!=D.Id()&&null!=O.Id()&&(this.Un=D.Id().Nb(O.Id()))}else this.Un=3==F||3==W?D.Nb(O):!!this.ef.bS(this.Zf)&&!V,this.Xf=L,null!=this.Xf&&this.Xf.hx(),this.nw=(null==this.Xf||0==this.Xf.count())&&this.ef.tc().Nb(this.Zf.tc())}this.cY()},E.prototype.isIdentity=function(){return this.Un},E.prototype.fR=function(){return this.jH.Pf()},E.prototype.Nb=function(D){return D==this||!!(D instanceof E&&this.ef.Nb(D.ef)&&this.Zf.Nb(D.Zf))&&(this.Xf==D.Xf||!(null==this.Xf||null==D.Xf||!this.Xf.Nb(D.Xf)))},E.prototype.cY=function(){this.xw=new B.cu(this)},E}(),B.xr=T}(st||(st={})),function(B){var Be=function(){function $(){}return $.Ep=function(k){return k*$.eW},$.lx=function(k,T){return $.ZO(T-k)},$.$O=function(k){return-360<=k&&720>k?(0>k?k+=360:360<=k&&(k-=360),k):(0>(k=B.mc.JK(k))&&(k+=360),k)},$.ZO=function(k){return 180<(k=$.$O(k))&&(k-=360),k},$.eW=57.29577951308232,$}();B.sr=Be,B.Ih=function(){function $(){}return $.mj=function(k,T){var E=new B.l;k.A(E);var D=B.cb.hh(T),O=new B.l;return O.L(D),O.v=E.v,O.C=E.C,O.X(.01*O.da(),0),T=B.ta.Xd(T,E,!1),O.contains(E)?k:B.Vd.clip(k,O,T,0)},$.ls=function(k,T,E,D,O){if(!B.cb.Xc(T))throw B.i.O();var L=B.ta.lj(T,k,!1),F=B.cb.hh(T),V=B.cb.tc(T),W=V.Id().bi,X=B.cb.wv(V);V=B.cb.fv(V),X*=2-X;var ie=new B.Oc;F.en(ie);var Y=[[0,0],[0,0]];if(2==B.Gg.Tb(T)?D?(Y[0][0]=$.an(O,ie),Y[0][1]=F.Lp(),B.cb.vt(),F=Y[0][0]*W):(Y[0][0]=F.gk(),Y[0][1]=O,B.cb.vt(),F=Y[0][1]*W):F=O*W,!D&&0!=F)throw B.i.O();var te=new B.ha,ne=new B.hd;k=ne.Ib(k);for(var we=[0],ze=new B.h,_t=new B.h,Mt=new B.h,pe=new B.h,Ge=new B.h,it=new B.h,ht=ne.Ob(k);-1!=ht;ht=ne.Sb(ht)){var mt=ne.Ya(ht);ne.D(mt,Mt);for(var yt=!1,Ot=mt=ne.V(mt);-1!=Ot;Ot=ne.V(Ot)){if(Ot==mt){if(yt)break;yt=!0}if(ne.D(Ot,pe),D&&L<O-Mt.x&&pe.x-O>L||L<O-pe.x&&Mt.x-O>L||!D&&L<-Mt.y&&pe.y>L||L<-pe.y&&Mt.y>L)do{if(!(Math.abs(Mt.x-pe.x)>=.5*ie.S())){if(2==B.Gg.Tb(T)?(Y[0][0]=$.an(Mt.x,ie),Y[0][1]=Mt.y,Y[1][0]=$.an(pe.x,ie),Y[1][1]=pe.y,B.cb.UV(),Ge.x=Y[0][0]*W,Ge.y=Y[0][1]*W,it.x=Y[1][0]*W,it.y=Y[1][1]*W):(Ge.x=Mt.x*W,Ge.y=Mt.y*W,it.x=pe.x*W,it.y=pe.y*W),it.x=6.283185307179586*(pe.x-Mt.x)/ie.S()+Ge.x,D){if(_t.x=F,_t.y=$.Iz(V,X,Ge,it,F,E),isNaN(_t.y))break}else{if(_t.x=$.Gz(V,X,Ge,it,E),isNaN(_t.x))break;_t.y=0}B.kb.xd(V,X,Ge.x,Ge.y,it.x,it.y,te,null,null,E);var St=te.u;B.kb.xd(V,X,Ge.x,Ge.y,_t.x,_t.y,te,null,null,E);var Tt=te.u;2==B.Gg.Tb(T)?(Y[0][0]=_t.x/W,Y[0][1]=_t.y/W,B.cb.UQ(),D?(ze.y=Y[0][1],ze.x=O):(ze.x=$.ps(Y[0][0],Mt.x,pe.x,ie),ze.y=O)):D?(ze.x=O,ze.y=_t.y/W):(ze.x=$.ps(_t.x/W,Mt.x,pe.x,ie),ze.y=O),we[0]=0<St?B.P.Rk(Tt/St,0,1):.5,0!=we[0]&&1!=we[0]&&(St=ne.Na(Ot),ne.Wl(St,we,1),ne.Db(ne.V(St),ze.x,ze.y))}}while(0);Mt.N(pe)}}return ne.Ke(k)},$.Gn=function(k,T,E,D,O){if(k.B())return k;var L=B.cb.bf(T);return $.Jp(k,E-180*L,360*L,T,D,O,!0)},$.Iz=function(k,T,E,D,O,L){if(3.141592653589793<=Math.abs(E.x-D.x)||!$.Tn(E.x,D.x,O))return NaN;if(E.x>D.x)var F=D;else F=E,E=D;D=new B.ha(0);var V=new B.ha(0),W=new B.ha(0);B.kb.xd(k,T,F.x,F.y,E.x,E.y,V,D,null,L);var X=V.u,ie=0,Y=1,te=new B.h;for(te.N(F);X*(Y-ie)>1e-12*k;){var ne=.5*(ie+Y);if(B.kb.pj(k,T,F.x,F.y,X*ne,D.u,V,W,L),te.x=V.u,te.y=W.u,te.x==O)break;if($.Tn(F.x,te.x,O))Y=ne;else{if(!$.Tn(E.x,te.x,O))return NaN;ie=ne}}return te.y},$.Tn=function(k,T,E){return k=Be.Ep(k),T=Be.lx(k,Be.Ep(T)),0==(E=Be.lx(k,Be.Ep(E)))||0<T&&0<E&&E<=T||0>T&&0>E&&E>=T},$.an=function(k,T){var E=T.wa-T.pa;return T.Jt(k-Math.floor((k-T.pa)/E)*E)},$.ps=function(k,T,E,D){var O=new B.Oc;for(O.L(T,E),E=D.S(),k=Math.floor((k-T)/E)*E+k,O=O.tf();Math.abs(k-O)>Math.abs(k+E-O);)k+=E;return k},$.Gz=function(k,T,E,D,O){if(E.y>D.y)var L=D;else L=E,E=D;if((D=new B.Oc).L(L.y,E.y),!D.contains(0)||3.141592653589793<=Math.abs(L.x-E.x))return NaN;if(L.x==E.x)return L.x;var F=new B.ha(0),V=new B.ha(0),W=new B.ha(0);B.kb.xd(k,T,L.x,L.y,E.x,E.y,V,F,null,O);var X=V.u,ie=0,Y=1,te=new B.h;for(te.N(L);X*(Y-ie)>1e-12*k;){var ne=.5*(ie+Y);if(B.kb.pj(k,T,L.x,L.y,X*ne,F.u,V,W,O),te.x=V.u,te.y=W.u,D.L(L.y,te.y),0==te.y)break;if(D.contains(0))Y=ne;else{if(D.L(E.y,te.y),!D.contains(0))return NaN;ie=ne}}return te.x},$.Jp=function(k,T,E,D,O,L,F){var V=new B.l;if(k.A(V),V.B())return k;var W=new B.Oc;V.en(W);var X=new B.Oc;if(X.L(T,T+E),X.contains(W)&&X.wa!=W.wa)return k;var ie=new B.l;ie.L(V);var Y=k.K();if(33==Y)return((V=(ie=O?k:k.Pf()).Mg())<X.pa||V>=X.wa||F&&V==X.wa)&&(V+=Math.ceil((X.pa-V)/E)*E,V=X.Jt(V),ie.WB(V)),ie;if(550==Y){for(D=(ie=O?k:k.Pf()).vb(0),Y=2*ie.I(),k=!1,O=0;O<Y;O+=2)((V=D.read(O))<X.pa||V>=X.wa||F&&V==X.wa)&&(k=!0,V+=Math.ceil((X.pa-V)/E)*E,V=X.Jt(V),D.write(O,V));return k&&ie.Qc(1993),ie}if(X.contains(W))return k;if(197==Y)return E=O?k:k.Pf(),V.Fa(ie),E.Yo(V),E;var te=.1*Math.max(V.da(),V.S());for(ie.X(0,te),F=k,X=D.Yd(0),k=B.Hh.local(),O=new B.Ed;;){var ne=Math.floor((W.pa-T)/E),we=Math.ceil((W.wa-T)/E);if(!(3<we-ne))break;ne=Math.floor(.5*(we+ne)),ie.v=V.v-te,ie.C=T+E*ne;var ze=B.Vd.clip(F,ie,X,L);ie.v=ie.C,ie.C=V.C+te;var _t=B.Vd.clip(F,ie,X,L);O.gg((ne-we)*E,0),_t.Pc(O),1736==Y?F=k.W(ze,_t,D,null):(F=ze).add(_t,!1),F.A(V),V.en(W)}for(ie.v=T,ie.C=T+E,(T=new B.l).L(ie),T.X(X,0),0!=(T=Math.floor((V.v-ie.v)/E)*E)?(ie.move(T,0),O.gg(-T,0)):O.KB(),T=1607==Y?new B.Ua(F.description):new B.Ea(F.description),L=new B.l,W=new B.l;V.C>ie.v;)(te=B.Vd.clip(F,ie,X,0)).A(W),(1607==Y?!te.B()&&(W.S()>X||W.da()>X):!te.B()&&(1736!=Y||W.S()>X))&&(te.Pc(O),te.A(W),T.A(L),L.X(X,X),L.isIntersecting(W)&&1736==Y?T=k.W(T,te,D,null):T.add(te,!1)),ie.move(E,0),O.shift(-E,0);return T},$.NI=function(k,T,E,D){var O=new B.de(E.description);O.Gd(E,0,-1),O=B.cb.Ah(O,k,T);var L=E.I();if(D.Pa(),!B.cb.Xc(k)||L!=O.I())return!1;var F=new B.l;E.A(F);var V=new B.l;if(O.A(V),F=F.S(),V=V.S(),0!=F&&0!=V){if(V/=F,k=B.cb.hh(T).S()/B.cb.hh(k).S(),1e-10<Math.abs(V/k-1))return!1}else if(0!=F||0!=V)return!1;for(D.add(E,!1),E=0;E<L;E++)k=O.Oa(E),D.Db(E,k);return!0},$.Jz=function(){throw B.i.Fe()},$}()}(st||(st={})),function(B){var Be,$,k,T;($=Be=B.ti||(B.ti={}))[$.Clip=0]="Clip",$[$.DontClip=1]="DontClip",$[$.PannableFold=2]="PannableFold",(T=k=B.OK||(B.OK={}))[T.Geodesic=0]="Geodesic",T[T.Loxodrome=1]="Loxodrome",T[T.GreatElliptic=2]="GreatElliptic",T[T.NormalSection=3]="NormalSection",T[T.ShapePreserving=4]="ShapePreserving",B.Ab=function(){function T(){}return T.yv=function(E,D,O){if(O||0<D){for(E=E.toString(B.Tc.PE_STR_NAME_CANON|B.Tc.PE_STR_AUTH_NONE),D=[],O=0;O<E.length;O++)D[O]="a"<=E[O]&&"z">=E[O]?D[O]=E[O].toUpperCase():E[O];return D.join()}return E.toString(B.Tc.PE_STR_AUTH_TOP)},T.wr=function(E,D,O,L){var F=L.length,V=O.I();if(0!=V){var W=O.vb(0),X=Math.min(V,F),ie=0,Y=E.fh();isNaN(D)&&(D=0);for(var te=E.Xc(),ne=179*(E=te?E.tc().Le().S():0)/360;0<V;){if(W.oB(ie<<1,X,L),B.fj.projToGeogCenter(Y,X,L,D),te)for(var we=0;we<X;we++){var ze=L[we][0]-D,_t=B.mc.sign(ze),Mt=W.read(2*(ie+we));0>_t*B.mc.sign(Mt)&&Math.abs(ze)>ne&&(L[we][0]+=-_t*E)}W.nC(ie<<1,X,L),ie+=X,V-=X,X=Math.min(V,F)}O.Qc(1993)}},T.AL=function(E,D,O,L){var F=0,V=E.fh();isNaN(F)&&(F=0);var W=E.Xc(),X=E.bf();E=360*X,X*=179;for(var ie=L.length,Y=0;Y<O;){for(var te=Y;te<O&&D[te].isNaN();++te)Y++;var ne=Math.min(ie,O-Y);if(0<ne){te=1;for(var we=Y+1;te<ne;++te,++we)if(D[we].isNaN()){ne=te;break}if(B.ta.Dy(L,D,Y,ne),B.fj.projToGeogCenter(V,ne,L,F),W)for(te=0,we=Y;te<ne;++te,++we){var ze=D[we].x,_t=L[te][0]-F,Mt=B.mc.sign(_t);0>Mt*B.mc.sign(ze)&&Math.abs(_t)>X&&(L[te][0]-=Mt*E)}B.ta.Cy(D,Y,L,ne),Y+=ne}}},T.Jx=function(E,D,O){var L=O.length,F=D.I();if(!(1>F)){var V=D.vb(0),W=Math.min(F,L),X=0,ie=E.fh(),Y=E.Xc(),te=Y?E.Le().S():0,ne=179*te/360,we=0;for(Y&&(we=E.Ai());0<F;){if(V.oB(X<<1,W,O),B.fj.geogToProj(ie,W,O),Y)for(E=0;E<W;E++){var ze=O[E][0],_t=B.mc.sign(ze),Mt=V.read(2*(X+E))-we;0>_t*B.mc.sign(Mt)&&Math.abs(ze)>ne&&(O[E][0]+=-_t*te)}V.nC(X<<1,W,O),X+=W,F-=W,W=Math.min(F,L)}D.Qc(1993)}},T.zL=function(E,D,O,L){if(0!=O){var F=E.fh(),V=E.Xc(),W=V?E.Le().S():0,X=179*W/360,ie=0;for(V&&(ie=E.Ai()),E=0;E<O;){for(var Y=E;Y<O&&D[Y].isNaN();++Y)E++;var te=Math.min(L.length,O-E);if(0<te){Y=1;for(var ne=E+1;Y<te;++Y,++ne)if(D[ne].isNaN()){te=Y;break}if(B.ta.Dy(L,D,E,te),B.fj.geogToProj(F,te,L),V)for(Y=0,ne=E;Y<te;Y++){var we=L[Y][0],ze=B.mc.sign(we);0>ze*B.mc.sign(D[ne].x-ie)&&Math.abs(we)>X&&(L[Y][0]-=ze*W)}B.ta.Cy(D,E,L,te),E+=te}}}},T.vr=function(E,D,O,L){var F=D.I();if(0!=F){var V=D.vb(0),W=E.ef,X=E.Zf,ie=W.tc().Sp(),Y=X.tc().Sp(),te=W.bf(),ne=X.bf();if(null==(E=E.Xf)||0==E.count()){for(O=ie/Y,L=(W.Wp()-X.Wp())*ne,Y=-90*te,E=90*te,ie=!1,ne=1,W=2*F;ne<W;)te=V.get(ne),(X=B.P.Rk(te,Y,E))!=te&&(V.set(ne,X),ie=!0),ne+=2;if(0!=L||1!=O)for(ie=!0,Y=new B.h,ne=0;ne<F;ne++)V.uc(2*ne,Y),Y.x*=O,Y.x+=L,Y.y*=O,V.Ut(2*ne,Y);ie&&D.Qc(1993)}else{W=L.length,X=Math.min(F,W);var we=B.P.lg(X),ze=null,_t=0,Mt=NaN,pe=NaN,Ge=360*ne,it=ne/te;O&&(pe=90*ne,Mt=89.9*te,ze=B.P.lg(X));for(var ht=!0,mt=0;0!=F;){for(te=!1,V.oB(_t<<1,X,L),ne=0;ne<X;ne++)we[ne]=L[ne][0];if(O)for(ne=0;ne<X;ne++){var yt=Math.abs(L[ne][1])-Mt;0<yt&&(L[ne][1]=B.mc.Dn(Mt,te=L[ne][1]),ze[ne]=B.mc.Dn(yt,te),te=!0)}for(ne=L[0][0],E.transform(L,X,ie,Y),ht&&(mt=L[0][0]-it*ne,ht=!1),ne=0;ne<X;ne++)yt=L[ne][0]-we[ne]*it-mt,200<Math.abs(yt)&&(L[ne][0]=0<yt?L[ne][0]-Ge:L[ne][0]+Ge);if(te){for(ne=0;ne<X;ne++)0!=ze[ne]&&(L[ne][1]+=it*ze[ne],L[ne][1]>pe?L[ne][1]=pe:L[ne][1]<-pe&&(L[ne][1]=-pe));for(te=0;te<X;te++)ze[te]=0}V.nC(_t<<1,X,L),_t+=X,F-=X,X=Math.min(F,W)}D.Qc(1993)}}},T.yL=function(E,D,O,L){if(E.nw)L=90*E.ef.bf(),B.ta.WJ(D,O,-L,L);else{var F=E.Xf,V=E.ef,W=E.Zf;E=V.Yr();var X=W.Yr(),ie=V.bf(),Y=90*ie,te=W.bf();if(null==F||0==F.count()){if(L=E/X,F=(V.Wp()-W.Wp())*te,B.ta.WJ(D,O,-Y,Y),0!=F||1!=L)for(te=0;te<O;te++)D[te].x*=L,D[te].x+=F,D[te].y*=L}else{V=Math.min(O,L.length),Y=B.P.lg(V),W=360*te,ie=te/ie;for(var ne=!0,we=0,ze=0;0!=O;){for(te=0;te<V;te++)Y[te]=D[te+ze].x;for(te=D[0].x,B.ta.Dy(L,D,ze,V),F.transform(L,V,E,X),B.ta.Cy(D,ze,L,V),ne&&(we=D[0].x-ie*te,ne=!1),te=0;te<V;te++){var _t=D[ze+te].x-Y[te]*ie-we;200<Math.abs(_t)&&(D[ze+te].x=0<_t?D[ze+te].x-W:D[ze+te].x+W)}ze+=V,O-=V,V=Math.min(O,L.length)}}}},T.ev=function(E,D){return E=E.hh(),isNaN(D)||E.Ku(D,0),E},T.MQ=function(E,D,O,L,F,V,W,X){for(var ie=T.ev(L,F),Y=ie.S(),te=Y/360,ne=T.hE*te,we=E.vb(0),ze=D.Xc(),_t=ze?Y/D.Le().S():0,Mt=!1,pe=new B.Ea(O.description),Ge=0,it=O.ea();Ge<it;++Ge){var ht=ze,mt=new B.Ua(O.description);if(mt.addPath(O,Ge,!0),0!=W){var yt=T.GD(!0,mt,ie.H-X,ie.H,W);(Mt=Mt||yt)&&(ht=!1)}var Ot=-1;ht&&(Ot=E.Ca(Ge));var St=mt.vb(0),Tt=mt.I(),_i=0,mi=St.read(0),Ui=0;yt=3*L.Yd(0);var Ft=!1,ti=new B.h;ti.Sc();var ui=new B.h;ui.Sc();for(var vi=!1,Di=1;Di<Tt;++Di){var Oi=B.h.construct(St.Bg(2*Di),St.Bg(2*Di+1)),Vi=Oi.x,Zi=Vi+_i,nn=Zi-mi;if(Oi.x=Zi,Math.abs(nn)>ne){if(ht){var Tn=Ot+(Di+1<Tt?Di:0),bn=we.read(2*(Ot+Di-1));Tn=(we.read(2*Tn)-bn)*_t,Math.abs(nn-Tn)>1*te&&(ht=!1)}ht||(Zi=Vi+(_i-=B.mc.Dn(Y,Zi-mi)),++Ui,vi=0!=_i,Oi.x=Zi)}else Ft||B.ta.sG(ui,ti,Oi,yt)&&(Ft=!0);vi&&St.write(2*Di,Zi),mi=Zi,ui.N(ti),ti.N(Oi)}0<Ui&&mt.Qc(1993),ht=mt.Oa(0),Tt=mt.Oa(Tt-1),mt=B.h.ub(ht,Tt)<yt?T.mQ(mt,L,F,V,Ft):T.nQ(E,Ge,mt,L,F),pe.add(mt,!1)}return F=L.Yd(0),O=ie.S()/180,T.Kt(pe,ie,.1*F,!1),pe=pe!=(F=B.si.clip(pe,ie,F,O,V)),E=E.He(),W=0,0<(X=F.He())&&0>E?W=1:0>=X&&0<E&&(0==X?(X=NaN,2==D.Tb()?X=D.ol().He():1==D.Tb()&&(X=D.Le().oF()),E>.99*X&&(W=-1)):W=-1),0!=W&&((D=new B.Ea(F.description)).vp(ie),(D=B.Zl.local().W(D,O,V)).add(F,!1),pe=!0,F=D),pe&&(F=B.$l.local().W(F,L,!1,V)),F},T.nQ=function(E,D,O,L,F){var V=O.I(),W=O.Oa(0),X=O.Oa(V-1);F=(L=T.ev(L,F)).S(),W=B.mc.sign(X.x-W.x);var ie=new B.l;O.yc(ie);var Y=L.gk();if(X=Y-F,Y+=F,0<=W){var te=Math.ceil((X-ie.v)/F);for(te*=F;X>ie.v+te;)te+=F;for(;X<ie.C+te;)te-=F;var ne=te;720<ie.S()&&(Y=X+360*Math.ceil(ie.S()/360))}else{for(te=Math.ceil((Y-ie.C)/F),te*=F;Y<ie.C+te;)te-=F;for(;Y>ie.v+te;)te+=F;ne=te,720<ie.S()&&(X=Y-360*Math.ceil(ie.S()/360))}te=W*F;var we=B.l.construct(ie.v,ie.G,ie.C,ie.H);we.move(ne,0);var ze=new B.Ed;ze.gg(ne,0),O.Pc(ze),(ie=new B.Ua(O.description)).add(O,!1),ne=O.Oa(V-1),F=0;for(var _t=ie.Oa(0).x;0<W?we.C<Y:we.v>X;)we.move(te,0),ze.Lb=te,O.Pc(ze),L.v<=(_t+=te)&&L.C>=_t&&(F=ie.I()-1),O.Db(0,ne),ne=O.Oa(V-1),ie.Fr(O,0,0,V-1,!1);return O=new B.Ea(ie.description),V=0<E.Kr(D),O.add(ie,!1),E=ie.Oa(0),X=ie.Oa(ie.I()-1),D=O.ea()-1,(0>W?V:!V)?(W=B.h.construct(X.x,L.H),O.Di(W),W=B.h.construct(L.gk(),L.H),O.Di(W),L=B.h.construct(E.x,L.H)):(W=B.h.construct(X.x,L.G),O.Di(W),W=B.h.construct(L.gk(),L.G),O.Di(W),L=B.h.construct(E.x,L.G)),O.Di(L),O.pG(0,D,0),O.cO(F),O},T.mQ=function(E,D,O,L,F){var V=new B.Ea(E.description);V.add(E,!1),V.xB(0,V.I()-1);var W=new B.l;V.yc(W);var X=(O=T.ev(D,O)).S(),ie=Math.ceil((O.v-W.v)/X);for(ie*=X;O.v>W.v+ie;)ie+=X;for(;O.v<W.C+ie;)ie-=X;if(0!=(ie+=X)){W.move(ie,0);var Y=new B.Ed;Y.gg(ie,0),V.Pc(Y)}if(O.v<=W.v&&O.C>W.C)return F&&(F=V.He(),D=(V=B.$l.local().W(V,D,!0,L)).He(),(D=B.mc.sign(F)!=B.mc.sign(D))&&V.gJ()),V;for((E=new B.Ea(E.description)).add(V,!1),F=F||W.S()>X-D.Yd(0);W.v<O.C;)W.move(X,0),(Y=new B.Ed).gg(X,0),V.Pc(Y),E.add(V,!1);return F&&(F=E.He(),E.Zo(1),D=(E=B.$l.local().W(E,D,!0,L)).He(),(D=B.mc.sign(F)!=B.mc.sign(D))&&E.gJ()),E},T.GD=function(E,D,O,L,F){for(var V=D.vb(0),W=D.I(),X=!1,ie=0;ie<W;ie++){var Y=B.h.construct(V.Bg(2*ie),V.Bg(2*ie+1));if(0!=(1&F)&&Y.y>=O){X=!0;break}if(0!=(2&F)&&Y.y<=-O){X=!0;break}}if(!X)return!1;V=!1,E&&(V=D.On(0)),W=(E=new B.hd).Ib(D),X=E.Ob(W);var te=-1,ne=!0,we=new B.h;we.Sc(),ie=new B.Ta;for(var ze=-1,_t=E.Ya(X);-1!=_t;_t=E.V(_t)){Y=E.Oa(_t);var Mt=0!=(1&F)&&90<=Y.y?1:0;if(Mt|=0!=(2&F)&&Y.y<=-O?2:0,0<te&&te!=Mt){if(we.x!=Y.x){we.x=Y.x,E.Wi(E.Na(_t),ie);var pe=E.xj(X,_t,ie);E.mf(pe,we)}if(V)for(ze=-1!=ze?E.V(ze):E.Ya(X),pe=E.Na(_t);ze!=pe;)ze=E.pd(ze,!1);ze=-1}0<Mt&&(Y.y=B.mc.Dn(L,Y.y),E.mf(_t,Y),ne||te==Mt||(Y.x!=we.x?(E.Wi(_t,ie),pe=E.xj(X,_t,ie),E.Db(pe,we.x,Y.y),ze=pe):ze=_t)),te=Mt,we=Y,ne=!1}if(V){if(-1!=ze)for(ze=E.V(ze);-1!=ze;)ze=E.pd(ze,!1);O=E.Ya(X),E.hq(O,E.sj(X))||(E.Wi(O,ie),E.xj(X,-1,ie))}return E.Ke(W).copyTo(D),!0},T.Hz=function(E,D,O,L){var F=E;if(F.B()||O==Be.DontClip)return F;var V=F.K();if(33==V)return F=[(L=F).D()],T.qG(F,1,D,O),F[0].isNaN()?L.Pa():L.Db(F[0]),E;var W=(E=D.tc()).bf(),X=90*W,ie=180*W,Y=360*W,te=D.Ai(),ne=.5*W,we=new B.l;F.A(we);var ze=D.Wr(),_t=D.HQ(),Mt=197==ze.K();if(D=new B.l,ze.A(D),O==Be.PannableFold&&(O=E.Le().S(),D.v=te-.5*O,D.C=D.v+O),we.G<-X||we.H>X){if((new B.l).L(we.v-W,-X,we.C+W,X),(F=B.si.Pu(F,D,E,NaN,0,L)).B())return F;F.A(we)}if(_t&&(D.H<we.G||D.G>we.H))return F.Ja();if(we.S()>Y&&(F=T.Jp(F,te-ie,Y,E,!0,0,!0,L)).A(we),0!=(X=T.XN(we.v,we.C,D.v,D.C,Y))&&we.move(X,0),we.C>D.C||we.v<D.v){if(we.C>D.C)for(;we.v>=D.C;)we.move(-Y,0),X-=Y;for(;we.v<D.C-Y;)we.move(Y,0),X+=Y}if(O=B.ta.Iu(E,ze),0!=X&&((W=new B.Ed).gg(X,0),F.Pc(W)),_t){if(Mt&&D.contains(we))return F;for(_t=[null,null],X=0;2>X;X++){if(Mt?W=B.ba.Ic(V)?B.si.clip(F,D,O,ne,L):B.si.clip(F,D,O,0,L):(W=B.Wk.local().W(F,ze,E,L))==ze&&(W=B.ba.ig(W)),D.v<=we.v&&D.C>=we.C||D.v>=we.v&&D.C<=we.C)return W;_t[X]=W,0==X&&(we.move(-Y,0),(W=new B.Ed).gg(-Y,0),F.Pc(W))}if(550==V)_t[0].Gd(_t[1],0,-1);else if(B.ba.Ic(V))_t[0].add(_t[1],!1);else{if(33!=V)throw B.i.ga("intersect_with_GCS_horizon: unexpected geometry type");_t[0].B()&&(_t[0]=_t[1])}return _t[0]}if(D.H<we.G||D.G>we.H)return F;for(V=0;!F.B()&&we.C>D.v;)0!=V&&((W=new B.Ed).gg(V,0),F.Pc(W)),B.ej.local().W(4,F,ze,E,L)||ze==(F=B.lp.local().W(F,ze,E,L))&&(F=B.ba.ig(F)),0!=V&&((ne=new B.Ed).gg(-V,0),F.Pc(ne)),V-=Y,we.move(-Y,0);return F},T.qG=function(E,D,O,L){if(0!=D&&L!=Be.DontClip)if(L==Be.PannableFold){L=O.zR();for(var F=D,V=0;V<D;V++)(E[V].y>L.H||E[V].y<L.G)&&(E[V].Sc(),F--);0!=F&&T.bv(E,D,L.v,L.S())}else{var W=90*(L=O.bf()),X=180*L;for(L*=360,F=D,V=0;V<D;V++)(E[V].y>W||E[V].y<-W)&&(E[V].Sc(),F--);if(0!=F){(F=new B.l).ax(E,D),W=O.Wr();var ie=O.jv();V=197==W.K();var Y=new B.l;if(W.A(Y),!ie||!(Y.H<F.G||Y.G>F.H))if(ie)if(T.bv(E,D,Y.gk()-X,L),F=D,V)for(V=0;V<D;V++)Y.contains(E[V])||(E[V].Sc(),F--);else for(O=B.ta.Iu(O.tc(),W),V=0;V<D;V++)(X=0!=B.jd.Zd(W,E[V],O))||(E[V].Sc(),F--);else for(T.bv(E,D,-X,L),F=D,O=B.ta.Iu(O.tc(),W),V=0;V<D;V++)(X=E[V]).isNaN()&&F--,ie=T.lE(X.x,Y.v,Y.C,L),X.x+=ie,(X=0!=B.jd.Zd(W,X,O))&&(E[V].Sc(),F--)}}},T.Jp=function(E,D,O,L,F,V,W,X){var ie=E.K(),Y=D+O;if(33===ie){var te=(L=F?E:E.Pf()).Mg();return(te<D||te>=Y||W&&te==Y)&&(te+=Math.ceil((D-te)/O)*O,te=B.P.Rk(te,D,Y),L.WB(te)),L}if(E.B()||(te=new B.l,E.A(te),te.B()))return E;var ne=new B.Oc;te.en(ne);var we=new B.Oc;if(we.L(D,Y),we.contains(ne))return E;if((Y=new B.l).L(te),550===ie){for(X=(L=F?E:E.Pf()).vb(0),ie=2*L.I(),Y=!1,D=0;D<ie;D+=2)((te=X.read(D))<we.pa||te>=we.wa||W&&te==we.wa)&&(Y=!0,te+=Math.ceil((we.pa-te)/O)*O,te=we.Jt(te),X.write(D,te));return Y&&L.Qc(1993),L}if(197==ie)return O=F?E:E.Pf(),te.Fa(Y),O.Yo(te),O;var ze=.1*Math.max(te.da(),te.S());for(Y.X(0,ze),W=E,we=L.Yd(0),E=B.Hh.local(),F=new B.Ed;;){var _t=Math.floor((ne.pa-D)/O),Mt=Math.ceil((ne.wa-D)/O);if(!(3<Mt-_t))break;_t=Math.floor(.5*(Mt+_t)),Y.v=te.v-ze,Y.C=D+O*_t;var pe=B.si.clip(W,Y,we,V,X);Y.v=Y.C,Y.C=te.C+ze;var Ge=B.si.clip(W,Y,we,V,X);F.gg((_t-Mt)*O,0),Ge.Pc(F),1736==ie?W=E.W(pe,Ge,L,null):(W=pe).add(Ge,!1),W.A(te),te.en(ne)}for(Y.v=D,Y.C=D+O,(D=new B.l).L(Y),D.X(we,0),0!=(D=Math.floor((te.v-Y.v)/O)*O)?(Y.move(D,0),F.gg(-D,0)):F.KB(),D=1607==ie?new B.Ua(W.description):new B.Ea(W.description),V=new B.l,ne=new B.l;te.C>Y.v;)(ze=B.si.clip(W,Y,we,0,X)).A(ne),(1607==ie?!ze.B()&&(ne.S()>we||ne.da()>we):!ze.B()&&(1736!=ie||ne.S()>we))&&(ze.Pc(F),ze.A(ne),D.A(V),V.X(we,we),V.isIntersecting(ne)&&1736==ie?D=E.W(D,ze,L,null):D.add(ze,!1)),Y.move(O,0),F.shift(-O,0);return D},T.bv=function(E,D,O,L){for(var F=O+L,V=0;V<D;V++){var W=E[V].x;O<=W&&W<F||!(W<O||W>F||W==F)||(W+=Math.ceil((O-W)/L)*L,W=B.P.Rk(W,O,F),E[V].x=W)}},T.Gn=function(E,D,O,L,F,V){if(!D.Xc())throw B.i.ga("fold_into_360_degree_range");if(E.B())return E;if(2==D.Tb()){O=D.qv();var W=D.pv()-O}else{var X=D.bf();W=360*X,O-=180*X}return T.Jp(E,O,W,D,L,F,!0,V)},T.iF=function(E,D,O,L){if(2==O.Tb())L=O.qv(),O=O.pv()-L;else{var F=O.bf();O=360*F,L-=180*F}T.bv(E,D,L,O)},T.mj=function(E,D){var O=D.Le();if(33==E.K()){var L=E.jh();return O.G<=L&&L<=O.H?E:E.Ja()}L=new B.l,E.A(L);var F=new B.l;return F.L(O),F.v=L.v,F.C=L.C,F.X(.01*F.da(),0),O=B.ta.oy(D,L),F.contains(L)?E:B.si.clip(E,F,O,0,null)},T.kr=function(E,D,O){return E>D.C&&E-D.C<O?D.C:E<D.v&&D.v-E<O?D.v:E},T.tX=function(E,D,O,L){L.x=T.kr(E.x,D,O),L.y=E.y},T.sX=function(E,D,O,L){for(var F=0;F<D;F++)E[F].y<O.G||E[F].y>O.H?E[F].Sc():E[F].x=T.kr(E[F].x,O,L)},T.Kt=function(E,D,O,L){if(!E.B()){var F=E.K();if(!L||1736!=F)if(B.ba.yj(F)){L=E.vb(0),F=0;for(var V=E.I();F<V;F++){var W=L.read(2*F),X=T.kr(W,D,O);X!=W&&L.write(2*F,X)}E.Qc(1993)}else if(197==F)L=new B.l,E.A(L),L.v=T.kr(L.v,D,O),L.C=T.kr(L.C,D,O),E.Yo(L);else{if(33!=F)throw B.i.ga("internal error");E.WB(T.kr(E.Mg(),D,O))}}},T.lS=function(E,D,O,L){var F=new B.hd,V=F.Ib(E);return E=B.ta.Iu(D,E),T.ls(F,V,D,E,O,!0,L),F.Ke(V)},T.ls=function(E,D,O,L,F,V,W){if(!O.Xc())throw B.i.O("invalid call");var X=O.Le(),ie=O.tc(),Y=ie.fh().getDatum().getSpheroid();ie=ie.Id().bi;var te=Y.getFlattening();Y=Y.getAxis(),te*=2-te;var ne=new B.Oc;X.en(ne);var we=null,ze=[[0,0],[0,0]];if(2==O.Tb()?(we=O.fh(),V?(ze[0][0]=T.an(W,ne),ze[0][1]=X.Lp(),B.fj.projToGeog(we,1,ze),X=ze[0][0]*ie):(ze[0][0]=X.gk(),ze[0][1]=W,B.fj.projToGeog(we,1,ze),X=ze[0][1]*ie)):X=W*ie,!V&&0!=X&&F!=k.GreatElliptic)throw B.i.ga("invalid argument");var _t=new B.ha,Mt=[0],pe=new B.h,Ge=new B.h,it=new B.h,ht=[null,null],mt=new B.h,yt=new B.h,Ot=new B.h,St=new B.h;for(D=E.Ob(D);-1!=D;D=E.Sb(D)){var Tt=E.Ya(D);E.D(Tt,mt);for(var _i=!1,mi=Tt=E.V(Tt);-1!=mi;mi=E.V(mi)){if(mi==Tt){if(_i)break;_i=!0}if(E.D(mi,yt),V&&(L<W-mt.x&&yt.x-W>L||L<W-yt.x&&mt.x-W>L)||!V&&(0!=W||L<-mt.y&&yt.y>L||L<-yt.y&&mt.y>L))do{if(!(Math.abs(mt.x-yt.x)>=.5*ne.S())){if(2==O.Tb()?(ze[0][0]=T.an(mt.x,ne),ze[0][1]=mt.y,ze[1][0]=T.an(yt.x,ne),ze[1][1]=yt.y,B.fj.projToGeogCenter(we,2,ze,0),Ot.x=ze[0][0]*ie,Ot.y=ze[0][1]*ie,St.y=ze[1][1]*ie):(Ot.x=mt.x*ie,Ot.y=mt.y*ie,St.y=yt.y*ie),St.x=2*(yt.x-mt.x)*Math.PI/ne.S()+Ot.x,V){if(Ge.x=X,Ge.y=T.Iz(Y,te,Ot,St,X,F),isNaN(Ge.y))break;ht[0]=Ge;var Ui=1}else if(F==k.GreatElliptic){var Ft=[0,0];if(0==(Ui=B.Mx.Jz(te,Ot,St,X,Ft)))break;Ge.x=Ft[0],Ge.y=X,ht[0]=Ge,2==Ui&&(it.x=Ft[1],it.y=X,ht[1]=it)}else{if(Ge.x=T.Gz(Y,te,Ot,St,F),isNaN(Ge.x))break;Ge.y=0,ht[0]=Ge,Ui=1}var ti=-1;for(Ft=0;Ft<Ui;Ft++){B.kb.xd(Y,te,Ot.x,Ot.y,St.x,St.y,_t,null,null,F);var ui=_t.u;B.kb.xd(Y,te,Ot.x,Ot.y,ht[Ft].x,ht[Ft].y,_t,null,null,F);var vi=_t.u;if(2==O.Tb()?(ze[0][0]=ht[Ft].x/ie,ze[0][1]=ht[Ft].y/ie,B.fj.geogToProj(we,1,ze),V?(pe.y=ze[0][1],pe.x=W):(pe.x=T.ps(ze[0][0],mt.x,yt.x,ne),pe.y=W)):V?(pe.x=W,pe.y=ht[Ft].y/ie):(pe.x=T.ps(ht[Ft].x/ie,mt.x,yt.x,ne),pe.y=W),Mt[0]=0<ui?B.P.Rk(vi/ui,0,1):.5,0==Mt[0]||1==Mt[0])break;ti>Mt[0]||(ti=E.Na(mi),E.Wl(ti,Mt,1),E.Db(E.V(ti),pe.x,pe.y),ti=Mt[0])}}}while(0);mt.N(yt)}}},T.an=function(E,D){var O=D.wa-D.pa;return D.Jt(E-Math.floor((E-D.pa)/O)*O)},T.ps=function(E,D,O,L){var F=new B.Oc;for(F.L(D,O),O=L.S(),E=Math.floor((E-D)/O)*O+E,F=F.tf();Math.abs(E-F)>Math.abs(E+O-F);)E+=O;return E},T.Tn=function(E,D,O){return E=B.sr.Ep(E),D=B.sr.lx(E,B.sr.Ep(D)),0==(O=B.sr.lx(E,B.sr.Ep(O)))||0<D&&0<O&&O<=D||0>D&&0>O&&O>=D},T.Iz=function(E,D,O,L,F,V){if(V==k.GreatElliptic)return B.Mx.IS(D,O,L,F);if(Math.abs(O.x-L.x)>=Math.PI||!T.Tn(O.x,L.x,F))return NaN;if(O.x>L.x)var W=L;else W=O,O=L;L=new B.ha;var X=new B.ha,ie=new B.ha;B.kb.xd(E,D,W.x,W.y,O.x,O.y,X,L,null,V);var Y=X.u,te=0,ne=1,we=new B.h;for(we.N(W);Y*(ne-te)>1e-12*E;){var ze=.5*(te+ne);if(B.kb.pj(E,D,W.x,W.y,Y*ze,L.u,X,ie,V),we.x=X.u,we.y=ie.u,we.x==F)break;if(T.Tn(W.x,we.x,F))ne=ze;else{if(!T.Tn(O.x,we.x,F))return NaN;te=ze}}return we.y},T.Gz=function(E,D,O,L,F){if(F==k.GreatElliptic)return B.Mx.Jz(D,O,L,0,E=[0,0]),E[0];if(O.y>L.y)var V=L;else V=O,O=L;if((L=new B.Oc).L(V.y,O.y),!L.contains(0)||Math.abs(V.x-O.x)>=Math.PI)return NaN;if(V.x==O.x)return V.x;var W=new B.ha,X=new B.ha,ie=new B.ha;B.kb.xd(E,D,V.x,V.y,O.x,O.y,X,W,null,F);var Y=X.u,te=0,ne=1,we=new B.h;for(we.N(V);Y*(ne-te)>1e-12*E;){var ze=.5*(te+ne);if(B.kb.pj(E,D,V.x,V.y,Y*ze,W.u,X,ie,F),we.x=X.u,we.y=ie.u,L.L(V.y,we.y),0==we.y)break;if(L.contains(0))ne=ze;else{if(L.L(O.y,we.y),!L.contains(0))return NaN;te=ze}}return we.x},T.NI=function(E,D,O,L){if(!E.ef.Xc())return!1;var F=new B.de(D.description);if(F.Gd(D,0,-1),L=B.Fx.local().W(F,E,L),F=D.I(),O.Pa(),F!=L.I())return!1;var V=new B.l;D.A(V);var W=new B.l;if(L.A(W),V=V.S(),W=W.S(),0!=V&&0!=W){if(W/=V,E=E.Zf.hh().S()/E.ef.hh().S(),1e-10<Math.abs(W/E-1))return!1}else if(0!=V||0!=W)return!1;for(O.add(D,!1),D=new B.h,E=0;E<F;E++)L.D(E,D),O.Db(E,D);return!0},T.iN=function(E,D){return(E%=360*D)>=180*D&&(E-=360*D),E},T.LI=function(E,D,O,L){if(O==Be.Clip){var F=D.ol();197==F.K()?(O=new B.l,F.A(O),F=B.ta.oy(D,O),E=B.si.clip(E,O,F,5e4*D.rm(),L)):B.ej.local().W(1,F,E,D,L)||(E=B.Wk.local().W(E,F,D,L))==F&&(E=B.Vk.ig(E))}else D.Xc()&&(L=new B.l,E.yc(L),D.Le().contains(L)||(T.Kt(E,D.Le(),D.Yd(0),!0),O==Be.PannableFold&&(E=T.mj(E,D)),E=T.Gn(E,D,0,!0,1e5*D.rm(),null)));return E},T.PD=function(E,D,O){var L=D.Xr();if(null==L)return E;var F=(D=D.tc()).Le().S(),V=new B.l;E.yc(V);var W=new B.Oc;V.en(W),V=L.Ha(),L=null;for(var X=new B.Ed;V.ab();)for(;V.Ia();){var ie=V.ia(),Y=ie.Ug(0,0),te=new B.Oc;for(te.L(Y.pa,Y.wa),Y=0;te.wa>W.pa;)te.move(-F),--Y;for(;te.pa<=W.wa;){if(te.isIntersecting(W)){null==L&&(L=new B.Ua);var ne=B.zb.VO(ie.ac(),ie.xc());0!=Y&&(X.gg(Y*F,0),ne.Pc(X)),L.oc(ne,!0)}te.move(F),++Y}}return null!=L?(D=B.ta.ZN(D,L),D=B.ta.Gr(D),B.au.dP(E,L,D,O)):E},T.XN=function(E,D,O,L,F){return E>=O&&D<=L?0:T.lE(.5*(D+E),O,L,F)},T.lE=function(E,D,O,L){return B.mc.round((.5*(O+D)-E)/L)*L},T.NQ=function(E,D,O,L,F,V,W,X){var ie=T.ev(L,F),Y=ie.S(),te=Y/360,ne=T.hE*te,we=E.vb(0),ze=D.Xc(),_t=ze?Y/D.Le().S():0;D=E.Ja();for(var Mt=0,pe=O.ea();Mt<pe;++Mt){var Ge=ze,it=new B.Ua(O.description);it.addPath(O,Mt,!0);var ht=O.ec(Mt);0!=W&&(ht=T.GD(ht,it,ie.H-X,ie.H,W))&&(Ge=!1);var mt=-1;ht=it.I();var yt=!1;Ge&&(mt=E.Ca(Mt),yt=E.ec(Mt));var Ot=it.vb(0),St=0,Tt=Ot.read(0),_i=0,mi=3*L.Yd(0),Ui=!1,Ft=new B.h;Ft.Sc();var ti=new B.h;ti.Sc();for(var ui=!1,vi=1;vi<ht;++vi){var Di=B.h.construct(Ot.Bg(2*vi),Ot.Bg(2*vi+1)),Oi=Di.x,Vi=Oi+St,Zi=Vi-Tt;if(Di.x=Vi,Math.abs(Zi)>ne){if(Ge){var nn=mt+vi-1,Tn=mt;(!yt||vi+1<ht)&&(Tn+=vi),nn=we.read(2*nn),Tn=(we.read(2*Tn)-nn)*_t,Math.abs(Zi-Tn)>1*te&&(ze=!1)}Ge||(Vi=Oi+(St-=B.mc.Dn(Y,Vi-Tt)),++_i,ui=0!=St,Di.x=Vi)}else Ui||B.ta.sG(Ft,ti,Di,mi)&&(Ui=!0);ui&&Ot.write(2*vi,Vi),Tt=Vi,Ft.N(ti),ti.N(Di)}0!=_i&&it.Qc(1993),Ge=it.Oa(0),ht=it.Oa(ht-1),B.h.ub(Ge,ht),it=T.oQ(it,L,isNaN(F)?0:F,V),D.add(it,!1)}return E=L.Yd(0),O=ie.S()/180,T.Kt(D,ie,.1*E,!1),B.si.clip(D,ie,E,O,V)},T.oQ=function(E,D,O,L){return T.Gn(E,D,O,!0,0,L)},T.FS=function(E,D,O,L){var F=E.K();if(1736==F)for(D=null!=D?D.Yd(0):0,F=0;F<L;F++)1!=B.jd.Zd(E,O[F],D)&&O[F].Sc();else{if(197!=F)throw B.i.O();for(F=0;F<L;F++)E.WO(O[F])||O[F].Sc()}},T.al=function(E,D,O,L){if(32>O)for(var F=new B.Ta,V=0;V<O;V++)F.Db(D[V]),E.al(F,L).D(D[V]);else{var W=new B.de;for(W.se(3),W.zD(D,O),F=W.vb(3),V=0;V<O;V++)F.write(V,V);for(V=E.al(W,L),E=V.vb(0),F=V.vb(3),L=B.h.construct(NaN,NaN),W=0;W<O;W++)D[W]=L;for(O=V.I(),V=0;V<O;V++)L=F.read(V),E.uc(2*V,D[L])}},T.$k=function(E,D,O,L){if(32>O)for(var F=new B.Ta,V=0;V<O;V++)F.Db(D[V]),E.$k(F,L).D(D[V]);else{var W=new B.de;for(W.se(3),W.zD(D,O),F=W.vb(3),V=0;V<O;V++)F.write(V,V);for(V=E.$k(W,L),E=V.vb(0),F=V.vb(3),L=B.h.construct(NaN,NaN),W=0;W<O;W++)D[W]=L;for(O=V.I(),V=0;V<O;V++)L=F.read(V),E.uc(2*V,D[L])}},T.hE=210,T}()}(st||(st={})),function(B){var Be;(Be=B.ML||(B.ML={}))[Be.rightSide=1]="rightSide";var $=function(){function k(T,E,D){this.Cs=new B.h,void 0===T?this.Jo=-1:(this.Cs.N(T),this.Jo=E,this.La=D,this.ow=0)}return k.prototype.OJ=function(T){this.ow=T?1|this.ow:-2&this.ow},k.prototype.B=function(){return 0>this.Jo},k.prototype.az=function(){if(this.B())throw B.i.ga("invalid call");return new B.Ta(this.Cs.x,this.Cs.y)},k.prototype.Va=function(){if(this.B())throw B.i.ga("invalid call");return this.Jo},k.prototype.cz=function(){if(this.B())throw B.i.ga("invalid call");return this.La},k.prototype.Nz=function(){return 0!=(1&this.ow)},k.prototype.ay=function(T,E,D,O){this.Cs.x=T,this.Cs.y=E,this.Jo=D,this.La=O},k}();B.bm=$}(st||(st={})),function(B){var Be=function(){function k(){}return k.prototype.Vo=function(T,E){this.uh.resize(0),this.Ji.length=0,this.tk=-1,T.yc(this.Ek),this.Ek.X(E,E),this.Ek.isIntersecting(this.Gb.Da)?((this.ws=B.ba.zd(T.K()))?(this.LH=T.ac(),this.KH=T.xc(),this.ra=E):this.ra=NaN,this.uh.add(this.Gb.kf),this.Ji.push(this.Gb.Da),this.Rs=this.Gb.Vr(this.Gb.kf)):this.Rs=-1},k.prototype.Yi=function(T,E){this.uh.resize(0),this.Ji.length=0,this.tk=-1,this.Ek.L(T),this.Ek.X(E,E),this.ra=NaN,this.Ek.isIntersecting(this.Gb.Da)?(this.uh.add(this.Gb.kf),this.Ji.push(this.Gb.Da),this.Rs=this.Gb.Vr(this.Gb.kf),this.ws=!1):this.Rs=-1},k.prototype.next=function(){if(0==this.uh.size)return-1;this.tk=this.Rs;var T=null,E=null,D=null,O=null;this.ws&&(T=new B.h,E=new B.h,D=new B.l);for(var L=!1;!L;){for(;-1!=this.tk;){var F=this.Gb.Xy(this.Gb.gv(this.tk));if(F.isIntersecting(this.Ek)){if(!this.ws){L=!0;break}if(T.N(this.LH),E.N(this.KH),D.L(F),D.X(this.ra,this.ra),0<D.ty(T,E)){L=!0;break}}this.tk=this.Gb.ov(this.tk)}if(-1==this.tk){F=this.uh.Gc();var V=this.Ji[this.Ji.length-1];for(null==O&&((O=[])[0]=new B.l,O[1]=new B.l,O[2]=new B.l,O[3]=new B.l),$.wJ(V,O),this.uh.Jf(),--this.Ji.length,V=0;4>V;V++){var W=this.Gb.Np(F,V);if(-1!=W&&0<this.Gb.NR(W)&&O[V].isIntersecting(this.Ek))if(this.ws){if(T.N(this.LH),E.N(this.KH),D.L(O[V]),D.X(this.ra,this.ra),0<D.ty(T,E)){var X=new B.l;X.L(O[V]),this.uh.add(W),this.Ji.push(X)}}else(X=new B.l).L(O[V]),this.uh.add(W),this.Ji.push(X)}if(0==this.uh.size)return-1;this.tk=this.Gb.Vr(this.uh.get(this.uh.size-1))}}return this.Rs=this.Gb.ov(this.tk),this.tk},k.UO=function(T,E,D){var O=new k;return O.Gb=T,O.Ek=new B.l,O.uh=new B.ja(0),O.Ji=[],O.Vo(E,D),O},k.TO=function(T,E,D){var O=new k;return O.Gb=T,O.Ek=new B.l,O.uh=new B.ja(0),O.Ji=[],O.Yi(E,D),O},k.SO=function(T){var E=new k;return E.Gb=T,E.Ek=new B.l,E.uh=new B.ja(0),E.Ji=[],E},k}();B.vY=Be;var $=function(){function k(T,E){this.jf=new B.ad(11),this.$h=new B.ad(5),this.xs=[],this.hw=new B.ja(0),this.Da=new B.l,this.Nk(T,E)}return k.prototype.reset=function(T,E){this.jf.nj(!1),this.$h.nj(!1),this.xs.length=0,this.hw.clear(!1),this.Nk(T,E)},k.prototype.wj=function(T,E){return this.Av(T,E,0,this.Da,this.kf,!1,-1)},k.prototype.Ez=function(T,E,D){D=-1==D?this.kf:this.OF(D);var O=this.da(D),L=this.gR(D);return this.Av(T,E,O,L,D,!1,-1)},k.prototype.ka=function(T){return this.bR(T)},k.prototype.yF=function(T){return this.Xy(this.gv(T))},k.prototype.da=function(T){return this.kv(T)},k.prototype.gR=function(T){var E=new B.l;E.L(this.Da);var D=this.kv(T);T=this.IF(T);for(var O=0;O<2*D;O+=2){var L=B.P.truncate(3&T>>O);0==L?(E.v=.5*(E.v+E.C),E.G=.5*(E.G+E.H)):1==L?(E.C=.5*(E.v+E.C),E.G=.5*(E.G+E.H)):(2==L?E.C=.5*(E.v+E.C):E.v=.5*(E.v+E.C),E.H=.5*(E.G+E.H))}return E},k.prototype.NR=function(T){return this.vz(T)},k.prototype.mR=function(T,E){return Be.UO(this,T,E)},k.prototype.EF=function(T,E){return Be.TO(this,T,E)},k.prototype.getIterator=function(){return Be.SO(this)},k.prototype.Nk=function(T,E){if(0>E||32<2*E)throw B.i.O("invalid height");this.rT=E,this.Da.L(T),this.kf=this.jf.De(),this.ix(this.kf,0),this.cx(this.kf,0),this.FJ(this.kf,0),this.CJ(this.kf,0)},k.prototype.Av=function(T,E,D,O,L,F,V){if(!O.contains(E))return 0==D?-1:this.Av(T,E,0,this.Da,this.kf,F,V);if(!F)for(var W=L;-1!=W;W=this.AR(W))this.ix(W,this.vz(W)+1);(W=new B.l).L(O),O=L;var X=[];for(X[0]=new B.l,X[1]=new B.l,X[2]=new B.l,X[3]=new B.l;D<this.rT&&this.aO(O);D++){k.wJ(W,X);for(var ie=!1,Y=0;4>Y;Y++)if(X[Y].contains(E)){ie=!0;var te=this.Np(O,Y);-1==te&&(te=this.jP(O,Y)),this.ix(te,this.vz(te)+1),O=te,W.L(X[Y]);break}if(!ie)break}return this.jS(T,E,D,W,O,F,L,V)},k.prototype.jS=function(T,E,D,O,L,F,V,W){var X=this.FF(L);if(F){if(L==V)return W;this.KP(W),F=W}else F=this.lP(),this.HB(F,T),this.zW(this.gv(F),E);return this.$W(F,L),-1!=X?(this.gx(F,X),this.dx(X,F)):this.yJ(L,F),this.LB(L,F),this.cx(L,this.mv(L)+1),this.$N(L)&&this.EQ(D,O,L),F},k.prototype.KP=function(T){var E=this.OF(T),D=this.FF(E),O=this.FR(T),L=this.ov(T);this.Vr(E)==T?(-1!=L?this.gx(L,-1):this.LB(E,-1),this.yJ(E,L)):D==T?(this.dx(O,-1),this.LB(E,O)):(this.gx(L,O),this.dx(O,L)),this.gx(T,-1),this.dx(T,-1),this.cx(E,this.mv(E)-1)},k.wJ=function(T,E){var D=.5*(T.v+T.C),O=.5*(T.G+T.H);E[0].L(D,O,T.C,T.H),E[1].L(T.v,O,D,T.H),E[2].L(T.v,T.G,D,O),E[3].L(D,T.G,T.C,O)},k.prototype.$N=function(T){return 8==this.mv(T)&&!this.ZF(T)},k.prototype.EQ=function(T,E,D){var O=this.Vr(D);do{var L=this.gv(O),F=this.$h.U(O,0);L=this.Xy(L),this.Av(F,L,T,E,D,!0,O),O=F=this.ov(O)}while(-1!=O)},k.prototype.aO=function(T){return 8<=this.mv(T)||this.ZF(T)},k.prototype.ZF=function(T){return-1!=this.Np(T,0)||-1!=this.Np(T,1)||-1!=this.Np(T,2)||-1!=this.Np(T,3)},k.prototype.jP=function(T,E){var D=this.jf.De();return this.EW(T,E,D),this.ix(D,0),this.cx(D,0),this.Pk(D,T),this.CJ(D,this.kv(T)+1),this.FJ(D,E<<2*this.kv(T)|this.IF(T)),D},k.prototype.lP=function(){var T=this.$h.De();if(0<this.hw.size){var E=this.hw.Gc();this.hw.Jf()}else E=this.xs.length,this.xs.push(new B.l);return this.AW(T,E),T},k.prototype.Np=function(T,E){return this.jf.U(T,E)},k.prototype.EW=function(T,E,D){this.jf.T(T,E,D)},k.prototype.Vr=function(T){return this.jf.U(T,4)},k.prototype.yJ=function(T,E){this.jf.T(T,4,E)},k.prototype.FF=function(T){return this.jf.U(T,5)},k.prototype.LB=function(T,E){this.jf.T(T,5,E)},k.prototype.IF=function(T){return this.jf.U(T,6)},k.prototype.FJ=function(T,E){this.jf.T(T,6,E)},k.prototype.mv=function(T){return this.jf.U(T,7)},k.prototype.vz=function(T){return this.jf.U(T,8)},k.prototype.cx=function(T,E){this.jf.T(T,7,E)},k.prototype.ix=function(T,E){this.jf.T(T,8,E)},k.prototype.AR=function(T){return this.jf.U(T,9)},k.prototype.Pk=function(T,E){this.jf.T(T,9,E)},k.prototype.kv=function(T){return this.jf.U(T,10)},k.prototype.CJ=function(T,E){this.jf.T(T,10,E)},k.prototype.bR=function(T){return this.$h.U(T,0)},k.prototype.HB=function(T,E){this.$h.T(T,0,E)},k.prototype.FR=function(T){return this.$h.U(T,1)},k.prototype.ov=function(T){return this.$h.U(T,2)},k.prototype.gx=function(T,E){this.$h.T(T,1,E)},k.prototype.dx=function(T,E){this.$h.T(T,2,E)},k.prototype.OF=function(T){return this.$h.U(T,3)},k.prototype.$W=function(T,E){this.$h.T(T,3,E)},k.prototype.gv=function(T){return this.$h.U(T,4)},k.prototype.AW=function(T,E){this.$h.T(T,4,E)},k.prototype.Xy=function(T){return this.xs[T]},k.prototype.zW=function(T,E){this.xs[T].L(E)},k}();B.eu=$}(st||(st={})),function(B){var Be;(Be=B.TK||(B.TK={}))[Be.Outside=0]="Outside",Be[Be.Inside=1]="Inside",Be[Be.Border=2]="Border";var $=function(){function T(E,D){this.FT=D,this.Wh=E}return T.prototype.$w=function(E,D){this.aH!=D&&E.flush(),this.aH=D},T.prototype.ZE=function(E,D){for(var O=0;O<D;)for(var L=E[O++],F=E[O++],V=E[O++]*this.FT;L<F;L++)this.Wh[V+(L>>4)]|=this.aH<<2*(15&L)},T}();B.wY=$;var k=function(){function T(E,D,O){this.Wh=null,this.MA=this.Ik=this.VH=this.TH=this.Fs=this.iH=this.Hf=this.Wm=0,this.Si=this.Jk=this.xl=null,this.Az(E,D,O)}return T.create=function(E,D,O){if(!T.rE(E))throw B.i.O();return T.oP(E,D,O)},T.fW=function(E){switch(E){case 0:E=1024;break;case 1:E=16384;break;case 2:E=262144;break;default:throw B.i.ga("Internal Error")}return E},T.rE=function(E){return!(E.B()||1607!=E.K()&&1736!=E.K())},T.prototype.jQ=function(E,D){D=D.Ha();for(var O=new B.h,L=new B.h;D.ab();)for(;D.Ia();){var F=D.ia();if(322!=F.K())throw B.i.ga("Internal Error");E.Fh(F.ac(),O),E.Fh(F.xc(),L),this.Si.ey(O.x,O.y,L.x,L.y)}this.Si.aJ(B.Nx.Ax)},T.prototype.kQ=function(){throw B.i.ga("Internal Error")},T.prototype.My=function(E,D){for(var O=1;4>O;O++)E.ey(D[O-1].x,D[O-1].y,D[O].x,D[O].y);E.ey(D[3].x,D[3].y,D[0].x,D[0].y),this.Si.aJ(B.Nx.Ax)},T.prototype.jK=function(E,D,O){for(var L=[null,null,null,null],F=0;F<L.length;F++)L[F]=new B.h;D=D.Ha(),O=this.Jk.SX(O)+1.5,F=new B.h;for(var V=new B.h,W=new B.h,X=new B.h,ie=new B.h,Y=new B.l,te=new B.h;D.ab();){var ne=!1,we=!0;for(te.na(0,0);D.Ia();){var ze=D.ia();if(X.x=ze.sa,X.y=ze.oa,ie.x=ze.qa,ie.y=ze.ma,Y.Pa(),Y.$b(X.x,X.y),Y.Lk(ie.x,ie.y),this.xl.zG(Y)){this.Jk.Fh(ie,ie),we?(this.Jk.Fh(X,X),te.N(X),we=!1):X.N(te),F.vc(ie,X);var _t=.5>(ze=F.length());0==ze?F.na(1,0):(_t||te.N(ie),F.scale(O/ze),V.na(-F.y,F.x),W.na(F.y,-F.x),X.sub(F),ie.add(F),L[0].add(X,V),L[1].add(X,W),L[2].add(ie,W),L[3].add(ie,V),_t?ne=!0:this.My(E,L))}else ne&&(this.My(E,L),ne=!1),we=!0}ne&&this.My(E,L)}},T.prototype.lC=function(E){return B.P.truncate(E*this.iH+this.TH)},T.prototype.mC=function(E){return B.P.truncate(E*this.Fs+this.VH)},T.oP=function(E,D,O){return new T(E,D,O)},T.prototype.Az=function(E,D,O){this.Hf=Math.max(B.P.truncate(2*Math.sqrt(O)+.5),64),this.Wm=B.P.truncate((2*this.Hf+31)/32),this.xl=new B.l,this.Ik=D,O=0;for(var L=this.Hf,F=this.Wm;8<=L;)O+=L*F,L=B.P.truncate(L/2),F=B.P.truncate((2*L+31)/32);this.Wh=B.P.lg(O,0),this.Si=new B.Nx,O=new $(this.Wh,this.Wm,this),this.Si.oX(this.Hf,this.Hf,O),E.A(this.xl),this.xl.X(D,D),L=new B.l;var V=D*(F=B.l.construct(1,1,this.Hf-2,this.Hf-2)).S();switch(D*=F.da(),L.L(this.xl.tf(),Math.max(V,this.xl.S()),Math.max(D,this.xl.da())),this.MA=this.Ik,this.Jk=new B.Ed,this.Jk.gS(L,F),new B.Ed,E.K()){case 550:O.$w(this.Si,2),this.kQ();break;case 1607:O.$w(this.Si,2),this.jK(this.Si,E,this.MA);break;case 1736:O.$w(this.Si,1),this.jQ(this.Jk,E),O.$w(this.Si,2),this.jK(this.Si,E,this.MA)}this.iH=this.Jk.eb,this.Fs=this.Jk.bb,this.TH=this.Jk.Lb,this.VH=this.Jk.Qb,this.PN()},T.prototype.PN=function(){this.Si.flush();for(var E=0,D=this.Hf*this.Wm,O=this.Hf,L=B.P.truncate(this.Hf/2),F=this.Wm,V=B.P.truncate((2*L+31)/32);8<O;){for(O=0;O<L;O++)for(var W=2*O,X=2*O+1,ie=0;ie<L;ie++){var Y=2*ie,te=2*ie+1,ne=Y>>4,we=te>>4,ze=this.Wh[E+F*W+ne]>>(Y=2*(15&Y))&3;ze|=this.Wh[E+F*W+we]>>(te=2*(15&te))&3,ze|=this.Wh[E+F*X+ne]>>Y&3,this.Wh[D+V*O+(ie>>4)]|=(ze|=this.Wh[E+F*X+we]>>te&3)<<2*(15&ie)}F=V,E=D,L=B.P.truncate((O=L)/2),V=B.P.truncate((2*L+31)/32),D=E+F*O}},T.prototype.To=function(E,D){return this.xl.contains(E,D)?(E=this.lC(E),D=this.mC(D),0>E||E>=this.Hf||0>D||D>=this.Hf||0==(D=this.Wh[this.Wm*D+(E>>4)]>>2*(15&E)&3)?0:1==D?1:2):0},T.prototype.So=function(E){if(!E.Fa(this.xl))return 0;var D=this.lC(E.v),O=this.lC(E.C),L=this.mC(E.G);if(E=this.mC(E.H),0>D&&(D=0),0>L&&(L=0),O>=this.Hf&&(O=this.Hf-1),E>=this.Hf&&(E=this.Hf-1),D>O||L>E)return 0;for(var F=Math.max(O-D,1)*Math.max(E-L,1),V=0,W=this.Wm,X=this.Hf,ie=0;;){if(32>F||16>X){for(F=L;F<=E;F++)for(var Y=D;Y<=O;Y++)if(1<(ie=this.Wh[V+W*F+(Y>>4)]>>2*(15&Y)&3))return 2;if(0==ie)return 0;if(1==ie)return 1}V+=W*X,X=B.P.truncate(X/2),W=B.P.truncate((2*X+31)/32),D=B.P.truncate(D/2),L=B.P.truncate(L/2),O=B.P.truncate(O/2),E=B.P.truncate(E/2),F=Math.max(O-D,1)*Math.max(E-L,1)}},T.prototype.IR=function(){return this.Hf*this.Wm},T}();B.Lx=k}(st||(st={})),function(B){var Be;(Be=B.NL||(B.NL={}))[Be.contains=1]="contains",Be[Be.within=2]="within",Be[Be.equals=3]="equals",Be[Be.disjoint=4]="disjoint",Be[Be.touches=8]="touches",Be[Be.crosses=16]="crosses",Be[Be.overlaps=32]="overlaps",Be[Be.unknown=0]="unknown",Be[Be.intersects=1073741824]="intersects";var $=function(){function T(){}return T.construct=function(E,D,O,L,F,V,W,X){var ie=new T;return ie.qw=E,ie.Om=D,ie.Lj=O,ie.Ti=L,ie.tH=F,ie.HY=V,ie.IY=W,ie.JY=X,ie},T}();B.Wt=function(){function T(){}return T.uD=function(E,D,O){if(T.qy(E)){var L=B.ta.lj(D,E,!1);D=!1,B.Uk.uE(E)&&(D=D||E.mu(L,O)),1736!=(L=E.K())&&1607!=L||!B.Uk.sE(E)||0==O||(D=D||E.gj(O)),1736!=L&&1607!=L||!B.Uk.tE(E)||0==O||D||E.$L()}},T.qy=function(E){return B.Uk.uE(E)||B.Uk.sE(E)||B.Uk.tE(E)},T}();var k=function(){function T(){this.sh=[]}return T.tB=function(E,D,O,L,F){var V=E.K(),W=D.K();if(197==V){if(197==W)return T.jW(E,D,O,L);if(33==W)return 2==L?L=1:1==L&&(L=2),T.$I(D,E,O,L)}else if(33==V){if(197==W)return T.$I(E,D,O,L);if(33==W)return T.lW(E,D,O,L)}if(E.B()||D.B())return 4==L;var X=new B.l;E.A(X);var ie=new B.l;D.A(ie);var Y=new B.l;if(Y.L(X),Y.$b(ie),O=B.ta.Xd(O,Y,!1),T.dk(X,ie,O))return 4==L;switch(X=!1,B.Vk.zd(V)&&((V=new B.Ua(E.description)).oc(E,!0),E=V,V=1607),B.Vk.zd(W)&&((W=new B.Ua(D.description)).oc(D,!0),D=W,W=1607),197!=V&&197!=W?(E.Eb()<D.Eb()||33==V&&550==W)&&(2==L?L=1:1==L&&(L=2)):1736!=V&&197!=W&&(2==L?L=1:1==L&&(L=2)),V){case 1736:switch(W){case 1736:X=T.rt(E,D,O,L,F);break;case 1607:X=T.bn(E,D,O,L,F);break;case 33:X=T.qt(E,D,O,L);break;case 550:X=T.pt(E,D,O,L,F);break;case 197:X=T.yI(E,D,O,L,F)}break;case 1607:switch(W){case 1736:X=T.bn(D,E,O,L,F);break;case 1607:X=T.aB(E,D,O,L,F);break;case 33:X=T.tt(E,D,O,L,F);break;case 550:X=T.st(E,D,O,L,F);break;case 197:X=T.EI(E,D,O,L)}break;case 33:switch(W){case 1736:X=T.qt(D,E,O,L);break;case 1607:X=T.tt(D,E,O,L,F);break;case 550:X=T.lt(D,E,O,L)}break;case 550:switch(W){case 1736:X=T.pt(D,E,O,L,F);break;case 1607:X=T.st(D,E,O,L,F);break;case 550:X=T.TA(E,D,O,L,F);break;case 33:X=T.lt(E,D,O,L);break;case 197:X=T.$H(E,D,O,L)}break;case 197:switch(W){case 1736:X=T.yI(D,E,O,L,F);break;case 1607:X=T.EI(D,E,O,L);break;case 550:X=T.$H(D,E,O,L)}}return X},T.jW=function(E,D,O,L){if(E.B()||D.B())return 4==L;var F=new B.l,V=new B.l,W=new B.l;switch(E.A(F),D.A(V),W.L(F),W.$b(V),E=B.ta.Xd(O,W,!1),L){case 4:return T.dk(F,V,E);case 2:return T.bF(V,F,E);case 1:return T.bF(F,V,E);case 3:return T.ek(F,V,E);case 8:return T.VP(F,V,E);case 32:return T.UP(F,V,E);case 16:return T.TP(F,V,E)}return!1},T.$I=function(E,D,O,L){if(E.B()||D.B())return 4==L;E=E.D();var F=new B.l,V=new B.l;switch(D.A(F),V.L(E),V.$b(F),D=B.ta.Xd(O,V,!1),L){case 4:return T.Sw(E,F,D);case 2:return T.ZA(E,F,D);case 1:return T.HU(E,F,D);case 3:return T.nI(E,F,D);case 8:return T.YA(E,F,D)}return!1},T.lW=function(E,D,O,L){if(E.B()||D.B())return 4==L;E=E.D(),D=D.D();var F=new B.l;switch(F.L(E),F.$b(D),O=B.ta.Xd(O,F,!1),L){case 4:return T.IU(E,D,O);case 2:return T.mI(D,E,O);case 1:return T.mI(E,D,O);case 3:return T.oI(E,D,O)}return!1},T.rt=function(E,D,O,L,F){switch(L){case 4:return T.aV(E,D,O);case 2:return T.Tw(D,E,O,F);case 1:return T.Tw(E,D,O,F);case 3:return T.dV(E,D,O);case 8:return T.lV(E,D,O);case 32:return T.gV(E,D,O,F)}return!1},T.bn=function(E,D,O,L,F){switch(L){case 4:return T.bV(E,D,O);case 1:return T.$A(E,D,O,F);case 8:return T.mV(E,D,O,F);case 16:return T.XU(E,D,O)}return!1},T.qt=function(E,D,O,L){switch(L){case 4:return T.$U(E,D,O);case 1:return T.UU(E,D,O);case 8:return T.kV(E,D,O)}return!1},T.pt=function(E,D,O,L){switch(L){case 4:return T.ZU(E,D,O);case 1:return T.TU(E,D,O);case 8:return T.jV(E,D,O);case 16:return T.WU(E,D,O)}return!1},T.yI=function(E,D,O,L,F){if(T.YU(E,D,O))return 4==L;if(4==L)return!1;switch(L){case 2:return T.nV(E,D,O);case 1:return T.SU(E,D,O);case 3:return T.cV(E,D,O);case 8:return T.iV(E,D,O,F);case 32:return T.fV(E,D,O,F);case 16:return T.VU(E,D,O,F)}return!1},T.aB=function(E,D,O,L){switch(L){case 4:return T.wV(E,D,O);case 2:return T.CI(D,E,O);case 1:return T.CI(E,D,O);case 3:return T.yV(E,D,O);case 8:return T.FI(E,D,O);case 32:return T.CV(E,D,O);case 16:return T.DI(E,D,O)}return!1},T.tt=function(E,D,O,L){switch(L){case 4:return T.vV(E,D,O);case 1:return T.qV(E,D,O);case 8:return T.GV(E,D,O)}return!1},T.st=function(E,D,O,L){switch(L){case 4:return T.uV(E,D,O);case 1:return T.pV(E,D,O);case 8:return T.FV(E,D,O);case 16:return T.sV(E,D,O)}return!1},T.EI=function(E,D,O,L){if(T.tV(E,D,O))return 4==L;if(4==L)return!1;switch(L){case 2:return T.HV(E,D,O);case 1:return T.oV(E,D,O);case 3:return T.xV(E,D,O);case 8:return T.EV(E,D,O);case 32:return T.BV(E,D,O);case 16:return T.rV(E,D,O)}return!1},T.TA=function(E,D,O,L){switch(L){case 4:return T.XT(E,D,O);case 2:return T.XH(D,E,O);case 1:return T.XH(E,D,O);case 3:return T.ZT(E,D,O);case 32:return T.eU(E,D,O)}return!1},T.lt=function(E,D,O,L){switch(L){case 4:return T.YH(E,D,O);case 2:return T.iU(E,D,O);case 1:return T.UT(E,D,O);case 3:return T.Ow(E,D,O)}return!1},T.$H=function(E,D,O,L){switch(L){case 4:return T.WT(E,D,O);case 2:return T.hU(E,D,O);case 1:return T.TT(E,D,O);case 3:return T.YT(E,D,O);case 8:return T.gU(E,D,O);case 16:return T.VT(E,D,O)}return!1},T.dV=function(E,D,O){var L=new B.l,F=new B.l;return E.A(L),D.A(F),!!T.ek(L,F,O)&&4!=(L=T.qc(E,D,!1))&&1!=L&&2!=L&&(!!T.WH(E,D,O)||(L=E.Rb(),F=D.Rb(),!(Math.abs(L-F)>4*Math.max(E.I(),D.I())*O)&&T.Rz(E,D,O,!0)))},T.aV=function(E,D,O){var L=T.qc(E,D,!0);return 4==L||1!=L&&2!=L&&1073741824!=L&&T.wI(E,D,O)},T.lV=function(E,D,O){var L=T.qc(E,D,!1);return 4!=L&&1!=L&&2!=L&&T.AI(E,D,O,null)},T.gV=function(E,D,O,L){var F=T.qc(E,D,!1);return 4!=F&&1!=F&&2!=F&&T.xI(E,D,O,L)},T.Tw=function(E,D,O,L){var F=new B.l,V=new B.l;return E.A(F),D.A(V),!!T.Ac(F,V,O)&&4!=(F=T.qc(E,D,!1))&&2!=F&&(1==F||T.tI(E,D,O,L))},T.bV=function(E,D,O){var L=T.qc(E,D,!0);return 4==L||1!=L&&1073741824!=L&&T.wI(E,D,O)},T.mV=function(E,D,O,L){var F=T.qc(E,D,!1);return 4!=F&&1!=F&&T.BI(E,D,O,L)},T.XU=function(E,D,O){var L=T.qc(E,D,!1);return 4!=L&&1!=L&&T.vI(E,D,O,null)},T.$A=function(E,D,O,L){var F=new B.l,V=new B.l;return E.A(F),D.A(V),!!T.Ac(F,V,O)&&4!=(F=T.qc(E,D,!1))&&(1==F||T.uI(E,D,O,L))},T.$U=function(E,D,O){return 0==B.jd.CG(E,D,O)},T.kV=function(E,D,O){return D=D.D(),T.zI(E,D,O)},T.UU=function(E,D,O){return D=D.D(),T.sI(E,D,O)},T.ZU=function(E,D,O){var L=T.qc(E,D,!1);if(4==L)return!0;if(1==L)return!1;L=new B.l,E.A(L),L.X(O,O);for(var F=new B.h,V=0;V<D.I();V++)if(D.D(V,F),L.contains(F)){var W=B.jd.Zd(E,F,O);if(1==W||2==W)return!1}return!0},T.jV=function(E,D,O){var L=this.qc(E,D,!1);if(4==L||1==L)return!1;L=new B.l,E.A(L),L.X(O,O);for(var F=!1,V=E,W=!1,X=0;X<D.I();X++){var ie=D.Oa(X);if(L.contains(ie))if(2==(ie=B.jd.Zd(V,ie,O)))F=!0;else if(1==ie)return!1;W||(!B.Fg.Ol(E,D.I()-1)||null!=E.Cb&&null!=E.Cb.Gb?V=E:(V=new B.Ea,E.copyTo(V),V.gj(1)),W=!0)}return!!F},T.WU=function(E,D,O){var L=this.qc(E,D,!1);if(4==L||1==L)return!1;var F=new B.l;L=new B.l;var V=new B.l;E.A(F),D.A(V),L.L(F),L.X(O,O),V=F=!1;for(var W=E,X=!1,ie=0;ie<D.I();ie++){var Y=D.Oa(ie);if(L.contains(Y)?0==(Y=B.jd.Zd(W,Y,O))?V=!0:1==Y&&(F=!0):V=!0,F&&V)return!0;X||(!B.Fg.Ol(E,D.I()-1)||null!=E.Cb&&null!=E.Cb.Gb?W=E:(W=new B.Ea,E.copyTo(W),W.gj(1)),X=!0)}return!1},T.TU=function(E,D,O){var L=new B.l,F=new B.l;if(E.A(L),D.A(F),!this.Ac(L,F,O)||4==(F=this.qc(E,D,!1)))return!1;if(1==F)return!0;F=!1;for(var V=E,W=!1,X=0;X<D.I();X++){var ie=D.Oa(X);if(!L.contains(ie))return!1;if(1==(ie=B.jd.Zd(V,ie,O)))F=!0;else if(0==ie)return!1;W||(!B.Fg.Ol(E,D.I()-1)||null!=E.Cb&&null!=E.Cb.Gb?V=E:(V=new B.Ea,E.copyTo(V),V.gj(1)),W=!0)}return F},T.cV=function(E,D,O){var L=new B.l,F=new B.l;return E.A(L),D.A(F),!!T.ek(L,F,O)&&((L=new B.Ea).bd(D,!1),T.Rz(E,L,O,!0))},T.YU=function(E,D,O){var L=T.qc(E,D,!1);if(4==L)return!0;if(1==L||2==L)return!1;var F=new B.l;if(L=new B.l,E.A(F),D.A(L),T.Ac(L,F,O)||(F=new B.h,L.fn(F),0!=(D=B.jd.Zd(E,F,O)))||(L.SI(F),0!=(D=B.jd.Zd(E,F,O)))||(L.gn(F),0!=(D=B.jd.Zd(E,F,O)))||(L.VI(F),0!=(D=B.jd.Zd(E,F,O))))return!1;D=E.vb(0),(F=new B.l).L(L),F.X(O,O);for(var V=0,W=E.I();V<W;V++){var X=D.read(2*V),ie=D.read(2*V+1);if(F.contains(X,ie))return!1}return!T.KG(E,L,O)},T.iV=function(E,D,O,L){var F=T.qc(E,D,!1);if(4==F||1==F||2==F)return!1;F=new B.l;var V=new B.l;return E.A(F),D.A(V),!T.Ac(V,F,O)&&(V.S()<=O&&V.da()<=O?(D=D.Kp(),T.zI(E,D,O)):V.S()<=O||V.da()<=O?(F=new B.Ua,V=new B.Ta,D.If(0,V),F.nf(V),D.If(2,V),F.lineTo(V),T.BI(E,F,O,L)):((F=new B.Ea).bd(D,!1),T.AI(E,F,O,L)))},T.fV=function(E,D,O,L){var F=T.qc(E,D,!1);if(4==F||1==F||2==F)return!1;F=new B.l;var V=new B.l;return E.A(F),D.A(V),!(T.Ac(V,F,O)||V.S()<=O||V.da()<=O)&&((F=new B.Ea).bd(D,!1),T.xI(E,F,O,L))},T.nV=function(E,D,O){var L=new B.l,F=new B.l;return E.A(L),D.A(F),T.Ac(F,L,O)},T.SU=function(E,D,O){var L=new B.l,F=new B.l;return E.A(L),D.A(F),!!T.Ac(L,F,O)&&4!=(L=T.qc(E,D,!1))&&2!=L&&(1==L||(F.S()<=O&&F.da()<=O?(D=D.Kp(),T.sI(E,D,O)):F.S()<=O||F.da()<=O?(F=new B.Ua,L=new B.Ta,D.If(0,L),F.nf(L),D.If(2,L),F.lineTo(L),T.uI(E,F,O,null)):((F=new B.Ea).bd(D,!1),T.tI(E,F,O,null))))},T.VU=function(E,D,O,L){var F=new B.l,V=new B.l;return E.A(F),D.A(V),!(T.Ac(V,F,O)||V.da()>O&&V.S()>O||V.da()<=O&&V.S()<=O)&&(F=new B.Ua,V=new B.Ta,D.If(0,V),F.nf(V),D.If(2,V),F.lineTo(V),T.vI(E,F,O,L))},T.yV=function(E,D,O){var L=new B.l,F=new B.l;return E.A(L),D.A(F),!(!T.ek(L,F,O)||4==T.qc(E,D,!1))&&(!!T.WH(E,D,O)||T.Rz(E,D,O,!1))},T.wV=function(E,D,O){return 4==this.qc(E,D,!1)||!!new B.am(E,D,O,!0).next()&&!this.LG(E,D,O)},T.FI=function(E,D,O){if(4==T.qc(E,D,!1))return!1;var L=new B.ce(0);if(0!=T.Sz(E,D,O,L))return!1;for(var F=new B.de,V=0;V<L.size;V+=2){var W=L.read(V),X=L.read(V+1);F.Cu(W,X)}return E=E.mg(),D=D.mg(),E.Gd(D,0,D.I()),T.Nw(E,F,O)},T.DI=function(E,D,O){if(4==T.qc(E,D,!1))return!1;var L=new B.ce(0);if(0!=T.Sz(E,D,O,L))return!1;for(var F=new B.de,V=0;V<L.size;V+=2){var W=L.read(V),X=L.read(V+1);F.Cu(W,X)}return E=E.mg(),D=D.mg(),E.Gd(D,0,D.I()),!T.Nw(E,F,O)},T.CV=function(E,D,O){return 4!=T.qc(E,D,!1)&&T.NG(E,D,O)},T.CI=function(E,D,O){var L=new B.l,F=new B.l;return E.A(L),D.A(F),!(!T.Ac(L,F,O)||4==T.qc(E,D,!1))&&T.Am(D,E,O,!1)},T.vV=function(E,D,O){return 4==T.qc(E,D,!1)||(D=D.D(),!T.Tz(E,D,O))},T.GV=function(E,D,O){return 4!=T.qc(E,D,!1)&&(D=D.D(),T.Uz(E,D,O))},T.qV=function(E,D,O){return 4!=T.qc(E,D,!1)&&(D=D.D(),T.JG(E,D,O))},T.uV=function(E,D,O){return 4==T.qc(E,D,!1)||!T.MG(E,D,O,!1)},T.FV=function(E,D,O){if(4==this.qc(E,D,!1))return!1;var L=E.Ha(),F=new B.l,V=new B.l,W=new B.l;E.A(F),D.A(V),F.X(O,O),V.X(O,O),W.L(F),W.Fa(V),F=null;var X=E.Cb;if(null!=X){var ie=X.Gb;F=X.Ao,null==ie&&(ie=X=B.ta.kj(E,W))}else ie=X=B.ta.kj(E,W);var Y=ie.getIterator(),te=null;null!=F&&(te=F.getIterator());var ne=new B.h,we=new B.h,ze=!1,_t=O*O;for(F=new B.rn(D.I()),X=0;X<D.I();X++)F.write(X,0);for(X=0;X<D.I();X++)if(D.D(X,ne),W.contains(ne)){if(V.L(ne.x,ne.y,ne.x,ne.y),null!=te&&(te.Yi(V,O),-1==te.next()))continue;Y.Yi(V,O);for(var Mt=Y.next();-1!=Mt;Mt=Y.next())if(L.Wb(ie.ka(Mt)),(Mt=L.ia()).ic(Mt.fe(ne,!1),we),B.h.zc(ne,we)<=_t){F.write(X,1),ze=!0;break}}if(!ze)return!1;for(E=E.mg(),L=new B.de,V=new B.h,X=0;X<D.I();X++)0!=F.read(X)&&(D.D(X,V),L.Cu(V.x,V.y));return this.Nw(E,L,O)},T.sV=function(E,D,O){if(4==this.qc(E,D,!1))return!1;var L=E.Ha(),F=new B.l,V=new B.l,W=new B.l;E.A(F),D.A(V),F.X(O,O),V.X(O,O),W.L(F),W.Fa(V),F=null;var X=E.Cb;if(null!=X){var ie=X.Gb;F=X.Ao,null==ie&&(ie=X=B.ta.kj(E,W))}else ie=X=B.ta.kj(E,W);var Y=ie.getIterator(),te=null;null!=F&&(te=F.getIterator());var ne=new B.h,we=new B.h,ze=!1,_t=!1,Mt=O*O;for(F=new B.rn(D.I()),X=0;X<D.I();X++)F.write(X,0);for(X=0;X<D.I();X++)if(D.D(X,ne),W.contains(ne)){if(V.L(ne.x,ne.y,ne.x,ne.y),null!=te&&(te.Yi(V,O),-1==te.next())){_t=!0;continue}Y.Yi(V,O);for(var pe=!1,Ge=Y.next();-1!=Ge;Ge=Y.next())if(L.Wb(ie.ka(Ge)),(Ge=L.ia()).ic(Ge.fe(ne,!1),we),B.h.zc(ne,we)<=Mt){F.write(X,1),pe=ze=!0;break}pe||(_t=!0)}else _t=!0;if(!ze||!_t)return!1;for(E=E.mg(),L=new B.de,V=new B.h,X=0;X<D.I();X++)0!=F.read(X)&&(D.D(X,V),L.Cu(V.x,V.y));return!this.Nw(E,L,O)},T.pV=function(E,D,O){var L=new B.l,F=new B.l;return E.A(L),D.A(F),!(!T.Ac(L,F,O)||4==T.qc(E,D,!1)||!T.MG(E,D,O,!0)||(E=E.mg(),T.ZH(E,D,O)))},T.xV=function(E,D,O){var L=new B.l,F=new B.l;return E.A(L),D.A(F),!(F.da()>O&&F.S()>O)&&T.ek(L,F,O)},T.tV=function(E,D,O){var L=new B.l,F=new B.l;return E.A(L),D.A(F),!T.Ac(F,L,O)&&!T.KG(E,F,O)},T.EV=function(E,D,O){var L=new B.l,F=new B.l;if(E.A(L),D.A(F),F.da()<=O&&F.S()<=O)return F=D.Kp(),T.Uz(E,F,O);if(F.da()<=O||F.S()<=O)return F=new B.Ua,L=new B.Ta,D.If(0,L),F.nf(L),D.If(2,L),F.lineTo(L),T.FI(E,F,O);E=E.Ha(),D=new B.l,L=new B.l,D.L(F),L.L(F),D.X(-O,-O),L.X(O,O),F=!1;for(var V=new B.l,W=new B.l;E.ab();)for(;E.Ia();){if(E.ia().A(V),W.L(D),W.Fa(V),!W.B()&&(W.da()>O||W.S()>O))return!1;W.L(L),W.Fa(V),W.B()||(F=!0)}return F},T.BV=function(E,D,O){var L=new B.l,F=new B.l;return E.A(L),D.A(F),!(T.Ac(L,F,O)||T.Ac(F,L,O)||T.Ac(F,L,O)||F.da()>O&&F.S()>O||F.da()<=O&&F.S()<=O)&&(L=new B.Ua,F=new B.Ta,D.If(0,F),L.nf(F),D.If(2,F),L.lineTo(F),T.NG(E,L,O))},T.HV=function(E,D,O){var L=new B.l,F=new B.l;if(E.A(L),D.A(F),!T.Ac(F,L,O)||F.da()<=O&&F.S()<=O)return!1;if(F.da()<=O||F.S()<=O)return T.Ac(F,L,O);E=E.Ha(),(D=new B.l).L(F),D.X(-O,-O),F=!1,L=new B.l;for(var V=new B.l;E.ab();)for(;E.Ia();)E.ia().A(L),D.jm(L)?F=!0:(V.L(D),V.Fa(L),!V.B()&&(V.da()>O||V.S()>O)&&(F=!0));return F},T.oV=function(E,D,O){var L=new B.l,F=new B.l;return D.A(F),E.A(L),!(!T.Ac(L,F,O)||F.da()>O&&F.S()>O)&&(F.da()<=O&&F.S()<=O?(D=D.Kp(),T.JG(E,D,O)):(L=new B.Ua,F=new B.Ta,D.If(0,F),L.nf(F),D.If(2,F),L.lineTo(F),T.Am(L,E,O,!1)))},T.rV=function(E,D,O){var L=new B.l,F=new B.l;if(E.A(L),D.A(F),T.Ac(F,L,O)||F.da()<=O&&F.S()<=O)return!1;if(F.da()<=O||F.S()<=O)return L=new B.Ua,F=new B.Ta,D.If(0,F),L.nf(F),D.If(2,F),L.lineTo(F),T.DI(E,L,O);E=E.Ha(),D=new B.l,(L=new B.l).L(F),D.L(F),L.X(-O,-O),D.X(O,O);for(var V=F=!1,W=new B.l,X=new B.l;E.ab();)for(;E.Ia();)if(E.ia().A(W),V||D.contains(W)||(V=!0),F||(X.L(L),X.Fa(W),!X.B()&&(X.da()>O||X.S()>O)&&(F=!0)),F&&V)return!0;return!1},T.ZT=function(E,D,O){var L=new B.l,F=new B.l;return E.A(L),D.A(F),!!T.ek(L,F,O)&&(!!T.$T(E,D,O)||T.SA(E,D,O,!1,!0,!1))},T.XT=function(E,D,O){return!T.ZH(E,D,O)},T.eU=function(E,D,O){return T.SA(E,D,O,!1,!1,!0)},T.XH=function(E,D,O){var L=new B.l,F=new B.l;return E.A(L),D.A(F),!!T.Ac(L,F,O)&&T.SA(D,E,O,!0,!1,!1)},T.Nw=function(E,D,O){O*=O;for(var L=new B.h,F=new B.h,V=0;V<D.I();V++){D.D(V,F);for(var W=!1,X=0;X<E.I();X++)if(E.D(X,L),B.h.zc(L,F)<=O){W=!0;break}if(!W)return!1}return!0},T.Ow=function(E,D,O){var L=new B.l,F=new B.l;return E.A(L),D.A(F),T.ek(L,F,O)},T.YH=function(E,D,O){return D=D.D(),T.kt(E,D,O)},T.iU=function(E,D,O){return T.Ow(E,D,O)},T.UT=function(E,D,O){return!T.YH(E,D,O)},T.YT=function(E,D,O){var L=new B.l,F=new B.l;return E.A(L),D.A(F),!(F.da()>O||F.S()>O)&&T.ek(L,F,O)},T.WT=function(E,D,O){var L=new B.l,F=new B.l;if(E.A(L),D.A(F),T.Ac(F,L,O))return!1;for((D=new B.l).L(F),D.X(O,O),O=new B.h,F=0;F<E.I();F++)if(E.D(F,O),D.contains(O))return!1;return!0},T.gU=function(E,D,O){var L=new B.l,F=new B.l,V=new B.l;if(D.A(L),L.da()<=O&&L.S()<=O)return!1;if(L.da()<=O||L.S()<=O){D=new B.h;var W=!1;F.L(L),V.L(L),F.X(O,O),L.da()>O?V.X(0,-O):V.X(-O,0);for(var X=0;X<E.I();X++)if(E.D(X,D),F.contains(D)){if(L.da()>O){if(D.y>V.G&&D.y<V.H)return!1}else if(D.x>V.v&&D.x<V.C)return!1;W=!0}return W}for(F.L(L),V.L(L),F.X(O,O),V.X(-O,-O),D=new B.h,W=!1,X=0;X<E.I();X++)if(E.D(X,D),F.contains(D)){if(V.jm(D))return!1;W=!0}return W},T.hU=function(E,D,O){var L=new B.l,F=new B.l;if(E.A(L),D.A(F),!T.Ac(F,L,O))return!1;if(F.da()<=O&&F.S()<=O)return T.ek(L,F,O);if(F.da()<=O||F.S()<=O){D=!1,L=new B.l;var V=new B.l;L.L(F),V.L(F),F.da()>O?L.X(0,-O):L.X(-O,0),V.X(O,O);for(var W=new B.h,X=0;X<E.I();X++){if(E.D(X,W),!V.contains(W))return!1;F.da()>O?W.y>L.G&&W.y<L.H&&(D=!0):W.x>L.v&&W.x<L.C&&(D=!0)}return D}for(D=!1,L=new B.l,V=new B.l,L.L(F),V.L(F),L.X(-O,-O),V.X(O,O),W=new B.h,X=0;X<E.I();X++){if(E.D(X,W),!V.contains(W))return!1;L.jm(W)&&(D=!0)}return D},T.TT=function(E,D,O){var L=new B.l,F=new B.l;return E.A(L),D.A(F),!(!T.Ac(L,F,O)||F.da()>O||F.S()>O||(D=D.Kp(),T.kt(E,D,O)))},T.VT=function(E,D,O){var L=new B.l,F=new B.l;if(E.A(L),D.A(F),T.Ac(F,L,O)||F.da()<=O&&F.S()<=O)return!1;if(F.da()<=O||F.S()<=O){D=new B.l,L=new B.l,D.L(F),F.da()>O?D.X(0,-O):D.X(-O,0),L.L(F),L.X(O,O);for(var V=new B.h,W=!1,X=!1,ie=0;ie<E.I();ie++)if(E.D(ie,V),W||(F.da()>O?V.y>D.G&&V.y<D.H&&(W=!0):V.x>D.v&&V.x<D.C&&(W=!0)),X||L.contains(V)||(X=!0),W&&X)return!0;return!1}for(D=new B.l,L=new B.l,D.L(F),D.X(-O,-O),L.L(F),L.X(O,O),V=new B.h,X=W=!1,ie=0;ie<E.I();ie++)if(E.D(ie,V),!W&&D.jm(V)&&(W=!0),X||L.contains(V)||(X=!0),W&&X)return!0;return!1},T.oI=function(E,D,O){return B.h.zc(E,D)<=O*O},T.IU=function(E,D,O){return B.h.zc(E,D)>O*O},T.mI=function(E,D,O){return T.oI(E,D,O)},T.nI=function(E,D,O){var L=new B.l;return L.L(E),T.ek(L,D,O)},T.Sw=function(E,D,O){var L=new B.l;return L.L(D),L.X(O,O),!L.contains(E)},T.YA=function(E,D,O){if(D.da()<=O&&D.S()<=O)return!1;var L=new B.l,F=new B.l;if(L.L(D),L.X(O,O),!L.contains(E))return!1;if(D.da()<=O||D.S()<=O){if(F.L(D),D.da()>O?F.X(0,-O):F.X(-O,0),D.da()>O){if(E.y>F.G&&E.y<F.H)return!1}else if(E.x>F.v&&E.x<F.C)return!1;return!0}return F.L(D),F.X(-O,-O),!F.jm(E)},T.ZA=function(E,D,O){if(D.da()<=O&&D.S()<=O)return!0;if(D.da()<=O||D.S()<=O){var L=new B.l;L.L(D),D.da()>O?L.X(0,-O):L.X(-O,0);var F=!1;return D.da()>O?E.y>L.G&&E.y<L.H&&(F=!0):E.x>L.v&&E.x<L.C&&(F=!0),F}return(L=new B.l).L(D),L.X(-O,-O),L.jm(E)},T.HU=function(E,D,O){return T.nI(E,D,O)},T.ek=function(E,D,O){return T.Ac(E,D,O)&&T.Ac(D,E,O)},T.dk=function(E,D,O){var L=new B.l;return L.L(D),L.X(O,O),!E.isIntersecting(L)},T.VP=function(E,D,O){if(E.da()<=O&&E.S()<=O){var L=E.tf();return T.YA(L,D,O)}if(D.da()<=O&&D.S()<=O)return L=D.tf(),T.YA(L,E,O);if(E.da()>O&&E.S()>O&&(D.da()<=O||D.S()<=O)?L=D:(L=E,E=D),L.da()<=O||L.S()<=O){if(E.da()<=O||E.S()<=O){D=new B.zb;var F=new B.zb,V=[0,0],W=[0,0],X=new B.h;return L.fn(X),D.Ec(X),L.gn(X),D.Rc(X),E.fn(X),F.Ec(X),E.gn(X),F.Rc(X),D.Fa(F,null,V,W,O),1==D.Fa(F,null,null,null,O)&&(0==V[0]||1==V[1]||0==W[0]||1==W[1])}return D=new B.l,F=new B.l,D.L(E),D.X(-O,-O),F.L(D),F.Fa(L),!(!F.B()&&(F.da()>O||F.S()>O))}return E.X(O,O),(F=new B.l).L(L),F.Fa(E),!(F.B()||!F.B()&&F.da()>O&&F.S()>O)},T.UP=function(E,D,O){if(T.Ac(E,D,O)||T.Ac(D,E,O)||E.da()<=O&&E.S()<=O||D.da()<=O&&D.S()<=O)return!1;if(E.da()<=O||E.S()<=O){if(D.da()>O&&D.S()>O)return!1;var L=new B.zb,F=new B.zb,V=[0,0],W=[0,0],X=new B.h;return E.fn(X),L.Ec(X),E.gn(X),L.Rc(X),D.fn(X),F.Ec(X),D.gn(X),F.Rc(X),L.Fa(F,null,V,W,O),2==L.Fa(F,null,null,null,O)&&(0<V[0]||1>V[1])&&(0<W[0]||1>W[1])}return!(D.da()<=O||D.S()<=O||((L=new B.l).L(E),L.Fa(D),L.B()||L.da()<=O||L.S()<=O))},T.bF=function(E,D,O){if(!T.Ac(E,D,O))return!1;if(E.da()<=O&&E.S()<=O)return E=E.tf(),T.ZA(E,D,O);if(D.da()<=O&&D.S()<=O)return D=D.tf(),T.ZA(D,E,O);if(E.da()<=O||E.S()<=O)return T.Ac(E,D,O);if(D.da()<=O||D.S()<=O){var L=new B.l;return L.L(E),L.X(-O,-O),!(!L.jm(D)&&((E=new B.l).L(L),E.Fa(D),E.B()||E.da()<=O&&E.S()<=O))}return T.Ac(E,D,O)},T.TP=function(E,D,O){if(T.Ac(E,D,O)||T.Ac(D,E,O)||E.da()<=O&&E.S()<=O||D.da()<=O&&D.S()<=O||D.da()>O&&D.S()>O&&E.da()>O&&E.S()>O)return!1;if(E.da()>O&&E.S()>O)var L=D;else L=E,E=D;if(E.da()>O&&E.S()>O){D=new B.l;var F=new B.l;return F.L(E),F.X(-O,-O),D.L(F),D.Fa(L),!(D.B()||D.da()<=O&&D.S()<=O)}D=new B.zb,F=new B.zb;var V=[0,0],W=[0,0],X=new B.h;return L.fn(X),D.Ec(X),L.gn(X),D.Rc(X),E.fn(X),F.Ec(X),E.gn(X),F.Rc(X),D.Fa(F,null,V,W,O),1==D.Fa(F,null,null,null,O)&&0<V[0]&&1>V[1]&&0<W[0]&&1>W[1]},T.wI=function(E,D,O){var L=new B.l,F=new B.l,V=new B.am(E,D,O,!0);if(!V.next())return!0;if(this.LG(E,D,O))return!1;var W=E,X=null;1736==D.K()&&(X=D);var ie=!1,Y=!1;do{var te=V.pl(),ne=V.jl();if(ne=D.Oa(D.Ca(ne)),L.L(V.oz()),L.X(O,O),L.contains(ne)&&0!=(ne=B.jd.Zd(W,ne,0))||1736==D.K()&&(te=E.Oa(E.Ca(te)),F.L(V.Wy()),F.X(O,O),F.contains(te)&&0!=(ne=B.jd.Zd(X,te,0))))return!1;ie||(!B.Fg.Ol(E,D.ea()-1)||null!=E.Cb&&null!=E.Cb.Gb?W=E:(W=new B.Ea,E.copyTo(W),W.gj(1)),ie=!0),1736!=D.K()||Y||(!B.Fg.Ol(Y=D,E.ea()-1)||null!=D.Cb&&null!=D.Cb.Gb?X=D:(X=new B.Ea,Y.copyTo(X),X.gj(1)),Y=!0)}while(V.next());return!0},T.Ac=function(E,D,O){var L=new B.l;return L.L(E),L.X(O,O),L.contains(D)},T.ms=function(E,D,O){var L=new B.l;return L.L(D),L.X(O,O),D=new B.h,E.fn(D),!(L.contains(D)&&(E.SI(D),L.contains(D)&&(E.VI(D),L.contains(D)&&(E.gn(D),L.contains(D)))))},T.WH=function(E,D,O){if(E.ea()!=D.ea()||E.I()!=D.I())return!1;var L=new B.h,F=new B.h,V=!0;O*=O;for(var W=0;W<E.ea();W++){if(E.Wc(W)!=D.Wc(W)){V=!1;break}for(var X=E.Ca(W);X<D.Wc(W);X++)if(E.D(X,L),D.D(X,F),B.h.zc(L,F)>O){V=!1;break}if(!V)break}return!!V},T.$T=function(E,D,O){if(E.I()!=D.I())return!1;var L=new B.h,F=new B.h,V=!0;O*=O;for(var W=0;W<E.I();W++)if(E.D(W,L),D.D(W,F),B.h.zc(L,F)>O){V=!1;break}return!!V},T.SA=function(E,D,O,L,F,V){var W=!1;if(E.I()>D.I()){L&&(L=!1,W=!0);var X=D}else X=E,E=D;if(D=null,F||V||W){D=new B.rn(E.I());for(var ie=0;ie<E.I();ie++)D.write(ie,0)}ie=new B.l;var Y=new B.l,te=new B.l;X.A(ie),E.A(Y),ie.X(O,O),Y.X(O,O),te.L(ie),te.Fa(Y),Y=new B.h;for(var ne=new B.h,we=!0,ze=B.ta.gE(E,te),_t=ze.getIterator(),Mt=O*O,pe=0;pe<X.I();pe++)if(X.D(pe,Y),te.contains(Y)){var Ge=!1;ie.L(Y.x,Y.y,Y.x,Y.y),_t.Yi(ie,O);for(var it=_t.next();-1!=it&&(it=ze.ka(it),E.D(it,ne),!(B.h.zc(Y,ne)<=Mt&&((F||V||W)&&D.write(it,1),Ge=!0,L)));it=_t.next());if(!Ge&&(we=!1,F||L))return!1}else{if(F||L)return!1;we=!1}if(V&&we)return!1;if(L)return!0;for(ie=0;ie<E.I();ie++)if(1==D.read(ie)){if(V)return!0}else if(F||W)return!1;return!V},T.ZH=function(E,D,O){if(E.I()>D.I())var L=D;else L=E,E=D;D=new B.l;var F=new B.l,V=new B.l;L.A(D),E.A(F),D.X(O,O),F.X(O,O),V.L(D),V.Fa(F),F=new B.h;for(var W=new B.h,X=O*O,ie=B.ta.gE(E,V),Y=ie.getIterator(),te=0;te<L.I();te++)if(L.D(te,F),V.contains(F)){D.L(F.x,F.y,F.x,F.y),Y.Yi(D,O);for(var ne=Y.next();-1!=ne;ne=Y.next())if(E.D(ie.ka(ne),W),B.h.zc(F,W)<=X)return!0}return!1},T.Rz=function(E,D,O,L){return T.Am(E,D,O,L)&&T.Am(D,E,O,L)},T.Am=function(E,D,O,L){function F(_i,mi){return ne.IE(_i,mi)}var V,X=[0,0],ie=[0,0],Y=0,te=new B.ja(0),ne=new T,we=new B.l,ze=new B.l,_t=new B.l;E.A(we),D.A(ze),we.X(O,O),ze.X(O,O),_t.L(we),_t.Fa(ze),E=E.Ha(),ze=D.Ha();var Mt=null,pe=Mt=null,Ge=D.Cb;for(null!=Ge?(pe=Ge.Ao,null==(Mt=Ge.Gb)&&(Mt=B.ta.kj(D,_t))):Mt=B.ta.kj(D,_t),D=Mt.getIterator(),Ge=null,null!=pe&&(Ge=pe.getIterator());E.ab();)for(;E.Ia();){var it=!1,ht=E.ia();if(ht.A(we),!we.isIntersecting(_t)||null!=Ge&&(Ge.Yi(we,O),-1==Ge.next()))return!1;for(pe=ht.Rb(),D.Vo(ht,O),V=D.next();-1!=V;V=D.next()){ze.Wb(Mt.ka(V)),V=ze.ia();var mt=ht.Fa(V,null,X,ie,O);if(2==mt&&(!L||ie[0]<=ie[1])){var yt=X[1],Ot=ie[0],St=ie[1];if((mt=X[0])*pe<=O&&(1-yt)*pe<=O){it=!0,Y=0,te.resize(0),ne.sh.length=0;var Tt=E.xb();for(Ot=!0;Ot;){if(E.Ia()){if(pe=(ht=E.ia()).Rb(),2==(mt=ht.Fa(V,null,X,ie,O))&&(!L||ie[0]<=ie[1])&&(yt=X[1],(mt=X[0])*pe<=O&&(1-yt)*pe<=O)){Tt=E.xb();continue}if(ze.Ia()&&(V=ze.ia(),2==(mt=ht.Fa(V,null,X,ie,O))&&(!L||ie[0]<=ie[1])&&(yt=X[1],(mt=X[0])*pe<=O&&(1-yt)*pe<=O))){Tt=E.xb();continue}}Ot=!1}Tt!=E.xb()&&(E.Wb(Tt),E.ia());break}Tt=E.xb(),V=$.construct(Tt,E.gb,mt,yt,ze.xb(),ze.gb,Ot,St),ne.sh.push(V),te.add(te.size)}}if(!it){if(Y==ne.sh.length)return!1;for(1<te.size-Y&&te.Wd(Y,te.size,F),it=0;Y<ne.sh.length;Y++)if(!((V=ne.sh[te.get(Y)]).Lj<it&&V.Ti<it)){if(pe*(V.Lj-it)>O)return!1;if(pe*(1-(it=V.Ti))<=O||1==it)break}if(pe*(1-it)>O)return!1;Y=0,te.resize(0),ne.sh.length=0}}return!0},T.NG=function(E,D,O){if(1>T.Sz(E,D,O,null))return!1;var L=new B.l,F=new B.l;E.A(L),D.A(F);var V=T.ms(L,F,O);return L=T.ms(F,L,O),!((!V||!L)&&(V&&!L?T.Am(D,E,O,!1):L&&!V?T.Am(E,D,O,!1):T.Am(E,D,O,!1)||T.Am(D,E,O,!1)))},T.Sz=function(E,D,O,L){function F(ti,ui){return we.IE(ti,ui)}if(E.sz()>D.sz())var V=D,W=E;else V=E,W=D;E=V.Ha(),D=W.Ha();var X=[0,0],ie=[0,0],Y=-1,te=0,ne=new B.ja(0),we=new T,ze=new B.l,_t=new B.l,Mt=new B.l;V.A(ze),W.A(_t),ze.X(O,O),_t.X(O,O),Mt.L(ze),Mt.Fa(_t),V=null,null!=L&&(V=new B.h);var pe=_t=_t=null,Ge=W.Cb;for(null!=Ge?(pe=Ge.Ao,null==(_t=Ge.Gb)&&(_t=B.ta.kj(W,Mt))):_t=B.ta.kj(W,Mt),W=_t.getIterator(),Ge=null,null!=pe&&(Ge=pe.getIterator());E.ab();)for(pe=0;E.Ia();){var it=E.ia();if(it.A(ze),ze.isIntersecting(Mt)){if(null!=Ge&&(Ge.Yi(ze,O),-1==Ge.next()))continue;var ht=it.Rb();W.Vo(it,O);for(var mt=W.next();-1!=mt;mt=W.next()){var yt=_t.ka(mt);D.Wb(yt);var Ot=D.ia(),St=Ot.Rb(),Tt=it.Fa(Ot,null,X,ie,O);if(0<Tt){mt=X[0],Y=ie[0];var _i=2==Tt?X[1]:NaN,mi=2==Tt?ie[1]:NaN;if(2==Tt){if(ht*(_i-mt)>O)return 1;var Ui=ht*(_i-mt);if(D.Ia()){if(Ot=D.ia(),2==(Tt=it.Fa(Ot,null,X,null,O))){var Ft=X[1];if(Ui+(Tt=ht*(Ft-(Tt=X[0])))>O)return 1}D.Wb(yt),D.ia()}if(!D.xm()){if(D.mi(),Ot=D.mi(),2==(Tt=it.Fa(Ot,null,X,null,O))&&Ui+(Tt=ht*((Ft=X[1])-(Tt=X[0])))>O)return 1;D.Wb(yt),D.ia()}if(E.Ia()){if(yt=E.xb(),2==(Tt=(it=E.ia()).Fa(Ot,null,X,null,O))&&Ui+(Tt=ht*((Ft=X[1])-(Tt=X[0])))>O)return 1;E.Wb(yt),E.ia()}if(!E.xm()){if(yt=E.xb(),E.mi(),2==(Tt=(it=E.mi()).Fa(Ot,null,X,null,O))&&Ui+(Tt=St*((Ft=X[1])-(Tt=X[0])))>O)return 1;E.Wb(yt),E.ia()}Ot=$.construct(E.xb(),E.gb,mt,_i,D.xb(),D.gb,Y,mi),we.sh.push(Ot),ne.add(ne.size)}Y=0,null!=L&&(it.ic(mt,V),L.add(V.x),L.add(V.y))}}if(te<we.sh.length){for(ne.Wd(te,ne.size,F),it=0,mt=we.sh[ne.get(te)].Om;te<we.sh.length;te++)if(!((Ot=we.sh[ne.get(te)]).Lj<it&&Ot.Ti<it))if(ht*(Ot.Lj-it)>O)pe=ht*(Ot.Ti-Ot.Lj),it=Ot.Ti,mt=Ot.Om;else{if(Ot.Om!=mt?(pe=ht*(Ot.Ti-Ot.Lj),mt=Ot.Om):pe+=ht*(Ot.Ti-Ot.Lj),pe>O)return 1;if(1==(it=Ot.Ti))break}ht*(1-it)>O&&(pe=0),te=0,ne.resize(0),we.sh.length=0}}}return Y},T.LG=function(E,D,O){var L=E.Ha(),F=D.Ha();for(E=new B.am(E,D,O,!1);E.next();){D=E.pl();var V=E.jl();if(L.Wb(D),F.Wb(V),D=L.ia(),0<F.ia().Fa(D,null,null,null,O))return!0}return!1},T.MG=function(E,D,O,L){var F=E.Ha(),V=new B.l,W=new B.l,X=new B.l;E.A(V),D.A(W),V.X(O,O),V.contains(W),W.X(O,O),X.L(V),X.Fa(W),null!=(V=E.Cb)?null==(V=V.Gb)&&(V=B.ta.kj(E,X)):V=B.ta.kj(E,X),E=V.getIterator();for(var ie=new B.h,Y=new B.h,te=O*O,ne=0;ne<D.I();ne++)if(D.D(ne,ie),X.contains(ie)){W.L(ie.x,ie.y,ie.x,ie.y),E.Yi(W,O);for(var we=!1,ze=E.next();-1!=ze;ze=E.next())if(F.Wb(V.ka(ze)),(ze=F.ia()).ic(ze.fe(ie,!1),Y),B.h.zc(Y,ie)<=te){we=!0;break}if(L){if(!we)return!1}else if(we)return!0}return!!L},T.Tz=function(E,D,O){var L=new B.h,F=O*O,V=E.Ha();if(null!=(E=E.Cb)&&null!=(E=E.Gb)){var W=new B.l;for(W.L(D),W=(O=E.EF(W,O)).next();-1!=W;W=O.next())if(V.Wb(E.ka(W)),V.Ia()){var X=(W=V.ia()).fe(D,!1);if(W.ic(X,L),B.h.zc(D,L)<=F)return!0}return!1}for(E=new B.l;V.ab();)for(;V.Ia();)if((W=V.ia()).A(E),E.X(O,O),E.contains(D)&&(X=W.fe(D,!1),W.ic(X,L),B.h.zc(D,L)<=F))return!0;return!1},T.JG=function(E,D,O){return T.Tz(E,D,O)&&!T.Uz(E,D,O)},T.Uz=function(E,D,O){return E=E.mg(),!T.kt(E,D,O)},T.KG=function(E,D,O){if(E.vm()){var L=new B.zb(D.v,D.G,D.v,D.H),F=new B.zb(D.v,D.H,D.C,D.H),V=new B.zb(D.C,D.H,D.C,D.G);for(D=new B.zb(D.C,D.G,D.v,D.G),E=E.Ha();E.ab();)for(;E.Ia();){var W=E.ia();if(W.isIntersecting(L,O)||W.isIntersecting(F,O)||W.isIntersecting(V,O)||W.isIntersecting(D,O))return!0}}else{(L=new B.l).L(D),L.X(O,O),O=E.vb(0),F=new B.h,V=new B.h,D=new B.h,W=new B.h;for(var X=0,ie=E.ea();X<ie;X++)for(var Y=!0,te=E.Ca(X),ne=E.Wc(X);te<ne;te++)if(Y)O.uc(2*te,V),Y=!1;else{if(O.uc(2*te,F),D.N(V),W.N(F),0!=L.ty(D,W))return!0;V.N(F)}}return!1},T.qc=function(E,D,O){var L=E.K(),F=D.K();if(B.ba.yj(L)){var V=E.Cb;if(null!=V&&null!=(V=V.Fk))if(33==F){var W=D.D();if(1==(W=V.To(W.x,W.y)))return 1;if(0==W)return 4}else{if(W=new B.l,D.A(W),1==(W=V.So(W)))return 1;if(0==W)return 4;if(O&&B.ba.yj(F)&&T.zE(D,V))return 1073741824}}if(B.ba.yj(F)&&null!=(V=D.Cb)&&null!=(V=V.Fk))if(33==L){if(E=E.D(),1==(W=V.To(E.x,E.y)))return 2;if(0==W)return 4}else{if(D=new B.l,E.A(D),1==(W=V.So(D)))return 2;if(0==W)return 4;if(O&&B.ba.yj(L)&&T.zE(E,V))return 1073741824}return 0},T.zE=function(E,D){for(var O=E.I(),L=new B.h,F=0;F<O;F++)if(E.D(F,L),1==D.To(L.x,L.y))return!0;return!1},T.AI=function(E,D,O,L){for(var F=1<=E.qm(0)&&1<=D.qm(0),V=E.Ha(),W=D.Ha(),X=[0,0],ie=[0,0],Y=new B.am(E,D,O,!1),te=!1;Y.next();){var ne=Y.pl(),we=Y.jl();if(V.Wb(ne),W.Wb(we),ne=V.ia(),2==(we=W.ia().Fa(ne,null,ie,X,O))){if(te=X[0],we=X[1],ne=ne.Rb(),F&&(we-te)*ne>O)return!1;te=!0}else if(0!=we){if(ne=ie[0],0<(te=X[0])&&1>te&&0<ne&&1>ne)return!1;te=!0}}return!!te&&(V=new B.l,W=new B.l,F=new B.l,E.A(V),D.A(W),V.X(1e3*O,1e3*O),W.X(1e3*O,1e3*O),F.L(V),F.Fa(W),!(10<E.I()&&(E=B.Vd.clip(E,F,O,0),E.B())||10<D.I()&&(D=B.Vd.clip(D,F,O,0),D.B()))&&B.cm.rt(E,D,O,"F********",L))},T.xI=function(E,D,O,L){var F=1<=E.qm(0)&&1<=D.qm(0),V=new B.l,W=new B.l,X=new B.l;E.A(V),D.A(W);for(var ie=!1,Y=T.ms(V,W,O),te=T.ms(W,V,O),ne=E.Ha(),we=D.Ha(),ze=[0,0],_t=[0,0],Mt=new B.am(E,D,O,!1);Mt.next();){var pe=Mt.pl(),Ge=Mt.jl();if(ne.Wb(pe),we.Wb(Ge),Ge=ne.ia(),2==(pe=we.ia().Fa(Ge,null,_t,ze,O))){pe=ze[0];var it=ze[1];if(Ge=Ge.Rb(),F&&(it-pe)*Ge>O&&(ie=!0,Y&&te))return!0}else if(0!=pe&&(Ge=_t[0],0<(pe=ze[0])&&1>pe&&0<Ge&&1>Ge))return!0}if(F=new B.l,ne=new B.l,F.L(V),F.X(1e3*O,1e3*O),ne.L(W),ne.X(1e3*O,1e3*O),X.L(F),X.Fa(ne),V="",V=ie?V+"**":V+"T*",Y){if(10<D.I()&&(D=B.Vd.clip(D,X,O,0)).B())return!1;V+="****"}else V+="T***";if(te){if(10<E.I()&&(E=B.Vd.clip(E,X,O,0)).B())return!1;V+="***"}else V+="T**";return B.cm.rt(E,D,O,V.toString(),L)},T.tI=function(E,D,O,L){var F=[!1],V=T.rI(E,D,O,F);return F[0]?V:(F=new B.l,D.A(F),F.X(1e3*O,1e3*O),!(10<E.I()&&(E=B.Vd.clip(E,F,O,0),E.B()))&&B.cm.Tw(E,D,O,L))},T.rI=function(E,D,O,L){L[0]=!1;for(var F=E.Ha(),V=D.Ha(),W=[0,0],X=[0,0],ie=new B.am(E,D,O,!1),Y=!1;ie.next();){var te=ie.pl(),ne=ie.jl();if(F.Wb(te,-1),V.Wb(ne,-1),te=F.ia(),0!=(te=V.ia().Fa(te,null,X,W,O))&&(Y=!0,1==te&&(ne=X[0],0<(te=W[0])&&1>te&&0<ne&&1>ne)))return L[0]=!0,!1}if(!Y){for(L[0]=!0,W=new B.l,E.A(W),W.X(O,O),ie=E,Y=!1,X=new B.l,L=0,F=D.ea();L<F;L++)if(0<D.Ka(L)){if(D.Sj(L,X),!W.isIntersecting(X)||(V=D.Oa(D.Ca(L)),0==(V=B.Fg.ym(ie,V,0))))return!1;Y||(!B.Fg.Ol(E,D.ea()-1)||null!=E.Cb&&null!=E.Cb.Gb?ie=E:(V=new B.Ea,E.copyTo(V),V.gj(1),ie=V),Y=!0)}if(1==E.ea()||1607==D.K())return!0;for(W=new B.l,D.A(W),W.X(O,O),X=D,ie=!1,O=new B.l,L=0,F=E.ea();L<F;L++)if(0<E.Ka(L)){if(E.Sj(L,O),W.isIntersecting(O)&&(V=E.Oa(E.Ca(L)),1==(V=B.Fg.ym(X,V,0))))return!1;ie||(!B.Fg.Ol(D,E.ea()-1)||null!=D.Cb&&null!=D.Cb.Gb?X=D:(V=new B.Ea,D.copyTo(V),V.gj(1),X=V),ie=!0)}return!0}return!1},T.BI=function(E,D,O,L){for(var F=E.Ha(),V=D.Ha(),W=[0,0],X=[0,0],ie=new B.am(E,D,O,!1),Y=!1;ie.next();){var te=ie.pl(),ne=ie.jl();if(F.Wb(te),V.Wb(ne),te=F.ia(),2==(te=V.ia().Fa(te,null,X,W,O)))Y=!0;else if(0!=te){if(te=X[0],0<(Y=W[0])&&1>Y&&0<te&&1>te)return!1;Y=!0}}return!!Y&&(V=new B.l,W=new B.l,F=new B.l,E.A(V),D.A(W),V.X(1e3*O,1e3*O),W.X(1e3*O,1e3*O),F.L(V),F.Fa(W),!(10<E.I()&&(E=B.Vd.clip(E,F,O,0),E.B())||10<D.I()&&(D=B.Vd.clip(D,F,O,0),D.B()))&&B.cm.bn(E,D,O,"F********",L))},T.vI=function(E,D,O,L){for(var F=E.Ha(),V=D.Ha(),W=[0,0],X=[0,0],ie=new B.am(E,D,O,!1),Y=!1;ie.next();){var te=ie.pl(),ne=ie.jl();if(F.Wb(te),V.Wb(ne),te=F.ia(),2==(te=V.ia().Fa(te,null,X,W,O)))Y=!0;else if(0!=te){if(te=X[0],0<(Y=W[0])&&1>Y&&0<te&&1>te)return!0;Y=!0}}return!!Y&&(V=new B.l,W=new B.l,X=new B.l,ie=new B.l,F=new B.l,E.A(V),D.A(W),T.ms(W,V,O)?(X.L(V),X.X(1e3*O,1e3*O),ie.L(W),ie.X(1e3*O,1e3*O),F.L(X),F.Fa(ie),!(10<E.I()&&(E=B.Vd.clip(E,F,O,0),E.B())||10<D.I()&&(D=B.Vd.clip(D,F,O,0),D.B()))&&(O=B.cm.bn(E,D,O,"T********",L))):O=B.cm.bn(E,D,O,"T*****T**",L))},T.uI=function(E,D,O,L){var F=[!1],V=T.rI(E,D,O,F);return F[0]?V:(F=new B.l,D.A(F),F.X(1e3*O,1e3*O),!(10<E.I()&&(E=B.Vd.clip(E,F,O,0),E.B()))&&B.cm.$A(E,D,O,L))},T.sI=function(E,D,O){return 1==B.jd.Zd(E,D,O)},T.zI=function(E,D,O){return 2==B.jd.Zd(E,D,O)},T.kt=function(E,D,O){var L=new B.h;O*=O;for(var F=0;F<E.I();F++)if(E.D(F,L),B.h.zc(L,D)<=O)return!1;return!0},T.prototype.IE=function(E,D){return(E=this.sh[E]).Om<(D=this.sh[D]).Om||E.Om==D.Om&&(E.qw<D.qw||E.qw==D.qw&&(E.Lj<D.Lj||E.Lj==D.Lj&&(E.Ti<D.Ti||E.Ti==D.Ti&&E.tH<D.tH)))?-1:1},T}();B.vd=k}(st||(st={})),function(B){var Be,$,k,T;($=Be||(Be={}))[$.InteriorInterior=0]="InteriorInterior",$[$.InteriorBoundary=1]="InteriorBoundary",$[$.InteriorExterior=2]="InteriorExterior",$[$.BoundaryInterior=3]="BoundaryInterior",$[$.BoundaryBoundary=4]="BoundaryBoundary",$[$.BoundaryExterior=5]="BoundaryExterior",$[$.ExteriorInterior=6]="ExteriorInterior",$[$.ExteriorBoundary=7]="ExteriorBoundary",$[$.ExteriorExterior=8]="ExteriorExterior",(T=k||(k={}))[T.AreaAreaPredicates=0]="AreaAreaPredicates",T[T.AreaLinePredicates=1]="AreaLinePredicates",T[T.LineLinePredicates=2]="LineLinePredicates",T[T.AreaPointPredicates=3]="AreaPointPredicates",T[T.LinePointPredicates=4]="LinePointPredicates",T[T.PointPointPredicates=5]="PointPointPredicates",Be=function(){function T(){this.le=0,this.j=new B.ju,this.J=[0,0,0,0,0,0,0,0,0],this.$a=[0,0,0,0,0,0,0,0,0],this.fa=[!1,!1,!1,!1,!1,!1,!1,!1,!1],this.Um=this.ww=-1}return T.sB=function(E,D,O,L,F){if(9!=L.length)throw B.i.ga("relation string length has to be 9 characters");for(var V=0;9>V;V++){var W=L.charAt(V);if("*"!=W&&"T"!=W&&"F"!=W&&"0"!=W&&"1"!=W&&"2"!=W)throw B.i.ga("relation string")}if(0!=(V=this.DR(L,E.Eb(),D.Eb())))return B.vd.tB(E,D,O,V,F);V=new B.l,E.A(V),W=new B.l,D.A(W);var X=new B.l;if(X.L(V),X.$b(W),O=B.ta.Xd(O,X,!1),E=this.OE(E,O),D=this.OE(D,O),E.B()||D.B())return this.kW(E,D,L);switch(V=D.K(),W=!1,E.K()){case 1736:switch(V){case 1736:W=this.rt(E,D,O,L,F);break;case 1607:W=this.bn(E,D,O,L,F);break;case 33:W=this.qt(E,D,O,L);break;case 550:W=this.pt(E,D,O,L,F)}break;case 1607:switch(V){case 1736:W=this.bn(D,E,O,this.aq(L),F);break;case 1607:W=this.aB(E,D,O,L,F);break;case 33:W=this.tt(E,D,O,L,F);break;case 550:W=this.st(E,D,O,L,F)}break;case 33:switch(V){case 1736:W=this.qt(D,E,O,this.aq(L));break;case 1607:W=this.tt(D,E,O,this.aq(L),F);break;case 33:W=this.QU(E,D,O,L);break;case 550:W=this.lt(D,E,O,this.aq(L))}break;case 550:switch(V){case 1736:W=this.pt(D,E,O,this.aq(L),F);break;case 1607:W=this.st(D,E,O,this.aq(L),F);break;case 550:W=this.TA(E,D,O,L,F);break;case 33:W=this.lt(E,D,O,L)}break;default:W=!1}return W},T.rt=function(E,D,O,L,F){var V=new T;V.Zi(),V.cj(L),V.pJ();var W=new B.l,X=new B.l;return E.A(W),D.A(X),L=!1,B.vd.dk(W,X,O)&&(V.Du(E,D),L=!0),L||(4==(W=B.vd.qc(E,D,!1))?(V.Du(E,D),L=!0):1==W?(V.gy(D),L=!0):2==W&&(V.RD(E),L=!0)),L||(E=(L=new B.hd).Ib(E),D=L.Ib(D),V.Xo(L,O,F),V.Dp(E,D),V.j.Vg()),T.fg(V.J,V.Yc)},T.Tw=function(E,D,O,L){var F=new T;F.Zi(),F.cj("T*****F**"),F.pJ();var V=new B.l,W=new B.l;E.A(V),D.A(W);var X=!1;return B.vd.dk(V,W,O)&&(F.Du(E,D),X=!0),X||(4==(V=B.vd.qc(E,D,!1))?(F.Du(E,D),X=!0):1==V?(F.gy(D),X=!0):2==V&&(F.RD(E),X=!0)),X?this.fg(F.J,F.Yc):(E=(X=new B.hd).Ib(E),V=X.Ib(D),B.Tk.W(X,O,L,!1),O=X.Ke(V).mg(),X.Ip(0,!0,!0),B.tn.W(X,E,-1,!1,L),0!=X.I(E)&&(B.tn.W(X,V,-1,!1,L),F.gr(X,L),(D=0==X.I(V))||(F.Dp(E,V),F.j.Vg(),V=this.fg(F.J,F.Yc))?(E=X.Ke(E),E=(X=new B.hd).Ib(E),V=X.Ib(O),F.gr(X,L),F.le=0,F.Zi(),F.cj(D?"T*****F**":"******F**"),F.CB(),F.Dp(E,V),F.j.Vg(),this.fg(F.J,F.Yc)):V))},T.bn=function(E,D,O,L,F){var V=new T;V.Zi(),V.cj(L),V.CB();var W=new B.l,X=new B.l;return E.A(W),D.A(X),L=!1,B.vd.dk(W,X,O)&&(V.Eu(E,D),L=!0),L||(4==(W=B.vd.qc(E,D,!1))?(V.Eu(E,D),L=!0):1==W&&(V.SD(D),L=!0)),L||(E=(L=new B.hd).Ib(E),D=L.Ib(D),V.Xo(L,O,F),V.lh=V.j.Fp(),T.Kw(D,V.j,V.lh),V.Dp(E,D),V.j.Gp(V.lh),V.j.Vg()),T.fg(V.J,V.Yc)},T.$A=function(E,D,O,L){var F=new T;F.Zi(),F.cj("T*****F**"),F.CB();var V=new B.l,W=new B.l;E.A(V),D.A(W);var X=!1;return B.vd.dk(V,W,O)&&(F.Eu(E,D),X=!0),X||(4==(V=B.vd.qc(E,D,!1))?(F.Eu(E,D),X=!0):1==V&&(F.SD(D),X=!0)),X?this.fg(F.J,F.Yc):(E=(X=new B.hd).Ib(E),D=X.Ib(D),F.Xo(X,O,L),0!=X.I(E)&&(F.Dp(E,D),F.j.Vg(),this.fg(F.J,F.Yc)))},T.pt=function(E,D,O,L,F){var V=new T;V.Zi(),V.cj(L),V.qJ();var W=new B.l,X=new B.l;return E.A(W),D.A(X),L=!1,B.vd.dk(W,X,O)&&(V.Fu(E),L=!0),L||(4==(W=B.vd.qc(E,D,!1))?(V.Fu(E),L=!0):1==W&&(V.rN(),L=!0)),L||(E=(L=new B.hd).Ib(E),D=L.Ib(D),V.Xo(L,O,F),V.Ay(E,D),V.j.Vg()),T.fg(V.J,V.Yc)},T.aB=function(E,D,O,L,F){var V=new T;V.Zi(),V.cj(L),V.SW(),L=new B.l;var W=new B.l;E.A(L),D.A(W);var X=!1;return B.vd.dk(L,W,O)&&(V.HG(E,D),X=!0),X||4!=B.vd.qc(E,D,!1)||(V.HG(E,D),X=!0),X||(E=(L=new B.hd).Ib(E),D=L.Ib(D),V.Xo(L,O,F),V.Zh=V.j.Fp(),V.lh=V.j.Fp(),T.Kw(E,V.j,V.Zh),T.Kw(D,V.j,V.lh),V.Dp(E,D),V.j.Gp(V.Zh),V.j.Gp(V.lh),V.j.Vg()),T.fg(V.J,V.Yc)},T.st=function(E,D,O,L,F){var V=new T;V.Zi(),V.cj(L),V.EJ(),L=new B.l;var W=new B.l;E.A(L),D.A(W);var X=!1;return B.vd.dk(L,W,O)&&(V.Qz(E),X=!0),X||4!=B.vd.qc(E,D,!1)||(V.Qz(E),X=!0),X||(E=(L=new B.hd).Ib(E),D=L.Ib(D),V.Xo(L,O,F),V.Zh=V.j.Fp(),T.Kw(E,V.j,V.Zh),V.Ay(E,D),V.j.Gp(V.Zh),V.j.Vg()),T.fg(V.J,V.Yc)},T.TA=function(E,D,O,L,F){var V=new T;V.Zi(),V.cj(L),V.JJ(),L=new B.l;var W=new B.l;E.A(L),D.A(W);var X=!1;return B.vd.dk(L,W,O)&&(V.qI(),X=!0),X||(E=(L=new B.hd).Ib(E),D=L.Ib(D),V.Xo(L,O,F),V.Ay(E,D),V.j.Vg()),T.fg(V.J,V.Yc)},T.qt=function(E,D,O,L){var F=new T;F.Zi(),F.cj(L),F.qJ();var V=new B.l;E.A(V),D=D.D();var W=!1;return B.vd.Sw(D,V,O)&&(F.Fu(E),W=!0),W||(1==(O=B.jd.Zd(E,D,O))?(F.J[0]=0,F.J[2]=2,F.J[3]=-1,F.J[5]=1,F.J[6]=-1):2==O?(F.J[6]=-1,0!=E.He()?(F.J[0]=-1,F.J[3]=0,F.J[2]=2,F.J[5]=1):(F.J[0]=0,F.J[3]=-1,F.J[5]=-1,O=new B.l,E.A(O),F.J[2]=0==O.da()&&0==O.S()?-1:1)):F.Fu(E)),this.fg(F.J,L)},T.tt=function(E,D,O,L,F){var V=new T;V.Zi(),V.cj(L),V.EJ();var W=new B.l;E.A(W),L=D.D();var X=!1;if(B.vd.Sw(L,W,O)&&(V.Qz(E),X=!0),!X){W=null;var ie=X=!1;(V.fa[0]||V.fa[6])&&(B.vd.Tz(E,L,O)?(V.fa[0]&&(W=B.ri.im(E,F),ie=!B.vd.kt(W,L,O),X=!0,V.J[0]=ie?-1:0),V.J[6]=-1):(V.J[0]=-1,V.J[6]=0)),V.fa[3]&&(null!=W&&W.B()?V.J[3]=-1:(X||(null==W&&(W=B.ri.im(E,F)),ie=!B.vd.kt(W,L,O),X=!0),V.J[3]=ie?0:-1)),V.fa[5]&&(null!=W&&W.B()?V.J[5]=-1:X&&!ie?V.J[5]=0:(null==W&&(W=B.ri.im(E,F)),F=B.vd.Ow(W,D,O),V.J[5]=F?-1:0)),V.fa[2]&&(0!=E.Rb()?V.J[2]=1:((F=new B.de(E.description)).Gd(E,0,E.I()),E=B.vd.Ow(F,D,O),V.J[2]=E?-1:0))}return this.fg(V.J,V.Yc)},T.lt=function(E,D,O,L){var F=new T;F.Zi(),F.cj(L),F.JJ();var V=new B.l;E.A(V),D=D.D();var W=!1;if(B.vd.Sw(D,V,O)&&(F.qI(),W=!0),!W){V=!1,W=!0,O*=O;for(var X=0;X<E.I();X++){var ie=E.Oa(X);if(B.h.zc(ie,D)<=O?V=!0:W=!1,V&&!W)break}V?(F.J[0]=0,F.J[2]=W?-1:0,F.J[6]=-1):(F.J[0]=-1,F.J[2]=0,F.J[6]=0)}return T.fg(F.J,L)},T.QU=function(E,D,O,L){E=E.D(),D=D.D();for(var F=[],V=0;9>V;V++)F[V]=-1;return B.h.zc(E,D)<=O*O?F[0]=0:(F[2]=0,F[6]=0),F[8]=2,T.fg(F,L)},T.fg=function(E,D){for(var O=0;9>O;O++)switch(D.charAt(O)){case"T":if(-1==E[O])return!1;break;case"F":if(-1!=E[O])return!1;break;case"0":if(0!=E[O])return!1;break;case"1":if(1!=E[O])return!1;break;case"2":if(2!=E[O])return!1}return!0},T.kW=function(E,D,O){var L=[-1,-1,-1,-1,-1,-1,-1,-1,-1];if(E.B()&&D.B()){for(var F=0;9>F;F++)L[F]=-1;return this.fg(L,O)}return F=!1,E.B()&&(E=D,F=!0),L[0]=-1,L[1]=-1,L[3]=-1,L[4]=-1,L[6]=-1,L[7]=-1,L[8]=2,D=E.K(),B.ba.Ic(D)?1736==D?0!=E.He()?(L[2]=2,L[5]=1):(L[5]=-1,D=new B.l,E.A(D),L[2]=0==D.da()&&0==D.S()?0:1):(D=0!=E.Rb(),L[2]=D?1:0,L[5]=B.ri.cq(E)?0:-1):(L[2]=0,L[5]=-1),F&&this.nK(L),this.fg(L,O)},T.DR=function(E,D,O){return T.WP(E)?3:T.MP(E)?4:T.RX(E,D,O)?8:T.uP(E,D,O)?16:T.XO(E)?1:T.uU(E,D,O)?32:0},T.WP=function(E){return"T"==E.charAt(0)&&"*"==E.charAt(1)&&"F"==E.charAt(2)&&"*"==E.charAt(3)&&"*"==E.charAt(4)&&"F"==E.charAt(5)&&"F"==E.charAt(6)&&"F"==E.charAt(7)&&"*"==E.charAt(8)},T.MP=function(E){return"F"==E.charAt(0)&&"F"==E.charAt(1)&&"*"==E.charAt(2)&&"F"==E.charAt(3)&&"F"==E.charAt(4)&&"*"==E.charAt(5)&&"*"==E.charAt(6)&&"*"==E.charAt(7)&&"*"==E.charAt(8)},T.RX=function(E,D,O){return(0!=D||0!=O)&&((2!=D||2!=O)&&("F"==E.charAt(0)&&"*"==E.charAt(1)&&"*"==E.charAt(2)&&"T"==E.charAt(3)&&"*"==E.charAt(4)&&"*"==E.charAt(5)&&"*"==E.charAt(6)&&"*"==E.charAt(7)&&"*"==E.charAt(8)||1==D&&1==O&&"F"==E.charAt(0)&&"T"==E.charAt(1)&&"*"==E.charAt(2)&&"*"==E.charAt(3)&&"*"==E.charAt(4)&&"*"==E.charAt(5)&&"*"==E.charAt(6)&&"*"==E.charAt(7)&&"*"==E.charAt(8))||0!=O&&"F"==E.charAt(0)&&"*"==E.charAt(1)&&"*"==E.charAt(2)&&"*"==E.charAt(3)&&"T"==E.charAt(4)&&"*"==E.charAt(5)&&"*"==E.charAt(6)&&"*"==E.charAt(7)&&"*"==E.charAt(8))},T.uP=function(E,D,O){return D>O?"T"==E.charAt(0)&&"*"==E.charAt(1)&&"*"==E.charAt(2)&&"*"==E.charAt(3)&&"*"==E.charAt(4)&&"*"==E.charAt(5)&&"T"==E.charAt(6)&&"*"==E.charAt(7)&&"*"==E.charAt(8):1==D&&1==O&&"0"==E.charAt(0)&&"*"==E.charAt(1)&&"*"==E.charAt(2)&&"*"==E.charAt(3)&&"*"==E.charAt(4)&&"*"==E.charAt(5)&&"*"==E.charAt(6)&&"*"==E.charAt(7)&&"*"==E.charAt(8)},T.XO=function(E){return"T"==E.charAt(0)&&"*"==E.charAt(1)&&"*"==E.charAt(2)&&"*"==E.charAt(3)&&"*"==E.charAt(4)&&"*"==E.charAt(5)&&"F"==E.charAt(6)&&"F"==E.charAt(7)&&"*"==E.charAt(8)},T.uU=function(E,D,O){if(D==O){if(1!=D)return"T"==E.charAt(0)&&"*"==E.charAt(1)&&"T"==E.charAt(2)&&"*"==E.charAt(3)&&"*"==E.charAt(4)&&"*"==E.charAt(5)&&"T"==E.charAt(6)&&"*"==E.charAt(7)&&"*"==E.charAt(8);if("1"==E.charAt(0)&&"*"==E.charAt(1)&&"T"==E.charAt(2)&&"*"==E.charAt(3)&&"*"==E.charAt(4)&&"*"==E.charAt(5)&&"T"==E.charAt(6)&&"*"==E.charAt(7)&&"*"==E.charAt(8))return!0}return!1},T.Kw=function(E,D,O){E=D.Ma(E);for(var L=D.Oe;-1!=L;L=D.Sf(L))if(0!=(D.yd(L)&E)){var F=D.Je(L);if(-1==F)D.pn(L,O,0);else{var V=F,W=0;do{0!=(D.eh(V)&E)&&W++,V=D.kc(D.ya(V))}while(V!=F);D.pn(L,O,W)}}},T.aq=function(E){var D=""+E.charAt(0);return D+=E.charAt(3),D+=E.charAt(6),D+=E.charAt(1),D+=E.charAt(4),D+=E.charAt(7),D+=E.charAt(2),(D+=E.charAt(5))+E.charAt(8)},T.prototype.Zi=function(){for(var E=0;9>E;E++)this.J[E]=-2,this.$a[E]=-2},T.nK=function(E){var D=E[1],O=E[2],L=E[5];E[1]=E[3],E[2]=E[6],E[5]=E[7],E[3]=D,E[6]=O,E[7]=L},T.prototype.cj=function(E){for(this.Yc=E,E=0;9>E;E++)"*"!=this.Yc.charAt(E)?(this.fa[E]=!0,this.le++):this.fa[E]=!1},T.prototype.MJ=function(){for(var E=0;9>E;E++)this.fa[E]&&-2==this.J[E]&&(this.J[E]=-1,this.fa[E]=!1)},T.prototype.pc=function(E){return!(-2==this.J[E]||(-1==this.J[E]?(this.fa[E]=!1,this.le--,0):"T"!=this.Yc.charAt(E)&&"F"!=this.Yc.charAt(E)&&this.J[E]<this.$a[E]||(this.fa[E]=!1,this.le--,0)))},T.prototype.pJ=function(){this.ww=0,this.$a[0]=2,this.$a[1]=1,this.$a[2]=2,this.$a[3]=1,this.$a[4]=1,this.$a[5]=1,this.$a[6]=2,this.$a[7]=1,this.$a[8]=2,this.fa[8]&&(this.J[8]=2,this.fa[8]=!1,this.le--)},T.prototype.CB=function(){this.ww=1,this.Um=3,this.$a[0]=1,this.$a[1]=0,this.$a[2]=2,this.$a[3]=1,this.$a[4]=0,this.$a[5]=1,this.$a[6]=1,this.$a[7]=0,this.$a[8]=2,this.fa[8]&&(this.J[8]=2,this.fa[8]=!1,this.le--)},T.prototype.SW=function(){this.ww=2,this.Um=4,this.$a[0]=1,this.$a[1]=0,this.$a[2]=1,this.$a[3]=0,this.$a[4]=0,this.$a[5]=0,this.$a[6]=1,this.$a[7]=0,this.$a[8]=2,this.fa[8]&&(this.J[8]=2,this.fa[8]=!1,this.le--)},T.prototype.qJ=function(){this.Um=3,this.$a[0]=0,this.$a[1]=-1,this.$a[2]=2,this.$a[3]=0,this.$a[4]=-1,this.$a[5]=1,this.$a[6]=0,this.$a[7]=-1,this.$a[8]=2,this.fa[1]&&(this.J[1]=-1,this.fa[1]=!1,this.le--),this.fa[4]&&(this.J[4]=-1,this.fa[4]=!1,this.le--),this.fa[7]&&(this.J[7]=-1,this.fa[7]=!1,this.le--),this.fa[8]&&(this.J[8]=2,this.fa[8]=!1,this.le--)},T.prototype.EJ=function(){this.Um=4,this.$a[0]=0,this.$a[1]=-1,this.$a[2]=1,this.$a[3]=0,this.$a[4]=-1,this.$a[5]=0,this.$a[6]=0,this.$a[7]=-1,this.$a[8]=2,this.fa[1]&&(this.J[1]=-1,this.fa[1]=!1,this.le--),this.fa[4]&&(this.J[4]=-1,this.fa[4]=!1,this.le--),this.fa[7]&&(this.J[7]=-1,this.fa[7]=!1,this.le--),this.fa[8]&&(this.J[8]=2,this.fa[8]=!1,this.le--)},T.prototype.JJ=function(){this.Um=5,this.$a[0]=0,this.$a[1]=-1,this.$a[2]=0,this.$a[3]=-1,this.$a[4]=-1,this.$a[5]=-1,this.$a[6]=0,this.$a[7]=-1,this.$a[8]=2,this.fa[1]&&(this.J[1]=-1,this.fa[1]=!1,this.le--),this.fa[3]&&(this.J[3]=-1,this.fa[3]=!1,this.le--),this.fa[4]&&(this.J[4]=-1,this.fa[4]=!1,this.le--),this.fa[5]&&(this.J[5]=-1,this.fa[5]=!1,this.le--),this.fa[7]&&(this.J[7]=-1,this.fa[7]=!1,this.le--),this.fa[8]&&(this.J[8]=2,this.fa[8]=!1,this.le--)},T.prototype.pN=function(E,D,O){var L=!0;return this.fa[0]&&(this.tS(E,D,O),L=L&&this.pc(0)),this.fa[1]&&(this.kG(E,D,1),L=L&&this.pc(1)),this.fa[2]&&(this.lG(E,D,O,2),L=L&&this.pc(2)),this.fa[3]&&(this.kG(E,O,3),L=L&&this.pc(3)),this.fa[4]&&(this.tN(E,D,O),L=L&&this.pc(4)),this.fa[5]&&(this.XD(E,O,5),L=L&&this.pc(5)),this.fa[6]&&(this.lG(E,O,D,6),L=L&&this.pc(6)),this.fa[7]&&(this.XD(E,D,7),L=L&&this.pc(7)),L},T.prototype.Du=function(E,D){this.J[0]=-1,this.J[1]=-1,this.J[3]=-1,this.J[4]=-1,this.Hr(E,this.fa[2]?2:-1,this.Yc.charAt(2),this.fa[5]?5:-1,this.Yc.charAt(5)),this.Hr(D,this.fa[6]?6:-1,this.Yc.charAt(6),this.fa[7]?7:-1,this.Yc.charAt(7))},T.prototype.Hr=function(E,D,O,L,F){-1==D&&-1==L||(("T"!=O&&"F"!=O&&-1!=D||"T"!=F&&"F"!=F&&-1!=L)&&0==E.He()?(-1!=L&&(this.J[L]=-1),-1!=D&&(O=new B.l,E.A(O),this.J[D]=0==O.da()&&0==O.S()?0:1)):(-1!=D&&(this.J[D]=2),-1!=L&&(this.J[L]=1)))},T.prototype.gy=function(E){this.J[2]=2,this.J[3]=-1,this.J[4]=-1,this.J[5]=1,this.J[6]=-1,this.J[7]=-1,this.Hr(E,this.fa[0]?0:-1,this.Yc.charAt(0),this.fa[1]?1:-1,this.Yc.charAt(1))},T.prototype.RD=function(E){this.gy(E),T.nK(this.J)},T.prototype.Eu=function(E,D){if(this.J[0]=-1,this.J[1]=-1,this.J[3]=-1,this.J[4]=-1,this.fa[6]){var O=this.Yc.charAt(6);O="T"==O||"F"==O||0!=D.Rb(),this.J[6]=O?1:0}this.fa[7]&&(D=B.ri.cq(D),this.J[7]=D?0:-1),this.Hr(E,this.fa[2]?2:-1,this.Yc.charAt(2),this.fa[5]?5:-1,this.Yc.charAt(5))},T.prototype.SD=function(E){if(this.fa[0]){var D=this.Yc.charAt(0);D="T"==D||"F"==D||0!=E.Rb(),this.J[0]=D?1:0}this.fa[1]&&(E=B.ri.cq(E),this.J[1]=E?0:-1),this.J[2]=2,this.J[3]=-1,this.J[4]=-1,this.J[5]=1,this.J[6]=-1,this.J[7]=-1},T.prototype.Fu=function(E){this.J[0]=-1,this.J[3]=-1,this.J[6]=0,this.Hr(E,this.fa[2]?2:-1,this.Yc.charAt(2),this.fa[5]?5:-1,this.Yc.charAt(5))},T.prototype.rN=function(){this.J[0]=0,this.J[2]=2,this.J[3]=-1,this.J[5]=1,this.J[6]=-1},T.prototype.HG=function(E,D){if(this.J[0]=-1,this.J[1]=-1,this.J[3]=-1,this.J[4]=-1,this.fa[2]){var O=this.Yc.charAt(2);O="T"==O||"F"==O||0!=E.Rb(),this.J[2]=O?1:0}this.fa[5]&&(E=B.ri.cq(E),this.J[5]=E?0:-1),this.fa[6]&&(O="T"==(O=this.Yc.charAt(6))||"F"==O||0!=D.Rb(),this.J[6]=O?1:0),this.fa[7]&&(D=B.ri.cq(D),this.J[7]=D?0:-1)},T.prototype.Qz=function(E){if(this.J[0]=-1,this.J[3]=-1,this.fa[2]){var D=this.Yc.charAt(2);D="T"==D||"F"==D||0!=E.Rb(),this.J[2]=D?1:0}this.fa[5]&&(E=B.ri.cq(E),this.J[5]=E?0:-1),this.J[6]=0},T.prototype.qI=function(){this.J[0]=-1,this.J[2]=0,this.J[6]=0},T.prototype.qN=function(E,D,O){var L=!0;return this.fa[0]&&(this.uS(E,D),L=L&&this.pc(0)),this.fa[1]&&(this.qS(E,D,O,this.lh),L=L&&this.pc(1)),this.fa[2]&&(this.rS(E,D),L=L&&this.pc(2)),this.fa[3]&&(this.xN(E,D,O,this.lh),L=L&&this.pc(3)),this.fa[4]&&(this.uN(E,D,O,this.lh),L=L&&this.pc(4)),this.fa[5]&&(this.vN(E,D,O),L=L&&this.pc(5)),this.fa[6]&&(this.dQ(E,D),L=L&&this.pc(6)),this.fa[7]&&(this.cQ(E,D,O,this.lh),L=L&&this.pc(7)),L},T.prototype.cT=function(E,D,O){var L=!0;return this.fa[0]&&(this.xS(E,D,O,this.Zh,this.lh),L=L&&this.pc(0)),this.fa[1]&&(this.mG(E,D,O,this.Zh,this.lh,1),L=L&&this.pc(1)),this.fa[2]&&(this.nG(E,D,O,2),L=L&&this.pc(2)),this.fa[3]&&(this.mG(E,O,D,this.lh,this.Zh,3),L=L&&this.pc(3)),this.fa[4]&&(this.zN(E,D,O,this.Zh,this.lh),L=L&&this.pc(4)),this.fa[5]&&(this.YD(E,O,this.Zh,5),L=L&&this.pc(5)),this.fa[6]&&(this.nG(E,O,D,6),L=L&&this.pc(6)),this.fa[7]&&(this.YD(E,D,this.lh,7),L=L&&this.pc(7)),L},T.prototype.TD=function(E,D,O){var L=!0;return this.fa[0]&&(this.vS(E,D),L=L&&this.pc(0)),this.fa[2]&&(this.sS(E,D),L=L&&this.pc(2)),this.fa[3]&&(this.yN(E,D,O),L=L&&this.pc(3)),this.fa[5]&&(this.wN(E,D),L=L&&this.pc(5)),this.fa[6]&&(this.eQ(E,D),L=L&&this.pc(6)),L},T.prototype.IG=function(E,D,O){var L=!0;return this.fa[0]&&(this.yS(E,D,O,this.Zh),L=L&&this.pc(0)),this.fa[2]&&(this.wS(E,O),L=L&&this.pc(2)),this.fa[3]&&(this.BN(E,D,O,this.Zh),L=L&&this.pc(3)),this.fa[5]&&(this.AN(E,D,O,this.Zh),L=L&&this.pc(5)),this.fa[6]&&(this.fQ(E,D,O),L=L&&this.pc(6)),L},T.prototype.PU=function(E,D,O){var L=!0;return this.fa[0]&&(this.zS(E,D,O),L=L&&this.pc(0)),this.fa[2]&&(this.oG(E,D,O,2),L=L&&this.pc(2)),this.fa[6]&&(this.oG(E,O,D,6),L=L&&this.pc(6)),L},T.prototype.tS=function(E,D,O){2!=this.J[0]&&0!=((E=this.j.af(E))&D)&&0!=(E&O)&&(this.J[0]=2)},T.prototype.kG=function(E,D,O){if(1!=this.J[O]){var L=this.j.af(this.j.ya(E));0!=(this.j.af(E)&D)&&0!=(L&D)&&(this.J[O]=1)}},T.prototype.lG=function(E,D,O,L){2!=this.J[L]&&0!=((E=this.j.af(E))&D)&&0==(E&O)&&(this.J[L]=2)},T.prototype.tN=function(E,D,O){if(1!=this.J[4]){var L=this.j.eh(E);0!=(L&D)&&0!=(L&O)?this.J[4]=1:0!=this.J[4]&&1!=this.j.Bb(this.j.ue(this.j.ya(E)),this.Vi)&&0!=((E=this.j.yd(this.j.vf(E)))&D)&&0!=(E&O)&&(this.J[4]=0)}},T.prototype.XD=function(E,D,O){if(1!=this.J[O]){var L=this.j.af(this.j.ya(E));0==(this.j.af(E)&D)&&0==(L&D)&&(this.J[O]=1)}},T.prototype.uS=function(E,D){if(1!=this.J[0]){var O=this.j.af(this.j.ya(E));0!=(this.j.af(E)&D)&&0!=(O&D)&&(this.J[0]=1)}},T.prototype.qS=function(E,D,O,L){if(0!=this.J[1]&&1!=this.j.Bb(this.j.ue(this.j.ya(E)),this.Vi)){var F=this.j.vf(E),V=this.j.yd(F);0==(V&D)&&0!=(this.j.af(E)&D)&&(E=this.j.ng(F,L),0!=(V&O)&&E%2!=0&&(this.J[1]=0))}},T.prototype.rS=function(E,D){2!=this.J[2]&&0!=(this.j.eh(E)&D)&&(this.J[2]=2)},T.prototype.xN=function(E,D,O,L){if(1!=this.J[3]){var F=this.j.eh(E);0!=(F&D)&&0!=(F&O)?this.J[3]=1:0!=this.J[3]&&1!=this.j.Bb(this.j.ue(this.j.ya(E)),this.Vi)&&(F=this.j.vf(E),0!=((E=this.j.yd(F))&D)&&(D=this.j.ng(F,L),0!=(E&O)&&D%2==0&&(this.J[3]=0)))}},T.prototype.uN=function(E,D,O,L){if(0!=this.J[4]&&1!=this.j.Bb(this.j.ue(this.j.ya(E)),this.Vi)){var F=this.j.vf(E);0!=((E=this.j.yd(F))&D)&&(D=this.j.ng(F,L),0!=(E&O)&&D%2!=0&&(this.J[4]=0))}},T.prototype.vN=function(E,D,O){1!=this.J[5]&&0!=((E=this.j.eh(E))&D)&&0==(E&O)&&(this.J[5]=1)},T.prototype.dQ=function(E,D){if(1!=this.J[6]){var O=this.j.af(this.j.ya(E));0==(this.j.af(E)&D)&&0==(O&D)&&(this.J[6]=1)}},T.prototype.cQ=function(E,D,O,L){if(0!=this.J[7]&&1!=this.j.Bb(this.j.ue(this.j.ya(E)),this.Vi)){var F=this.j.vf(E),V=this.j.yd(F);0==(V&D)&&0==(this.j.af(E)&D)&&(E=this.j.ng(F,L),0!=(V&O)&&E%2!=0&&(this.J[7]=0))}},T.prototype.xS=function(E,D,O,L,F){if(1!=this.J[0]){var V=this.j.eh(E);0!=(V&D)&&0!=(V&O)?this.J[0]=1:0!=this.J[0]&&1!=this.j.Bb(this.j.ue(this.j.ya(E)),this.Vi)&&(E=this.j.vf(E),0!=((V=this.j.yd(E))&D)&&0!=(V&O)&&(D=this.j.ng(E,L),F=this.j.ng(E,F),D%2==0&&F%2==0&&(this.J[0]=0)))}},T.prototype.mG=function(E,D,O,L,F,V){if(0!=this.J[V]&&1!=this.j.Bb(this.j.ue(this.j.ya(E)),this.Vi)){E=this.j.vf(E);var W=this.j.yd(E);0!=(W&D)&&0!=(W&O)&&(D=this.j.ng(E,L),F=this.j.ng(E,F),D%2==0&&F%2!=0&&(this.J[V]=0))}},T.prototype.nG=function(E,D,O,L){1!=this.J[L]&&0!=((E=this.j.eh(E))&D)&&0==(E&O)&&(this.J[L]=1)},T.prototype.zN=function(E,D,O,L,F){if(0!=this.J[4]&&1!=this.j.Bb(this.j.ue(this.j.ya(E)),this.Vi)){E=this.j.vf(E);var V=this.j.yd(E);0!=(V&D)&&0!=(V&O)&&(D=this.j.ng(E,L),F=this.j.ng(E,F),D%2!=0&&F%2!=0&&(this.J[4]=0))}},T.prototype.YD=function(E,D,O,L){0!=this.J[L]&&1!=this.j.Bb(this.j.ue(this.j.ya(E)),this.Vi)&&(E=this.j.vf(E),0==(this.j.yd(E)&D)&&this.j.ng(E,O)%2!=0&&(this.J[L]=0))},T.prototype.vS=function(E,D){0!=this.J[0]&&0==(this.j.yd(E)&D)&&0!=(this.j.hk(this.j.Yy(E))&D)&&(this.J[0]=0)},T.prototype.sS=function(E,D){2!=this.J[2]&&0!=(this.j.yd(E)&D)&&(this.J[2]=2)},T.prototype.yN=function(E,D,O){0!=this.J[3]&&0!=((E=this.j.yd(E))&D)&&0!=(E&O)&&(this.J[3]=0)},T.prototype.wN=function(E,D){1!=this.J[5]&&0!=(this.j.yd(E)&D)&&(this.J[5]=1)},T.prototype.eQ=function(E,D){0!=this.J[6]&&0==(this.j.yd(E)&D)&&0==(this.j.hk(this.j.Yy(E))&D)&&(this.J[6]=0)},T.prototype.yS=function(E,D,O,L){if(0!=this.J[0]){var F=this.j.yd(E);0!=(F&D)&&0!=(F&O)&&this.j.ng(E,L)%2==0&&(this.J[0]=0)}},T.prototype.wS=function(E,D){1!=this.J[2]&&(-1!=this.j.Je(E)?this.J[2]=1:0!=this.J[2]&&0==(this.j.yd(E)&D)&&(this.J[2]=0))},T.prototype.BN=function(E,D,O,L){if(0!=this.J[3]){var F=this.j.yd(E);0!=(F&D)&&0!=(F&O)&&this.j.ng(E,L)%2!=0&&(this.J[3]=0)}},T.prototype.AN=function(E,D,O,L){if(0!=this.J[5]){var F=this.j.yd(E);0!=(F&D)&&0==(F&O)&&this.j.ng(E,L)%2!=0&&(this.J[5]=0)}},T.prototype.fQ=function(E,D,O){0!=this.J[6]&&0==((E=this.j.yd(E))&D)&&0!=(E&O)&&(this.J[6]=0)},T.prototype.zS=function(E,D,O){0!=this.J[0]&&0!=((E=this.j.yd(E))&D)&&0!=(E&O)&&(this.J[0]=0)},T.prototype.oG=function(E,D,O,L){0!=this.J[L]&&0!=((E=this.j.yd(E))&D)&&0==(E&O)&&(this.J[L]=0)},T.prototype.Dp=function(E,D){var O=!1;E=this.j.Ma(E),D=this.j.Ma(D),this.Vi=this.j.ah();for(var L=this.j.Oe;-1!=L;L=this.j.Sf(L)){var F=this.j.Je(L);if(-1==F){if(-1!=this.Um)switch(this.Um){case 3:O=this.TD(L,E,D);break;case 4:O=this.IG(L,E,D);break;default:throw B.i.ga("internal error")}}else{var V=F;do{var W=V;if(1!=this.j.Bb(W,this.Vi))do{switch(this.ww){case 0:O=this.pN(W,E,D);break;case 1:O=this.qN(W,E,D);break;case 2:O=this.cT(W,E,D);break;default:throw B.i.ga("internal error")}if(O)break;this.j.Kb(W,this.Vi,1),W=this.j.kc(W)}while(W!=V&&!O);if(O)break;V=this.j.kc(this.j.ya(W))}while(V!=F);if(O)break}}O||this.MJ(),this.j.Lg(this.Vi)},T.prototype.Ay=function(E,D){var O=!1;E=this.j.Ma(E),D=this.j.Ma(D);for(var L=this.j.Oe;-1!=L;L=this.j.Sf(L)){switch(this.Um){case 3:O=this.TD(L,E,D);break;case 4:O=this.IG(L,E,D);break;case 5:O=this.PU(L,E,D);break;default:throw B.i.Ra()}if(O)break}O||this.MJ()},T.prototype.gr=function(E,D){this.j.fr(E,D)},T.prototype.Xo=function(E,D,O){this.QP(E,D,O),this.gr(E,O)},T.prototype.QP=function(E,D,O){for(B.Tk.W(E,D,O,!1),E.Ip(0,!0,!0),D=E.ld;-1!=D;D=E.ve(D))1736==E.jc(D)&&B.tn.W(E,D,-1,!1,O)},T.OE=function(E,D){var O=E.K();return B.ba.zd(O)?((D=new B.Ua(E.description)).oc(E,!0),D):197==O?(O=new B.l,E.A(O),O.da()<=D&&O.S()<=D?(D=new B.Ta(E.description),E.tf(D),D):O.da()<=D||O.S()<=D?(D=new B.Ua(E.description),O=new B.Ta,E.If(0,O),D.nf(O),E.If(2,O),D.lineTo(O),D):((D=new B.Ea(E.description)).bd(E,!1),D)):E},T}(),B.cm=Be}(st||(st={})),function(B){var Be=function(){function T(E){this.Gm=new B.ja(0),this.ew=new B.ja(0),this.wt=new B.h,this.xt=new B.h,this.g=E,this.Is=-1}return T.prototype.cc=function(E){return this.g.cc(this.uz(E))},T.prototype.Cv=function(E){var D=this.dz(E);if(E=this.zF(E),this.g.Na(D)==E){var O=D;D=E,E=O}return this.g.Hc(D,this.wt),this.g.Hc(E,this.xt),this.wt.y<this.xt.y},T.prototype.uz=function(E){var D=this.dz(E);return E=this.zF(E),this.g.V(D)==E?D:E},T.prototype.dz=function(E){return this.Gm.get(E)},T.prototype.zF=function(E){return this.ew.get(E)},T.prototype.jF=function(E){this.Gm.set(E,this.Is),this.Is=E},T.prototype.fI=function(E){if(-1!=this.Is){var D=this.Is;return this.Is=this.Gm.get(D),this.Gm.set(D,E),this.ew.set(D,this.g.V(E)),D}return null==this.Gm&&(this.Gm=new B.ja(0),this.ew=new B.ja(0)),D=this.Gm.size,this.Gm.add(E),this.ew.add(this.g.V(E)),D},T.prototype.mz=function(E){return this.g.cd(this.dz(E))},T}();B.mY=Be;var $=function(){function T(E){this.Ce=E,this.ie=new B.zb,this.Pm=new B.zb,this.uH=0,this.Bo=null,this.sA=-1}return T.prototype.compare=function(E,D,O){O=E.ka(O);var L=this.Ce.hb;if(this.sA==D)var F=this.uH;else this.Bo=L.cc(D),null==this.Bo?((E=L.g).fd(L.uz(D),this.ie),this.Bo=this.ie,F=this.ie.Me(this.Ce.zh,0)):F=this.Bo.Me(this.Ce.zh,0),this.uH=F,this.sA=D;if(null==(E=L.cc(O))){(E=L.g).fd(L.uz(O),this.Pm),E=this.Pm;var V=this.Pm.Me(this.Ce.zh,0)}else V=E.Me(this.Ce.zh,0);return F==V&&(D=L.Cv(D),O=L.Cv(O),(D=.5*((O=Math.min(D?this.Bo.ma:this.Bo.oa,O?E.ma:E.oa))+this.Ce.zh))==this.Ce.zh&&(D=O),F=this.Bo.Me(D,0),V=E.Me(D,0)),F<V?-1:F>V?1:0},T.prototype.reset=function(){this.sA=-1},T}(),k=function(){function T(){this.Ym=this.Il=null,this.fb=new B.Yj,this.fb.JP(),this.ae=new $(this),this.fb.Wo(this.ae)}return T.prototype.zQ=function(){var E=!1;if(this.gw&&(E=this.AQ()),1==this.g.ea(this.Y)){var D=this.g.Ob(this.Y);return E=this.g.qz(D),this.g.JB(D,!0),0>E&&(E=this.g.Ya(D),this.g.hJ(E),this.g.Xg(D,this.g.Na(E)),!0)}for(this.Gl=this.g.Ey(),this.xo=this.g.Ey(),D=this.g.Ob(this.Y);-1!=D;D=this.g.Sb(D))this.g.ir(D,this.Gl,0),this.g.ir(D,this.xo,-1);D=new B.ja(0),this.zh=NaN;var O=new B.h;this.et=this.g.ea(this.Y),this.so=this.g.Hd(),this.Ss=this.g.Hd();for(var L=this.Il.sc(this.Il.je);-1!=L;L=this.Il.lb(L)){var F=this.Il.getData(L);if(this.g.Hc(F,O),O.y!=this.zh&&0!=D.size&&(E=this.ut(D)||E,this.ae.reset(),D.clear(!1)),D.add(F),this.zh=O.y,0==this.et)break}for(0<this.et&&(E=this.ut(D)||E,D.clear(!1)),this.g.Ud(this.so),this.g.Ud(this.Ss),D=this.g.Ob(this.Y);-1!=D;)if(3==this.g.tj(D,this.Gl)){for(this.g.JB(D,!0),O=D,D=this.g.tj(D,this.xo);-1!=D;)L=this.g.tj(D,this.xo),this.g.PT(this.Y,this.g.Sb(O),D),O=D,D=L;D=this.g.Sb(O)}else this.g.JB(D,!1),D=this.g.Sb(D);return this.g.wB(this.Gl),this.g.wB(this.xo),E},T.prototype.ut=function(E){return this.QV(E)},T.prototype.QV=function(E){var D=!1;null==this.hb&&(this.hb=new Be(this.g)),null==this.Ym?(this.Ym=new B.ja(0),this.Ym.Jb(16)):this.Ym.clear(!1),this.PV(E);for(var O=0,L=E.size;O<L;O++){var F=E.get(O);-1!=F&&this.gG(F,-1)}for(O=0;O<this.Ym.size&&0<this.et;O++)if(E=this.Ym.get(O),F=this.hb.mz(this.fb.ka(E)),L=-1,0==this.g.tj(F,this.Gl)){F=this.fb.xe(E);for(var V,W=E;-1!=F;){var X=this.fb.ka(F),ie=this.hb.mz(X),Y=this.g.tj(ie,this.Gl);if(0!=Y){L=ie;break}W=F,F=this.fb.xe(F)}-1==F?(V=!0,F=W):(X=this.fb.ka(F),V=this.hb.Cv(X),F=this.fb.lb(F),V=!V);do{if(X=this.fb.ka(F),ie=this.hb.mz(X),0==(Y=this.g.tj(ie,this.Gl))&&(V!=this.hb.Cv(X)&&(D=this.g.Ya(ie),this.g.hJ(D),this.g.Xg(ie,this.g.Na(D)),D=!0),this.g.ir(ie,this.Gl,V?3:2),V||(W=this.g.tj(L,this.xo),this.g.ir(L,this.xo,ie),this.g.ir(ie,this.xo,W)),this.et--,0==this.et))return D;L=ie,W=F,F=this.fb.lb(F),V=!V}while(W!=E)}return D},T.prototype.PV=function(E){for(var D=0,O=E.size;D<O;D++){var L=E.get(D),F=this.g.Qa(L,this.so),V=this.g.Qa(L,this.Ss);if(-1!=F){var W=this.fb.ka(F);this.hb.jF(W),this.g.Sa(L,this.so,-1)}-1!=V&&(W=this.fb.ka(V),this.hb.jF(W),this.g.Sa(L,this.Ss,-1)),W=-1,-1!=F&&-1!=V?(this.fb.wd(F,-1),this.fb.wd(V,-1),E.set(D,-1)):W=-1!=F?F:V,-1!=W&&(this.gG(L,W)||this.fb.wd(W,-1),E.set(D,-1))}},T.prototype.gG=function(E,D){var O=new B.h,L=new B.h;this.g.Hc(E,O);var F=this.g.V(E);this.g.Hc(F,L);var V=!1;if(O.y<L.y){V=!0;var W=this.hb.fI(E);if(-1==D)var X=this.fb.addElement(W,-1);else this.fb.Tj(X=D,W);-1==(W=this.g.Qa(F,this.so))?this.g.Sa(F,this.so,X):this.g.Sa(F,this.Ss,X),F=this.g.cd(E),0==this.g.tj(F,this.Gl)&&this.Ym.add(X)}return F=this.g.Na(E),this.g.Hc(F,L),O.y<L.y&&(V=!0,W=this.hb.fI(F),-1==D?X=this.fb.addElement(W,-1):this.fb.Tj(X=D,W),-1==(W=this.g.Qa(F,this.so))?this.g.Sa(F,this.so,X):this.g.Sa(F,this.Ss,X),F=this.g.cd(E),0==this.g.tj(F,this.Gl)&&this.Ym.add(X)),V},T.W=function(E,D,O,L){var F=new T;return F.g=E,F.Y=D,F.Il=O,F.gw=L,F.zQ()},T.prototype.AQ=function(){var E=new B.ja(0),D=new B.ja(0),O=-1,L=-1,F=new B.h;F.Sc();for(var V=-1,W=-1,X=-1,ie=new B.h,Y=this.Il.sc(this.Il.je);-1!=Y;Y=this.Il.lb(Y)){var te=this.Il.getData(Y);this.g.Hc(te,ie);var ne=this.g.cd(te);F.rb(ie)&&W==ne?(-1==L&&(O=this.g.Ey(),L=this.g.Hd()),-1==X&&(this.g.Sa(V,L,X=D.size),D.add(1),-1==this.g.tj(ne,O)&&(this.g.ir(ne,O,V),E.add(ne))),this.g.Sa(te,L,X),D.PW(D.Gc()+1)):(X=-1,F.N(ie)),V=te,W=ne}if(0==E.size)return!1;for(F=new B.ja(0),V=new B.ja(0),W=0,X=E.size;W<X;W++){ne=E.get(W);var we=this.g.tj(ne,O);for(te=this.g.Qa(we,L),F.clear(!1),V.clear(!1),F.add(we),V.add(te),te=this.g.V(we);te!=we;te=this.g.V(te)){var ze=te;if(-1!=(ie=this.g.Qa(ze,L)))if(0==V.size)V.add(ie),F.add(ze);else if(V.Gc()==ie){Y=F.Gc();var _t=this.g.V(Y);we=this.g.V(ze),this.g.Cc(Y,we),this.g.Dc(we,Y),this.g.Cc(ze,_t),this.g.Dc(_t,ze),ze=[!1],_t=this.g.fG(this.Y,_t,this.g.Ya(ne),ze),this.g.Sa(te,L,-1),ze[0]&&this.g.Kf(ne,we),te=this.g.Ka(ne),te-=we=this.g.Ka(_t),this.g.Wj(ne,te),D.set(ie,D.get(ie)-1),1==D.get(ie)&&(D.set(ie,0),V.Jf(),F.Jf()),te=we=Y}else F.add(te),V.add(ie)}}return this.g.wB(O),this.g.Ud(L),!0},T}();B.OL=k}(st||(st={})),function(B){var Be=function(){function $(){}return $.prototype.hg=function(){this.JA=this.tb=null},$.prototype.get=function(){return this.JA},$.prototype.set=function(k){if(this.JA=k,null!=k)throw 322==k.K()&&(this.tb=k),B.i.Ra()},$.prototype.create=function(k){if(322!=k)throw B.i.ga("Not Implemented");this.Pr()},$.prototype.Pr=function(){null==this.tb&&(this.tb=new B.zb),this.JA=this.tb},$}();B.hg=Be}(st||(st={})),function(B){(B=B.PL||(B.PL={}))[B.enumLineSeg=1]="enumLineSeg",B[B.enumBezierSeg=2]="enumBezierSeg",B[B.enumArcSeg=4]="enumArcSeg",B[B.enumNonlinearSegmentMask=6]="enumNonlinearSegmentMask",B[B.enumSegmentMask=7]="enumSegmentMask",B[B.enumDensified=8]="enumDensified"}(st||(st={})),function(B){var Be=function(k){this.aj=k,this.jC=this.kC=1,this.mB=this.lB=this.nB=0},$=function(){function k(){this.Hq=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.Bk=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.Cf=new B.Ta,this.ra=this.Dw=0,this.no=[],this.at=[],this.zw=[],this.Kq=[],this.GA=[]}return k.prototype.qB=function(T){if(null!=T){for(var E=0,D=T.length;E<D;E++)this.hW(T[E]);T.length=0}},k.prototype.hW=function(T){T.aj=null,this.Kq.push(T)},k.prototype.Pw=function(T){if(0===this.Kq.length)var E=new Be(T);else(E=this.Kq[this.Kq.length-1]).aj=T,--this.Kq.length;return E},k.prototype.JR=function(T,E){return 0==T?this.at[E]:this.zw[E]},k.prototype.VA=function(){this.Dw>=this.GA.length&&this.GA.push(new B.hg);var T=this.GA[this.Dw];return this.Dw++,T},k.prototype.clear=function(){this.qB(this.no),this.qB(this.at),this.qB(this.zw),this.Dw=0},k.prototype.Po=function(T){this.no.push(this.Pw(T))},k.prototype.ql=function(T){return 0==T?this.at.length:this.zw.length},k.prototype.Xp=function(T,E){return this.JR(T,E).aj},k.prototype.Fa=function(T,E){if(2!=this.no.length)throw B.i.Ra();this.ra=T;var D=B.mc.nx(.01*T),O=!1,L=this.no[0],F=this.no[1];if(E||0!=(5&L.aj.Br(F.aj,T,!0))){if(322==L.aj.K()){var V=L.aj;if(322==F.aj.K()){var W=B.zb.Xx(V,E=F.aj,null,this.Hq,this.Bk,T);if(0==W)throw B.zb.Xx(V,E,null,this.Hq,this.Bk,T),B.i.Ra();T=Array(9),B.P.av(T,null);for(var X=0;X<W;X++){var ie=this.Hq[X],Y=this.Bk[X],te=L.mB,ne=1;0==ie?(te=L.nB,ne=L.kC):1==ie&&(te=L.lB,ne=L.jC);var we=F.mB,ze=1;0==Y?(we=F.nB,ze=F.kC):1==Y&&(we=F.lB,ze=F.jC);var _t=new B.h;te==we?(te=new B.h,V.ic(ie,te),ie=new B.h,E.ic(Y,ie),ze/=Y=ne+ze,B.mc.GG(te,ie,ze,_t),B.h.zc(_t,te)+B.h.zc(_t,ie)>D&&(O=!0)):te>we?(V.ic(ie,_t),ie=new B.h,E.ic(Y,ie),B.h.zc(_t,ie)>D&&(O=!0)):(E.ic(Y,_t),te=new B.h,V.ic(ie,te),B.h.zc(_t,te)>D&&(O=!0)),T[X]=_t}for(L=0,F=-1,X=0;X<=W;X++)(ze=X<W?this.Hq[X]:1)!=L&&(D=this.VA(),V.bh(L,ze,D),-1!=F&&D.get().Ec(T[F]),X!=W&&D.get().Rc(T[X]),L=ze,this.at.push(this.Pw(D.get()))),F=X;for(V=[0,0,0,0,0,0,0,0,0],X=0;X<W;X++)V[X]=X;for(1<W&&this.Bk[0]>this.Bk[1]&&(ze=this.Bk[0],this.Bk[0]=this.Bk[1],this.Bk[1]=ze,X=V[0],V[0]=V[1],V[1]=X),L=0,F=-1,X=0;X<=W;X++)(ze=X<W?this.Bk[X]:1)!=L&&(D=this.VA(),E.bh(L,ze,D),-1!=F&&(L=V[F],D.get().Ec(T[L])),X!=W&&(L=V[X],D.get().Rc(T[L])),L=ze,this.zw.push(this.Pw(D.get()))),F=X;return O}}throw B.i.Ra()}return!1},k.prototype.Fz=function(T,E,D){if(E.copyTo(this.Cf),1!=this.no.length)throw B.i.Ra();this.ra=T;var O=this.no[0];if(D||O.aj.su(E.D(),T,!0)){if(322!=O.aj.K())throw B.i.Ra();var L=(T=O.aj).fe(E.D(),!1);this.Hq[0]=L;var F=O.mB;for(D=1,0==L?(F=O.nB,D=O.kC):1==L&&(F=O.lB,D=O.jC),O=new B.h,0==F?(F=new B.h,T.ic(L,F),E=E.D(),B.mc.GG(F,E,1/(D+1),O)):0<F?(O=new B.h,T.ic(L,O)):O=E.D(),D=0,L=-1,F=0;1>=F;F++){if((E=1>F?this.Hq[F]:1)!=D){var V=this.VA();T.bh(D,E,V),-1!=L&&V.get().Ec(O),1!=F&&V.get().Rc(O),D=E,this.at.push(this.Pw(V.get()))}L=F}this.Cf.Db(O)}},k}();B.LC=$}(st||(st={})),function(B){var Be=function(){function $(k){this.Es=this.rk=this.tb=null,this.bg=0,this.Bm=!1,this.Af=-1,this.El=this.Kd=0,this.gb=-1,this.ib=k,this.bg=this.Ux(this.El),this.Bm=!1,this.rk=null,this.Es=new B.h}return $.prototype.rW=function(k){if(this.ib!=k.ib)throw B.i.Hb();this.Af=k.Af,this.Kd=k.Kd,this.gb=k.gb,this.El=k.El,this.bg=k.bg,this.Bm=k.Bm,this.rk=null},$.prototype.ia=function(){if(this.Af!=this.Kd&&this.tD(),this.Bm)this.Kd=(this.Kd+1)%this.bg;else{if(this.Kd==this.bg)throw B.i.re();this.Kd++}return this.rk},$.prototype.mi=function(){if(this.Bm)this.Kd=(this.bg+this.Kd-1)%this.bg;else{if(0==this.Kd)throw B.i.re();this.Kd--}return this.Kd!=this.Af&&this.tD(),this.rk},$.prototype.sW=function(){this.Af=-1,this.Kd=0},$.prototype.tW=function(){this.Kd=this.bg,this.Af=-1},$.prototype.Wb=function(k,T){if(void 0===T&&(T=-1),0<=this.gb&&this.gb<this.ib.ea()){var E=this.AM();if(k>=E&&k<this.ib.Wc(this.gb))return this.Af=-1,void(this.Kd=k-E)}T=0<=T&&T<this.ib.ea()&&k>=this.ib.Ca(T)&&k<this.ib.Wc(T)?T:this.ib.nz(k),this.El=T+1,this.gb=T,this.Af=-1,this.Kd=k-this.ib.Ca(T),this.bg=this.Ux(T),this.ib.Ca(this.gb),this.ib.ec(this.gb)},$.prototype.ab=function(){return this.gb=this.El,!(this.gb>=this.ib.ea()||(this.Af=-1,this.Kd=0,this.bg=this.Ux(this.gb),this.ib.Ca(this.gb),this.ib.ec(this.gb),this.El++,0))},$.prototype.$i=function(){this.bg=this.Kd=this.Af=-1,this.El=0,this.gb=-1},$.prototype.Ux=function(k){if(this.ib.Bc())return 0;var T=1;return this.ib.ec(k)&&(T=0),this.ib.Ka(k)-T},$.prototype.Pn=function(){return this.Af==this.bg-1&&this.ib.ec(this.gb)},$.prototype.DB=function(){this.Bm=!0},$.prototype.xb=function(){return this.ib.nb.o[this.gb]+this.Af},$.prototype.AM=function(){return this.ib.Ca(this.gb)},$.prototype.ik=function(){return this.Pn()?this.ib.Ca(this.gb):this.xb()+1},$.prototype.xm=function(){return 0==this.Af},$.prototype.Rn=function(){return this.Af==this.bg-1},$.prototype.Ia=function(){return this.Kd<this.bg},$.prototype.zz=function(){return 0<this.Kd},$.prototype.Pf=function(){var k=new $(this.ib);return k.Af=this.Af,k.Kd=this.Kd,k.bg=this.bg,k.gb=this.gb,k.El=this.El,k.ib=this.ib,k.Bm=this.Bm,k},$.prototype.tD=function(){if(0>this.Kd||this.Kd>=this.bg)throw B.i.re();this.Af=this.Kd;var k=this.xb();this.ib.rc();var T=this.ib.Se,E=1;switch(null!=T&&(E=7&T.read(k)),T=this.ib.description,E){case 1:null==this.tb&&(this.tb=new B.zb),this.rk=this.tb;break;case 2:throw B.i.ga("internal error");default:throw B.i.Ra()}this.rk.kg(T),E=this.ik(),this.ib.Hc(k,this.Es),this.rk.Ec(this.Es),this.ib.Hc(E,this.Es),this.rk.Rc(this.Es);for(var D=1,O=T.Ba;D<O;D++)for(var L=T.qd(D),F=B.ua.Wa(L),V=0;V<F;V++){var W=this.ib.Vc(L,k,V);this.rk.RB(L,V,W),W=this.ib.Vc(L,E,V),this.rk.IB(L,V,W)}},$.prototype.QS=function(){return this.gb==this.ib.ea()-1},$.prototype.Qn=function(){var k=this.ib.MR();return null!=k&&1!=(7&k.read(this.Af))},$}();B.QL=Be}(st||(st={})),function(B){var Be=function(){function $(k){k instanceof B.ba?(this.pH=k,this.za=-1,this.Fi=1):(this.kT=k.slice(0),this.za=-1,this.Fi=k.length)}return $.prototype.Ma=function(){return this.za},$.prototype.next=function(){return this.za<this.Fi-1?(this.za++,null!=this.pH?this.pH:this.kT[this.za]):null},$.prototype.qe=function(){},$}();B.$c=Be}(st||(st={})),function(B){var Be=function(){this.next=null},$=function(){function k(){this.Vq=this.Lw=this.Mw=0,this.cF=!1,this.ZJ=0,this.jn=this.Lf=this.Yl=this.Kh=null,this.Ql=0,this.py=null,this.rl=this.pi=-1}return k.prototype.oX=function(T,E,D){this.pi=T,this.rl=E,this.Kh=this.Yl=null,this.Vq=0,this.py=D,null==this.jn&&(this.jn=B.P.lg(384,0)),this.fK()},k.prototype.S=function(){return this.pi},k.prototype.da=function(){return this.rl},k.prototype.flush=function(){0<this.Ql&&(this.py.ZE(this.jn,this.Ql),this.Ql=0)},k.prototype.fK=function(){if(0<this.Vq){for(var T=0;T<this.rl;T++){for(var E=this.Yl[T];null!=E;){var D=E;E=E.next,D.next=null}this.Yl[T]=null}this.Kh=null}this.Mw=this.rl,this.Lw=-1,this.Vq=0},k.prototype.aJ=function(T){for(this.cF=T==k.Ax,T=this.Mw;T<=this.Lw;T++)this.kN(),this.dN(T),this.RP();this.fK()},k.prototype.ey=function(T,E,D,O){if(E!=O){var L=1;if(E>O&&(L=T,T=D,D=L,L=E,E=O,O=L,L=-1),!(0>O||E>=this.rl)){0>T&&0>D?D=T=-1:T>=this.pi&&D>=this.pi&&(D=T=this.pi);var F=(D-T)/(O-E);O>this.rl&&(D=F*((O=this.rl)-E)+T),0>E&&(T=F*(0-E)+T,E=0);var V=Math.max(this.pi+1,8388607);-8388607>T?(E=(0-T)/F+E,T=0):T>V&&(E=(this.pi-T)/F+E,T=this.pi),-8388607>D?O=(0-T)/F+E:D>V&&(O=(this.pi-T)/F+E),(E=B.P.truncate(E))!=(O=B.P.truncate(O))&&((D=new Be).x=B.P.truncate(4294967296*T),D.y=E,D.H=O,D.OP=B.P.truncate(4294967296*F),D.dir=L,null==this.Yl&&(this.Yl=B.P.lg(this.rl,null)),D.next=this.Yl[D.y],this.Yl[D.y]=D,D.y<this.Mw&&(this.Mw=D.y),D.H>this.Lw&&(this.Lw=D.H),this.Vq++)}}},k.prototype.kN=function(){if(null!=this.Kh){for(var T=!1,E=null,D=this.Kh;null!=D;)if(D.y++,D.y==D.H){var O=D;D=D.next,null!=E?E.next=D:this.Kh=D,O.next=null}else D.x+=D.OP,null!=E&&E.x>D.x&&(T=!0),E=D,D=D.next;T&&(this.Kh=this.YJ(this.Kh))}},k.prototype.dN=function(T){if(!(T>=this.rl)){var E=this.Yl[T];if(null!=E){this.Yl[T]=null,E=this.YJ(E),this.Vq-=this.ZJ,T=this.Kh;for(var D=!0,O=E,L=null;null!=T&&null!=O;)T.x>O.x?(D&&(this.Kh=O),D=O.next,O.next=T,null!=L&&(L.next=O),L=O,O=D):(D=T.next,T.next=O,null!=L&&(L.next=T),L=T,T=D),D=!1;null==this.Kh&&(this.Kh=E)}}},k.XJ=function(T,E){return 0>T?0:T>E?E:T},k.prototype.RP=function(){if(null!=this.Kh)for(var T=0,E=this.Kh,D=B.P.truncate(B.P.OG(E.x)),O=E.next;null!=O;O=O.next)if(T=this.cF?1^T:T+O.dir,O.x>E.x){var L=B.P.truncate(B.P.OG(O.x));0!=T&&(E=k.XJ(D,this.pi),(D=k.XJ(L,this.pi))>E&&E<this.pi&&(this.jn[this.Ql++]=E,this.jn[this.Ql++]=D,this.jn[this.Ql++]=O.y,this.Ql==this.jn.length&&(this.py.ZE(this.jn,this.Ql),this.Ql=0))),E=O,D=L}},k.prototype.YJ=function(T){for(var E=0,D=T;null!=D;D=D.next)E++;if(this.ZJ=E,1==E)return T;null==this.Lf?this.Lf=B.P.lg(Math.max(E,16),null):this.Lf.length<E&&(this.Lf=B.P.lg(Math.max(E,2*this.Lf.length),null));var O=0;for(D=T;null!=D;D=D.next)this.Lf[O++]=D;for(2==E?this.Lf[0].x>this.Lf[1].x&&(T=this.Lf[0],this.Lf[0]=this.Lf[1],this.Lf[1]=T):k.sN(this.Lf,E,function(L,F){return L==F?0:L.x<F.x?-1:L.x>F.x?1:0}),T=this.Lf[0],this.Lf[0]=null,D=T,O=1;O<E;O++)D.next=this.Lf[O],D=this.Lf[O],this.Lf[O]=null;return D.next=null,T},k.sN=function(T,E,D){if(E==T.length)T.sort(D);else{var O=T.slice(0,0),L=T.slice(E);E=T.slice(0,E).sort(D),T.length=0,T.push.apply(T,O.concat(E).concat(L))}},k.Ax=0,k}();B.Nx=$}(st||(st={})),function(B){var Be=function(){function $(){}return $.prototype.vi=function(k,T){var E=this.g.Qa(k,this.Rq);if(this.Fl==E&&(this.Fl=this.oe.lb(this.Fl)),this.io==E&&(this.io=this.oe.lb(this.io)),this.oe.kd(this.LA,E),this.bk(k),T&&-1!=(T=this.g.cd(k))&&this.g.Ya(T)==k){var D=this.g.V(k);if(D!=k){if((E=this.g.cd(D))==T)return void this.g.Kf(T,D);if((D=this.g.Na(k))!=k&&(E=this.g.cd(D))==T)return void this.g.Kf(T,D)}this.g.Kf(T,-1),this.g.Xg(T,-1)}},$.prototype.hD=function(){for(var k=!1,T=new B.h;;){null==this.Xh?(this.Xh=new B.ja(0),this.As=new B.ja(0),this.ye=new B.ja(0)):(this.Xh.clear(!1),this.As.clear(!1),this.ye.clear(!1));for(var E=this.io,D=0,O=!0;E!=this.Fl;){var L=this.oe.getData(E),F=new B.h;this.g.Hc(L,F),O&&(this.g.Hc(L,T),O=!1),F=this.g.Na(L);var V=this.g.V(L);-559038737!=this.g.Qa(F,this.zg)&&(this.Xh.add(F),this.g.Sa(F,this.zg,-559038737),this.As.add(L),this.ye.add(D++)),-559038737!=this.g.Qa(V,this.zg)&&(this.Xh.add(V),this.g.Sa(V,this.zg,-559038737),this.As.add(L),this.ye.add(D++)),E=this.oe.lb(E)}if(2>this.Xh.size)break;var W=this;for(this.ye.Wd(0,this.ye.size,function(X,ie){return W.hM(X,ie)}),E=0,D=this.ye.size;E<D;E++)O=this.ye.get(E),O=this.Xh.get(O),this.g.Sa(O,this.zg,E),F=new B.h,this.g.Hc(O,F);for(F=this.LM(T),E=0,D=this.ye.size;E<D;E++)-1!=(O=this.ye.get(E))&&(O=this.Xh.get(O),this.g.Sa(O,this.zg,-1));if(!F)break;k=!0}return k},$.prototype.LM=function(k){for(var T=!1,E=!0;E;){E=!1;var D=0;-1==this.ye.get(D)&&(D=this.em(D));for(var O=this.em(D),L=0,F=this.ye.size;L<F&&-1!=D&&-1!=O&&D!=O;L++){var V=this.ye.get(D);O=this.ye.get(O),V=this.Xh.get(V),O=this.Xh.get(O);var W=this.g.V(V);this.g.Ev(W,k)||(W=this.g.Na(V));var X=this.g.V(O);this.g.Ev(X,k)||(X=this.g.Na(O));var ie=this.qu(W,V),Y=this.qu(X,O),te=ie?this.g.Na(W):this.g.V(W),ne=Y?this.g.Na(X):this.g.V(X),we=!1;(this.tp(W)||this.tp(X)||this.tp(V)||this.tp(O)||this.tp(te)||this.tp(ne))&&(we=!0),!we&&this.g.hq(V,O)&&(we=!0,this.lD(ie,Y,W,V,X,O)),!we&&this.g.hq(te,ne)&&(we=!0,this.lD(!ie,!Y,W,te,X,ne)),we&&(T=!0),E=E||we,D=this.em(D),O=this.em(D)}}if(!T)for(-1==this.ye.get(D=0)&&(D=this.em(D)),O=this.em(D),L=0,F=this.ye.size;L<F&&-1!=D&&-1!=O&&D!=O;L++)V=this.ye.get(D),O=this.ye.get(O),V=this.Xh.get(V),O=this.Xh.get(O),W=this.g.V(V),this.g.Ev(W,k)||(W=this.g.Na(V)),X=this.g.V(O),this.g.Ev(X,k)||(X=this.g.Na(O)),ie=this.qu(W,V),Y=this.qu(X,O),te=ie?this.g.Na(W):this.g.V(W),ne=Y?this.g.Na(X):this.g.V(X),this.vM(ie,Y,V,W,te,O,X,ne)&&(T=!0),D=this.em(D),O=this.em(D);return T},$.prototype.PM=function(){1736==this.g.jc(this.Y)&&1==this.g.Jn(this.Y)&&(new B.Hg).CU(this.gw,this.g,this.Y,this.nd);var k=!1,T=!0;this.zg=this.Rq=-1;var E=this.g.I(this.Y),D=new B.ja(0);D.Jb(E);for(var O=this.g.Ob(this.Y);-1!=O;O=this.g.Sb(O))for(var L=this.g.Ya(O),F=0,V=this.g.Ka(O);F<V;F++)D.add(L),L=this.g.V(L);var W=this.g.ud.o,X=this.g.ud.Mf;this.g.wb.rc();var ie=this.g.wb.Aa[0].o;for(D.Wd(0,E,function(te,ne){var we=W[X*te],ze=W[X*ne],_t=ie[2*we],Mt=ie[2*ze];return 0==(_t=(we=ie[2*we+1])<(ze=ie[2*ze+1])?-1:we>ze?1:_t<Mt?-1:_t>Mt?1:0)&&(_t=(te=W[X*te+3])<(ne=W[X*ne+3])?-1:te==ne?0:1),_t}),this.Rq=this.g.Hd(),this.oe=new B.kp,this.LA=this.oe.Qh(0),this.oe.hn(E),O=0;O<E;O++)L=D.get(O),F=this.oe.addElement(this.LA,L),this.g.Sa(L,this.Rq,F);for(this.zg=this.g.Hd(),this.Fl=-1,this.VC()&&(k=!0);T;){T=!1,E=0,D=!1;do{D=!1,this.io=-1,V=0,O=new B.h,F=new B.h;for(var Y=this.oe.sc(this.LA);-1!=Y;)L=this.oe.getData(Y),-1!=this.io?(this.g.Hc(L,F),O.rb(F)?V++:(O.N(F),this.Fl=Y,0<V&&(L=this.hD())&&(D=!0,-1!=this.Fl&&(L=this.oe.getData(this.Fl),this.g.Hc(L,O))),this.io=Y=this.Fl,V=0)):(this.io=Y,this.g.Hc(this.oe.getData(Y),O),V=0),-1!=Y&&(Y=this.oe.lb(Y));if(this.Fl=-1,0<V&&(L=this.hD())&&(D=!0),10<E++)throw B.i.Ra();D&&this.yM(),this.VC()&&(D=!0),T=T||D&&!1,k=k||D}while(D)}return this.g.Ud(this.Rq),this.g.Ud(this.zg),B.OL.W(this.g,this.Y,this.oe,this.gw)||k},$.prototype.qu=function(k,T){return this.g.V(T)!=k},$.prototype.vM=function(k,T,E,D,O,L,F,V){if(D==F)return this.bk(E),this.bk(L),!1;var W=this.g.Qa(E,this.zg),X=this.g.Qa(O,this.zg),ie=this.g.Qa(L,this.zg),Y=this.g.Qa(V,this.zg),te=[0,0,0,0];for((E=[0,0,0,0,0,0,0,0])[0]=0,te[0]=W,E[1]=0,te[1]=X,E[2]=1,te[2]=ie,E[3]=1,te[3]=Y,W=1;4>W;W++){for(X=te[W],ie=E[W],Y=W-1;0<=Y&&te[Y]>X;)te[Y+1]=te[Y],E[Y+1]=E[Y],Y--;te[Y+1]=X,E[Y+1]=ie}return te=0,0!=E[0]&&(te|=1),0!=E[1]&&(te|=2),0!=E[2]&&(te|=4),0!=E[3]&&(te|=8),(5==te||10==te)&&(k==T?k?(this.g.Cc(V,D),this.g.Dc(D,V),this.g.Cc(O,F),this.g.Dc(F,O)):(this.g.Dc(V,D),this.g.Cc(D,V),this.g.Dc(O,F),this.g.Cc(F,O)):k?(this.g.Dc(D,L),this.g.Cc(L,D),this.g.Dc(F,O),this.g.Cc(O,F)):(this.g.Cc(D,L),this.g.Dc(L,D),this.g.Cc(F,O),this.g.Dc(O,F)),!0)},$.prototype.lD=function(k,T,E,D,O,L){this.BY?this.NM():this.MM(k,T,E,D,O,L)},$.prototype.NM=function(){throw B.i.ga("not implemented.")},$.prototype.MM=function(k,T,E,D,O,L){if(k!=T)k?(this.g.Cc(E,O),this.g.Dc(O,E),this.g.Cc(L,D),this.g.Dc(D,L),this.wn(O,E),this.vi(O,!0),this.g.ni(O,!0),this.bk(E),this.wn(L,D),this.vi(L,!0),this.g.ni(L,!1)):(this.g.Cc(O,E),this.g.Dc(E,O),this.g.Cc(D,L),this.g.Dc(L,D),this.wn(O,E),this.vi(O,!0),this.g.ni(O,!1),this.bk(E),this.wn(L,D),this.vi(L,!0),this.g.ni(L,!0)),this.bk(D);else{var F=k?E:D,V=T?O:L;for(k=k?D:E,T=T?L:O,O=!1,this.g.Cc(F,V),this.g.Cc(V,F),this.g.Dc(k,T),this.g.Dc(T,k),L=T;L!=V;)E=this.g.Na(L),D=this.g.V(L),this.g.Dc(L,D),this.g.Cc(L,E),O=O||L==F,L=D;O||(E=this.g.Na(V),D=this.g.V(V),this.g.Dc(V,D),this.g.Cc(V,E)),this.wn(V,F),this.vi(V,!0),this.g.ni(V,!1),this.bk(F),this.wn(T,k),this.vi(T,!0),this.g.ni(T,!1),this.bk(k)}},$.prototype.VC=function(){for(var k=!1,T=this.g.Ob(this.Y);-1!=T;){for(var E=this.g.Ya(T),D=0,O=this.g.Ka(T);D<O&&1<O;){var L=this.g.Na(E),F=this.g.V(E);this.g.hq(L,F)?(k=!0,this.vi(E,!1),this.g.pd(E,!0),this.vi(F,!1),this.g.pd(F,!0),E=L,D=0,O=this.g.Ka(T)):(E=F,D++)}if(2>this.g.Ka(T)){for(k=this.g.Ya(T),D=0,O=this.g.Ka(T);D<O;D++)this.vi(k,!1),k=this.g.V(k);T=this.g.ar(T),k=!0}else T=this.g.Sb(T)}return k},$.prototype.tp=function(k){for(var T=!1;;){var E=this.g.V(k),D=this.g.Na(k);if(E==k)return this.vi(k,!0),this.g.ni(k,!1),!0;if(!this.g.hq(E,D)||(T=!0,this.bk(D),this.bk(E),this.vi(k,!0),this.g.ni(k,!1),this.wn(E,D),this.vi(E,!0),this.g.ni(E,!0),E==D))break;k=D}return T},$.prototype.yM=function(){for(var k=0,T=this.oe.sc(this.oe.je);-1!=T;T=this.oe.lb(T)){var E=this.oe.getData(T);this.g.bj(E,-1)}for(var D=0,O=this.g.Ob(this.Y);-1!=O;)if(-1==(T=this.g.Ya(O))||-1!=this.g.cd(T))E=O,O=this.g.Sb(O),this.g.br(E);else{this.g.bj(T,O);var L=1;for(E=this.g.V(T);E!=T;E=this.g.V(E))this.g.bj(E,O),L++;this.g.ep(O,!1),this.g.Wj(O,L),this.g.Xg(O,this.g.Na(T)),D+=L,k++,O=this.g.Sb(O)}for(T=this.oe.sc(this.oe.je);-1!=T;T=this.oe.lb(T))E=this.oe.getData(T),-1==this.g.cd(E)&&(O=this.g.fG(this.Y,E,E,null),D+=this.g.Ka(O),k++);for(this.g.Tl(this.Y,k),this.g.Uj(this.Y,D),k=0,D=this.g.ld;-1!=D;D=this.g.ve(D))k+=this.g.I(D);this.g.VB(k)},$.prototype.em=function(k){for(var T=0,E=this.ye.size-1;T<E;T++)if(-1!=this.ye.get(k=(k+1)%this.ye.size))return k;return-1},$.prototype.wn=function(k,T){var E=this.g.Qa(T,this.Rq),D=this.g.Qa(T,this.zg);this.g.eC(k,T),this.g.Sa(T,this.Rq,E),this.g.Sa(T,this.zg,D)},$.prototype.bk=function(k){var T=this.g.Qa(k,this.zg);-1!=T&&(this.ye.set(T,-1),this.g.Sa(k,this.zg,-1))},$.W=function(k,T,E,D,O){var L=new $;return L.g=k,L.Y=T,L.rA=E,L.gw=D,L.nd=O,L.PM()},$.prototype.hM=function(k,T){var E=this.Xh.get(k),D=new B.h;this.g.Hc(E,D),E=new B.h;var O=this.Xh.get(T);return this.g.Hc(O,E),D.rb(E)?0:(O=this.As.get(k),k=new B.h,this.g.Hc(O,k),O=this.As.get(T),T=new B.h,this.g.Hc(O,T),(O=new B.h).vc(D,k),(D=new B.h).vc(E,T),B.h.ou(O,D))},$}();B.tn=Be}(st||(st={})),function(B){var Be,k;(Be=B.SL||(B.SL={}))[Be.Local=0]="Local",Be[Be.Geographic=1]="Geographic",Be[Be.Projected=2]="Projected",Be[Be.Image=3]="Image",Be[Be.Unknown=4]="Unknown",(k=B.LL||(B.LL={}))[k.Integer32=0]="Integer32",k[k.Integer64=1]="Integer64",k[k.FloatingPoint=2]="FloatingPoint";var $=function(){function k(){this.qp="",this.tu=null,this.eg=0,this.RH=this.Io=-1,this.xh=null}return k.prototype.Fc=function(){return this.eg},k.prototype.NF=function(){return 1},k.prototype.Yd=function(){var T=.001;return 0!=this.eg?T=B.yr.uQ(this.eg):null!=this.xh&&(T=B.PC.vQ(this.xh)),T},k.prototype.wz=function(){return this.xh},k.prototype.Id=function(){return 0!=this.eg?B.Uc.$g(B.yr.Ny(this.eg)):null!=this.xh?B.PC.wQ(this.xh):void 0},k.Tb=function(T){if(0!=T.eg){if(!0===B.yr.PS(T.eg))return 1;if(!0===B.yr.RS(T.eg))return 2}return 4},k.prototype.bs=function(){var T=this.Fc();return-1!=this.Io?this.Io:(this.Io=B.yr.xK(T),-1!=this.Io?this.Io:T)},k.create=function(T){if(0>=T)throw B.i.O("Invalid or unsupported wkid: "+T);var E=new k;return E.eg=T,E},k.iP=function(T){if(null==T||0==T.length)throw B.i.O("Cannot create SpatialReference from null or empty text.");var E=new k;return E.xh=T,E},k.prototype.Nb=function(T){return this==T||null!=T&&this.constructor==T.constructor&&this.eg==T.eg&&(0!=this.eg||this.xh===T.xh)},k.prototype.toString=function(){return"[ tol: "+this.Ln()+"; wkid: "+this.Fc()+"; wkt: "+this.wz()+"]"},k.prototype.dc=function(){if(""!==this.qp)return this.qp;var T=this.toString();if(Array.prototype.reduce)return this.qp="S"+T.split("").reduce(function(O,L){return(O=(O<<5)-O+L.charCodeAt(0))&O},0);var E=0;if(0===T.length)return"";for(var D=0;D<T.length;D++)E=(E<<5)-E+T.charCodeAt(D),E&=E;return this.qp="S"+E},k.prototype.Ln=function(){return this.Yd(0)},k.prototype.gh=function(){return null!==this.tu?this.tu:this.tu=B.hu.qP(this)},k.RN=2147483645,k.SN=9007199254740990,k}();B.Gg=$}(st||(st={})),function(B){var Be=function($){function k(){var T=null!==$&&$.apply(this,arguments)||this;return T.Ki=null,T.IT=null,T.Jq=new B.RL,T.Fo=null,T.kw=null,T}return pi(k,$),k.qP=function(T){var E=new k;if(E.eg=T.eg,E.Io=T.Io,E.RH=T.RH,E.xh=T.xh,""!==E.xh&&null!==E.xh){T=k.cM(E.xh);var D=k.aM(E.xh);E.Jq.Vx(T,D,B.iu.Integer64),E.$x(T),E.by(D),E.eg=T.bs()}else T=k.bM(E.eg),E.$x(T),E.by(null),E.Jq.Vx(T,null,B.iu.Integer64);return E},k.prototype.Yd=function(T){return this.Jq.Ln(T)},k.aM=function(T){if(0>=T.length)throw B.i.O();var E=null;try{E=B.FC.fromString(T)}catch(D){E=null}return null==E?null:k.UC(E,!0)},k.prototype.$x=function(T){this.Ld=T,this.Fo=this.Ld.Id()},k.prototype.by=function(T){this.CH=T,this.IT=null!=this.CH?this.CH.Fo:null},k.prototype.Xc=function(){return 0!=this.Tb()&&3!=this.Tb()&&this.Ld.Xc()},k.prototype.AG=function(){return 0!=this.Tb()&&(3==this.Tb()?this.Ki.fk().Xc():this.Ld.Xc())},k.prototype.fh=function(){return null!=this.Ld?this.Ld.Re:null},k.prototype.rm=function(){return this.Ld.rm()},k.prototype.bf=function(){return this.Ld.bf()},k.prototype.ih=function(){return null!=this.Ld?this.Ld.tw:NaN},k.prototype.Wp=function(){return this.Ld.Wp()},k.prototype.Xr=function(){return this.Ld.Xr()},k.prototype.kk=function(){return this.Ld.kk()},k.prototype.bS=function(T){return B.GC.Ky(this.Ld,T.Ld)},k.prototype.ol=function(){return this.Ld.ol()},k.prototype.Wr=function(){return this.Ld.Wr()},k.prototype.Ai=function(){return 3==this.Tb()?this.Ki.fk().Ai():this.Ld.Ai()},k.prototype.hh=function(){if(!this.Xc())throw B.i.O("!isPannable()");var T=new B.l;return this.Ld.hh(T),T},k.prototype.Le=function(){if(!this.Xc())throw B.i.O("!isPannable()");return this.Ld.to},k.prototype.zR=function(){if(!this.Xc())throw B.i.O("!isPannable()");var T=new B.l;return this.Ld.yR(T),T},k.prototype.qv=function(){if(!this.Xc())throw B.i.O("!isPannable()");return this.Ld.qv()},k.prototype.pv=function(){if(!this.Xc())throw B.i.O("!isPannable()");return this.Ld.pv()},k.prototype.Yr=function(){return null!=this.Ki?this.Ki.fk().Yr():this.Ld.Yr()},k.prototype.HQ=function(){return this.Ld.jv()},k.prototype.Sp=function(){return this.Fo.getUnitFactor()},k.prototype.pz=function(T){return this.Jq.pz(T)},k.prototype.tc=function(){var T=this.Tb();if(1==T)return this;if(3==T)return this.Ki.fk().tc();if(0==T||4===T)throw B.i.ga("invalid call");if(null!==this.kw)return this.kw;if(null==(T=this.fh().getGeogcs()))throw B.i.Ra();return this.kw=k.UE(T,this.Jq.NF())},k.UE=function(T,E){if(null==T)throw B.i.O("null pointer.");var D=new k;return T=k.nu(T,!0),D.Jq.Vx(T,null,E),D.$x(T),D.by(null),D.eg=T.bs(),D},k.prototype.Tb=function(){var T=this.fh();if(null!=T)switch(T.getType()){case B.Tc.PE_TYPE_GEOGCS:return 1;case B.Tc.PE_TYPE_PROJCS:return 2}return 4},k.prototype.jv=function(){return this.Ld.jv()},k.nu=function(T,E){var D=T.getCode();if(0>=D&&0<(D=B.qf.getCode(T))){if(null==(T=B.qf.coordsys(D)))throw B.i.O("Text to wkid mapping had failed: "+D);return k.nu(T,E)}return E&&0<D&&(E=k.px[D])?E:(E=B.Ab.yv(T,D,!1),k.dK[E]||(T=0>=D?T:B.qf.coordsys(D),T=new B.GC(T),k.dK[E]=T,0<D&&(k.px[D]=T),T))},k.bM=function(T){if(0>=T)throw B.i.O("Invalid or unsupported wkid: "+T);var E=k.px[T];if(null!=E)return E;if(null==(E=B.qf.coordsys(T)))throw B.i.O("Invalid or unsupported wkid: "+T);return(E=k.nu(E,!1)).bs()!=T&&(k.px[T]=E),E},k.cM=function(T){if(null==T||void 0===T||0==T.length)throw B.i.O("Cannot create SpatialReference from null or empty text.");var E=null;try{E=B.qf.fromString(B.Tc.PE_TYPE_COORDSYS,T)}catch(D){throw B.i.O("Cannot create SpatialReference from text. "+D.message)}if(null===E)throw B.i.O("Cannot create SpatialReference from text. ");return k.nu(E,!0)},k.UC=function(T,E){var D,O=T.getCode();if(0>=O&&0<(O=B.qf.getCode(T))){if(null===(O=B.qf.vertcs(O)))throw B.i.O();return k.UC(O,E)}if(E&&0<O&&(E=k.cK[O])||(T=B.Ab.yv(T,O,!1),E=k.eK[T]))return E;if(0>=O||(D=B.qf.vertcs(O)),null===D)throw B.i.O();return D=new B.HL(D),k.eK[T]=D,0<O&&(k.cK[O]=D),D},k.kI=function(T,E){if(null===E||E.B())return null;var D=new B.l;if(null!==E&&1!=T.Tb()){var O=T.tc(),L=O.fh();T=B.xr.Or(T,O,null,null),(E=B.Fx.local().W(E,T,null)).A(D)}else L=T.fh(),E.A(D);return E=L.getPrimem().getLongitude(),L=L.getUnit().getUnitFactor(),new B.DC(D.v,D.G,D.C,D.H,E,L)},k.dD=function(T){var E={name:"",steps:[],_pt:null,_entry:null},D=0;for(T=T.getEntries();D<T.length;D++){var O=T[D],L={AY:!1,OY:"",NY:-1,geogtran:null};L.isInverse=0!==O.getDirection();var F=O.getGeogtran().getCode();-1<F?L.wkid=F:L.wkt=O.getGeogtran().toString(),E.steps.push(L)}return E},k.OR=function(T,E,D,O){return void 0===D&&(D=null),D=k.kI(O,D),T=B.mp.getGTlist(T.fh(),E.fh(),2,B.mp.PE_GTLIST_OPTS_COMMON,D,1),E=null,T&&0<T.length&&(E=this.dD(T[0]),B.Kx.destroy(T)),null!==D&&D.destroy(),E},k.PR=function(T,E,D,O){var L;if(void 0===D&&(D=null),void 0===O&&(O=null),void 0===L&&(L=30),D=k.kI(O,D),T=B.mp.getGTlist(T.fh(),E.fh(),2,B.mp.PE_GTLIST_OPTS_COMMON,D,L),E=[],T&&0<T.length){for(L=0;L<T.length;L++)E.push(this.dD(T[L]));B.Kx.destroy(T)}return null!==D&&D.destroy(),E},k.px={},k.dK={},k.cK={},k.eK={},k}(B.Gg);B.hu=Be}(st||(st={})),function(B){var Be,$;($=Be=B.iu||(B.iu={}))[$.Integer32=0]="Integer32",$[$.Integer64=1]="Integer64",$[$.FloatingPoint=2]="FloatingPoint";var k=function(){function T(){this.rp()}return T.prototype.assign=function(E){this.Hm=E.Hm,this.Im=E.Im,this.Qj=E.Qj,this.mA=E.mA,this.Go=E.Go,this.lA=E.lA,this.Ik=E.Ik,this.Oq=E.Oq,this.Nq=E.Nq,this.Tm=E.Tm},T.prototype.NF=function(){return this.Tm},T.prototype.rp=function(){this.Im=this.Hm=0,this.Qj=1,this.mA=0,this.Go=1,this.lA=0,this.Nq=this.Oq=this.Ik=2220446049250313e-29,this.Tm=Be.FloatingPoint},T.prototype.Vx=function(E,D,O){if(this.rp(),this.Tm=O,O!=Be.FloatingPoint){var L=new B.l;E.$Q(L),this.Hm=L.v,this.Im=L.G}else this.Im=this.Hm=-17976931348623157e292;(L=E.Re.getType())==B.Tc.PE_TYPE_GEOGCS?(L=(O==Be.Integer64?1e-9:1/18e5)*E.bf(),this.Qj=1/L):L==B.Tc.PE_TYPE_PROJCS&&(L=(O==Be.Integer64?1e-4:.001)*E.rm(),this.Qj=1/L),this.Go=null!=D?1/(L=(O==Be.Integer32?.001:1e-4)*D.AH):1e4,this.QM(),this.Ik=E.tw,this.Oq=null!=D?.001*D.AH:.001,this.Nq=2220446049250313e-29},T.prototype.QM=function(){if(this.Tm!=Be.FloatingPoint){var E=this.Tm==Be.Integer64?B.Gg.SN:B.Gg.RN,D=E/this.Qj,O=this.Hm+D,L=B.P.truncate((O-this.Hm)*this.Qj);L>E&&(this.Qj=E/(O-this.Hm)),(L=B.P.truncate(((D=this.Im+D)-this.Im)*this.Qj))>E&&(this.Qj=E/(D-this.Im))}},T.prototype.UB=function(E){switch(E){case 0:this.Ik=void 0;case 1:this.Oq=void 0;case 2:this.Nq=void 0}},T.prototype.Ln=function(E){switch(E){case 0:return this.Ik;case 1:return this.Oq;case 2:return this.Nq}return 0},T.prototype.pz=function(E){if(this.Tm==Be.FloatingPoint)return 0;switch(E){case 0:return 1/this.Qj;case 1:case 2:return 1/this.Go;default:return 0}},T.prototype.toString=function(){var E="SRPD [m_toleranceXY: "+this.Ik.toString();return(E=(E=(E=(E=(E=(E=(E=(E=(E=E+";m_falseX: "+this.Hm.toString())+";m_falseY: "+this.Im.toString())+";m_unitsXY: "+this.Qj.toString())+";m_falseZ: "+this.mA.toString())+";m_unitsZ: "+this.Go.toString())+";m_falseM: "+this.lA.toString())+";m_toleranceZ: "+this.Oq.toString())+";m_toleranceM: "+this.Nq.toString())+";m_precision: "+this.Tm.toString())+"] "},T}();B.RL=k}(st||(st={})),function(B){function Be(O,L){return 89.99999<L?L=89.99999:-89.99999>L&&(L=-89.99999),L*=.017453292519943,[111319.49079327169*O,3189068.5*Math.log((1+Math.sin(L))/(1-Math.sin(L)))]}function $(O,L,F){return O=O/6378137*57.29577951308232,F?[O,57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*L/6378137)))]:[O-360*Math.floor((O+180)/360),57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*L/6378137)))]}function k(O,L,F){var V=O.Pf();if(33===O.K())L=L(V.Mg(),V.jh()),V.Db(L[0],L[1]);else if(197===O.K()){var W=L(O.fs(),O.hs(),F);L=L(O.es(),O.gs(),F),V.L(W[0],W[1],L[0],L[1])}else for(W=new B.h,O=0;O<V.I();O++){V.D(O,W);var X=L(W.x,W.y,F);W.na(X[0],X[1]),V.Db(O,W)}return V}function T(O){return k(O,$,!0)}function E(O){return k(O,Be,!0)}var D=Math.PI/180;B.MK=function(){function O(){}return O.wu=function(L){var F=Math.sqrt(.006694379990197414),V=Math.sin(L.y*D);return B.h.construct(6378137*L.x*D,3167719.6636462314*(V/(1-.006694379990197414*V*V)-1/(2*F)*Math.log((1-F*V)/(1+F*V))))},O.Tx=function(L,F,V,W){var X=1/298.257223563,ie=Math.sin(V);V=Math.cos(V);var Y=(1-X)*Math.tan(L),te=Y*(L=1/Math.sqrt(1+Y*Y)),ne=Math.atan2(Y,V),we=(Y=L*ie)*Y,ze=1-we,_t=272331606107.54688*ze/40408299984661.45,Mt=1+_t/16384*(4096+_t*(_t*(320-175*_t)-768)),pe=_t/1024*(256+_t*(_t*(74-47*_t)-128));_t=W/(6356752.31424518*Mt);for(var Ge,it,ht,mt=2*Math.PI;1e-12<Math.abs(_t-mt);)ht=Math.cos(2*ne+_t),mt=_t,_t=W/(6356752.31424518*Mt)+pe*(Ge=Math.sin(_t))*(ht+pe/4*((it=Math.cos(_t))*(2*ht*ht-1)-pe/6*ht*(4*Ge*Ge-3)*(4*ht*ht-3)));return W=te*Ge-L*it*V,ze=X/16*ze*(4+X*(4-3*ze)),B.h.construct((F+(Math.atan2(Ge*ie,L*it-te*Ge*V)-(1-ze)*X*Y*(_t+ze*Ge*(ht+ze*it*(2*ht*ht-1)))))/D,Math.atan2(te*it+L*Ge*V,(1-X)*Math.sqrt(we+W*W))/D)},O.EM=function(L,F,V,W){var X=1/298.257223563,ie=W-F,Y=Math.atan((1-X)*Math.tan(L)),te=Math.atan((1-X)*Math.tan(V)),ne=Math.sin(Y);Y=Math.cos(Y);var we=Math.sin(te);te=Math.cos(te);var ze=ie,_t=1e3;do{var Mt=Math.sin(ze),pe=Math.cos(ze),Ge=Math.sqrt(te*Mt*te*Mt+(Y*we-ne*te*pe)*(Y*we-ne*te*pe));if(0===Ge)return 0;pe=ne*we+Y*te*pe;var it=Math.atan2(Ge,pe),ht=Y*te*Mt/Ge,mt=1-ht*ht;Mt=pe-2*ne*we/mt,isNaN(Mt)&&(Mt=0);var yt=X/16*mt*(4+X*(4-3*mt)),Ot=ze;ze=ie+(1-yt)*X*ht*(it+yt*Ge*(Mt+yt*pe*(2*Mt*Mt-1)))}while(1e-12<Math.abs(ze-Ot)&&0<--_t);return 0===_t?(ne=W-F,{azimuth:Math.atan2(Math.sin(ne)*Math.cos(V),Math.cos(L)*Math.sin(V)-Math.sin(L)*Math.cos(V)*Math.cos(ne)),geodesicDistance:6371008.771415059*Math.acos(Math.sin(L)*Math.sin(V)+Math.cos(L)*Math.cos(V)*Math.cos(W-F))}):(F=(L=272331606107.54688*mt/40408299984661.45)/1024*(256+L*(L*(74-47*L)-128)),{azimuth:Math.atan2(te*Math.sin(ze),Y*we-ne*te*Math.cos(ze)),QQ:6356752.31424518*(1+L/16384*(4096+L*(L*(320-175*L)-768)))*(it-F*Ge*(Mt+F/4*(pe*(2*Mt*Mt-1)-F/6*Mt*(4*Ge*Ge-3)*(4*Mt*Mt-3)))),MY:Math.atan2(Y*Math.sin(ze),Y*we*Math.cos(ze)-ne*te)})},O.bQ=function(L){var F=L.hasAttribute(1),V=L.hasAttribute(2),W=[],X=L.ea(),ie=null,Y=null;F&&(ie=L.vb(1)),V&&(Y=L.vb(2));for(var te=new B.h,ne=0;ne<X;ne++){for(var we=L.Ca(ne),ze=L.Ka(ne),_t=0,Mt=0,pe=NaN,Ge=NaN,it=NaN,ht=NaN,mt=L.ec(ne),yt=[],Ot=we;Ot<we+ze;Ot++){L.D(Ot,te),ht=it=NaN;var St=[te.x,te.y];F&&(it=ie.get(Ot),St.push(it)),V&&(X=Y.get(Ot),St.push(ht)),Ot==we&&mt&&(_t=te.x,Mt=te.y,pe=it,Ge=ht),yt.push(St)}!mt||_t==te.x&&Mt==te.y&&(!F||isNaN(pe)&&isNaN(it)||pe==it)&&(!V||isNaN(Ge)&&isNaN(ht)||Ge==ht)||yt.push(yt[0].slice(0)),W.push(yt)}return W},O.Ry=function(L,F){L=O.bQ(L),637.100877141506>F&&(F=637.100877141506);for(var V,W=[],X=0;X<L.length;X++){var ie,Y,te=L[X];W.push(V=[]),V.push([te[0][0],te[0][1]]);var ne=te[0][0]*D,we=te[0][1]*D;for(ie=0;ie<te.length-1;ie++){var ze=te[ie+1][0]*D,_t=te[ie+1][1]*D;if(ne!==ze||we!==_t){ze=(_t=O.EM(we,ne,_t,ze)).azimuth;var Mt=(_t=_t.QQ)/F;if(1<Mt){for(Y=1;Y<=Mt-1;Y++){var pe=O.Tx(we,ne,ze,Y*F);V.push([pe.x,pe.y])}Y=O.Tx(we,ne,ze,(_t+Math.floor(Mt-1)*F)/2),V.push([Y.x,Y.y])}we=O.Tx(we,ne,ze,_t),V.push([we.x,we.y]),ne=we.x*D,we=we.y*D}}}return{iJ:W}},O.PQ=function(L){for(var F=[],V=0;V<L.length;V++){var W=L[V];W=O.Ry(W,1e4),F.push(W)}L=[];for(var X=0;X<F.length;X++){W=F[X];var ie=0;for(V=0;V<W.iJ.length;V++){var Y,te=W.iJ[V],ne=O.wu(B.h.construct(te[0][0],te[0][1])),we=O.wu(B.h.construct(te[te.length-1][0],te[te.length-1][1])),ze=we.x*ne.y-ne.x*we.y;for(Y=0;Y<te.length-1;Y++)ne=O.wu(B.h.construct(te[Y+1][0],te[Y+1][1])),ze+=(we=O.wu(B.h.construct(te[Y][0],te[Y][1]))).x*ne.y-ne.x*we.y;ie+=ze}L.push((ie/=1)/-2)}return L},O}(),B.cb=function(){function O(){}return O.rB=function(L,F,V,W,X,ie,Y){O.ZC[L.dc()]=F,0==isNaN(V)&&(O.eD[L.dc()]=V),0==isNaN(W)&&(O.rD[L.dc()]=W),0==isNaN(X)&&(O.TC[L.dc()]=X),O.fD[L.dc()]=ie,null!==Y&&(O.gD[L.dc()]=Y)},O.Xw=function(L,F,V){O.kD[L.dc()+"-"+F.dc()]=V},O.tc=function(L){if(null==(L=O.ZC[L.dc()]))throw B.i.Fe();return L},O.bf=function(L){if(null==(L=O.eD[L.dc()]))throw B.i.Fe();return L},O.wv=function(L){if(null==(L=O.rD[L.dc()]))throw B.i.Fe();return L},O.fv=function(L){if(null==(L=O.TC[L.dc()]))throw B.i.Fe();return L},O.hh=function(L){if(null==(L=O.gD[L.dc()]))throw B.i.Fe();return B.l.construct(L[0],L[1],L[2],L[3])},O.Xc=function(L){if(null==(L=O.fD[L.dc()]))throw B.i.Fe();return L},O.Ah=function(L,F,V){if(F.Nb(V))return L;var W=O.kD[F.dc()+"-"+V.dc()];if(void 0!==W)return W(L,F,V);throw B.i.Fe()},O.vt=function(){throw B.i.Fe()},O.UQ=function(){throw B.i.Fe()},O.UV=function(){throw B.i.Fe()},O.ol=function(){throw B.i.Fe()},O.iW=function(){var L=B.Gg.create(102100),F=B.Gg.create(3857),V=B.Gg.create(4326);B.cb.rB(L,V,NaN,NaN,NaN,!1,null),B.cb.rB(V,V,1,.0033528106647474805,6378137,!0,[-180,-90,180,90]),B.cb.rB(F,V,NaN,NaN,NaN,!1,null),B.cb.Xw(L,V,T),B.cb.Xw(V,L,E),B.cb.Xw(F,V,T),B.cb.Xw(V,F,E)},O.ZC=[],O.eD=[],O.rD=[],O.TC=[],O.fD=[],O.gD=[],O.kD=[],O}()}(st||(st={})),st.cb.iW(),function(B){var Be=function(){function $(k){this.o=new Int32Array(0),this.jo=-1,this.Jg=this.size=this.Dl=0,this.Mf=k}return $.prototype.kd=function(k){k<this.Dl?(this.o[k*this.Mf]=this.jo,this.jo=k):this.Dl--,this.size--},$.prototype.U=function(k,T){return this.o[k*this.Mf+T]},$.prototype.T=function(k,T,E){this.o[k*this.Mf+T]=E},$.prototype.De=function(){var k=this.jo;if(-1==k){if(this.Dl==this.Jg){if(2147483647<(k=0!=this.Jg?B.P.truncate(3*(this.Jg+1)/2):1)&&(k=2147483647),k==this.Jg)throw B.i.re();this.yz(k)}k=this.Dl,this.Dl++}else this.jo=this.o[k*this.Mf];this.size++;for(var T=k*this.Mf;T<k*this.Mf+this.Mf;T++)this.o[T]=-1;return k},$.prototype.Nl=function(k){var T=this.jo;if(-1==T){if(this.Dl==this.Jg){if(2147483647<(T=0!=this.Jg?B.P.truncate(3*(this.Jg+1)/2):1)&&(T=2147483647),T==this.Jg)throw B.i.re();this.yz(T)}T=this.Dl,this.Dl++}else this.jo=this.o[T*this.Mf];this.size++;for(var E=T*this.Mf,D=0;D<k.length;D++)this.o[E+D]=k[D];return T},$.prototype.nj=function(k){this.jo=-1,this.size=this.Dl=0,k&&(this.o=null,this.Jg=0)},$.prototype.Ee=function(k){k>this.Jg&&this.yz(k)},$.prototype.rx=function(k,T){k*=this.Mf,T*=this.Mf;for(var E=0;E<this.Mf;E++){var D=this.o[T+E];this.o[T+E]=this.o[k+E],this.o[k+E]=D}},$.prototype.$B=function(k,T,E){var D=this.o[this.Mf*T+E];this.o[this.Mf*T+E]=this.o[this.Mf*k+E],this.o[this.Mf*k+E]=D},$.DG=function(k){return 0<=k},$.prototype.yz=function(k){null==this.o&&(this.o=new Int32Array(0));var T=new Int32Array(this.Mf*k);T.set(this.o,0),this.o=T,this.Jg=k},$}();B.ad=Be}(st||(st={})),function(B){var Be,$;($=Be||(Be={}))[$.enumInputModeBuildGraph=0]="enumInputModeBuildGraph",$[$.enumInputModeSimplifyAlternate=4]="enumInputModeSimplifyAlternate",$[$.enumInputModeSimplifyWinding=5]="enumInputModeSimplifyWinding",$[$.enumInputModeIsSimplePolygon=7]="enumInputModeIsSimplePolygon";var k=function(){function E(D){this.Ce=D,this.zh=NaN,this.XG=new B.hg,this.YG=new B.hg,this.ns=new B.Oc,this.os=new B.Oc}return E.prototype.compare=function(D,O,L){if(D=D.ka(L),this.Ce.jB(O,this.XG),this.Ce.jB(D,this.YG),O=this.XG.get(),D=this.YG.get(),this.ns.L(O.sa,O.qa),this.os.L(D.sa,D.qa),this.ns.wa<this.os.pa)return-1;if(this.ns.pa>this.os.wa)return 1;var F=D.oa==D.ma;if((L=O.oa==O.ma)||F){if(L&&F)return 0;if(O.oa==D.oa&&O.sa==D.sa)return L?1:-1;if(O.ma==D.ma&&O.qa==D.qa)return L?-1:1}return(L=O.Me(this.zh,this.ns.pa))==(F=D.Me(this.zh,this.os.pa))&&((F=.5*((L=Math.min(O.ma,D.ma))+this.zh))==this.zh&&(F=L),L=O.Me(F,this.ns.pa),F=D.Me(F,this.os.pa)),L<F?-1:L>F?1:0},E.prototype.TJ=function(D){this.zh=D},E}(),T=function(){function E(D){this.ib=D,this.OH=new B.hg,this.Cf=new B.h,this.qA=new B.Oc}return E.prototype.YW=function(D){this.Cf.N(D)},E.prototype.compare=function(D,O){return this.ib.jB(D.ka(O),this.OH),D=this.OH.get(),this.qA.L(D.sa,D.qa),this.Cf.x<this.qA.pa?-1:this.Cf.x>this.qA.wa?1:(D=D.Me(this.Cf.y,this.Cf.x),this.Cf.x<D?-1:this.Cf.x>D?1:0)},E}();Be=function(){function E(){this.$G=this.Ei=this.Hi=this.fA=this.Zn=this.ze=this.Lc=this.kh=this.ge=null,this.Ho=this.xg=-1,this.ZG=!0,this.jA=!1,this.gA=NaN,this.Oi=new B.Nd,this.UN=2147483647,this.TN=B.P.truncate(-2147483648),this.dg=this.be=this.Jl=this.Eq=this.Em=this.Dq=this.Ps=this.Oe=-1,this.xa=0}return E.prototype.sy=function(D){this.gA=D},E.prototype.$m=function(){null==this.ge&&(this.ge=new B.ad(8));var D=this.ge.De();return this.ge.T(D,1,0),D},E.prototype.lU=function(){null==this.Lc&&(this.Lc=new B.ad(8));var D=this.Lc.De();this.Lc.T(D,2,0),this.Lc.T(D,3,0);var O=this.Lc.De();return this.Lc.T(O,2,0),this.Lc.T(O,3,0),this.BJ(D,O),this.BJ(O,D),D},E.prototype.eI=function(){null==this.ze&&(this.ze=new B.ad(8));var D=this.ze.De();return this.ze.T(D,2,0),D},E.prototype.HW=function(D,O){this.ge.T(D,7,O)},E.prototype.on=function(D,O){this.ge.T(D,2,O)},E.prototype.GW=function(D,O){this.ge.T(D,1,O)},E.prototype.ZW=function(D,O){this.ge.T(D,3,O)},E.prototype.WW=function(D,O){this.ge.T(D,4,O)},E.prototype.er=function(D,O){this.ge.T(D,5,O)},E.prototype.XQ=function(D){return this.ge.U(D,5)},E.prototype.FW=function(D,O){this.ge.T(D,6,O)},E.prototype.VM=function(D,O){this.FW(O,D)},E.prototype.AJ=function(D,O){this.Lc.T(D,1,O)},E.prototype.BJ=function(D,O){this.Lc.T(D,4,O)},E.prototype.Vl=function(D,O){this.Lc.T(D,5,O)},E.prototype.Ul=function(D,O){this.Lc.T(D,6,O)},E.prototype.NW=function(D,O){this.Lc.T(D,2,O)},E.prototype.bx=function(D,O){this.Lc.T(D,3,O)},E.prototype.DF=function(D){return this.Lc.U(D,3)},E.prototype.Gt=function(D,O){this.Lc.T(D,7,O)},E.prototype.wK=function(D,O){if(-1!=this.om(D))for(O=O?-1:D,D=this.om(D);-1!=D;D=this.ks(D))this.g.Sa(this.uj(D),this.Eq,O)},E.prototype.wx=function(D,O){-1!=D&&(this.wK(D,O),this.wK(this.ya(D),O))},E.prototype.Dt=function(D,O){this.ze.T(D,1,O)},E.prototype.Wg=function(D,O){this.ze.T(D,2,O)},E.prototype.ln=function(D,O){this.ze.T(D,3,O),this.DW(D,this.WQ(O)),this.BW(O,D)},E.prototype.BW=function(D,O){this.ze.T(D,4,O)},E.prototype.DW=function(D,O){this.ze.T(D,5,O)},E.prototype.vJ=function(D,O){this.ze.T(D,6,O)},E.prototype.tJ=function(D,O){this.ze.T(D,7,O)},E.prototype.sJ=function(D,O){this.Zn.write(D,O)},E.prototype.uJ=function(D,O){this.fA.write(D,O)},E.prototype.ZX=function(D){var O=0,L=0,F=this.sF(D),V=new B.h,W=new B.h,X=new B.h;this.Zr(F,V),W.N(V);var ie=F;do{this.nm(ie,X),L+=B.h.ub(W,X),this.$e(this.ya(ie))!=D&&(O+=(X.x-V.x-(W.x-V.x))*(X.y-V.y+(W.y-V.y))*.5),W.N(X),ie=this.kc(ie)}while(ie!=F);this.Zn.write(D,O),this.fA.write(D,L)},E.prototype.FU=function(D,O){var L=new k(this),F=new B.Yj;F.Ee(B.P.truncate(this.xa/2)),F.Wo(L);for(var V=new B.ja(0),W=this.ah(),X=null,ie=0,Y=new B.h,te=this.Oe;-1!=te;te=this.Sf(te)){if(0==(255&++ie)&&null!=O&&!O.progress(-1,-1))throw B.i.OC();var ne=this.Je(te);if(-1!=ne){if(V.Ch(0),!this.VX(F,W,V,ne)){this.D(te,Y),L.TJ(Y.y);var we=ne;do{var ze=this.Bb(we,W);-1!=ze&&(F.wd(ze,-1),this.Kb(we,W,-2)),we=this.kc(this.ya(we))}while(ne!=we);we=ne;do{-1==(ze=this.Bb(we,W))&&(ze=F.addElement(we,-1),V.add(ze)),we=this.kc(this.ya(we))}while(ne!=we)}for(ne=V.size-1;0<=ne;ne--)ze=V.get(ne),we=F.ka(ze),this.Kb(this.ya(we),W,ze),this.EU(F,ze,D)}else-1==this.Yy(te)&&(null==X&&(X=new T(this)),this.D(te,Y),X.YW(Y),we=F.xW(X),ne=this.Jl,-1!=we&&(ze=F.ka(we),this.$e(ze)==this.$e(this.ya(ze))&&(ze=this.GF(F,we)),-1!=ze&&(ne=this.$e(ze))),this.VM(ne,te))}this.Lg(W)},E.prototype.EU=function(D,O,L){var F=D.ka(O),V=this.$e(F);if(-1==this.Hn(V)){var W=this.GF(D,O),X=this.ya(F),ie=this.$e(X);this.Mp(V),this.Mp(ie);var Y=this.Hn(V),te=this.Hn(ie);if(-1==W&&-1==Y&&(ie==V?(this.ln(ie,this.Jl),Y=te=this.Jl):(-1==te&&(this.ln(ie,this.Jl),te=this.Jl),this.ln(V,ie),Y=ie)),-1!=W){var ne=this.$e(W);-1==te&&(0>=this.Mp(ne)?(te=this.Hn(ne),this.ln(ie,te)):(this.ln(ie,ne),te=ne),ie==V&&(Y=te))}-1==Y&&this.WX(V,ie),0==L?this.$V(D,O,F,W,V,ie):5==L?this.aW(D,O,F,X,V,ie):4==L&&this.ZV(F,W,V,ie)}},E.prototype.$V=function(D,O,L,F,V,W){var X=this.hk(V);if(-1!=F){var ie=this.hk(W),Y=this.hk(this.$e(F));F=X&ie&Y,Y^=Y&this.eh(L),0!=(Y|=F)&&(this.Wg(W,ie|Y),this.Wg(V,Y|X),X=X||Y)}for(O=D.lb(O);-1!=O&&(F=D.ka(O),L=this.$e(this.ya(F)),V=this.hk(L),W=this.eh(F),ie=this.$e(F),F=V&(Y=this.hk(ie))&X,X^=X&W,0!=(X|=F));O=D.lb(O))this.Wg(L,V|X),this.Wg(ie,Y|X)},E.prototype.aW=function(D,O,L,F,V,W){if(V!=W){L=this.Bb(L,this.dg),L+=this.Bb(F,this.dg),F=0;var X=new B.ja(0),ie=new B.ja(0);ie.add(0);for(var Y=D.sc(-1);Y!=O;Y=D.lb(Y)){var te=D.ka(Y),ne=this.ya(te),we=this.$e(te),ze=this.$e(ne);if(we!=ze){if(te=this.Bb(te,this.dg),F+=te+=this.Bb(ne,this.dg),ne=!1,0!=X.size&&X.Gc()==ze&&(ie.Jf(),X.Jf(),ne=!0),-1==this.Hn(ze))throw B.i.Ra();ne&&this.Hn(ze)==we||(ie.add(F),X.add(we))}}F+=L,0!=X.size&&X.Gc()==W&&(ie.Jf(),X.Jf()),0!=F?0==ie.Gc()&&(D=this.Ma(D=this.g.ld),this.Wg(V,D)):0!=ie.Gc()&&(D=this.Ma(D=this.g.ld),this.Wg(V,D))}},E.prototype.ZV=function(D,O,L,F){var V=this.Ma(this.g.ld);if(-1==O)this.Wg(F,this.Ho),0!=(1&(D=this.Bb(D,this.xg)))?this.Wg(L,V):this.Wg(L,this.Ho);else{var W=this.hk(F);0==W?(W=this.hk(this.$e(O)),this.Wg(F,W),0!=(1&(D=this.Bb(D,this.xg)))?this.Wg(L,W==V?this.Ho:V):this.Wg(L,W)):0!=(1&(D=this.Bb(D,this.xg)))?this.Wg(L,W==V?this.Ho:V):this.Wg(L,W)}},E.prototype.VX=function(D,O,L,F){var V=F,W=-1,X=-1,ie=0;do{if(2==ie)return!1;var Y=this.Bb(V,O);if(-1!=Y){if(-1!=W)return!1;W=Y}else{if(-1!=X)return!1;X=V}ie++,V=this.kc(this.ya(V))}while(F!=V);return-1!=X&&-1!=W&&(this.Kb(D.ka(W),O,-2),D.Tj(W,X),L.add(W),!0)},E.prototype.WX=function(D,O){var L=this.Mp(D);if(0!=L){var F=this.Mp(O);(0<L&&0>F||0>L&&0<F||-1!=(O=this.Hn(O)))&&this.ln(D,O)}},E.prototype.nP=function(D,O){this.Eq=this.g.Hd();for(var L=0,F=O.size;L<F;L++){var V=O.get(L),W=this.g.Qa(V,this.Em),X=this.g.Rf(this.g.cd(V)),ie=this.g.jc(X);if(B.ba.Ic(ie)){var Y=this.g.V(V);if(-1!=Y){var te=this.g.Qa(Y,this.Em);if(W!=te){var ne=this.lU(),we=this.ya(ne),ze=this.kh.De();this.kh.T(ze,0,V),this.kh.T(ze,1,-1),this.Gt(ne,ze),this.AJ(ne,W),-1==(ze=this.Je(W))?(this.on(W,ne),this.Vl(ne,we),this.Ul(we,ne)):(W=this.ue(ze),this.Vl(ze,we),this.Ul(we,ze),this.Ul(W,ne),this.Vl(ne,W)),this.AJ(we,te),-1==(W=this.Je(te))?(this.on(te,we),this.Ul(ne,we),this.Vl(we,ne)):(te=this.ue(W),this.Vl(W,ne),this.Ul(ne,W),this.Ul(te,we),this.Vl(we,te)),X=this.Ma(X),0==D?(this.Kb(we,this.be,0),this.Kb(ne,this.be,1736==ie?X:0)):5==D?(te=new B.h,this.g.D(V,te),V=new B.h,this.g.D(Y,V),W=Y=0,0>te.compare(V)?Y=1:W=-1,this.Kb(we,this.be,0),this.Kb(ne,this.be,0),this.Kb(ne,this.dg,Y),this.Kb(we,this.dg,W)):7==D?(this.Kb(we,this.be,this.Ho),this.Kb(ne,this.be,1736==ie?X:0)):4==D&&(this.Kb(we,this.be,0),this.Kb(ne,this.be,0),this.Kb(ne,this.xg,1),this.Kb(we,this.xg,1)),this.bx(ne,X|(ie=1736==ie?this.TN:0)),this.bx(we,X|ie)}}}}},E.prototype.LT=function(D,O){var L=this.om(O);if(-1!=L){var F=this.om(D);this.kh.T(L,1,F),this.Gt(D,L),this.Gt(O,-1)}D=this.ya(D),O=this.ya(O),-1!=(L=this.om(O))&&(F=this.om(D),this.kh.T(L,1,F),this.Gt(D,L),this.Gt(O,-1))},E.prototype.wX=function(D){function O(it,ht){return F.zO(it,ht)}var L=new B.ja(0);L.Jb(10);for(var F=this,V=this.Oe;-1!=V;V=this.Sf(V)){L.clear(!1);var W=this.Je(V);if(-1!=W){var X=W;do{L.add(X),X=this.kc(this.ya(X))}while(X!=W);if(1<L.size){if(X=!0,2<L.size)L.Wd(0,L.size,O),L.add(L.get(0));else if(0<this.yO(L.get(0),L.get(1))){var ie=L.get(0);L.set(0,L.get(1)),L.set(1,ie)}else X=!1;for(var Y=ie=L.get(0),te=this.vf(Y),ne=this.ya(Y),we=-1,ze=1,_t=L.size;ze<_t;ze++){var Mt=L.get(ze),pe=this.ya(Mt),Ge=this.jk(pe);if(Ge==te&&Mt!=Y){if(0==D)we=this.DF(Y)|this.DF(Mt),this.bx(Y,we),this.bx(ne,we),this.Kb(Y,this.be,this.Bb(Y,this.be)|this.Bb(Mt,this.be)),this.Kb(ne,this.be,this.Bb(ne,this.be)|this.Bb(pe,this.be));else if(-1!=this.dg)we=this.Bb(Y,this.dg)+this.Bb(Mt,this.dg),pe=this.Bb(ne,this.dg)+this.Bb(pe,this.dg),this.Kb(Y,this.dg,we),this.Kb(ne,this.dg,pe);else{if(7==D)return void(this.Oi=new B.Nd(5,V,-1));-1!=this.xg&&(we=this.Bb(Y,this.xg)+this.Bb(Mt,this.xg),pe=this.Bb(ne,this.xg)+this.Bb(pe,this.xg),this.Kb(Y,this.xg,we),this.Kb(ne,this.xg,pe))}this.LT(Y,Mt),this.Fy(Mt),we=Y,L.set(ze,-1),Mt==ie&&(L.set(0,-1),ie=-1)}else this.wx(we,!1),we=-1,Y=Mt,te=Ge,ne=pe}if(this.wx(we,!1),we=-1,X){for(ie=-1,ze=0,_t=L.size;ze<_t;ze++)if(-1!=(Mt=L.get(ze)))if(-1==ie)Y=ie=Mt,te=this.vf(Y),ne=this.ya(Y);else if(Mt!=Y&&(pe=this.ya(Mt),Ge=this.jk(pe),this.Ul(ne,Mt),this.Vl(Mt,ne),Y=Mt,te=Ge,ne=pe,7==D&&(this.Bb(Mt,this.be)|this.Bb(this.ue(Mt),this.be))==(1|this.Ho)))return void(this.Oi=new B.Nd(5,V,-1));this.on(V,ie)}else{for(ie=-1,ze=0,_t=L.size;ze<_t;ze++)if(-1!=(Mt=L.get(ze))){ie=Mt;break}W!=ie&&this.on(V,ie)}}}}},E.prototype.ON=function(){for(var D=-1,O=this.ah(),L=this.Oe;-1!=L;L=this.Sf(L)){var F=this.Je(L);if(-1!=F){var V=F;do{if(1!=this.Bb(V,O)){var W=this.eI();this.Dt(W,V),this.tJ(W,D),-1!=D&&this.vJ(D,W),D=W;var X=0,ie=V;do{X|=this.Bb(ie,this.be),this.NW(ie,W),this.Kb(ie,O,1),ie=this.kc(ie)}while(ie!=V);this.Wg(W,X)}V=this.kc(this.ya(V))}while(V!=F)}}W=this.eI(),this.Dt(W,-1),this.tJ(W,D),-1!=D&&this.vJ(D,W),this.Jl=W,this.Zn=B.ce.rf(this.ze.size,NaN),this.fA=B.ce.rf(this.ze.size,NaN),this.sJ(this.Jl,1/0),this.uJ(this.Jl,1/0),this.Lg(O)},E.prototype.jR=function(D,O,L){if(-1==(O=-1!=O?O:this.Je(D)))return-1;for(D=O;;){if(1!=this.Bb(O,L))return O;if((O=this.kc(this.ya(O)))==D)return-1}},E.prototype.oW=function(){for(var D=this.ah(),O=this.Oe;-1!=O;O=this.Sf(O))for(var L=-1;;){var F=this.jR(O,L,D);if(-1==F)break;L=this.kc(this.ya(F));for(var V=F;;){var W=this.kc(V),X=this.ue(V),ie=this.ya(V);if(X==ie){if(this.AP(V),L!=V&&L!=ie||(L=-1),V==F||X==F){if(V==(F=W)||X==F)break;V=W;continue}}else this.Kb(V,D,1);if((V=W)==F)break}}this.Lg(D)},E.prototype.GB=function(D,O,L,F,V){this.Vg(),this.ZG=V,this.g=D,this.Dq=this.g.TE(),(D=new B.ja(0)).Jb(null!=L?this.g.I(L.get(0)):this.g.gd);var W=0,X=1,ie=null!=L?L.get(0):this.g.ld;for(V=1;-1!=ie;){this.g.zJ(ie,this.Dq,X),X<<=1;for(var Y=this.g.Ob(ie);-1!=Y;Y=this.g.Sb(Y))for(var te=this.g.Ya(Y),ne=0,we=this.g.Ka(Y);ne<we;ne++)D.add(te),te=this.g.V(te);B.ba.Sn(this.g.jc(ie))||(W+=this.g.ea(ie)),null!=L?(ie=V<L.size?L.get(V):-1,V++):ie=this.g.ve(ie)}for(this.Ho=X,this.xa=D.size,this.g.mx(D,this.xa),null==this.kh&&(this.kh=new B.ad(2),this.ge=new B.ad(8),this.Lc=new B.ad(8),this.ze=new B.ad(8)),this.kh.Ee(this.xa),B.np.Bp(F),this.ge.Ee(this.xa+10),this.Lc.Ee(2*this.xa+32),this.ze.Ee(Math.max(32,W)),this.Em=this.g.Hd(),L=new B.h,V=0,W=new B.h,L.Sc(),X=0;X<=this.xa;X++)if(X<this.xa?(te=D.get(X),this.g.D(te,W)):W.Sc(),!L.rb(W)){if(V<X){for(te=this.$m(),we=ne=-1;V<X;V++)we=D.get(V),this.g.Sa(we,this.Em,te),ie=this.kh.De(),this.kh.T(ie,0,we),this.kh.T(ie,1,ne),ne=ie,Y=this.g.cd(we),ie=this.g.Rf(Y),ie=this.Ma(ie),this.GW(te,this.yd(te)|ie);this.HW(te,ne),this.er(te,this.g.Va(we)),-1!=this.Ps&&this.WW(this.Ps,te),this.ZW(te,this.Ps),this.Ps=te,-1==this.Oe&&(this.Oe=te)}V=X,L.N(W)}B.np.Bp(F),this.be=this.ah(),5==O&&(this.dg=this.ah()),4==O&&(this.xg=this.ah()),this.nP(O,D),0==this.Oi.Kj&&(this.wX(O),0==this.Oi.Kj&&(isNaN(this.gA)||this.pO()?(this.ON(),0==this.Oi.Kj&&(this.Lg(this.be),this.be=-1,this.ZG&&this.FU(O,F))):this.jA=!0))},E.prototype.Fy=function(D){var O=this.kc(D),L=this.ue(D),F=this.ya(D),V=this.kc(F),W=this.ue(F);O!=F&&(this.Ul(W,O),this.Vl(O,W)),L!=F&&(this.Ul(L,V),this.Vl(V,L)),L=this.jk(D),this.Je(L)==D&&this.on(L,V!=D?V:-1),V=this.jk(F),this.Je(V)==F&&this.on(V,O!=F?O:-1),this.Lc.kd(D),this.Lc.kd(F)},E.prototype.GF=function(D,O){for(;;){if(-1==(O=D.xe(O)))return-1;var L=D.ka(O);if(this.$e(L)!=this.$e(this.ya(L)))return L}},E.prototype.fr=function(D,O){var L;void 0===L&&(L=!0),this.GB(D,0,null,O,L)},E.prototype.nJ=function(D,O,L){var F=new B.ja(0);F.add(O),this.GB(D,4,F,L,1736==D.jc(O))},E.prototype.oJ=function(D,O,L){var F=new B.ja(0);F.add(O),this.GB(D,5,F,L,!0)},E.prototype.Vg=function(){null!=this.g&&(-1!=this.Dq&&(this.g.nW(this.Dq),this.Dq=-1),-1!=this.Em&&(this.g.Ud(this.Em),this.Em=-1),-1!=this.Eq&&(this.g.Ud(this.Eq),this.Eq=-1),-1!=this.be&&(this.Lg(this.be),this.be=-1),-1!=this.dg&&(this.Lg(this.dg),this.dg=-1),-1!=this.xg&&(this.Lg(this.xg),this.xg=-1),this.g=null,this.ge.nj(!0),this.kh.nj(!0),this.Ps=this.Oe=-1,null!=this.Lc&&this.Lc.nj(!0),null!=this.Hi&&(this.Hi.length=0),null!=this.Ei&&(this.Ei.length=0),null!=this.$G&&(this.$G.length=0),null!=this.ze&&this.ze.nj(!0),this.Jl=-1,this.Zn=null)},E.prototype.Je=function(D){return this.ge.U(D,2)},E.prototype.D=function(D,O){this.g.WF(this.XQ(D),O)},E.prototype.yd=function(D){return this.ge.U(D,1)},E.prototype.Sf=function(D){return this.ge.U(D,4)},E.prototype.Yy=function(D){return this.ge.U(D,6)},E.prototype.mm=function(D){return this.ge.U(D,7)},E.prototype.ks=function(D){return this.kh.U(D,1)},E.prototype.uj=function(D){return this.kh.U(D,0)},E.prototype.ng=function(D,O){return(O=this.Ei[O]).size<=D?-1:O.read(D)},E.prototype.pn=function(D,O,L){(O=this.Ei[O]).size<=D&&O.resize(this.ge.size,-1),O.write(D,L)},E.prototype.Fp=function(){null==this.Ei&&(this.Ei=[]);for(var D=B.ja.rf(this.ge.Jg,-1),O=0,L=this.Ei.length;O<L;O++)if(null==this.Ei[O])return this.Ei[O]=D,O;return this.Ei.push(D),this.Ei.length-1},E.prototype.Gp=function(D){this.Ei[D]=null},E.prototype.jk=function(D){return this.Lc.U(D,1)},E.prototype.vf=function(D){return this.jk(this.ya(D))},E.prototype.ya=function(D){return this.Lc.U(D,4)},E.prototype.ue=function(D){return this.Lc.U(D,5)},E.prototype.kc=function(D){return this.Lc.U(D,6)},E.prototype.$e=function(D){return this.Lc.U(D,2)},E.prototype.af=function(D){return this.hk(this.Lc.U(D,2))},E.prototype.om=function(D){return this.Lc.U(D,7)},E.prototype.Zr=function(D,O){this.D(this.jk(D),O)},E.prototype.nm=function(D,O){this.D(this.vf(D),O)},E.prototype.eh=function(D){return this.Lc.U(D,3)&this.UN},E.prototype.Bb=function(D,O){return(O=this.Hi[O]).size<=D?-1:O.read(D)},E.prototype.Kb=function(D,O,L){(O=this.Hi[O]).size<=D&&O.resize(this.Lc.size,-1),O.write(D,L)},E.prototype.ah=function(){null==this.Hi&&(this.Hi=[]);for(var D=B.ja.rf(this.Lc.Jg,-1),O=0,L=this.Hi.length;O<L;O++)if(null==this.Hi[O])return this.Hi[O]=D,O;return this.Hi.push(D),this.Hi.length-1},E.prototype.Lg=function(D){this.Hi[D]=null},E.prototype.AP=function(D){var O=this.$e(D),L=this.ya(D),F=this.kc(D);F==L&&(F=this.kc(F))==D&&(F=-1);var V=this.sF(O);V!==D&&V!=L||this.Dt(O,F),L=this.Zn.read(O),isNaN(L)||(this.sJ(O,NaN),this.uJ(O,NaN)),this.wx(D,!0),this.Fy(D)},E.prototype.BP=function(D){for(var O=0,L=D.size;O<L;O++){var F=D.get(O),V=this.$e(this.ya(F));this.Dt(this.$e(F),-1),this.Dt(V,-1),this.wx(F,!0),this.Fy(F)}},E.prototype.sF=function(D){return this.ze.U(D,1)},E.prototype.hk=function(D){return this.ze.U(D,2)},E.prototype.Hn=function(D){return this.ze.U(D,3)},E.prototype.WQ=function(D){return this.ze.U(D,4)},E.prototype.Mp=function(D){var O=this.Zn.read(D);return isNaN(O)&&(this.ZX(D),O=this.Zn.read(D)),O},E.prototype.Ma=function(D){return this.g.CF(D,this.Dq)},E.prototype.Ie=function(D){return this.g.Qa(D,this.Em)},E.prototype.lR=function(D){return this.g.Qa(D,this.Eq)},E.prototype.kR=function(D,O){var L=this.Je(D);if(-1==L)return-1;var F=L,V=-1,W=-1;do{if(this.vf(F)==O)return F;if(-1==V){if(-1==(V=this.Je(O)))break;W=V}if(this.vf(W)==D)return this.ya(W);F=this.kc(this.ya(F)),W=this.kc(this.ya(W))}while(F!=L&&W!=V);return-1},E.prototype.jB=function(D,O){O.Pr(),O=O.get();var L=new B.h;this.Zr(D,L),O.Ec(L),this.nm(D,L),O.Rc(L)},E.prototype.zO=function(D,O){if(D==O)return 0;var L=new B.h;this.nm(D,L);var F=new B.h;return this.nm(O,F),L.rb(F)?0:(O=new B.h,this.Zr(D,O),(D=new B.h).vc(L,O),(L=new B.h).vc(F,O),B.h.ou(D,L))},E.prototype.yO=function(D,O){if(D==O)return 0;var L=new B.h;this.nm(D,L);var F=new B.h;return this.nm(O,F),L.rb(F)?0:(O=new B.h,this.Zr(D,O),(D=new B.h).vc(L,O),(L=new B.h).vc(F,O),0<=L.y&&0<D.y?B.h.ou(D,L):0)},E.prototype.pO=function(){for(var D=B.mc.nx(this.gA),O=new B.h,L=new B.h,F=new B.h,V=new B.h,W=new B.h,X=this.Oe;-1!=X;X=this.Sf(X)){var ie=this.Je(X);if(-1!=ie){var Y=ie;this.Zr(Y,O),this.nm(Y,L),W.vc(L,O);var te=W.Sk();do{var ne=Y;if((Y=this.kc(this.ya(Y)))!=ne){this.nm(Y,F),V.vc(F,O),ne=V.Sk();var we=V.xi(W);if(we*we/(ne*te)*Math.min(ne,te)<=D)return!1;W.N(V),te=ne,L.N(F)}}while(Y!=ie)}}return!0},E}(),B.ju=Be}(st||(st={})),function(B){var Be=function(){function $(){this.j=null,this.gH=new B.h,this.hH=new B.h,this.Hj=null,this.Nv=!1,this.vl=-1}return $.prototype.cf=function(k){return k<this.Hj.length&&this.Hj[k]},$.prototype.el=function(k,T,E,D){var O=B.ba.uf(this.j.g.jc(E));if(2!=B.ba.uf(this.j.g.jc(T))||1!=O)throw B.i.Ra();this.xP(k,T,E,D)},$.prototype.fr=function(k,T){null==this.j&&(this.j=new B.ju),this.j.fr(k,T)},$.prototype.Ft=function(k,T,E){for(B.Tk.W(k,T,E,!0),T=k.ld;-1!=T;T=k.ve(T))1736==k.jc(T)&&B.tn.W(k,T,-1,this.Nv,E);this.fr(k,E)},$.prototype.EE=function(k,T,E,D,O){var L=this.j.g;if(1736==L.jc(k))for(k=L.Ob(k);-1!=k;k=L.Sb(k)){var F=L.Ya(k);this.j.Ie(F),this.j.Ie(L.V(F));var V=this.j.lR(F);if(-1!=V){var W=this.j.Bb(V,E);if(1!=W&&2!=W)if(this.cf(this.j.af(V))){this.j.Kb(V,E,1),W=L.wf(T,-1);var X=V,ie=this.j.Ie(F),Y=1;do{var te=this.um(F,O);L.jj(W,te),-1!=D&&this.j.pn(ie,D,1),this.j.Kb(X,E,1),X=this.j.kc(X);do{var ne=-1!=(te=1==Y?L.V(F):L.Na(F))?this.j.Ie(te):-1}while(ne==ie);var we=this.j.jk(X);if(we!=ne){do{ne=-1!=(te=1==Y?L.Na(F):L.V(F))?this.j.Ie(te):-1}while(ne==ie);we!=ne?te=this.j.uj(this.j.mm(ne=we)):Y=-Y}ie=ne,F=te}while(X!=V);L.mn(W,!0)}else this.j.Kb(V,E,2)}}},$.prototype.XE=function(){for(var k=this.j.ah(),T=new B.ja(0),E=this.j.Oe;-1!=E;E=this.j.Sf(E)){var D=this.j.Je(E),O=D;if(-1!=D)do{if(1!=this.j.Bb(O,k)){var L=this.j.ya(O);this.j.Kb(L,k,1),this.j.Kb(O,k,1),this.cf(this.j.af(O))&&this.cf(this.j.af(L))&&T.add(O)}O=this.j.kc(this.j.ya(O))}while(O!=D)}this.j.Lg(k),this.j.BP(T)},$.prototype.um=function(k,T){return-1==T?k:this.SR(k,T)},$.prototype.SR=function(k,T){var E=this.j.g,D=this.j.mm(this.j.Ie(k));do{var O=this.j.uj(D);if(E.Rf(E.cd(O))==T)return O;D=this.j.ks(D)}while(-1!=D);return k},$.prototype.Pt=function(k,T,E){this.XE();var D=this.j.g,O=D.Kg(1736),L=this.j.ah();return this.mK(k,T,O,E,L,-1),this.j.Lg(L),B.tn.W(D,O,1,this.Nv,null),O},$.prototype.mK=function(k,T,E,D,O,L){for(this.EE(k,E,O,L,D),-1!=T&&this.EE(T,E,O,L,D),k=this.j.g,T=this.j.Oe;-1!=T;T=this.j.Sf(T)){var F=this.j.Je(T);if(-1!=F){var V=F;do{var W=this.j.Bb(V,O);if(1!=W&&2!=W)if(this.cf(this.j.af(V))){W=k.wf(E,-1);var X=V;do{var ie=this.j.om(X);-1!=ie?ie=this.j.uj(ie):(ie=this.j.uj(this.j.om(this.j.ya(X))),ie=this.j.g.V(ie)),ie=this.um(ie,D),k.jj(W,ie),this.j.Kb(X,O,1),-1!=L&&(ie=this.j.Ie(ie),this.j.pn(ie,L,1)),X=this.j.kc(X)}while(X!=V);k.mn(W,!0)}else this.j.Kb(V,O,2);V=this.j.kc(this.j.ya(V))}while(V!=F)}}},$.prototype.PX=function(k,T,E){var D=this.j.g,O=D.Kg(1736),L=D.Kg(1607),F=D.Kg(550);this.XE();var V=-1,W=this.j.ah(),X=this.j.Fp();for(this.mK(k,T,O,E,W,X),k=this.j.Oe;-1!=k;k=this.j.Sf(k))if(-1!=(T=this.j.Je(k))){var ie=T;do{var Y=this.j.Bb(ie,W),te=this.j.Bb(this.j.ya(ie),W);if(2==(Y|=te))if(Y=this.j.eh(ie),this.cf(Y)){var ne=D.wf(L,-1),we=ie;Y=this.Zw(k,D),Y=this.um(Y,E),D.jj(ne,Y),this.j.pn(k,X,1);do{if(Y=this.j.vf(we),te=this.Zw(Y,D),te=this.um(te,E),D.jj(ne,te),this.j.Kb(we,W,1),this.j.Kb(this.j.ya(we),W,1),this.j.pn(Y,X,1),we=this.j.kc(we),Y=this.j.Bb(we,W),2!=(Y|=te=this.j.Bb(this.j.ya(we),W)))break;if(Y=this.j.eh(we),!this.cf(Y)){this.j.Kb(we,W,1),this.j.Kb(this.j.ya(we),W,1);break}}while(we!=ie)}else this.j.Kb(ie,W,1),this.j.Kb(this.j.ya(ie),W,1);ie=this.j.kc(this.j.ya(ie))}while(ie!=T)}for(k=this.j.Oe;-1!=k;k=this.j.Sf(k))1!=(Y=this.j.ng(k,X))&&(Y=this.j.yd(k),this.cf(Y)&&(-1==V&&(V=D.wf(F,-1)),-1!=(T=this.j.mm(k))&&(T=this.j.uj(T),Y=this.um(T,E),D.jj(V,Y))));return this.j.Gp(X),this.j.Lg(W),B.tn.W(D,O,1,this.Nv,null),(E=[])[0]=F,E[1]=L,E[2]=O,E},$.prototype.Zw=function(k,T){var E=-1;for(k=this.j.mm(k);-1!=k;k=this.j.ks(k)){var D=this.j.uj(k);-1==E&&(E=D);var O=this.j.Ma(T.Rf(T.cd(D)));if(this.cf(O)){E=D;break}}return E},$.prototype.fB=function(k,T){for(var E=this.ll(T),D=this.j.jk(T),O=this.j.vf(T),L=0,F=0,V=this.j.mm(D);-1!=V;V=this.j.ks(V)){var W=this.j.uj(V),X=k.cd(W),ie=this.j.Ma(k.Rf(X));X=k.Ya(X),(ie=0!=(ie&E))&&X==W&&(this.vl=T);var Y=k.V(W);-1!=Y&&this.j.Ie(Y)==O?(L++,ie&&(-1===this.vl&&X==Y&&(W=this.j.kc(T),this.cf(this.ll(W))&&(this.vl=W)),F++)):-1!=(W=k.Na(W))&&this.j.Ie(W)==O&&(L--,ie&&(-1===this.vl&&X===W&&(W=this.j.kc(T),this.cf(this.ll(W))&&(this.vl=W)),F--))}return this.j.D(D,this.gH),this.j.D(O,this.hH),(0!=F?F:L)*B.h.ub(this.gH,this.hH)},$.prototype.ll=function(k){return this.j.eh(k)|this.j.af(k)|this.j.af(this.j.ya(k))},$.prototype.pK=function(k){for(var T=this.j.ya(this.j.ue(k)),E=-1;T!=k;){if(this.cf(this.ll(T))){if(-1!=E)return-1;E=T}T=this.j.ya(this.j.ue(T))}return-1!=E?this.j.ya(E):-1},$.prototype.qK=function(k){for(var T=this.j.ya(this.j.kc(k)),E=-1;T!=k;){if(this.cf(this.ll(T))){if(-1!=E)return-1;E=T}T=this.j.ya(this.j.kc(T))}return-1!=E?this.j.ya(E):-1},$.prototype.eJ=function(k,T,E,D,O){var L=this.j.g,F=k,V=this.j.ya(F);this.j.Kb(F,E,1),this.j.Kb(V,E,1),this.vl=-1;for(var W=this.fB(L,F),X=F,ie=-1,Y=!1,te=1;;){var ne=this.j.ue(F);if(ne==V)break;if(V=this.j.kc(V),this.j.ya(ne)!=V){if(-1==(F=this.pK(F))){Y=!0;break}V=this.j.ya(F)}else F=ne;if(F==k){ie=k;break}if(ne=this.ll(F),!this.cf(ne))break;this.j.Kb(F,E,1),this.j.Kb(V,E,1),X=F,W+=this.fB(L,F),te++}if(-1==ie)for(V=this.j.ya(F=k),ie=F;(k=this.j.kc(F))!=V;){if(V=this.j.ue(V),this.j.ya(k)!=V){if(-1==(F=this.qK(F))){Y=!0;break}V=this.j.ya(F)}else F=k;if(ne=this.ll(F),!this.cf(ne))break;this.j.Kb(F,E,1),this.j.Kb(V,E,1),ie=F,W+=this.fB(L,F),te++}else if(-1!=this.vl&&(X=this.vl,ie=this.j.ue(this.vl),this.j.ya(ie)!=this.j.kc(this.j.ya(X))&&-1==(ie=this.pK(X))))throw B.i.Ra();for(0<=W||(F=ie,ie=this.j.ya(X),X=this.j.ya(F)),E=L.wf(T,-1),F=X,X=this.j.jk(X),Y=this.j.vf(ie)==X&&Y,W=this.Zw(X,L),W=this.um(W,O),L.jj(E,W),-1!=D&&this.j.pn(X,D,1),X=0,te=Y?B.P.truncate((te+1)/2):-1;k=this.j.vf(F),W=this.Zw(k,L),W=this.um(W,O),L.jj(E,W),X++,-1!=D&&this.j.pn(k,D,1),Y&&X==te&&(E=L.wf(T,-1),L.jj(E,W)),F!=ie;)if(k=this.j.kc(F),this.j.ue(this.j.ya(F))!=this.j.ya(k)){if(-1==(F=this.qK(F)))throw B.i.Ra()}else F=k},$.prototype.Qt=function(k){for(var T=this.j.g.Kg(1607),E=this.j.ah(),D=this.j.Oe;-1!=D;D=this.j.Sf(D)){var O=this.j.Je(D),L=O;do{1!=this.j.Bb(L,E)&&this.cf(this.ll(L))&&this.eJ(L,T,E,-1,k),L=this.j.kc(this.j.ya(L))}while(L!=O)}return this.j.Lg(E),T},$.prototype.QX=function(k){for(var T=this.j.g,E=T.Kg(1607),D=T.Kg(550),O=this.j.ah(),L=this.j.Fp(),F=-1,V=this.j.Oe;-1!=V;V=this.j.Sf(V)){var W=this.j.Je(V),X=W;do{var ie=this.j.Bb(X,O);1!=ie&&(ie=this.ll(X),this.cf(ie)&&this.eJ(X,E,O,L,k)),X=this.j.kc(this.j.ya(X))}while(X!=W)}for(V=this.j.Oe;-1!=V;V=this.j.Sf(V))1!=(ie=this.j.ng(V,L))&&(ie=this.j.yd(V),this.cf(ie)&&(-1==F&&(F=T.wf(D,-1)),-1!=(W=this.j.mm(V))&&(W=this.j.uj(W),W=this.um(W,k),T.jj(F,W))));return this.j.Lg(O),this.j.Gp(L),(k=[])[0]=D,k[1]=E,k},$.prototype.pr=function(){for(var k=this.j.g,T=k.Kg(550),E=k.wf(T,-1),D=this.j.Oe;-1!=D;D=this.j.Sf(D))if(this.cf(this.j.yd(D))){for(var O=-1,L=this.j.mm(D);-1!=L;L=this.j.ks(L)){var F=this.j.uj(L);-1==O&&(O=F);var V=this.j.Ma(k.Rf(k.cd(F)));if(this.cf(V)){O=F;break}}k.jj(E,O)}return T},$.prototype.eq=function(k){this.Hj=[];for(var T=0;T<k;T++)this.Hj[T]=!1},$.RV=function(k,T,E){var D=k.Ja(),O=Array(1e3);B.P.av(O,null);var L=B.P.lg(1e3,0),F=k.I(),V=!0,W=2==T.Eb();if(1!=T.Eb()&&2!=T.Eb())throw B.i.Ra();for(var X=0;X<F;){var ie=B.P.truncate(k.bW(O,X)-X);W?B.jd.kK(T,O,ie,E,L):B.jd.lK(T,O,ie,E,L);for(var Y=0,te=0;te<ie;te++)0==L[te]&&(V&&(V=!1,D.Gd(k,0,X)),Y!=te&&D.Gd(k,X+Y,X+te),Y=te+1);V||Y==ie||D.Gd(k,X+Y,X+ie),X+=ie}return V?k:D},$.rG=function(k,T,E){return k instanceof B.de?$.RV(k,T,E):T instanceof B.Ta?k.B()||T.B()?k.Ja():B.Tk.pU(E,k,T)?B.Tk.uO(k,T):k.Ja():$.SV(k,T,E)},$.Bv=function(k,T,E,D){var O=new B.l;k.A(O);var L=new B.l;T.A(L);var F=new B.l;if(F.L(O),F.$b(L),E=B.ta.Xd(E,F,!0),(F=new B.l).L(L),L=B.ta.Gr(E),F.X(L,L),!O.isIntersecting(F)){if(k.Eb()<=T.Eb())return $.li($.Ue(k.Ja()),k,"&");if(k.Eb()>T.Eb())return $.li($.Ue(T.Ja()),k,"&")}return L=new $,F=(O=new B.hd).Ib($.Ue(k)),T=O.Ib($.Ue(T)),L.Ft(O,E,D),D=L.Bv(F,T),k=$.li(O.Ke(D),k,"&"),B.ba.Ic(k.K())&&(k.Dh(2,E),1736==k.K()&&k.hm()),k},$.SV=function(k,T,E){if(k.B()||T.B())return k.Ja();var D=[null],O=[0],L=2==T.Eb();if(1!=T.Eb()&&2!=T.Eb())throw B.i.Ra();return D[0]=k.D(),L?B.jd.kK(T,D,1,E,O):B.jd.lK(T,D,1,E,O),0==O[0]?k.Ja():k},$.prototype.BU=function(k,T,E,D,O){if(k.B())return k;var L=new B.hd;return k=L.Ib(k),this.Mk(L,k,T,E,D,O)},$.prototype.DU=function(k,T,E,D,O,L){if(O&&550!=k.jc(T)){var F=new B.JC;F.HX(k,E),F.Og?(B.Tk.W(k,E,L,!0),O=!1):this.j.sy(E)}else B.Tk.W(k,E,L,!0),O=!1;if(D&&550!=k.jc(T)?this.j.oJ(k,T,L):this.j.nJ(k,T,L),this.j.jA)return this.j.Vg(),this.j=null,this.Mk(k,T,E,D,!1,L);if(this.j.sy(NaN),L=this.j.Ma(T),this.eq(L+1),this.Hj[L]=!0,1736==k.jc(T)||D&&550!=k.jc(T))return k.Zo(T,0),T=this.Pt(T,-1,-1),(k=k.Ke(T)).Zo(0),O?k.Dh(1,0):(k.Dh(2,E),k.hm()),k;if(1607==k.jc(T))return T=this.Qt(-1),k=k.Ke(T),O||k.Dh(2,E),k;if(550==k.jc(T))return T=this.pr(),k=k.Ke(T),O||k.Dh(2,E),k;throw B.i.Ra()},$.prototype.Mk=function(k,T,E,D,O,L){this.j=new B.ju;try{return this.DU(k,T,E,D,O,L)}finally{this.j.Vg()}},$.Mk=function(k,T,E,D,O){return(new $).BU(k,T,E,D,O)},$.prototype.CU=function(k,T,E,D){this.Nv=k,this.j=new B.ju,k=T.Jn(E);var O=T.jc(E);if(1!=k||550==O?this.j.nJ(T,E,D):this.j.oJ(T,E,D),!this.j.jA)if(this.j.sy(NaN),D=this.j.Ma(E),this.eq(D+1),this.Hj[D]=!0,1736==T.jc(E)||1==k&&550!=T.jc(E))T.Zo(E,0),D=this.Pt(E,-1,-1),T.aC(D,E),T.vB(D);else if(1607==T.jc(E))D=this.Qt(-1),T.aC(D,E),T.vB(D);else{if(550!=T.jc(E))throw B.i.ga("internal error");D=this.pr(),T.aC(D,E),T.vB(D)}},$.prototype.km=function(k,T){var E=B.ba.uf(this.j.g.jc(k)),D=B.ba.uf(this.j.g.jc(T));if(E>D)return k;var O=this.j.Ma(k),L=this.j.Ma(T);if(this.eq(1+(O|L)),this.Hj[this.j.Ma(k)]=!0,2==E&&2==D)return this.Pt(k,T,-1);if(1==E&&2==D||1==E&&1==D)return this.Qt(-1);if(0==E)return this.pr();throw B.i.Ra()},$.prototype.Bv=function(k,T){var E=B.ba.uf(this.j.g.jc(k)),D=B.ba.uf(this.j.g.jc(T)),O=this.j.Ma(k),L=this.j.Ma(T);if(this.eq(1+(O|L)),this.Hj[this.j.Ma(k)|this.j.Ma(T)]=!0,O=-1,1<this.j.g.ht.Ba&&(O=k),2==E&&2==D)return this.Pt(k,T,O);if(1==E&&0<D||1==D&&0<E)return this.Qt(O);if(0==E||0==D)return this.pr();throw B.i.Ra()},$.prototype.Kz=function(k,T){var E=B.ba.uf(this.j.g.jc(k)),D=B.ba.uf(this.j.g.jc(T)),O=this.j.Ma(k),L=this.j.Ma(T);if(this.eq(1+(O|L)),this.Hj[this.j.Ma(k)|this.j.Ma(T)]=!0,O=-1,1<this.j.g.ht.Ba&&(O=k),2==E&&2==D)return this.PX(k,T,O);if(1==E&&0<D||1==D&&0<E)return this.QX(O);if(0==E||0==D)return(k=[])[0]=this.pr(),k;throw B.i.Ra()},$.prototype.fp=function(k,T){var E=B.ba.uf(this.j.g.jc(k)),D=B.ba.uf(this.j.g.jc(T)),O=this.j.Ma(k),L=this.j.Ma(T);if(this.eq(1+(O|L)),this.Hj[this.j.Ma(k)]=!0,this.Hj[this.j.Ma(T)]=!0,2==E&&2==D)return this.Pt(k,T,-1);if(1==E&&1==D)return this.Qt(-1);if(0==E&&0==D)return this.pr();throw B.i.Ra()},$.Ue=function(k){var T=k.K();return 197==T?(T=new B.Ea(k.description),k.B()||T.bd(k,!1),T):33==T?(T=new B.de(k.description),k.B()||T.add(k),T):322==T?(T=new B.Ua(k.description),k.B()||T.oc(k,!0),T):k},$.li=function(k,T,E){var D=k.K();return 197==D?(T=new B.Ea(k.description),k.B()||T.bd(k,!1),T):33!=D||"|"!=E&&"^"!=E?322==D?(T=new B.Ua(k.description),k.B()||T.oc(k,!0),T):33==D&&"-"==E&&33==T.K()||550==D&&"&"==E&&33==T.K()?(T=new B.Ta(k.description),k.B()||k.we(0,T),T):k:(T=new B.de(k.description),k.B()||T.add(k),T)},$.km=function(k,T,E,D){if(k.B()||T.B()||k.Eb()>T.Eb())return $.li($.Ue(k),k,"-");var O=new B.l;k.A(O);var L=new B.l;if(T.A(L),!O.isIntersecting(L))return $.li($.Ue(k),k,"-");var F=new B.l;return F.L(O),F.$b(L),E=B.ta.Xd(E,F,!0),L=new $,F=(O=new B.hd).Ib($.Ue(k)),T=O.Ib($.Ue(T)),L.Ft(O,E,D),D=L.km(F,T),D=O.Ke(D),k=$.li(D,k,"-"),B.ba.Ic(k.K())&&(k.Dh(2,E),1736==k.K()&&k.hm()),k},$.NP=function(k,T,E){if(2>k.length)throw B.i.O("not enough geometries to dissolve");for(var D=0,O=0,L=k.length;O<L;O++)D=Math.max(k[O].Eb(),D);var F=new B.l;F.Pa();var V=new B.hd,W=-1,X=0,ie=-1;for(O=0,L=k.length;O<L;O++)if(k[O].Eb()==D)if(k[O].B())-1==ie&&(ie=O);else{ie=O,-1==W?W=V.Ib($.Ue(k[O])):V.mN(W,$.Ue(k[O]));var Y=new B.l;k[O].yc(Y),F.$b(Y),X++}return 2>X?$.Ue(k[ie]):(k=2==D,T=B.ta.Xd(0==D?T:null,F,!0),(new $).Mk(V,W,T,k,!0,E))},$.Kz=function(k,T,E,D){var O=[null,null,null],L=new B.l;k.A(L);var F=new B.l;T.A(F);var V=new B.l;if(V.L(L),V.$b(F),E=B.ta.Xd(E,V,!0),(V=new B.l).L(F),F=B.ta.Gr(E),V.X(F,F),!L.isIntersecting(V)){if(k.Eb()<=T.Eb())return O[(k=$.li($.Ue(k.Ja()),k,"&")).Eb()]=k,O;if(k.Eb()>T.Eb())return O[(k=$.li($.Ue(T.Ja()),k,"&")).Eb()]=k,O}for(F=new $,V=(L=new B.hd).Ib($.Ue(k)),T=L.Ib($.Ue(T)),F.Ft(L,E,D),D=F.Kz(V,T),T=0;T<D.length;T++)F=$.li(L.Ke(D[T]),k,"&"),B.ba.Ic(F.K())&&(F.Dh(2,E),1736==F.K()&&F.hm()),O[F.Eb()]=F;return O},$.fp=function(k,T,E,D){if(k.Eb()>T.Eb())return $.li($.Ue(k),k,"^");if(k.Eb()<T.Eb()||k.B())return $.li($.Ue(T),k,"^");if(T.B())return $.li($.Ue(k),k,"^");var O=new B.l;k.A(O);var L=new B.l;T.A(L);var F=new B.l;return F.L(O),F.$b(L),E=B.ta.Xd(E,F,!0),L=new $,F=(O=new B.hd).Ib($.Ue(k)),T=O.Ib($.Ue(T)),L.Ft(O,E,D),D=L.fp(F,T),k=$.li(O.Ke(D),k,"^"),B.ba.Ic(k.K())&&(k.Dh(2,E),1736==k.K()&&k.hm()),k},$.prototype.DQ=function(k,T){var E=this.j.g;k=E.wf(k,-1);for(var D=T.size,O=0;O<D;O++){var L=T.get(O);E.jj(k,L)}E.mn(k,!0)},$.prototype.OW=function(k,T){for(var E=this.j.g,D=E.ld;-1!=D;D=E.ve(D))if(D==T)for(var O=E.Ob(D);-1!=O;O=E.Sb(O)){var L=E.Ya(O);if(-1!=L)for(var F=E.V(L);-1!=F;){L=this.j.Ie(L);var V=this.j.Ie(F);-1!=(L=this.j.kR(L,V))&&(V=this.j.ya(L),this.j.Kb(L,k,1),this.j.Kb(V,k,2)),F=E.V(L=F)}}},$.prototype.TV=function(k,T,E,D){E=this.j.Ma(E),D=this.j.Ma(D);var O=new B.ja(0);O.Jb(256);for(var L=this.j.g,F=this.j.ah(),V=this.j.Oe;-1!=V;V=this.j.Sf(V)){var W=this.j.Je(V);if(-1!=W){var X=W;do{if(1!=this.j.Bb(X,F)){var ie=X,Y=X,te=!1,ne=0;do{if(this.j.Kb(ie,F,1),!te){var we=this.j.eh(ie);0!=(we&D)&&0!=(this.j.af(ie)&E)&&(Y=ie,te=!0)}te&&(O.add(this.j.uj(this.j.mm(this.j.jk(ie)))),-1!=k&&0!=((we=this.j.eh(ie))&D)&&(ne|=we=this.j.Bb(ie,k))),ie=this.j.kc(ie)}while(ie!=Y);te&&0<this.j.Mp(this.j.$e(Y))&&(ie=L.Kg(1736),this.DQ(ie,O),-1!=T&&L.zJ(ie,T,ne)),O.clear(!1)}X=this.j.kc(this.j.ya(X))}while(X!=W)}}this.j.Lg(F)},$.prototype.xP=function(k,T,E,D){this.j.oW();var O=-1;-1!=k&&(O=this.j.ah(),this.OW(O,E)),this.TV(O,k,T,E),-1!=O&&(this.j.Lg(O),O=-1);var L=this.j.g;for(k=0,O=L.ld;-1!=O;O=L.ve(O))O!=T&&O!=E&&(D.add(O),k++);D.Wd(0,k,function(F,V){return(F=L.qz(L.Ob(F)))<(V=L.qz(L.Ob(V)))?-1:F==V?0:1})},$.prototype.Vg=function(){null!=this.j&&(this.j.Vg(),this.j=null)},$}();B.Hg=Be}(st||(st={})),function(B){var Be=function(){function $(k){void 0!==k?this.It(k):this.KB()}return $.prototype.kx=function(){this.Qb=this.Lb=this.qb=this.jb=this.bb=this.eb=0},$.prototype.Nb=function(k){return this==k||k instanceof $&&this.eb==k.eb&&this.jb==k.jb&&this.Lb==k.Lb&&this.qb==k.qb&&this.bb==k.bb&&this.Qb==k.Qb},$.prototype.dc=function(){return B.P.vj(),B.P.vj(),B.P.vj(),B.P.vj(),B.P.vj(),B.P.vj()},$.prototype.Fh=function(k,T){var E=this.qb*k.x+this.bb*k.y+this.Qb;T.x=this.eb*k.x+this.jb*k.y+this.Lb,T.y=E},$.prototype.TX=function(k,T,E){for(var D=0;D<T;D++){var O=k[D].x,L=k[D].y,F=this.eb*O+this.jb*L+this.Lb;O=this.qb*O+this.bb*L+this.Qb,null!=E[D]?E[D].na(F,O):E[D]=B.h.construct(F,O)}},$.prototype.multiply=function(k){$.multiply(this,k,this)},$.multiply=function(k,T,E){var D=k.eb*T.eb+k.qb*T.jb,O=k.jb*T.eb+k.bb*T.jb,L=k.Lb*T.eb+k.Qb*T.jb+T.Lb,F=k.eb*T.qb+k.qb*T.bb,V=k.jb*T.qb+k.bb*T.bb;k=k.Lb*T.qb+k.Qb*T.bb+T.Qb,E.eb=D,E.jb=O,E.Lb=L,E.qb=F,E.bb=V,E.Qb=k},$.prototype.Pf=function(){var k=new $;return k.eb=this.eb,k.jb=this.jb,k.Lb=this.Lb,k.qb=this.qb,k.bb=this.bb,k.Qb=this.Qb,k},$.prototype.fC=function(k){if(!k.B()){for(var T=[],E=0;4>E;E++)T[E]=new B.h;k.hB(T),this.UX(T,T),k.ax(T,4)}},$.prototype.UX=function(k,T){for(var E=0;E<k.length;E++){var D=new B.h,O=k[E];D.x=this.eb*O.x+this.jb*O.y+this.Lb,D.y=this.qb*O.x+this.bb*O.y+this.Qb,T[E]=D}},$.prototype.gS=function(k,T){k.B()||T.B()||0==k.S()||0==k.da()?this.kx():(this.jb=this.qb=0,this.eb=T.S()/k.S(),this.bb=T.da()/k.da(),this.Lb=T.v-k.v*this.eb,this.Qb=T.G-k.G*this.bb)},$.prototype.SX=function(k){var T=new B.h,E=new B.h;T.na(this.eb,this.qb),E.na(this.jb,this.bb),T.sub(T);var D=.5*T.Sk();return T.na(this.eb,this.qb),E.na(this.jb,this.bb),T.add(E),k*(D>(T=.5*T.Sk())?Math.sqrt(D):Math.sqrt(T))},$.prototype.KB=function(){this.eb=1,this.qb=this.Lb=this.jb=0,this.bb=1,this.Qb=0},$.prototype.isIdentity=function(k){if(void 0!==k){var T=B.h.construct(0,1);return this.Fh(T,T),T.sub(B.h.construct(0,1)),!(T.Sk()>k*k)&&(T.na(0,0),this.Fh(T,T),!(T.Sk()>k*k)&&(T.na(1,0),this.Fh(T,T),T.sub(B.h.construct(1,0)),T.Sk()<=k*k))}return 1==this.eb&&1==this.bb&&0==this.jb&&0==this.Lb&&0==this.qb&&0==this.Qb},$.prototype.Ci=function(k){return Math.abs(this.eb*this.bb-this.qb*this.jb)<=2*k*(Math.abs(this.eb*this.bb)+Math.abs(this.qb*this.jb))},$.prototype.gg=function(k,T){this.eb=1,this.jb=0,this.Lb=k,this.qb=0,this.bb=1,this.Qb=T},$.prototype.It=function(k,T){void 0!==T?(this.eb=k,this.qb=this.Lb=this.jb=0,this.bb=T,this.Qb=0):this.It(k,k)},$.prototype.TB=function(){this.eb=0,this.jb=1,this.Lb=0,this.qb=1,this.Qb=this.bb=0},$.prototype.cX=function(k){this.dX(Math.cos(k),Math.sin(k))},$.prototype.dX=function(k,T){this.eb=k,this.jb=-T,this.Lb=0,this.qb=T,this.bb=k,this.Qb=0},$.prototype.shift=function(k,T){this.Lb+=k,this.Qb+=T},$.prototype.scale=function(k,T){this.eb*=k,this.jb*=k,this.Lb*=k,this.qb*=T,this.bb*=T,this.Qb*=T},$.prototype.flipX=function(k,T){this.eb=-this.eb,this.jb=-this.jb,this.Lb=k+T-this.Lb},$.prototype.flipY=function(k,T){this.qb=-this.qb,this.bb=-this.bb,this.Qb=k+T-this.Qb},$.prototype.rotate=function(k){var T=new $;T.cX(k),this.multiply(T)},$.prototype.inverse=function(k){if(void 0!==k){var T=this.eb*this.bb-this.jb*this.qb;0==T?k.kx():(k.Lb=(this.jb*this.Qb-this.Lb*this.bb)*(T=1/T),k.Qb=(this.Lb*this.qb-this.eb*this.Qb)*T,k.eb=this.bb*T,k.jb=-this.jb*T,k.qb=-this.qb*T,k.bb=this.eb*T)}else this.inverse(this)},$}();B.Ed=Be}(st||(st={})),function(B){var Be=function(){function $(){}return $.prototype.kx=function(){this.Cg=this.Qb=this.Lb=this.Ze=this.We=this.Ve=this.Ye=this.bb=this.jb=this.pf=this.qb=this.eb=0},$.prototype.It=function(k,T){this.eb=k,this.jb=this.pf=this.qb=0,this.bb=T,this.We=this.Ve=this.Ye=0,this.Ze=void 0,this.Cg=this.Qb=this.Lb=0},$.prototype.translate=function(k,T,E){this.Lb+=k,this.Qb+=T,this.Cg+=E},$.prototype.fC=function(k){if(!k.B()){for(var T=new B.Od[8],E=0;8>E;E++)T[E]=new B.Od;k.hB(T),this.transform(T,8,T),k.ax(T)}},$.prototype.transform=function(k,T,E){for(var D=0;D<T;D++){var O=new B.Od,L=k[D];O.x=this.eb*L.x+this.jb*L.y+this.Ve*L.z+this.Lb,O.y=this.qb*L.x+this.bb*L.y+this.We*L.z+this.Qb,O.z=this.pf*L.x+this.Ye*L.y+this.Ze*L.z+this.Cg,E[D]=O}},$.prototype.gp=function(k){var T=new B.Od;return T.x=this.eb*k.x+this.jb*k.y+this.Ve*k.z+this.Lb,T.y=this.qb*k.x+this.bb*k.y+this.We*k.z+this.Qb,T.z=this.pf*k.x+this.Ye*k.y+this.Ze*k.z+this.Cg,T},$.prototype.Ag=function(k){$.multiply(this,k,this)},$.multiply=function(k,T,E){var D=k.eb*T.eb+k.qb*T.jb+k.pf*T.Ve,O=k.eb*T.qb+k.qb*T.bb+k.pf*T.We,L=k.eb*T.pf+k.qb*T.Ye+k.pf*T.Ze,F=k.jb*T.eb+k.bb*T.jb+k.Ye*T.Ve,V=k.jb*T.qb+k.bb*T.bb+k.Ye*T.We,W=k.jb*T.pf+k.bb*T.Ye+k.Ye*T.Ze,X=k.Ve*T.eb+k.We*T.jb+k.Ze*T.Ve,ie=k.Ve*T.qb+k.We*T.bb+k.Ze*T.We,Y=k.Ve*T.pf+k.We*T.Ye+k.Ze*T.Ze,te=k.Lb*T.eb+k.Qb*T.jb+k.Cg*T.Ve+T.Lb,ne=k.Lb*T.qb+k.Qb*T.bb+k.Cg*T.We+T.Qb;k=k.Lb*T.pf+k.Qb*T.Ye+k.Cg*T.Ze+T.Cg,E.eb=D,E.qb=O,E.pf=L,E.jb=F,E.bb=V,E.Ye=W,E.Ve=X,E.We=ie,E.Ze=Y,E.Lb=te,E.Qb=ne,E.Cg=k},$.inverse=function(k,T){var E=k.eb*(k.bb*k.Ze-k.Ye*k.We)-k.qb*(k.jb*k.Ze-k.Ye*k.Ve)+k.pf*(k.jb*k.We-k.bb*k.Ve);if(0==E)throw B.i.ga("math singularity");var D=1/E,O=-(k.jb*k.Ze-k.Ye*k.Ve)*D,L=(k.jb*k.We-k.bb*k.Ve)*D,F=-(k.qb*k.Ze-k.We*k.pf)*D,V=(k.eb*k.Ze-k.pf*k.Ve)*D,W=-(k.eb*k.We-k.qb*k.Ve)*D,X=(k.qb*k.Ye-k.pf*k.bb)*D,ie=-(k.eb*k.Ye-k.pf*k.jb)*D,Y=-(k.Lb*(E=(k.bb*k.Ze-k.Ye*k.We)*D)+k.Qb*O+k.Cg*L),te=-(k.Lb*F+k.Qb*V+k.Cg*W);k=-(k.Lb*X+k.Qb*ie+k.Cg*(D*=k.eb*k.bb-k.qb*k.jb)),T.eb=E,T.qb=F,T.pf=X,T.jb=O,T.bb=V,T.Ye=ie,T.Ve=L,T.We=W,T.Ze=D,T.Lb=Y,T.Qb=te,T.Cg=k},$.prototype.Pf=function(){var k=new $;return k.eb=this.eb,k.qb=this.qb,k.pf=this.pf,k.jb=this.jb,k.bb=this.bb,k.Ye=this.Ye,k.Ve=this.Ve,k.We=this.We,k.Ze=this.Ze,k.Lb=this.Lb,k.Qb=this.Qb,k.Cg=this.Cg,k},$}();B.yY=Be}(st||(st={})),function(B){var Be=function(k){function T(E){if(void 0!==E)E=k.call(this,E.dc(),E)||this;else{(E=k.call(this)||this).cg=[],E.cg[0]=0,E.Ba=1,E.vh=[];for(var D=0;10>D;D++)E.vh[D]=-1;E.vh[E.cg[0]]=0}return E.lq=!0,E}return pi(T,k),T.prototype.se=function(E){this.hasAttribute(E)||(this.vh[E]=0,this.bD())},T.prototype.removeAttribute=function(E){if(0==E)throw B.i.O("Position attribue cannot be removed");this.hasAttribute(E)&&(this.vh[E]=-1,this.bD())},T.prototype.reset=function(){this.cg[0]=0,this.Ba=1;for(var E=0;E<this.vh.length;E++)this.vh[E]=-1;this.vh[this.cg[0]]=0,this.lq=!0},T.prototype.wF=function(){return $.fz().add(this)},T.og=function(){return $.fz().RR()},T.prototype.lM=function(){var E=this.dc();return new B.ua(E,this)},T.prototype.bD=function(){for(var E=this.Ba=0,D=0;10>E;E++)0<=this.vh[E]&&(this.cg[D]=E,this.vh[E]=D,D++,this.Ba++);this.lq=!0},T.prototype.dc=function(){return this.lq&&(this.yl=this.Bn(),this.lq=!1),this.yl},T.prototype.Nb=function(E){if(null==E)return!1;if(E==this)return!0;if(!(E instanceof T)||E.Ba!=this.Ba)return!1;for(var D=0;D<this.Ba;D++)if(this.cg[D]!=E.cg[D])return!1;return this.lq==E.lq},T.prototype.yG=function(E){if(E.Ba!=this.Ba)return!1;for(var D=0;D<this.Ba;D++)if(this.cg[D]!=E.cg[D])return!1;return!0},T.Jw=function(E,D){for(var O=[],L=0;L<E.Ba;L++)O[L]=-1;L=0;for(var F=E.Ba;L<F;L++)O[L]=D.Qf(E.qd(L));return O},T.tR=function(E,D){return(E=new T(E)).se(D),E.wF()},T.uR=function(E,D){for(var O=null,L=0;10>L;L++)!E.hasAttribute(L)&&D.hasAttribute(L)&&(null==O&&(O=new T(E)),O.se(L));return null!=O?O.wF():E},T}(B.ua);B.ee=Be;var $=function(){function k(){this.map=[];var T=new Be;this.add(T),(T=new Be).se(1),this.add(T)}return k.fz=function(){return k.UK},k.prototype.RR=function(){return k.ft},k.prototype.add=function(T){var E=T.dc();if(null!=k.ft&&k.ft.dc()==E&&T.yG(k.ft))return k.ft;if(null!=k.Ew&&k.Ew.dc()==E&&T.yG(k.Ew))return k.Ew;var D=null;return void 0!==this.map[E]&&(D=this.map[E]),null==D&&(1==(D=T.lM()).Ba?k.ft=D:2==D.Ba&&1==D.qd(1)?k.Ew=D:this.map[E]=D),D},k.UK=new k,k}()}(st||(st={}));var Un={feet:9002,kilometers:9036,meters:9001,miles:9035,"nautical-miles":9030,yards:9096},Vn={acres:109402,ares:109463,hectares:109401,"square-feet":109405,"square-kilometers":109414,"square-meters":109404,"square-miles":109413,"square-yards":109442},kn=new(function(){function B(){this.JM=50,this.op=new Map,this.hj=[]}return B.prototype.clear=function(){this.hj.length=0,this.op.clear()},B.prototype.delete=function(Be){return!!this.op.delete(Be)&&(this.hj.splice(this.hj.indexOf(Be),1),!0)},B.prototype.get=function(Be){var $=this.op.get(Be);if(void 0!==$)return this.hj[0]!==Be&&(this.hj.splice(this.hj.indexOf(Be),1),this.hj.unshift(Be)),$},B.prototype.has=function(Be){return this.op.has(Be)},B.prototype.set=function(Be,$){return void 0!==this.get(Be)&&this.delete(Be),this.hj.unshift(Be),this.op.set(Be,$),this.gM(),this},B.prototype.gM=function(){for(;this.hj.length&&this.hj.length>this.JM;){var Be=this.hj.pop();this.op.delete(Be)}},B}()),li=((Kt={}).convertJSONToGeometry=function(B){return st.bc.YO(B)},Kt.hasM=function(B){return B.hasAttribute(st.Jh.M)},Kt.hasZ=function(B){return B.hasAttribute(st.Jh.Z)},Kt.getPointX=function(B){return B.Mg()},Kt.getPointY=function(B){return B.jh()},Kt.getPointZ=function(B){return B.TR()},Kt.getPointM=function(B){return B.rR()},Kt.getXMin=function(B){return B.fs()},Kt.getYMin=function(B){return B.hs()},Kt.getXMax=function(B){return B.es()},Kt.getYMax=function(B){return B.gs()},Kt.getZExtent=function(B){return B.Ug(st.Jh.Z,0)},Kt.getMExtent=function(B){return B.Ug(st.Jh.M,0)},Kt.exportPaths=function(B){var Be=[],$=B.ea(),k=null,T=null,E=B.hasAttribute(st.Jh.Z),D=B.hasAttribute(st.Jh.M);E&&(k=B.vb(st.Jh.Z)),D&&(T=B.vb(st.Jh.M));for(var O=new st.h,L=0;L<$;L++){for(var F=B.Ca(L),V=B.Ka(L),W=0,X=0,ie=NaN,Y=NaN,te=NaN,ne=NaN,we=B.ec(L),ze=[],_t=F;_t<F+V;_t++){B.D(_t,O),ne=te=NaN;var Mt=[O.x,O.y];E&&(te=k.get(_t),Mt.push(te)),D&&(ne=T.get(_t),Mt.push(ne)),_t==F&&we&&(W=O.x,X=O.y,ie=te,Y=ne),ze.push(Mt)}!we||W==O.x&&X==O.y&&(!E||isNaN(ie)&&isNaN(te)||ie==te)&&(!D||isNaN(Y)&&isNaN(ne)||Y==ne)||ze.push(ze[0].slice(0)),Be.push(ze)}return Be},Kt.exportPathsFlat=function(){},Kt.exportPoints=function(B){var Be=B.hasAttribute(st.Jh.Z),$=B.hasAttribute(st.Jh.M),k=null,T=null;Be&&(k=B.vb(st.Jh.Z)),$&&(T=B.vb(st.Jh.M));for(var E=new st.h,D=B.I(),O=[],L=0;L<D;L++){B.D(L,E);var F=[E.x,E.y];Be&&F.push(k.get(L)),$&&F.push(T.get(L)),O.push(F)}return O},Kt.exportPointsFlat=function(){},Kt);return function(){function B(){}return B.buffer=$e,B.clip=le,B.contains=se,B.convexHull=qe,B.crosses=fe,B.cut=oe,B.densify=Vt,B.difference=He,B.disjoint=Le,B.distance=Ee,B.equals=ge,B.extendedSpatialReferenceInfo=me,B.generalize=gt,B.geodesicArea=dt,B.geodesicBuffer=nt,B.geodesicDensify=Bt,B.geodesicLength=jt,B.intersect=ot,B.intersects=Ue,B.isSimple=ve,B.nearestCoordinate=xt,B.nearestVertex=Ze,B.nearestVertices=et,B.offset=Se,B.overlaps=tt,B.planarArea=Lt,B.planarLength=Pt,B.relate=je,B.simplify=Oe,B.symmetricDifference=Qe,B.touches=Fe,B.union=Ne,B.within=Ve,B.rotate=st.Cx.rotate,B.flipHorizontal=st.Cx.BQ,B.flipVertical=st.Cx.CQ,B._enableProjection=Rt,B._project=rt,B._getTransformation=_e,B._getTransformationBySuitability=ke,B}()}())&&(Me.exports=ye);var J=z.exports,Te=Object.freeze(Object.assign(Object.create(null),z.exports,{default:J}))},31478:(hi,lt,N)=>{"use strict";N.d(lt,{a:()=>Ce,b:()=>be,f:()=>xe,i:()=>Te,m:()=>ye,r:()=>he,s:()=>re,t:()=>ce});var z=N(39863);function Te(Le){return Le[0]=1,Le[1]=0,Le[2]=0,Le[3]=1,Le[4]=0,Le[5]=0,Le}function Ce(Le,tt){const je=tt[0],ve=tt[1],Oe=tt[2],qe=tt[3],He=tt[4],Qe=tt[5];let ot=je*qe-ve*Oe;return ot?(ot=1/ot,Le[0]=qe*ot,Le[1]=-ve*ot,Le[2]=-Oe*ot,Le[3]=je*ot,Le[4]=(Oe*Qe-qe*He)*ot,Le[5]=(ve*He-je*Qe)*ot,Le):null}function ye(Le,tt,je){const ve=tt[0],Oe=tt[1],qe=tt[2],He=tt[3],Qe=tt[4],ot=tt[5],Ne=je[0],Se=je[1],$e=je[2],nt=je[3],ut=je[4],xt=je[5];return Le[0]=ve*Ne+qe*Se,Le[1]=Oe*Ne+He*Se,Le[2]=ve*$e+qe*nt,Le[3]=Oe*$e+He*nt,Le[4]=ve*ut+qe*xt+Qe,Le[5]=Oe*ut+He*xt+ot,Le}function he(Le,tt,je){const ve=tt[0],Oe=tt[1],qe=tt[2],He=tt[3],Qe=tt[4],ot=tt[5],Ne=Math.sin(je),Se=Math.cos(je);return Le[0]=ve*Se+qe*Ne,Le[1]=Oe*Se+He*Ne,Le[2]=ve*-Ne+qe*Se,Le[3]=Oe*-Ne+He*Se,Le[4]=Qe,Le[5]=ot,Le}function re(Le,tt,je){const Oe=tt[1],qe=tt[2],He=tt[3],Qe=tt[4],ot=tt[5],Ne=je[0],Se=je[1];return Le[0]=tt[0]*Ne,Le[1]=Oe*Ne,Le[2]=qe*Se,Le[3]=He*Se,Le[4]=Qe,Le[5]=ot,Le}function ce(Le,tt,je){const ve=tt[0],Oe=tt[1],qe=tt[2],He=tt[3],Qe=tt[4],ot=tt[5],Ne=je[0],Se=je[1];return Le[0]=ve,Le[1]=Oe,Le[2]=qe,Le[3]=He,Le[4]=ve*Ne+qe*Se+Qe,Le[5]=Oe*Ne+He*Se+ot,Le}function be(Le,tt){const je=Math.sin(tt),ve=Math.cos(tt);return Le[0]=ve,Le[1]=je,Le[2]=-je,Le[3]=ve,Le[4]=0,Le[5]=0,Le}function xe(Le,tt){return Le[0]=tt[0],Le[1]=0,Le[2]=0,Le[3]=tt[1],Le[4]=0,Le[5]=0,Le}function oe(Le,tt,je){return Le[0]=tt[0]-je[0],Le[1]=tt[1]-je[1],Le[2]=tt[2]-je[2],Le[3]=tt[3]-je[3],Le[4]=tt[4]-je[4],Le[5]=tt[5]-je[5],Le}Object.freeze({__proto__:null,copy:function(Le,tt){return Le[0]=tt[0],Le[1]=tt[1],Le[2]=tt[2],Le[3]=tt[3],Le[4]=tt[4],Le[5]=tt[5],Le},identity:Te,set:function(Le,tt,je,ve,Oe,qe,He){return Le[0]=tt,Le[1]=je,Le[2]=ve,Le[3]=Oe,Le[4]=qe,Le[5]=He,Le},invert:Ce,determinant:function(Le){return Le[0]*Le[3]-Le[1]*Le[2]},multiply:ye,rotate:he,scale:re,translate:ce,fromRotation:be,fromScaling:xe,fromTranslation:function(Le,tt){return Le[0]=1,Le[1]=0,Le[2]=0,Le[3]=1,Le[4]=tt[0],Le[5]=tt[1],Le},str:function(Le){return"mat2d("+Le[0]+", "+Le[1]+", "+Le[2]+", "+Le[3]+", "+Le[4]+", "+Le[5]+")"},frob:function(Le){return Math.sqrt(Le[0]**2+Le[1]**2+Le[2]**2+Le[3]**2+Le[4]**2+Le[5]**2+1)},add:function(Le,tt,je){return Le[0]=tt[0]+je[0],Le[1]=tt[1]+je[1],Le[2]=tt[2]+je[2],Le[3]=tt[3]+je[3],Le[4]=tt[4]+je[4],Le[5]=tt[5]+je[5],Le},subtract:oe,multiplyScalar:function(Le,tt,je){return Le[0]=tt[0]*je,Le[1]=tt[1]*je,Le[2]=tt[2]*je,Le[3]=tt[3]*je,Le[4]=tt[4]*je,Le[5]=tt[5]*je,Le},multiplyScalarAndAdd:function(Le,tt,je,ve){return Le[0]=tt[0]+je[0]*ve,Le[1]=tt[1]+je[1]*ve,Le[2]=tt[2]+je[2]*ve,Le[3]=tt[3]+je[3]*ve,Le[4]=tt[4]+je[4]*ve,Le[5]=tt[5]+je[5]*ve,Le},exactEquals:function(Le,tt){return Le[0]===tt[0]&&Le[1]===tt[1]&&Le[2]===tt[2]&&Le[3]===tt[3]&&Le[4]===tt[4]&&Le[5]===tt[5]},equals:function(Le,tt){const je=Le[0],ve=Le[1],Oe=Le[2],qe=Le[3],He=Le[4],Qe=Le[5],ot=tt[0],Ne=tt[1],Se=tt[2],$e=tt[3],nt=tt[4],ut=tt[5];return Math.abs(je-ot)<=z.E*Math.max(1,Math.abs(je),Math.abs(ot))&&Math.abs(ve-Ne)<=z.E*Math.max(1,Math.abs(ve),Math.abs(Ne))&&Math.abs(Oe-Se)<=z.E*Math.max(1,Math.abs(Oe),Math.abs(Se))&&Math.abs(qe-$e)<=z.E*Math.max(1,Math.abs(qe),Math.abs($e))&&Math.abs(He-nt)<=z.E*Math.max(1,Math.abs(He),Math.abs(nt))&&Math.abs(Qe-ut)<=z.E*Math.max(1,Math.abs(Qe),Math.abs(ut))},mul:ye,sub:oe})},12225:(hi,lt,N)=>{"use strict";function z(){const he=new Float32Array(6);return he[0]=1,he[3]=1,he}function Ce(he,re,ce,be){const xe=re[be],de=re[be+1];he[be]=ce[0]*xe+ce[2]*de+ce[4],he[be+1]=ce[1]*xe+ce[3]*de+ce[5]}function Ie(he,re,ce,be=0,xe=0,de=2){const Ae=xe||re.length/de;for(let me=be;me<Ae;me++)Ce(he,re,ce,me*de)}N.d(lt,{c:()=>z,t:()=>Ie}),Object.freeze({__proto__:null,create:z,clone:function(he){const re=new Float32Array(6);return re[0]=he[0],re[1]=he[1],re[2]=he[2],re[3]=he[3],re[4]=he[4],re[5]=he[5],re},fromValues:function(he,re,ce,be,xe,de){const Ae=new Float32Array(6);return Ae[0]=he,Ae[1]=re,Ae[2]=ce,Ae[3]=be,Ae[4]=xe,Ae[5]=de,Ae},createView:function(he,re){return new Float32Array(he,re,6)},transform:Ce,transformMany:Ie})},46342:(hi,lt,N)=>{"use strict";function z(){return[1,0,0,1,0,0]}function J(Ie){return[Ie[0],Ie[1],Ie[2],Ie[3],Ie[4],Ie[5]]}N.d(lt,{a:()=>J,c:()=>z}),Object.freeze({__proto__:null,create:z,clone:J,fromValues:function(Ie,ye,he,re,ce,be){return[Ie,ye,he,re,ce,be]},createView:function(Ie,ye){return new Float64Array(Ie,ye,6)}})},30217:(hi,lt,N)=>{"use strict";N.d(lt,{a:()=>ge,b:()=>Ce,c:()=>be,d:()=>de,f:()=>J,i:()=>He,j:()=>Ae,m:()=>ce,r:()=>xe,s:()=>Me,t:()=>Ie});var z=N(39863);function J(Se,$e){return Se[0]=$e[0],Se[1]=$e[1],Se[2]=$e[2],Se[3]=$e[4],Se[4]=$e[5],Se[5]=$e[6],Se[6]=$e[8],Se[7]=$e[9],Se[8]=$e[10],Se}function Me(Se,$e,nt,ut,xt,Ze,et,gt,Vt,Bt){return Se[0]=$e,Se[1]=nt,Se[2]=ut,Se[3]=xt,Se[4]=Ze,Se[5]=et,Se[6]=gt,Se[7]=Vt,Se[8]=Bt,Se}function Ce(Se){return Se[0]=1,Se[1]=0,Se[2]=0,Se[3]=0,Se[4]=1,Se[5]=0,Se[6]=0,Se[7]=0,Se[8]=1,Se}function Ie(Se,$e){if(Se===$e){const nt=$e[1],ut=$e[2],xt=$e[5];Se[1]=$e[3],Se[2]=$e[6],Se[3]=nt,Se[5]=$e[7],Se[6]=ut,Se[7]=xt}else Se[0]=$e[0],Se[1]=$e[3],Se[2]=$e[6],Se[3]=$e[1],Se[4]=$e[4],Se[5]=$e[7],Se[6]=$e[2],Se[7]=$e[5],Se[8]=$e[8];return Se}function ce(Se,$e,nt){const ut=$e[0],xt=$e[1],Ze=$e[2],et=$e[3],gt=$e[4],Vt=$e[5],Bt=$e[6],Lt=$e[7],Pt=$e[8],dt=nt[0],jt=nt[1],Rt=nt[2],_e=nt[3],ke=nt[4],rt=nt[5],Dt=nt[6],Kt=nt[7],st=nt[8];return Se[0]=dt*ut+jt*et+Rt*Bt,Se[1]=dt*xt+jt*gt+Rt*Lt,Se[2]=dt*Ze+jt*Vt+Rt*Pt,Se[3]=_e*ut+ke*et+rt*Bt,Se[4]=_e*xt+ke*gt+rt*Lt,Se[5]=_e*Ze+ke*Vt+rt*Pt,Se[6]=Dt*ut+Kt*et+st*Bt,Se[7]=Dt*xt+Kt*gt+st*Lt,Se[8]=Dt*Ze+Kt*Vt+st*Pt,Se}function be(Se,$e,nt){const ut=$e[0],xt=$e[1],Ze=$e[2],et=$e[3],gt=$e[4],Vt=$e[5],Bt=$e[6],Lt=$e[7],Pt=$e[8],dt=nt[0],jt=nt[1];return Se[0]=ut,Se[1]=xt,Se[2]=Ze,Se[3]=et,Se[4]=gt,Se[5]=Vt,Se[6]=dt*ut+jt*et+Bt,Se[7]=dt*xt+jt*gt+Lt,Se[8]=dt*Ze+jt*Vt+Pt,Se}function xe(Se,$e,nt){const ut=$e[0],xt=$e[1],Ze=$e[2],et=$e[3],gt=$e[4],Vt=$e[5],Bt=$e[6],Lt=$e[7],Pt=$e[8],dt=Math.sin(nt),jt=Math.cos(nt);return Se[0]=jt*ut+dt*et,Se[1]=jt*xt+dt*gt,Se[2]=jt*Ze+dt*Vt,Se[3]=jt*et-dt*ut,Se[4]=jt*gt-dt*xt,Se[5]=jt*Vt-dt*Ze,Se[6]=Bt,Se[7]=Lt,Se[8]=Pt,Se}function de(Se,$e,nt){const ut=nt[0],xt=nt[1],Ze=nt[2];return Se[0]=ut*$e[0],Se[1]=ut*$e[1],Se[2]=ut*$e[2],Se[3]=xt*$e[3],Se[4]=xt*$e[4],Se[5]=xt*$e[5],Se[6]=Ze*$e[6],Se[7]=Ze*$e[7],Se[8]=Ze*$e[8],Se}function Ae(Se,$e,nt){const ut=nt[0],xt=nt[1];return Se[0]=ut*$e[0],Se[1]=ut*$e[1],Se[2]=ut*$e[2],Se[3]=xt*$e[3],Se[4]=xt*$e[4],Se[5]=xt*$e[5],Se}function ge(Se,$e){const nt=$e[0],ut=$e[1],xt=$e[2],Ze=$e[3],et=$e[4],gt=$e[5],Vt=$e[6],Bt=$e[7],Lt=$e[8],Pt=$e[9],dt=$e[10],jt=$e[11],Rt=$e[12],_e=$e[13],ke=$e[14],rt=$e[15],Dt=nt*gt-ut*et,Kt=nt*Vt-xt*et,st=nt*Bt-Ze*et,Ti=ut*Vt-xt*gt,qt=ut*Bt-Ze*gt,pi=xt*Bt-Ze*Vt,We=Lt*_e-Pt*Rt,fi=Lt*ke-dt*Rt,Mi=Lt*rt-jt*Rt,Ki=Pt*ke-dt*_e,yn=Pt*rt-jt*_e,Un=dt*rt-jt*ke;let Vn=Dt*Un-Kt*yn+st*Ki+Ti*Mi-qt*fi+pi*We;return Vn?(Vn=1/Vn,Se[0]=(gt*Un-Vt*yn+Bt*Ki)*Vn,Se[1]=(Vt*Mi-et*Un-Bt*fi)*Vn,Se[2]=(et*yn-gt*Mi+Bt*We)*Vn,Se[3]=(xt*yn-ut*Un-Ze*Ki)*Vn,Se[4]=(nt*Un-xt*Mi+Ze*fi)*Vn,Se[5]=(ut*Mi-nt*yn-Ze*We)*Vn,Se[6]=(_e*pi-ke*qt+rt*Ti)*Vn,Se[7]=(ke*st-Rt*pi-rt*Kt)*Vn,Se[8]=(Rt*qt-_e*st+rt*Dt)*Vn,Se):null}function tt(Se,$e,nt){return Se[0]=$e[0]-nt[0],Se[1]=$e[1]-nt[1],Se[2]=$e[2]-nt[2],Se[3]=$e[3]-nt[3],Se[4]=$e[4]-nt[4],Se[5]=$e[5]-nt[5],Se[6]=$e[6]-nt[6],Se[7]=$e[7]-nt[7],Se[8]=$e[8]-nt[8],Se}function He(Se){const $e=z.E,nt=Se[0],ut=Se[1],xt=Se[2],Ze=Se[3],et=Se[4],gt=Se[5],Vt=Se[6],Bt=Se[7],Lt=Se[8];return Math.abs(1-(nt*nt+Ze*Ze+Vt*Vt))<=$e&&Math.abs(1-(ut*ut+et*et+Bt*Bt))<=$e&&Math.abs(1-(xt*xt+gt*gt+Lt*Lt))<=$e}Object.freeze({__proto__:null,fromMat4:J,copy:function(Se,$e){return Se[0]=$e[0],Se[1]=$e[1],Se[2]=$e[2],Se[3]=$e[3],Se[4]=$e[4],Se[5]=$e[5],Se[6]=$e[6],Se[7]=$e[7],Se[8]=$e[8],Se},set:Me,identity:Ce,transpose:Ie,invert:function(Se,$e){const nt=$e[0],ut=$e[1],xt=$e[2],Ze=$e[3],et=$e[4],gt=$e[5],Vt=$e[6],Bt=$e[7],Lt=$e[8],Pt=Lt*et-gt*Bt,dt=-Lt*Ze+gt*Vt,jt=Bt*Ze-et*Vt;let Rt=nt*Pt+ut*dt+xt*jt;return Rt?(Rt=1/Rt,Se[0]=Pt*Rt,Se[1]=(-Lt*ut+xt*Bt)*Rt,Se[2]=(gt*ut-xt*et)*Rt,Se[3]=dt*Rt,Se[4]=(Lt*nt-xt*Vt)*Rt,Se[5]=(-gt*nt+xt*Ze)*Rt,Se[6]=jt*Rt,Se[7]=(-Bt*nt+ut*Vt)*Rt,Se[8]=(et*nt-ut*Ze)*Rt,Se):null},adjoint:function(Se,$e){const nt=$e[0],ut=$e[1],xt=$e[2],Ze=$e[3],et=$e[4],gt=$e[5],Vt=$e[6],Bt=$e[7],Lt=$e[8];return Se[0]=et*Lt-gt*Bt,Se[1]=xt*Bt-ut*Lt,Se[2]=ut*gt-xt*et,Se[3]=gt*Vt-Ze*Lt,Se[4]=nt*Lt-xt*Vt,Se[5]=xt*Ze-nt*gt,Se[6]=Ze*Bt-et*Vt,Se[7]=ut*Vt-nt*Bt,Se[8]=nt*et-ut*Ze,Se},determinant:function(Se){const xt=Se[3],Ze=Se[4],et=Se[5],gt=Se[6],Vt=Se[7],Bt=Se[8];return Se[0]*(Bt*Ze-et*Vt)+Se[1]*(-Bt*xt+et*gt)+Se[2]*(Vt*xt-Ze*gt)},multiply:ce,translate:be,rotate:xe,scale:de,scaleByVec2:Ae,fromTranslation:function(Se,$e){return Se[0]=1,Se[1]=0,Se[2]=0,Se[3]=0,Se[4]=1,Se[5]=0,Se[6]=$e[0],Se[7]=$e[1],Se[8]=1,Se},fromRotation:function(Se,$e){const nt=Math.sin($e),ut=Math.cos($e);return Se[0]=ut,Se[1]=nt,Se[2]=0,Se[3]=-nt,Se[4]=ut,Se[5]=0,Se[6]=0,Se[7]=0,Se[8]=1,Se},fromScaling:function(Se,$e){return Se[0]=$e[0],Se[1]=0,Se[2]=0,Se[3]=0,Se[4]=$e[1],Se[5]=0,Se[6]=0,Se[7]=0,Se[8]=1,Se},fromMat2d:function(Se,$e){return Se[0]=$e[0],Se[1]=$e[1],Se[2]=0,Se[3]=$e[2],Se[4]=$e[3],Se[5]=0,Se[6]=$e[4],Se[7]=$e[5],Se[8]=1,Se},fromQuat:function(Se,$e){const nt=$e[0],ut=$e[1],xt=$e[2],Ze=$e[3],et=nt+nt,gt=ut+ut,Vt=xt+xt,Bt=nt*et,Lt=ut*et,Pt=ut*gt,dt=xt*et,jt=xt*gt,Rt=xt*Vt,_e=Ze*et,ke=Ze*gt,rt=Ze*Vt;return Se[0]=1-Pt-Rt,Se[3]=Lt-rt,Se[6]=dt+ke,Se[1]=Lt+rt,Se[4]=1-Bt-Rt,Se[7]=jt-_e,Se[2]=dt-ke,Se[5]=jt+_e,Se[8]=1-Bt-Pt,Se},normalFromMat4Legacy:function(Se,$e){const nt=$e[0],ut=$e[1],xt=$e[2],Ze=$e[4],et=$e[5],gt=$e[6],Vt=$e[8],Bt=$e[9],Lt=$e[10],Pt=Lt*et-gt*Bt,dt=-Lt*Ze+gt*Vt,jt=Bt*Ze-et*Vt,Rt=nt*Pt+ut*dt+xt*jt;if(!Rt)return null;const _e=1/Rt;return Se[0]=Pt*_e,Se[1]=(-Lt*ut+xt*Bt)*_e,Se[2]=(gt*ut-xt*et)*_e,Se[3]=dt*_e,Se[4]=(Lt*nt-xt*Vt)*_e,Se[5]=(-gt*nt+xt*Ze)*_e,Se[6]=jt*_e,Se[7]=(-Bt*nt+ut*Vt)*_e,Se[8]=(et*nt-ut*Ze)*_e,Se},normalFromMat4:ge,projection:function(Se,$e,nt){return Se[0]=2/$e,Se[1]=0,Se[2]=0,Se[3]=0,Se[4]=-2/nt,Se[5]=0,Se[6]=-1,Se[7]=1,Se[8]=1,Se},str:function(Se){return"mat3("+Se[0]+", "+Se[1]+", "+Se[2]+", "+Se[3]+", "+Se[4]+", "+Se[5]+", "+Se[6]+", "+Se[7]+", "+Se[8]+")"},frob:function(Se){return Math.sqrt(Se[0]**2+Se[1]**2+Se[2]**2+Se[3]**2+Se[4]**2+Se[5]**2+Se[6]**2+Se[7]**2+Se[8]**2)},add:function(Se,$e,nt){return Se[0]=$e[0]+nt[0],Se[1]=$e[1]+nt[1],Se[2]=$e[2]+nt[2],Se[3]=$e[3]+nt[3],Se[4]=$e[4]+nt[4],Se[5]=$e[5]+nt[5],Se[6]=$e[6]+nt[6],Se[7]=$e[7]+nt[7],Se[8]=$e[8]+nt[8],Se},subtract:tt,multiplyScalar:function(Se,$e,nt){return Se[0]=$e[0]*nt,Se[1]=$e[1]*nt,Se[2]=$e[2]*nt,Se[3]=$e[3]*nt,Se[4]=$e[4]*nt,Se[5]=$e[5]*nt,Se[6]=$e[6]*nt,Se[7]=$e[7]*nt,Se[8]=$e[8]*nt,Se},multiplyScalarAndAdd:function(Se,$e,nt,ut){return Se[0]=$e[0]+nt[0]*ut,Se[1]=$e[1]+nt[1]*ut,Se[2]=$e[2]+nt[2]*ut,Se[3]=$e[3]+nt[3]*ut,Se[4]=$e[4]+nt[4]*ut,Se[5]=$e[5]+nt[5]*ut,Se[6]=$e[6]+nt[6]*ut,Se[7]=$e[7]+nt[7]*ut,Se[8]=$e[8]+nt[8]*ut,Se},exactEquals:function(Se,$e){return Se[0]===$e[0]&&Se[1]===$e[1]&&Se[2]===$e[2]&&Se[3]===$e[3]&&Se[4]===$e[4]&&Se[5]===$e[5]&&Se[6]===$e[6]&&Se[7]===$e[7]&&Se[8]===$e[8]},equals:function(Se,$e){const nt=Se[0],ut=Se[1],xt=Se[2],Ze=Se[3],et=Se[4],gt=Se[5],Vt=Se[6],Bt=Se[7],Lt=Se[8],Pt=$e[0],dt=$e[1],jt=$e[2],Rt=$e[3],_e=$e[4],ke=$e[5],rt=$e[6],Dt=$e[7],Kt=$e[8];return Math.abs(nt-Pt)<=z.E*Math.max(1,Math.abs(nt),Math.abs(Pt))&&Math.abs(ut-dt)<=z.E*Math.max(1,Math.abs(ut),Math.abs(dt))&&Math.abs(xt-jt)<=z.E*Math.max(1,Math.abs(xt),Math.abs(jt))&&Math.abs(Ze-Rt)<=z.E*Math.max(1,Math.abs(Ze),Math.abs(Rt))&&Math.abs(et-_e)<=z.E*Math.max(1,Math.abs(et),Math.abs(_e))&&Math.abs(gt-ke)<=z.E*Math.max(1,Math.abs(gt),Math.abs(ke))&&Math.abs(Vt-rt)<=z.E*Math.max(1,Math.abs(Vt),Math.abs(rt))&&Math.abs(Bt-Dt)<=z.E*Math.max(1,Math.abs(Bt),Math.abs(Dt))&&Math.abs(Lt-Kt)<=z.E*Math.max(1,Math.abs(Lt),Math.abs(Kt))},isOrthoNormal:He,mul:ce,sub:tt})},49966:(hi,lt,N)=>{"use strict";function z(){const Ie=new Float32Array(9);return Ie[0]=1,Ie[4]=1,Ie[8]=1,Ie}function J(Ie){const ye=new Float32Array(9);return ye[0]=Ie[0],ye[1]=Ie[1],ye[2]=Ie[2],ye[3]=Ie[3],ye[4]=Ie[4],ye[5]=Ie[5],ye[6]=Ie[6],ye[7]=Ie[7],ye[8]=Ie[8],ye}N.d(lt,{a:()=>J,c:()=>z}),Object.freeze({__proto__:null,create:z,clone:J,fromValues:function(Ie,ye,he,re,ce,be,xe,de,Ae){const me=new Float32Array(9);return me[0]=Ie,me[1]=ye,me[2]=he,me[3]=re,me[4]=ce,me[5]=be,me[6]=xe,me[7]=de,me[8]=Ae,me},createView:function(Ie,ye){return new Float32Array(Ie,ye,9)}})},550:(hi,lt,N)=>{"use strict";function z(){return[1,0,0,0,1,0,0,0,1]}function Me(Ie,ye){return new Float64Array(Ie,ye,9)}N.d(lt,{a:()=>Me,c:()=>z}),Object.freeze({__proto__:null,create:z,clone:function(Ie){return[Ie[0],Ie[1],Ie[2],Ie[3],Ie[4],Ie[5],Ie[6],Ie[7],Ie[8]]},fromValues:function(Ie,ye,he,re,ce,be,xe,de,Ae){return[Ie,ye,he,re,ce,be,xe,de,Ae]},createView:Me})},28347:(hi,lt,N)=>{"use strict";N.d(lt,{a:()=>Ie,b:()=>ye,d:()=>de,f:()=>xe,g:()=>Lt,h:()=>Bt,i:()=>Ce,m:()=>ce,o:()=>Ee,q:()=>Pt,s:()=>Me,t:()=>be});var z=N(28093),J=N(39863);function Me(_e,ke,rt,Dt,Kt,st,Ti,qt,pi,We,fi,Mi,Ki,yn,Un,Vn,kn){return _e[0]=ke,_e[1]=rt,_e[2]=Dt,_e[3]=Kt,_e[4]=st,_e[5]=Ti,_e[6]=qt,_e[7]=pi,_e[8]=We,_e[9]=fi,_e[10]=Mi,_e[11]=Ki,_e[12]=yn,_e[13]=Un,_e[14]=Vn,_e[15]=kn,_e}function Ce(_e){return _e[0]=1,_e[1]=0,_e[2]=0,_e[3]=0,_e[4]=0,_e[5]=1,_e[6]=0,_e[7]=0,_e[8]=0,_e[9]=0,_e[10]=1,_e[11]=0,_e[12]=0,_e[13]=0,_e[14]=0,_e[15]=1,_e}function Ie(_e,ke){if(_e===ke){const rt=ke[1],Dt=ke[2],Kt=ke[3],st=ke[6],Ti=ke[7],qt=ke[11];_e[1]=ke[4],_e[2]=ke[8],_e[3]=ke[12],_e[4]=rt,_e[6]=ke[9],_e[7]=ke[13],_e[8]=Dt,_e[9]=st,_e[11]=ke[14],_e[12]=Kt,_e[13]=Ti,_e[14]=qt}else _e[0]=ke[0],_e[1]=ke[4],_e[2]=ke[8],_e[3]=ke[12],_e[4]=ke[1],_e[5]=ke[5],_e[6]=ke[9],_e[7]=ke[13],_e[8]=ke[2],_e[9]=ke[6],_e[10]=ke[10],_e[11]=ke[14],_e[12]=ke[3],_e[13]=ke[7],_e[14]=ke[11],_e[15]=ke[15];return _e}function ye(_e,ke){const rt=ke[0],Dt=ke[1],Kt=ke[2],st=ke[3],Ti=ke[4],qt=ke[5],pi=ke[6],We=ke[7],fi=ke[8],Mi=ke[9],Ki=ke[10],yn=ke[11],Un=ke[12],Vn=ke[13],kn=ke[14],li=ke[15],B=rt*qt-Dt*Ti,Be=rt*pi-Kt*Ti,$=rt*We-st*Ti,k=Dt*pi-Kt*qt,T=Dt*We-st*qt,E=Kt*We-st*pi,D=fi*Vn-Mi*Un,O=fi*kn-Ki*Un,L=fi*li-yn*Un,F=Mi*kn-Ki*Vn,V=Mi*li-yn*Vn,W=Ki*li-yn*kn;let X=B*W-Be*V+$*F+k*L-T*O+E*D;return X?(X=1/X,_e[0]=(qt*W-pi*V+We*F)*X,_e[1]=(Kt*V-Dt*W-st*F)*X,_e[2]=(Vn*E-kn*T+li*k)*X,_e[3]=(Ki*T-Mi*E-yn*k)*X,_e[4]=(pi*L-Ti*W-We*O)*X,_e[5]=(rt*W-Kt*L+st*O)*X,_e[6]=(kn*$-Un*E-li*Be)*X,_e[7]=(fi*E-Ki*$+yn*Be)*X,_e[8]=(Ti*V-qt*L+We*D)*X,_e[9]=(Dt*L-rt*V-st*D)*X,_e[10]=(Un*T-Vn*$+li*B)*X,_e[11]=(Mi*$-fi*T-yn*B)*X,_e[12]=(qt*O-Ti*F-pi*D)*X,_e[13]=(rt*F-Dt*O+Kt*D)*X,_e[14]=(Vn*Be-Un*k-kn*B)*X,_e[15]=(fi*k-Mi*Be+Ki*B)*X,_e):null}function ce(_e,ke,rt){const Dt=ke[0],Kt=ke[1],st=ke[2],Ti=ke[3],qt=ke[4],pi=ke[5],We=ke[6],fi=ke[7],Mi=ke[8],Ki=ke[9],yn=ke[10],Un=ke[11],Vn=ke[12],kn=ke[13],li=ke[14],B=ke[15];let Be=rt[0],$=rt[1],k=rt[2],T=rt[3];return _e[0]=Be*Dt+$*qt+k*Mi+T*Vn,_e[1]=Be*Kt+$*pi+k*Ki+T*kn,_e[2]=Be*st+$*We+k*yn+T*li,_e[3]=Be*Ti+$*fi+k*Un+T*B,Be=rt[4],$=rt[5],k=rt[6],T=rt[7],_e[4]=Be*Dt+$*qt+k*Mi+T*Vn,_e[5]=Be*Kt+$*pi+k*Ki+T*kn,_e[6]=Be*st+$*We+k*yn+T*li,_e[7]=Be*Ti+$*fi+k*Un+T*B,Be=rt[8],$=rt[9],k=rt[10],T=rt[11],_e[8]=Be*Dt+$*qt+k*Mi+T*Vn,_e[9]=Be*Kt+$*pi+k*Ki+T*kn,_e[10]=Be*st+$*We+k*yn+T*li,_e[11]=Be*Ti+$*fi+k*Un+T*B,Be=rt[12],$=rt[13],k=rt[14],T=rt[15],_e[12]=Be*Dt+$*qt+k*Mi+T*Vn,_e[13]=Be*Kt+$*pi+k*Ki+T*kn,_e[14]=Be*st+$*We+k*yn+T*li,_e[15]=Be*Ti+$*fi+k*Un+T*B,_e}function be(_e,ke,rt){const Dt=rt[0],Kt=rt[1],st=rt[2];let Ti,qt,pi,We,fi,Mi,Ki,yn,Un,Vn,kn,li;return ke===_e?(_e[12]=ke[0]*Dt+ke[4]*Kt+ke[8]*st+ke[12],_e[13]=ke[1]*Dt+ke[5]*Kt+ke[9]*st+ke[13],_e[14]=ke[2]*Dt+ke[6]*Kt+ke[10]*st+ke[14],_e[15]=ke[3]*Dt+ke[7]*Kt+ke[11]*st+ke[15]):(Ti=ke[0],qt=ke[1],pi=ke[2],We=ke[3],fi=ke[4],Mi=ke[5],Ki=ke[6],yn=ke[7],Un=ke[8],Vn=ke[9],kn=ke[10],li=ke[11],_e[0]=Ti,_e[1]=qt,_e[2]=pi,_e[3]=We,_e[4]=fi,_e[5]=Mi,_e[6]=Ki,_e[7]=yn,_e[8]=Un,_e[9]=Vn,_e[10]=kn,_e[11]=li,_e[12]=Ti*Dt+fi*Kt+Un*st+ke[12],_e[13]=qt*Dt+Mi*Kt+Vn*st+ke[13],_e[14]=pi*Dt+Ki*Kt+kn*st+ke[14],_e[15]=We*Dt+yn*Kt+li*st+ke[15]),_e}function xe(_e,ke,rt){const Dt=rt[0],Kt=rt[1],st=rt[2];return _e[0]=ke[0]*Dt,_e[1]=ke[1]*Dt,_e[2]=ke[2]*Dt,_e[3]=ke[3]*Dt,_e[4]=ke[4]*Kt,_e[5]=ke[5]*Kt,_e[6]=ke[6]*Kt,_e[7]=ke[7]*Kt,_e[8]=ke[8]*st,_e[9]=ke[9]*st,_e[10]=ke[10]*st,_e[11]=ke[11]*st,_e[12]=ke[12],_e[13]=ke[13],_e[14]=ke[14],_e[15]=ke[15],_e}function de(_e,ke,rt,Dt){let Kt,st,Ti,qt,pi,We,fi,Mi,Ki,yn,Un,Vn,kn,li,B,Be,$,k,T,E,D,O,L,F,V=Dt[0],W=Dt[1],X=Dt[2],ie=Math.sqrt(V*V+W*W+X*X);return ie<J.E?null:(ie=1/ie,V*=ie,W*=ie,X*=ie,Kt=Math.sin(rt),st=Math.cos(rt),Ti=1-st,qt=ke[0],pi=ke[1],We=ke[2],fi=ke[3],Mi=ke[4],Ki=ke[5],yn=ke[6],Un=ke[7],Vn=ke[8],kn=ke[9],li=ke[10],B=ke[11],Be=V*V*Ti+st,$=W*V*Ti+X*Kt,k=X*V*Ti-W*Kt,T=V*W*Ti-X*Kt,E=W*W*Ti+st,D=X*W*Ti+V*Kt,O=V*X*Ti+W*Kt,L=W*X*Ti-V*Kt,F=X*X*Ti+st,_e[0]=qt*Be+Mi*$+Vn*k,_e[1]=pi*Be+Ki*$+kn*k,_e[2]=We*Be+yn*$+li*k,_e[3]=fi*Be+Un*$+B*k,_e[4]=qt*T+Mi*E+Vn*D,_e[5]=pi*T+Ki*E+kn*D,_e[6]=We*T+yn*E+li*D,_e[7]=fi*T+Un*E+B*D,_e[8]=qt*O+Mi*L+Vn*F,_e[9]=pi*O+Ki*L+kn*F,_e[10]=We*O+yn*L+li*F,_e[11]=fi*O+Un*L+B*F,ke!==_e&&(_e[12]=ke[12],_e[13]=ke[13],_e[14]=ke[14],_e[15]=ke[15]),_e)}function Ee(_e,ke){const rt=Math.sin(ke),Dt=Math.cos(ke);return _e[0]=1,_e[1]=0,_e[2]=0,_e[3]=0,_e[4]=0,_e[5]=Dt,_e[6]=rt,_e[7]=0,_e[8]=0,_e[9]=-rt,_e[10]=Dt,_e[11]=0,_e[12]=0,_e[13]=0,_e[14]=0,_e[15]=1,_e}function Fe(_e,ke,rt){const Dt=ke[0],Kt=ke[1],st=ke[2],Ti=ke[3],qt=Dt+Dt,pi=Kt+Kt,We=st+st,fi=Dt*qt,Mi=Dt*pi,Ki=Dt*We,yn=Kt*pi,Un=Kt*We,Vn=st*We,kn=Ti*qt,li=Ti*pi,B=Ti*We;return _e[0]=1-(yn+Vn),_e[1]=Mi+B,_e[2]=Ki-li,_e[3]=0,_e[4]=Mi-B,_e[5]=1-(fi+Vn),_e[6]=Un+kn,_e[7]=0,_e[8]=Ki+li,_e[9]=Un-kn,_e[10]=1-(fi+yn),_e[11]=0,_e[12]=rt[0],_e[13]=rt[1],_e[14]=rt[2],_e[15]=1,_e}const Le=(0,z.c)();function et(_e,ke,rt){return _e[0]=ke[0]-rt[0],_e[1]=ke[1]-rt[1],_e[2]=ke[2]-rt[2],_e[3]=ke[3]-rt[3],_e[4]=ke[4]-rt[4],_e[5]=ke[5]-rt[5],_e[6]=ke[6]-rt[6],_e[7]=ke[7]-rt[7],_e[8]=ke[8]-rt[8],_e[9]=ke[9]-rt[9],_e[10]=ke[10]-rt[10],_e[11]=ke[11]-rt[11],_e[12]=ke[12]-rt[12],_e[13]=ke[13]-rt[13],_e[14]=ke[14]-rt[14],_e[15]=ke[15]-rt[15],_e}function Bt(_e,ke){return _e[0]===ke[0]&&_e[1]===ke[1]&&_e[2]===ke[2]&&_e[3]===ke[3]&&_e[4]===ke[4]&&_e[5]===ke[5]&&_e[6]===ke[6]&&_e[7]===ke[7]&&_e[8]===ke[8]&&_e[9]===ke[9]&&_e[10]===ke[10]&&_e[11]===ke[11]&&_e[12]===ke[12]&&_e[13]===ke[13]&&_e[14]===ke[14]&&_e[15]===ke[15]}function Lt(_e,ke){const rt=_e[0],Dt=_e[1],Kt=_e[2],st=_e[3],Ti=_e[4],qt=_e[5],pi=_e[6],We=_e[7],fi=_e[8],Mi=_e[9],Ki=_e[10],yn=_e[11],Un=_e[12],Vn=_e[13],kn=_e[14],li=_e[15],B=ke[0],Be=ke[1],$=ke[2],k=ke[3],T=ke[4],E=ke[5],D=ke[6],O=ke[7],L=ke[8],F=ke[9],V=ke[10],W=ke[11],X=ke[12],ie=ke[13],Y=ke[14],te=ke[15];return Math.abs(rt-B)<=J.E*Math.max(1,Math.abs(rt),Math.abs(B))&&Math.abs(Dt-Be)<=J.E*Math.max(1,Math.abs(Dt),Math.abs(Be))&&Math.abs(Kt-$)<=J.E*Math.max(1,Math.abs(Kt),Math.abs($))&&Math.abs(st-k)<=J.E*Math.max(1,Math.abs(st),Math.abs(k))&&Math.abs(Ti-T)<=J.E*Math.max(1,Math.abs(Ti),Math.abs(T))&&Math.abs(qt-E)<=J.E*Math.max(1,Math.abs(qt),Math.abs(E))&&Math.abs(pi-D)<=J.E*Math.max(1,Math.abs(pi),Math.abs(D))&&Math.abs(We-O)<=J.E*Math.max(1,Math.abs(We),Math.abs(O))&&Math.abs(fi-L)<=J.E*Math.max(1,Math.abs(fi),Math.abs(L))&&Math.abs(Mi-F)<=J.E*Math.max(1,Math.abs(Mi),Math.abs(F))&&Math.abs(Ki-V)<=J.E*Math.max(1,Math.abs(Ki),Math.abs(V))&&Math.abs(yn-W)<=J.E*Math.max(1,Math.abs(yn),Math.abs(W))&&Math.abs(Un-X)<=J.E*Math.max(1,Math.abs(Un),Math.abs(X))&&Math.abs(Vn-ie)<=J.E*Math.max(1,Math.abs(Vn),Math.abs(ie))&&Math.abs(kn-Y)<=J.E*Math.max(1,Math.abs(kn),Math.abs(Y))&&Math.abs(li-te)<=J.E*Math.max(1,Math.abs(li),Math.abs(te))}function Pt(_e){const ke=J.E,rt=_e[0],Dt=_e[1],Kt=_e[2],st=_e[4],Ti=_e[5],qt=_e[6],pi=_e[8],We=_e[9],fi=_e[10];return Math.abs(1-(rt*rt+st*st+pi*pi))<=ke&&Math.abs(1-(Dt*Dt+Ti*Ti+We*We))<=ke&&Math.abs(1-(Kt*Kt+qt*qt+fi*fi))<=ke}Object.freeze({__proto__:null,copy:function(_e,ke){return _e[0]=ke[0],_e[1]=ke[1],_e[2]=ke[2],_e[3]=ke[3],_e[4]=ke[4],_e[5]=ke[5],_e[6]=ke[6],_e[7]=ke[7],_e[8]=ke[8],_e[9]=ke[9],_e[10]=ke[10],_e[11]=ke[11],_e[12]=ke[12],_e[13]=ke[13],_e[14]=ke[14],_e[15]=ke[15],_e},set:Me,identity:Ce,transpose:Ie,invert:ye,adjoint:function(_e,ke){const rt=ke[0],Dt=ke[1],Kt=ke[2],st=ke[3],Ti=ke[4],qt=ke[5],pi=ke[6],We=ke[7],fi=ke[8],Mi=ke[9],Ki=ke[10],yn=ke[11],Un=ke[12],Vn=ke[13],kn=ke[14],li=ke[15];return _e[0]=qt*(Ki*li-yn*kn)-Mi*(pi*li-We*kn)+Vn*(pi*yn-We*Ki),_e[1]=-(Dt*(Ki*li-yn*kn)-Mi*(Kt*li-st*kn)+Vn*(Kt*yn-st*Ki)),_e[2]=Dt*(pi*li-We*kn)-qt*(Kt*li-st*kn)+Vn*(Kt*We-st*pi),_e[3]=-(Dt*(pi*yn-We*Ki)-qt*(Kt*yn-st*Ki)+Mi*(Kt*We-st*pi)),_e[4]=-(Ti*(Ki*li-yn*kn)-fi*(pi*li-We*kn)+Un*(pi*yn-We*Ki)),_e[5]=rt*(Ki*li-yn*kn)-fi*(Kt*li-st*kn)+Un*(Kt*yn-st*Ki),_e[6]=-(rt*(pi*li-We*kn)-Ti*(Kt*li-st*kn)+Un*(Kt*We-st*pi)),_e[7]=rt*(pi*yn-We*Ki)-Ti*(Kt*yn-st*Ki)+fi*(Kt*We-st*pi),_e[8]=Ti*(Mi*li-yn*Vn)-fi*(qt*li-We*Vn)+Un*(qt*yn-We*Mi),_e[9]=-(rt*(Mi*li-yn*Vn)-fi*(Dt*li-st*Vn)+Un*(Dt*yn-st*Mi)),_e[10]=rt*(qt*li-We*Vn)-Ti*(Dt*li-st*Vn)+Un*(Dt*We-st*qt),_e[11]=-(rt*(qt*yn-We*Mi)-Ti*(Dt*yn-st*Mi)+fi*(Dt*We-st*qt)),_e[12]=-(Ti*(Mi*kn-Ki*Vn)-fi*(qt*kn-pi*Vn)+Un*(qt*Ki-pi*Mi)),_e[13]=rt*(Mi*kn-Ki*Vn)-fi*(Dt*kn-Kt*Vn)+Un*(Dt*Ki-Kt*Mi),_e[14]=-(rt*(qt*kn-pi*Vn)-Ti*(Dt*kn-Kt*Vn)+Un*(Dt*pi-Kt*qt)),_e[15]=rt*(qt*Ki-pi*Mi)-Ti*(Dt*Ki-Kt*Mi)+fi*(Dt*pi-Kt*qt),_e},determinant:function(_e){const ke=_e[0],rt=_e[1],Dt=_e[2],Kt=_e[3],st=_e[4],Ti=_e[5],qt=_e[6],pi=_e[7],We=_e[8],fi=_e[9],Mi=_e[10],Ki=_e[11],yn=_e[12],Un=_e[13],Vn=_e[14],kn=_e[15];return(ke*Ti-rt*st)*(Mi*kn-Ki*Vn)-(ke*qt-Dt*st)*(fi*kn-Ki*Un)+(ke*pi-Kt*st)*(fi*Vn-Mi*Un)+(rt*qt-Dt*Ti)*(We*kn-Ki*yn)-(rt*pi-Kt*Ti)*(We*Vn-Mi*yn)+(Dt*pi-Kt*qt)*(We*Un-fi*yn)},multiply:ce,translate:be,scale:xe,rotate:de,rotateX:function(_e,ke,rt){const Dt=Math.sin(rt),Kt=Math.cos(rt),st=ke[4],Ti=ke[5],qt=ke[6],pi=ke[7],We=ke[8],fi=ke[9],Mi=ke[10],Ki=ke[11];return ke!==_e&&(_e[0]=ke[0],_e[1]=ke[1],_e[2]=ke[2],_e[3]=ke[3],_e[12]=ke[12],_e[13]=ke[13],_e[14]=ke[14],_e[15]=ke[15]),_e[4]=st*Kt+We*Dt,_e[5]=Ti*Kt+fi*Dt,_e[6]=qt*Kt+Mi*Dt,_e[7]=pi*Kt+Ki*Dt,_e[8]=We*Kt-st*Dt,_e[9]=fi*Kt-Ti*Dt,_e[10]=Mi*Kt-qt*Dt,_e[11]=Ki*Kt-pi*Dt,_e},rotateY:function(_e,ke,rt){const Dt=Math.sin(rt),Kt=Math.cos(rt),st=ke[0],Ti=ke[1],qt=ke[2],pi=ke[3],We=ke[8],fi=ke[9],Mi=ke[10],Ki=ke[11];return ke!==_e&&(_e[4]=ke[4],_e[5]=ke[5],_e[6]=ke[6],_e[7]=ke[7],_e[12]=ke[12],_e[13]=ke[13],_e[14]=ke[14],_e[15]=ke[15]),_e[0]=st*Kt-We*Dt,_e[1]=Ti*Kt-fi*Dt,_e[2]=qt*Kt-Mi*Dt,_e[3]=pi*Kt-Ki*Dt,_e[8]=st*Dt+We*Kt,_e[9]=Ti*Dt+fi*Kt,_e[10]=qt*Dt+Mi*Kt,_e[11]=pi*Dt+Ki*Kt,_e},rotateZ:function(_e,ke,rt){const Dt=Math.sin(rt),Kt=Math.cos(rt),st=ke[0],Ti=ke[1],qt=ke[2],pi=ke[3],We=ke[4],fi=ke[5],Mi=ke[6],Ki=ke[7];return ke!==_e&&(_e[8]=ke[8],_e[9]=ke[9],_e[10]=ke[10],_e[11]=ke[11],_e[12]=ke[12],_e[13]=ke[13],_e[14]=ke[14],_e[15]=ke[15]),_e[0]=st*Kt+We*Dt,_e[1]=Ti*Kt+fi*Dt,_e[2]=qt*Kt+Mi*Dt,_e[3]=pi*Kt+Ki*Dt,_e[4]=We*Kt-st*Dt,_e[5]=fi*Kt-Ti*Dt,_e[6]=Mi*Kt-qt*Dt,_e[7]=Ki*Kt-pi*Dt,_e},fromTranslation:function(_e,ke){return _e[0]=1,_e[1]=0,_e[2]=0,_e[3]=0,_e[4]=0,_e[5]=1,_e[6]=0,_e[7]=0,_e[8]=0,_e[9]=0,_e[10]=1,_e[11]=0,_e[12]=ke[0],_e[13]=ke[1],_e[14]=ke[2],_e[15]=1,_e},fromScaling:function(_e,ke){return _e[0]=ke[0],_e[1]=0,_e[2]=0,_e[3]=0,_e[4]=0,_e[5]=ke[1],_e[6]=0,_e[7]=0,_e[8]=0,_e[9]=0,_e[10]=ke[2],_e[11]=0,_e[12]=0,_e[13]=0,_e[14]=0,_e[15]=1,_e},fromRotation:function(_e,ke,rt){let Dt,Kt,st,Ti=rt[0],qt=rt[1],pi=rt[2],We=Math.sqrt(Ti*Ti+qt*qt+pi*pi);return We<J.E?null:(We=1/We,Ti*=We,qt*=We,pi*=We,Dt=Math.sin(ke),Kt=Math.cos(ke),st=1-Kt,_e[0]=Ti*Ti*st+Kt,_e[1]=qt*Ti*st+pi*Dt,_e[2]=pi*Ti*st-qt*Dt,_e[3]=0,_e[4]=Ti*qt*st-pi*Dt,_e[5]=qt*qt*st+Kt,_e[6]=pi*qt*st+Ti*Dt,_e[7]=0,_e[8]=Ti*pi*st+qt*Dt,_e[9]=qt*pi*st-Ti*Dt,_e[10]=pi*pi*st+Kt,_e[11]=0,_e[12]=0,_e[13]=0,_e[14]=0,_e[15]=1,_e)},fromXRotation:Ee,fromYRotation:function(_e,ke){const rt=Math.sin(ke),Dt=Math.cos(ke);return _e[0]=Dt,_e[1]=0,_e[2]=-rt,_e[3]=0,_e[4]=0,_e[5]=1,_e[6]=0,_e[7]=0,_e[8]=rt,_e[9]=0,_e[10]=Dt,_e[11]=0,_e[12]=0,_e[13]=0,_e[14]=0,_e[15]=1,_e},fromZRotation:function(_e,ke){const rt=Math.sin(ke),Dt=Math.cos(ke);return _e[0]=Dt,_e[1]=rt,_e[2]=0,_e[3]=0,_e[4]=-rt,_e[5]=Dt,_e[6]=0,_e[7]=0,_e[8]=0,_e[9]=0,_e[10]=1,_e[11]=0,_e[12]=0,_e[13]=0,_e[14]=0,_e[15]=1,_e},fromRotationTranslation:Fe,fromQuat2:function(_e,ke){const rt=Le,Dt=-ke[0],Kt=-ke[1],st=-ke[2],Ti=ke[3],qt=ke[4],pi=ke[5],We=ke[6],fi=ke[7],Mi=Dt*Dt+Kt*Kt+st*st+Ti*Ti;return Mi>0?(rt[0]=2*(qt*Ti+fi*Dt+pi*st-We*Kt)/Mi,rt[1]=2*(pi*Ti+fi*Kt+We*Dt-qt*st)/Mi,rt[2]=2*(We*Ti+fi*st+qt*Kt-pi*Dt)/Mi):(rt[0]=2*(qt*Ti+fi*Dt+pi*st-We*Kt),rt[1]=2*(pi*Ti+fi*Kt+We*Dt-qt*st),rt[2]=2*(We*Ti+fi*st+qt*Kt-pi*Dt)),Fe(_e,ke,rt),_e},getTranslation:function(_e,ke){return _e[0]=ke[12],_e[1]=ke[13],_e[2]=ke[14],_e},getScaling:function(_e,ke){const rt=ke[0],Dt=ke[1],Kt=ke[2],st=ke[4],Ti=ke[5],qt=ke[6],pi=ke[8],We=ke[9],fi=ke[10];return _e[0]=Math.sqrt(rt*rt+Dt*Dt+Kt*Kt),_e[1]=Math.sqrt(st*st+Ti*Ti+qt*qt),_e[2]=Math.sqrt(pi*pi+We*We+fi*fi),_e},getRotation:function(_e,ke){const rt=ke[0]+ke[5]+ke[10];let Dt=0;return rt>0?(Dt=2*Math.sqrt(rt+1),_e[3]=.25*Dt,_e[0]=(ke[6]-ke[9])/Dt,_e[1]=(ke[8]-ke[2])/Dt,_e[2]=(ke[1]-ke[4])/Dt):ke[0]>ke[5]&&ke[0]>ke[10]?(Dt=2*Math.sqrt(1+ke[0]-ke[5]-ke[10]),_e[3]=(ke[6]-ke[9])/Dt,_e[0]=.25*Dt,_e[1]=(ke[1]+ke[4])/Dt,_e[2]=(ke[8]+ke[2])/Dt):ke[5]>ke[10]?(Dt=2*Math.sqrt(1+ke[5]-ke[0]-ke[10]),_e[3]=(ke[8]-ke[2])/Dt,_e[0]=(ke[1]+ke[4])/Dt,_e[1]=.25*Dt,_e[2]=(ke[6]+ke[9])/Dt):(Dt=2*Math.sqrt(1+ke[10]-ke[0]-ke[5]),_e[3]=(ke[1]-ke[4])/Dt,_e[0]=(ke[8]+ke[2])/Dt,_e[1]=(ke[6]+ke[9])/Dt,_e[2]=.25*Dt),_e},fromRotationTranslationScale:function(_e,ke,rt,Dt){const Kt=ke[0],st=ke[1],Ti=ke[2],qt=ke[3],pi=Kt+Kt,We=st+st,fi=Ti+Ti,Mi=Kt*pi,Ki=Kt*We,yn=Kt*fi,Un=st*We,Vn=st*fi,kn=Ti*fi,li=qt*pi,B=qt*We,Be=qt*fi,$=Dt[0],k=Dt[1],T=Dt[2];return _e[0]=(1-(Un+kn))*$,_e[1]=(Ki+Be)*$,_e[2]=(yn-B)*$,_e[3]=0,_e[4]=(Ki-Be)*k,_e[5]=(1-(Mi+kn))*k,_e[6]=(Vn+li)*k,_e[7]=0,_e[8]=(yn+B)*T,_e[9]=(Vn-li)*T,_e[10]=(1-(Mi+Un))*T,_e[11]=0,_e[12]=rt[0],_e[13]=rt[1],_e[14]=rt[2],_e[15]=1,_e},fromRotationTranslationScaleOrigin:function(_e,ke,rt,Dt,Kt){const st=ke[0],Ti=ke[1],qt=ke[2],pi=ke[3],We=st+st,fi=Ti+Ti,Mi=qt+qt,Ki=st*We,yn=st*fi,Un=st*Mi,Vn=Ti*fi,kn=Ti*Mi,li=qt*Mi,B=pi*We,Be=pi*fi,$=pi*Mi,k=Dt[0],T=Dt[1],E=Dt[2],D=Kt[0],O=Kt[1],L=Kt[2],F=(1-(Vn+li))*k,V=(yn+$)*k,W=(Un-Be)*k,X=(yn-$)*T,ie=(1-(Ki+li))*T,Y=(kn+B)*T,te=(Un+Be)*E,ne=(kn-B)*E,we=(1-(Ki+Vn))*E;return _e[0]=F,_e[1]=V,_e[2]=W,_e[3]=0,_e[4]=X,_e[5]=ie,_e[6]=Y,_e[7]=0,_e[8]=te,_e[9]=ne,_e[10]=we,_e[11]=0,_e[12]=rt[0]+D-(F*D+X*O+te*L),_e[13]=rt[1]+O-(V*D+ie*O+ne*L),_e[14]=rt[2]+L-(W*D+Y*O+we*L),_e[15]=1,_e},fromQuat:function(_e,ke){const rt=ke[0],Dt=ke[1],Kt=ke[2],st=ke[3],Ti=rt+rt,qt=Dt+Dt,pi=Kt+Kt,We=rt*Ti,fi=Dt*Ti,Mi=Dt*qt,Ki=Kt*Ti,yn=Kt*qt,Un=Kt*pi,Vn=st*Ti,kn=st*qt,li=st*pi;return _e[0]=1-Mi-Un,_e[1]=fi+li,_e[2]=Ki-kn,_e[3]=0,_e[4]=fi-li,_e[5]=1-We-Un,_e[6]=yn+Vn,_e[7]=0,_e[8]=Ki+kn,_e[9]=yn-Vn,_e[10]=1-We-Mi,_e[11]=0,_e[12]=0,_e[13]=0,_e[14]=0,_e[15]=1,_e},frustum:function(_e,ke,rt,Dt,Kt,st,Ti){const qt=1/(rt-ke),pi=1/(Kt-Dt),We=1/(st-Ti);return _e[0]=2*st*qt,_e[1]=0,_e[2]=0,_e[3]=0,_e[4]=0,_e[5]=2*st*pi,_e[6]=0,_e[7]=0,_e[8]=(rt+ke)*qt,_e[9]=(Kt+Dt)*pi,_e[10]=(Ti+st)*We,_e[11]=-1,_e[12]=0,_e[13]=0,_e[14]=Ti*st*2*We,_e[15]=0,_e},perspective:function(_e,ke,rt,Dt,Kt){const st=1/Math.tan(ke/2);let Ti;return _e[0]=st/rt,_e[1]=0,_e[2]=0,_e[3]=0,_e[4]=0,_e[5]=st,_e[6]=0,_e[7]=0,_e[8]=0,_e[9]=0,_e[11]=-1,_e[12]=0,_e[13]=0,_e[15]=0,null!=Kt&&Kt!==1/0?(Ti=1/(Dt-Kt),_e[10]=(Kt+Dt)*Ti,_e[14]=2*Kt*Dt*Ti):(_e[10]=-1,_e[14]=-2*Dt),_e},perspectiveFromFieldOfView:function(_e,ke,rt,Dt){const Kt=Math.tan(ke.upDegrees*Math.PI/180),st=Math.tan(ke.downDegrees*Math.PI/180),Ti=Math.tan(ke.leftDegrees*Math.PI/180),qt=Math.tan(ke.rightDegrees*Math.PI/180),pi=2/(Ti+qt),We=2/(Kt+st);return _e[0]=pi,_e[1]=0,_e[2]=0,_e[3]=0,_e[4]=0,_e[5]=We,_e[6]=0,_e[7]=0,_e[8]=-(Ti-qt)*pi*.5,_e[9]=(Kt-st)*We*.5,_e[10]=Dt/(rt-Dt),_e[11]=-1,_e[12]=0,_e[13]=0,_e[14]=Dt*rt/(rt-Dt),_e[15]=0,_e},ortho:function(_e,ke,rt,Dt,Kt,st,Ti){const qt=1/(ke-rt),pi=1/(Dt-Kt),We=1/(st-Ti);return _e[0]=-2*qt,_e[1]=0,_e[2]=0,_e[3]=0,_e[4]=0,_e[5]=-2*pi,_e[6]=0,_e[7]=0,_e[8]=0,_e[9]=0,_e[10]=2*We,_e[11]=0,_e[12]=(ke+rt)*qt,_e[13]=(Kt+Dt)*pi,_e[14]=(Ti+st)*We,_e[15]=1,_e},lookAt:function(_e,ke,rt,Dt){let Kt,st,Ti,qt,pi,We,fi,Mi,Ki,yn;const Un=ke[0],Vn=ke[1],kn=ke[2],li=Dt[0],B=Dt[1],Be=Dt[2],$=rt[0],k=rt[1],T=rt[2];return Math.abs(Un-$)<J.E&&Math.abs(Vn-k)<J.E&&Math.abs(kn-T)<J.E?Ce(_e):(fi=Un-$,Mi=Vn-k,Ki=kn-T,yn=1/Math.sqrt(fi*fi+Mi*Mi+Ki*Ki),fi*=yn,Mi*=yn,Ki*=yn,Kt=B*Ki-Be*Mi,st=Be*fi-li*Ki,Ti=li*Mi-B*fi,yn=Math.sqrt(Kt*Kt+st*st+Ti*Ti),yn?(yn=1/yn,Kt*=yn,st*=yn,Ti*=yn):(Kt=0,st=0,Ti=0),qt=Mi*Ti-Ki*st,pi=Ki*Kt-fi*Ti,We=fi*st-Mi*Kt,yn=Math.sqrt(qt*qt+pi*pi+We*We),yn?(yn=1/yn,qt*=yn,pi*=yn,We*=yn):(qt=0,pi=0,We=0),_e[0]=Kt,_e[1]=qt,_e[2]=fi,_e[3]=0,_e[4]=st,_e[5]=pi,_e[6]=Mi,_e[7]=0,_e[8]=Ti,_e[9]=We,_e[10]=Ki,_e[11]=0,_e[12]=-(Kt*Un+st*Vn+Ti*kn),_e[13]=-(qt*Un+pi*Vn+We*kn),_e[14]=-(fi*Un+Mi*Vn+Ki*kn),_e[15]=1,_e)},targetTo:function(_e,ke,rt,Dt){const Kt=ke[0],st=ke[1],Ti=ke[2],qt=Dt[0],pi=Dt[1],We=Dt[2];let fi=Kt-rt[0],Mi=st-rt[1],Ki=Ti-rt[2],yn=fi*fi+Mi*Mi+Ki*Ki;yn>0&&(yn=1/Math.sqrt(yn),fi*=yn,Mi*=yn,Ki*=yn);let Un=pi*Ki-We*Mi,Vn=We*fi-qt*Ki,kn=qt*Mi-pi*fi;return yn=Un*Un+Vn*Vn+kn*kn,yn>0&&(yn=1/Math.sqrt(yn),Un*=yn,Vn*=yn,kn*=yn),_e[0]=Un,_e[1]=Vn,_e[2]=kn,_e[3]=0,_e[4]=Mi*kn-Ki*Vn,_e[5]=Ki*Un-fi*kn,_e[6]=fi*Vn-Mi*Un,_e[7]=0,_e[8]=fi,_e[9]=Mi,_e[10]=Ki,_e[11]=0,_e[12]=Kt,_e[13]=st,_e[14]=Ti,_e[15]=1,_e},str:function(_e){return"mat4("+_e[0]+", "+_e[1]+", "+_e[2]+", "+_e[3]+", "+_e[4]+", "+_e[5]+", "+_e[6]+", "+_e[7]+", "+_e[8]+", "+_e[9]+", "+_e[10]+", "+_e[11]+", "+_e[12]+", "+_e[13]+", "+_e[14]+", "+_e[15]+")"},frob:function(_e){return Math.sqrt(_e[0]**2+_e[1]**2+_e[2]**2+_e[3]**2+_e[4]**2+_e[5]**2+_e[6]**2+_e[7]**2+_e[8]**2+_e[9]**2+_e[10]**2+_e[11]**2+_e[12]**2+_e[13]**2+_e[14]**2+_e[15]**2)},add:function(_e,ke,rt){return _e[0]=ke[0]+rt[0],_e[1]=ke[1]+rt[1],_e[2]=ke[2]+rt[2],_e[3]=ke[3]+rt[3],_e[4]=ke[4]+rt[4],_e[5]=ke[5]+rt[5],_e[6]=ke[6]+rt[6],_e[7]=ke[7]+rt[7],_e[8]=ke[8]+rt[8],_e[9]=ke[9]+rt[9],_e[10]=ke[10]+rt[10],_e[11]=ke[11]+rt[11],_e[12]=ke[12]+rt[12],_e[13]=ke[13]+rt[13],_e[14]=ke[14]+rt[14],_e[15]=ke[15]+rt[15],_e},subtract:et,multiplyScalar:function(_e,ke,rt){return _e[0]=ke[0]*rt,_e[1]=ke[1]*rt,_e[2]=ke[2]*rt,_e[3]=ke[3]*rt,_e[4]=ke[4]*rt,_e[5]=ke[5]*rt,_e[6]=ke[6]*rt,_e[7]=ke[7]*rt,_e[8]=ke[8]*rt,_e[9]=ke[9]*rt,_e[10]=ke[10]*rt,_e[11]=ke[11]*rt,_e[12]=ke[12]*rt,_e[13]=ke[13]*rt,_e[14]=ke[14]*rt,_e[15]=ke[15]*rt,_e},multiplyScalarAndAdd:function(_e,ke,rt,Dt){return _e[0]=ke[0]+rt[0]*Dt,_e[1]=ke[1]+rt[1]*Dt,_e[2]=ke[2]+rt[2]*Dt,_e[3]=ke[3]+rt[3]*Dt,_e[4]=ke[4]+rt[4]*Dt,_e[5]=ke[5]+rt[5]*Dt,_e[6]=ke[6]+rt[6]*Dt,_e[7]=ke[7]+rt[7]*Dt,_e[8]=ke[8]+rt[8]*Dt,_e[9]=ke[9]+rt[9]*Dt,_e[10]=ke[10]+rt[10]*Dt,_e[11]=ke[11]+rt[11]*Dt,_e[12]=ke[12]+rt[12]*Dt,_e[13]=ke[13]+rt[13]*Dt,_e[14]=ke[14]+rt[14]*Dt,_e[15]=ke[15]+rt[15]*Dt,_e},exactEquals:Bt,equals:Lt,isOrthoNormal:Pt,mul:ce,sub:et})},55494:(hi,lt,N)=>{"use strict";function z(){const ye=new Float32Array(16);return ye[0]=1,ye[5]=1,ye[10]=1,ye[15]=1,ye}N.d(lt,{c:()=>z});const Ce=z();Object.freeze({__proto__:null,create:z,clone:function(ye){const he=new Float32Array(16);return he[0]=ye[0],he[1]=ye[1],he[2]=ye[2],he[3]=ye[3],he[4]=ye[4],he[5]=ye[5],he[6]=ye[6],he[7]=ye[7],he[8]=ye[8],he[9]=ye[9],he[10]=ye[10],he[11]=ye[11],he[12]=ye[12],he[13]=ye[13],he[14]=ye[14],he[15]=ye[15],he},fromValues:function(ye,he,re,ce,be,xe,de,Ae,me,le,oe,se,fe,Ee,ge,Ue){const Fe=new Float32Array(16);return Fe[0]=ye,Fe[1]=he,Fe[2]=re,Fe[3]=ce,Fe[4]=be,Fe[5]=xe,Fe[6]=de,Fe[7]=Ae,Fe[8]=me,Fe[9]=le,Fe[10]=oe,Fe[11]=se,Fe[12]=fe,Fe[13]=Ee,Fe[14]=ge,Fe[15]=Ue,Fe},createView:function(ye,he){return new Float32Array(ye,he,16)},IDENTITY:Ce})},43703:(hi,lt,N)=>{"use strict";function z(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function J(ye){return[ye[0],ye[1],ye[2],ye[3],ye[4],ye[5],ye[6],ye[7],ye[8],ye[9],ye[10],ye[11],ye[12],ye[13],ye[14],ye[15]]}function Me(ye,he){return new Float64Array(ye,he,16)}N.d(lt,{I:()=>Ce,a:()=>Me,b:()=>J,c:()=>z});const Ce=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Object.freeze({__proto__:null,create:z,clone:J,fromValues:function(ye,he,re,ce,be,xe,de,Ae,me,le,oe,se,fe,Ee,ge,Ue){return[ye,he,re,ce,be,xe,de,Ae,me,le,oe,se,fe,Ee,ge,Ue]},createView:Me,IDENTITY:Ce})},29840:(hi,lt,N)=>{"use strict";N.d(lt,{f:()=>Te,i:()=>re,p:()=>xe,r:()=>Ce,t:()=>Me,w:()=>Ie});var z=N(62208),J=N(21726);function Te(de,Ae){const me=Ae&&Ae.url&&Ae.url.path;if(de&&me&&(de=(0,J.hF)(de,me,{preserveProtocolRelative:!0}),Ae.portalItem&&Ae.readResourcePaths)){const le=(0,J.PF)(de,Ae.portalItem.itemUrl);he.test(le)&&Ae.readResourcePaths.push(Ae.portalItem.resourceFromPath(le).path)}return be(de,Ae&&Ae.portal)}function Me(de,Ae,me=0){if(!de)return de;!(0,J.YP)(de)&&Ae&&Ae.blockedRelativeUrls&&Ae.blockedRelativeUrls.push(de);let le=(0,J.hF)(de);if(Ae){const oe=Ae.verifyItemRelativeUrls&&Ae.verifyItemRelativeUrls.rootPath||Ae.url&&Ae.url.path;if(oe){const se=be(oe,Ae.portal);le=(0,J.PF)(be(le,Ae.portal),se,se),le!==de&&Ae.verifyItemRelativeUrls&&Ae.verifyItemRelativeUrls.writtenUrls.push(le)}}return le=function(de,Ae){return Ae&&!Ae.isPortal&&Ae.urlKey&&Ae.customBaseUrl?(0,J.Ie)(de,`${Ae.urlKey}.${Ae.customBaseUrl}`,Ae.portalHostname):de}(le,Ae&&Ae.portal),(0,J.YP)(le)&&(le=(0,J.Fv)(le)),null!=Ae&&Ae.resources&&null!=Ae&&Ae.portalItem&&!(0,J.YP)(le)&&!(0,J.HK)(le)&&0===me&&Ae.resources.toKeep.push({resource:Ae.portalItem.resourceFromPath(le)}),le}function Ce(de,Ae,me){return Te(de,me)}function Ie(de,Ae,me,le){const oe=Me(de,le);void 0!==oe&&(Ae[me]=oe)}const ye=/\/items\/([^\/]+)\/resources\//,he=/^\.\/resources\//;function re(de){const Ae=(0,z.pC)(de)?de.match(ye):null;return(0,z.pC)(Ae)?Ae[1]:null}function be(de,Ae){if(!Ae||Ae.isPortal||!Ae.urlKey||!Ae.customBaseUrl)return de;const me=`${Ae.urlKey}.${Ae.customBaseUrl}`;return(0,J.D6)(J.Gd,`${J.Gd.scheme}://${me}`)?(0,J.Ie)(de,Ae.portalHostname,me):(0,J.Ie)(de,me,Ae.portalHostname)}var xe=Object.freeze({__proto__:null,fromJSON:Te,toJSON:Me,read:Ce,write:Ie,itemIdFromResourceUrl:re})},48977:(hi,lt,N)=>{"use strict";N.d(lt,{c:()=>se,g:()=>re,i:()=>oe,j:()=>Ne,k:()=>Ee,m:()=>ce,r:()=>$e,s:()=>he});var z=N(550),J=N(78451),Te=N(28093),Me=N(39863),Ce=N(84161),Ie=N(993);function he(Pt,dt,jt){jt*=.5;const Rt=Math.sin(jt);return Pt[0]=Rt*dt[0],Pt[1]=Rt*dt[1],Pt[2]=Rt*dt[2],Pt[3]=Math.cos(jt),Pt}function re(Pt,dt){const jt=2*Math.acos(dt[3]),Rt=Math.sin(jt/2);return Rt>Me.E?(Pt[0]=dt[0]/Rt,Pt[1]=dt[1]/Rt,Pt[2]=dt[2]/Rt):(Pt[0]=1,Pt[1]=0,Pt[2]=0),jt}function ce(Pt,dt,jt){const Rt=dt[0],_e=dt[1],ke=dt[2],rt=dt[3],Dt=jt[0],Kt=jt[1],st=jt[2],Ti=jt[3];return Pt[0]=Rt*Ti+rt*Dt+_e*st-ke*Kt,Pt[1]=_e*Ti+rt*Kt+ke*Dt-Rt*st,Pt[2]=ke*Ti+rt*st+Rt*Kt-_e*Dt,Pt[3]=rt*Ti-Rt*Dt-_e*Kt-ke*st,Pt}function me(Pt,dt,jt,Rt){const _e=dt[0],ke=dt[1],rt=dt[2],Dt=dt[3];let Kt,st,Ti,qt,pi,We=jt[0],fi=jt[1],Mi=jt[2],Ki=jt[3];return st=_e*We+ke*fi+rt*Mi+Dt*Ki,st<0&&(st=-st,We=-We,fi=-fi,Mi=-Mi,Ki=-Ki),1-st>Me.E?(Kt=Math.acos(st),Ti=Math.sin(Kt),qt=Math.sin((1-Rt)*Kt)/Ti,pi=Math.sin(Rt*Kt)/Ti):(qt=1-Rt,pi=Rt),Pt[0]=qt*_e+pi*We,Pt[1]=qt*ke+pi*fi,Pt[2]=qt*rt+pi*Mi,Pt[3]=qt*Dt+pi*Ki,Pt}function oe(Pt,dt){const jt=dt[0],Rt=dt[1],_e=dt[2],ke=dt[3],rt=jt*jt+Rt*Rt+_e*_e+ke*ke,Dt=rt?1/rt:0;return Pt[0]=-jt*Dt,Pt[1]=-Rt*Dt,Pt[2]=-_e*Dt,Pt[3]=ke*Dt,Pt}function se(Pt,dt){return Pt[0]=-dt[0],Pt[1]=-dt[1],Pt[2]=-dt[2],Pt[3]=dt[3],Pt}function fe(Pt,dt){const jt=dt[0]+dt[4]+dt[8];let Rt;if(jt>0)Rt=Math.sqrt(jt+1),Pt[3]=.5*Rt,Rt=.5/Rt,Pt[0]=(dt[5]-dt[7])*Rt,Pt[1]=(dt[6]-dt[2])*Rt,Pt[2]=(dt[1]-dt[3])*Rt;else{let _e=0;dt[4]>dt[0]&&(_e=1),dt[8]>dt[3*_e+_e]&&(_e=2);const ke=(_e+1)%3,rt=(_e+2)%3;Rt=Math.sqrt(dt[3*_e+_e]-dt[3*ke+ke]-dt[3*rt+rt]+1),Pt[_e]=.5*Rt,Rt=.5/Rt,Pt[3]=(dt[3*ke+rt]-dt[3*rt+ke])*Rt,Pt[ke]=(dt[3*ke+_e]+dt[3*_e+ke])*Rt,Pt[rt]=(dt[3*rt+_e]+dt[3*_e+rt])*Rt}return Pt}function Ee(Pt,dt,jt,Rt){const _e=.5*Math.PI/180;dt*=_e,jt*=_e,Rt*=_e;const ke=Math.sin(dt),rt=Math.cos(dt),Dt=Math.sin(jt),Kt=Math.cos(jt),st=Math.sin(Rt),Ti=Math.cos(Rt);return Pt[0]=ke*Kt*Ti-rt*Dt*st,Pt[1]=rt*Dt*Ti+ke*Kt*st,Pt[2]=rt*Kt*st-ke*Dt*Ti,Pt[3]=rt*Kt*Ti+ke*Dt*st,Pt}const Ue=Ie.c,Fe=Ie.s,Ve=Ie.a,Le=ce,tt=Ie.b,je=Ie.d,ve=Ie.l,Oe=Ie.e,qe=Oe,He=Ie.f,Qe=He,ot=Ie.n,Ne=Ie.g,Se=Ie.h;function $e(Pt,dt,jt){const Rt=(0,Ce.d)(dt,jt);return Rt<-.999999?((0,Ce.c)(nt,ut,dt),(0,Ce.u)(nt)<1e-6&&(0,Ce.c)(nt,xt,dt),(0,Ce.n)(nt,nt),he(Pt,nt,Math.PI),Pt):Rt>.999999?(Pt[0]=0,Pt[1]=0,Pt[2]=0,Pt[3]=1,Pt):((0,Ce.c)(nt,dt,jt),Pt[0]=nt[0],Pt[1]=nt[1],Pt[2]=nt[2],Pt[3]=1+Rt,ot(Pt,Pt))}const nt=(0,Te.c)(),ut=(0,Te.f)(1,0,0),xt=(0,Te.f)(0,1,0),et=(0,J.a)(),gt=(0,J.a)(),Bt=(0,z.c)();Object.freeze({__proto__:null,identity:function(Pt){return Pt[0]=0,Pt[1]=0,Pt[2]=0,Pt[3]=1,Pt},setAxisAngle:he,getAxisAngle:re,multiply:ce,rotateX:function(Pt,dt,jt){jt*=.5;const Rt=dt[0],_e=dt[1],ke=dt[2],rt=dt[3],Dt=Math.sin(jt),Kt=Math.cos(jt);return Pt[0]=Rt*Kt+rt*Dt,Pt[1]=_e*Kt+ke*Dt,Pt[2]=ke*Kt-_e*Dt,Pt[3]=rt*Kt-Rt*Dt,Pt},rotateY:function(Pt,dt,jt){jt*=.5;const Rt=dt[0],_e=dt[1],ke=dt[2],rt=dt[3],Dt=Math.sin(jt),Kt=Math.cos(jt);return Pt[0]=Rt*Kt-ke*Dt,Pt[1]=_e*Kt+rt*Dt,Pt[2]=ke*Kt+Rt*Dt,Pt[3]=rt*Kt-_e*Dt,Pt},rotateZ:function(Pt,dt,jt){jt*=.5;const Rt=dt[0],_e=dt[1],ke=dt[2],rt=dt[3],Dt=Math.sin(jt),Kt=Math.cos(jt);return Pt[0]=Rt*Kt+_e*Dt,Pt[1]=_e*Kt-Rt*Dt,Pt[2]=ke*Kt+rt*Dt,Pt[3]=rt*Kt-ke*Dt,Pt},calculateW:function(Pt,dt){const jt=dt[0],Rt=dt[1],_e=dt[2];return Pt[0]=jt,Pt[1]=Rt,Pt[2]=_e,Pt[3]=Math.sqrt(Math.abs(1-jt*jt-Rt*Rt-_e*_e)),Pt},slerp:me,random:function(Pt){const dt=(0,Me.R)(),jt=(0,Me.R)(),Rt=(0,Me.R)(),_e=Math.sqrt(1-dt),ke=Math.sqrt(dt);return Pt[0]=_e*Math.sin(2*Math.PI*jt),Pt[1]=_e*Math.cos(2*Math.PI*jt),Pt[2]=ke*Math.sin(2*Math.PI*Rt),Pt[3]=ke*Math.cos(2*Math.PI*Rt),Pt},invert:oe,conjugate:se,fromMat3:fe,fromEuler:Ee,str:function(Pt){return"quat("+Pt[0]+", "+Pt[1]+", "+Pt[2]+", "+Pt[3]+")"},copy:Ue,set:Fe,add:Ve,mul:Le,scale:tt,dot:je,lerp:ve,length:Oe,len:qe,squaredLength:He,sqrLen:Qe,normalize:ot,exactEquals:Ne,equals:Se,rotationTo:$e,sqlerp:function(Pt,dt,jt,Rt,_e,ke){return me(et,dt,_e,ke),me(gt,jt,Rt,ke),me(Pt,et,gt,2*ke*(1-ke)),Pt},setAxes:function(Pt,dt,jt,Rt){const _e=Bt;return _e[0]=jt[0],_e[3]=jt[1],_e[6]=jt[2],_e[1]=Rt[0],_e[4]=Rt[1],_e[7]=Rt[2],_e[2]=-dt[0],_e[5]=-dt[1],_e[8]=-dt[2],ot(Pt,fe(Pt,_e))}})},78451:(hi,lt,N)=>{"use strict";function z(){return[0,0,0,1]}function J(ye){return[ye[0],ye[1],ye[2],ye[3]]}function Me(ye,he){return new Float64Array(ye,he,4)}N.d(lt,{I:()=>Ce,a:()=>z,b:()=>J,c:()=>Me});const Ce=[0,0,0,1];Object.freeze({__proto__:null,create:z,clone:J,fromValues:function(ye,he,re,ce){return[ye,he,re,ce]},createView:Me,IDENTITY:Ce})},14259:(hi,lt,N)=>{"use strict";N.d(lt,{q:()=>Ce});var z,Te,Me={exports:{}};z=Me,void 0!==(Te=function(){function ye(ce,be,xe,de,Ae){for(;de>xe;){if(de-xe>600){var me=de-xe+1,le=be-xe+1,oe=Math.log(me),se=.5*Math.exp(2*oe/3),fe=.5*Math.sqrt(oe*se*(me-se)/me)*(le-me/2<0?-1:1);ye(ce,be,Math.max(xe,Math.floor(be-le*se/me+fe)),Math.min(de,Math.floor(be+(me-le)*se/me+fe)),Ae)}var Ee=ce[be],ge=xe,Ue=de;for(he(ce,xe,be),Ae(ce[de],Ee)>0&&he(ce,xe,de);ge<Ue;){for(he(ce,ge,Ue),ge++,Ue--;Ae(ce[ge],Ee)<0;)ge++;for(;Ae(ce[Ue],Ee)>0;)Ue--}0===Ae(ce[xe],Ee)?he(ce,xe,Ue):he(ce,++Ue,de),Ue<=be&&(xe=Ue+1),be<=Ue&&(de=Ue-1)}}function he(ce,be,xe){var de=ce[be];ce[be]=ce[xe],ce[xe]=de}function re(ce,be){return ce<be?-1:ce>be?1:0}return function(ce,be,xe,de,Ae){ye(ce,be,xe||0,de||ce.length-1,Ae||re)}}())&&(z.exports=Te);var Ce=Me.exports},76279:(hi,lt,N)=>{"use strict";N.d(lt,{r:()=>J});var z=N(14259);function J(oe,se){if(!(this instanceof J))return new J(oe,se);this._maxEntries=Math.max(4,oe||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),se&&("function"==typeof se?this.toBBox=se:this._initFormat(se)),this.clear()}function Te(oe,se,fe){if(!fe)return se.indexOf(oe);for(var Ee=0;Ee<se.length;Ee++)if(fe(oe,se[Ee]))return Ee;return-1}function Me(oe,se){Ce(oe,0,oe.children.length,se,oe)}function Ce(oe,se,fe,Ee,ge){ge||(ge=me(null)),ge.minX=1/0,ge.minY=1/0,ge.maxX=-1/0,ge.maxY=-1/0;for(var Ue,Fe=se;Fe<fe;Fe++)Ue=oe.children[Fe],Ie(ge,oe.leaf?Ee(Ue):Ue);return ge}function Ie(oe,se){return oe.minX=Math.min(oe.minX,se.minX),oe.minY=Math.min(oe.minY,se.minY),oe.maxX=Math.max(oe.maxX,se.maxX),oe.maxY=Math.max(oe.maxY,se.maxY),oe}function ye(oe,se){return oe.minX-se.minX}function he(oe,se){return oe.minY-se.minY}function re(oe){return(oe.maxX-oe.minX)*(oe.maxY-oe.minY)}function ce(oe){return oe.maxX-oe.minX+(oe.maxY-oe.minY)}function be(oe,se){return(Math.max(se.maxX,oe.maxX)-Math.min(se.minX,oe.minX))*(Math.max(se.maxY,oe.maxY)-Math.min(se.minY,oe.minY))}function xe(oe,se){var fe=Math.max(oe.minX,se.minX),Ee=Math.max(oe.minY,se.minY),ge=Math.min(oe.maxX,se.maxX),Ue=Math.min(oe.maxY,se.maxY);return Math.max(0,ge-fe)*Math.max(0,Ue-Ee)}function de(oe,se){return oe.minX<=se.minX&&oe.minY<=se.minY&&se.maxX<=oe.maxX&&se.maxY<=oe.maxY}function Ae(oe,se){return se.minX<=oe.maxX&&se.minY<=oe.maxY&&se.maxX>=oe.minX&&se.maxY>=oe.minY}function me(oe){return{children:oe,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function le(oe,se,fe,Ee,ge){for(var Ue,Fe=[se,fe];Fe.length;)(fe=Fe.pop())-(se=Fe.pop())<=Ee||(Ue=se+Math.ceil((fe-se)/Ee/2)*Ee,(0,z.q)(oe,Ue,se,fe,ge),Fe.push(se,Ue,Ue,fe))}J.prototype={all:function(){return this._all(this.data,[])},search:function(oe){var se=this.data,fe=[],Ee=this.toBBox;if(!Ae(oe,se))return fe;for(var ge,Ue,Fe,Ve,Le=[];se;){for(ge=0,Ue=se.children.length;ge<Ue;ge++)Fe=se.children[ge],Ae(oe,Ve=se.leaf?Ee(Fe):Fe)&&(se.leaf?fe.push(Fe):de(oe,Ve)?this._all(Fe,fe):Le.push(Fe));se=Le.pop()}return fe},collides:function(oe){var se=this.data,fe=this.toBBox;if(!Ae(oe,se))return!1;for(var Ee,ge,Ue,Fe,Ve=[];se;){for(Ee=0,ge=se.children.length;Ee<ge;Ee++)if(Ue=se.children[Ee],Ae(oe,Fe=se.leaf?fe(Ue):Ue)){if(se.leaf||de(oe,Fe))return!0;Ve.push(Ue)}se=Ve.pop()}return!1},load:function(oe){if(!oe||!oe.length)return this;if(oe.length<this._minEntries){for(var se=0,fe=oe.length;se<fe;se++)this.insert(oe[se]);return this}var Ee=this._build(oe.slice(),0,oe.length-1,0);if(this.data.children.length)if(this.data.height===Ee.height)this._splitRoot(this.data,Ee);else{if(this.data.height<Ee.height){var ge=this.data;this.data=Ee,Ee=ge}this._insert(Ee,this.data.height-Ee.height-1,!0)}else this.data=Ee;return this},insert:function(oe){return oe&&this._insert(oe,this.data.height-1),this},clear:function(){return this.data=me([]),this},remove:function(oe,se){if(!oe)return this;for(var fe,Ee,ge,Ue,Fe=this.data,Ve=this.toBBox(oe),Le=[],tt=[];Fe||Le.length;){if(Fe||(Fe=Le.pop(),Ee=Le[Le.length-1],fe=tt.pop(),Ue=!0),Fe.leaf&&-1!==(ge=Te(oe,Fe.children,se)))return Fe.children.splice(ge,1),Le.push(Fe),this._condense(Le),this;Ue||Fe.leaf||!de(Fe,Ve)?Ee?(fe++,Fe=Ee.children[fe],Ue=!1):Fe=null:(Le.push(Fe),tt.push(fe),fe=0,Ee=Fe,Fe=Fe.children[0])}return this},toBBox:function(oe){return oe},compareMinX:ye,compareMinY:he,toJSON:function(){return this.data},fromJSON:function(oe){return this.data=oe,this},_all:function(oe,se){for(var fe=[];oe;)oe.leaf?se.push.apply(se,oe.children):fe.push.apply(fe,oe.children),oe=fe.pop();return se},_build:function(oe,se,fe,Ee){var ge,Ue=fe-se+1,Fe=this._maxEntries;if(Ue<=Fe)return Me(ge=me(oe.slice(se,fe+1)),this.toBBox),ge;Ee||(Ee=Math.ceil(Math.log(Ue)/Math.log(Fe)),Fe=Math.ceil(Ue/Math.pow(Fe,Ee-1))),(ge=me([])).leaf=!1,ge.height=Ee;var Ve,Le,tt,je,ve=Math.ceil(Ue/Fe),Oe=ve*Math.ceil(Math.sqrt(Fe));for(le(oe,se,fe,Oe,this.compareMinX),Ve=se;Ve<=fe;Ve+=Oe)for(le(oe,Ve,tt=Math.min(Ve+Oe-1,fe),ve,this.compareMinY),Le=Ve;Le<=tt;Le+=ve)je=Math.min(Le+ve-1,tt),ge.children.push(this._build(oe,Le,je,Ee-1));return Me(ge,this.toBBox),ge},_chooseSubtree:function(oe,se,fe,Ee){for(var ge,Ue,Fe,Ve,Le,tt,je,ve;Ee.push(se),!se.leaf&&Ee.length-1!==fe;){for(je=ve=1/0,ge=0,Ue=se.children.length;ge<Ue;ge++)Le=re(Fe=se.children[ge]),(tt=be(oe,Fe)-Le)<ve?(ve=tt,je=Le<je?Le:je,Ve=Fe):tt===ve&&Le<je&&(je=Le,Ve=Fe);se=Ve||se.children[0]}return se},_insert:function(oe,se,fe){var ge=fe?oe:(0,this.toBBox)(oe),Ue=[],Fe=this._chooseSubtree(ge,this.data,se,Ue);for(Fe.children.push(oe),Ie(Fe,ge);se>=0&&Ue[se].children.length>this._maxEntries;)this._split(Ue,se),se--;this._adjustParentBBoxes(ge,Ue,se)},_split:function(oe,se){var fe=oe[se],Ee=fe.children.length,ge=this._minEntries;this._chooseSplitAxis(fe,ge,Ee);var Ue=this._chooseSplitIndex(fe,ge,Ee),Fe=me(fe.children.splice(Ue,fe.children.length-Ue));Fe.height=fe.height,Fe.leaf=fe.leaf,Me(fe,this.toBBox),Me(Fe,this.toBBox),se?oe[se-1].children.push(Fe):this._splitRoot(fe,Fe)},_splitRoot:function(oe,se){this.data=me([oe,se]),this.data.height=oe.height+1,this.data.leaf=!1,Me(this.data,this.toBBox)},_chooseSplitIndex:function(oe,se,fe){var Ee,ge,Ue,Fe,Ve,Le,tt,je;for(Le=tt=1/0,Ee=se;Ee<=fe-se;Ee++)Fe=xe(ge=Ce(oe,0,Ee,this.toBBox),Ue=Ce(oe,Ee,fe,this.toBBox)),Ve=re(ge)+re(Ue),Fe<Le?(Le=Fe,je=Ee,tt=Ve<tt?Ve:tt):Fe===Le&&Ve<tt&&(tt=Ve,je=Ee);return je},_chooseSplitAxis:function(oe,se,fe){var Ee=oe.leaf?this.compareMinX:ye,ge=oe.leaf?this.compareMinY:he;this._allDistMargin(oe,se,fe,Ee)<this._allDistMargin(oe,se,fe,ge)&&oe.children.sort(Ee)},_allDistMargin:function(oe,se,fe,Ee){oe.children.sort(Ee);var ge,Ue,Fe=this.toBBox,Ve=Ce(oe,0,se,Fe),Le=Ce(oe,fe-se,fe,Fe),tt=ce(Ve)+ce(Le);for(ge=se;ge<fe-se;ge++)Ue=oe.children[ge],Ie(Ve,oe.leaf?Fe(Ue):Ue),tt+=ce(Ve);for(ge=fe-se-1;ge>=se;ge--)Ue=oe.children[ge],Ie(Le,oe.leaf?Fe(Ue):Ue),tt+=ce(Le);return tt},_adjustParentBBoxes:function(oe,se,fe){for(var Ee=fe;Ee>=0;Ee--)Ie(se[Ee],oe)},_condense:function(oe){for(var se,fe=oe.length-1;fe>=0;fe--)0===oe[fe].children.length?fe>0?(se=oe[fe-1].children).splice(se.indexOf(oe[fe]),1):this.clear():Me(oe[fe],this.toBBox)},_initFormat:function(oe){var se=["return a"," - b",";"];this.compareMinX=new Function("a","b",se.join(oe[0])),this.compareMinY=new Function("a","b",se.join(oe[1])),this.toBBox=new Function("a","return {minX: a"+oe[0]+", minY: a"+oe[1]+", maxX: a"+oe[2]+", maxY: a"+oe[3]+"};")}}},43673:(hi,lt,N)=>{"use strict";N.d(lt,{c:()=>Ve}),N(8314);var J=N(63290),Te=N(21286),Me=N(62208),Ce=N(28347),Ie=N(84161),ye=N(28093),he=N(993),re=N(4794),ce=N(97535),be=N(26242);new ce.x(function(){return{origin:null,direction:null}});var Ue=N(34054);const Fe=J.Z.getLogger("esri.geometry.support.sphere");function Ve(){return(0,re.c)()}function Le(_e,ke=Ve()){return(0,he.c)(ke,_e)}function qe(_e){return Array.isArray(_e)?_e[3]:_e}function He(_e){return Array.isArray(_e)?_e:dt}function Se(_e,ke,rt){if((0,Me.Wi)(ke))return!1;const Dt=(0,Ie.f)(be.WM.get(),ke.origin,He(_e)),Kt=(0,Ie.d)(ke.direction,ke.direction),st=2*(0,Ie.d)(ke.direction,Dt),Ti=st*st-4*Kt*((0,Ie.d)(Dt,Dt)-_e[3]*_e[3]);if(Ti<0)return!1;const qt=Math.sqrt(Ti);let pi=(-st-qt)/(2*Kt);const We=(-st+qt)/(2*Kt);return(pi<0||We<pi&&We>0)&&(pi=We),!(pi<0||(rt&&(0,Ie.b)(rt,ke.origin,(0,Ie.a)(be.WM.get(),ke.direction,pi)),0))}function ut(_e,ke,rt){const Dt=be.WM.get(),Kt=be.MP.get();(0,Ie.c)(Dt,ke.origin,ke.direction);const st=qe(_e);(0,Ie.c)(rt,Dt,ke.origin),(0,Ie.a)(rt,rt,1/(0,Ie.l)(rt)*st);const Ti=gt(_e,ke.origin),qt=(0,Ue.EU)(ke.origin,rt);return(0,Ce.i)(Kt),(0,Ce.d)(Kt,Kt,qt+Ti,Dt),(0,Ie.m)(rt,rt,Kt),rt}function Ze(_e,ke,rt){const Dt=(0,Ie.f)(be.WM.get(),ke,He(_e)),Kt=(0,Ie.a)(be.WM.get(),Dt,_e[3]/(0,Ie.l)(Dt));return(0,Ie.b)(rt,Kt,He(_e))}function gt(_e,ke){const rt=(0,Ie.f)(be.WM.get(),ke,He(_e)),Dt=(0,Ie.l)(rt),Kt=qe(_e),st=Kt+Math.abs(Kt-Dt);return(0,Te.ZF)(Kt/st)}const Vt=(0,ye.c)();function Bt(_e,ke,rt,Dt){const Kt=(0,Ie.f)(Vt,ke,He(_e));switch(rt){case 0:{const st=(0,Te.jE)(Kt,Vt)[2];return(0,Ie.s)(Dt,-Math.sin(st),Math.cos(st),0)}case 1:{const st=(0,Te.jE)(Kt,Vt),Ti=st[1],qt=st[2],pi=Math.sin(Ti);return(0,Ie.s)(Dt,-pi*Math.cos(qt),-pi*Math.sin(qt),Math.cos(Ti))}case 2:return(0,Ie.n)(Dt,Kt);default:return}}function Lt(_e,ke){const rt=(0,Ie.f)(jt,ke,He(_e));return(0,Ie.l)(rt)-_e[3]}const dt=(0,ye.c)(),jt=(0,ye.c)();Object.freeze({__proto__:null,create:Ve,copy:Le,fromCenterAndRadius:function(_e,ke){return(0,re.f)(_e[0],_e[1],_e[2],ke)},wrap:function(_e){return _e},clear:function(_e){_e[0]=_e[1]=_e[2]=_e[3]=0},fromRadius:function(_e){return _e},getRadius:qe,getCenter:He,fromValues:function(_e,ke,rt,Dt){return(0,re.f)(_e,ke,rt,Dt)},elevate:function(_e,ke,rt){return _e!==rt&&(0,Ie.g)(rt,_e),rt[3]=_e[3]+ke,rt},setExtent:function(_e,ke,rt){return Fe.error("sphere.setExtent is not yet supported"),_e===rt?rt:Le(_e,rt)},intersectRay:Se,intersectsRay:function(_e,ke){return Se(_e,ke,null)},intersectRayClosestSilhouette:function(_e,ke,rt){if(Se(_e,ke,rt))return rt;const Dt=ut(_e,ke,be.WM.get());return(0,Ie.b)(rt,ke.origin,(0,Ie.a)(be.WM.get(),ke.direction,(0,Ie.i)(ke.origin,Dt)/(0,Ie.l)(ke.direction))),rt},closestPointOnSilhouette:ut,closestPoint:function(_e,ke,rt){return Se(_e,ke,rt)?rt:(function(_e,ke,rt){const Dt=(0,Ie.d)(_e.direction,(0,Ie.f)(rt,ke,_e.origin));(0,Ie.b)(rt,_e.origin,(0,Ie.a)(rt,_e.direction,Dt))}(ke,He(_e),rt),Ze(_e,rt,rt))},projectPoint:Ze,distanceToSilhouette:function(_e,ke){const rt=(0,Ie.f)(be.WM.get(),ke,He(_e)),Dt=(0,Ie.p)(rt);return Math.sqrt(Math.abs(Dt-_e[3]*_e[3]))},angleToSilhouette:gt,axisAt:Bt,altitudeAt:Lt,setAltitudeAt:function(_e,ke,rt,Dt){const Kt=Lt(_e,ke),st=Bt(_e,ke,2,jt),Ti=(0,Ie.a)(jt,st,rt-Kt);return(0,Ie.b)(Dt,ke,Ti)}})},17626:(hi,lt,N)=>{"use strict";function z(J,Te,Me,Ce){var Ie,ye=arguments.length,he=ye<3?Te:null===Ce?Ce=Object.getOwnPropertyDescriptor(Te,Me):Ce;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)he=Reflect.decorate(J,Te,Me,Ce);else for(var re=J.length-1;re>=0;re--)(Ie=J[re])&&(he=(ye<3?Ie(he):ye>3?Ie(Te,Me,he):Ie(Te,Me))||he);return ye>3&&he&&Object.defineProperty(Te,Me,he),he}N.d(lt,{_:()=>z})},67831:(hi,lt,N)=>{"use strict";N.d(lt,{a:()=>Ce,b:()=>de,c:()=>J,d:()=>me,e:()=>nt,f:()=>ge,g:()=>Fe,h:()=>Ue,i:()=>Me,j:()=>le,l:()=>oe,m:()=>Ve,n:()=>fe,p:()=>Se,r:()=>qe,s:()=>Te,t:()=>je,u:()=>Ae});var z=N(39863);function J(Bt,Lt){return Bt[0]=Lt[0],Bt[1]=Lt[1],Bt}function Te(Bt,Lt,Pt){return Bt[0]=Lt,Bt[1]=Pt,Bt}function Me(Bt,Lt,Pt){return Bt[0]=Lt[0]+Pt[0],Bt[1]=Lt[1]+Pt[1],Bt}function Ce(Bt,Lt,Pt){return Bt[0]=Lt[0]-Pt[0],Bt[1]=Lt[1]-Pt[1],Bt}function Ie(Bt,Lt,Pt){return Bt[0]=Lt[0]*Pt[0],Bt[1]=Lt[1]*Pt[1],Bt}function ye(Bt,Lt,Pt){return Bt[0]=Lt[0]/Pt[0],Bt[1]=Lt[1]/Pt[1],Bt}function de(Bt,Lt,Pt){return Bt[0]=Lt[0]*Pt,Bt[1]=Lt[1]*Pt,Bt}function Ae(Bt,Lt,Pt,dt){return Bt[0]=Lt[0]+Pt[0]*dt,Bt[1]=Lt[1]+Pt[1]*dt,Bt}function me(Bt,Lt){const Pt=Lt[0]-Bt[0],dt=Lt[1]-Bt[1];return Math.sqrt(Pt*Pt+dt*dt)}function le(Bt,Lt){const Pt=Lt[0]-Bt[0],dt=Lt[1]-Bt[1];return Pt*Pt+dt*dt}function oe(Bt){const Lt=Bt[0],Pt=Bt[1];return Math.sqrt(Lt*Lt+Pt*Pt)}function se(Bt){const Lt=Bt[0],Pt=Bt[1];return Lt*Lt+Pt*Pt}function fe(Bt,Lt){return Bt[0]=-Lt[0],Bt[1]=-Lt[1],Bt}function ge(Bt,Lt){const Pt=Lt[0],dt=Lt[1];let jt=Pt*Pt+dt*dt;return jt>0&&(jt=1/Math.sqrt(jt),Bt[0]=Lt[0]*jt,Bt[1]=Lt[1]*jt),Bt}function Ue(Bt,Lt){return Bt[0]*Lt[0]+Bt[1]*Lt[1]}function Fe(Bt,Lt,Pt){const dt=Lt[0]*Pt[1]-Lt[1]*Pt[0];return Bt[0]=Bt[1]=0,Bt[2]=dt,Bt}function Ve(Bt,Lt,Pt,dt){const jt=Lt[0],Rt=Lt[1];return Bt[0]=jt+dt*(Pt[0]-jt),Bt[1]=Rt+dt*(Pt[1]-Rt),Bt}function je(Bt,Lt,Pt){const dt=Lt[0],jt=Lt[1];return Bt[0]=Pt[0]*dt+Pt[2]*jt+Pt[4],Bt[1]=Pt[1]*dt+Pt[3]*jt+Pt[5],Bt}function qe(Bt,Lt,Pt,dt){const jt=Lt[0]-Pt[0],Rt=Lt[1]-Pt[1],_e=Math.sin(dt),ke=Math.cos(dt);return Bt[0]=jt*ke-Rt*_e+Pt[0],Bt[1]=jt*_e+Rt*ke+Pt[1],Bt}function Se(Bt,Lt,Pt,dt,jt){let Rt=Lt[0]-Pt[0],_e=Lt[1]-Pt[1];const ke=(dt[0]*Rt+dt[1]*_e)*(jt-1);return Rt=dt[0]*ke,_e=dt[1]*ke,Bt[0]=Lt[0]+Rt,Bt[1]=Lt[1]+_e,Bt}const nt=Ce;Object.freeze({__proto__:null,copy:J,set:Te,add:Me,subtract:Ce,multiply:Ie,divide:ye,ceil:function(Bt,Lt){return Bt[0]=Math.ceil(Lt[0]),Bt[1]=Math.ceil(Lt[1]),Bt},floor:function(Bt,Lt){return Bt[0]=Math.floor(Lt[0]),Bt[1]=Math.floor(Lt[1]),Bt},min:function(Bt,Lt,Pt){return Bt[0]=Math.min(Lt[0],Pt[0]),Bt[1]=Math.min(Lt[1],Pt[1]),Bt},max:function(Bt,Lt,Pt){return Bt[0]=Math.max(Lt[0],Pt[0]),Bt[1]=Math.max(Lt[1],Pt[1]),Bt},round:function(Bt,Lt){return Bt[0]=Math.round(Lt[0]),Bt[1]=Math.round(Lt[1]),Bt},scale:de,scaleAndAdd:Ae,distance:me,squaredDistance:le,length:oe,squaredLength:se,negate:fe,inverse:function(Bt,Lt){return Bt[0]=1/Lt[0],Bt[1]=1/Lt[1],Bt},normalize:ge,dot:Ue,cross:Fe,lerp:Ve,random:function(Bt,Lt){Lt=Lt||1;const Pt=2*(0,z.R)()*Math.PI;return Bt[0]=Math.cos(Pt)*Lt,Bt[1]=Math.sin(Pt)*Lt,Bt},transformMat2:function(Bt,Lt,Pt){const dt=Lt[0],jt=Lt[1];return Bt[0]=Pt[0]*dt+Pt[2]*jt,Bt[1]=Pt[1]*dt+Pt[3]*jt,Bt},transformMat2d:je,transformMat3:function(Bt,Lt,Pt){const dt=Lt[0],jt=Lt[1];return Bt[0]=Pt[0]*dt+Pt[3]*jt+Pt[6],Bt[1]=Pt[1]*dt+Pt[4]*jt+Pt[7],Bt},transformMat4:function(Bt,Lt,Pt){const dt=Lt[0],jt=Lt[1];return Bt[0]=Pt[0]*dt+Pt[4]*jt+Pt[12],Bt[1]=Pt[1]*dt+Pt[5]*jt+Pt[13],Bt},rotate:qe,angle:function(Bt,Lt){const Pt=Bt[0],dt=Bt[1],jt=Lt[0],Rt=Lt[1];let _e=Pt*Pt+dt*dt;_e>0&&(_e=1/Math.sqrt(_e));let ke=jt*jt+Rt*Rt;ke>0&&(ke=1/Math.sqrt(ke));const rt=(Pt*jt+dt*Rt)*_e*ke;return rt>1?0:rt<-1?Math.PI:Math.acos(rt)},str:function(Bt){return"vec2("+Bt[0]+", "+Bt[1]+")"},exactEquals:function(Bt,Lt){return Bt[0]===Lt[0]&&Bt[1]===Lt[1]},equals:function(Bt,Lt){const Pt=Bt[0],dt=Bt[1],jt=Lt[0],Rt=Lt[1];return Math.abs(Pt-jt)<=z.E*Math.max(1,Math.abs(Pt),Math.abs(jt))&&Math.abs(dt-Rt)<=z.E*Math.max(1,Math.abs(dt),Math.abs(Rt))},projectAndScale:Se,len:oe,sub:nt,mul:Ie,div:ye,dist:me,sqrDist:le,sqrLen:se})},9545:(hi,lt,N)=>{"use strict";function z(){return new Float32Array(2)}function Te(Ae,me){const le=new Float32Array(2);return le[0]=Ae,le[1]=me,le}function Ce(){return z()}function Ie(){return Te(1,1)}function ye(){return Te(1,0)}function he(){return Te(0,1)}N.d(lt,{c:()=>z,f:()=>Te});const re=Ce(),ce=Ie(),be=ye(),xe=he();Object.freeze({__proto__:null,create:z,clone:function(Ae){const me=new Float32Array(2);return me[0]=Ae[0],me[1]=Ae[1],me},fromValues:Te,createView:function(Ae,me){return new Float32Array(Ae,me,2)},zeros:Ce,ones:Ie,unitX:ye,unitY:he,ZEROS:re,ONES:ce,UNIT_X:be,UNIT_Y:xe})},99770:(hi,lt,N)=>{"use strict";function z(){return[0,0]}function Te(me,le){return[me,le]}function Me(me){const le=[0,0],oe=Math.min(2,me.length);for(let se=0;se<oe;++se)le[se]=me[se];return le}function Ce(me,le){return new Float64Array(me,le,2)}function ye(){return Te(1,1)}function he(){return Te(1,0)}function re(){return Te(0,1)}N.d(lt,{a:()=>z,c:()=>Ce,d:()=>Me,f:()=>Te});const be=ye(),xe=he(),de=re();Object.freeze({__proto__:null,create:z,clone:function(me){return[me[0],me[1]]},fromValues:Te,fromArray:Me,createView:Ce,zeros:function(){return[0,0]},ones:ye,unitX:he,unitY:re,ZEROS:[0,0],ONES:be,UNIT_X:xe,UNIT_Y:de})},84161:(hi,lt,N)=>{"use strict";N.d(lt,{E:()=>re,a:()=>me,b:()=>Ie,c:()=>Ve,d:()=>Fe,e:()=>Le,f:()=>ye,g:()=>Me,h:()=>se,i:()=>oe,k:()=>xt,l:()=>Te,m:()=>Oe,n:()=>Ue,o:()=>Ee,p:()=>fe,q:()=>He,r:()=>et,s:()=>Ce,t:()=>qe,u:()=>dt,z:()=>Ze});var z=N(28093),J=N(39863);function Te(_e){const ke=_e[0],rt=_e[1],Dt=_e[2];return Math.sqrt(ke*ke+rt*rt+Dt*Dt)}function Me(_e,ke){return _e[0]=ke[0],_e[1]=ke[1],_e[2]=ke[2],_e}function Ce(_e,ke,rt,Dt){return _e[0]=ke,_e[1]=rt,_e[2]=Dt,_e}function Ie(_e,ke,rt){return _e[0]=ke[0]+rt[0],_e[1]=ke[1]+rt[1],_e[2]=ke[2]+rt[2],_e}function ye(_e,ke,rt){return _e[0]=ke[0]-rt[0],_e[1]=ke[1]-rt[1],_e[2]=ke[2]-rt[2],_e}function he(_e,ke,rt){return _e[0]=ke[0]*rt[0],_e[1]=ke[1]*rt[1],_e[2]=ke[2]*rt[2],_e}function re(_e,ke,rt){return _e[0]=ke[0]/rt[0],_e[1]=ke[1]/rt[1],_e[2]=ke[2]/rt[2],_e}function me(_e,ke,rt){return _e[0]=ke[0]*rt,_e[1]=ke[1]*rt,_e[2]=ke[2]*rt,_e}function oe(_e,ke){const rt=ke[0]-_e[0],Dt=ke[1]-_e[1],Kt=ke[2]-_e[2];return Math.sqrt(rt*rt+Dt*Dt+Kt*Kt)}function se(_e,ke){const rt=ke[0]-_e[0],Dt=ke[1]-_e[1],Kt=ke[2]-_e[2];return rt*rt+Dt*Dt+Kt*Kt}function fe(_e){const ke=_e[0],rt=_e[1],Dt=_e[2];return ke*ke+rt*rt+Dt*Dt}function Ee(_e,ke){return _e[0]=-ke[0],_e[1]=-ke[1],_e[2]=-ke[2],_e}function Ue(_e,ke){const rt=ke[0],Dt=ke[1],Kt=ke[2];let st=rt*rt+Dt*Dt+Kt*Kt;return st>0&&(st=1/Math.sqrt(st),_e[0]=ke[0]*st,_e[1]=ke[1]*st,_e[2]=ke[2]*st),_e}function Fe(_e,ke){return _e[0]*ke[0]+_e[1]*ke[1]+_e[2]*ke[2]}function Ve(_e,ke,rt){const Dt=ke[0],Kt=ke[1],st=ke[2],Ti=rt[0],qt=rt[1],pi=rt[2];return _e[0]=Kt*pi-st*qt,_e[1]=st*Ti-Dt*pi,_e[2]=Dt*qt-Kt*Ti,_e}function Le(_e,ke,rt,Dt){const Kt=ke[0],st=ke[1],Ti=ke[2];return _e[0]=Kt+Dt*(rt[0]-Kt),_e[1]=st+Dt*(rt[1]-st),_e[2]=Ti+Dt*(rt[2]-Ti),_e}function Oe(_e,ke,rt){const Dt=ke[0],Kt=ke[1],st=ke[2];return _e[0]=rt[0]*Dt+rt[4]*Kt+rt[8]*st+rt[12],_e[1]=rt[1]*Dt+rt[5]*Kt+rt[9]*st+rt[13],_e[2]=rt[2]*Dt+rt[6]*Kt+rt[10]*st+rt[14],_e}function qe(_e,ke,rt){const Dt=ke[0],Kt=ke[1],st=ke[2];return _e[0]=Dt*rt[0]+Kt*rt[3]+st*rt[6],_e[1]=Dt*rt[1]+Kt*rt[4]+st*rt[7],_e[2]=Dt*rt[2]+Kt*rt[5]+st*rt[8],_e}function He(_e,ke,rt){const Dt=rt[0],Kt=rt[1],st=rt[2],qt=ke[0],pi=ke[1],We=ke[2];let fi=Kt*We-st*pi,Mi=st*qt-Dt*We,Ki=Dt*pi-Kt*qt,yn=Kt*Ki-st*Mi,Un=st*fi-Dt*Ki,Vn=Dt*Mi-Kt*fi;const kn=2*rt[3];return fi*=kn,Mi*=kn,Ki*=kn,yn*=2,Un*=2,Vn*=2,_e[0]=qt+fi+yn,_e[1]=pi+Mi+Un,_e[2]=We+Ki+Vn,_e}const $e=(0,z.c)(),nt=(0,z.c)();function xt(_e,ke){return _e[0]===ke[0]&&_e[1]===ke[1]&&_e[2]===ke[2]}function Ze(_e,ke){const rt=_e[0],Dt=_e[1],Kt=_e[2],st=ke[0],Ti=ke[1],qt=ke[2];return Math.abs(rt-st)<=J.E*Math.max(1,Math.abs(rt),Math.abs(st))&&Math.abs(Dt-Ti)<=J.E*Math.max(1,Math.abs(Dt),Math.abs(Ti))&&Math.abs(Kt-qt)<=J.E*Math.max(1,Math.abs(Kt),Math.abs(qt))}function et(_e,ke,rt){const Dt=rt[0]-ke[0],Kt=rt[1]-ke[1],st=rt[2]-ke[2];let Ti=Dt*Dt+Kt*Kt+st*st;return Ti>0?(Ti=1/Math.sqrt(Ti),_e[0]=Dt*Ti,_e[1]=Kt*Ti,_e[2]=st*Ti,_e):(_e[0]=0,_e[1]=0,_e[2]=0,_e)}const dt=Te;Object.freeze({__proto__:null,length:Te,copy:Me,set:Ce,add:Ie,subtract:ye,multiply:he,divide:re,ceil:function(_e,ke){return _e[0]=Math.ceil(ke[0]),_e[1]=Math.ceil(ke[1]),_e[2]=Math.ceil(ke[2]),_e},floor:function(_e,ke){return _e[0]=Math.floor(ke[0]),_e[1]=Math.floor(ke[1]),_e[2]=Math.floor(ke[2]),_e},min:function(_e,ke,rt){return _e[0]=Math.min(ke[0],rt[0]),_e[1]=Math.min(ke[1],rt[1]),_e[2]=Math.min(ke[2],rt[2]),_e},max:function(_e,ke,rt){return _e[0]=Math.max(ke[0],rt[0]),_e[1]=Math.max(ke[1],rt[1]),_e[2]=Math.max(ke[2],rt[2]),_e},round:function(_e,ke){return _e[0]=Math.round(ke[0]),_e[1]=Math.round(ke[1]),_e[2]=Math.round(ke[2]),_e},scale:me,scaleAndAdd:function(_e,ke,rt,Dt){return _e[0]=ke[0]+rt[0]*Dt,_e[1]=ke[1]+rt[1]*Dt,_e[2]=ke[2]+rt[2]*Dt,_e},distance:oe,squaredDistance:se,squaredLength:fe,negate:Ee,inverse:function(_e,ke){return _e[0]=1/ke[0],_e[1]=1/ke[1],_e[2]=1/ke[2],_e},normalize:Ue,dot:Fe,cross:Ve,lerp:Le,hermite:function(_e,ke,rt,Dt,Kt,st){const Ti=st*st,qt=Ti*(2*st-3)+1,pi=Ti*(st-2)+st,We=Ti*(st-1),fi=Ti*(3-2*st);return _e[0]=ke[0]*qt+rt[0]*pi+Dt[0]*We+Kt[0]*fi,_e[1]=ke[1]*qt+rt[1]*pi+Dt[1]*We+Kt[1]*fi,_e[2]=ke[2]*qt+rt[2]*pi+Dt[2]*We+Kt[2]*fi,_e},bezier:function(_e,ke,rt,Dt,Kt,st){const Ti=1-st,qt=Ti*Ti,pi=st*st,We=qt*Ti,fi=3*st*qt,Mi=3*pi*Ti,Ki=pi*st;return _e[0]=ke[0]*We+rt[0]*fi+Dt[0]*Mi+Kt[0]*Ki,_e[1]=ke[1]*We+rt[1]*fi+Dt[1]*Mi+Kt[1]*Ki,_e[2]=ke[2]*We+rt[2]*fi+Dt[2]*Mi+Kt[2]*Ki,_e},random:function(_e,ke){ke=ke||1;const rt=2*(0,J.R)()*Math.PI,Dt=2*(0,J.R)()-1,Kt=Math.sqrt(1-Dt*Dt)*ke;return _e[0]=Math.cos(rt)*Kt,_e[1]=Math.sin(rt)*Kt,_e[2]=Dt*ke,_e},transformMat4:Oe,transformMat3:qe,transformQuat:He,rotateX:function(_e,ke,rt,Dt){const Kt=[],st=[];return Kt[0]=ke[0]-rt[0],Kt[1]=ke[1]-rt[1],Kt[2]=ke[2]-rt[2],st[0]=Kt[0],st[1]=Kt[1]*Math.cos(Dt)-Kt[2]*Math.sin(Dt),st[2]=Kt[1]*Math.sin(Dt)+Kt[2]*Math.cos(Dt),_e[0]=st[0]+rt[0],_e[1]=st[1]+rt[1],_e[2]=st[2]+rt[2],_e},rotateY:function(_e,ke,rt,Dt){const Kt=[],st=[];return Kt[0]=ke[0]-rt[0],Kt[1]=ke[1]-rt[1],Kt[2]=ke[2]-rt[2],st[0]=Kt[2]*Math.sin(Dt)+Kt[0]*Math.cos(Dt),st[1]=Kt[1],st[2]=Kt[2]*Math.cos(Dt)-Kt[0]*Math.sin(Dt),_e[0]=st[0]+rt[0],_e[1]=st[1]+rt[1],_e[2]=st[2]+rt[2],_e},rotateZ:function(_e,ke,rt,Dt){const Kt=[],st=[];return Kt[0]=ke[0]-rt[0],Kt[1]=ke[1]-rt[1],Kt[2]=ke[2]-rt[2],st[0]=Kt[0]*Math.cos(Dt)-Kt[1]*Math.sin(Dt),st[1]=Kt[0]*Math.sin(Dt)+Kt[1]*Math.cos(Dt),st[2]=Kt[2],_e[0]=st[0]+rt[0],_e[1]=st[1]+rt[1],_e[2]=st[2]+rt[2],_e},angle:function(_e,ke){Me($e,_e),Me(nt,ke),Ue($e,$e),Ue(nt,nt);const rt=Fe($e,nt);return rt>1?0:rt<-1?Math.PI:Math.acos(rt)},str:function(_e){return"vec3("+_e[0]+", "+_e[1]+", "+_e[2]+")"},exactEquals:xt,equals:Ze,direction:et,sub:ye,mul:he,div:re,dist:oe,sqrDist:se,len:dt,sqrLen:fe})},28093:(hi,lt,N)=>{"use strict";function z(){return[0,0,0]}function J(oe){return[oe[0],oe[1],oe[2]]}function Te(oe,se,fe){return[oe,se,fe]}function Me(oe){const se=[0,0,0],fe=Math.min(3,oe.length);for(let Ee=0;Ee<fe;++Ee)se[Ee]=oe[Ee];return se}function Ce(oe,se){return new Float64Array(oe,se,3)}function ye(){return Te(1,1,1)}function he(){return Te(1,0,0)}function re(){return Te(0,1,0)}function ce(){return Te(0,0,1)}N.d(lt,{O:()=>xe,Z:()=>be,a:()=>J,b:()=>Ce,c:()=>z,d:()=>Me,f:()=>Te});const be=[0,0,0],xe=ye(),de=he(),Ae=re(),me=ce();Object.freeze({__proto__:null,create:z,clone:J,fromValues:Te,fromArray:Me,createView:Ce,zeros:function(){return[0,0,0]},ones:ye,unitX:he,unitY:re,unitZ:ce,ZEROS:be,ONES:xe,UNIT_X:de,UNIT_Y:Ae,UNIT_Z:me})},993:(hi,lt,N)=>{"use strict";N.d(lt,{a:()=>Me,b:()=>de,c:()=>J,d:()=>Ue,e:()=>oe,f:()=>se,g:()=>ve,h:()=>Oe,l:()=>Fe,n:()=>ge,s:()=>Te});var z=N(39863);function J(ut,xt){return ut[0]=xt[0],ut[1]=xt[1],ut[2]=xt[2],ut[3]=xt[3],ut}function Te(ut,xt,Ze,et,gt){return ut[0]=xt,ut[1]=Ze,ut[2]=et,ut[3]=gt,ut}function Me(ut,xt,Ze){return ut[0]=xt[0]+Ze[0],ut[1]=xt[1]+Ze[1],ut[2]=xt[2]+Ze[2],ut[3]=xt[3]+Ze[3],ut}function Ce(ut,xt,Ze){return ut[0]=xt[0]-Ze[0],ut[1]=xt[1]-Ze[1],ut[2]=xt[2]-Ze[2],ut[3]=xt[3]-Ze[3],ut}function Ie(ut,xt,Ze){return ut[0]=xt[0]*Ze[0],ut[1]=xt[1]*Ze[1],ut[2]=xt[2]*Ze[2],ut[3]=xt[3]*Ze[3],ut}function ye(ut,xt,Ze){return ut[0]=xt[0]/Ze[0],ut[1]=xt[1]/Ze[1],ut[2]=xt[2]/Ze[2],ut[3]=xt[3]/Ze[3],ut}function de(ut,xt,Ze){return ut[0]=xt[0]*Ze,ut[1]=xt[1]*Ze,ut[2]=xt[2]*Ze,ut[3]=xt[3]*Ze,ut}function me(ut,xt){const Ze=xt[0]-ut[0],et=xt[1]-ut[1],gt=xt[2]-ut[2],Vt=xt[3]-ut[3];return Math.sqrt(Ze*Ze+et*et+gt*gt+Vt*Vt)}function le(ut,xt){const Ze=xt[0]-ut[0],et=xt[1]-ut[1],gt=xt[2]-ut[2],Vt=xt[3]-ut[3];return Ze*Ze+et*et+gt*gt+Vt*Vt}function oe(ut){const xt=ut[0],Ze=ut[1],et=ut[2],gt=ut[3];return Math.sqrt(xt*xt+Ze*Ze+et*et+gt*gt)}function se(ut){const xt=ut[0],Ze=ut[1],et=ut[2],gt=ut[3];return xt*xt+Ze*Ze+et*et+gt*gt}function ge(ut,xt){const Ze=xt[0],et=xt[1],gt=xt[2],Vt=xt[3];let Bt=Ze*Ze+et*et+gt*gt+Vt*Vt;return Bt>0&&(Bt=1/Math.sqrt(Bt),ut[0]=Ze*Bt,ut[1]=et*Bt,ut[2]=gt*Bt,ut[3]=Vt*Bt),ut}function Ue(ut,xt){return ut[0]*xt[0]+ut[1]*xt[1]+ut[2]*xt[2]+ut[3]*xt[3]}function Fe(ut,xt,Ze,et){const gt=xt[0],Vt=xt[1],Bt=xt[2],Lt=xt[3];return ut[0]=gt+et*(Ze[0]-gt),ut[1]=Vt+et*(Ze[1]-Vt),ut[2]=Bt+et*(Ze[2]-Bt),ut[3]=Lt+et*(Ze[3]-Lt),ut}function ve(ut,xt){return ut[0]===xt[0]&&ut[1]===xt[1]&&ut[2]===xt[2]&&ut[3]===xt[3]}function Oe(ut,xt){const Ze=ut[0],et=ut[1],gt=ut[2],Vt=ut[3],Bt=xt[0],Lt=xt[1],Pt=xt[2],dt=xt[3];return Math.abs(Ze-Bt)<=z.E*Math.max(1,Math.abs(Ze),Math.abs(Bt))&&Math.abs(et-Lt)<=z.E*Math.max(1,Math.abs(et),Math.abs(Lt))&&Math.abs(gt-Pt)<=z.E*Math.max(1,Math.abs(gt),Math.abs(Pt))&&Math.abs(Vt-dt)<=z.E*Math.max(1,Math.abs(Vt),Math.abs(dt))}Object.freeze({__proto__:null,copy:J,set:Te,add:Me,subtract:Ce,multiply:Ie,divide:ye,ceil:function(ut,xt){return ut[0]=Math.ceil(xt[0]),ut[1]=Math.ceil(xt[1]),ut[2]=Math.ceil(xt[2]),ut[3]=Math.ceil(xt[3]),ut},floor:function(ut,xt){return ut[0]=Math.floor(xt[0]),ut[1]=Math.floor(xt[1]),ut[2]=Math.floor(xt[2]),ut[3]=Math.floor(xt[3]),ut},min:function(ut,xt,Ze){return ut[0]=Math.min(xt[0],Ze[0]),ut[1]=Math.min(xt[1],Ze[1]),ut[2]=Math.min(xt[2],Ze[2]),ut[3]=Math.min(xt[3],Ze[3]),ut},max:function(ut,xt,Ze){return ut[0]=Math.max(xt[0],Ze[0]),ut[1]=Math.max(xt[1],Ze[1]),ut[2]=Math.max(xt[2],Ze[2]),ut[3]=Math.max(xt[3],Ze[3]),ut},round:function(ut,xt){return ut[0]=Math.round(xt[0]),ut[1]=Math.round(xt[1]),ut[2]=Math.round(xt[2]),ut[3]=Math.round(xt[3]),ut},scale:de,scaleAndAdd:function(ut,xt,Ze,et){return ut[0]=xt[0]+Ze[0]*et,ut[1]=xt[1]+Ze[1]*et,ut[2]=xt[2]+Ze[2]*et,ut[3]=xt[3]+Ze[3]*et,ut},distance:me,squaredDistance:le,length:oe,squaredLength:se,negate:function(ut,xt){return ut[0]=-xt[0],ut[1]=-xt[1],ut[2]=-xt[2],ut[3]=-xt[3],ut},inverse:function(ut,xt){return ut[0]=1/xt[0],ut[1]=1/xt[1],ut[2]=1/xt[2],ut[3]=1/xt[3],ut},normalize:ge,dot:Ue,lerp:Fe,random:function(ut,xt){let Ze,et,gt,Vt,Bt,Lt;xt=xt||1;do{Ze=2*(0,z.R)()-1,et=2*(0,z.R)()-1,Bt=Ze*Ze+et*et}while(Bt>=1);do{gt=2*(0,z.R)()-1,Vt=2*(0,z.R)()-1,Lt=gt*gt+Vt*Vt}while(Lt>=1);const Pt=Math.sqrt((1-Bt)/Lt);return ut[0]=xt*Ze,ut[1]=xt*et,ut[2]=xt*gt*Pt,ut[3]=xt*Vt*Pt,ut},transformMat4:function(ut,xt,Ze){const et=xt[0],gt=xt[1],Vt=xt[2],Bt=xt[3];return ut[0]=Ze[0]*et+Ze[4]*gt+Ze[8]*Vt+Ze[12]*Bt,ut[1]=Ze[1]*et+Ze[5]*gt+Ze[9]*Vt+Ze[13]*Bt,ut[2]=Ze[2]*et+Ze[6]*gt+Ze[10]*Vt+Ze[14]*Bt,ut[3]=Ze[3]*et+Ze[7]*gt+Ze[11]*Vt+Ze[15]*Bt,ut},transformQuat:function(ut,xt,Ze){const et=xt[0],gt=xt[1],Vt=xt[2],Bt=Ze[0],Lt=Ze[1],Pt=Ze[2],dt=Ze[3],jt=dt*et+Lt*Vt-Pt*gt,Rt=dt*gt+Pt*et-Bt*Vt,_e=dt*Vt+Bt*gt-Lt*et,ke=-Bt*et-Lt*gt-Pt*Vt;return ut[0]=jt*dt+ke*-Bt+Rt*-Pt-_e*-Lt,ut[1]=Rt*dt+ke*-Lt+_e*-Bt-jt*-Pt,ut[2]=_e*dt+ke*-Pt+jt*-Lt-Rt*-Bt,ut[3]=xt[3],ut},str:function(ut){return"vec4("+ut[0]+", "+ut[1]+", "+ut[2]+", "+ut[3]+")"},exactEquals:ve,equals:Oe,sub:Ce,mul:Ie,div:ye,dist:me,sqrDist:le,len:oe,sqrLen:se})},4794:(hi,lt,N)=>{"use strict";function z(){return[0,0,0,0]}function Te(fe,Ee,ge,Ue){return[fe,Ee,ge,Ue]}function Me(fe){const Ee=[0,0,0,0],ge=Math.min(4,fe.length);for(let Ue=0;Ue<ge;++Ue)Ee[Ue]=fe[Ue];return Ee}function Ce(fe,Ee){return new Float64Array(fe,Ee,4)}function ye(){return Te(1,1,1,1)}function he(){return Te(1,0,0,0)}function re(){return Te(0,1,0,0)}function ce(){return Te(0,0,1,0)}function be(){return Te(0,0,0,1)}N.d(lt,{a:()=>Ce,b:()=>Me,c:()=>z,f:()=>Te});const de=ye(),Ae=he(),me=re(),le=ce(),oe=be();Object.freeze({__proto__:null,create:z,clone:function(fe){return[fe[0],fe[1],fe[2],fe[3]]},fromValues:Te,fromArray:Me,createView:Ce,zeros:function(){return[0,0,0,0]},ones:ye,unitX:he,unitY:re,unitZ:ce,unitW:be,ZEROS:[0,0,0,0],ONES:de,UNIT_X:Ae,UNIT_Y:me,UNIT_Z:le,UNIT_W:oe})},20414:(hi,lt,N)=>{"use strict";N.d(lt,{h$:()=>J,VL:()=>Te,rW:()=>Ie,B7:()=>Ce});const z={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function J(ye){var he;return null!=(he=z[ye.toLowerCase()])?he:null}function Te(ye){const he=J(ye);return he&&[...he]}function Me(ye,he,re){re<0&&++re,re>1&&--re;const ce=6*re;return ce<1?ye+(he-ye)*ce:2*re<1?he:3*re<2?ye+(he-ye)*(2/3-re)*6:ye}function Ce(ye,he,re,ce=1){const be=(ye%360+360)%360/360,xe=re<=.5?re*(he+1):re+he-re*he,de=2*re-xe;return[Math.round(255*Me(de,xe,be+1/3)),Math.round(255*Me(de,xe,be)),Math.round(255*Me(de,xe,be-1/3)),ce]}function Ie(ye){const he=ye.length>5,re=he?8:4,ce=(1<<re)-1,be=he?1:17,xe=he?9===ye.length:5===ye.length;let de=Number("0x"+ye.substr(1));if(isNaN(de))return null;const Ae=[0,0,0,1];let me;return xe&&(me=de&ce,de>>=re,Ae[3]=be*me/255),me=de&ce,de>>=re,Ae[2]=be*me,me=de&ce,de>>=re,Ae[1]=be*me,me=de&ce,de>>=re,Ae[0]=be*me,Ae}},59318:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>Me});var z=N(95127),Te=(N(8314),N(94113));const Me={apiKey:void 0,applicationUrl:z.Z.location&&z.Z.location.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryService:null,geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",portalUrl:"https://www.arcgis.com",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],maxUrlLength:2e3,proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};z.Z.esriConfig&&((0,Te.RH)(Me,z.Z.esriConfig,!0),delete Me.has),Me.assetsPath||(Me.assetsPath=`https://js.arcgis.com/${"4.21.2".slice(0,-2)}/@arcgis/core/assets`),Me.baseUrl&&console.warn("[esri.config]","baseUrl has been replaced by assetsPath"),Object.defineProperty(Me,"baseUrl",{set(){console.warn("[esri.config]","baseUrl has been replaced by assetsPath")}}),Me.request.corsEnabledServers=[],Me.request.corsEnabledServers.push=function(){return console.warn("[esri.config]","request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664"),0}},61458:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>Rt});var z=N(55538),J=N(63290),Te=N(34595),Me=N(34117),Ie=(N(8314),N(58817)),ye=N(27899),he=N(36082),re=N(12196);class ce{constructor(ke,rt,Dt){this.properties=ke,this.propertyName=rt,this.metadata=Dt,this._observers=null,this._accessed=null,this._handles=null,this.flags=1|(Dt.nonNullable?8:0)|(Dt.hasOwnProperty("value")?16:0)|(void 0===Dt.get?32:0)|(void 0===Dt.dependsOn?64:0)}destroy(){this._accessed=null,this._observers=null,this._clearObservationHandles()}getComputed(){(0,he.it)(this);const ke=this.properties.store,rt=this.propertyName,Dt=this.flags,Kt=ke.get(rt);if(4&Dt||1&~Dt&&ke.has(rt))return Kt;this.flags|=4;const st=this.properties.host;let Ti;64&Dt?Ti=(0,he.LJ)(this,this.metadata.get,st):((0,he.GF)(st,this),Ti=this.metadata.get.call(st)),ke.set(rt,Ti,1);const qt=ke.get(rt);return qt===Kt?this.flags&=-2:this.commit(),this.flags&=-5,qt}onObservableAccessed(ke){ke!==this&&(null===this._accessed&&(this._accessed=[]),this._accessed.includes(ke)||this._accessed.push(ke))}onTrackingEnd(){this._clearObservationHandles(),this.flags|=32;const ke=this._accessed;if(null===ke)return;let rt=this._handles;null===rt&&(rt=this._handles=[]);for(let Dt=0;Dt<ke.length;++Dt)rt.push(ke[Dt].observe(this));ke.length=0}observe(ke){return null===this._observers&&(this._observers=[]),this._observers.includes(ke)||this._observers.push(ke),new re.X(this._observers,ke)}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}onInvalidated(){2&~this.flags&&(this.flags|=1);const ke=this._observers;if(null!==ke)for(let rt=0;rt<ke.length;++rt)ke[rt].onInvalidated()}commit(){this.flags&=-2,this.onCommitted()}onCommitted(){if(null===this._observers)return;const ke=this._observers.slice();for(let rt=0;rt<ke.length;++rt)ke[rt].onCommitted()}_clearObservationHandles(){const ke=this._handles;if(null!==ke){for(let rt=0;rt<ke.length;++rt)ke[rt].remove();ke.length=0}}}var be=N(31283);class xe{constructor(){this._values=new Map}clone(ke){const rt=new xe;return this._values.forEach((Dt,Kt)=>{ke&&ke.has(Kt)||rt.set(Kt,(0,Ie.d9)(Dt))}),rt}get(ke){return this._values.get(ke)}originOf(){return 6}keys(){return[...this._values.keys()]}set(ke,rt){this._values.set(ke,rt)}delete(ke){this._values.delete(ke)}has(ke){return this._values.has(ke)}forEach(ke){this._values.forEach(ke)}}var de=N(52323);function Ae(_e,ke,rt){return void 0!==_e}function me(_e,ke,rt,Dt){return!(void 0===_e||null==rt&&8&_e.flags)}J.Z.getLogger("esri.core.accessorSupport.Properties");class oe{constructor(ke){this.host=ke,this.properties=new Map,this.ctorArgs=null,this.destroyed=!1,this.lifecycle=0,this.store=new xe,this._origin=6;const rt=this.host.constructor.__accessorMetadata__,Dt=rt.properties;for(const Kt in Dt){const st=new ce(this,Kt,Dt[Kt]);this.properties.set(Kt,st)}this.metadatas=Dt,this._autoDestroy=rt.autoDestroy}initialize(){this.lifecycle=1}constructed(){this.lifecycle=2}destroy(){if(this.destroyed=!0,this._autoDestroy)for(const[ke,rt]of this.properties){const Dt=this.internalGet(ke);Dt&&(_e=Dt)&&"function"==typeof _e.destroy&&(Dt.destroy(),8&~rt.flags&&this._internalSet(rt,null)),rt.destroy()}else for(const[ke,rt]of this.properties)rt.destroy();var _e}get initialized(){return 0!==this.lifecycle}get(ke){const rt=this.properties.get(ke);if(rt.metadata.get)return rt.getComputed();(0,he.it)(rt);const Dt=this.store;return Dt.has(ke)?Dt.get(ke):rt.metadata.value}originOf(ke){const rt=this.store.originOf(ke);if(void 0===rt){const Dt=this.properties.get(ke);if(void 0!==Dt&&16&Dt.flags)return"defaults"}return(0,be.x3)(rt)}has(ke){return!!this.properties.has(ke)&&this.store.has(ke)}keys(){return[...this.properties.keys()]}internalGet(ke){const rt=this.properties.get(ke);if(Ae(rt))return this.store.has(ke)?this.store.get(ke):rt.metadata.value}internalSet(ke,rt){const Dt=this.properties.get(ke);Ae(Dt)&&this._internalSet(Dt,rt)}getDependsInfo(ke,rt,Dt){const Kt=this.properties.get(rt);if(!Ae(Kt))return"";const st=new Set,Ti=(0,he.LJ)({onObservableAccessed:pi=>st.add(pi),onTrackingEnd:()=>{}},()=>{var pi;return null==(pi=Kt.metadata.get)?void 0:pi.call(ke)});let qt=`${Dt}${ke.declaredClass.split(".").pop()}.${rt}: ${Ti}\n`;if(0===st.size)return qt;Dt+="  ";for(const pi of st){if(!(pi instanceof ce))continue;const We=pi.properties.host,fi=pi.propertyName,Mi=(0,de.vw)(We);qt+=Mi?Mi.getDependsInfo(We,fi,Dt):`${Dt}${fi}: undefined\n`}return qt}setAtOrigin(ke,rt,Dt){const Kt=this.properties.get(ke);if(Ae(Kt))return this._setAtOrigin(Kt,rt,Dt)}isOverridden(ke){const rt=this.properties.get(ke);return void 0!==rt&&!!(2&rt.flags)}clearOverride(ke){const rt=this.properties.get(ke);void 0!==rt&&2&rt.flags&&(rt.flags&=-3,rt.notifyChange())}override(ke,rt){const Dt=this.properties.get(ke);if(!me(Dt,0,rt))return;const Kt=Dt.metadata.cast;if(Kt){const st=this._cast(Kt,rt),{valid:Ti,value:qt}=st;if(fe.release(st),!Ti)return;rt=qt}Dt.flags|=2,this._internalSet(Dt,rt)}set(ke,rt){const Dt=this.properties.get(ke);if(!me(Dt,0,rt))return;const Kt=Dt.metadata.cast;if(Kt){const Ti=this._cast(Kt,rt),{valid:qt,value:pi}=Ti;if(fe.release(Ti),!qt)return;rt=pi}const st=Dt.metadata.set;st?st.call(this.host,rt):this._internalSet(Dt,rt)}setDefaultOrigin(ke){this._origin=(0,be.M9)(ke)}getDefaultOrigin(){return(0,be.x3)(this._origin)}notifyChange(ke){const rt=this.properties.get(ke);void 0!==rt&&rt.notifyChange()}invalidate(ke){const rt=this.properties.get(ke);void 0!==rt&&rt.invalidate()}commit(ke){const rt=this.properties.get(ke);void 0!==rt&&rt.commit()}_internalSet(ke,rt){this._setAtOrigin(ke,rt,0!==this.lifecycle?this._origin:0)}_setAtOrigin(ke,rt,Dt){const Kt=this.store,st=ke.propertyName;Kt.has(st,Dt)&&(0,Ie.fS)(rt,Kt.get(st))&&2&~ke.flags&&Dt===Kt.originOf(st)||(ke.invalidate(),Kt.set(st,rt,Dt),ke.commit(),(0,he.mS)(this.host,ke))}_cast(ke,rt){const Dt=fe.acquire();return Dt.valid=!0,Dt.value=rt,ke&&(Dt.value=ke.call(this.host,rt,Dt)),Dt}}const fe=new ye.Z(class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}});var Ee=N(82255),ge=N(35575),Ue=N(62208),Ve=N(50618),Le=N(86236),tt=N(21352);class je{constructor(){this.uid=(0,Le.D)(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null}static acquireUntracked(ke,rt,Dt,Kt,st){return this.pool.acquire(0,ke,rt,Dt,Kt,st)}static acquireTracked(ke,rt,Dt){return this.pool.acquire(1,ke,rt,Dt,null,null)}notify(ke,rt){0===this.type?this.callback.call(this.target,ke,rt,this.path,this.target):this.callback.call(null,ke,rt)}acquire(ke,rt,Dt,Kt,st,Ti){this.uid=(0,Le.D)(),this.removed=!1,this.type=ke,this.oldValue=rt,this.callback=Dt,this.getValue=Kt,this.target=st,this.path=Ti}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=(0,Le.D)(),this.removed=!0}}je.pool=new class extends ye.Z{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=(0,Ue.Bd)(this._set)}acquire(...ke){const rt=super.acquire(...ke);return this._set.delete(rt),rt}release(ke){ke&&!this._set.has(ke)&&(super.release(ke),this._set.add(ke))}_dispose(ke){this._set.delete(ke),super._dispose(ke)}}(je);const ve=new ge.Z,Oe=new Set;let qe;function He(_e){Oe.delete(_e),Oe.add(_e),qe||(qe=(0,Ve.Os)($e))}function Qe(_e){if(_e.removed)return;const ke=_e.oldValue,rt=_e.getValue();ot(ke,rt)&&(_e.oldValue=rt,_e.notify(rt,ke))}function ot(_e,ke){return!(0,Ie.fS)(_e,ke)}function $e(){let _e=10;for(;qe&&_e--;){qe=null;const ke=nt(),rt=ve.acquire();for(const Dt of ke){const Kt=Dt.uid;Qe(Dt),Kt===Dt.uid&&Dt.removed&&rt.push(Dt)}for(const Dt of Oe)Dt.removed&&(rt.push(Dt),Oe.delete(Dt));for(const Dt of rt)je.pool.release(Dt);ve.release(rt),ve.release(ke),ut.forEach(Dt=>Dt())}}function nt(){const _e=ve.acquire();_e.length=Oe.size;let ke=0;for(const rt of Oe)_e[ke]=rt,++ke;return Oe.clear(),_e}const ut=new Set;var Pt=N(77712),dt=N(61403);function jt(_e){if(null==_e)return{value:_e};if(Array.isArray(_e))return{type:[_e[0]],value:null};switch(typeof _e){case"object":return _e.constructor&&_e.constructor.__accessorMetadata__||_e instanceof Date?{type:_e.constructor,value:_e}:_e;case"boolean":return{type:Boolean,value:_e};case"string":return{type:String,value:_e};case"number":return{type:Number,value:_e};case"function":return{type:_e,value:null};default:return}}class Rt{constructor(...ke){if(this.constructor===Rt)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");Object.defineProperty(this,"__accessor__",{enumerable:!1,value:new oe(this)}),ke.length>0&&this.normalizeCtorArgs&&(this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,ke))}static createSubclass(ke={}){if(Array.isArray(ke))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:rt,declaredClass:Dt,constructor:Kt}=ke;delete ke.declaredClass,delete ke.properties,delete ke.constructor;const st=this;class Ti extends st{constructor(...pi){super(...pi),this.inherited=null,Kt&&Kt.apply(this,pi)}}(0,Me.JT)(Ti.prototype);for(const qt in ke){const pi=ke[qt];Ti.prototype[qt]="function"==typeof pi?function(...We){const fi=this.inherited;let Mi;this.inherited=function(...Ki){if(st.prototype[qt])return st.prototype[qt].apply(this,Ki)};try{Mi=pi.apply(this,We)}catch(Ki){throw this.inherited=fi,Ki}return this.inherited=fi,Mi}:ke[qt]}for(const qt in rt){const pi=jt(rt[qt]);(0,Pt.Cb)(pi)(Ti.prototype,qt)}return(0,dt.j)(Dt)(Ti)}postscript(ke){const rt=this.__accessor__,Dt=rt.ctorArgs||ke;rt.initialize(),Dt&&(this.set(Dt),rt.ctorArgs=null),rt.constructed(),this.initialize()}initialize(){}destroy(){this.destroyed||(function(_e){for(const ke of Oe.values())ke.target===_e&&(ke.removed=!0)}(this),this.__accessor__.destroy())}get initialized(){return this.__accessor__&&this.__accessor__.initialized||!1}get constructed(){return this.__accessor__&&2===this.__accessor__.lifecycle||!1}get destroyed(){return this.__accessor__&&this.__accessor__.destroyed||!1}commitProperty(ke){this.get(ke)}get(ke){return(0,Te.U2)(this,ke)}hasOwnProperty(ke){return this.__accessor__?this.__accessor__.has(ke):Object.prototype.hasOwnProperty.call(this,ke)}isInstanceOf(ke){return(0,z.XV)(J.Z.getLogger(this.declaredClass),"isInstanceOf",{replacement:"Use instanceof directly",version:"4.16"}),this instanceof ke}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(ke,rt){return(0,Ee.t)(this,ke,rt),this}watch(ke,rt,Dt){return function(_e,ke,rt,Dt=!1){return!_e.__accessor__||_e.__accessor__.destroyed?{remove(){}}:Dt?function(_e,ke,rt){const Dt=(0,de.Qc)(_e,ke,rt,(Kt,st,Ti)=>{let qt=!1;return(0,tt.U5)(()=>(0,Te.$z)(Kt,st),(pi,We)=>{Kt.__accessor__.destroyed?Dt.remove():qt||(qt=!0,ot(We,pi)&&Ti.call(Kt,pi,We,st,Kt),qt=!1)})});return Dt}(_e,ke,rt):function(_e,ke,rt){let Dt=(0,de.Qc)(_e,ke,rt,(Kt,st,Ti)=>{let qt,pi,We=(0,tt.Xz)(()=>(0,Te.$z)(Kt,st),(fi,Mi)=>{Kt.__accessor__.destroyed||qt&&qt.uid!==pi?Dt.remove():(qt||(qt=je.acquireUntracked(fi,Ti,Mi,Kt,st),pi=qt.uid),He(qt))});return{remove:(0,de.IH)(()=>{We.remove(),qt&&(qt.uid!==pi||qt.removed||(qt.removed=!0,He(qt)),qt=null),Dt=We=null})}});return Dt}(_e,ke,rt)}(this,ke,rt,Dt)}_clearOverride(ke){return this.__accessor__.clearOverride(ke)}_override(ke,rt){return this.__accessor__.override(ke,rt)}_isOverridden(ke){return this.__accessor__.isOverridden(ke)}notifyChange(ke){this.__accessor__.notifyChange(ke)}_get(ke){return this.__accessor__.internalGet(ke)}_set(ke,rt){return this.__accessor__.internalSet(ke,rt),this}}},35575:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>Te});var z=N(27899);function J(Ce){Ce.length=0}class Te{constructor(Ie=50,ye=50){this._pool=new z.Z(Array,void 0,J,ye,Ie)}acquire(){return this._pool.acquire()}release(Ie){this._pool.release(Ie)}prune(){this._pool.prune(0)}static acquire(){return Me.acquire()}static release(Ie){return Me.release(Ie)}static prune(){Me.prune()}}const Me=new Te(100)},7093:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>ve});var Ae,z=N(17626),J=N(35575),Te=N(61885),Me=N(58817),Ce=N(62208),Ie=N(27899),ye=N(50618),he=N(90912),re=N(36082),ce=N(77712),be=N(61403),xe=N(12196);class de{constructor(){this._observers=[]}observe(qe){return this._observers.includes(qe)||this._observers.push(qe),new xe.X(this._observers,qe)}notify(){const qe=this._observers.slice();for(let He=0;He<qe.length;++He){const Qe=qe[He];Qe.onInvalidated(),Qe.onCommitted()}}}const le=new Ie.Z(class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(qe){this.defaultPrevented=!1,this.item=qe}},void 0,Oe=>{Oe.item=null,Oe.target=null,Oe.defaultPrevented=!1,Oe.cancellable=!1}),oe=()=>{};function se(Oe){return Oe?Oe instanceof je?Oe.toArray():Oe.length?Array.prototype.slice.apply(Oe):[]:[]}function fe(Oe){if(Oe&&Oe.length)return Oe[0]}function Ee(Oe,qe,He,Qe){const ot=Math.min(Oe.length-He,qe.length-Qe);let Ne=0;for(;Ne<ot&&Oe[He+Ne]===qe[Qe+Ne];)Ne++;return Ne}function ge(Oe,qe,He,Qe){qe&&qe.forEach((ot,Ne,Se)=>{Oe.push(ot),ge(Oe,He.call(Qe,ot,Ne,Se),He,Qe)})}const Ue=new Set,Fe=new Set,Ve=new Set,Le=new Map;let tt=0,je=Ae=class extends Te.Z.EventedAccessor{constructor(Oe){super(Oe),this._chgListeners=[],this._notifications=null,this._timer=null,this._observable=new de,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:tt++})}static isCollection(Oe){return null!=Oe&&Oe instanceof Ae}normalizeCtorArgs(Oe){return Oe?Array.isArray(Oe)||Oe instanceof Ae?{items:Oe}:Oe:{}}*[Symbol.iterator](){yield*this.items}get items(){return(0,re.it)(this._observable),this._items}set items(Oe){this._emitBeforeChanges(1)||(this._splice(0,this.length,...se(Oe)),this._emitAfterChanges(1))}hasEventListener(Oe){return"change"===Oe?this._chgListeners.length>0:this._emitter.hasEventListener(Oe)}on(Oe,qe){if("change"===Oe){const He=this._chgListeners,Qe={removed:!1,callback:qe};return He.push(Qe),this._notifications&&this._notifications.push({listeners:He.slice(),items:this._items.slice(),changes:[]}),{remove(){this.remove=oe,Qe.removed=!0,He.splice(He.indexOf(Qe),1)}}}return this._emitter.on(Oe,qe)}once(Oe,qe){const He=this.on(Oe,qe);return{remove(){He.remove()}}}add(Oe,qe){if((0,re.it)(this._observable),this._emitBeforeChanges(1))return this;const He=this.getNextIndex(null!=qe?qe:null);return this._splice(He,0,Oe),this._emitAfterChanges(1),this}addMany(Oe,qe=this._items.length){if((0,re.it)(this._observable),!Oe||!Oe.length)return this;if(this._emitBeforeChanges(1))return this;const He=this.getNextIndex(qe);return this._splice(He,0,...se(Oe)),this._emitAfterChanges(1),this}removeAll(){if((0,re.it)(this._observable),!this.length||this._emitBeforeChanges(2))return[];const Oe=this._splice(0,this.length)||[];return this._emitAfterChanges(2),Oe}clone(){return(0,re.it)(this._observable),this._createNewInstance({items:this._items.map(Me.d9)})}concat(...Oe){(0,re.it)(this._observable);const qe=Oe.map(se);return this._createNewInstance({items:this._items.concat(...qe)})}drain(Oe,qe){if((0,re.it)(this._observable),!this.length||this._emitBeforeChanges(2))return;const He=(0,Ce.j0)(this._splice(0,this.length)),Qe=He.length;for(let ot=0;ot<Qe;ot++)Oe.call(qe,He[ot],ot,He);this._emitAfterChanges(2)}every(Oe,qe){return(0,re.it)(this._observable),this._items.every(Oe,qe)}filter(Oe,qe){let He;return(0,re.it)(this._observable),He=2===arguments.length?this._items.filter(Oe,qe):this._items.filter(Oe),this._createNewInstance({items:He})}find(Oe,qe){return(0,re.it)(this._observable),this._items.find(Oe,qe)}findIndex(Oe,qe){return(0,re.it)(this._observable),this._items.findIndex(Oe,qe)}flatten(Oe,qe){(0,re.it)(this._observable);const He=[];return ge(He,this,Oe,qe),new Ae(He)}forEach(Oe,qe){return(0,re.it)(this._observable),this._items.forEach(Oe,qe)}getItemAt(Oe){return(0,re.it)(this._observable),this._items[Oe]}getNextIndex(Oe){(0,re.it)(this._observable);const qe=this.length;return(Oe=null==Oe?qe:Oe)<0?Oe=0:Oe>qe&&(Oe=qe),Oe}includes(Oe,qe=0){return(0,re.it)(this._observable),this._items.includes(Oe,qe)}indexOf(Oe,qe=0){return(0,re.it)(this._observable),this._items.indexOf(Oe,qe)}join(Oe=","){return(0,re.it)(this._observable),this._items.join(Oe)}lastIndexOf(Oe,qe=this.length-1){return(0,re.it)(this._observable),this._items.lastIndexOf(Oe,qe)}map(Oe,qe){(0,re.it)(this._observable);const He=this._items.map(Oe,qe);return new Ae({items:He})}reorder(Oe,qe=this.length-1){(0,re.it)(this._observable);const He=this.indexOf(Oe);if(-1!==He){if(qe<0?qe=0:qe>=this.length&&(qe=this.length-1),He!==qe){if(this._emitBeforeChanges(4))return Oe;this._splice(He,1),this._splice(qe,0,Oe),this._emitAfterChanges(4)}return Oe}}pop(){if((0,re.it)(this._observable),!this.length||this._emitBeforeChanges(2))return;const Oe=fe(this._splice(this.length-1,1));return this._emitAfterChanges(2),Oe}push(...Oe){return(0,re.it)(this._observable),this._emitBeforeChanges(1)||(this._splice(this.length,0,...Oe),this._emitAfterChanges(1)),this.length}reduce(Oe,qe){(0,re.it)(this._observable);const He=this._items;return 2===arguments.length?He.reduce(Oe,qe):He.reduce(Oe)}reduceRight(Oe,qe){(0,re.it)(this._observable);const He=this._items;return 2===arguments.length?He.reduceRight(Oe,qe):He.reduceRight(Oe)}remove(Oe){return(0,re.it)(this._observable),this.removeAt(this.indexOf(Oe))}removeAt(Oe){if((0,re.it)(this._observable),Oe<0||Oe>=this.length||this._emitBeforeChanges(2))return;const qe=fe(this._splice(Oe,1));return this._emitAfterChanges(2),qe}removeMany(Oe){if((0,re.it)(this._observable),!Oe||!Oe.length||this._emitBeforeChanges(2))return[];const qe=Oe instanceof Ae?Oe.toArray():Oe,He=this._items,Qe=[],ot=qe.length;for(let Ne=0;Ne<ot;Ne++){const $e=He.indexOf(qe[Ne]);if($e>-1){const nt=1+Ee(qe,He,Ne+1,$e+1),ut=this._splice($e,nt);ut&&ut.length>0&&Qe.push.apply(Qe,ut),Ne+=nt-1}}return this._emitAfterChanges(2),Qe}reverse(){if((0,re.it)(this._observable),this._emitBeforeChanges(4))return this;const Oe=this._splice(0,this.length);return Oe&&(Oe.reverse(),this._splice(0,0,...Oe)),this._emitAfterChanges(4),this}shift(){if((0,re.it)(this._observable),!this.length||this._emitBeforeChanges(2))return;const Oe=fe(this._splice(0,1));return this._emitAfterChanges(2),Oe}slice(Oe=0,qe=this.length){return(0,re.it)(this._observable),this._createNewInstance({items:this._items.slice(Oe,qe)})}some(Oe,qe){return(0,re.it)(this._observable),this._items.some(Oe,qe)}sort(Oe){if((0,re.it)(this._observable),!this.length||this._emitBeforeChanges(4))return this;const qe=(0,Ce.j0)(this._splice(0,this.length));return arguments.length?qe.sort(Oe):qe.sort(),this._splice(0,0,...qe),this._emitAfterChanges(4),this}splice(Oe,qe,...He){(0,re.it)(this._observable);const Qe=(qe?2:0)|(He.length?1:0);if(this._emitBeforeChanges(Qe))return[];const ot=this._splice(Oe,qe,...He)||[];return this._emitAfterChanges(Qe),ot}toArray(){return(0,re.it)(this._observable),this._items.slice()}toJSON(){return(0,re.it)(this._observable),this.toArray()}toLocaleString(){return(0,re.it)(this._observable),this._items.toLocaleString()}toString(){return(0,re.it)(this._observable),this._items.toString()}unshift(...Oe){return(0,re.it)(this._observable),!Oe.length||this._emitBeforeChanges(1)||(this._splice(0,0,...Oe),this._emitAfterChanges(1)),this.length}_createNewInstance(Oe){return new this.constructor(Oe)}_splice(Oe,qe,...He){const Qe=this._items,ot=this.constructor.prototype.itemType;let Ne,Se;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=(0,ye.Os)(()=>this._dispatchChange())),qe){if(Se=Qe.splice(Oe,qe),this.hasEventListener("before-remove")){const $e=le.acquire();$e.target=this,$e.cancellable=!0;for(let nt=0,ut=Se.length;nt<ut;nt++)Ne=Se[nt],$e.reset(Ne),this.emit("before-remove",$e),$e.defaultPrevented&&(Se.splice(nt,1),Qe.splice(Oe,0,Ne),Oe+=1,nt-=1,ut-=1);le.release($e)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const $e=le.acquire();$e.target=this,$e.cancellable=!1;const nt=Se.length;for(let ut=0;ut<nt;ut++)$e.reset(Se[ut]),this.emit("after-remove",$e);le.release($e)}}if(He&&He.length){if(ot){const xt=[];for(const Ze of He){const et=ot.ensureType(Ze);null==et&&null!=Ze||xt.push(et)}He=xt}const $e=this.hasEventListener("before-add"),nt=this.hasEventListener("after-add"),ut=Oe===this.length;if($e||nt){const xt=le.acquire();xt.target=this,xt.cancellable=!0;const Ze=le.acquire();Ze.target=this,Ze.cancellable=!1;for(const et of He)$e?(xt.reset(et),this.emit("before-add",xt),xt.defaultPrevented||(ut?Qe.push(et):Qe.splice(Oe++,0,et),this._set("length",Qe.length),nt&&(Ze.reset(et),this.emit("after-add",Ze)))):(ut?Qe.push(et):Qe.splice(Oe++,0,et),this._set("length",Qe.length),Ze.reset(et),this.emit("after-add",Ze));le.release(Ze),le.release(xt)}else{if(ut)for(const xt of He)Qe.push(xt);else Qe.splice(Oe,0,...He);this._set("length",Qe.length)}}return(He&&He.length||Se&&Se.length)&&this._notifyChangeEvent(He,Se),Se}_emitBeforeChanges(Oe){let qe=!1;if(this.hasEventListener("before-changes")){const He=le.acquire();He.target=this,He.cancellable=!0,He.type=Oe,this.emit("before-changes",He),qe=He.defaultPrevented,le.release(He)}return qe}_emitAfterChanges(Oe){if(this.hasEventListener("after-changes")){const qe=le.acquire();qe.target=this,qe.cancellable=!1,qe.type=Oe,this.emit("after-changes",qe),le.release(qe)}this._observable.notify()}_notifyChangeEvent(Oe,qe){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:Oe,removed:qe})}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),!this._notifications)return;const Oe=this._notifications;this._notifications=null;for(const qe of Oe){const He=qe.changes;Ue.clear(),Fe.clear(),Ve.clear();for(const{added:nt,removed:ut}of He){if(nt)if(0===Ve.size&&0===Fe.size)for(const xt of nt)Ue.add(xt);else for(const xt of nt)Fe.has(xt)?(Ve.add(xt),Fe.delete(xt)):Ve.has(xt)||Ue.add(xt);if(ut)if(0===Ve.size&&0===Ue.size)for(const xt of ut)Fe.add(xt);else for(const xt of ut)Ue.has(xt)?Ue.delete(xt):(Ve.delete(xt),Fe.add(xt))}const Qe=J.Z.acquire();Ue.forEach(nt=>{Qe.push(nt)});const ot=J.Z.acquire();Fe.forEach(nt=>{ot.push(nt)});const Ne=this._items,Se=qe.items,$e=J.Z.acquire();if(Ve.forEach(nt=>{Se.indexOf(nt)!==Ne.indexOf(nt)&&$e.push(nt)}),qe.listeners&&(Qe.length||ot.length||$e.length)){const nt={target:this,added:Qe,removed:ot,moved:$e},ut=qe.listeners.length;for(let xt=0;xt<ut;xt++){const Ze=qe.listeners[xt];Ze.removed||Ze.callback.call(this,nt)}}J.Z.release(Qe),J.Z.release(ot),J.Z.release($e)}Ue.clear(),Fe.clear(),Ve.clear()}};je.ofType=Oe=>{if(!Oe)return Ae;if(Le.has(Oe))return Le.get(Oe);let qe=null;if("function"==typeof Oe)qe=Oe.prototype.declaredClass;else if(Oe.base)qe=Oe.base.prototype.declaredClass;else for(const ot in Oe.typeMap){const Ne=Oe.typeMap[ot].prototype.declaredClass;qe?qe+=` | ${Ne}`:qe=Ne}let He=class extends Ae{};He=(0,z._)([(0,be.j)(`esri.core.Collection<${qe}>`)],He);const Qe={Type:Oe,ensureType:"function"==typeof Oe?(0,he.se)(Oe):(0,he.N7)(Oe)};return Object.defineProperty(He.prototype,"itemType",{value:Qe}),Le.set(Oe,He),He},(0,z._)([(0,ce.Cb)()],je.prototype,"length",void 0),(0,z._)([(0,ce.Cb)()],je.prototype,"items",null),je=Ae=(0,z._)([(0,be.j)("esri.core.Collection")],je);var ve=je},46882:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>xe});var z=N(17626),J=N(7093),Te=N(80542),Me=N(62208),Ce=N(77712),re=(N(8314),N(90912),N(63290),N(61403)),ce=N(21352);let be=class extends((0,Te.p)(J.Z)){constructor(de){super(de),this.getCollections=null}initialize(){this.handles.add((0,ce.EH)(()=>this.refresh()))}destroy(){this.getCollections=null}refresh(){const de=(0,Me.pC)(this.getCollections)?this.getCollections():null;if((0,Me.Wi)(de))return void this.removeAll();let Ae=0;for(const me of de)(0,Me.pC)(me)&&(Ae=this._processCollection(Ae,me));this.splice(Ae,this.length)}_createNewInstance(de){return new J.Z(de)}_processCollection(de,Ae){if(!Ae)return de;const me=this.itemFilterFunction?this.itemFilterFunction:le=>!!le;for(const le of Ae)if(le){if(me(le)){const oe=this.indexOf(le,de);oe>=0?oe!==de&&this.reorder(le,de):this.add(le,de),++de}if(this.getChildrenFunction){const oe=this.getChildrenFunction(le);if(Array.isArray(oe))for(const se of oe)de=this._processCollection(de,se);else de=this._processCollection(de,oe)}}return de}};(0,z._)([(0,Ce.Cb)()],be.prototype,"getCollections",void 0),(0,z._)([(0,Ce.Cb)()],be.prototype,"getChildrenFunction",void 0),(0,z._)([(0,Ce.Cb)()],be.prototype,"itemFilterFunction",void 0),be=(0,z._)([(0,re.j)("esri.core.CollectionFlattener")],be);var xe=be},26584:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>Me});var z=N(58817),J=N(63290),Te=N(90888);class Me extends Te.Z{constructor(Ie,ye,he){if(super(Ie,ye,he),!(this instanceof Me))return new Me(Ie,ye,he)}toJSON(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(Ie,ye)=>{if(ye&&"object"==typeof ye&&"function"==typeof ye.toJSON)return ye;try{return(0,z.d9)(ye)}catch(he){return"[object]"}}))}}catch(Ie){throw J.Z.getLogger("esri.core.Error").error(Ie),Ie}return{name:this.name,message:this.message,details:this.details}}static fromJSON(Ie){return new Me(Ie.name,Ie.message,Ie.details)}}Me.prototype.type="error"},61885:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>Ie});var z=N(17626),J=N(61458),Te=N(54024),Me=N(61403);class Ce{constructor(){this._emitter=new Ce.EventEmitter(this)}emit(he,re){return this._emitter.emit(he,re)}on(he,re){return this._emitter.on(he,re)}once(he,re){return this._emitter.once(he,re)}hasEventListener(he){return this._emitter.hasEventListener(he)}}!function(ye){class he{constructor(be=null){this.target=be,this._listenersMap=null}clear(){this._listenersMap&&this._listenersMap.clear(),this._listenersMap=null}emit(be,xe){const de=this._listenersMap&&this._listenersMap.get(be);if(!de)return!1;const Ae=this.target||this;return[...de].forEach(me=>{me.call(Ae,xe)}),de.length>0}on(be,xe){if(Array.isArray(be)){const Ae=be.map(me=>this.on(me,xe));return(0,Te.AL)(Ae)}if(be.indexOf(",")>-1)throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=new Map);const de=this._listenersMap.get(be)||[];return de.push(xe),this._listenersMap.set(be,de),{remove:()=>{const Ae=this._listenersMap&&this._listenersMap.get(be)||[],me=Ae.indexOf(xe);me>=0&&Ae.splice(me,1)}}}once(be,xe){const de=this.on(be,Ae=>{de.remove(),xe.call(null,Ae)});return de}hasEventListener(be){const xe=this._listenersMap&&this._listenersMap.get(be);return null!=xe&&xe.length>0}}ye.EventEmitter=he,ye.EventedMixin=ce=>{let be=class extends ce{constructor(){super(...arguments),this._emitter=new he}destroy(){this._emitter.clear()}emit(xe,de){return this._emitter.emit(xe,de)}on(xe,de){return this._emitter.on(xe,de)}once(xe,de){return this._emitter.once(xe,de)}hasEventListener(xe){return this._emitter.hasEventListener(xe)}};return be=(0,z._)([(0,Me.j)("esri.core.Evented")],be),be};let re=class extends J.Z{constructor(){super(...arguments),this._emitter=new Ce.EventEmitter(this)}destroy(){this._emitter.clear()}emit(ce,be){return this._emitter.emit(ce,be)}on(ce,be){return this._emitter.on(ce,be)}once(ce,be){return this._emitter.once(ce,be)}hasEventListener(ce){return this._emitter.hasEventListener(ce)}};re=(0,z._)([(0,Me.j)("esri.core.Evented")],re),ye.EventedAccessor=re}(Ce||(Ce={}));var Ie=Ce},80542:(hi,lt,N)=>{"use strict";N.d(lt,{r:()=>he,p:()=>ye});var z=N(17626),J=N(61458),Te=N(72392),Me=N(77712),Ce=N(61403),Ie=N(70257);const ye=re=>{let ce=class extends re{destroy(){this.destroyed||(this.handles.destroy(),this.updatingHandles.destroy())}get handles(){return this._get("handles")||new Te.Z}get updatingHandles(){return this._get("updatingHandles")||new Ie.t}};return(0,z._)([(0,Me.Cb)({readOnly:!0})],ce.prototype,"handles",null),(0,z._)([(0,Me.Cb)({readOnly:!0})],ce.prototype,"updatingHandles",null),ce=(0,z._)([(0,Ce.j)("esri.core.HandleOwner")],ce),ce};let he=class extends(ye(J.Z)){};he=(0,z._)([(0,Ce.j)("esri.core.HandleOwner")],he)},72392:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>he});var z=N(17626),J=N(61458),Te=N(7093),Me=N(62208),Ce=N(77712),Ie=N(61403);let ye=class extends J.Z{constructor(re){super(re),this._groups=new Map}destroy(){this.removeAll()}get size(){let re=0;return this._groups.forEach(ce=>{re+=ce.length}),re}add(re,ce){if(!this._isHandle(re)&&!Array.isArray(re)&&!Te.Z.isCollection(re))return this;const be=this._getOrCreateGroup(ce);return Array.isArray(re)||Te.Z.isCollection(re)?re.forEach(xe=>this._isHandle(xe)&&be.push(xe)):be.push(re),this.notifyChange("size"),this}forEach(re,ce){if("function"==typeof re)this._groups.forEach(be=>be.forEach(re));else{const be=this._getGroup(re);be&&ce&&be.forEach(ce)}}has(re){return this._groups.has(this._ensureGroupKey(re))}remove(re){if(Array.isArray(re)||Te.Z.isCollection(re))return re.forEach(this.remove,this),this;if(!this.has(re))return this;const ce=this._getGroup(re);for(let be=0;be<ce.length;be++)ce[be].remove();return this._deleteGroup(re),this.notifyChange("size"),this}removeAll(){return this._groups.forEach(re=>{for(let ce=0;ce<re.length;ce++)re[ce].remove()}),this._groups.clear(),this.notifyChange("size"),this}_isHandle(re){return re&&!!re.remove}_getOrCreateGroup(re){if(this.has(re))return this._getGroup(re);const ce=[];return this._groups.set(this._ensureGroupKey(re),ce),ce}_getGroup(re){return(0,Me.j0)(this._groups.get(this._ensureGroupKey(re)))}_deleteGroup(re){return this._groups.delete(this._ensureGroupKey(re))}_ensureGroupKey(re){return re||"_default_"}};(0,z._)([(0,Ce.Cb)({readOnly:!0})],ye.prototype,"size",null),ye=(0,z._)([(0,Ie.j)("esri.core.Handles")],ye);var he=ye},61996:(hi,lt,N)=>{"use strict";N.d(lt,{I:()=>Me});var z=N(17626),J=N(61403);let Te=0;const Me=Ie=>{let ye=class extends Ie{constructor(...he){super(...he),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+Te++})}};return ye=(0,z._)([(0,J.j)("esri.core.Identifiable")],ye),ye};let Ce=class extends(Me(class{})){};Ce=(0,z._)([(0,J.j)("esri.core.Identifiable")],Ce)},78498:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>J});var z=N(1036);class J{constructor(Me,Ce){this._storage=new z.WJ,this._storage.maxSize=Me,Ce&&this._storage.registerRemoveFunc("",Ce)}put(Me,Ce){this._storage.put(Me,Ce,1,1)}pop(Me){return this._storage.pop(Me)}get(Me){return this._storage.get(Me)}clear(){this._storage.clearAll()}destroy(){this._storage.destroy()}}},86162:(hi,lt,N)=>{"use strict";N.d(lt,{wq:()=>re,eC:()=>Ie});var z=N(17626),J=N(61458),Te=N(29338),Me=N(36054),Ce=N(61403);const Ie=ce=>{let be=class extends ce{constructor(...xe){super(...xe)}read(xe,de){(0,Te.ij)(this,xe,de)}write(xe={},de){return(0,Me.cW)(this,xe,de)}toJSON(xe){return this.write({},xe)}static fromJSON(xe,de){return ye.call(this,xe,de)}};return be=(0,z._)([(0,Ce.j)("esri.core.JSONSupport")],be),be.prototype.toJSON.isDefaultToJSON=!0,be};function ye(ce,be){if(!ce)return null;if(ce.declaredClass)throw new Error("JSON object is already hydrated");const xe=new this;return xe.read(ce,be),xe}let re=class extends(Ie(J.Z)){};re=(0,z._)([(0,Ce.j)("esri.core.JSONSupport")],re)},93961:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>J});var z=N(1036);class J{constructor(Me,Ce){this._storage=new z.WJ,this._storage.maxSize=Me,Ce&&this._storage.registerRemoveFunc("",Ce)}put(Me,Ce,Ie){this._storage.put(Me,Ce,Ie,1)}pop(Me){return this._storage.pop(Me)}get(Me){return this._storage.get(Me)}clear(){this._storage.clearAll()}destroy(){this._storage.destroy()}get maxSize(){return this._storage.maxSize}set maxSize(Me){this._storage.maxSize=Me}}},47996:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>Ae});var z=N(17626),J=N(26584),Te=N(60330),Me=N(10699),Ce=N(14889),Ie=N(77712),ye=N(61403);const xe=me=>{let le=class extends me{constructor(...oe){super(...oe),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(se=>{const fe=this.load.bind(this);this.load=Ee=>{const ge=new Promise((Ue,Fe)=>{const Ve=(0,Me.$F)(Ee,Fe);this.destroyed&&Fe(new J.Z("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this._promiseProps.when(Ue,Fe).finally(()=>{Ve&&Ve.remove()})});if("not-loaded"===this.loadStatus){this._set("loadStatus","loading");const Ue=this._loadController=(0,Me.yi)();fe({signal:Ue.signal}),(0,Me.fu)(Ue.signal,()=>{this._promiseProps.abort()})}return se(),ge}})),this.when(()=>{this._set("loadStatus","loaded"),this._loadController=null},se=>{this._set("loadStatus","failed"),this._set("loadError",se),this._loadController=null})}get loaded(){return"loaded"===this.loadStatus}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){var oe;return this.isFulfilled()||(this._set("loadError",new J.Z("load:cancelled","Cancelled")),null==(oe=this._loadController)||oe.abort()),this}};return(0,z._)([(0,Ie.Cb)({readOnly:!0})],le.prototype,"loaded",null),(0,z._)([(0,Ie.Cb)({readOnly:!0})],le.prototype,"loadError",void 0),(0,z._)([(0,Ie.Cb)()],le.prototype,"loadStatus",void 0),(0,z._)([(0,Ie.Cb)({type:[Ce.Z],readOnly:!0})],le.prototype,"loadWarnings",null),le=(0,z._)([(0,ye.j)("esri.core.Loadable")],le),le};let de=class extends(xe(Te.D)){};var me;de=(0,z._)([(0,ye.j)("esri.core.Loadable")],de),(me=de||(de={})).LoadableMixin=xe,me.isLoadable=function(oe){return!(!oe||!oe.load)};var Ae=de},63290:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>Ie});var z=N(59318),Te=(N(8314),N(62208)),Me=N(77275);const Ce={info:0,warn:1,error:2,none:3};class Ie{constructor(he){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},null!=he.level&&(this.level=he.level),null!=he.writer&&(this.writer=he.writer),this._module=he.module,Ie._loggers[this.module]=this;const re=this.module.lastIndexOf(".");-1!==re&&(this._parent=Ie.getLogger(this.module.slice(0,re)))}get module(){return this._module}get parent(){return this._parent}error(...he){this._log("error","always",...he)}warn(...he){this._log("warn","always",...he)}info(...he){this._log("info","always",...he)}errorOnce(...he){this._log("error","once",...he)}warnOnce(...he){this._log("warn","once",...he)}infoOnce(...he){this._log("info","once",...he)}errorOncePerTick(...he){this._log("error","oncePerTick",...he)}warnOncePerTick(...he){this._log("warn","oncePerTick",...he)}infoOncePerTick(...he){this._log("info","oncePerTick",...he)}get test(){const he=this;return{loggedMessages:he._loggedMessages,clearLoggedWarnings:()=>he._loggedMessages.warn.clear()}}static get testSingleton(){return{resetLoggers(he={}){const re=Ie._loggers;return Ie._loggers=he,re},set throttlingDisabled(he){Ie._throttlingDisabled=he}}}static getLogger(he){let re=Ie._loggers[he];return re||(re=new Ie({module:he})),re}_log(he,re,...ce){if(this._matchLevel(he)){if("always"!==re&&!Ie._throttlingDisabled){const be=this._argsToKey(ce),xe=this._loggedMessages[he].get(be);if("once"===re&&null!=xe||"oncePerTick"===re&&xe&&xe>=Ie._tickCounter)return;this._loggedMessages[he].set(be,Ie._tickCounter),Ie._scheduleTickCounterIncrement()}for(const be of z.Z.log.interceptors)if(be(he,this.module,...ce))return;this._inheritedWriter()(he,this.module,...ce)}}_parentWithMember(he,re){let ce=this;for(;(0,Te.pC)(ce);){const be=ce[he];if((0,Te.pC)(be))return be;ce=ce.parent}return re}_inheritedWriter(){return this._parentWithMember("writer",this._consoleWriter)}_consoleWriter(he,re,...ce){console[he](`[${re}]`,...ce)}_matchLevel(he){return Ce[this._parentWithMember("level",z.Z.log.level?z.Z.log.level:"warn")]<=Ce[he]}_argsToKey(...he){return(0,Me.hP)(JSON.stringify(he,(ce,be)=>"object"!=typeof be||Array.isArray(be)?be:"[Object]"))}static _scheduleTickCounterIncrement(){Ie._tickCounterScheduled||(Ie._tickCounterScheduled=!0,Promise.resolve().then(()=>{Ie._tickCounter++,Ie._tickCounterScheduled=!1}))}}Ie._loggers={},Ie._tickCounter=0,Ie._tickCounterScheduled=!1,Ie._throttlingDisabled=!1},88159:(hi,lt,N)=>{"use strict";function z(Me,Ce){for(const[Ie,ye]of Me)if(Ce(ye,Ie))return!0;return!1}function Te(Me,Ce,Ie){const ye=Me.get(Ce);if(void 0!==ye)return ye;const he=Ie();return Me.set(Ce,he),he}N.d(lt,{s1:()=>Te,oE:()=>z})},1036:(hi,lt,N)=>{"use strict";N.d(lt,{Xq:()=>Te,WJ:()=>Me});var z=N(77029);class Te{constructor(Ie,ye,he){this._namespace=Ie,this._storage=ye,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=":",he&&(this._storage.registerRemoveFunc(this._namespace,he),this._removeFunc=!0)}destroy(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this),this._storage=null}get namespace(){return this._namespace.slice(0,-1)}get hitRate(){return this._hit/(this._hit+this._miss)}get size(){return this._storage.size}get maxSize(){return this._storage.maxSize}resetHitRate(){this._hit=this._miss=0}put(Ie,ye,he,re=0){this._storage.put(this._namespace+Ie,ye,he,re)}get(Ie){const ye=this._storage.get(this._namespace+Ie);return void 0===ye?++this._miss:++this._hit,ye}pop(Ie){const ye=this._storage.pop(this._namespace+Ie);return void 0===ye?++this._miss:++this._hit,ye}updateSize(Ie,ye,he){this._storage.updateSize(this._namespace+Ie,ye,he)}clear(){this._storage.clear(this._namespace)}clearAll(){this._storage.clearAll()}getStats(){return this._storage.getStats()}resetStats(){this._storage.resetStats()}}class Me{constructor(Ie=10485760){this._maxSize=Ie,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new z.Z,this._users=new z.Z}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(Ie){this._users.push(Ie)}deregister(Ie){this._users.removeUnordered(Ie)}registerRemoveFunc(Ie,ye){this._removeFuncs.push([Ie,ye])}deregisterRemoveFunc(Ie){this._removeFuncs.filterInPlace(ye=>ye[0]!==Ie)}get size(){return this._size}get maxSize(){return this._maxSize}set maxSize(Ie){this._maxSize=Math.max(Ie,0),this._checkSizeLimit()}put(Ie,ye,he,re){const ce=this._db.get(Ie);if(ce&&(this._size-=ce.size,this._db.delete(Ie),ce.entry!==ye&&this._notifyRemoved(Ie,ce.entry)),he>this._maxSize)return void this._notifyRemoved(Ie,ye);if(void 0===ye)return void console.warn("Refusing to cache undefined entry ");if(!he||he<0)return void console.warn("Refusing to cache entry with invalid size "+he);const be=1+Math.max(re,-3)- -3;this._db.set(Ie,{entry:ye,size:he,lifetime:be,lives:be}),this._size+=he,this._checkSizeLimit()}updateSize(Ie,ye,he){const re=this._db.get(Ie);if(re&&re.entry===ye){if(this._size-=re.size,he>this._maxSize)return this._db.delete(Ie),void this._notifyRemoved(Ie,ye);re.size=he,this._size+=he,this._checkSizeLimit()}}pop(Ie){const ye=this._db.get(Ie);if(ye)return this._size-=ye.size,this._db.delete(Ie),++this._hit,ye.entry;++this._miss}get(Ie){const ye=this._db.get(Ie);if(void 0!==ye)return this._db.delete(Ie),ye.lives=ye.lifetime,this._db.set(Ie,ye),++this._hit,ye.entry;++this._miss}getStats(){const Ie={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},ye={},he=new Array;this._db.forEach((be,xe)=>{const de=be.lifetime;he[de]=(he[de]||0)+be.size,this._users.forAll(Ae=>{const me=Ae.namespace;xe.startsWith(me)&&(ye[me]=(ye[me]||0)+be.size)})});const re={};this._users.forAll(be=>{const xe=be.namespace;!isNaN(be.hitRate)&&be.hitRate>0?(ye[xe]=ye[xe]||0,re[xe]=Math.round(100*be.hitRate)+"%"):re[xe]="0%"});const ce=Object.keys(ye);ce.forEach(be=>ye[be]=ye[be]/this._size*100),ce.sort((be,xe)=>ye[xe]-ye[be]),ce.forEach(be=>Ie[be]=Math.round(ye[be])+"% / "+re[be]);for(let be=he.length-1;be>=0;--be){const xe=he[be];xe&&(Ie["Priority "+(be+-3-1)]=Math.round(xe/this.size*100)+"%")}return Ie}resetStats(){this._hit=this._miss=0,this._users.forAll(Ie=>Ie.resetHitRate())}clear(Ie){this._db.forEach((ye,he)=>{he.startsWith(Ie)&&(this._size-=ye.size,this._db.delete(he),this._notifyRemoved(he,ye.entry))})}clearAll(){this._db.forEach((Ie,ye)=>this._notifyRemoved(ye,Ie.entry)),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemoved(Ie,ye){this._removeFuncs.forAll(he=>{Ie.startsWith(he[0])&&he[1](ye)})}_checkSizeLimit(){if(!(this._size<=this._maxSize))for(const[Ie,ye]of this._db)if(this._db.delete(Ie),ye.lives<=1?(this._size-=ye.size,this._notifyRemoved(Ie,ye.entry)):(--ye.lives,this._db.set(Ie,ye)),this._size<=.9*this.maxSize)return}}},90888:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>Te});var z=N(94113);class Te{constructor(Ce,Ie,ye){this.name=Ce,this.details=ye,this.message=void 0,this instanceof Te&&(this.message=Ie&&function(Me,Ce){return Me.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,function(Ie,ye){if(""===ye)return"$";const he=(0,z.hS)(ye,Ce),re=null==he?"":he;if(void 0===re)throw new Error(`could not find key "${ye}" in template`);return re.toString()})}(Ie,ye)||"")}toString(){return"["+this.name+"]: "+this.message}}},99959:(hi,lt,N)=>{"use strict";N.d(lt,{R:()=>le,w:()=>oe});var z=N(17626),J=N(61458),Te=N(62208),Me=N(58817),Ce=N(31283);class Ie{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(Ce.kk),this._values=new Map}clone(fe){const Ee=new Ie,ge=this._originStores[0];ge&&ge.forEach((Ue,Fe)=>{Ee.set(Fe,(0,Me.d9)(Ue),0)});for(let Ue=2;Ue<Ce.kk;Ue++){const Fe=this._originStores[Ue];Fe&&Fe.forEach((Ve,Le)=>{fe&&fe.has(Le)||Ee.set(Le,(0,Me.d9)(Ve),Ue)})}return Ee}get(fe,Ee){const ge=void 0===Ee?this._values:this._originStores[Ee];return ge?ge.get(fe):void 0}keys(fe){const Ee=null==fe?this._values:this._originStores[fe];return Ee?[...Ee.keys()]:[]}set(fe,Ee,ge=6){let Ue=this._originStores[ge];if(Ue||(Ue=new Map,this._originStores[ge]=Ue),Ue.set(fe,Ee),!this._values.has(fe)||(0,Te.j0)(this._propertyOriginMap.get(fe))<=ge){const Fe=this._values.get(fe);return this._values.set(fe,Ee),this._propertyOriginMap.set(fe,ge),Fe!==Ee}return!1}delete(fe,Ee=6){const ge=this._originStores[Ee];if(!ge)return;const Ue=ge.get(fe);if(ge.delete(fe),this._values.has(fe)&&this._propertyOriginMap.get(fe)===Ee){this._values.delete(fe);for(let Fe=Ee-1;Fe>=0;Fe--){const Ve=this._originStores[Fe];if(Ve&&Ve.has(fe)){this._values.set(fe,Ve.get(fe)),this._propertyOriginMap.set(fe,Fe);break}}}return Ue}has(fe,Ee){const ge=void 0===Ee?this._values:this._originStores[Ee];return!!ge&&ge.has(fe)}revert(fe,Ee){for(;Ee>0&&!this.has(fe,Ee);)--Ee;const ge=this._originStores[Ee],Ue=ge&&ge.get(fe),Fe=this._values.get(fe);return this._values.set(fe,Ue),this._propertyOriginMap.set(fe,Ee),Fe!==Ue}originOf(fe){return this._propertyOriginMap.get(fe)||0}forEach(fe){this._values.forEach(fe)}}var ye=N(29338),he=N(52323),re=N(61403);const ce=se=>{let fe=class extends se{constructor(...Ee){super(...Ee);const ge=(0,Te.j0)((0,he.vw)(this)),Ue=ge.metadatas,Fe=ge.store,Ve=new Ie;ge.store=Ve,Fe.keys().forEach(Le=>{Ve.set(Le,Fe.get(Le),0)}),Object.keys(Ue).forEach(Le=>{ge.internalGet(Le)&&Ve.set(Le,ge.internalGet(Le),0)})}read(Ee,ge){(0,ye.ij)(this,Ee,ge)}getAtOrigin(Ee,ge){const Ue=be(this),Fe=(0,Ce.M9)(ge);if("string"==typeof Ee)return Ue.get(Ee,Fe);const Ve={};return Ee.forEach(Le=>{Ve[Le]=Ue.get(Le,Fe)}),Ve}originOf(Ee){return(0,Ce.x3)(this.originIdOf(Ee))}originIdOf(Ee){return be(this).originOf(Ee)}revert(Ee,ge){const Ue=be(this),Fe=(0,Ce.M9)(ge),Ve=(0,he.vw)(this);let Le;Le="string"==typeof Ee?"*"===Ee?Ue.keys(Fe):[Ee]:Ee,Le.forEach(tt=>{Ve.invalidate(tt),Ue.revert(tt,Fe),Ve.commit(tt)})}};return fe=(0,z._)([(0,re.j)("esri.core.ReadOnlyMultiOriginJSONSupport")],fe),fe};function be(se){return(0,he.vw)(se).store}let xe=class extends(ce(J.Z)){};xe=(0,z._)([(0,re.j)("esri.core.ReadOnlyMultiOriginJSONSupport")],xe);var de=N(36054);const Ae=se=>{let fe=class extends se{constructor(...Ee){super(...Ee)}clear(Ee,ge="user"){return me(this).delete(Ee,(0,Ce.M9)(ge))}write(Ee={},ge){return(0,de.cW)(this,Ee=Ee||{},ge),Ee}setAtOrigin(Ee,ge,Ue){(0,he.vw)(this).setAtOrigin(Ee,ge,(0,Ce.M9)(Ue))}removeOrigin(Ee){const ge=me(this),Ue=(0,Ce.M9)(Ee),Fe=ge.keys(Ue);for(const Ve of Fe)ge.originOf(Ve)===Ue&&ge.set(Ve,ge.get(Ve,Ue),6)}updateOrigin(Ee,ge){const Ue=me(this),Fe=(0,Ce.M9)(ge),Ve=this.get(Ee);for(let Le=Fe+1;Le<Ce.kk;++Le)Ue.delete(Ee,Le);Ue.set(Ee,Ve,Fe)}toJSON(Ee){return this.write({},Ee)}};return fe=(0,z._)([(0,re.j)("esri.core.WriteableMultiOriginJSONSupport")],fe),fe.prototype.toJSON.isDefaultToJSON=!0,fe};function me(se){return(0,he.vw)(se).store}const le=se=>{let fe=class extends(Ae(ce(se))){constructor(...Ee){super(...Ee)}};return fe=(0,z._)([(0,re.j)("esri.core.MultiOriginJSONSupport")],fe),fe};let oe=class extends(le(J.Z)){};oe=(0,z._)([(0,re.j)("esri.core.MultiOriginJSONSupport")],oe)},27899:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>Te});let Te=(()=>{class Me{constructor(Ie,ye,he,re=1,ce=0){if(this.ctor=Ie,this.acquireFunction=ye,this.releaseFunction=he,this.allocationSize=re,this._pool=new Array(ce),this._initialSize=ce,this.ctor)for(let be=0;be<ce;be++)this._pool[be]=new this.ctor;this.allocationSize=Math.max(re,1)}destroy(){this.prune(0)}acquire(...Ie){let ye;if(Me.test.disabled)ye=new this.ctor;else{if(0===this._pool.length){const he=this.allocationSize;for(let re=0;re<he;re++)this._pool[re]=new this.ctor}ye=this._pool.pop()}return this.acquireFunction?this.acquireFunction(ye,...Ie):function(Me){return Me&&Me.acquire&&"function"==typeof Me.acquire}(ye)&&ye.acquire(...Ie),ye}release(Ie){Ie&&!Me.test.disabled&&(this.releaseFunction?this.releaseFunction(Ie):function(Me){return Me&&Me.release&&"function"==typeof Me.release}(Ie)&&Ie.release(),this._pool.push(Ie))}prune(Ie=this._initialSize){if(!(Ie>=this._pool.length)){for(let ye=Ie;ye<this._pool.length;++ye)this._dispose(this._pool[ye]);this._pool.length=Ie}}_dispose(Ie){Ie.dispose&&"function"==typeof Ie.dispose&&Ie.dispose()}}return Me.test={disabled:!1},Me})()},97535:(hi,lt,N)=>{"use strict";N.d(lt,{x:()=>Te});var z=N(62208),J=N(79682);class Te{constructor(Ie){this.allocator=Ie,this.items=[],this.itemsPtr=0,this.tickHandle=J.Z.before(()=>this.reset()),this.grow()}destroy(){this.tickHandle&&(this.tickHandle.remove(),this.tickHandle=(0,z.Bd)(this.tickHandle)),this.items=(0,z.Bd)(this.items)}get(){return 0===this.itemsPtr&&(0,J.Z)(()=>{}),this.itemsPtr===this.items.length&&this.grow(),this.items[this.itemsPtr++]}reset(){const Ie=Math.min(3*Math.max(8,this.itemsPtr),this.itemsPtr+3*Me);this.items.length=Math.min(Ie,this.items.length),this.itemsPtr=0}grow(){for(let Ie=0;Ie<Math.max(8,Math.min(this.items.length,Me));Ie++)this.items.push(this.allocator())}}const Me=1024},73362:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>J});class J{constructor(Me,Ce=29){this.name=Me,this._counter=0,this._items=new Array(Ce)}record(Me){this._items[++this._counter%this._items.length]=Me}get median(){return this._items.slice().sort()[Math.floor(this._items.length/2)]}get average(){return this._items.reduce((Me,Ce)=>Me+Ce,0)/this._items.length}get last(){return this._items[this._counter%this._items.length]}}},77029:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>Ie});var J,z=N(85931);!function(he){const re=(de,Ae,me,le)=>{let oe=Ae,se=Ae;const fe=me>>>1,Ee=de[oe-1];for(;se<=fe;){se=oe<<1,se<me&&le(de[se-1],de[se])<0&&++se;const ge=de[se-1];if(le(ge,Ee)<=0)break;de[oe-1]=ge,oe=se}de[oe-1]=Ee},ce=(de,Ae)=>de<Ae?-1:de>Ae?1:0;he.sort=function(de,Ae,me,le){void 0===Ae&&(Ae=0),void 0===me&&(me=de.length),void 0===le&&(le=ce);for(let se=me>>>1;se>Ae;se--)re(de,se,me,le);const oe=Ae+1;for(let se=me-1;se>Ae;se--){const fe=de[Ae];de[Ae]=de[se],de[se]=fe,re(de,oe,se,le)}},he.iterableSort=function*(de,Ae,me,le){void 0===Ae&&(Ae=0),void 0===me&&(me=de.length),void 0===le&&(le=ce);for(let se=me>>>1;se>Ae;se--)re(de,se,me,le),yield;const oe=Ae+1;for(let se=me-1;se>Ae;se--){const fe=de[Ae];de[Ae]=de[se],de[se]=fe,re(de,oe,se,le),yield}}}(J||(J={}));var Te=J;class Ie{constructor(re){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new z.SO,re&&(re.initialSize&&(this.data=new Array(re.initialSize)),re.allocator&&(this._allocator=re.allocator),void 0!==re.deallocator&&(this._deallocator=re.deallocator),re.shrink&&(this._shrink=()=>ye(this)))}toArray(){return this.data.slice(0,this.length)}getItemAt(re){if(!(re<0||re>=this._length))return this.data[re]}get length(){return this._length}set length(re){if(re>this._length){if(this._allocator){for(;this._length<re;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=re}else{if(this._deallocator)for(let ce=re;ce<this._length;++ce)this.data[ce]=this._deallocator(this.data[ce]);this._length=re,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(re){this.data[this._length++]=re}pushArray(re,ce=re.length){for(let be=0;be<ce;be++)this.data[this._length++]=re[be]}fill(re,ce){for(let be=0;be<ce;be++)this.data[this._length++]=re}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const re=this.data[this._length];return++this._length,re}unshift(re){this.data.unshift(re),this._length++,ye(this)}pop(){if(0===this.length)return;const re=this.data[this.length-1];return this.length=this.length-1,this._shrink(),re}remove(re){const ce=(0,z.cq)(this.data,re,this.length,this._hint);if(-1!==ce)return this.data.splice(ce,1),this.length=this.length-1,re}removeUnordered(re){const ce=(0,z.e$)(this.data,re,this.length,this._hint);return void 0!==ce&&(this.length=this.length-1),this._shrink(),ce}removeUnorderedIndex(re){if(!(re>=this.length||re<0))return this.swapElements(re,this.length-1),this.pop()}removeUnorderedMany(re,ce=re.length,be){this.length=(0,z.FY)(this.data,re,this.length,ce,this._hint,be),this._shrink()}front(){if(0!==this.length)return this.data[0]}back(){if(0!==this.length)return this.data[this.length-1]}swapElements(re,ce){re>=this.length||ce>=this.length||re===ce||([this.data[re],this.data[ce]]=[this.data[ce],this.data[re]])}sort(re){Te.sort(this.data,0,this.length,re)}iterableSort(re){return Te.iterableSort(this.data,0,this.length,re)}some(re,ce){for(let be=0;be<this.length;++be)if(re.call(ce,this.data[be],be,this.data))return!0;return!1}filterInPlace(re,ce){let be=0;for(let xe=0;xe<this._length;++xe){const de=this.data[xe];re.call(ce,de,xe,this.data)&&(this.data[xe]=this.data[be],this.data[be]=de,be++)}if(this._deallocator)for(let xe=be;xe<this._length;xe++)this.data[xe]=this._deallocator(this.data[xe]);return this._length=be,this._shrink(),this}forAll(re,ce){const be=this.length,xe=this.data;for(let de=0;de<be;++de)re.call(ce,xe[de],de,xe)}map(re,ce){const be=new Array(this.length);for(let xe=0;xe<this.length;++xe)be[xe]=re.call(ce,this.data[xe],xe,this.data);return be}reduce(re,ce){let be=ce;for(let xe=0;xe<this.length;++xe)be=re(be,this.data[xe],xe,this.data);return be}has(re){const ce=this.length,be=this.data;for(let xe=0;xe<ce;++xe)if(be[xe]===re)return!0;return!1}}function ye(he){he.data.length>1.5*he.length&&(he.data.length=Math.floor(1.1*he.length))}},60330:(hi,lt,N)=>{"use strict";N.d(lt,{D:()=>he,v:()=>ye});var z=N(17626),J=N(61458),Te=N(62208),Me=N(10699),Ce=N(61403);class Ie{constructor(ce){this.instance=ce,this._resolver=(0,Me.dD)(),this._status=0,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=1,this._cleanUp()},()=>{this._status=2,this._cleanUp()})}addResolvingPromise(ce){this._resolvingPromises.push(ce),this._tryResolve()}isResolved(){return 1===this._status}isRejected(){return 2===this._status}isFulfilled(){return 0!==this._status}abort(){this._resolver.reject((0,Me.zE)())}when(ce,be){return this._resolver.promise.then(ce,be)}_cleanUp(){this._allPromise=this._resolvingPromises=this._allPromise=null}_tryResolve(){if(this.isFulfilled())return;const ce=(0,Me.dD)(),be=[...this._resolvingPromises,(0,Te.j0)(ce.promise)],xe=this._allPromise=Promise.all(be);xe.then(()=>{this.isFulfilled()||this._allPromise!==xe||this._resolver.resolve(this.instance)},de=>{this.isFulfilled()||this._allPromise!==xe||(0,Me.D_)(de)||this._resolver.reject(de)}),ce.resolve()}}const ye=re=>{let ce=class extends re{constructor(...be){super(...be),this._promiseProps=new Ie(this),this.addResolvingPromise(Promise.resolve())}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(be,xe){return new Promise((de,Ae)=>{this._promiseProps.when(de,Ae)}).then(be,xe)}catch(be){return this.when(null,be)}addResolvingPromise(be){be&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in be?be.when():be)}};return ce=(0,z._)([(0,Ce.j)("esri.core.Promise")],ce),ce};let he=class extends(ye(J.Z)){};he=(0,z._)([(0,Ce.j)("esri.core.Promise")],he)},35133:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>J});var z=N(62208);class J{constructor(Me=(Ce=>Ce.values().next().value)){this._peeker=Me,this._items=new Set}get length(){return this._items.size}clear(){this._items.clear()}last(){if(0===this._items.size)return;let Me;for(Me of this._items);return Me}peek(){if(0!==this._items.size)return this._peeker(this._items)}push(Me){this.contains(Me)||this._items.add(Me)}contains(Me){return this._items.has(Me)}pop(){if(0===this.length)return;const Me=this.peek();return this._items.delete((0,z.j0)(Me)),Me}popLast(){if(0===this.length)return;const Me=this.last();return this._items.delete((0,z.j0)(Me)),Me}remove(Me){this._items.delete(Me)}filter(Me){return this._items.forEach(Ce=>{Me(Ce)||this._items.delete(Ce)}),this}}},4619:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>z});class z{constructor(Te=1){this._seed=Te}set seed(Te){this._seed=null==Te?Math.random()*z._m:Te}getInt(){return this._seed=(z._a*this._seed+z._c)%z._m,this._seed}getFloat(){return this.getInt()/(z._m-1)}getIntRange(Te,Me){return Math.round(this.getFloatRange(Te,Me))}getFloatRange(Te,Me){const Ce=Me-Te;return Te+this.getInt()/z._m*Ce}}z._m=2147483647,z._a=48271,z._c=0},10349:(hi,lt,N)=>{"use strict";N.d(lt,{G:()=>J});var z=N(26584);class J{constructor(Me,Ce,Ie=""){this.major=Me,this.minor=Ce,this._context=Ie}lessThan(Me,Ce){return this.major<Me||Me===this.major&&this.minor<Ce}since(Me,Ce){return!this.lessThan(Me,Ce)}validate(Me){if(this.major!==Me.major)throw new z.Z((this._context&&this._context+":")+"unsupported-version",`Required major ${this._context&&this._context+" "}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:Me})}clone(){return new J(this.major,this.minor,this._context)}static parse(Me,Ce=""){const[Ie,ye]=Me.split("."),he=/^\s*\d+\s*$/;if(!Ie||!Ie.match||!Ie.match(he))throw new z.Z((Ce&&Ce+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:Me});if(!ye||!ye.match||!ye.match(he))throw new z.Z((Ce&&Ce+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:Me});const re=parseInt(Ie,10),ce=parseInt(ye,10);return new J(re,ce,Ce)}}},14889:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>J});var z=N(90888);class J extends z.Z{constructor(Me,Ce,Ie){if(super(Me,Ce,Ie),!(this instanceof J))return new J(Me,Ce,Ie)}}J.prototype.type="warning"},31283:(hi,lt,N)=>{"use strict";N.d(lt,{kk:()=>J,x3:()=>Me,Wm:()=>Ie,M9:()=>Te});var z=N(62208);const J=7;function Te(re){switch(re){case"defaults":return 0;case"service":return 2;case"portal-item":return 3;case"web-scene":return 4;case"web-map":return 5;case"user":return 6}}function Me(re){switch(re){case 0:return"defaults";case 2:return"service";case 3:return"portal-item";case 4:return"web-scene";case 5:return"web-map";case 6:return"user"}return(0,z.j0)(void 0)}function Ie(re){return Me(re)}},83960:(hi,lt,N)=>{"use strict";N.d(lt,{B:()=>J});var z=N(77712);function J(Te,Me){const Ce=Me?fr(ji({},Me),{source:Te}):Te;return(0,z.Cb)({aliasOf:Ce})}},66656:(hi,lt,N)=>{"use strict";N.d(lt,{p:()=>ye});var z=N(90912),J=N(34117);const Te=Object.prototype.toString;function Me(he){const re="__accessorMetadata__"in he?(0,z.se)(he):he;return function(...ce){if(ce.push(re),"number"==typeof ce[2])throw new Error("Using @cast has parameter decorator is not supported since 4.16");return Ce.apply(this,ce)}}function Ce(he,re,ce,be){(0,J.VZ)(he,re).cast=be}function ye(...he){if(3!==he.length||"string"!=typeof he[1])return 1===he.length&&"[object Function]"===Te.call(he[0])?Me(he[0]):1===he.length&&"string"==typeof he[0]?function(he){return function(re,ce){(0,J.VZ)(re,he).cast=re[ce]}}(he[0]):void 0}},55342:(hi,lt,N)=>{"use strict";N.d(lt,{J:()=>Te});var z=N(2076),J=N(77712);function Te(Me,Ce={}){var Ie;const ye=Me instanceof z.Xn?Me:new z.Xn(Me,Ce),he={type:null==(Ie=null==Ce?void 0:Ce.ignoreUnknown)||Ie?ye.apiValues:String,readOnly:null==Ce?void 0:Ce.readOnly,json:{type:ye.jsonValues,read:(null==Ce||!Ce.readOnly)&&{reader:ye.read},write:{writer:ye.write}}};return void 0!==(null==Ce?void 0:Ce.default)&&(he.json.default=Ce.default),void 0!==(null==Ce?void 0:Ce.name)&&(he.json.name=Ce.name),(0,J.Cb)(he)}},77712:(hi,lt,N)=>{"use strict";N.d(lt,{Eg:()=>ce,Cb:()=>ye,CJ:()=>he});var z=N(63290),J=N(90912),Te=N(34595),Me=N(34117),Ce=N(82255);const Ie=z.Z.getLogger("esri.core.accessorSupport.decorators.property");function ye(be={}){return(xe,de,Ae)=>{if(xe===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${xe.name}.${de}. Accessor does not support static properties.`);const me=(0,Me.VZ)(xe,de);Ae&&(Ae.get||Ae.set?(me.get=Ae.get||me.get,me.set=Ae.set||me.set):"value"in Ae&&("value"in be&&Ie.warn(`@property() will redefine the value of "${de}" on "${xe.constructor.name}" already defined in the metadata`,be),me.value=be.value=Ae.value)),null!=be.readOnly&&(me.readOnly=be.readOnly);const le=be.aliasOf;if(le){const fe="string"==typeof le?le:le.source,Ee="string"==typeof le?null:!0===le.overridable;let ge;me.dependsOn=[fe],me.get=function(){let Ue=(0,Te.U2)(this,fe);if("function"==typeof Ue){ge||(ge=fe.split(".").slice(0,-1).join("."));const Fe=(0,Te.U2)(this,ge);Fe&&(Ue=Ue.bind(Fe))}return Ue},me.readOnly||(me.set=Ee?function(Ue){void 0!==Ue?this._override(de,Ue):this._clearOverride(de)}:function(Ue){(0,Ce.t)(this,fe,Ue)})}const oe=be.type,se=be.types;me.cast||(oe?me.cast=function(be){let xe=0,de=be;if((0,J.AY)(be))return(0,J.sY)(be);for(;Array.isArray(de)&&1===de.length&&"string"!=typeof de[0]&&"number"!=typeof de[0];)de=de[0],xe++;const Ae=de;if((0,J.gB)(Ae))return 0===xe?(0,J.i$)(Ae):(0,J.Iu)((0,J.i$)(Ae),xe);if(1===xe)return(0,J.rY)(Ae);if(xe>1)return(0,J.di)(Ae,xe);return be.from?be.from:(0,J.se)(be)}(oe):se&&(me.cast=Array.isArray(se)?(0,J.Ls)((0,J.N7)(se[0])):(0,J.N7)(se))),be.range&&(me.cast=ce(me.cast,be.range)),(0,Me.tz)(me,be)}}function he(be,xe,de){const Ae=(0,Me.VZ)(be,de);Ae.json||(Ae.json={});let me=Ae.json;return void 0!==xe&&(me.origins||(me.origins={}),me.origins[xe]||(me.origins[xe]={}),me=me.origins[xe]),me}function ce(be,xe){return de=>{let Ae=+be(de);return null!=xe.step&&(Ae=Math.round(Ae/xe.step)*xe.step),null!=xe.min&&(Ae=Math.max(xe.min,Ae)),null!=xe.max&&(Ae=Math.min(xe.max,Ae)),Ae}}},68653:(hi,lt,N)=>{"use strict";N.d(lt,{r:()=>Te});var z=N(94113),J=N(77712);function Te(Me,Ce,Ie){let ye,he;return void 0===Ce||Array.isArray(Ce)?(he=Me,Ie=Ce,ye=[void 0]):(he=Ce,ye=Array.isArray(Me)?Me:[Me]),(re,ce)=>{const be=re.constructor.prototype;ye.forEach(xe=>{const de=(0,J.CJ)(re,xe,he);de.read&&"object"!=typeof de.read&&(de.read={}),(0,z.RB)("read.reader",be[ce],de),Ie&&(de.read.source=(de.read.source||[]).concat(Ie))})}}},61403:(hi,lt,N)=>{"use strict";N.d(lt,{j:()=>be}),N(8314);const Te=[N(33794).WS];var ye=N(34117),he=N(36082);const re=new Set,ce=new Set;function be(Ae){return me=>{me.prototype.declaredClass=Ae,function(Ae,me){for(const le of Te)if(le.processPrototypePropertyMetadata)for(const oe in Ae)le.processPrototypePropertyMetadata(oe,Ae[oe],Ae,me)}((0,ye.JT)(me.prototype).properties,Ae),function(Ae){const me=Ae.prototype,le=me.declaredClass,oe=(0,ye.JT)(me).properties;!function(Ae,me){for(const le of Te)if(le.processClassPropertyMetadata)for(const oe in Ae)le.processClassPropertyMetadata(oe,Ae[oe],Ae,me)}(oe,le);const se={};for(const fe of Object.getOwnPropertyNames(oe)){const Ee=oe[fe];se[fe]={enumerable:!0,configurable:!0,get:xe(fe,Ee),set(ge){const Ue=this.__accessor__;if(void 0!==Ue){if(!Object.isFrozen(this)){if(Ue.initialized&&Ee.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${fe}' of ${this.declaredClass}`);if(2===Ue.lifecycle&&Ee.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${fe}' of ${this.declaredClass}`);Ue.set(fe,ge)}}else Object.defineProperty(this,fe,{enumerable:!0,configurable:!0,writable:!0,value:ge})}}}Object.defineProperties(Ae.prototype,se)}(me);const le=[],oe=[];let se=me.prototype;for(;se;)se.hasOwnProperty("initialize")&&!re.has(se.initialize)&&(re.add(se.initialize),le.push(se.initialize)),se.hasOwnProperty("destroy")&&!ce.has(se.destroy)&&(ce.add(se.destroy),oe.push(se.destroy)),se=Object.getPrototypeOf(se);re.clear(),ce.clear();class fe extends me{constructor(...ge){if(super(...ge),this.constructor===fe&&"function"==typeof this.postscript){if(le.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let Ue=le.length-1;Ue>=0;Ue--)le[Ue].call(this)}}),oe.length){let Ue=!1;Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!Ue){Ue=!0;for(let Fe=0;Fe<oe.length;Fe++)oe[Fe].call(this)}}})}this.postscript(...ge)}}}return fe.__accessorMetadata__=(0,ye.JT)(me.prototype),fe.prototype.declaredClass=Ae,fe}}function xe(Ae,me){return null==me.get?function(){const le=this.__accessor__.properties.get(Ae);if(void 0===le)return;(0,he.it)(le);const oe=this.__accessor__.store;return oe.has(Ae)?oe.get(Ae):le.metadata.value}:function(){const le=this.__accessor__.properties.get(Ae);if(void 0!==le)return le.getComputed()}}},99433:(hi,lt,N)=>{"use strict";N.d(lt,{c:()=>Te});var z=N(94113),J=N(77712);function Te(Me,Ce,Ie){let ye,he;return void 0===Ce?(he=Me,ye=[void 0]):"string"!=typeof Ce?(he=Me,ye=[void 0],Ie=Ce):(he=Ce,ye=Array.isArray(Me)?Me:[Me]),(re,ce)=>{const be=re.constructor.prototype;ye.forEach(xe=>{const de=(0,J.CJ)(re,xe,he);de.write&&"object"!=typeof de.write&&(de.write={}),Ie&&(0,z.RB)("write.target",Ie,de),(0,z.RB)("write.writer",be[ce],de)})}}},84682:(hi,lt,N)=>{"use strict";N.d(lt,{Hg:()=>Ae,uD:()=>xe,V7:()=>de});var z=N(61458),J=N(7093),Te=N(62208),Me=N(52323);const Ce=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];function Ie(le){return le instanceof z.Z}function ye(le){return le instanceof J.Z?Object.keys(le.items):Ie(le)?(0,Me.vw)(le).keys():le?Object.keys(le):[]}function he(le,oe){return le instanceof J.Z?le.items[oe]:le[oe]}function ce(le){return le?le.declaredClass:null}function be(le,oe){const se=le.diff;if(se&&"function"==typeof se)return se(le,oe);const fe=ye(le),Ee=ye(oe);if(0===fe.length&&0===Ee.length)return;if(!fe.length||!Ee.length||function(le,oe){return!(!Array.isArray(le)||!Array.isArray(oe))&&le.length!==oe.length}(le,oe))return{type:"complete",oldValue:le,newValue:oe};const ge=Ee.filter(je=>-1===fe.indexOf(je)),Ue=fe.filter(je=>-1===Ee.indexOf(je)),Fe=fe.filter(je=>Ee.indexOf(je)>-1&&he(le,je)!==he(oe,je)).concat(ge,Ue).sort(),Ve=ce(le);if(Ve&&Ce.indexOf(Ve)>-1&&Fe.length)return{type:"complete",oldValue:le,newValue:oe};let Le;const tt=Ie(le)&&Ie(oe);for(const je of Fe){const ve=he(le,je),Oe=he(oe,je);let qe;(tt||"function"!=typeof ve&&"function"!=typeof Oe)&&ve!==Oe&&(null==ve&&null==Oe||(qe=se&&se[je]&&"function"==typeof se[je]?se[je](ve,Oe):"object"==typeof ve&&"object"==typeof Oe&&ce(ve)===ce(Oe)?be(ve,Oe):{type:"complete",oldValue:ve,newValue:Oe},(0,Te.pC)(qe)&&((0,Te.pC)(Le)?Le.diff[je]=qe:Le={type:"partial",diff:{[je]:qe}})))}return Le}function xe(le,oe){if((0,Te.Wi)(le))return!1;const se=oe.split(".");let fe=le;for(const Ee of se){if("complete"===fe.type)return!0;if("partial"!==fe.type)return!1;{const ge=fe.diff[Ee];if(!ge)return!1;fe=ge}}return!0}function de(le,oe){for(const se of oe)if(xe(le,se))return!0;return!1}function Ae(le,oe){if("function"!=typeof le&&"function"!=typeof oe&&(le||oe))return!le||!oe||"object"==typeof le&&"object"==typeof oe&&ce(le)!==ce(oe)?{type:"complete",oldValue:le,newValue:oe}:be(le,oe)}},90912:(hi,lt,N)=>{"use strict";N.d(lt,{z8:()=>je,rY:()=>Ee,Ls:()=>fe,TJ:()=>me,vU:()=>he,sY:()=>qe,di:()=>Fe,Iu:()=>Ue,q9:()=>ye,i$:()=>Le,N7:()=>tt,Zs:()=>Ie,se:()=>se,AY:()=>Oe,gB:()=>Ve,V5:()=>ve}),N(8314);const Te=N(63290).Z.getLogger("esri.core.Accessor");function Me(Ne){return null==Ne?Ne:new Date(Ne)}function Ce(Ne){return null==Ne?Ne:!!Ne}function Ie(Ne){return null==Ne?Ne:Ne.toString()}function ye(Ne){return null==Ne?Ne:(Ne=parseFloat(Ne),isNaN(Ne)?0:Ne)}function he(Ne){return null==Ne?Ne:Math.round(parseFloat(Ne))}function re(Ne){return Ne&&Ne.constructor&&void 0!==Ne.constructor.__accessorMetadata__}function ce(Ne,Se){return null!=Se&&Ne&&!(Se instanceof Ne)}function be(Ne){return Ne&&"isCollection"in Ne}function xe(Ne){return Ne&&Ne.Type?"function"==typeof Ne.Type?Ne.Type:Ne.Type.base:null}function Ae(Ne,Se){return!!re(Se)&&(Te.error("Accessor#set","Assigning an instance of '"+(Se.declaredClass||"unknown")+"' which is not a subclass of '"+le(Ne)+"'"),!0)}function me(Ne,Se){return null==Se?Se:be(Ne)?function(Ne,Se){if(!Se||!Se.constructor||!be(Se.constructor))return Ae(Ne,Se)?Se:new Ne(Se);const $e=xe(Ne.prototype.itemType),nt=xe(Se.constructor.prototype.itemType);return $e?nt?$e===nt?Se:$e.prototype.isPrototypeOf(nt.prototype)?new Ne(Se):(Ae(Ne,Se),Se):new Ne(Se):Se}(Ne,Se):ce(Ne,Se)?Ae(Ne,Se)?Se:new Ne(Se):Se}function le(Ne){return Ne&&Ne.prototype&&Ne.prototype.declaredClass||"unknown"}function oe(Ne){switch(Ne){case Number:return ye;case je:return he;case Boolean:return Ce;case String:return Ie;case Date:return Me;default:return me.bind(null,Ne)}}function se(Ne,Se){const $e=oe(Ne);return 1===arguments.length?$e:$e(Se)}function fe(Ne,Se,$e){return 1===arguments.length?fe.bind(null,Ne):Se&&(Array.isArray(Se)?Se.map(nt=>Ne(nt,$e)):[Ne(Se,$e)])}function Ee(Ne,Se){return 1===arguments.length?fe(se.bind(null,Ne)):fe(se.bind(null,Ne),Se)}function ge(Ne,Se,$e){return 0!==Se&&Array.isArray($e)?$e.map(nt=>ge(Ne,Se-1,nt)):Ne($e)}function Ue(Ne,Se,$e){if(2===arguments.length)return Ue.bind(null,Ne,Se);if(!$e)return $e;let nt=Se,ut=$e=ge(Ne,Se,$e);for(;nt>0&&Array.isArray(ut);)nt--,ut=ut[0];if(void 0!==ut)for(let xt=0;xt<nt;xt++)$e=[$e];return $e}function Fe(Ne,Se,$e){return 2===arguments.length?Ue(se.bind(null,Ne),Se):Ue(se.bind(null,Ne),Se,$e)}function Ve(Ne){return!!Array.isArray(Ne)&&!Ne.some(Se=>{const $e=typeof Se;return!("string"===$e||"number"===$e||"function"===$e&&Ne.length>1)})}function Le(Ne,Se){if(2===arguments.length)return Le(Ne).call(null,Se);const $e=new Set,nt=Ne.filter(et=>"function"!=typeof et),ut=Ne.filter(et=>"function"==typeof et);for(const et of Ne)"string"!=typeof et&&"number"!=typeof et||$e.add(et);let xt=null,Ze=null;return(et,gt)=>{if(null==et)return et;const Vt=typeof et,Bt="string"===Vt||"number"===Vt;return Bt&&($e.has(et)||ut.some(Lt=>"string"===Vt&&Lt===String||"number"===Vt&&Lt===Number))||"object"===Vt&&ut.some(Lt=>!ce(et,Lt))?et:(Bt&&nt.length?(xt||(xt=nt.map(Lt=>"string"==typeof Lt?`'${Lt}'`:`${Lt}`).join(", ")),Te.error("Accessor#set",`'${et}' is not a valid value for this property, only the following values are valid: ${xt}`)):"object"==typeof et&&ut.length?(Ze||(Ze=ut.map(Lt=>le(Lt)).join(", ")),Te.error("Accessor#set",`'${et}' is not a valid value for this property, value must be one of ${Ze}`)):Te.error("Accessor#set",`'${et}' is not a valid value for this property`),gt&&(gt.valid=!1),null)}}function tt(Ne,Se){if(2===arguments.length)return tt(Ne).call(null,Se);const $e={},nt=[],ut=[];for(const gt in Ne.typeMap){const Vt=Ne.typeMap[gt];$e[gt]=se(Vt),nt.push(le(Vt)),ut.push(gt)}const xt=()=>`'${nt.join("', '")}'`,Ze=()=>`'${ut.join("', '")}'`,et="string"==typeof Ne.key?gt=>gt[Ne.key]:Ne.key;return gt=>{if(Ne.base&&!ce(Ne.base,gt)||null==gt)return gt;const Vt=et(gt)||Ne.defaultKeyValue,Bt=$e[Vt];if(!Bt)return Te.error("Accessor#set",`Invalid property value, value needs to be one of ${xt()}, or a plain object that can autocast (having .type = ${Ze()})`),null;if(!ce(Ne.typeMap[Vt],gt))return gt;if("string"==typeof Ne.key&&!re(gt)){const Lt={};for(const Pt in gt)Pt!==Ne.key&&(Lt[Pt]=gt[Pt]);return Bt(Lt)}return Bt(gt)}}class je{}const ve={native:Ne=>({type:"native",value:Ne}),array:Ne=>({type:"array",value:Ne}),oneOf:Ne=>({type:"one-of",values:Ne})};function Oe(Ne){if(!Ne||!("type"in Ne))return!1;switch(Ne.type){case"native":case"array":case"one-of":return!0}return!1}function qe(Ne){switch(Ne.type){case"native":return se(Ne.value);case"array":return fe(qe(Ne.value));case"one-of":return function(Ne){let Se=null;return($e,nt)=>ot($e,Ne)?$e:(null==Se&&(Se=Qe(Ne)),Te.error("Accessor#set",`Invalid property value, value needs to be of type ${Se}`),nt&&(nt.valid=!1),null)}(Ne);default:return null}}function Qe(Ne){switch(Ne.type){case"native":switch(Ne.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case je:return"integer";case Date:return"date";default:return le(Ne.value)}case"array":return`array of ${Qe(Ne.value)}`;case"one-of":{const Se=Ne.values.map($e=>Qe($e));return`one of ${Se.slice(0,Se.length-1)} or ${Se[Se.length-1]}`}}return"unknown"}function ot(Ne,Se){if(null==Ne)return!0;switch(Se.type){case"native":switch(Se.value){case Number:case je:return"number"==typeof Ne;case Boolean:return"boolean"==typeof Ne;case String:return"string"==typeof Ne}return Ne instanceof Se.value;case"array":return!!Array.isArray(Ne)&&!Ne.some($e=>!ot($e,Se.value));case"one-of":return Se.values.some($e=>ot(Ne,$e))}}},33794:(hi,lt,N)=>{"use strict";N.d(lt,{WS:()=>le,hk:()=>be,HS:()=>re,Ah:()=>ce});var z=N(90912),Te=N(383);function Ce(oe){oe.name&&(oe.read&&"object"==typeof oe.read?void 0===oe.read.source&&(oe.read.source=oe.name):oe.read={source:oe.name},oe.write&&"object"==typeof oe.write?void 0===oe.write.target&&(oe.write.target=oe.name):oe.write={target:oe.name})}function Ie(oe){"boolean"==typeof oe.read?oe.read={enabled:oe.read}:"function"==typeof oe.read?oe.read={enabled:!0,reader:oe.read}:oe.read&&"object"==typeof oe.read&&void 0===oe.read.enabled&&(oe.read.enabled=!0)}function ye(oe){"boolean"==typeof oe.write?oe.write={enabled:oe.write}:"function"==typeof oe.write?oe.write={enabled:!0,writer:oe.write}:oe.write&&"object"==typeof oe.write&&void 0===oe.write.enabled&&(oe.write.enabled=!0)}var he=N(23025);function re(oe,se){return be(oe,"read",se)}function ce(oe,se){return be(oe,"write",se)}function be(oe,se,fe){let Ee=oe&&oe.json;if(oe&&oe.json&&oe.json.origins&&fe){const ge=oe.json.origins[fe.origin];ge&&("any"===se||se in ge)&&(Ee=ge)}return Ee}const le={processPrototypePropertyMetadata(oe,se){(function(oe){if(oe.json||(oe.json={}),Ie(oe.json),ye(oe.json),Ce(oe.json),oe.json.origins)for(const se in oe.json.origins)Ie(oe.json.origins[se]),ye(oe.json.origins[se]),Ce(oe.json.origins[se]);return!0})(se)&&(function(oe){if(oe.json&&oe.json.origins){const se=oe.json.origins,fe={"web-document":["web-scene","web-map"]};for(const Ee in fe)if(se[Ee]){const ge=se[Ee];fe[Ee].forEach(Ue=>{se[Ue]=ge}),delete se[Ee]}}}(se),function(oe){const se=function(oe){return oe.type?function(oe){if(!oe.type)return;let se=0,fe=oe.type;for(;Array.isArray(fe)&&!(0,z.gB)(fe);)fe=fe[0],se++;return{type:fe,ndimArray:se}}(oe):function(oe){if(!oe.types)return;let se=0,fe=oe.types;for(;Array.isArray(fe);)fe=fe[0],se++;return{types:fe,ndimArray:se}}(oe)}(oe);if(oe.json.origins)for(const fe in oe.json.origins){const Ee=oe.json.origins[fe];(0,Te.U)(se,Ee,!1),(0,he.U)(se,Ee)}(0,Te.U)(se,oe.json,!0),(0,he.U)(se,oe.json)}(se))}}},383:(hi,lt,N)=>{"use strict";N.d(lt,{U:()=>ye,d:()=>he});var z=N(63290),J=N(94113),Te=N(14889),Me=N(34117),Ce=N(94056);const Ie=z.Z.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function ye(Ee,ge,Ue){var Fe,Ve;Ee&&(!Ue&&!ge.read||null!=(Fe=ge.read)&&Fe.reader||!1===(null==(Ve=ge.read)?void 0:Ve.enabled)||function(Ee){return"types"in Ee?oe(Ee.types):le(Ee.type)}(Ee)&&(0,J.RB)("read.reader",he(Ee),ge))}function he(Ee){var ge;const Ue=null!=(ge=Ee.ndimArray)?ge:0;if(Ue>1)return function(Ee){var ge;const Ue=re(Ee),Fe=be.bind(null,Ue),Ve=null!=(ge=Ee.ndimArray)?ge:0;return(Le,tt,je)=>{if(null==Le)return Le;Le=Fe(Le,je,Ve);let ve=Ve,Oe=Le;for(;ve>0&&Array.isArray(Oe);)ve--,Oe=Oe[0];if(void 0!==Oe)for(let qe=0;qe<ve;qe++)Le=[Le];return Le}}(Ee);if(1===Ue)return de(Ee);if("type"in Ee&&Ae(Ee.type)){var Fe,Ve;const Le=null==(Fe=Ee.type.prototype)||null==(Ve=Fe.itemType)?void 0:Ve.Type,tt=de("function"==typeof Le?{type:Le}:{types:Le});return(je,ve,Oe)=>{const qe=tt(je,ve,Oe);return qe&&new Ee.type(qe)}}return re(Ee)}function re(Ee){return"type"in Ee?function(Ee){return Ee.prototype.read?(ge,Ue,Fe)=>{if(null==ge)return ge;const Ve=typeof ge;if("object"!==Ve)return void Ie.error(`Expected JSON value of type 'object' to deserialize type '${Ee.prototype.declaredClass}', but got '${Ve}'`);const Le=new Ee;return Le.read(ge,Fe),Le}:Ee.fromJSON}(Ee.type):function(Ee){var ge;let Ue=null;const Fe=null!=(ge=Ee.errorContext)?ge:"type";return(Ve,Le,tt)=>{if(null==Ve)return Ve;const je=typeof Ve;if("object"!==je)return void Ie.error(`Expected JSON value of type 'object' to deserialize, but got '${je}'`);Ue||(Ue=function(Ee){const ge={};for(const Ve in Ee.typeMap){var Ue,Fe;const Le=Ee.typeMap[Ve],tt=(0,Me.JT)(Le.prototype);if("function"==typeof Ee.key)continue;const je=tt.properties[Ee.key];if(!je)continue;null!=(Ue=je.json)&&Ue.type&&Array.isArray(je.json.type)&&1===je.json.type.length&&"string"==typeof je.json.type[0]&&(ge[je.json.type[0]]=Le);const ve=null==(Fe=je.json)?void 0:Fe.write;if(!ve||!ve.writer){ge[Ve]=Le;continue}const Oe=ve.target,qe="string"==typeof Oe?Oe:Ee.key,He={};ve.writer(Ve,He,qe),He[qe]&&(ge[He[qe]]=Le)}return ge}(Ee));const ve=Ee.key;if("string"!=typeof ve)return;const Oe=Ve[ve],qe=Oe?Ue[Oe]:Ee.defaultKeyValue?Ee.typeMap[Ee.defaultKeyValue]:void 0;if(!qe){const Qe=`Type '${Oe||"unknown"}' is not supported`;return tt&&tt.messages&&Ve&&tt.messages.push(new Te.Z(`${Fe}:unsupported`,Qe,{definition:Ve,context:tt})),void Ie.error(Qe)}const He=new qe;return He.read(Ve,tt),He}}(Ee.types)}function be(Ee,ge,Ue,Fe){return 0!==Fe&&Array.isArray(ge)?ge.map(Ve=>be(Ee,Ve,Ue,Fe-1)):Ee(ge,void 0,Ue)}function de(Ee){const ge=re(Ee);return(Ue,Fe,Ve)=>{if(null==Ue)return Ue;if(Array.isArray(Ue)){const tt=[];for(const je of Ue){const ve=ge(je,void 0,Ve);void 0!==ve&&tt.push(ve)}return tt}const Le=ge(Ue,void 0,Ve);return void 0!==Le?[Le]:void 0}}function Ae(Ee){if(!(0,Ce.u)(Ee))return!1;const ge=Ee.prototype.itemType;return!(!ge||!ge.Type)&&("function"==typeof ge.Type?le(ge.Type):oe(ge.Type))}function le(Ee){return!Array.isArray(Ee)&&!!Ee&&Ee.prototype&&("read"in Ee.prototype||"fromJSON"in Ee||Ae(Ee))}function oe(Ee){for(const ge in Ee.typeMap)if(!le(Ee.typeMap[ge]))return!1;return!0}},94056:(hi,lt,N)=>{"use strict";function z(J){return!!J&&J.prototype&&J.prototype.declaredClass&&0===J.prototype.declaredClass.indexOf("esri.core.Collection")}N.d(lt,{u:()=>z})},23025:(hi,lt,N)=>{"use strict";N.d(lt,{U:()=>Te,k:()=>Ie});var z=N(94113),J=N(94056);function Te(ce,be){var xe;if(!be.write||be.write.writer||!1===be.write.enabled&&!be.write.overridePolicy)return;const de=null!=(xe=null==ce?void 0:ce.ndimArray)?xe:0;be.write.writer=ce&&(1===de||"type"in ce&&(0,J.u)(ce.type))?ye:de>1?function(ce){return function(be,xe,de,Ae){let me;if(null===be)me=null;else{me=he(be,Ae,ce);let le=ce,oe=me;for(;le>0&&Array.isArray(oe);)le--,oe=oe[0];if(void 0!==oe)for(let se=0;se<le;se++)me=[me]}(0,z.RB)(de,me,xe)}}(de):Me}function Me(ce,be,xe,de){(0,z.RB)(xe,Ce(ce,de),be)}function Ce(ce,be){return ce&&"function"==typeof ce.write?ce.write({},be):ce&&"function"==typeof ce.toJSON?ce.toJSON():"number"==typeof ce?Ie(ce):ce}function Ie(ce){return ce===-1/0?-Number.MAX_VALUE:ce===1/0?Number.MAX_VALUE:isNaN(ce)?null:ce}function ye(ce,be,xe,de){let Ae;null===ce?Ae=null:ce&&"function"==typeof ce.map?(Ae=ce.map(me=>Ce(me,de)),"function"==typeof Ae.toArray&&(Ae=Ae.toArray())):Ae=[Ce(ce,de)],(0,z.RB)(xe,Ae,be)}function he(ce,be,xe){return 0!==xe&&Array.isArray(ce)?ce.map(de=>he(de,be,xe-1)):Ce(ce,be)}},34595:(hi,lt,N)=>{"use strict";N.d(lt,{Gg:()=>Ie,U2:()=>Ce,$z:()=>Me});var z=N(52323);function J(ye,he){const re="?"===ye[ye.length-1]?ye.slice(0,-1):ye;if(null!=he.getItemAt||Array.isArray(he)){const be=parseInt(re,10);if(!isNaN(be))return Array.isArray(he)?he[be]:he.getItemAt(be)}const ce=(0,z.vw)(he);return(0,z.b6)(ce,re)?ce.get(re):he[re]}function Te(ye,he,re){if(null==ye)return ye;const ce=J(he[re],ye);return!ce&&re<he.length-1?void 0:re===he.length-1?ce:Te(ce,he,re+1)}function Me(ye,he,re=0){return"string"==typeof he&&-1===he.indexOf(".")?J(he,ye):Te(ye,(0,z.NI)(he),re)}function Ce(ye,he){return Me(ye,he)}function Ie(ye,he){return void 0!==Me(he,ye)}},34117:(hi,lt,N)=>{"use strict";N.d(lt,{JT:()=>Ce,VZ:()=>ye,tz:()=>ce});var z=N(58817),J=N(62208),Te=N(52323);class Me{constructor(le){this.autoDestroy=!1,this.properties=le}}function Ce(me){let le=me.constructor.__accessorMetadata__;const oe=Object.prototype.hasOwnProperty.call(me.constructor,"__accessorMetadata__");if(le){if(!oe){const se=Object.create(le.properties),fe=le.autoDestroy;for(const Ee in se)se[Ee]=(0,z.d9)(se[Ee]);le=new Me(se),le.autoDestroy=fe,Object.defineProperty(me.constructor,"__accessorMetadata__",{value:le,enumerable:!1,configurable:!0,writable:!0})}}else le=new Me({}),Object.defineProperty(me.constructor,"__accessorMetadata__",{value:le,enumerable:!1,configurable:!0,writable:!0});return(0,J.j0)(me.constructor.__accessorMetadata__)}function ye(me,le){const oe=function(me){return Ce(me).properties}(me);let se=oe[le];return se||(se=oe[le]={}),se}function ce(me,le){return(0,Te.TS)(me,le,xe)}const be=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function xe(me){return be.test(me)?"replace":"merge"}},29338:(hi,lt,N)=>{"use strict";N.d(lt,{ij:()=>re,$Z:()=>ce});var z=N(34595),J=N(52323),Te=N(33794);function Me(be,xe,de){if(!be||!be.read||!1===be.read.enabled||!be.read.source)return!1;const Ae=be.read.source;if("string"==typeof Ae){if(Ae===xe||Ae.indexOf(".")>-1&&0===Ae.indexOf(xe)&&(0,z.Gg)(Ae,de))return!0}else for(const me of Ae)if(me===xe||me.indexOf(".")>-1&&0===me.indexOf(xe)&&(0,z.Gg)(me,de))return!0;return!1}function Ie(be,xe,de,Ae,me){let le=(0,Te.HS)(xe[de],me);(function(be){return be&&(!be.read||!1!==be.read.enabled&&!be.read.source)})(le)&&(be[de]=!0);for(const oe of Object.getOwnPropertyNames(xe))le=(0,Te.HS)(xe[oe],me),Me(le,de,Ae)&&(be[oe]=!0)}function ye(be,xe,de,Ae){const le=(0,Te.hk)(de.metadatas[xe],"any",Ae),oe=le&&le.default;if(void 0===oe)return;const se="function"==typeof oe?oe.call(be,xe,Ae):oe;void 0!==se&&de.set(xe,se)}const he={origin:"service"};function re(be,xe,de=he){if(!xe||"object"!=typeof xe)return;const Ae=(0,J.vw)(be),me=Ae.metadatas,le={};for(const oe of Object.getOwnPropertyNames(xe))Ie(le,me,oe,xe,de);Ae.setDefaultOrigin(de.origin);for(const oe of Object.getOwnPropertyNames(le)){const se=(0,Te.HS)(me[oe],de).read,fe=se&&se.source;let Ee;Ee=fe&&"string"==typeof fe?(0,z.$z)(xe,fe):xe[oe],se&&se.reader&&(Ee=se.reader.call(be,Ee,xe,de)),void 0!==Ee&&Ae.set(oe,Ee)}if(!de||!de.ignoreDefaults)for(const oe of Object.getOwnPropertyNames(me))le[oe]||ye(be,oe,Ae,de);Ae.setDefaultOrigin("user")}function ce(be,xe,de,Ae=he){var me;const le=fr(ji({},Ae),{messages:[]});de(le),null==(me=le.messages)||me.forEach(oe=>{"warning"!==oe.type||be.loaded?Ae&&Ae.messages&&Ae.messages.push(oe):be.loadWarnings.push(oe)})}},82255:(hi,lt,N)=>{"use strict";N.d(lt,{t:()=>Me}),N(8314);var J=N(63290),Te=N(34595);function Me(Ce,Ie,ye){if(Ce&&Ie)if("object"==typeof Ie)for(const he of Object.getOwnPropertyNames(Ie))Me(Ce,he,Ie[he]);else{if(-1!==Ie.indexOf(".")){const he=Ie.split("."),re=he.splice(he.length-1,1)[0];return void Me((0,Te.U2)(Ce,he),re,ye)}Ce[Ie]=ye}}J.Z.getLogger("esri.core.accessorSupport.set")},36082:(hi,lt,N)=>{"use strict";N.d(lt,{mS:()=>me,LJ:()=>be,it:()=>he,GF:()=>oe}),N(8314);var J=N(63290),Te=N(52323);let Me,Ce=[];const Ie=J.Z.getLogger("esri.core.Accessor");function he(fe){void 0!==Me&&Me.onObservableAccessed(fe)}let re=!1,ce=!1;function be(fe,Ee,ge){if(re)return xe(fe,Ee,ge);de(fe);const Ue=Ee.call(ge);return Ae(),Ue}function xe(fe,Ee,ge){const Ue=re;re=!0,de(fe);let Fe=null;try{Fe=Ee.call(ge)}catch(Ve){ce&&Ie.error(Ve)}return Ae(),re=Ue,Fe}function de(fe){Me=fe,Ce.push(fe)}function Ae(){const fe=Ce.pop();Me=Ce.length>0?Ce[Ce.length-1]:void 0,void 0!==fe&&fe.onTrackingEnd()}function me(fe,Ee){if(32&Ee.flags)return;const ge=ce;ce=!1,64&Ee.flags?xe(Ee,Ee.metadata.get,fe):oe(fe,Ee),ce=ge}const le=[];function oe(fe,Ee){128&Ee.flags||(Ee.flags|=128,xe(Ee,()=>{const ge=Ee.metadata.dependsOn||le;for(const Ue of ge)if("string"==typeof Ue&&-1===Ue.indexOf("."))se(fe,Ue,!1);else{const Fe=(0,Te.NI)(Ue);for(let Ve=0,Le=fe;Ve<Fe.length&&null!=Le&&"object"==typeof Le;++Ve)Le=se(Le,Fe[Ve],Ve!==Fe.length-1)}}),Ee.flags&=-129)}function se(fe,Ee,ge){const Ue="?"===Ee[Ee.length-1]?Ee.slice(0,-1):Ee;if(null!=fe.getItemAt||Array.isArray(fe)){const Le=parseInt(Ue,10);if(!isNaN(Le))return Array.isArray(fe)?fe[Le]:fe.getItemAt(Le)}const Fe=(0,Te.vw)(fe),Ve=null==Fe?void 0:Fe.properties.get(Ue);return Ve&&(he(Ve),me(fe,Ve)),ge?fe[Ue]:void 0}},12196:(hi,lt,N)=>{"use strict";N.d(lt,{X:()=>J});var z=N(85931);class J{constructor(Me,Ce){this._observers=Me,this._observer=Ce}remove(){(0,z.Od)(this._observers,this._observer)}}},819:(hi,lt,N)=>{"use strict";N.d(lt,{M:()=>z});class z{constructor(Te){this._notify=Te,this._accessed=[],this._handles=[],this._invalidCount=0}destroy(){this._accessed.length=0,this.clear()}onInvalidated(){this._invalidCount++}onCommitted(){const Te=this._invalidCount;if(1===Te)return this._invalidCount=0,void this._notify();this._invalidCount=Te>0?Te-1:0}onObservableAccessed(Te){this._accessed.includes(Te)||this._accessed.push(Te)}onTrackingEnd(){const Te=this._handles,Me=this._accessed;for(let Ce=0;Ce<Me.length;++Ce)Te.push(Me[Ce].observe(this));Me.length=0}clear(){const Te=this._handles;for(let Me=0;Me<Te.length;++Me)Te[Me].remove();Te.length=0}}},21352:(hi,lt,N)=>{"use strict";N.d(lt,{EH:()=>re,U5:()=>Ce,Xz:()=>he});var z=N(36082),J=N(819);let Te=!1;const Me=[];function Ce(xe,de,Ae={immediate:!1}){let me=new J.M(function se(){if(!me||oe)return;if(Te)return void ce(se);const Ee=le;me.clear(),Te=!0,oe=!0,le=(0,z.LJ)(me,xe),oe=!1,Te=!1,de(le,Ee),be()}),le=null,oe=!1;return oe=!0,le=(0,z.LJ)(me,xe),oe=!1,Ae.immediate&&de(le,le),{remove:function(){me&&(me.destroy(),me=null,le=null)}}}function he(xe,de){let Ae=new J.M(function(){de(me,se)}),me=null;function se(){return Ae?(Ae.clear(),me=(0,z.LJ)(Ae,xe),me):null}return se(),{remove:function(){Ae&&(Ae.destroy(),Ae=null),me=null}}}function re(xe){let de=new J.M(function me(){de&&!Ae&&(Te?ce(me):(de.clear(),Te=!0,Ae=!0,(0,z.LJ)(de,xe),Ae=!1,Te=!1,be()))}),Ae=!1;return Ae=!0,(0,z.LJ)(de,xe),Ae=!1,{remove:function(){de&&(de.destroy(),de=null)}}}function ce(xe){Me.includes(xe)||Me.unshift(xe)}function be(){for(;Me.length;)Me.pop()()}},52323:(hi,lt,N)=>{"use strict";N.d(lt,{vw:()=>Me,b6:()=>Ce,TS:()=>ye,IH:()=>me,Qc:()=>Ae,NI:()=>ce});var z=N(54024),J=N(58817),Te=N(62208);function Me(le){return le?le.__accessor__?le.__accessor__:le.propertyInvalidated?le:null:null}function Ce(le,oe){return null!=le&&le.metadatas&&null!=le.metadatas[oe]}function ye(le,oe,se){return he(le,oe,se?{policy:se,path:""}:null)}function he(le,oe,se){return oe?Object.keys(oe).reduce(function(fe,Ee){let ge=null,Ue="merge";if(se&&(ge=se.path?`${se.path}.${Ee}`:Ee,Ue=se.policy(ge)),"replace"===Ue)return fe[Ee]=oe[Ee],fe;if(void 0===fe[Ee])return fe[Ee]=(0,J.d9)(oe[Ee]),fe;let Fe=fe[Ee],Ve=oe[Ee];if(Fe===Ve)return fe;if(Array.isArray(Ve)||Array.isArray(fe))Fe=fe[Ee]=Fe?Array.isArray(Fe)?Fe.concat():[Fe]:[],Ve&&(Array.isArray(Ve)||(Ve=[Ve]),Ve.forEach(Le=>{-1===Fe.indexOf(Le)&&Fe.push(Le)}));else if(Ve&&"object"==typeof Ve)if(se){const Le=se.path;se.path=(0,Te.j0)(ge),fe[Ee]=he(Fe,Ve,se),se.path=Le}else fe[Ee]=he(Fe,Ve,null);else fe.hasOwnProperty(Ee)&&!oe.hasOwnProperty(Ee)||(fe[Ee]=Ve);return fe},le||{}):le}function ce(le){return Array.isArray(le)?le:le.split(".")}function be(le){return le.indexOf(",")>-1?le.split(",").map(oe=>oe.trim()):[le.trim()]}function Ae(le,oe,se,fe){const Ee=function(le){if(Array.isArray(le)){const oe=[];for(const se of le)oe.push(...be(se));return oe}return be(le)}(oe);if(1!==Ee.length){const ge=Ee.map(Ue=>fe(le,Ue,se));return(0,z.AL)(ge)}return fe(le,Ee[0],se)}function me(le){let oe=!1;return()=>{oe||(oe=!0,le())}}},36054:(hi,lt,N)=>{"use strict";N.d(lt,{df:()=>be,cW:()=>xe});var z=N(85931),J=N(26584),Te=N(63290),Me=N(31283),Ce=N(52323),Ie=N(33794);const ye=Te.Z.getLogger("esri.core.accessorSupport.write");function he(de,Ae,me,le,oe){var se,fe;const Ee={};return null==(se=Ae.write)||null==(fe=se.writer)||fe.call(de,le,Ee,me,oe),Ee}function re(de,Ae,me,le,oe,se){if(!le||!le.write)return!1;const fe=de.get(me);if(!oe&&le.write.overridePolicy){const Ee=le.write.overridePolicy.call(de,fe,me,se);void 0!==Ee&&(oe=Ee)}if(oe||(oe=le.write),!oe||!1===oe.enabled)return!1;if((null===fe&&!oe.allowNull||void 0===fe)&&oe.isRequired){const Ee=new J.Z("web-document-write:property-required",`Missing value for required property '${me}' on '${de.declaredClass}'`,{propertyName:me,target:de});return Ee&&se&&se.messages?se.messages.push(Ee):Ee&&!se&&ye.error(Ee.name,Ee.message),!1}return!(void 0===fe||null===fe&&!oe.allowNull||function(de,Ae,me,le,oe){const se=le.default;if(void 0===se)return!1;if(null!=le.defaultEquals)return le.defaultEquals(oe);if("function"==typeof se){if(Array.isArray(oe)){const fe=se.call(de,Ae,me);return(0,z.fS)(fe,oe)}return!1}return se===oe}(de,me,se,le,fe)||void 0===le.default&&!oe.ignoreOrigin&&se&&se.origin&&Ae.store.originOf(me)<(0,Me.M9)(se.origin))}function be(de,Ae,me,le){const oe=(0,Ce.vw)(de),fe=(0,Ie.Ah)(oe.metadatas[Ae],le);return!!fe&&re(de,oe,Ae,fe,me,le)}function xe(de,Ae,me){if(de&&"function"==typeof de.toJSON&&(!de.toJSON.isDefaultToJSON||!de.write))return(0,Ce.TS)(Ae,de.toJSON());const le=(0,Ce.vw)(de),oe=le.metadatas;for(const Ee in oe){const ge=(0,Ie.Ah)(oe[Ee],me);if(!re(de,le,Ee,ge,void 0,me))continue;const Ue=de.get(Ee),Fe=he(de,ge,ge.write&&"string"==typeof ge.write.target?ge.write.target:Ee,Ue,me);var se,fe;Object.keys(Fe).length>0&&(Ae=(0,Ce.TS)(Ae,Fe),null!=me&&null!=(se=me.resources)&&null!=(fe=se.pendingOperations)&&fe.length&&Promise.all(me.resources.pendingOperations).then(()=>(0,Ce.TS)(Ae,Fe)),me&&me.writtenProperties&&me.writtenProperties.push({target:de,propName:Ee,oldOrigin:(0,Me.Wm)(le.store.originOf(Ee)),newOrigin:me.origin}))}return Ae}},85931:(hi,lt,N)=>{"use strict";N.d(lt,{SO:()=>Ee,a9:()=>me,fS:()=>re,xH:()=>fe,cq:()=>Ue,wf:()=>be,zG:()=>xe,w6:()=>le,Od:()=>qe,e$:()=>Fe,FY:()=>Le});var z=N(62208),J=N(4619);function re(He,Qe,ot){if((0,z.Wi)(He)&&(0,z.Wi)(Qe))return!0;if((0,z.Wi)(He)||(0,z.Wi)(Qe)||He.length!==Qe.length)return!1;if(ot){for(let Ne=0;Ne<He.length;Ne++)if(!ot(He[Ne],Qe[Ne]))return!1}else for(let Ne=0;Ne<He.length;Ne++)if(He[Ne]!==Qe[Ne])return!1;return!0}function be(He,Qe,ot){return He&&Qe?He.filter(ot?function(Ne){return Qe.findIndex(function(Se){return ot(Ne,Se)})>-1}:function(Ne){return Qe.indexOf(Ne)>-1}):[]}function xe(He){return He&&"number"==typeof He.length}const Ae=!!Array.prototype.fill;function me(He,Qe){if(Ae)return new Array(He).fill(Qe);const ot=new Array(He);for(let Ne=0;Ne<He;Ne++)ot[Ne]=Qe;return ot}function le(He,Qe){void 0===Qe&&(Qe=He,He=0);const ot=new Array(Qe-He);for(let Ne=He;Ne<Qe;Ne++)ot[Ne-He]=Ne;return ot}function fe(He){return He.reduce((Qe,ot)=>Qe.concat(ot||[]),[])}class Ee{constructor(){this.last=0}}const ge=new Ee;function Ue(He,Qe,ot,Ne){Ne=Ne||ge;const Se=Math.max(0,Ne.last-10);for(let nt=Se;nt<ot;++nt)if(He[nt]===Qe)return Ne.last=nt,nt;const $e=Math.min(Se,ot);for(let nt=0;nt<$e;++nt)if(He[nt]===Qe)return Ne.last=nt,nt;return-1}function Fe(He,Qe,ot,Ne){const Se=null==ot?He.length:ot,$e=Ue(He,Qe,Se,Ne);if(-1!==$e)return He[$e]=He[Se-1],null==ot&&He.pop(),Qe}const Ve=new Set;function Le(He,Qe,ot=He.length,Ne=Qe.length,Se,$e){if(0===Ne||0===ot)return ot;Ve.clear();for(let ut=0;ut<Ne;++ut)Ve.add(Qe[ut]);Se=Se||ge;const nt=Math.max(0,Se.last-10);for(let ut=nt;ut<ot;++ut)if(Ve.has(He[ut])&&($e&&$e.push(He[ut]),Ve.delete(He[ut]),He[ut]=He[ot-1],--ot,--ut,0===Ve.size||0===ot))return Ve.clear(),ot;for(let ut=0;ut<nt;++ut)if(Ve.has(He[ut])&&($e&&$e.push(He[ut]),Ve.delete(He[ut]),He[ut]=He[ot-1],--ot,--ut,0===Ve.size||0===ot))return Ve.clear(),ot;return Ve.clear(),ot}function qe(He,Qe){const ot=He.indexOf(Qe);return-1!==ot?(He.splice(ot,1),Qe):null}new J.Z},59213:(hi,lt,N)=>{"use strict";N.d(lt,{Ed:()=>Te,UI:()=>Me,q6:()=>Ce,mt:()=>Ie});var z=N(62208),J=N(10699);function Te(he,re,ce){return(0,J.as)(he.map((be,xe)=>re.apply(ce,[be,xe])))}function Me(he,re,ce){return(0,J.as)(he.map((be,xe)=>re.apply(ce,[be,xe]))).then(be=>be.map(xe=>xe.value))}function Ce(he){return(0,z.Wi)(he)?(0,J.DB)():he.then(re=>({ok:!0,value:re})).catch(re=>({ok:!1,error:re}))}function Ie(he){return he.then(re=>({ok:!0,value:re})).catch(re=>((0,J.r9)(re),{ok:!1,error:re}))}},84244:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>Te});var Me,z=N(95127),Te=(Me=z.Z,{setTimeout:(Ce,Ie)=>{const ye=Me.setTimeout(Ce,Ie);return{remove:()=>Me.clearTimeout(ye)}}})},89726:(hi,lt,N)=>{"use strict";N.d(lt,{R:()=>Te,Z:()=>J});var z=N(7093);function J(Ce,Ie,ye=z.Z){return Ie||(Ie=new ye),Ie===Ce||(Ie.removeAll(),function(Ce){return Ce&&(Array.isArray(Ce)||"items"in Ce&&Array.isArray(Ce.items))}(Ce)?Ie.addMany(Ce):Ce&&Ie.add(Ce)),Ie}function Te(Ce){return Ce}},94573:(hi,lt,N)=>{"use strict";function J(Ie){}function Me(Ie){return()=>Ie}N.d(lt,{Bg:()=>J,sM:()=>Me}),N(8314)},55538:(hi,lt,N)=>{"use strict";N.d(lt,{x9:()=>ye,XV:()=>Ce,Mr:()=>Ie});var z=N(8314);const J=new Set;function Ce(he,re,ce={}){if((0,z.Z)("esri-deprecation-warnings")){const{moduleName:be}=ce;ye(he,"Function: "+(be?be+"::":"")+re+"()",ce)}}function Ie(he,re,ce={}){if((0,z.Z)("esri-deprecation-warnings")){const{moduleName:be}=ce;ye(he,"Property: "+(be?be+"::":"")+re,ce)}}function ye(he,re,ce={}){if((0,z.Z)("esri-deprecation-warnings")){const{replacement:be,version:xe,see:de,warnOnce:Ae}=ce;let me=re;be&&(me+=`\n\t\u{1f6e0}\ufe0f Replacement: ${be}`),xe&&(me+=`\n\t\u2699\ufe0f Version: ${xe}`),de&&(me+=`\n\t\u{1f517} See ${de} for more details.`),function(he,re,ce=!1){ce&&J.has(re)||(ce&&J.add(re),he.warn(`\u{1f6d1} DEPRECATED - ${re}`))}(he,me,Ae)}}},83100:(hi,lt,N)=>{"use strict";N.d(lt,{pJ:()=>Te,XO:()=>J});var z=N(95127);function J(ce){return ce=ce||z.Z.location.hostname,re.some(be=>{var xe;return null!=(null==(xe=ce)?void 0:xe.match(be))})}function Te(ce,be){return ce&&(be=be||z.Z.location.hostname)?null!=be.match(Ce)||null!=be.match(ye)?ce.replace("static.arcgis.com","staticdev.arcgis.com"):null!=be.match(Ie)||null!=be.match(he)?ce.replace("static.arcgis.com","staticqa.arcgis.com"):ce:ce}const Ce=/^devext.arcgis.com$/,Ie=/^qaext.arcgis.com$/,ye=/^[\w-]*\.mapsdevext.arcgis.com$/,he=/^[\w-]*\.mapsqa.arcgis.com$/,re=[/^([\w-]*\.)?[\w-]*\.zrh-dev-local.esri.com$/,Ce,Ie,/^jsapps.esri.com$/,ye,he]},40764:(hi,lt,N)=>{"use strict";function z(he){return"string"==typeof he?document.getElementById(he):he}function J(he){for(;he.hasChildNodes();)he.removeChild(he.firstChild)}function Me(he,re){const ce=re.parentNode;ce&&ce.insertBefore(he,re)}function Ce(he,re){for(;;){const ce=he.firstChild;if(!ce)break;re.appendChild(ce)}}N.d(lt,{L7:()=>z,cS:()=>J,Vt:()=>Me,YD:()=>Ce}),(()=>{if("function"==typeof Element.prototype.closest)return(re,ce)=>re.closest(ce);Element.prototype.matches||Element})()},17770:(hi,lt,N)=>{"use strict";function z(ye){return ye&&("function"==typeof ye.on||"function"==typeof ye.addEventListener)}function J(ye,he,re){if(!z(ye))throw new TypeError("target is not a Evented or EventTarget object");if("on"in ye)return ye.on(he,re);if(Array.isArray(he)){const ce=he.slice();for(const be of ce)ye.addEventListener(be,re);return{remove(){for(const be of ce)ye.removeEventListener(be,re)}}}return ye.addEventListener(he,re),{remove(){ye.removeEventListener(he,re)}}}function Te(ye,he,re){if(!z(ye))throw new TypeError("target is not a Evented or EventTarget object");if("once"in ye)return ye.once(he,re);const ce=J(ye,he,be=>{ce.remove(),re.call(ye,be)});return{remove(){ce.remove()}}}N.d(lt,{kK:()=>Ie,vT:()=>z,on:()=>J,IH:()=>Te});const Ce={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};function Ie({key:ye}){return Ce[ye]||ye}},95127:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>z});const z="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0},54024:(hi,lt,N)=>{"use strict";N.d(lt,{AL:()=>J,kB:()=>Te});var z=N(62208);function J(he){return Te(()=>he.forEach(re=>(0,z.pC)(re)&&re.remove()))}function Te(he){return{remove:()=>{he&&(he(),he=void 0)}}}},8314:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>ye});var J,Te,z=N(95127);let Me;var Ce,Ie;function ye(he){return"function"==typeof Me[he]?Me[he]=Me[he](z.Z):Me[he]}Me=null!=(J=z.Z.dojoConfig)&&J.has||null!=(Te=z.Z.esriConfig)&&Te.has?ji(ji({},null==(Ce=z.Z.dojoConfig)?void 0:Ce.has),null==(Ie=z.Z.esriConfig)?void 0:Ie.has):{},ye.add=(he,re,ce,be)=>((be||void 0===Me[he])&&(Me[he]=re),ce&&ye(he)),ye.cache=Me,ye.add("esri-deprecation-warnings",!0),(()=>{ye.add("host-webworker",void 0!==z.Z.WorkerGlobalScope&&self instanceof z.Z.WorkerGlobalScope);const he="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location===location&&window.document===document;if(ye.add("host-browser",he),ye.add("host-node","object"==typeof z.Z.process&&z.Z.process.versions&&z.Z.process.versions.node&&z.Z.process.versions.v8),ye.add("dom",he),ye("host-browser")){const re=navigator,ce=re.userAgent,be=re.appVersion,xe=parseFloat(be);if(ye.add("wp",parseFloat(ce.split("Windows Phone")[1])||void 0),ye.add("msapp",parseFloat(ce.split("MSAppHost/")[1])||void 0),ye.add("khtml",be.includes("Konqueror")?xe:void 0),ye.add("edge",parseFloat(ce.split("Edge/")[1])||void 0),ye.add("opr",parseFloat(ce.split("OPR/")[1])||void 0),ye.add("webkit",!ye("wp")&&!ye("edge")&&parseFloat(ce.split("WebKit/")[1])||void 0),ye.add("chrome",!ye("edge")&&!ye("opr")&&parseFloat(ce.split("Chrome/")[1])||void 0),ye.add("android",!ye("wp")&&parseFloat(ce.split("Android ")[1])||void 0),ye.add("safari",!be.includes("Safari")||ye("wp")||ye("chrome")||ye("android")||ye("edge")||ye("opr")?void 0:parseFloat(be.split("Version/")[1])),ye.add("mac",be.includes("Macintosh")),!ye("wp")&&ce.match(/(iPhone|iPod|iPad)/)){const de=RegExp.$1.replace(/P/,"p"),Ae=ce.match(/OS ([\d_]+)/)?RegExp.$1:"1",me=parseFloat(Ae.replace(/_/,".").replace(/_/g,""));ye.add(de,me),ye.add("ios",me)}ye.add("trident",parseFloat(be.split("Trident/")[1])||void 0),ye("webkit")||(!ce.includes("Gecko")||ye("wp")||ye("khtml")||ye("trident")||ye("edge")||ye.add("mozilla",xe),ye("mozilla")&&ye.add("ff",parseFloat(ce.split("Firefox/")[1]||ce.split("Minefield/")[1])||void 0))}})(),(()=>{if(z.Z.navigator){const he=navigator.userAgent,re=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(he),ce=/iPhone/i.test(he);re&&ye.add("esri-mobile",re),ce&&ye.add("esri-iPhone",ce),ye.add("esri-geolocation",!!navigator.geolocation)}ye.add("esri-canvas-svg-support",!ye("trident")),ye.add("esri-wasm","WebAssembly"in z.Z),ye.add("esri-shared-array-buffer",()=>"SharedArrayBuffer"in z.Z&&!(!1===z.Z.crossOriginIsolated)),ye.add("esri-atomics","Atomics"in z.Z),ye.add("esri-workers","Worker"in z.Z),ye.add("esri-text-decoder","TextDecoder"in z.Z),ye.add("esri-text-encoder","TextEncoder"in z.Z),ye.add("web-feat:cache","caches"in z.Z),ye.add("esri-workers-arraybuffer-transfer",!ye("safari")||Number(ye("safari"))>=12),ye.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),ye.add("featurelayer-simplify-payload-size-factors",[1,1,4]),ye.add("featurelayer-snapshot-enabled",!0),ye.add("featurelayer-snapshot-point-min-threshold",8e4),ye.add("featurelayer-snapshot-point-max-threshold",4e5),ye.add("featurelayer-snapshot-point-coverage",.1),ye.add("featurelayer-advanced-symbols",!1),ye.add("featurelayer-pbf",!0),ye.add("featurelayer-pbf-statistics",!1),ye.add("feature-layers-workers",!0),ye.add("mapview-transitions-duration",200),ye.add("mapserver-pbf-enabled",!1),ye("host-webworker")||ye("host-browser")&&(ye.add("csp-restrictions",()=>{try{new Function}catch(he){return!0}return!1}),ye.add("esri-image-decode",()=>{if("decode"in new Image){const he=new Image;return he.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void he.decode().then(()=>{ye.add("esri-image-decode",!0,!0,!0)}).catch(()=>{ye.add("esri-image-decode",!1,!0,!0)})}return!1}),ye.add("esri-url-encodes-apostrophe",()=>{const he=z.Z.document.createElement("a");return he.href="?'",he.href.includes("?%27")}),ye.add("vectortilelayer-max-buffers",ye("ff")?160:Number.POSITIVE_INFINITY))})()},2076:(hi,lt,N)=>{"use strict";N.d(lt,{Xn:()=>J,wY:()=>Te});var z=N(94113);class J{constructor(Ce,Ie={ignoreUnknown:!1}){this.jsonToAPI=Ce,this.options=Ie,this.apiValues=[],this.jsonValues=[],this.apiToJSON=this.invertMap(Ce),this.apiValues=this.getKeysSorted(this.apiToJSON),this.jsonValues=this.getKeysSorted(this.jsonToAPI),this.read=ye=>this.fromJSON(ye),this.write=(ye,he,re)=>{const ce=this.toJSON(ye);void 0!==ce&&(0,z.RB)(re,ce,he)},this.write.isJSONMapWriter=!0}toJSON(Ce){return this.apiToJSON.hasOwnProperty(Ce)?this.apiToJSON[Ce]:this.options.ignoreUnknown?void 0:Ce}fromJSON(Ce){return this.jsonToAPI.hasOwnProperty(Ce)?this.jsonToAPI[Ce]:this.options.ignoreUnknown?void 0:Ce}invertMap(Ce){const Ie={};for(const ye in Ce)Ie[Ce[ye]]=ye;return Ie}getKeysSorted(Ce){const Ie=[];for(const ye in Ce)Ie.push(ye);return Ie.sort(),Ie}}function Te(){return function(Me){return new J(Me,{ignoreUnknown:!0})}}},58817:(hi,lt,N)=>{"use strict";N.d(lt,{d9:()=>Me,fS:()=>Ce,yd:()=>Te}),N(8314);var J=N(55713);function Te(ye,he){let re;if(he)for(re in ye)ye.hasOwnProperty(re)&&(void 0===ye[re]?delete ye[re]:ye[re]instanceof Object&&Te(ye[re],!0));else for(re in ye)ye.hasOwnProperty(re)&&void 0===ye[re]&&delete ye[re];return ye}function Me(ye){if(!ye||"object"!=typeof ye||"function"==typeof ye)return ye;if((0,J.W0)(ye)||(0,J.lq)(ye)||(0,J.KZ)(ye)||(0,J.z3)(ye)||(0,J.Uc)(ye)||(0,J.Hx)(ye)||(0,J.ZY)(ye)||(0,J.xZ)(ye)||(0,J.fS)(ye))return(0,J.tP)(ye);if(ye instanceof Date)return new Date(ye.getTime());if(ye instanceof ArrayBuffer)return ye.slice(0,ye.byteLength);if(ye instanceof Map){const ce=new Map;return ye.forEach((be,xe)=>{ce.set(xe,Me(be))}),ce}if(ye instanceof Set){const ce=new Set;return ye.forEach(be=>{ce.add(Me(be))}),ce}let he;const re=ye;if("function"==typeof re.clone)he=re.clone();else if("function"==typeof re.map&&"function"==typeof re.forEach)he=re.map(Me);else if("function"==typeof re.notifyChange&&"function"==typeof re.watch)he=re.clone();else{he={};for(const ce of Object.getOwnPropertyNames(ye))he[ce]=Me(ye[ce])}return he}function Ce(ye,he){return ye===he||"number"==typeof ye&&isNaN(ye)&&"number"==typeof he&&isNaN(he)||"function"==typeof(ye||{}).getTime&&"function"==typeof(he||{}).getTime&&ye.getTime()===he.getTime()||!1}},47877:(hi,lt,N)=>{"use strict";N.d(lt,{GZ:()=>Ie,wF:()=>he});var z=N(15861),J=N(59213),Te=N(7093),Me=N(47996),Ce=N(62208);function Ie(be,xe){return ye.apply(this,arguments)}function ye(){return(ye=(0,z.Z)(function*(be,xe){return yield be.load(),he(be,xe)})).apply(this,arguments)}function he(be,xe){return re.apply(this,arguments)}function re(){return re=(0,z.Z)(function*(be,xe){const de=[],Ae=(...le)=>{for(const oe of le)(0,Ce.Wi)(oe)||(Array.isArray(oe)?Ae(...oe):Te.Z.isCollection(oe)?oe.forEach(se=>Ae(se)):Me.Z.isLoadable(oe)&&de.push(oe))};xe(Ae);let me=null;if(yield(0,J.UI)(de,function(){var le=(0,z.Z)(function*(oe){!1!==(yield(0,J.q6)(ce(oe)?oe.loadAll():oe.load())).ok||me||(me=oe)});return function(oe){return le.apply(this,arguments)}}()),me)throw me.loadError;return be}),re.apply(this,arguments)}function ce(be){return"loadAll"in be&&"function"==typeof be.loadAll}},21286:(hi,lt,N)=>{"use strict";N.d(lt,{ZF:()=>fe,Kt:()=>Ee,jE:()=>je,uZ:()=>ye,oK:()=>Fe,Vl:()=>le,xV:()=>Me,wt:()=>re,t7:()=>Ae,k3:()=>de,Sf:()=>Ie,fp:()=>ce,BV:()=>oe,Xx:()=>xe});var z=N(84161);N(993);const Te=new Float32Array(1),Me=Number.isFinite||function(He){return"number"==typeof He&&window.isFinite(He)};function Ie(He){--He;for(let Qe=1;Qe<32;Qe<<=1)He|=He>>Qe;return He+1}function ye(He,Qe,ot){return Math.min(Math.max(He,Qe),ot)}function re(He){return 0==(He&He-1)}function ce(He){return He--,He|=He>>1,He|=He>>2,He|=He>>4,He|=He>>8,He|=He>>16,++He}const xe=Math.sign||function(He){return+(He>0)-+(He<0)||+He},de=Math.log2||function(He){return Math.log(He)/Math.LN2};function Ae(He,Qe,ot){return He+(Qe-He)*ot}function le(He){return He*Math.PI/180}function oe(He){return 180*He/Math.PI}function fe(He){return Math.acos(ye(He,-1,1))}function Ee(He){return Math.asin(ye(He,-1,1))}function Fe(He){return Ve(Math.max(-qe,Math.min(He,qe)))}function Ve(He){return Te[0]=He,Te[0]}function je(He,Qe){const ot=(0,z.l)(He),Ne=Ee(He[2]/ot),Se=Math.atan2(He[1]/ot,He[0]/ot);return(0,z.s)(Qe,ot,Ne,Se),Qe}const qe=Ve(34028234663852886e22)},62208:(hi,lt,N)=>{"use strict";function J(Ve){return null!=Ve}function Te(Ve){return null==Ve}function Me(Ve){return void 0===Ve}function Ce(Ve,Le){return J(Ve)?Le(Ve):null}function Ie(Ve){return Ve}function ye(Ve,Le){if(Te(Ve))throw new Error(Le);return Ve}function he(Ve,Le){return J(Ve)?Ve:"function"==typeof Le?Le():Le}function re(Ve){return J(Ve)&&Ve.destroy(),null}function ce(Ve){return J(Ve)&&Ve.dispose(),null}function be(Ve){return J(Ve)&&Ve.remove(),null}function xe(Ve){return J(Ve)&&Ve.abort(),null}function de(Ve){return J(Ve)&&Ve.release(),null}function Ae(Ve){return null}function le(Ve,Le){const tt=new Array;for(const je of Ve)tt.push(se(je,null,Le));return tt}function oe(Ve,Le){for(const tt of Ve)se(tt,null,Le)}function se(Ve,Le,tt){return J(Ve)?tt(Ve):Le}function fe(Ve,Le){return J(Ve)?Le(Ve):null}function ge(Ve){return Ve.filter(Le=>J(Le))}function Ue(Ve,...Le){let tt=Ve;for(let je=0;je<Le.length&&tt;++je)tt=tt[Le[je]];return tt}function Fe(Ve){return Ve}N.d(lt,{IM:()=>xe,Po:()=>fe,yw:()=>Ce,j0:()=>Fe,SC:()=>re,O3:()=>ce,lV:()=>ge,JR:()=>oe,U2:()=>Ue,Wi:()=>Te,pC:()=>J,o8:()=>Me,Fd:()=>le,R2:()=>se,Bd:()=>Ae,RY:()=>de,hw:()=>be,Wg:()=>Ie,Pt:()=>he,s3:()=>ye})},79682:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>ye});var z=N(95127);const Te=z.Z.queueMicrotask?z.Z.queueMicrotask:he=>{z.Z.Promise.resolve().then(he)},Me=[];let Ce=[];function Ie(he){Me.push(he),1===Me.length&&Te(()=>{for(const ce of Ce)ce();const re=Me.slice();Me.length=0;for(const ce of re)ce()})}(Ie||(Ie={})).before=function(ce){return Ce.push(ce),{remove(){Ce=Ce.filter(be=>be!==ce)}}};var ye=Ie},94113:(hi,lt,N)=>{"use strict";N.d(lt,{RH:()=>J,hS:()=>Te,RB:()=>Me});var z=N(58817);function J(ye,he,re=!1){return Ie(ye,he,re)}function Te(ye,he){if(null!=he)return he[ye]||Ce(ye.split("."),!1,he)}function Me(ye,he,re){const ce=ye.split("."),be=ce.pop(),xe=Ce(ce,!0,re);xe&&be&&(xe[be]=he)}function Ce(ye,he,re){let ce=re;for(const be of ye){if(null==ce)return;if(!(be in ce)){if(!he)return;ce[be]={}}ce=ce[be]}return ce}function Ie(ye,he,re){return he?Object.keys(he).reduce(function(ce,be){let xe=ce[be],de=he[be];return xe===de?ce:void 0===xe?(ce[be]=(0,z.d9)(de),ce):(Array.isArray(de)||Array.isArray(ce)?(xe=ce[be]=xe?Array.isArray(xe)?xe.concat():[xe]:[],de&&(Array.isArray(de)||(de=[de]),re?de.forEach(Ae=>{-1===xe.indexOf(Ae)&&xe.push(Ae)}):ce[be]=de.concat())):de&&"object"==typeof de?ce[be]=Ie(xe,de,re):ce.hasOwnProperty(be)&&!he.hasOwnProperty(be)||(ce[be]=de),ce)},ye||{}):ye}},24192:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>Ie});var z=N(8314),J=N(27899);const Te=4294967296,Me=(0,z.Z)("esri-text-decoder")?new TextDecoder("utf-8"):null,Ce=(0,z.Z)("safari")||(0,z.Z)("ios")?6:(0,z.Z)("ff")?12:32;class Ie{constructor(he,re,ce=0,be=(he?he.byteLength:0)){this._tag=0,this._dataType=99,this.init(he,re,ce,be)}init(he,re,ce,be){this._data=he,this._dataView=re,this._pos=ce,this._end=be}clone(){return new Ie(this._data,this._dataView,this._pos,this._end)}pos(){return this._pos}move(he){this._pos=he}nextTag(he){for(;;){if(this._pos===this._end)return!1;const re=this._decodeVarint();if(this._tag=re>>3,this._dataType=7&re,!he||he===this._tag)break;this.skip()}return!0}next(){if(this._pos===this._end)return!1;const he=this._decodeVarint();return this._tag=he>>3,this._dataType=7&he,!0}empty(){return this._pos>=this._end}tag(){return this._tag}getInt32(){return this._decodeVarint()}getInt64(){return this._decodeVarint()}getUInt32(){let he=4294967295;return he=(127&this._data[this._pos])>>>0,this._data[this._pos++]<128?he:(he=(he|(127&this._data[this._pos])<<7)>>>0,this._data[this._pos++]<128?he:(he=(he|(127&this._data[this._pos])<<14)>>>0,this._data[this._pos++]<128?he:(he=(he|(127&this._data[this._pos])<<21)>>>0,this._data[this._pos++]<128?he:(he=(he|(15&this._data[this._pos])<<28)>>>0,this._data[this._pos++]<128?he:void 0))))}getUInt64(){return this._decodeVarint()}getSInt32(){const he=this.getUInt32();return he>>>1^-(1&he)|0}getSInt64(){return this._decodeSVarint()}getBool(){const he=0!==this._data[this._pos];return this._skip(1),he}getEnum(){return this._decodeVarint()}getFixed64(){const he=this._dataView,re=this._pos,ce=he.getUint32(re,!0)+he.getUint32(re+4,!0)*Te;return this._skip(8),ce}getSFixed64(){const he=this._dataView,re=this._pos,ce=he.getUint32(re,!0)+he.getInt32(re+4,!0)*Te;return this._skip(8),ce}getDouble(){const he=this._dataView.getFloat64(this._pos,!0);return this._skip(8),he}getFixed32(){const he=this._dataView.getUint32(this._pos,!0);return this._skip(4),he}getSFixed32(){const he=this._dataView.getInt32(this._pos,!0);return this._skip(4),he}getFloat(){const he=this._dataView.getFloat32(this._pos,!0);return this._skip(4),he}getString(){const he=this._getLength(),re=this._pos,ce=this._toString(this._data,re,re+he);return this._skip(he),ce}getBytes(){const he=this._getLength(),re=this._pos,ce=this._toBytes(this._data,re,re+he);return this._skip(he),ce}getLength(){return this._getLengthUnsafe()}processMessageWithArgs(he,re,ce,be){const xe=this.getMessage(),de=he(xe,re,ce,be);return xe.release(),de}processMessage(he){const re=this.getMessage(),ce=he(re);return re.release(),ce}getMessage(){const he=this._getLength(),re=Ie.pool.acquire();return re.init(this._data,this._dataView,this._pos,this._pos+he),this._skip(he),re}release(){Ie.pool.release(this)}dataType(){return this._dataType}skip(){switch(this._dataType){case 0:this._decodeVarint();break;case 1:this._skip(8);break;case 2:this._skip(this._getLength());break;case 5:this._skip(4);break;default:throw new Error("Invalid data type!")}}skipLen(he){this._skip(he)}_skip(he){if(this._pos+he>this._end)throw new Error("Attempt to skip past the end of buffer!");this._pos+=he}_decodeVarint(){const he=this._data;let re,ce=this._pos,be=0;if(this._end-ce>=10)do{if(re=he[ce++],be|=127&re,0==(128&re)||(re=he[ce++],be|=(127&re)<<7,0==(128&re))||(re=he[ce++],be|=(127&re)<<14,0==(128&re))||(re=he[ce++],be|=(127&re)<<21,0==(128&re))||(re=he[ce++],be+=268435456*(127&re),0==(128&re))||(re=he[ce++],be+=34359738368*(127&re),0==(128&re))||(re=he[ce++],be+=4398046511104*(127&re),0==(128&re))||(re=he[ce++],be+=562949953421312*(127&re),0==(128&re))||(re=he[ce++],be+=72057594037927940*(127&re),0==(128&re))||(re=he[ce++],be+=0x8000000000000000*(127&re),0==(128&re)))break;throw new Error("Varint too long!")}while(0);else{let xe=1;for(;ce!==this._end&&(re=he[ce],0!=(128&re));)++ce,be+=(127&re)*xe,xe*=128;if(ce===this._end)throw new Error("Varint overrun!");++ce,be+=re*xe}return this._pos=ce,be}_decodeSVarint(){const he=this._decodeVarint();return he%2?-(he+1)/2:he/2}_getLength(){if(2!==this._dataType)throw new Error("Not a delimited data type!");return this._decodeVarint()}_getLengthUnsafe(){return this.getUInt32()}_toString(he,re,ce){if((ce=Math.min(this._end,ce))-re>Ce&&Me){const de=he.subarray(re,ce);return Me.decode(de)}let be="",xe="";for(let de=re;de<ce;++de){const Ae=he[de];128&Ae?xe+="%"+Ae.toString(16):(be+=decodeURIComponent(xe)+String.fromCharCode(Ae),xe="")}return xe.length&&(be+=decodeURIComponent(xe)),be}_toBytes(he,re,ce){return ce=Math.min(this._end,ce),new Uint8Array(he.buffer,re,ce-re)}}Ie.pool=new J.Z(Ie,null,ye=>{ye._data=null,ye._dataView=null})},10699:(hi,lt,N)=>{"use strict";N.d(lt,{e4:()=>je,$6:()=>Ie,Ue:()=>he,yi:()=>ce,zE:()=>re,dD:()=>Ue,hh:()=>ot,vr:()=>Se,Ds:()=>Qe,as:()=>Fe,WW:()=>Ve,R8:()=>Ee,D_:()=>fe,Hc:()=>de,tI:()=>He,y8:()=>Oe,fu:()=>le,$F:()=>oe,d1:()=>Le,DB:()=>tt,r9:()=>Ae,k_:()=>be,H9:()=>me,gx:()=>qe,Hl:()=>se});var z=N(84244),J=N(26584),Te=N(17770),Ce=(N(63290),N(62208));function Ie($e){return Promise.all($e)}function he($e){return new Promise((nt,ut)=>{try{$e(nt,ut)}catch(xt){Promise.resolve().then(()=>ut(xt))}})}function re($e="Aborted"){return new J.Z("AbortError",$e)}function ce(){return new AbortController}function be($e,nt="Aborted"){if(de($e))throw re(nt)}function xe($e){return(0,Ce.pC)($e)?"aborted"in $e?$e:$e.signal:$e}function de($e){const nt=xe($e);return(0,Ce.pC)(nt)&&nt.aborted}function Ae($e){if(fe($e))throw $e}function me($e){if(!fe($e))throw $e}function le($e,nt){const ut=xe($e);if(!(0,Ce.Wi)(ut)){if(!ut.aborted)return(0,Te.IH)(ut,"abort",()=>nt());nt()}}function oe($e,nt){const ut=xe($e);if(!(0,Ce.Wi)(ut))return be(ut),(0,Te.IH)(ut,"abort",()=>nt(re()))}function se($e,nt){const ut=xe(nt);return(0,Ce.Wi)(ut)?$e:new Promise((xt,Ze)=>{let et=le(nt,()=>Ze(re()));const gt=()=>et=(0,Ce.hw)(et);$e.then(gt,gt),$e.then(xt,Ze)})}function fe($e){return $e&&"AbortError"===$e.name}function Ee($e){return $e.catch(nt=>{if(!fe(nt))throw nt})}function Ue(){let $e=null;const nt=new Promise((ut,xt)=>{$e={promise:void 0,resolve:ut,reject:xt}});return $e.promise=nt,$e}function Fe($e){if(!$e)return;if("function"!=typeof $e.forEach){const ut=Object.keys($e);return Fe(ut.map(xt=>$e[xt])).then(xt=>{const Ze={};return ut.forEach((et,gt)=>Ze[et]=xt[gt]),Ze})}const nt=$e;return he(ut=>{const xt=[];let Ze=nt.length;0===Ze&&ut(xt),nt.forEach(et=>{const gt={promise:et||Promise.resolve(et)};xt.push(gt),gt.promise.then(Vt=>{gt.value=Vt}).catch(Vt=>{gt.error=Vt}).then(()=>{--Ze,0===Ze&&ut(xt)})})})}function Ve($e){return Fe($e).then(nt=>nt.filter(ut=>!!ut.value).map(ut=>ut.value))}function Le($e){return Promise.reject($e)}function tt($e){return Promise.resolve($e)}function je($e,nt,ut){const xt=ce();return le(ut,()=>xt.abort()),new Promise((Ze,et)=>{let gt=setTimeout(()=>{gt=0,Ze(nt)},$e);le(xt,()=>{gt&&(clearTimeout(gt),et(re()))})})}function Oe($e){return $e&&"function"==typeof $e.then}function qe($e){return He($e)?$e:Promise.resolve($e)}function He($e){return $e&&"object"==typeof $e&&"then"in $e&&"function"==typeof $e.then}function Qe($e,nt=-1){let ut,xt,Ze,et,gt=null;const Vt=(...Bt)=>{if(ut){xt=Bt,et&&et.reject(re()),et=Ue();const jt=(0,Ce.j0)(et.promise);if(gt){const Rt=gt;gt=null,Rt.abort()}return jt}if(Ze=et||Ue(),et=null,nt>0){const jt=ce();ut=qe($e(...Bt,jt.signal));const Rt=ut;je(nt).then(()=>{ut===Rt&&(et?jt.abort():gt=jt)})}else ut=1,ut=qe($e(...Bt));const Lt=()=>{const jt=xt;xt=Ze=ut=gt=null,null!=jt&&Vt(...jt)},Pt=ut,dt=Ze;return Pt.then(Lt,Lt),Pt.then(dt.resolve,dt.reject),(0,Ce.j0)(dt.promise)};return Vt}function ot(){let $e,nt;const ut=new Promise((Ze,et)=>{$e=Ze,nt=et}),xt=Ze=>{$e(Ze)};return xt.resolve=Ze=>$e(Ze),xt.reject=Ze=>nt(Ze),xt.timeout=(Ze,et)=>z.Z.setTimeout(()=>xt.reject(et),Ze),xt.promise=ut,xt}function Se($e){let nt=ce();const ut=$e(nt.signal);let xt={promise:ut,finished:!1,abort:()=>{nt&&(nt.abort(),nt=null)}};const Ze=()=>{xt&&(xt.finished=!0,xt=null),nt=null};return ut.then(Ze,Ze),xt}},50618:(hi,lt,N)=>{"use strict";N.d(lt,{A:()=>se,Os:()=>oe,MU:()=>je});var z=N(62208),J=N(79682),Te=N(73362),Me=N(77029),Ce=N(10699),Ie=N(27422);class ye{constructor(He){this.phases=He,this.paused=!1,this.ticks=-1,this.removed=!1}}class he{constructor(He){this.callback=He,this.isActive=!0}remove(){this.isActive=!1}}let re=0;const be={time:(0,Ie.HA)(0),deltaTime:(0,Ie.HA)(0),elapsedFrameTime:(0,Ie.HA)(0),frameDuration:(0,Ie.HA)(0)},xe=["prepare","preRender","render","postRender","update"],de=[],Ae=new Me.Z;class me{constructor(He){this._task=He}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1}}const le={frameTasks:Ae,willDispatch:!1,clearFrameTasks:function(qe=!1){Ae.forAll(He=>{He.removed=!0}),qe&&Le()},dispatch:tt,executeFrameTasks:function(qe){const He=(0,Ie.HA)(qe-re);re=qe;const Qe=1e3/60,ot=Math.max(0,He-Qe);for(let Ne=0;Ne<xe.length;Ne++){const Se=performance.now(),$e=xe[Ne];Ae.forAll(nt=>{var ut;nt.paused||nt.removed||(0===Ne&&nt.ticks++,nt.phases[$e]&&(be.time=qe,be.deltaTime=0===nt.ticks?(0,Ie.HA)(0):He,be.elapsedFrameTime=(0,Ie.HA)(performance.now()-qe),be.frameDuration=(0,Ie.HA)(Qe-ot),null==(ut=nt.phases[$e])||ut.call(nt,be)))}),ve[Ne].record(performance.now()-Se)}Le(),Oe.record(performance.now()-qe)}};function oe(qe){const He=new he(qe);return de.push(He),le.willDispatch||(le.willDispatch=!0,(0,J.Z)(tt)),He}function se(qe){const He=new ye(qe);return Ae.push(He),null==fe&&(re=performance.now(),fe=requestAnimationFrame(Ue)),new me(He)}let fe=null;function Ue(){const qe=performance.now();fe=null,fe=Ae.length>0?requestAnimationFrame(Ue):null,le.executeFrameTasks(qe)}const Ve=new Me.Z;function Le(){Ae.forAll(qe=>{qe.removed&&Ve.push(qe)}),Ae.removeUnorderedMany(Ve.data,Ve.length),Ve.clear()}function tt(){for(;de.length;){const qe=(0,z.j0)(de.shift());qe.isActive&&qe.callback()}le.willDispatch=!1}function je(qe=1,He){const Qe=(0,Ce.hh)(),ot=()=>{(0,Ce.Hc)(He)?Qe.reject((0,Ce.zE)()):0===qe?Qe():(--qe,(0,J.Z)(()=>ot()))};return ot(),Qe.promise}const ve=xe.map(qe=>new Te.Z(qe)),Oe=new Te.Z("total")},23841:(hi,lt,N)=>{"use strict";N.d(lt,{vW:()=>ye,s1:()=>he,F2:()=>Me,Wz:()=>Ce,t_:()=>Ie});const z=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;function Me(oe){return oe?oe/72*96:0}function Ce(oe){return oe?72*oe/96:0}function Ie(oe){if("string"==typeof oe){if(z.test(oe)){const se=oe.match(z),fe=Number(se[1]),Ee=se[3]&&se[3].toLowerCase(),ge="-"===oe.charAt(0),Ue="px"===Ee?Ce(fe):fe;return ge?-Ue:Ue}return console.warn("screenUtils.toPt: input not recognized!"),null}return oe}function ye(oe=0,se=0){return{x:oe,y:se}}function he(oe=0,se=0){return[oe,se]}},77275:(hi,lt,N)=>{"use strict";N.d(lt,{Qs:()=>Ce,hP:()=>Ie,gx:()=>Me,Cb:()=>ye});var z=N(94113);const J=/\{([^\}]+)\}/g;function Te(he){return null==he?"":he}function Me(he,re){return he.replace(J,"object"==typeof re?(ce,be)=>Te((0,z.hS)(be,re)):(ce,be)=>Te(re(be)))}function Ce(he,re){return he.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,ce=>re&&-1!==re.indexOf(ce)?ce:`\\${ce}`)}function Ie(he){let re=0;for(let ce=0;ce<he.length;ce++)re=(re<<5)-re+he.charCodeAt(ce),re|=0;return re}function ye(he){return(new DOMParser).parseFromString(he||"","text/html").body.innerText||""}},7074:(hi,lt,N)=>{"use strict";function z(J,Te,Me,Ce){let Ie=null,ye=1e3;"number"==typeof Te?(ye=Te,Ce=Me):(Ie=null!=Te?Te:null,ye=Me);let he,re=0;const ce=()=>{re=0,J.apply(Ce,he)},be=(...xe)=>{Ie&&Ie.apply(Ce,xe),he=xe,ye?re||(re=setTimeout(ce,ye)):ce()};return be.remove=()=>{re&&(clearTimeout(re),re=0)},be.forceUpdate=()=>{re&&(clearTimeout(re),ce())},be.hasPendingUpdates=()=>!!re,be}N.d(lt,{P:()=>z})},27422:(hi,lt,N)=>{"use strict";function z(Ce){return Ce}N.d(lt,{HA:()=>z})},28170:(hi,lt,N)=>{"use strict";N.d(lt,{rJ:()=>be,Nm:()=>Me,JE:()=>Ie}),N(8314);const J={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8},Te={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}};function Me(xe,de,Ae){const me=new Date(xe.getTime());if(de&&Ae){const le=Te[Ae],{getter:oe,setter:se,multiplier:fe}=le;me[se](me[oe]()+de*fe)}return me}function Ie(xe,de){switch(de){case"milliseconds":return new Date(xe.getTime());case"seconds":return new Date(xe.getFullYear(),xe.getMonth(),xe.getDate(),xe.getHours(),xe.getMinutes(),xe.getSeconds());case"minutes":return new Date(xe.getFullYear(),xe.getMonth(),xe.getDate(),xe.getHours(),xe.getMinutes());case"hours":return new Date(xe.getFullYear(),xe.getMonth(),xe.getDate(),xe.getHours());case"days":return new Date(xe.getFullYear(),xe.getMonth(),xe.getDate());case"weeks":return new Date(xe.getFullYear(),xe.getMonth(),xe.getDate()-xe.getDay());case"months":return new Date(xe.getFullYear(),xe.getMonth(),1);case"years":return new Date(xe.getFullYear(),0,1);case"decades":return new Date(xe.getFullYear()-xe.getFullYear()%10,0,1);case"centuries":return new Date(xe.getFullYear()-xe.getFullYear()%100,0,1);default:return new Date}}function be(xe,de,Ae){return 0===xe?0:xe*J[de]/J[Ae]}},55713:(hi,lt,N)=>{"use strict";function z(me,le){if(me.forEach)me.forEach(le);else for(let oe=0;oe<me.length;oe++)le(me[oe],oe,me)}function J(me,le,oe){if(me.slice)return me.slice(le,oe);void 0===le?le=0:(le<0&&(le+=me.length),le=Math.min(me.length,Math.max(0,le))),void 0===oe?oe=me.length:(oe<0&&(oe+=me.length),oe=Math.min(me.length,Math.max(0,oe)));const se=Math.max(0,oe-le),fe=new me.constructor(se);for(let Ee=0;Ee<se;Ee++)fe[Ee]=me[le+Ee];return fe}function Te(me){return me instanceof ArrayBuffer||me&&me.constructor&&"ArrayBuffer"===me.constructor.name}function Me(me){return me instanceof Int8Array||me&&me.constructor&&"Int8Array"===me.constructor.name}function Ce(me){return me instanceof Uint8Array||me&&me.constructor&&"Uint8Array"===me.constructor.name}function Ie(me){return me instanceof Uint8ClampedArray||me&&me.constructor&&"Uint8ClampedArray"===me.constructor.name}function ye(me){return me instanceof Int16Array||me&&me.constructor&&"Int16Array"===me.constructor.name}function he(me){return me instanceof Uint16Array||me&&me.constructor&&"Uint16Array"===me.constructor.name}function re(me){return me instanceof Int32Array||me&&me.constructor&&"Int32Array"===me.constructor.name}function ce(me){return me instanceof Uint32Array||me&&me.constructor&&"Uint32Array"===me.constructor.name}function be(me){return me instanceof Float32Array||me&&me.constructor&&"Float32Array"===me.constructor.name}function xe(me){return me instanceof Float64Array||me&&me.constructor&&"Float64Array"===me.constructor.name}N.d(lt,{Ed:()=>z,eP:()=>Te,xZ:()=>be,fS:()=>xe,z3:()=>ye,Hx:()=>re,W0:()=>Me,Uc:()=>he,ZY:()=>ce,lq:()=>Ce,KZ:()=>Ie,tP:()=>J})},86236:(hi,lt,N)=>{"use strict";N.d(lt,{D:()=>Te});let z=0;function Te(){return++z}},16730:(hi,lt,N)=>{"use strict";N.d(lt,{gV:()=>jt,En:()=>ve,Z7:()=>Vt,c9:()=>gt,_R:()=>Ze,qE:()=>Bt,cM:()=>et,hd:()=>he,ty:()=>nt,Jo:()=>Rt,$C:()=>ut}),N(8314);var J=N(2076),Te=N(12080),Me=N(65234),Ce=N(94425),Ie=N(37053),ye=N(84029);const he=39.37,re=Ce.sv.radius*Math.PI/200,ce=/UNIT\[([^\]]+)\]\]$/i,be=ye.Z,xe=/UNIT\[([^\]]+)\]/i,de=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),Ae=(0,J.wY)()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),me=ke=>ke*ke,le=ke=>ke*ke*ke,oe={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:me(.001)},"square-centimeters":{inBaseUnits:me(.01)},"square-decimeters":{inBaseUnits:me(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:me(1e3)},"square-inches":{inBaseUnits:me(.0254)},"square-feet":{inBaseUnits:me(.3048)},"square-yards":{inBaseUnits:me(.9144)},"square-miles":{inBaseUnits:me(1609.344)},"square-us-feet":{inBaseUnits:me(1200/3937)},acres:{inBaseUnits:.0015625*me(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*le(.001)},"cubic-centimeters":{inBaseUnits:1e3*le(.01)},"cubic-decimeters":{inBaseUnits:1e3*le(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*le(1e3)},"cubic-inches":{inBaseUnits:1e3*le(.0254)},"cubic-feet":{inBaseUnits:1e3*le(.3048)},"cubic-yards":{inBaseUnits:1e3*le(.9144)},"cubic-miles":{inBaseUnits:1e3*le(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},se=function(){const ke={};for(const rt in oe)for(const Dt in oe[rt].units)ke[Dt]=rt;return ke}();function Ve(ke){const rt=se[ke];if(rt)return rt;throw new Error("unknown measure")}function je(ke,rt=null){return rt=rt||Ve(ke),oe[rt].baseUnit===ke}function ve(ke,rt,Dt){if(rt===Dt)return ke;const Kt=Ve(rt);if(Kt!==Ve(Dt))throw new Error("incompatible units");const st=je(rt,Kt)?ke:function(ke,rt,Dt){return ke*oe[Dt].units[rt].inBaseUnits}(ke,rt,Kt);return je(Dt,Kt)?st:function(ke,rt,Dt){return ke/oe[Dt].units[rt].inBaseUnits}(st,Dt,Kt)}function nt(ke,rt,Dt){return ve(ke,rt,"meters")/(Dt*Math.PI/180)}function ut(ke){return Ae.fromJSON(ke.toLowerCase())||null}function Ze(ke){if(ke&&"object"==typeof ke&&!(0,Ie.N$)(ke))return 1;const rt=gt(ke);return rt>1e5?1:rt}function et(ke){return gt(ke)>=(ke instanceof Me.Z?(0,Te.Iu)(ke).metersPerDegree:1e5)?"meters":Bt(ke)}function gt(ke,rt=Ce.sv.metersPerDegree){return Vt(ke,!0)||rt}function Vt(ke,rt=!1){let Dt,Kt,st=null;if(null!=ke&&("object"==typeof ke?(Dt=ke.wkid,Kt=ke.wkt):"number"==typeof ke?Dt=ke:"string"==typeof ke&&(Kt=ke)),Dt){if((0,Ie.o$)(Dt))return Ce.yr.metersPerDegree;if((0,Ie.ME)(Dt))return Ce.Z1.metersPerDegree;st=be.values[be[Dt]],!st&&rt&&de.has(Dt)&&(st=re)}else if(Kt)if(-1!==Kt.search(/^PROJCS/i)){const Ti=ce.exec(Kt);Ti&&Ti[1]&&(st=parseFloat(Ti[1].split(",")[1]))}else if(-1!==Kt.search(/^GEOCCS/i)){const Ti=xe.exec(Kt);Ti&&Ti[1]&&(st=parseFloat(Ti[1].split(",")[1]))}return st}function Bt(ke){let rt,Dt,Kt=null;if(null!=ke&&("object"==typeof ke?(rt=ke.wkid,Dt=ke.wkt):"number"==typeof ke?rt=ke:"string"==typeof ke&&(Dt=ke)),rt)Kt=be.units[be[rt]];else if(Dt&&-1!==Dt.search(/^PROJCS/i)){let st=ce.exec(Dt);st&&st[1]&&(st=/[\\"\\']{1}([^\\"\\']+)/.exec(st[1]),Kt=st&&st[1])}return Kt?ut(Kt):null}const Pt={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},dt={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},jt=(0,J.wY)()(Pt),Rt=(0,J.wY)()(dt);(0,J.wY)()(ji(ji({},Pt),dt))},21726:(hi,lt,N)=>{"use strict";N.d(lt,{R9:()=>oe,qg:()=>tt,tD:()=>qe,ZN:()=>L,fl:()=>F,AX:()=>Ee,Gd:()=>se,Ie:()=>T,sJ:()=>jt,AH:()=>Pt,vt:()=>kn,oh:()=>Ne,P$:()=>gt,Ml:()=>W,ed:()=>He,b7:()=>Le,D6:()=>Se,tm:()=>Qe,YP:()=>Vt,jc:()=>Bt,HK:()=>Lt,$U:()=>Ti,oC:()=>Kt,zd:()=>D,kl:()=>$e,v_:()=>et,hF:()=>ut,_l:()=>Rt,PF:()=>xt,Fv:()=>Ze,B7:()=>Ve,u0:()=>Ue,Yd:()=>Vn,Hu:()=>O,Qj:()=>B,hO:()=>fi,mN:()=>ge});var z=N(59318),J=N(26584),Me=(N(95127),N(63290)),Ce=N(62208);const Ie=Me.Z.getLogger("esri.core.urlUtils"),ye=z.Z.request,he="esri/config: esriConfig.request.proxyUrl is not set.",re=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,ce=/^\s*http:/i,be=/^\s*https:/i,xe=/^\s*file:/i,de=/:\d+$/,Ae=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,me=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),le=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$");class oe{constructor(te=""){this.uri=te,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let ne=(0,Ce.j0)(this.uri.match(me));this.scheme=ne[2]||(ne[1]?"":null),this.authority=ne[4]||(ne[3]?"":null),this.path=ne[5],this.query=ne[7]||(ne[6]?"":null),this.fragment=ne[9]||(ne[8]?"":null),null!=this.authority&&(ne=(0,Ce.j0)(this.authority.match(le)),this.user=ne[3]||null,this.password=ne[4]||null,this.host=ne[6]||ne[7],this.port=ne[9]||null)}toString(){return this.uri}}const se=new oe(z.Z.applicationUrl),fe={},Ee=(()=>{const Y=(0,Ce.j0)(se.path),te=Y.substring(0,Y.lastIndexOf(Y.split("/")[Y.split("/").length-1]));return`${se.scheme}://${se.host}${null!=se.port?`:${se.port}`:""}${te}`})();function ge(Y){const te={path:null,query:null},ne=new oe(Y),we=Y.indexOf("?");return null===ne.query?te.path=Y:(te.path=Y.substring(0,we),te.query=Ue(ne.query)),ne.fragment&&(te.hash=ne.fragment,null===ne.query&&(te.path=te.path.substring(0,te.path.length-(ne.fragment.length+1)))),te}function Ue(Y){const te=Y.split("&"),ne={};for(const we of te){if(!we)continue;const ze=we.indexOf("=");let _t,Mt;ze<0?(_t=decodeURIComponent(we),Mt=""):(_t=decodeURIComponent(we.slice(0,ze)),Mt=decodeURIComponent(we.slice(ze+1)));let pe=ne[_t];"string"==typeof pe&&(pe=ne[_t]=[pe]),Array.isArray(pe)?pe.push(Mt):ne[_t]=Mt}return ne}function Fe(Y){return Y&&"object"==typeof Y&&"toJSON"in Y&&"function"==typeof Y.toJSON}function Ve(Y,te){return Y?te&&"function"==typeof te?Object.keys(Y).map(ne=>encodeURIComponent(ne)+"="+encodeURIComponent(te(ne,Y[ne]))).join("&"):Object.keys(Y).map(ne=>{const we=Y[ne];if(null==we)return"";const ze=encodeURIComponent(ne)+"=",_t=te&&te[ne];return _t?ze+encodeURIComponent(_t(we)):Array.isArray(we)?we.map(Mt=>Fe(Mt)?ze+encodeURIComponent(JSON.stringify(Mt)):ze+encodeURIComponent(Mt)).join("&"):Fe(we)?ze+encodeURIComponent(JSON.stringify(we)):ze+encodeURIComponent(we)}).filter(ne=>ne).join("&"):""}function Le(Y=!1){let te,ne=ye.proxyUrl;if("string"==typeof Y){te=Ti(Y);const we=He(Y);we&&(ne=we.proxyUrl)}else te=!!Y;if(!ne)throw Ie.warn(he),new J.Z("urlutils:proxy-not-set",he);return te&&Ki()&&(ne=fi(ne)),ge(ne)}function tt(Y){const te=He(Y);let ne,we;if(te){const ze=ve(te.proxyUrl);ne=ze.path,we=ze.query?Ue(ze.query):null}if(ne){const ze=ge(Y);Y=ne+"?"+ze.path;const _t=Ve(ji(ji({},we),ze.query));_t&&(Y=`${Y}?${_t}`)}return Y}const je={path:"",query:""};function ve(Y){const te=Y.indexOf("?");return-1!==te?(je.path=Y.slice(0,te),je.query=Y.slice(te+1)):(je.path=Y,je.query=null),je}function Oe(Y){return(Y=yn(Y=function(Y){return Y&&"/"===Y[Y.length-1]?Y:`${Y}/`}(Y=ve(Y).path),!0)).toLowerCase()}function qe(Y){const te={proxyUrl:Y.proxyUrl,urlPrefix:Oe(Y.urlPrefix)},ne=ye.proxyRules,we=te.urlPrefix;let ze=ne.length;for(let _t=0;_t<ne.length;_t++){const Mt=ne[_t].urlPrefix;if(0===we.indexOf(Mt)){if(we.length===Mt.length)return-1;ze=_t;break}0===Mt.indexOf(we)&&(ze=_t+1)}return ne.splice(ze,0,te),ze}function He(Y){const te=ye.proxyRules,ne=Oe(Y);for(let we=0;we<te.length;we++)if(0===ne.indexOf(te[we].urlPrefix))return te[we]}function Qe(Y,te){return Y=ot(Y),te=ot(te),yn(Y)===yn(te)}function ot(Y){const te=(Y=Ze(Y)).indexOf("/sharing");return te>0?Y.substring(0,te):Y.replace(/\/+$/,"")}function Ne(Y){const te=we=>null==we||we instanceof RegExp&&we.test(Y)||"string"==typeof we&&Y.startsWith(we),ne=ye.interceptors;if(ne)for(const we of ne)if(Array.isArray(we.urls)){if(we.urls.some(te))return we}else if(te(we.urls))return we;return null}function Se(Y,te,ne=!1){const we=E(Y),ze=E(te);return!(!ne&&we.scheme!==ze.scheme)&&null!=we.host&&null!=ze.host&&we.host.toLowerCase()===ze.host.toLowerCase()&&we.port===ze.port}function $e(Y){if("string"==typeof Y){if(!Vt(Y))return!0;Y=E(Y)}if(Se(Y,se))return!0;const te=ye.trustedServers||[];for(let ne=0;ne<te.length;ne++){const we=nt(te[ne]);for(let ze=0;ze<we.length;ze++)if(Se(Y,we[ze]))return!0}return!1}function nt(Y){return fe[Y]||(fe[Y]=st(Y)||Kt(Y)?[new oe(ut(Y))]:[new oe(`http://${Y}`),new oe(`https://${Y}`)]),fe[Y]}function ut(Y,te=Ee,ne){return Kt(Y)?ne&&ne.preserveProtocolRelative?Y:"http"===se.scheme&&se.authority===gt(Y).slice(2)?`http:${Y}`:`https:${Y}`:st(Y)?Y:(0,Ce.j0)(et("/"===Y[0]?function(Y){const te=Y.indexOf("//"),ne=Y.indexOf("/",te+2);return-1===ne?Y:Y.slice(0,ne)}(te):te,Y))}function xt(Y,te=Ee,ne){if(!Vt(Y))return Y;const we=Ze(Y),ze=we.toLowerCase(),_t=Ze(te).toLowerCase().replace(/\/+$/,""),Mt=ne?Ze(ne).toLowerCase().replace(/\/+$/,""):null;if(Mt&&0!==_t.indexOf(Mt))return Y;const pe=(mt,yt,Ot)=>-1===(Ot=mt.indexOf(yt,Ot))?mt.length:Ot;let Ge=pe(ze,"/",ze.indexOf("//")+2),it=-1;for(;ze.slice(0,Ge+1)===_t.slice(0,Ge)+"/"&&(it=Ge+1,Ge!==ze.length);)Ge=pe(ze,"/",Ge+1);if(-1===it||Mt&&it<Mt.length)return Y;Y=we.slice(it);const ht=_t.slice(it-1).replace(/[^/]+/g,"").length;if(ht>0)for(let mt=0;mt<ht;mt++)Y=`../${Y}`;else Y=`./${Y}`;return Y}function Ze(Y){return function(Y){const te=ye.httpsDomains;if(!function(Y){return ce.test(Y)||"http"===se.scheme&&Kt(Y)}(Y))return Y;const ne=Y.indexOf("/",7);let we;if(we=-1===ne?Y:Y.slice(0,ne),we=we.toLowerCase().slice(7),de.test(we)){if(!we.endsWith(":80"))return Y;we=we.slice(0,-3),Y=Y.replace(":80","")}return"http"===se.scheme&&we===se.authority&&!Ae.test(Y)||(Ki()&&we===se.authority||te&&te.some(ze=>we===ze||we.endsWith(`.${ze}`))||Ki()&&!He(Y))&&(Y=fi(Y)),Y}(Y=function(Y){return Y.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}(Y=function(Y){if(/^https?:\/\//i.test(Y)){const te=ve(Y);Y=(Y=te.path.replace(/\/{2,}/g,"/")).replace("/","//"),te.query&&(Y+=`?${te.query}`)}return Y}(Y=ut(Y=Y.trim()))))}function et(...Y){const te=Y.filter(Ce.pC);if(!te||!te.length)return;const ne=[];if(Vt(te[0])){const ze=te[0],_t=ze.indexOf("//");-1!==_t&&(ne.push(ze.slice(0,_t+1)),function(Y){return xe.test(Y)}(te[0])&&(ne[0]+="/"),te[0]=ze.slice(_t+2))}else"/"===te[0][0]&&ne.push("");const we=te.reduce((ze,_t)=>_t?ze.concat(_t.split("/")):ze,[]);for(let ze=0;ze<we.length;ze++){const _t=we[ze];".."===_t&&ne.length>0&&".."!==ne[ne.length-1]?ne.pop():(!_t&&ze===we.length-1||_t&&("."!==_t||0===ne.length))&&ne.push(_t)}return ne.join("/")}function gt(Y,te=!1){if(Bt(Y)||Lt(Y))return null;let ne=Y.indexOf("://");if(-1===ne&&Kt(Y))ne=2;else{if(-1===ne)return null;ne+=3}const we=Y.indexOf("/",ne);return-1!==we&&(Y=Y.slice(0,we)),te&&(Y=yn(Y,!0)),Y}function Vt(Y){return Kt(Y)||st(Y)}function Bt(Y){return null!=Y&&"blob:"===Y.slice(0,5)}function Lt(Y){return"data:"===Y.slice(0,5)}function Pt(Y){const te=jt(Y);if(!te||!te.isBase64)return null;const ne=atob(te.data),we=new Uint8Array(ne.length);for(let ze=0;ze<ne.length;ze++)we[ze]=ne.charCodeAt(ze);return we.buffer}const dt=/^data:(.*?)(;base64)?,(.*)$/;function jt(Y){const te=Y.match(dt);if(!te)return null;const[,ne,we,ze]=te;return{mediaType:ne,isBase64:!!we,data:ze}}function Rt(Y){return Y.isBase64?`data:${Y.mediaType};base64,${Y.data}`:`data:${Y.mediaType},${Y.data}`}function Kt(Y){return null!=Y&&void 0!==Y&&"/"===Y[0]&&"/"===Y[1]}function st(Y){return re.test(Y)}function Ti(Y){return be.test(Y)||"https"===se.scheme&&Kt(Y)}function fi(Y){return Kt(Y)?`https:${Y}`:Y.replace(ce,"https:")}function Ki(){return"https"===se.scheme}function yn(Y,te=!1){return Kt(Y)?Y.slice(2):(Y=Y.replace(re,""),te&&Y.length>1&&"/"===Y[0]&&"/"===Y[1]&&(Y=Y.slice(2)),Y)}function Vn(Y){let te=0;if(Vt(Y)){const we=Y.indexOf("//");-1!==we&&(te=we+2)}const ne=Y.lastIndexOf("/");return ne<te?Y:Y.slice(0,ne+1)}function kn(Y,te){if(!Y)return"";const ne=ge(Y).path.replace(/\/+$/,""),we=ne.substring(ne.lastIndexOf("/")+1);if(null==te||!te.length)return we;const ze=new RegExp(`.(${te.join("|")})$`,"ig");return we.replace(ze,"")}function B(Y){return Y.replace(/\/+$/,"")}function T(Y,te,ne){if(!(te&&ne&&Y&&Vt(Y)))return Y;const we=Y.indexOf("//"),ze=Y.indexOf("/",we+2),_t=Y.indexOf(":",we+2),Mt=Math.min(ze<0?Y.length:ze,_t<0?Y.length:_t);return Y.slice(we+2,Mt).toLowerCase()!==te.toLowerCase()?Y:`${Y.slice(0,we+2)}${ne}${Y.slice(Mt)}`}function E(Y){return"string"==typeof Y?new oe(ut(Y)):(Y.scheme||(Y.scheme=se.scheme),Y)}function D(Y){return ie.test(Y)}function O(Y,te){const ne=ge(Y),we=Object.keys(ne.query||{});return we.length>0&&te&&te.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${we.join(", ")}.`),ne.path}function L(Y,te,ne){const we=ge(Y),ze=we.query||{};return ze[te]=String(ne),`${we.path}?${Ve(ze)}`}function F(Y,te){const ne=ge(Y),we=ne.query||{};for(const _t in te)we[_t]=te[_t];const ze=Ve(we);return ze?`${ne.path}?${ze}`:ne.path}function W(Y){if((0,Ce.Wi)(Y))return null;const te=Y.match(X);return te?te[1]:null}const X=/.*?\.([^\/]*)$/,ie=/(^data:image\/svg|\.svg$)/i},35948:(hi,lt,N)=>{"use strict";N.d(lt,{D:()=>J});var z=N(95127);function J(){const Me=Te.getRandomValues(new Uint16Array(8));Me[3]=4095&Me[3]|16384,Me[4]=16383&Me[4]|32768;const Ce=Ie=>Me[Ie].toString(16);return Ce(0)+Ce(1)+"-"+Ce(2)+"-"+Ce(3)+"-"+Ce(4)+"-"+Ce(5)+Ce(6)+Ce(7)}const Te=z.Z.crypto||z.Z.msCrypto},27e3:(hi,lt,N)=>{"use strict";N.d(lt,{S1:()=>Ce,on:()=>Fe,Wy:()=>Ue,YP:()=>Ie,gx:()=>he,Nj:()=>Ae,OY:()=>me,PA:()=>ce,cm:()=>be,N1:()=>re,Z4:()=>xe,LR:()=>de,tH:()=>Le});var z=N(17770),Te=(N(58817),N(10699));const Me=/\?(\.|$)/g;function Ce(Qe,ot,Ne,Se){const $e=Array.isArray(ot)?ot:ot.indexOf(",")>-1?ot.split(","):[ot],nt=Ie(Qe,ot,Ne,Se);for(const ut of $e){const xt=ut.trim().replace(Me,"$1"),Ze=Qe.get(xt);Ne.call(Qe,Ze,Ze,xt,Qe)}return nt}function Ie(Qe,ot,Ne,Se){return Qe.watch(ot,Ne,Se)}function he(Qe,ot,Ne,Se){return Ve(Qe,ot,tt,Ne,Se)}function re(Qe,ot,Ne,Se){return Le(Qe,ot,tt,Ne,Se)}function ce(Qe,ot,Ne,Se){return Ve(Qe,ot,je,Ne,Se)}function be(Qe,ot,Ne,Se){return Le(Qe,ot,je,Ne,Se)}function xe(Qe,ot,Ne,Se){return Ve(Qe,ot,ve,Ne,Se)}function de(Qe,ot,Ne,Se){return Le(Qe,ot,ve,Ne,Se)}function Ae(Qe,ot,Ne,Se){return Ve(Qe,ot,Oe,Ne,Se)}function me(Qe,ot,Ne,Se){return Le(Qe,ot,Oe,Ne,Se)}function Ue(Qe,ot,Ne,Se){let $e=!1;const nt=Qe.watch(ot,(ut,xt,Ze,et)=>{$e||Ne.call(Qe,ut,xt,Ze,et)},Se);return{remove(){nt.remove()},pause(){$e=!0},resume(){$e=!1}}}function Fe(Qe,ot,Ne,Se,$e,nt,ut){const xt={};function Ze(gt){const Vt=xt[gt];Vt&&(nt&&nt(Vt.target,gt,Qe,Ne),Vt.handle.remove(),delete xt[gt])}const et=Ce(Qe,ot,(gt,Vt,Bt)=>{Ze(Bt),(0,z.vT)(gt)&&(xt[Bt]={handle:(0,z.on)(gt,Ne,Se),target:gt},$e&&$e(gt,Bt,Qe,Ne))},ut);return{remove(){et.remove();for(const gt in xt)Ze(gt)}}}function Ve(Qe,ot,Ne,Se,$e){const nt=Qe.watch(ot,(ut,xt,Ze,et)=>{Ne&&!Ne(ut)||null==Se||Se.call(Qe,ut,xt,Ze,et)},$e);if(Array.isArray(ot))for(const ut of ot){const xt=Qe.get(ut);Ne&&Ne(xt)&&(null==Se||Se.call(Qe,xt,xt,ot,Qe))}else{const ut=Qe.get(ot);Ne&&Ne(ut)&&(null==Se||Se.call(Qe,ut,ut,ot,Qe))}return nt}function Le(Qe,ot,Ne,Se,$e){const nt="function"==typeof Se?Se:null,ut="object"==typeof Se?Se:null;"boolean"==typeof Se&&($e=Se);let xt,Ze=!1;function et(){xt&&(xt.remove(),xt=null)}const gt=(0,Te.dD)();(0,Te.fu)(ut,()=>{et(),gt.reject((0,Te.zE)())});const Vt={then:gt.promise.then.bind(gt.promise),catch:gt.promise.catch.bind(gt.promise),remove:et};return Object.freeze(Vt),xt=Ve(Qe,ot,Ne,(Bt,Lt,Pt,dt)=>{Ze=!0,et(),nt&&nt.call(Qe,Bt,Lt,Pt,dt),gt.resolve({value:Bt,oldValue:Lt,propertyName:Pt,target:dt})},$e),Ze&&et(),Vt}function tt(Qe){return!!Qe}function je(Qe){return!Qe}function ve(Qe){return!0===Qe}function Oe(Qe){return!1===Qe}},93662:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>Ie});var z=N(54024),J=N(63290),Te=N(10699),Me=N(89951);const Ce=J.Z.getLogger("esri.core.workers.Connection");class Ie{constructor(){this._clients=new Array,this._clientPromises=new Array,this._clientIdx=0}destroy(){this.close()}get closed(){return!this._clients||!this._clients.length}open(he,re){return new Promise((ce,be)=>{let xe=!0;const de=Ae=>{(0,Te.k_)(re.signal),xe&&(xe=!1,Ae())};this._clients.length=he.length,this._clientPromises.length=he.length;for(let Ae=0;Ae<he.length;++Ae){const me=he[Ae];(0,Te.y8)(me)?this._clientPromises[Ae]=me.then(le=>(this._clients[Ae]=new Me.Z(le,re),de(ce),this._clients[Ae]),()=>(de(be),null)):(this._clients[Ae]=new Me.Z(me,re),this._clientPromises[Ae]=Promise.resolve(this._clients[Ae]),de(ce))}})}broadcast(he,re,ce){const be=new Array(this._clientPromises.length);for(let xe=0;xe<this._clientPromises.length;++xe)be[xe]=this._clientPromises[xe].then(Ae=>Ae.invoke(he,re,ce));return be}close(){for(const he of this._clientPromises)he.then(re=>re.close());this._clients.length=0,this._clientPromises.length=0}getAvailableClient(){let he;for(let re=0;re<this._clients.length;++re){const ce=this._clients[re];if(ce){if(!ce.isBusy())return Promise.resolve(ce)}else he=he||[],he.push(this._clientPromises[re])}return he?Promise.race(he):(this._clientIdx=(this._clientIdx+1)%this._clients.length,Promise.resolve(this._clients[this._clientIdx]))}invoke(he,re,ce){let be=null;return Array.isArray(ce)?(Ce.warn("invoke()","The transferList parameter is deprecated, use the options object instead"),be={transferList:ce}):be=ce,this.closed?Promise.reject(new Error("Connection closed")):this.getAvailableClient().then(xe=>xe.invoke(he,re,be))}on(he,re){return Promise.all(this._clientPromises).then(()=>(0,z.AL)(this._clients.map(ce=>ce.on(he,re))))}openPorts(){return new Promise(he=>{const re=new Array(this._clientPromises.length);let ce=re.length;for(let be=0;be<this._clientPromises.length;++be)this._clientPromises[be].then(xe=>{re[be]=xe.openPort(),0==--ce&&he(re)})})}get test(){return{numClients:this._clients.length}}}},89951:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>le});var z=N(24263),J=N(26584),Te=N(17770),Me=N(62208),Ce=N(10699),Ie=N(13126),ye=N(38365);const he={statsWorker:()=>N.e(6086).then(N.bind(N,36086)),geometryEngineWorker:()=>Promise.all([N.e(8592),N.e(1843)]).then(N.bind(N,28632)),CSVSourceWorker:()=>Promise.all([N.e(410),N.e(8330),N.e(7373),N.e(8592),N.e(9155)]).then(N.bind(N,39155)),EdgeProcessingWorker:()=>Promise.all([N.e(479),N.e(8592),N.e(8947)]).then(N.bind(N,36239)),ElevationSamplerWorker:()=>Promise.all([N.e(479),N.e(8592),N.e(8149)]).then(N.bind(N,28149)),FeatureServiceSnappingSourceWorker:()=>Promise.all([N.e(410),N.e(8330),N.e(7373),N.e(6210)]).then(N.bind(N,56210)),GeoJSONSourceWorker:()=>Promise.all([N.e(410),N.e(8330),N.e(7373),N.e(8592),N.e(4079)]).then(N.bind(N,84079)),LercWorker:()=>N.e(7300).then(N.bind(N,57300)),MemorySourceWorker:()=>Promise.all([N.e(410),N.e(8330),N.e(7373),N.e(8592),N.e(7728)]).then(N.bind(N,7728)),PBFDecoderWorker:()=>N.e(4287).then(N.bind(N,84287)),Pipeline:()=>Promise.all([N.e(3755),N.e(410),N.e(1983),N.e(8330),N.e(9628),N.e(8592),N.e(7249)]).then(N.bind(N,87249)),PointCloudWorker:()=>Promise.all([N.e(8592),N.e(1107)]).then(N.bind(N,61107)),RasterWorker:()=>Promise.all([N.e(7692),N.e(9394),N.e(5976)]).then(N.bind(N,15976)),SceneLayerWorker:()=>N.e(375).then(N.bind(N,30375)),WFSSourceWorker:()=>Promise.all([N.e(410),N.e(8330),N.e(7373),N.e(7450),N.e(8592),N.e(2305)]).then(N.bind(N,62305)),WorkerTileHandler:()=>Promise.all([N.e(168),N.e(4522),N.e(8364),N.e(8032)]).then(N.bind(N,90195))},{CLOSE:re,ABORT:ce,INVOKE:be,RESPONSE:xe,OPEN_PORT:de,ON:Ae}=Ie.Cs;class me{constructor(se){this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._invoke=se,this._timer=null,this._process=this._process.bind(this)}push(se){se.type===Ie.Cs.ABORT?this._cancelledJobIds.add(se.jobId):(this._invokeMessages.push(se),null===this._timer&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const se of this._invokeMessages)this._cancelledJobIds.has(se.jobId)||this._invoke(se);this._cancelledJobIds.clear(),this._invokeMessages.length=0}}class le{constructor(se,fe){this._port=se,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new me(Ee=>this._onInvokeMessage(Ee)),this._client=fe.client,this._onMessage=this._onMessage.bind(this),this._channel=fe.channel,this._schedule=fe.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}static connect(se){const fe=new MessageChannel;let Ee;Ee="function"==typeof se?new se:"default"in se&&"function"==typeof se.default?new se.default:se;const ge=new le(fe.port1,{channel:fe,client:Ee});return"object"==typeof Ee&&"remoteClient"in Ee&&(Ee.remoteClient=ge),le.clients.set(ge,Ee),fe.port2}static loadWorker(se){const fe=he[se];return fe?fe():Promise.resolve(null)}close(){this._post({type:re}),this._close()}isBusy(){return this._outJobs.size>0}invoke(se,fe,Ee){const ge=Ee&&Ee.signal,Ue=Ee&&Ee.transferList;if(!this._port)return Promise.reject(new J.Z("worker:port-closed",`Cannot call invoke('${se}'), port is closed`,{methodName:se,data:fe}));const Fe=(0,Ie.jt)();return new Promise((Ve,Le)=>{const tt=(0,Ce.$F)(ge,()=>{var ve;const Oe=this._outJobs.get(Fe);Oe&&(this._outJobs.delete(Fe),null==(ve=Oe.abortHandle)||ve.remove(),this._post({type:ce,jobId:Fe}),Le((0,Ce.zE)()))});this._outJobs.set(Fe,{resolve:Ve,reject:Le,abortHandle:tt,debugInfo:se}),this._post({type:be,jobId:Fe,methodName:se,abortable:null!=ge},fe,Ue)})}on(se,fe){const Ee=new MessageChannel;function ge(Ue){fe(Ue.data)}return this._port.postMessage({type:Ie.Cs.ON,eventType:se,port:Ee.port2},[Ee.port2]),Ee.port1.addEventListener("message",ge),Ee.port1.start(),{remove(){Ee.port1.postMessage({type:Ie.Cs.CLOSE}),Ee.port1.close(),Ee.port1.removeEventListener("message",ge)}}}openPort(){const se=new MessageChannel;return this._post({type:de,port:se.port2}),se.port1}_close(){this._channel&&(this._channel=null),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(se=>{var fe;null==(fe=se.abortHandle)||fe.remove(),se.reject((0,Ce.zE)(`Worker closing, aborting job calling '${se.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=this._client=this._schedule=null}_onMessage(se){(0,Me.pC)(this._schedule)?this._schedule(()=>this._processMessage(se)):this._processMessage(se)}_processMessage(se){const fe=(0,Ie.QM)(se);if(fe)switch(fe.type){case xe:this._onResponseMessage(fe);break;case be:this._invokeQueue.push(fe);break;case ce:this._onAbortMessage(fe);break;case re:this._onCloseMessage();break;case de:this._onOpenPortMessage(fe);break;case Ae:this._onOnMessage(fe)}}_onAbortMessage(se){const fe=this._inJobs,Ee=se.jobId,ge=fe.get(Ee);this._invokeQueue.push(se),ge&&(ge.controller&&ge.controller.abort(),fe.delete(Ee))}_onCloseMessage(){const se=this._client;this._close(),se&&"destroy"in se&&le.clients.get(this)===se&&se.destroy(),le.clients.delete(this),se&&se.remoteClient&&(se.remoteClient=null)}_onInvokeMessage(se){const{methodName:fe,jobId:Ee,data:ge,abortable:Ue}=se,Fe=Ue?(0,Ce.yi)():null,Ve=this._inJobs;let Le,tt=this._client,je=tt[fe];try{if(!je&&fe&&-1!==fe.indexOf(".")){const ve=fe.split(".");for(let Oe=0;Oe<ve.length-1;Oe++)tt=tt[ve[Oe]],je=tt[ve[Oe+1]]}if("function"!=typeof je)throw new TypeError(`${fe} is not a function`);Le=je.call(tt,ge,{client:this,signal:Fe?Fe.signal:null})}catch(ve){return void this._post({type:xe,jobId:Ee,error:(0,Ie.AB)(ve)})}(0,Ce.y8)(Le)?(Ve.set(Ee,{controller:Fe,promise:Le}),Le.then(ve=>{Ve.has(Ee)&&(Ve.delete(Ee),this._post({type:xe,jobId:Ee},ve))},ve=>{Ve.has(Ee)&&(Ve.delete(Ee),(0,Ce.D_)(ve)||this._post({type:xe,jobId:Ee,error:(0,Ie.AB)(ve||{message:`Error encountered at method ${fe}`})}))})):this._post({type:xe,jobId:Ee},Le)}_onOpenPortMessage(se){new le(se.port,{client:this._client})}_onOnMessage(se){const{port:fe}=se,Ee=this._client.on(se.eventType,Ue=>{fe.postMessage(Ue)}),ge=(0,Te.on)(se.port,"message",Ue=>{(0,Ie.QM)(Ue).type===Ie.Cs.CLOSE&&(ge.remove(),Ee.remove(),fe.close())})}_onResponseMessage(se){var fe;const{jobId:Ee,error:ge,data:Ue}=se,Fe=this._outJobs;if(!Fe.has(Ee))return;const Ve=Fe.get(Ee);Fe.delete(Ee),null==(fe=Ve.abortHandle)||fe.remove(),ge?Ve.reject(J.Z.fromJSON(JSON.parse(ge))):Ve.resolve(Ue)}_post(se,fe,Ee){return(0,Ie.oi)(this._port,se,fe,Ee)}}le.kernelInfo={revision:ye.$,version:z.i8,buildDate:ye.r},le.clients=new Map},13126:(hi,lt,N)=>{"use strict";N.d(lt,{Cs:()=>J,jt:()=>Me,oi:()=>ye,QM:()=>he,AB:()=>Ie});var J,be,z=N(8314);(be=J||(J={}))[be.HANDSHAKE=0]="HANDSHAKE",be[be.OPEN=1]="OPEN",be[be.OPENED=2]="OPENED",be[be.RESPONSE=3]="RESPONSE",be[be.INVOKE=4]="INVOKE",be[be.ABORT=5]="ABORT",be[be.CLOSE=6]="CLOSE",be[be.OPEN_PORT=7]="OPEN_PORT",be[be.ON=8]="ON";let Te=0;function Me(){return Te++}function Ie(be){return be?"string"==typeof be?JSON.stringify({name:"message",message:be}):be.toJSON?JSON.stringify(be):JSON.stringify({name:be.name,message:be.message,details:be.details||{stack:be.stack}}):null}function ye(be,xe,de,Ae){if(xe.type===J.OPEN_PORT)return void be.postMessage(xe,[xe.port]);if(xe.type!==J.INVOKE&&xe.type!==J.RESPONSE)return void be.postMessage(xe);let me;!function(be){return be&&"object"==typeof be&&("result"in be||"transferList"in be)}(de)?(me=re(Ae),xe.data=de):(me=re(de.transferList),xe.data=de.result),me?be.postMessage(xe,me):be.postMessage(xe)}function he(be){if(!be)return null;const xe=be.data;return xe?"string"==typeof xe?JSON.parse(xe):xe:null}function re(be){if(!be||!be.length)return null;if((0,z.Z)("esri-workers-arraybuffer-transfer"))return be;const xe=be.filter(de=>!function(be){return be instanceof ArrayBuffer||be&&be.constructor&&"ArrayBuffer"===be.constructor.name}(de));return xe.length?xe:null}},59289:(hi,lt,N)=>{"use strict";N.d(lt,{j2:()=>jt,bA:()=>rt});var z=N(15861),J=N(26584),Te=N(8314),Me=N(10699),Ce=N(93662),Ie=N(89951),ye=N(24263),he=N(63290),re=N(13126),ce=N(54346),be=N(59318),de=(N(52515),N(21726));const me={};var se=N(95127);class fe{constructor(){const fi=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(Mi=>{this[Mi]=(...Ki)=>fi[Mi](...Ki)})}}const Ee=se.Z.MutationObserver||se.Z.WebKitMutationObserver,ge=function(){let We;if(se.Z.process&&se.Z.process.nextTick)We=fi=>{se.Z.process.nextTick(fi)};else if(se.Z.Promise)We=fi=>{se.Z.Promise.resolve().then(fi)};else if(Ee){const fi=[],Mi=document.createElement("div");new Ee(()=>{for(;fi.length>0;)fi.shift()()}).observe(Mi,{attributes:!0}),We=Ki=>{fi.push(Ki),Mi.setAttribute("queueStatus","1")}}return We}(),Ue=(()=>{const We=se.Z.MessageEvent;try{new We("message",{data:null})}catch(fi){return(Mi,Ki={})=>{const{data:yn,bubbles:Un=!1,cancelable:Vn=!1}=Ki,kn=document.createEvent("Event");return kn.initEvent(Mi,Un,Vn),kn.data=yn,kn}}return(fi,Mi)=>new We(fi,Mi)})();class Fe{constructor(){this._dispatcher=new fe,this._workerPostMessage({type:re.Cs.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(fi){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=fi,fi&&this.addEventListener("message",fi)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(fi){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=fi,fi&&this.addEventListener("messageerror",fi)}get onerror(){return this._onerrorHandler}set onerror(fi){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=fi,fi&&this.addEventListener("error",fi)}postMessage(fi){ge(()=>{this._workerMessageHandler(Ue("message",{data:fi}))})}dispatchEvent(fi){return this._dispatcher.dispatchEvent(fi)}addEventListener(fi,Mi,Ki){this._dispatcher.addEventListener(fi,Mi,Ki)}removeEventListener(fi,Mi,Ki){this._dispatcher.removeEventListener(fi,Mi,Ki)}_workerPostMessage(fi){ge(()=>{this.dispatchEvent(Ue("message",{data:fi}))})}_workerMessageHandler(fi){var Mi=this;return(0,z.Z)(function*(){const Ki=(0,re.QM)(fi);if(Ki&&Ki.type===re.Cs.OPEN){const{modulePath:yn,jobId:Un}=Ki;let Vn=yield Ie.Z.loadWorker(yn);Vn||(Vn=yield import(yn));const kn=Ie.Z.connect(Vn);Mi._workerPostMessage({type:re.Cs.OPENED,jobId:Un,data:kn})}})()}}var Ve=N(56683),Le=N(38365);const tt=he.Z.getLogger("esri.core.workers"),{HANDSHAKE:je}=re.Cs,ve='let globalId=0;const outgoing=new Map,configuration=JSON.parse("{CONFIGURATION}");self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());t.addEventListener("abort",(()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))}))}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,buildDate:r,version:t}=configuration.kernelInfo,{revision:n,buildDate:i,version:s}=e.kernelInfo;o!==n&&console.warn(`[esri.core.workers] Version mismatch detected between ArcGIS API for JavaScript and assets:\nAPI version: ${t} [Date: ${r}, Revision: ${o.slice(0,8)}]\nAssets version: ${s} [Date: ${i}, Revision: ${n.slice(0,8)}]`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let e;function t(o){const t=e.connect(o);self.postMessage({type:2,jobId:r,data:t},[t])}"function"==typeof define&&define.amd?require([workerPath],(r=>{e=r.default||r,checkWorkerRevision(e),e.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((r=>(e=r.default,checkWorkerRevision(e),e.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):(self.RemoteClient||importScripts(workerPath),e=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(e),e.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const e=outgoing.get(r);outgoing.delete(r),o.error?e.reject(JSON.parse(o.error)):e.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});';let Oe,qe;const He="Failed to create Worker. Fallback to execute module in main thread";function ot(){return(ot=(0,z.Z)(function*(){if(!(0,Te.Z)("esri-workers"))return Ne(new Fe);if(!Oe&&!qe)try{const fi=ve.replace('"{CONFIGURATION}"',`'${$e()}'`);Oe=URL.createObjectURL(new Blob([fi],{type:"text/javascript"}))}catch(fi){qe=fi||{}}let We;if(Oe)try{We=new Worker(Oe,{name:"esri-worker-"+nt++})}catch(fi){tt.warn(He,qe),We=new Fe}else tt.warn(He,qe),We=new Fe;return Ne(We)})).apply(this,arguments)}function Ne(We){return Se.apply(this,arguments)}function Se(){return(Se=(0,z.Z)(function*(We){return new Promise(fi=>{function Mi(yn){const Un=(0,re.QM)(yn);Un&&Un.type===je&&(We.removeEventListener("message",Mi),We.removeEventListener("error",Ki),fi(We))}function Ki(yn){yn.preventDefault(),We.removeEventListener("message",Mi),We.removeEventListener("error",Ki),tt.warn("Failed to create Worker. Fallback to execute module in main thread",yn),(We=new Fe).addEventListener("message",Mi),We.addEventListener("error",Ki)}We.addEventListener("message",Mi),We.addEventListener("error",Ki)})})).apply(this,arguments)}function $e(){let We;if(null!=be.Z.default){const yn=ji({},be.Z);delete yn.default,We=JSON.parse(JSON.stringify(yn))}else We=JSON.parse(JSON.stringify(be.Z));We.assetsPath=(0,de.hF)(We.assetsPath),We.request.interceptors=[],We.log.interceptors=[],We.locale=(0,Ve.Kd)(),We.has={"csp-restrictions":(0,Te.Z)("csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":(0,Te.Z)("esri-2d-update-debug"),"esri-2d-query-centroid-enabled":(0,Te.Z)("esri-2d-query-centroid-enabled"),"featurelayer-pbf":(0,Te.Z)("featurelayer-pbf"),"featurelayer-simplify-thresholds":(0,Te.Z)("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":(0,Te.Z)("featurelayer-simplify-payload-size-factors"),"esri-atomics":(0,Te.Z)("esri-atomics"),"esri-shared-array-buffer":(0,Te.Z)("esri-shared-array-buffer"),"esri-tiles-debug":(0,Te.Z)("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":(0,Te.Z)("esri-workers-arraybuffer-transfer"),"host-webworker":1},We.workers.loaderUrl&&(We.workers.loaderUrl=(0,de.hF)(We.workers.loaderUrl)),We.workers.workerPath=(0,de.hF)(We.workers.workerPath?We.workers.workerPath:(0,ce.V)("esri/core/workers/RemoteClient.js"));const fi=be.Z.workers.loaderConfig,Mi=function(We){var fi;const Mi={async:We.async,isDebug:We.isDebug,locale:We.locale,baseUrl:We.baseUrl,has:ji({},We.has),map:ji({},We.map),packages:We.packages&&We.packages.concat()||[],paths:ji({},We.paths)};return We.hasOwnProperty("async")||(Mi.async=!0),We.hasOwnProperty("isDebug")||(Mi.isDebug=!1),We.baseUrl||(Mi.baseUrl=me.baseUrl),null==(fi=me.packages)||fi.forEach(Ki=>{!function(We,fi){for(const Mi of We)if(Mi.name===fi.name)return;We.push(fi)}(Mi.packages,Ki)}),Mi}({baseUrl:null==fi?void 0:fi.baseUrl,locale:(0,Ve.Kd)(),has:ji({"csp-restrictions":(0,Te.Z)("csp-restrictions"),"dojo-test-sniff":0,"host-webworker":1},null==fi?void 0:fi.has),map:ji({},null==fi?void 0:fi.map),paths:ji({},null==fi?void 0:fi.paths),packages:(null==fi?void 0:fi.packages)||[]});return JSON.stringify({esriConfig:We,loaderConfig:Mi,kernelInfo:{version:ye.i8,buildDate:Le.r,revision:Le.$}})}let nt=0;const ut=he.Z.getLogger("esri.core.workers"),{ABORT:xt,INVOKE:Ze,OPEN:et,OPENED:gt,RESPONSE:Vt}=re.Cs;class Bt{constructor(fi,Mi){this._outJobs=new Map,this._inJobs=new Map,this.worker=fi,this.id=Mi,fi.addEventListener("message",this._onMessage.bind(this)),fi.addEventListener("error",Ki=>{Ki.preventDefault(),ut.error(Ki)})}static create(fi){return(0,z.Z)(function*(){const Mi=yield function(){return ot.apply(this,arguments)}();return new Bt(Mi,fi)})()}terminate(){this.worker.terminate()}open(fi,Mi={}){var Ki=this;return(0,z.Z)(function*(){const{signal:yn}=Mi,Un=(0,re.jt)();return new Promise((Vn,kn)=>{const li={resolve:Vn,reject:kn,abortHandle:(0,Me.$F)(yn,()=>{Ki._outJobs.delete(Un),Ki._post({type:xt,jobId:Un})})};Ki._outJobs.set(Un,li),Ki._post({type:et,jobId:Un,modulePath:fi})})})()}_onMessage(fi){const Mi=(0,re.QM)(fi);if(Mi)switch(Mi.type){case gt:this._onOpenedMessage(Mi);break;case Vt:this._onResponseMessage(Mi);break;case xt:this._onAbortMessage(Mi);break;case Ze:this._onInvokeMessage(Mi)}}_onAbortMessage(fi){const Mi=this._inJobs,Ki=fi.jobId,yn=Mi.get(Ki);yn&&(yn.controller&&yn.controller.abort(),Mi.delete(Ki))}_onInvokeMessage(fi){const{methodName:Mi,jobId:Ki,data:yn,abortable:Un}=fi,Vn=Un?(0,Me.yi)():null,kn=this._inJobs,li=ye.Nv[Mi];let B;try{if("function"!=typeof li)throw new TypeError(`${Mi} is not a function`);B=li.call(null,yn,{signal:Vn?Vn.signal:null})}catch(Be){return void this._post({type:Vt,jobId:Ki,error:(0,re.AB)(Be)})}(0,Me.y8)(B)?(kn.set(Ki,{controller:Vn,promise:B}),B.then(Be=>{kn.has(Ki)&&(kn.delete(Ki),this._post({type:Vt,jobId:Ki},Be))},Be=>{kn.has(Ki)&&(kn.delete(Ki),Be||(Be={message:"Error encountered at method"+Mi}),(0,Me.D_)(Be)||this._post({type:Vt,jobId:Ki,error:(0,re.AB)(Be||{message:`Error encountered at method ${Mi}`})}))})):this._post({type:Vt,jobId:Ki},B)}_onOpenedMessage(fi){var Mi;const{jobId:Ki,data:yn}=fi,Un=this._outJobs.get(Ki);Un&&(this._outJobs.delete(Ki),null==(Mi=Un.abortHandle)||Mi.remove(),Un.resolve(yn))}_onResponseMessage(fi){var Mi;const{jobId:Ki,error:yn,data:Un}=fi,Vn=this._outJobs.get(Ki);Vn&&(this._outJobs.delete(Ki),null==(Mi=Vn.abortHandle)||Mi.remove(),yn?Vn.reject(J.Z.fromJSON(JSON.parse(yn))):Vn.resolve(Un))}_post(fi,Mi,Ki){return(0,re.oi)(this.worker,fi,Mi,Ki)}}let Lt=(0,Te.Z)("esri-workers-debug")?1:(0,Te.Z)("host-browser")?navigator.hardwareConcurrency-1:0;Lt||(Lt=(0,Te.Z)("safari")&&(0,Te.Z)("mac")||(0,Te.Z)("trident")?7:2);let Pt=0;const dt=[];function jt(){qt()}function _e(We,fi){return ke.apply(this,arguments)}function ke(){return(ke=(0,z.Z)(function*(We,fi){const Mi=new Ce.Z;return yield Mi.open(We,fi),Mi})).apply(this,arguments)}function rt(We){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,z.Z)(function*(We,fi={}){if("string"!=typeof We)throw new J.Z("workers:undefined-module","modulePath is missing");let Mi=fi.strategy||"distributed";if((0,Te.Z)("host-webworker")&&!(0,Te.Z)("esri-workers")&&(Mi="local"),"local"===Mi){let Ki=yield Ie.Z.loadWorker(We);Ki||(Ki=yield import(We)),(0,Me.k_)(fi.signal);const yn=fi.client||Ki;return _e([Ie.Z.connect(Ki)],fr(ji({},fi),{client:yn}))}if(yield qt(),(0,Me.k_)(fi.signal),"dedicated"===Mi){const Ki=Pt++%Lt;return _e([yield dt[Ki].open(We,fi)],fi)}if(fi.maxNumWorkers&&fi.maxNumWorkers>0){const Ki=Math.min(fi.maxNumWorkers,Lt);if(Ki<Lt){const yn=new Array(Ki);for(let Un=0;Un<Ki;++Un){const Vn=Pt++%Lt;yn[Un]=dt[Vn].open(We,fi)}return _e(yn,fi)}}return _e(dt.map(Ki=>Ki.open(We,fi)),fi)})).apply(this,arguments)}let st,Ti=null;function qt(){return pi.apply(this,arguments)}function pi(){return(pi=(0,z.Z)(function*(){if(Ti)return Ti;st=(0,Me.yi)();const We=[];for(let fi=0;fi<Lt;fi++){const Mi=Bt.create(fi).then(Ki=>(dt[fi]=Ki,Ki));We.push(Mi)}return Ti=Promise.all(We),Ti})).apply(this,arguments)}},29132:(hi,lt,N)=>{"use strict";N.d(lt,{qM:()=>xe});var z=N(90912),J=N(2004),Te=N(21674),Me=N(72854),Ce=N(49672),Ie=N(37118),ye=N(55214);N(65234),N(71774),N(91179);const xe={base:Te.Z,key:"type",typeMap:{extent:J.Z,multipoint:Me.Z,point:Ce.Z,polyline:ye.Z,polygon:Ie.Z}};(0,z.N7)(xe)},2004:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>Ee});var le,z=N(17626),J=N(62208),Te=N(77275),Me=N(77712),he=(N(8314),N(90912),N(63290),N(61403)),re=N(21674),ce=N(49672),be=N(65234),xe=N(33190),de=N(11519),Ae=N(37053),me=N(46367);function se(ge,Ue,Fe){return null==Ue?Fe:null==Fe?Ue:ge(Ue,Fe)}let fe=le=class extends re.Z{constructor(...ge){super(...ge),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(ge,Ue,Fe,Ve,Le){return function(ge){return ge&&("esri.geometry.SpatialReference"===ge.declaredClass||null!=ge.wkid)}(ge)?{spatialReference:ge,xmin:0,ymin:0,xmax:0,ymax:0}:"object"==typeof ge?(ge.spatialReference=null==ge.spatialReference?be.Z.WGS84:ge.spatialReference,ge):{xmin:ge,ymin:Ue,xmax:Fe,ymax:Ve,spatialReference:null==Le?be.Z.WGS84:Le}}static fromBounds(ge,Ue){return new le({xmin:ge[0],ymin:ge[1],xmax:ge[2],ymax:ge[3],spatialReference:Ue})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const ge=new ce.Z({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(ge.z=.5*(this.zmin+this.zmax)),this.hasM&&(ge.m=.5*(this.mmin+this.mmax)),ge}get extent(){return this.clone()}get hasM(){return null!=this.mmin&&null!=this.mmax}get hasZ(){return null!=this.zmin&&null!=this.zmax}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(ge){const Ue=this.center;return null!=ge.z&&this.hasZ?this.offset(ge.x-Ue.x,ge.y-Ue.y,ge.z-Ue.z):this.offset(ge.x-Ue.x,ge.y-Ue.y)}clone(){const ge=new le;return ge.xmin=this.xmin,ge.ymin=this.ymin,ge.xmax=this.xmax,ge.ymax=this.ymax,ge.spatialReference=this.spatialReference,null!=this.zmin&&(ge.zmin=this.zmin,ge.zmax=this.zmax),null!=this.mmin&&(ge.mmin=this.mmin,ge.mmax=this.mmax),ge}contains(ge){if(!ge)return!1;const Ue=this.spatialReference,Fe=ge.spatialReference;return Ue&&Fe&&!Ue.equals(Fe)&&(0,me.Q8)(Ue,Fe)&&(ge=Ue.isWebMercator?(0,me.$)(ge):(0,me.Sx)(ge,!0)),"point"===ge.type?(0,xe.aV)(this,ge):"extent"===ge.type&&(0,xe.uP)(this,ge)}equals(ge){if(this===ge)return!0;if((0,J.Wi)(ge))return!1;const Ue=this.spatialReference,Fe=ge.spatialReference;return Ue&&Fe&&!Ue.equals(Fe)&&(0,me.Q8)(Ue,Fe)&&(ge=Ue.isWebMercator?(0,me.$)(ge):(0,me.Sx)(ge,!0)),this.xmin===ge.xmin&&this.ymin===ge.ymin&&this.zmin===ge.zmin&&this.mmin===ge.mmin&&this.xmax===ge.xmax&&this.ymax===ge.ymax&&this.zmax===ge.zmax&&this.mmax===ge.mmax}expand(ge){const Ue=.5*(1-ge),Fe=this.width*Ue,Ve=this.height*Ue;if(this.xmin+=Fe,this.ymin+=Ve,this.xmax-=Fe,this.ymax-=Ve,this.hasZ){const Le=(this.zmax-this.zmin)*Ue;this.zmin+=Le,this.zmax-=Le}if(this.hasM){const Le=(this.mmax-this.mmin)*Ue;this.mmin+=Le,this.mmax-=Le}return this}intersects(ge){if((0,J.Wi)(ge))return!1;"mesh"===ge.type&&(ge=ge.extent);const Ue=this.spatialReference,Fe=ge.spatialReference;return Ue&&Fe&&!Ue.equals(Fe)&&(0,me.Q8)(Ue,Fe)&&(ge=Ue.isWebMercator?(0,me.$)(ge):(0,me.Sx)(ge,!0)),(0,de.IY)(ge.type)(this,ge)}normalize(){const ge=this._normalize(!1,!0);return Array.isArray(ge)?ge:[ge]}offset(ge,Ue,Fe){return this.xmin+=ge,this.ymin+=Ue,this.xmax+=ge,this.ymax+=Ue,null!=Fe&&(this.zmin+=Fe,this.zmax+=Fe),this}shiftCentralMeridian(){return this._normalize(!0)}union(ge){return this===ge||(this.xmin=Math.min(this.xmin,ge.xmin),this.ymin=Math.min(this.ymin,ge.ymin),this.xmax=Math.max(this.xmax,ge.xmax),this.ymax=Math.max(this.ymax,ge.ymax),(this.hasZ||ge.hasZ)&&(this.zmin=se(Math.min,this.zmin,ge.zmin),this.zmax=se(Math.max,this.zmax,ge.zmax)),(this.hasM||ge.hasM)&&(this.mmin=se(Math.min,this.mmin,ge.mmin),this.mmax=se(Math.max,this.mmax,ge.mmax))),this}intersection(ge){return this===ge?this:(0,J.Wi)(ge)||!this.intersects(ge)?null:(this.xmin=Math.max(this.xmin,ge.xmin),this.ymin=Math.max(this.ymin,ge.ymin),this.xmax=Math.min(this.xmax,ge.xmax),this.ymax=Math.min(this.ymax,ge.ymax),(this.hasZ||ge.hasZ)&&(this.zmin=se(Math.max,this.zmin,ge.zmin),this.zmax=se(Math.min,this.zmax,ge.zmax)),(this.hasM||ge.hasM)&&(this.mmin=se(Math.max,this.mmin,ge.mmin),this.mmax=se(Math.min,this.mmax,ge.mmax)),this)}toJSON(ge){return this.write(null,ge)}_shiftCM(ge=(0,Ae.C5)(this.spatialReference)){if(!ge||!this.spatialReference)return this;const Ue=this.spatialReference,Fe=this._getCM(ge);if(Fe){const Ve=Ue.isWebMercator?(0,me.Sx)(Fe):Fe;this.xmin-=Fe.x,this.xmax-=Fe.x,Ue.isWebMercator||(Ve.x=this._normalizeX(Ve.x,ge).x),this.spatialReference=new be.Z((0,Te.gx)(Ue.isWGS84?ge.altTemplate:ge.wkTemplate,{Central_Meridian:Ve.x}))}return this}_getCM(ge){let Ue=null;const[Fe,Ve]=ge.valid,Le=this.xmin,tt=this.xmax;return Le>=Fe&&Le<=Ve&&tt>=Fe&&tt<=Ve||(Ue=this.center),Ue}_normalize(ge,Ue,Fe){const Ve=this.spatialReference;if(!Ve)return this;if(!(Fe=Fe||(0,Ae.C5)(Ve)))return this;const Le=this._getParts(Fe).map(ve=>ve.extent);if(Le.length<2)return Le[0]||this;if(Le.length>2)return ge?this._shiftCM(Fe):this.set({xmin:Fe.valid[0],xmax:Fe.valid[1]});if(ge)return this._shiftCM(Fe);if(Ue)return Le;let tt=!0,je=!0;return Le.forEach(ve=>{ve.hasZ||(tt=!1),ve.hasM||(je=!1)}),{rings:Le.map(ve=>{const Oe=[[ve.xmin,ve.ymin],[ve.xmin,ve.ymax],[ve.xmax,ve.ymax],[ve.xmax,ve.ymin],[ve.xmin,ve.ymin]];if(tt){const qe=(ve.zmax-ve.zmin)/2;for(let He=0;He<Oe.length;He++)Oe[He].push(qe)}if(je){const qe=(ve.mmax-ve.mmin)/2;for(let He=0;He<Oe.length;He++)Oe[He].push(qe)}return Oe}),hasZ:tt,hasM:je,spatialReference:Ve}}_getParts(ge){let Ue=this.cache._parts;if(!Ue){Ue=[];const{ymin:Le,ymax:tt,spatialReference:je}=this,ve=this.width,Oe=this.xmin,qe=this.xmax;let He;ge=ge||(0,Ae.C5)(je);const[Qe,ot]=ge.valid;He=this._normalizeX(this.xmin,ge);const Ne=He.x,Se=He.frameId;He=this._normalizeX(this.xmax,ge);const $e=He.x,nt=He.frameId,ut=Ne===$e&&ve>0;if(ve>2*ot){const xt=new le(Oe<qe?Ne:$e,Le,ot,tt,je),Ze=new le(Qe,Le,Oe<qe?$e:Ne,tt,je),et=new le(0,Le,ot,tt,je),gt=new le(Qe,Le,0,tt,je),Vt=[],Bt=[];xt.contains(et)&&Vt.push(Se),xt.contains(gt)&&Bt.push(Se),Ze.contains(et)&&Vt.push(nt),Ze.contains(gt)&&Bt.push(nt);for(let Lt=Se+1;Lt<nt;Lt++)Vt.push(Lt),Bt.push(Lt);Ue.push({extent:xt,frameIds:[Se]},{extent:Ze,frameIds:[nt]},{extent:et,frameIds:Vt},{extent:gt,frameIds:Bt})}else Ne>$e||ut?Ue.push({extent:new le(Ne,Le,ot,tt,je),frameIds:[Se]},{extent:new le(Qe,Le,$e,tt,je),frameIds:[nt]}):Ue.push({extent:new le(Ne,Le,$e,tt,je),frameIds:[Se]});this.cache._parts=Ue}const Fe=this.hasZ,Ve=this.hasM;if(Fe||Ve){const Le={};Fe&&(Le.zmin=this.zmin,Le.zmax=this.zmax),Ve&&(Le.mmin=this.mmin,Le.mmax=this.mmax);for(let tt=0;tt<Ue.length;tt++)Ue[tt].extent.set(Le)}return Ue}_normalizeX(ge,Ue){const[Fe,Ve]=Ue.valid,Le=2*Ve;let tt,je=0;return ge>Ve?(tt=Math.ceil(Math.abs(ge-Ve)/Le),ge-=tt*Le,je=tt):ge<Fe&&(tt=Math.ceil(Math.abs(ge-Fe)/Le),ge+=tt*Le,je=-tt),{x:ge,frameId:je}}};(0,z._)([(0,Me.Cb)({readOnly:!0})],fe.prototype,"cache",null),(0,z._)([(0,Me.Cb)({readOnly:!0})],fe.prototype,"center",null),(0,z._)([(0,Me.Cb)({readOnly:!0})],fe.prototype,"extent",null),(0,z._)([(0,Me.Cb)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],fe.prototype,"hasM",null),(0,z._)([(0,Me.Cb)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],fe.prototype,"hasZ",null),(0,z._)([(0,Me.Cb)({readOnly:!0})],fe.prototype,"height",null),(0,z._)([(0,Me.Cb)({readOnly:!0})],fe.prototype,"width",null),(0,z._)([(0,Me.Cb)({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],fe.prototype,"xmin",void 0),(0,z._)([(0,Me.Cb)({type:Number,json:{write:!0}})],fe.prototype,"ymin",void 0),(0,z._)([(0,Me.Cb)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],fe.prototype,"mmin",void 0),(0,z._)([(0,Me.Cb)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],fe.prototype,"zmin",void 0),(0,z._)([(0,Me.Cb)({type:Number,json:{write:!0}})],fe.prototype,"xmax",void 0),(0,z._)([(0,Me.Cb)({type:Number,json:{write:!0}})],fe.prototype,"ymax",void 0),(0,z._)([(0,Me.Cb)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],fe.prototype,"mmax",void 0),(0,z._)([(0,Me.Cb)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],fe.prototype,"zmax",void 0),fe=le=(0,z._)([(0,he.j)("esri.geometry.Extent")],fe),fe.prototype.toJSON.isDefaultToJSON=!0;var Ee=fe},21674:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>be});var z=N(17626),J=N(86162),Te=N(77712),ye=(N(8314),N(90912),N(63290),N(68653)),he=N(61403),re=N(65234);let ce=class extends J.wq{constructor(...xe){super(...xe),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=re.Z.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(xe,de){if(xe instanceof re.Z)return xe;if(null!=xe){const Ae=new re.Z;return Ae.read(xe,de),Ae}return xe}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(xe){return this.cache[xe]}setCacheValue(xe,de){this.cache[xe]=de}};(0,z._)([(0,Te.Cb)()],ce.prototype,"type",void 0),(0,z._)([(0,Te.Cb)({readOnly:!0})],ce.prototype,"cache",null),(0,z._)([(0,Te.Cb)({readOnly:!0})],ce.prototype,"extent",null),(0,z._)([(0,Te.Cb)({type:Boolean,json:{write:{overridePolicy:xe=>({enabled:xe})}}})],ce.prototype,"hasM",void 0),(0,z._)([(0,Te.Cb)({type:Boolean,json:{write:{overridePolicy:xe=>({enabled:xe})}}})],ce.prototype,"hasZ",void 0),(0,z._)([(0,Te.Cb)({type:re.Z,json:{write:!0}})],ce.prototype,"spatialReference",void 0),(0,z._)([(0,ye.r)("spatialReference")],ce.prototype,"readSpatialReference",null),ce=(0,z._)([(0,he.j)("esri.geometry.Geometry")],ce);var be=ce},79334:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>ge});var Ae,z=N(17626),J=N(85931),Te=N(2076),Me=N(86162),Ce=N(16730),Ie=N(14889),ye=N(77712),be=(N(8314),N(90912),N(63290),N(68653)),xe=N(61403),de=N(99433);const me=(0,Te.wY)()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),le=me.jsonValues.slice();(0,J.e$)(le,"orthometric");const oe=(0,Te.wY)()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let se=Ae=class extends Me.wq{constructor(Ue){super(Ue),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(Ue,Fe,Ve){return me.write(Ue,Fe,Ve)}readHeightModel(Ue,Fe,Ve){return me.read(Ue)||(Ve&&Ve.messages&&Ve.messages.push(function(Ue,Fe){return new Ie.Z("height-model:unsupported",`Height model of value '${Ue}' is not supported`,Fe)}(Ue,{context:Ve})),null)}readHeightUnit(Ue,Fe,Ve){return oe.read(Ue)||(Ve&&Ve.messages&&Ve.messages.push(fe(Ue,{context:Ve})),null)}readHeightUnitService(Ue,Fe,Ve){return(0,Ce.$C)(Ue)||oe.read(Ue)||(Ve&&Ve.messages&&Ve.messages.push(fe(Ue,{context:Ve})),null)}readVertCRS(Ue,Fe){return Fe.vertCRS||Fe.ellipsoid||Fe.geoid}clone(){return new Ae({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(Ue){return!!Ue&&(this===Ue||this.heightModel===Ue.heightModel&&this.heightUnit===Ue.heightUnit&&this.vertCRS===Ue.vertCRS)}static deriveUnitFromSR(Ue,Fe){const Ve=(0,Ce.cM)(Fe);return new Ae({heightModel:Ue.heightModel,heightUnit:Ve,vertCRS:Ue.vertCRS})}write(Ue,Fe){return Fe=ji({origin:"web-scene"},Fe),super.write(Ue,Fe)}static fromJSON(Ue){if(!Ue)return null;const Fe=new Ae;return Fe.read(Ue,{origin:"web-scene"}),Fe}};function fe(Ue,Fe){return new Ie.Z("height-unit:unsupported",`Height unit of value '${Ue}' is not supported`,Fe)}(0,z._)([(0,ye.Cb)({type:me.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:le,default:"ellipsoidal"}}}})],se.prototype,"heightModel",void 0),(0,z._)([(0,de.c)("web-scene","heightModel")],se.prototype,"writeHeightModel",null),(0,z._)([(0,be.r)(["web-scene","service"],"heightModel")],se.prototype,"readHeightModel",null),(0,z._)([(0,ye.Cb)({type:oe.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:oe.jsonValues,write:oe.write}}}})],se.prototype,"heightUnit",void 0),(0,z._)([(0,be.r)("web-scene","heightUnit")],se.prototype,"readHeightUnit",null),(0,z._)([(0,be.r)("service","heightUnit")],se.prototype,"readHeightUnitService",null),(0,z._)([(0,ye.Cb)({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],se.prototype,"vertCRS",void 0),(0,z._)([(0,be.r)("service","vertCRS",["vertCRS","ellipsoid","geoid"])],se.prototype,"readVertCRS",null),se=Ae=(0,z._)([(0,xe.j)("esri.geometry.HeightModelInfo")],se);var ge=se},72854:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>oe});var de,z=N(17626),J=N(58817),Te=N(77712),ye=(N(90912),N(8314),N(63290),N(61403)),he=N(99433),re=N(2004),ce=N(21674),be=N(49672),xe=N(18945);function Ae(se){return(fe,Ee)=>null==fe?Ee:null==Ee?fe:se(fe,Ee)}let le=de=class extends ce.Z{constructor(...se){super(...se),this.points=[],this.type="multipoint"}normalizeCtorArgs(se,fe){if(!se&&!fe)return null;const Ee={};Array.isArray(se)?(Ee.points=se,Ee.spatialReference=fe):function(se){return se&&("esri.geometry.SpatialReference"===se.declaredClass||null!=se.wkid)}(se)?Ee.spatialReference=se:(se.points&&(Ee.points=se.points),se.spatialReference&&(Ee.spatialReference=se.spatialReference),se.hasZ&&(Ee.hasZ=se.hasZ),se.hasM&&(Ee.hasM=se.hasM));const ge=Ee.points&&Ee.points[0];return ge&&(void 0===Ee.hasZ&&void 0===Ee.hasM?(Ee.hasZ=ge.length>2,Ee.hasM=!1):void 0===Ee.hasZ?Ee.hasZ=ge.length>3:void 0===Ee.hasM&&(Ee.hasM=ge.length>3)),Ee}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const se=this.points;if(!se.length)return null;const fe=new re.Z,Ee=this.hasZ,ge=this.hasM,Ue=Ee?3:2,Fe=se[0],Ve=Ae(Math.min),Le=Ae(Math.max);let tt,je,ve,Oe,[qe,He]=Fe,[Qe,ot]=Fe;for(let Ne=0,Se=se.length;Ne<Se;Ne++){const $e=se[Ne],[nt,ut]=$e;if(qe=Ve(qe,nt),He=Ve(He,ut),Qe=Le(Qe,nt),ot=Le(ot,ut),Ee&&$e.length>2){const xt=$e[2];tt=Ve(tt,xt),ve=Le(ve,xt)}if(ge&&$e.length>Ue){const xt=$e[Ue];je=Ve(je,xt),Oe=Le(Oe,xt)}}return fe.xmin=qe,fe.ymin=He,fe.xmax=Qe,fe.ymax=ot,fe.spatialReference=this.spatialReference,Ee?(fe.zmin=tt,fe.zmax=ve):(fe.zmin=null,fe.zmax=null),ge?(fe.mmin=je,fe.mmax=Oe):(fe.mmin=null,fe.mmax=null),fe}writePoints(se,fe){fe.points=(0,J.d9)(this.points)}addPoint(se){return(0,xe.l)(this,se),Array.isArray(se)?this.points.push(se):this.points.push(se.toArray()),this.notifyChange("points"),this}clone(){const se={points:(0,J.d9)(this.points),spatialReference:this.spatialReference};return this.hasZ&&(se.hasZ=!0),this.hasM&&(se.hasM=!0),new de(se)}getPoint(se){if(!this._validateInputs(se))return null;const fe=this.points[se],Ee={x:fe[0],y:fe[1],spatialReference:this.spatialReference};let ge=2;return this.hasZ&&(Ee.z=fe[2],ge=3),this.hasM&&(Ee.m=fe[ge]),new be.Z(Ee)}removePoint(se){if(!this._validateInputs(se))return null;const fe=new be.Z(this.points.splice(se,1)[0],this.spatialReference);return this.notifyChange("points"),fe}setPoint(se,fe){return this._validateInputs(se)?((0,xe.l)(this,fe),Array.isArray(fe)||(fe=fe.toArray()),this.points[se]=fe,this.notifyChange("points"),this):this}toJSON(se){return this.write(null,se)}_validateInputs(se){return null!=se&&se>=0&&se<this.points.length}};(0,z._)([(0,Te.Cb)({readOnly:!0})],le.prototype,"cache",null),(0,z._)([(0,Te.Cb)()],le.prototype,"extent",null),(0,z._)([(0,Te.Cb)({type:[[Number]],json:{write:{isRequired:!0}}})],le.prototype,"points",void 0),(0,z._)([(0,he.c)("points")],le.prototype,"writePoints",null),le=de=(0,z._)([(0,ye.j)("esri.geometry.Multipoint")],le),le.prototype.toJSON.isDefaultToJSON=!0;var oe=le},49672:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>Fe});var se,z=N(17626),J=N(63290),Te=N(77712),Ce=(N(8314),N(66656)),Ie=N(68653),ye=N(61403),he=N(99433),re=N(90912),ce=N(21674),be=N(65234),le=N(37053),oe=N(46367);const fe=[0,0];function Ee(Ve){return Ve&&("esri.geometry.SpatialReference"===Ve.declaredClass||null!=Ve.wkid)}const ge=J.Z.getLogger("esri.geometry.Point");let Ue=se=class extends ce.Z{constructor(...Ve){super(...Ve),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}static copy(Ve,Le){Le._set("x",Ve._get("x")),Le._set("y",Ve._get("y")),Le._set("z",Ve._get("z")),Le._set("m",Ve._get("m"));const tt=Ve._get("spatialReference");Le._set("spatialReference",Object.isFrozen(tt)?tt:tt.clone())}normalizeCtorArgs(Ve,Le,tt,je,ve){let Oe;if(Array.isArray(Ve))Oe=Ve,ve=Le,Ve=Oe[0],Le=Oe[1],tt=Oe[2],je=Oe[3];else if(Ve&&"object"==typeof Ve){if(Oe=Ve,Ve=null!=Oe.x?Oe.x:Oe.longitude,Le=null!=Oe.y?Oe.y:Oe.latitude,tt=Oe.z,je=Oe.m,(ve=Oe.spatialReference)&&"esri.geometry.SpatialReference"!==ve.declaredClass&&(ve=new be.Z(ve)),null!=Oe.longitude||null!=Oe.latitude)if(null==Oe.longitude)ge.warn(".longitude=","Latitude was defined without longitude");else if(null==Oe.latitude)ge.warn(".latitude=","Longitude was defined without latitude");else if(!Oe.declaredClass&&ve&&ve.isWebMercator){const He=(0,oe.hG)(Oe.longitude,Oe.latitude,fe);Ve=He[0],Le=He[1]}}else Ee(tt)?(ve=tt,tt=null):Ee(je)&&(ve=je,je=null);const qe={x:Ve,y:Le};return null==qe.x&&null!=qe.y?ge.warn(".y=","Y coordinate was defined without an X coordinate"):null==qe.y&&null!=qe.x&&ge.warn(".x=","X coordinate was defined without a Y coordinate"),null!=ve&&(qe.spatialReference=ve),null!=tt&&(qe.z=tt),null!=je&&(qe.m=je),qe}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return void 0!==this.m}set hasM(Ve){Ve!==(void 0!==this._get("m"))&&(this._set("m",Ve?0:void 0),this._set("hasM",Ve))}get hasZ(){return void 0!==this.z}set hasZ(Ve){Ve!==(void 0!==this._get("z"))&&(this._set("z",Ve?0:void 0),this._set("hasZ",Ve))}get latitude(){const{spatialReference:Ve,x:Le,y:tt}=this;if(Ve){if(Ve.isWebMercator)return(0,oe.R6)(Le,tt,fe)[1];if(Ve.isGeographic)return tt}return null}set latitude(Ve){const{spatialReference:Le,x:tt}=this;Le&&(Le.isWebMercator?this._set("y",(0,oe.hG)(tt,Ve,fe)[1]):Le.isGeographic&&this._set("y",Ve),this._set("latitude",Ve))}get longitude(){const{x:Ve,y:Le,spatialReference:tt}=this;if(tt){if(tt.isWebMercator)return(0,oe.R6)(Ve,Le,fe)[0];if(tt.isGeographic)return Ve}return null}set longitude(Ve){const{y:Le,spatialReference:tt}=this;tt&&(tt.isWebMercator?this._set("x",(0,oe.hG)(Ve,Le,fe)[0]):tt.isGeographic&&this._set("x",Ve),this._set("longitude",Ve))}writeX(Ve,Le,tt){Le[tt]=isNaN(Ve)?"NaN":Ve}readX(Ve){return"string"==typeof Ve?NaN:Ve}clone(){const Ve=new se;return Ve.x=this.x,Ve.y=this.y,Ve.z=this.z,Ve.m=this.m,Ve.spatialReference=this.spatialReference,Ve}copy(Ve){return se.copy(Ve,this),this}equals(Ve){if(!Ve)return!1;const{x:Le,y:tt,z:je,m:ve,spatialReference:Oe}=this,{z:qe,m:He}=Ve;let{x:Qe,y:ot,spatialReference:Ne}=Ve;if(!Oe.equals(Ne))if(Oe.isWebMercator&&Ne.isWGS84)[Qe,ot]=(0,oe.hG)(Qe,ot),Ne=Oe;else{if(!Oe.isWGS84||!Ne.isWebMercator)return!1;[Qe,ot]=(0,oe.R6)(Qe,ot),Ne=Oe}return Le===Qe&&tt===ot&&je===qe&&ve===He&&Oe.wkid===Ne.wkid}offset(Ve,Le,tt){return function(Ve,Le,tt,je){var ve;return Ve.x=Ve.x+Le,Ve.y=Ve.y+tt,null!=je&&(Ve.z=(null!=(ve=Ve.z)?ve:0)+je),Ve}(this,Ve,Le,tt)}normalize(){if(!this.spatialReference)return this;const Ve=(0,le.C5)(this.spatialReference);if(!Ve)return this;let Le=this.x;const[tt,je]=Ve.valid,ve=2*je;let Oe;return Le>je?(Oe=Math.ceil(Math.abs(Le-je)/ve),Le-=Oe*ve):Le<tt&&(Oe=Math.ceil(Math.abs(Le-tt)/ve),Le+=Oe*ve),this._set("x",Le),this}distance(Ve){return function(Ve,Le){const tt=Ve.x-Le.x,je=Ve.y-Le.y,ve=Ve.hasZ&&Le.hasZ?Ve.z-Le.z:0;return Math.sqrt(tt*tt+je*je+ve*ve)}(this,Ve)}toArray(){const Ve=this.hasZ,Le=this.hasM;return Ve&&Le?[this.x,this.y,this.z,this.m]:Ve?[this.x,this.y,this.z]:Le?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(Ve){return this.write(null,Ve)}};(0,z._)([(0,Te.Cb)({readOnly:!0})],Ue.prototype,"cache",null),(0,z._)([(0,Te.Cb)({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Ue.prototype,"hasM",null),(0,z._)([(0,Te.Cb)({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Ue.prototype,"hasZ",null),(0,z._)([(0,Te.Cb)({type:Number})],Ue.prototype,"latitude",null),(0,z._)([(0,Te.Cb)({type:Number})],Ue.prototype,"longitude",null),(0,z._)([(0,Te.Cb)({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),(0,Ce.p)(Ve=>isNaN(Ve)?Ve:(0,re.q9)(Ve))],Ue.prototype,"x",void 0),(0,z._)([(0,he.c)("x")],Ue.prototype,"writeX",null),(0,z._)([(0,Ie.r)("x")],Ue.prototype,"readX",null),(0,z._)([(0,Te.Cb)({type:Number,json:{write:!0}})],Ue.prototype,"y",void 0),(0,z._)([(0,Te.Cb)({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Ue.prototype,"z",void 0),(0,z._)([(0,Te.Cb)({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],Ue.prototype,"m",void 0),Ue=se=(0,z._)([(0,ye.j)("esri.geometry.Point")],Ue),Ue.prototype.toJSON.isDefaultToJSON=!0;var Fe=Ue},37118:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>Ve});var ge,z=N(17626),J=N(58817),Te=N(62208),Me=N(77712),he=(N(90912),N(8314),N(63290),N(61403)),re=N(99433),ce=N(2004),be=N(21674),xe=N(49672),de=N(65234),Ae=N(27105),me=N(33190),le=N(25748),oe=N(15176),se=N(11519),fe=N(46367),Ee=N(18945);function Ue(Le){return!Array.isArray(Le[0])}let Fe=ge=class extends be.Z{constructor(...Le){super(...Le),this.rings=[],this.type="polygon"}static fromExtent(Le){const tt=Le.clone().normalize(),je=Le.spatialReference;let ve=!1,Oe=!1;tt.map(He=>{He.hasZ&&(ve=!0),He.hasM&&(Oe=!0)});const qe={rings:tt.map(function(He){const Qe=[[He.xmin,He.ymin],[He.xmin,He.ymax],[He.xmax,He.ymax],[He.xmax,He.ymin],[He.xmin,He.ymin]];if(ve&&He.hasZ){const ot=He.zmin+.5*(He.zmax-He.zmin);for(let Ne=0;Ne<Qe.length;Ne++)Qe[Ne].push(ot)}if(Oe&&He.hasM){const ot=He.mmin+.5*(He.mmax-He.mmin);for(let Ne=0;Ne<Qe.length;Ne++)Qe[Ne].push(ot)}return Qe}),spatialReference:je};return ve&&(qe.hasZ=!0),Oe&&(qe.hasM=!0),new ge(qe)}normalizeCtorArgs(Le,tt){let je,ve,Oe=null,qe=null;return Le&&!Array.isArray(Le)?(Oe=Le.rings?Le.rings:null,tt||(Le.spatialReference?tt=Le.spatialReference:Le.rings||(tt=Le)),je=Le.hasZ,ve=Le.hasM):Oe=Le,Oe=Oe||[],Oe.length&&Oe[0]&&null!=Oe[0][0]&&"number"==typeof Oe[0][0]&&(Oe=[Oe]),qe=Oe[0]&&Oe[0][0],qe&&(void 0===je&&void 0===ve?(je=qe.length>2,ve=qe.length>3):void 0===je?je=ve?qe.length>3:qe.length>2:void 0===ve&&(ve=je?qe.length>3:qe.length>2)),{rings:Oe,spatialReference:tt=tt||de.Z.WGS84,hasZ:je,hasM:ve}}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const Le=(0,Ae.tO)(this);if(!Le||isNaN(Le[0])||isNaN(Le[1])||this.hasZ&&isNaN(Le[2]))return null;const tt=new xe.Z;return tt.x=Le[0],tt.y=Le[1],tt.spatialReference=this.spatialReference,this.hasZ&&(tt.z=Le[2]),tt}get extent(){const{spatialReference:Le}=this,tt=(0,oe._w)(this);if(!tt)return null;const je=new ce.Z(tt);return je.spatialReference=Le,je}get isSelfIntersecting(){return(0,se.Ff)(this.rings)}writeRings(Le,tt){tt.rings=(0,J.d9)(this.rings)}addRing(Le){if(!Le)return;const tt=this.rings,je=tt.length;if(Ue(Le)){const ve=[];for(let Oe=0,qe=Le.length;Oe<qe;Oe++)ve[Oe]=Le[Oe].toArray();tt[je]=ve}else tt[je]=Le.concat();return this.notifyChange("rings"),this}clone(){const Le=new ge;return Le.spatialReference=this.spatialReference,Le.rings=(0,J.d9)(this.rings),Le.hasZ=this.hasZ,Le.hasM=this.hasM,Le}contains(Le){if(!Le)return!1;const tt=(0,fe.iV)(Le,this.spatialReference);return(0,me.CI)(this,(0,Te.pC)(tt)?tt:Le)}isClockwise(Le){let tt;return tt=Ue(Le)?Le.map(je=>this.hasZ?this.hasM?[je.x,je.y,je.z,je.m]:[je.x,je.y,je.z]:[je.x,je.y]):Le,(0,le.bu)(tt,this.hasM,this.hasZ)}getPoint(Le,tt){if(!this._validateInputs(Le,tt))return null;const je=this.rings[Le][tt],ve=this.hasZ,Oe=this.hasM;return ve&&!Oe?new xe.Z(je[0],je[1],je[2],void 0,this.spatialReference):Oe&&!ve?new xe.Z(je[0],je[1],void 0,je[2],this.spatialReference):ve&&Oe?new xe.Z(je[0],je[1],je[2],je[3],this.spatialReference):new xe.Z(je[0],je[1],this.spatialReference)}insertPoint(Le,tt,je){return this._validateInputs(Le,tt,!0)?((0,Ee.l)(this,je),Array.isArray(je)||(je=je.toArray()),this.rings[Le].splice(tt,0,je),this.notifyChange("rings"),this):this}removePoint(Le,tt){if(!this._validateInputs(Le,tt))return null;const je=new xe.Z(this.rings[Le].splice(tt,1)[0],this.spatialReference);return this.notifyChange("rings"),je}removeRing(Le){if(!this._validateInputs(Le,null))return null;const tt=this.rings.splice(Le,1)[0],je=this.spatialReference,ve=tt.map(Oe=>new xe.Z(Oe,je));return this.notifyChange("rings"),ve}setPoint(Le,tt,je){return this._validateInputs(Le,tt)?((0,Ee.l)(this,je),Array.isArray(je)||(je=je.toArray()),this.rings[Le][tt]=je,this.notifyChange("rings"),this):this}_validateInputs(Le,tt,je=!1){if(null==Le||Le<0||Le>=this.rings.length)return!1;if(null!=tt){const ve=this.rings[Le];if(je&&(tt<0||tt>ve.length)||!je&&(tt<0||tt>=ve.length))return!1}return!0}toJSON(Le){return this.write(null,Le)}};(0,z._)([(0,Me.Cb)({readOnly:!0})],Fe.prototype,"cache",null),(0,z._)([(0,Me.Cb)({readOnly:!0})],Fe.prototype,"centroid",null),(0,z._)([(0,Me.Cb)({readOnly:!0})],Fe.prototype,"extent",null),(0,z._)([(0,Me.Cb)({readOnly:!0})],Fe.prototype,"isSelfIntersecting",null),(0,z._)([(0,Me.Cb)({type:[[[Number]]],json:{write:{isRequired:!0}}})],Fe.prototype,"rings",void 0),(0,z._)([(0,re.c)("rings")],Fe.prototype,"writeRings",null),Fe=ge=(0,z._)([(0,he.j)("esri.geometry.Polygon")],Fe),Fe.prototype.toJSON.isDefaultToJSON=!0;var Ve=Fe},55214:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>se});var me,z=N(17626),J=N(58817),Te=N(77712),ye=(N(90912),N(8314),N(63290),N(61403)),he=N(99433),re=N(2004),ce=N(21674),be=N(49672),xe=N(65234),de=N(15176),Ae=N(18945);let oe=me=class extends ce.Z{constructor(...fe){super(...fe),this.paths=[],this.type="polyline"}normalizeCtorArgs(fe,Ee){let ge,Ue,Fe=null,Ve=null;return fe&&!Array.isArray(fe)?(Fe=fe.paths?fe.paths:null,Ee||(fe.spatialReference?Ee=fe.spatialReference:fe.paths||(Ee=fe)),ge=fe.hasZ,Ue=fe.hasM):Fe=fe,Fe=Fe||[],Fe.length&&Fe[0]&&null!=Fe[0][0]&&"number"==typeof Fe[0][0]&&(Fe=[Fe]),Ve=Fe[0]&&Fe[0][0],Ve&&(void 0===ge&&void 0===Ue?(ge=Ve.length>2,Ue=!1):void 0===ge?ge=!Ue&&Ve.length>3:void 0===Ue&&(Ue=!ge&&Ve.length>3)),{paths:Fe,spatialReference:Ee=Ee||xe.Z.WGS84,hasZ:ge,hasM:Ue}}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:fe}=this,Ee=(0,de.Wn)(this);if(!Ee)return null;const ge=new re.Z(Ee);return ge.spatialReference=fe,ge}writePaths(fe,Ee){Ee.paths=(0,J.d9)(this.paths)}addPath(fe){if(!fe)return;const Ee=this.paths,ge=Ee.length;if(function(fe){return!Array.isArray(fe[0])}(fe)){const Ue=[];for(let Fe=0,Ve=fe.length;Fe<Ve;Fe++)Ue[Fe]=fe[Fe].toArray();Ee[ge]=Ue}else Ee[ge]=fe.concat();return this.notifyChange("paths"),this}clone(){const fe=new me;return fe.spatialReference=this.spatialReference,fe.paths=(0,J.d9)(this.paths),fe.hasZ=this.hasZ,fe.hasM=this.hasM,fe}getPoint(fe,Ee){if(!this._validateInputs(fe,Ee))return null;const ge=this.paths[fe][Ee],Ue=this.hasZ,Fe=this.hasM;return Ue&&!Fe?new be.Z(ge[0],ge[1],ge[2],void 0,this.spatialReference):Fe&&!Ue?new be.Z(ge[0],ge[1],void 0,ge[2],this.spatialReference):Ue&&Fe?new be.Z(ge[0],ge[1],ge[2],ge[3],this.spatialReference):new be.Z(ge[0],ge[1],this.spatialReference)}insertPoint(fe,Ee,ge){return this._validateInputs(fe,Ee,!0)?((0,Ae.l)(this,ge),Array.isArray(ge)||(ge=ge.toArray()),this.paths[fe].splice(Ee,0,ge),this.notifyChange("paths"),this):this}removePath(fe){if(!this._validateInputs(fe,null))return null;const Ee=this.paths.splice(fe,1)[0],ge=this.spatialReference,Ue=Ee.map(Fe=>new be.Z(Fe,ge));return this.notifyChange("paths"),Ue}removePoint(fe,Ee){if(!this._validateInputs(fe,Ee))return null;const ge=new be.Z(this.paths[fe].splice(Ee,1)[0],this.spatialReference);return this.notifyChange("paths"),ge}setPoint(fe,Ee,ge){return this._validateInputs(fe,Ee)?((0,Ae.l)(this,ge),Array.isArray(ge)||(ge=ge.toArray()),this.paths[fe][Ee]=ge,this.notifyChange("paths"),this):this}_validateInputs(fe,Ee,ge=!1){if(null==fe||fe<0||fe>=this.paths.length)return!1;if(null!=Ee){const Ue=this.paths[fe];if(ge&&(Ee<0||Ee>Ue.length)||!ge&&(Ee<0||Ee>=Ue.length))return!1}return!0}toJSON(fe){return this.write(null,fe)}};(0,z._)([(0,Te.Cb)({readOnly:!0})],oe.prototype,"cache",null),(0,z._)([(0,Te.Cb)({readOnly:!0})],oe.prototype,"extent",null),(0,z._)([(0,Te.Cb)({type:[[[Number]]],json:{write:{isRequired:!0}}})],oe.prototype,"paths",void 0),(0,z._)([(0,he.c)("paths")],oe.prototype,"writePaths",null),oe=me=(0,z._)([(0,ye.j)("esri.geometry.Polyline")],oe),oe.prototype.toJSON.isDefaultToJSON=!0;var se=oe},65234:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>be});var re,z=N(17626),J=N(86162),Te=N(58817),Me=N(90912),Ce=N(77712),Ie=N(61403),ye=N(99433),he=N(37053);let ce=re=class extends J.wq{constructor(xe){super(xe),this.latestWkid=null,this.wkid=null,this.wkt=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}static fromJSON(xe){if(!xe)return null;if(xe.wkid){if(102100===xe.wkid)return re.WebMercator;if(4326===xe.wkid)return re.WGS84}const de=new re;return de.read(xe),de}normalizeCtorArgs(xe){return xe&&"object"==typeof xe?xe:{["string"==typeof xe?"wkt":"wkid"]:xe}}get isWGS84(){return(0,he.oR)(this)}get isWebMercator(){return(0,he.sS)(this)}get isGeographic(){return(0,he.sT)(this)}get isWrappable(){return(0,he.MP)(this)}writeWkt(xe,de){this.wkid||(de.wkt=xe)}clone(){if(this===re.WGS84)return re.WGS84;if(this===re.WebMercator)return re.WebMercator;const xe=new re;return null!=this.wkid?(xe.wkid=this.wkid,null!=this.latestWkid&&(xe.latestWkid=this.latestWkid),null!=this.vcsWkid&&(xe.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(xe.latestVcsWkid=this.latestVcsWkid)):null!=this.wkt&&(xe.wkt=this.wkt),this.imageCoordinateSystem&&(xe.imageCoordinateSystem=(0,Te.d9)(this.imageCoordinateSystem)),xe}equals(xe){if(null==xe)return!1;if(this.imageCoordinateSystem||xe.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==xe.imageCoordinateSystem)return!1;const{id:de,referenceServiceName:Ae}=xe.imageCoordinateSystem,{geodataXform:me}=xe.imageCoordinateSystem,le=this.imageCoordinateSystem;return null==de||me?JSON.stringify(le)===JSON.stringify(xe.imageCoordinateSystem):Ae?le.id===de&&le.referenceServiceName===Ae:le.id===de}return(0,he.fS)(this,xe)}toJSON(xe){return this.write(void 0,xe)}};ce.GCS_NAD_1927=null,ce.WGS84=null,ce.WebMercator=null,ce.PlateCarree=null,(0,z._)([(0,Ce.Cb)({readOnly:!0})],ce.prototype,"isWGS84",null),(0,z._)([(0,Ce.Cb)({readOnly:!0})],ce.prototype,"isWebMercator",null),(0,z._)([(0,Ce.Cb)({readOnly:!0})],ce.prototype,"isGeographic",null),(0,z._)([(0,Ce.Cb)({readOnly:!0})],ce.prototype,"isWrappable",null),(0,z._)([(0,Ce.Cb)({type:Me.z8,json:{write:!0}})],ce.prototype,"latestWkid",void 0),(0,z._)([(0,Ce.Cb)({type:Me.z8,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null===this.wkt}}}}}}})],ce.prototype,"wkid",void 0),(0,z._)([(0,Ce.Cb)({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null===this.wkid}}}}}}})],ce.prototype,"wkt",void 0),(0,z._)([(0,ye.c)("wkt"),(0,ye.c)("web-scene","wkt")],ce.prototype,"writeWkt",null),(0,z._)([(0,Ce.Cb)({type:Me.z8,json:{write:!0}})],ce.prototype,"vcsWkid",void 0),(0,z._)([(0,Ce.Cb)({type:Me.z8,json:{write:!0}})],ce.prototype,"latestVcsWkid",void 0),(0,z._)([(0,Ce.Cb)()],ce.prototype,"imageCoordinateSystem",void 0),ce=re=(0,z._)([(0,Ie.j)("esri.geometry.SpatialReference")],ce),ce.prototype.toJSON.isDefaultToJSON=!0,ce.GCS_NAD_1927=new ce({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'}),ce.WGS84=new ce(he.Zn),ce.WebMercator=new ce(he.R_),ce.PlateCarree=new ce(he.WR),Object.freeze&&(Object.freeze(ce.GCS_NAD_1927),Object.freeze(ce.WGS84),Object.freeze(ce.WebMercator));var be=ce},77777:(hi,lt,N)=>{"use strict";N.r(lt),N.d(lt,{hydratedAdapter:()=>Ie});var z=N(2004),J=N(72854),Te=N(49672),Me=N(37118),Ce=N(55214);const Ie={convertToGEGeometry:function(de,Ae){if(null==Ae)return null;let me="cache"in Ae?Ae.cache._geVersion:void 0;return null==me&&(me=de.convertJSONToGeometry(Ae),"cache"in Ae&&(Ae.cache._geVersion=me)),me},exportPoint:function(de,Ae,me){const le=de.hasZ(Ae),oe=de.hasM(Ae),se=new Te.Z({x:de.getPointX(Ae),y:de.getPointY(Ae),spatialReference:me});return le&&(se.z=de.getPointZ(Ae)),oe&&(se.m=de.getPointM(Ae)),se.cache._geVersion=Ae,se},exportPolygon:function(de,Ae,me){const le=new Me.Z({rings:de.exportPaths(Ae),hasZ:de.hasZ(Ae),hasM:de.hasM(Ae),spatialReference:me});return le.cache._geVersion=Ae,le},exportPolyline:function(de,Ae,me){const le=new Ce.Z({paths:de.exportPaths(Ae),hasZ:de.hasZ(Ae),hasM:de.hasM(Ae),spatialReference:me});return le.cache._geVersion=Ae,le},exportMultipoint:function(de,Ae,me){const le=new J.Z({hasZ:de.hasZ(Ae),hasM:de.hasM(Ae),points:de.exportPoints(Ae),spatialReference:me});return le.cache._geVersion=Ae,le},exportExtent:function(de,Ae,me){const le=de.hasZ(Ae),oe=de.hasM(Ae),se=new z.Z({xmin:de.getXMin(Ae),ymin:de.getYMin(Ae),xmax:de.getXMax(Ae),ymax:de.getYMax(Ae),spatialReference:me});if(le){const fe=de.getZExtent(Ae);se.zmin=fe.vmin,se.zmax=fe.vmax}if(oe){const fe=de.getMExtent(Ae);se.mmin=fe.vmin,se.mmax=fe.vmax}return se.cache._geVersion=Ae,se}}},44766:(hi,lt,N)=>{"use strict";N.r(lt),N.d(lt,{buffer:()=>Le,clip:()=>Ce,contains:()=>ye,convexHull:()=>fe,crosses:()=>he,cut:()=>Ie,densify:()=>Se,difference:()=>Ee,disjoint:()=>Ae,distance:()=>re,equals:()=>ce,extendedSpatialReferenceInfo:()=>Me,flipHorizontal:()=>Qe,flipVertical:()=>ot,generalize:()=>Ne,geodesicArea:()=>xt,geodesicBuffer:()=>tt,geodesicDensify:()=>$e,geodesicLength:()=>Ze,intersect:()=>Ue,intersects:()=>be,isSimple:()=>oe,nearestCoordinate:()=>je,nearestVertex:()=>ve,nearestVertices:()=>Oe,offset:()=>Ve,overlaps:()=>me,planarArea:()=>nt,planarLength:()=>ut,relate:()=>le,rotate:()=>He,simplify:()=>se,symmetricDifference:()=>ge,touches:()=>xe,union:()=>Fe,within:()=>de});var z=N(4918),J=N(77777);function Te(et){return Array.isArray(et)?et[0].spatialReference:et&&et.spatialReference}function Me(et){return z.G.extendedSpatialReferenceInfo(et)}function Ce(et,gt){return z.G.clip(J.hydratedAdapter,Te(et),et,gt)}function Ie(et,gt){return z.G.cut(J.hydratedAdapter,Te(et),et,gt)}function ye(et,gt){return z.G.contains(J.hydratedAdapter,Te(et),et,gt)}function he(et,gt){return z.G.crosses(J.hydratedAdapter,Te(et),et,gt)}function re(et,gt,Vt){return z.G.distance(J.hydratedAdapter,Te(et),et,gt,Vt)}function ce(et,gt){return z.G.equals(J.hydratedAdapter,Te(et),et,gt)}function be(et,gt){return z.G.intersects(J.hydratedAdapter,Te(et),et,gt)}function xe(et,gt){return z.G.touches(J.hydratedAdapter,Te(et),et,gt)}function de(et,gt){return z.G.within(J.hydratedAdapter,Te(et),et,gt)}function Ae(et,gt){return z.G.disjoint(J.hydratedAdapter,Te(et),et,gt)}function me(et,gt){return z.G.overlaps(J.hydratedAdapter,Te(et),et,gt)}function le(et,gt,Vt){return z.G.relate(J.hydratedAdapter,Te(et),et,gt,Vt)}function oe(et){return z.G.isSimple(J.hydratedAdapter,Te(et),et)}function se(et){return z.G.simplify(J.hydratedAdapter,Te(et),et)}function fe(et,gt=!1){return z.G.convexHull(J.hydratedAdapter,Te(et),et,gt)}function Ee(et,gt){return z.G.difference(J.hydratedAdapter,Te(et),et,gt)}function ge(et,gt){return z.G.symmetricDifference(J.hydratedAdapter,Te(et),et,gt)}function Ue(et,gt){return z.G.intersect(J.hydratedAdapter,Te(et),et,gt)}function Fe(et,gt=null){return z.G.union(J.hydratedAdapter,Te(et),et,gt)}function Ve(et,gt,Vt,Bt,Lt,Pt){return z.G.offset(J.hydratedAdapter,Te(et),et,gt,Vt,Bt,Lt,Pt)}function Le(et,gt,Vt,Bt=!1){return z.G.buffer(J.hydratedAdapter,Te(et),et,gt,Vt,Bt)}function tt(et,gt,Vt,Bt,Lt,Pt){return z.G.geodesicBuffer(J.hydratedAdapter,Te(et),et,gt,Vt,Bt,Lt,Pt)}function je(et,gt,Vt=!0){return z.G.nearestCoordinate(J.hydratedAdapter,Te(et),et,gt,Vt)}function ve(et,gt){return z.G.nearestVertex(J.hydratedAdapter,Te(et),et,gt)}function Oe(et,gt,Vt,Bt){return z.G.nearestVertices(J.hydratedAdapter,Te(et),et,gt,Vt,Bt)}function qe(et){return"xmin"in et?"center"in et?et.center:null:"x"in et?et:"extent"in et?et.extent.center:null}function He(et,gt,Vt){var Bt;if(null==et)throw new Error("Illegal Argument Exception");const Lt=et.spatialReference;if(null==(Vt=null!=(Bt=Vt)?Bt:qe(et)))throw new Error("Illegal Argument Exception");const Pt=et.constructor.fromJSON(z.G.rotate(et,gt,Vt));return Pt.spatialReference=Lt,Pt}function Qe(et,gt){var Vt;if(null==et)throw new Error("Illegal Argument Exception");const Bt=et.spatialReference;if(null==(gt=null!=(Vt=gt)?Vt:qe(et)))throw new Error("Illegal Argument Exception");const Lt=et.constructor.fromJSON(z.G.flipHorizontal(et,gt));return Lt.spatialReference=Bt,Lt}function ot(et,gt){var Vt;if(null==et)throw new Error("Illegal Argument Exception");const Bt=et.spatialReference;if(null==(gt=null!=(Vt=gt)?Vt:qe(et)))throw new Error("Illegal Argument Exception");const Lt=et.constructor.fromJSON(z.G.flipVertical(et,gt));return Lt.spatialReference=Bt,Lt}function Ne(et,gt,Vt,Bt){return z.G.generalize(J.hydratedAdapter,Te(et),et,gt,Vt,Bt)}function Se(et,gt,Vt){return z.G.densify(J.hydratedAdapter,Te(et),et,gt,Vt)}function $e(et,gt,Vt,Bt=0){return z.G.geodesicDensify(J.hydratedAdapter,Te(et),et,gt,Vt,Bt)}function nt(et,gt){return z.G.planarArea(J.hydratedAdapter,Te(et),et,gt)}function ut(et,gt){return z.G.planarLength(J.hydratedAdapter,Te(et),et,gt)}function xt(et,gt,Vt){return z.G.geodesicArea(J.hydratedAdapter,Te(et),et,gt,Vt)}function Ze(et,gt,Vt){return z.G.geodesicLength(J.hydratedAdapter,Te(et),et,gt,Vt)}},93013:(hi,lt,N)=>{"use strict";N.d(lt,{Up:()=>Ki,Bm:()=>ht,rS:()=>pi,iQ:()=>yn,kR:()=>Dt,Gb:()=>Kt,zD:()=>st,iV:()=>Ti,CM:()=>we,oj:()=>qt,KC:()=>W,Wt:()=>E});var z=N(15861),J=N(26584),Te=N(21286),Me=N(62208),Ce=N(10699),Ie=N(16730),ye=N(28347),re=(N(84161),N(28093)),ce=N(2004),be=N(72854),xe=N(54346),de=N(8314);let Ae,me=null;function le(){return!!me}function se(){return Ae||(Ae=N.e(3714).then(N.bind(N,73714)).then(function(Zt){return Zt.p}).then(({default:Zt})=>Zt({locateFile:di=>(0,xe.V)(`esri/geometry/support/${di}`)})).then(Zt=>{Qe(Zt)}),Ae)}var fe,Ee,ge,Zt;(function(Zt){function di(cn,Sn,En){me.ensureCache.prepare();const bi=Se(En),Qi=En===bi,ki=me.ensureFloat64(bi),xn=me._pe_geog_to_proj(me.getPointer(cn),Sn,ki);return xn&&$e(En,Sn,ki,Qi),xn}function Bi(cn,Sn,En){return hn(cn,Sn,En,0)}function hn(cn,Sn,En,bi){me.ensureCache.prepare();const Qi=Se(En),ki=En===Qi,xn=me.ensureFloat64(Qi),cr=me._pe_proj_to_geog_center(me.getPointer(cn),Sn,xn,bi);return cr&&$e(En,Sn,xn,ki),cr}Zt.geogToProj=di,Zt.projGeog=function(cn,Sn,En,bi){switch(bi){case Ee.PE_TRANSFORM_P_TO_G:return Bi(cn,Sn,En);case Ee.PE_TRANSFORM_G_TO_P:return di(cn,Sn,En)}return 0},Zt.projToGeog=Bi,Zt.projToGeogCenter=hn})(fe||(fe={})),(Zt=Ee||(Ee={})).init=function(){Zt.PE_BUFFER_MAX=me.PeDefs.prototype.PE_BUFFER_MAX,Zt.PE_NAME_MAX=me.PeDefs.prototype.PE_NAME_MAX,Zt.PE_MGRS_MAX=me.PeDefs.prototype.PE_MGRS_MAX,Zt.PE_USNG_MAX=me.PeDefs.prototype.PE_USNG_MAX,Zt.PE_DD_MAX=me.PeDefs.prototype.PE_DD_MAX,Zt.PE_DDM_MAX=me.PeDefs.prototype.PE_DDM_MAX,Zt.PE_DMS_MAX=me.PeDefs.prototype.PE_DMS_MAX,Zt.PE_UTM_MAX=me.PeDefs.prototype.PE_UTM_MAX,Zt.PE_PARM_MAX=me.PeDefs.prototype.PE_PARM_MAX,Zt.PE_TYPE_NONE=me.PeDefs.prototype.PE_TYPE_NONE,Zt.PE_TYPE_GEOGCS=me.PeDefs.prototype.PE_TYPE_GEOGCS,Zt.PE_TYPE_PROJCS=me.PeDefs.prototype.PE_TYPE_PROJCS,Zt.PE_TYPE_GEOGTRAN=me.PeDefs.prototype.PE_TYPE_GEOGTRAN,Zt.PE_TYPE_COORDSYS=me.PeDefs.prototype.PE_TYPE_COORDSYS,Zt.PE_TYPE_UNIT=me.PeDefs.prototype.PE_TYPE_UNIT,Zt.PE_TYPE_LINUNIT=me.PeDefs.prototype.PE_TYPE_LINUNIT,Zt.PE_STR_OPTS_NONE=me.PeDefs.prototype.PE_STR_OPTS_NONE,Zt.PE_STR_AUTH_NONE=me.PeDefs.prototype.PE_STR_AUTH_NONE,Zt.PE_STR_AUTH_TOP=me.PeDefs.prototype.PE_STR_AUTH_TOP,Zt.PE_STR_NAME_CANON=me.PeDefs.prototype.PE_STR_NAME_CANON,Zt.PE_PARM_X0=me.PeDefs.prototype.PE_PARM_X0,Zt.PE_PARM_ND=me.PeDefs.prototype.PE_PARM_ND,Zt.PE_TRANSFORM_1_TO_2=me.PeDefs.prototype.PE_TRANSFORM_1_TO_2,Zt.PE_TRANSFORM_2_TO_1=me.PeDefs.prototype.PE_TRANSFORM_2_TO_1,Zt.PE_TRANSFORM_P_TO_G=me.PeDefs.prototype.PE_TRANSFORM_P_TO_G,Zt.PE_TRANSFORM_G_TO_P=me.PeDefs.prototype.PE_TRANSFORM_G_TO_P,Zt.PE_HORIZON_RECT=me.PeDefs.prototype.PE_HORIZON_RECT,Zt.PE_HORIZON_POLY=me.PeDefs.prototype.PE_HORIZON_POLY,Zt.PE_HORIZON_LINE=me.PeDefs.prototype.PE_HORIZON_LINE,Zt.PE_HORIZON_DELTA=me.PeDefs.prototype.PE_HORIZON_DELTA},function(Zt){const di={},ai={},Bi=Dn=>{if(Dn){const gr=Dn.getType();switch(gr){case Ee.PE_TYPE_GEOGCS:Dn=me.castObject(Dn,me.PeGeogcs);break;case Ee.PE_TYPE_PROJCS:Dn=me.castObject(Dn,me.PeProjcs);break;case Ee.PE_TYPE_GEOGTRAN:Dn=me.castObject(Dn,me.PeGeogtran);break;default:gr&Ee.PE_TYPE_UNIT&&(Dn=me.castObject(Dn,me.PeUnit))}}return Dn};function Sn(Dn,gr){let pr=null,Dr=di[Dn];if(Dr||(Dr={},di[Dn]=Dr),Dr.hasOwnProperty(String(gr)))pr=Dr[gr];else{const zn=me.PeFactory.prototype.factoryByType(Dn,gr);me.compare(zn,me.NULL)||(pr=zn,Dr[gr]=pr)}return pr=Bi(pr),pr}Zt.initialize=function(){me.PeFactory.prototype.initialize(null)},Zt.coordsys=function(Dn){return Sn(Ee.PE_TYPE_COORDSYS,Dn)},Zt.factoryByType=Sn,Zt.fromString=function(Dn,gr){let pr=null,Dr=ai[Dn];if(Dr||(Dr={},ai[Dn]=Dr),Dr.hasOwnProperty(gr))pr=Dr[gr];else{const zn=me.PeFactory.prototype.fromString(Dn,gr);me.compare(zn,me.NULL)||(pr=zn,Dr[gr]=pr)}return pr=Bi(pr),pr},Zt.geogcs=function(Dn){return Sn(Ee.PE_TYPE_GEOGCS,Dn)},Zt.geogtran=function(Dn){return Sn(Ee.PE_TYPE_GEOGTRAN,Dn)},Zt.getCode=function(Dn){return me.PeFactory.prototype.getCode(Dn)},Zt.projcs=function(Dn){return Sn(Ee.PE_TYPE_PROJCS,Dn)},Zt.unit=function(Dn){return Sn(Ee.PE_TYPE_UNIT,Dn)}}(ge||(ge={}));let Ue=null;var Fe,Ve,Le,tt,je,ve,Oe,qe,He;function Qe(Zt){function di(cn,Sn,En){cn[Sn]=En(cn[Sn])}me=Zt,Ee.init(),Fe.init(),je.init(),Oe.init(),qe.init(),Ue=class extends me.PeGCSExtent{destroy(){me.destroy(this)}};const ai=[me.PeDatum,me.PeGeogcs,me.PeGeogtran,me.PeObject,me.PeParameter,me.PePrimem,me.PeProjcs,me.PeSpheroid,me.PeUnit];for(const cn of ai)di(cn.prototype,"getName",Sn=>function(){return Sn.call(this,new Array(Ee.PE_NAME_MAX))});for(const cn of[me.PeGeogtran,me.PeProjcs])di(cn.prototype,"getParameters",Sn=>function(){const En=new Array(Ee.PE_PARM_MAX);let bi=Sn.call(this);for(let Qi=0;Qi<En.length;Qi++){const ki=me.getValue(bi,"*");En[Qi]=ki?me.wrapPointer(ki,me.PeParameter):null,bi+=Int32Array.BYTES_PER_ELEMENT}return En});di(me.PeHorizon.prototype,"getCoord",cn=>function(){const Sn=this.getSize();if(!Sn)return null;const En=[];return $e(En,Sn,cn.call(this)),En}),di(me.PeGTlistExtendedEntry.prototype,"getEntries",cn=>{const Sn=me._pe_getPeGTlistExtendedGTsSize();return function(){let En=null;const bi=cn.call(this);if(!me.compare(bi,me.NULL)){En=[bi];const Qi=this.getSteps();if(Qi>1){const ki=me.getPointer(bi);for(let xn=1;xn<Qi;xn++)En.push(me.wrapPointer(ki+Sn*xn,me.PeGTlistExtendedGTs))}}return En}});const Bi=me._pe_getPeHorizonSize(),hn=cn=>function(){let Sn=this._cache;if(Sn||(Sn=new Map,this._cache=Sn),Sn.has(cn))return Sn.get(cn);let En=null;const bi=cn.call(this);if(!me.compare(bi,me.NULL)){En=[bi];const Qi=bi.getNump();if(Qi>1){const ki=me.getPointer(bi);for(let xn=1;xn<Qi;xn++)En.push(me.wrapPointer(ki+Bi*xn,me.PeHorizon))}}return Sn.set(cn,En),En};di(me.PeProjcs.prototype,"horizonGcsGenerate",hn),di(me.PeProjcs.prototype,"horizonPcsGenerate",hn),me.PeObject.prototype.toString=function(cn=Ee.PE_STR_OPTS_NONE){me.ensureCache.prepare();const Sn=me.getPointer(this),En=me.ensureInt8(new Array(Ee.PE_BUFFER_MAX));return me.UTF8ToString(me._pe_object_to_string_ext(Sn,cn,En))}}function ot(Zt){if(!Zt)return;const di=me.getClass(Zt);if(!di)return;const ai=me.getCache(di);if(!ai)return;const Bi=me.getPointer(Zt);Bi&&delete ai[Bi]}function Ne(Zt,di){const ai=[],Bi=new Array(di);for(let hn=0;hn<Zt;hn++)ai.push(me.ensureInt8(Bi));return ai}function Se(Zt){let di;return Array.isArray(Zt[0])?(di=[],Zt.forEach(ai=>{di.push(ai[0],ai[1])})):di=Zt,di}function $e(Zt,di,ai,Bi=!1){if(Bi)for(let hn=0;hn<2*di;hn++)Zt[hn]=me.getValue(ai+hn*Float64Array.BYTES_PER_ELEMENT,"double");else{const hn=0===Zt.length;for(let cn=0;cn<di;cn++)hn&&(Zt[cn]=new Array(2)),Zt[cn][0]=me.getValue(ai,"double"),Zt[cn][1]=me.getValue(ai+Float64Array.BYTES_PER_ELEMENT,"double"),ai+=2*Float64Array.BYTES_PER_ELEMENT}}(function(Zt){let di;Zt.init=function(){Zt.PE_GTLIST_OPTS_COMMON=me.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,di=me._pe_getPeGTlistExtendedEntrySize()},Zt.getGTlist=function(hn,cn,Sn,En,bi,Qi){let ki=null;const xn=new me.PeInteger(Qi);try{const cr=me.PeGTlistExtended.prototype.getGTlist(hn,cn,Sn,En,bi,xn);if((Qi=xn.val)&&(ki=[cr],Qi>1)){const Dn=me.getPointer(cr);for(let gr=1;gr<Qi;gr++)ki.push(me.wrapPointer(Dn+di*gr,me.PeGTlistExtendedEntry))}}finally{me.destroy(xn)}return ki}})(Fe||(Fe={})),function(Zt){Zt.destroy=function(ai){if(ai&&ai.length){for(const Bi of ai)ot(Bi),Bi.getEntries().forEach(hn=>{ot(hn);const cn=hn.getGeogtran();ot(cn),cn.getParameters().forEach(ot),[cn.getGeogcs1(),cn.getGeogcs2()].forEach(Sn=>{ot(Sn);const En=Sn.getDatum();ot(En),ot(En.getSpheroid()),ot(Sn.getPrimem()),ot(Sn.getUnit())})});me.PeGTlistExtendedEntry.prototype.Delete(ai[0])}}}(Ve||(Ve={})),function(Zt){Zt.geogToGeog=function(ai,Bi,hn,cn,Sn){me.ensureCache.prepare();const En=Se(hn),bi=hn===En,Qi=me.ensureFloat64(En);let ki=0;cn&&(ki=me.ensureFloat64(cn));const xn=me._pe_geog_to_geog(me.getPointer(ai),Bi,Qi,ki,Sn);return xn&&$e(hn,Bi,Qi,bi),xn}}(Le||(Le={})),function(Zt){const di=(Qi,ki,xn,cr,Dn,gr)=>{let pr,Dr;switch(me.ensureCache.prepare(),Qi){case"dd":pr=me._pe_geog_to_dd,Dr=Ee.PE_DD_MAX;break;case"ddm":pr=me._pe_geog_to_ddm,Dr=Ee.PE_DDM_MAX;break;case"dms":pr=me._pe_geog_to_dms,Dr=Ee.PE_DMS_MAX}let zn=0;ki&&(zn=me.getPointer(ki));const ro=Se(cr),Yn=me.ensureFloat64(ro),Ut=Ne(xn,Dr),ii=pr(zn,xn,Yn,Dn,me.ensureInt32(Ut));if(ii)for(let Fi=0;Fi<xn;Fi++)gr[Fi]=me.UTF8ToString(Ut[Fi]);return ii},ai=(Qi,ki,xn,cr,Dn)=>{let gr;switch(me.ensureCache.prepare(),Qi){case"dd":gr=me._pe_dd_to_geog;break;case"ddm":gr=me._pe_ddm_to_geog;break;case"dms":gr=me._pe_dms_to_geog}let pr=0;ki&&(pr=me.getPointer(ki));const Dr=cr.map(Ut=>me.ensureString(Ut)),zn=me.ensureInt32(Dr),ro=me.ensureFloat64(new Array(2*xn)),Yn=gr(pr,xn,zn,ro);return Yn&&$e(Dn,xn,ro),Yn};Zt.geog_to_dms=function(Qi,ki,xn,cr,Dn){return di("dms",Qi,ki,xn,cr,Dn)},Zt.dms_to_geog=function(Qi,ki,xn,cr){return ai("dms",Qi,ki,xn,cr)},Zt.geog_to_ddm=function(Qi,ki,xn,cr,Dn){return di("ddm",Qi,ki,xn,cr,Dn)},Zt.ddm_to_geog=function(Qi,ki,xn,cr){return ai("ddm",Qi,ki,xn,cr)},Zt.geog_to_dd=function(Qi,ki,xn,cr,Dn){return di("dd",Qi,ki,xn,cr,Dn)},Zt.dd_to_geog=function(Qi,ki,xn,cr){return ai("dd",Qi,ki,xn,cr)}}(tt||(tt={})),function(Zt){Zt.init=function(){Zt.PE_MGRS_STYLE_NEW=me.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,Zt.PE_MGRS_STYLE_OLD=me.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,Zt.PE_MGRS_STYLE_AUTO=me.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,Zt.PE_MGRS_180_ZONE_1_PLUS=me.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,Zt.PE_MGRS_ADD_SPACES=me.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES},Zt.geog_to_mgrs_extended=function(hn,cn,Sn,En,bi,Qi,ki){me.ensureCache.prepare();let xn=0;hn&&(xn=me.getPointer(hn));const cr=Se(Sn),Dn=me.ensureFloat64(cr),gr=Ne(cn,Ee.PE_MGRS_MAX),pr=me.ensureInt32(gr),Dr=me._pe_geog_to_mgrs_extended(xn,cn,Dn,En,bi,Qi,pr);if(Dr)for(let zn=0;zn<cn;zn++)ki[zn]=me.UTF8ToString(gr[zn]);return Dr},Zt.mgrs_to_geog_extended=function(hn,cn,Sn,En,bi){me.ensureCache.prepare();let Qi=0;hn&&(Qi=me.getPointer(hn));const ki=Sn.map(gr=>me.ensureString(gr)),xn=me.ensureInt32(ki),cr=me.ensureFloat64(new Array(2*cn)),Dn=me._pe_mgrs_to_geog_extended(Qi,cn,xn,En,cr);return Dn&&$e(bi,cn,cr),Dn}}(je||(je={})),function(Zt){Zt.geog_to_usng=function(Bi,hn,cn,Sn,En,bi,Qi){me.ensureCache.prepare();let ki=0;Bi&&(ki=me.getPointer(Bi));const xn=Se(cn),cr=me.ensureFloat64(xn),Dn=Ne(hn,Ee.PE_MGRS_MAX),gr=me.ensureInt32(Dn),pr=me._pe_geog_to_usng(ki,hn,cr,Sn,En,bi,gr);if(pr)for(let Dr=0;Dr<hn;Dr++)Qi[Dr]=me.UTF8ToString(Dn[Dr]);return pr},Zt.usng_to_geog=function(Bi,hn,cn,Sn){me.ensureCache.prepare();let En=0;Bi&&(En=me.getPointer(Bi));const bi=cn.map(cr=>me.ensureString(cr)),Qi=me.ensureInt32(bi),ki=me.ensureFloat64(new Array(2*hn)),xn=me._pe_usng_to_geog(En,hn,Qi,ki);return xn&&$e(Sn,hn,ki),xn}}(ve||(ve={})),function(Zt){Zt.init=function(){Zt.PE_UTM_OPTS_NONE=me.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,Zt.PE_UTM_OPTS_ADD_SPACES=me.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,Zt.PE_UTM_OPTS_NS=me.PeNotationUtm.prototype.PE_UTM_OPTS_NS},Zt.geog_to_utm=function(hn,cn,Sn,En,bi){me.ensureCache.prepare();let Qi=0;hn&&(Qi=me.getPointer(hn));const ki=Se(Sn),xn=me.ensureFloat64(ki),cr=Ne(cn,Ee.PE_UTM_MAX),Dn=me.ensureInt32(cr),gr=me._pe_geog_to_utm(Qi,cn,xn,En,Dn);if(gr)for(let pr=0;pr<cn;pr++)bi[pr]=me.UTF8ToString(cr[pr]);return gr},Zt.utm_to_geog=function(hn,cn,Sn,En,bi){me.ensureCache.prepare();let Qi=0;hn&&(Qi=me.getPointer(hn));const ki=Sn.map(gr=>me.ensureString(gr)),xn=me.ensureInt32(ki),cr=me.ensureFloat64(new Array(2*cn)),Dn=me._pe_utm_to_geog(Qi,cn,xn,En,cr);return Dn&&$e(bi,cn,cr),Dn}}(Oe||(Oe={})),function(Zt){const di=new Map;Zt.init=function(){Zt.PE_PCSINFO_OPTION_NONE=me.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,Zt.PE_PCSINFO_OPTION_DOMAIN=me.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,Zt.PE_POLE_OUTSIDE_BOUNDARY=me.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,Zt.PE_POLE_POINT=me.PePCSInfo.prototype.PE_POLE_POINT},Zt.generate=function(hn,cn=Zt.PE_PCSINFO_OPTION_DOMAIN){let Sn,En;return di.has(hn)&&(En=di.get(hn),En[cn]&&(Sn=En[cn])),Sn||(Sn=me.PePCSInfo.prototype.generate(hn,cn),En||(En=[],di.set(hn,En)),En[cn]=Sn),Sn}}(qe||(qe={})),function(Zt){Zt.version_string=function(){return me.PeVersion.prototype.version_string()}}(He||(He={}));var nt=Object.freeze({__proto__:null,get _pe(){return me},isLoaded:le,isSupported:function(){return!!(0,de.Z)("esri-wasm")},load:se,get PeCSTransformations(){return fe},get PeDefs(){return Ee},get PeFactory(){return ge},get PeGCSExtent(){return Ue},get PeGTlistExtended(){return Fe},get PeGTlistExtendedEntry(){return Ve},get PeGTTransformations(){return Le},get PeNotationDms(){return tt},get PeNotationMgrs(){return je},get PeNotationUsng(){return ve},get PeNotationUtm(){return Oe},get PePCSInfo(){return qe},get PeVersion(){return He},_init:Qe}),ut=N(49672),xt=N(37118),Ze=N(55214),et=N(12080),Vt=(N(65401),N(94425)),Bt=N(37299);let Lt=0;class Pt{constructor(di=null){this.uid=Lt++,di?(this._wkt=void 0!==di.wkt?di.wkt:null,this._wkid=void 0!==di.wkid?di.wkid:-1,this._isInverse=void 0!==di.isInverse&&!0===di.isInverse):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}static fromGE(di){const ai=new Pt;return ai._wkt=di.wkt,ai._wkid=di.wkid,ai._isInverse=di.isInverse,ai}get wkt(){return this._wkt}set wkt(di){this._wkt=di,this.uid=Lt++}get wkid(){return this._wkid}set wkid(di){this._wkid=di,this.uid=Lt++}get isInverse(){return this._isInverse}set isInverse(di){this._isInverse=di,this.uid=Lt++}getInverse(){const di=new Pt;return di._wkt=this.wkt,di._wkid=this._wkid,di._isInverse=!this.isInverse,di}}class dt{constructor(di){if(this.steps=[],this._cached_projection={},this._chain="",this._gtlistentry=null,di&&di.steps)for(const ai of di.steps)this.steps.push(ai instanceof Pt?ai:new Pt({wkid:ai.wkid,wkt:ai.wkt,isInverse:ai.isInverse}))}static cacheKey(di,ai){return[null!=di.wkid?di.wkid.toString():"-1",null!=di.wkt?di.wkt.toString():"",null!=ai.wkid?ai.wkid.toString():"-1",null!=ai.wkt?ai.wkt.toString():""].join(",")}static fromGE(di){const ai=new dt;let Bi="";for(const hn of di.steps){const cn=Pt.fromGE(hn);ai.steps.push(cn),Bi+=cn.uid.toString()+","}return ai._cached_projection={},ai._gtlistentry=null,ai._chain=Bi,ai}getInverse(){const di=new dt;di.steps=[];for(let ai=this.steps.length-1;ai>=0;ai--)di.steps.push(this.steps[ai].getInverse());return di}getGTListEntry(){let di="";for(const ai of this.steps)di+=ai.uid.toString()+",";return di!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=di),this._gtlistentry}assignCachedGe(di,ai,Bi){this._cached_projection[dt.cacheKey(di,ai)]=Bi}getCachedGeTransformation(di,ai){let Bi="";for(const cn of this.steps)Bi+=cn.uid.toString()+",";Bi!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=Bi);const hn=this._cached_projection[dt.cacheKey(di,ai)];return void 0===hn?null:hn}}var jt=N(37053);let Rt=null,_e=null,ke=null,rt={};function Dt(){return!!Rt&&le()}function Kt(){return!0}function st(Zt){return(0,Me.Wi)(ke)&&(ke=Promise.all([se(),Promise.resolve().then(N.bind(N,4918)).then(function(di){return di.g}),Promise.resolve().then(N.bind(N,77777))])),ke.then(([,di,{hydratedAdapter:ai}])=>{(0,Ce.k_)(Zt),_e=ai,Rt=di.default,Rt._enableProjection(nt)})}function Ti(Zt,di,ai=null){return Array.isArray(Zt)?0===Zt.length?[]:qt(_e,Zt,Zt[0].spatialReference,di,ai):qt(_e,[Zt],Zt.spatialReference,di,ai)[0]}function qt(Zt,di,ai,Bi,hn=null){if((0,Me.Wi)(ai)||(0,Me.Wi)(Bi))return di;if(Ki(ai,Bi,hn))return di.map(cn=>(0,Me.Wg)(function(Zt,di,ai){return Zt?"x"in Zt?function(Zt,di,ai,Bi,hn){mn[0]=Zt.x,mn[1]=Zt.y;const cn=Zt.z;return mn[2]=void 0!==cn?cn:hn,we(mn,di,0,mn,Bi,0,1)?(ai.x=mn[0],ai.y=mn[1],ai.spatialReference=Bi,void 0===cn?(ai.z=void 0,ai.hasZ=!1):(ai.z=mn[2],ai.hasZ=!0),void 0===Zt.m?(ai.m=void 0,ai.hasM=!1):(ai.m=Zt.m,ai.hasM=!0),ai):null}(Zt,di,new ut.Z,ai,0):"xmin"in Zt?function(Zt,di,ai,Bi,hn){const{xmin:cn,ymin:Sn,xmax:En,ymax:bi,hasZ:Qi,hasM:ki}=Zt;return X(cn,Sn,Qi?Zt.zmin:hn,di,mn,Bi)?(ai.xmin=mn[0],ai.ymin=mn[1],Qi&&(ai.zmin=mn[2]),X(En,bi,Qi?Zt.zmax:hn,di,mn,Bi)?(ai.xmax=mn[0],ai.ymax=mn[1],Qi&&(ai.zmax=mn[2]),ki&&(ai.mmin=Zt.mmin,ai.mmax=Zt.mmax),ai.spatialReference=Bi,ai):null):null}(Zt,di,new ce.Z,ai,0):"rings"in Zt?D(Zt,di,new xt.Z,ai,0):"paths"in Zt?function(Zt,di,ai,Bi,hn){const{paths:cn,hasZ:Sn,hasM:En}=Zt,bi=[];return _t(cn,Sn,En,di,bi,Bi,hn)?(ai.paths=bi,ai.spatialReference=Bi,ai.hasZ=Sn,ai.hasM=En,ai):null}(Zt,di,new Ze.Z,ai,0):"points"in Zt?function(Zt,di,ai,Bi,hn){const{points:cn,hasZ:Sn,hasM:En}=Zt,bi=[],Qi=cn.length,ki=[];for(const xn of cn)ki.push(xn[0],xn[1],Sn?xn[2]:hn);if(!we(ki,di,0,ki,Bi,0,Qi))return null;for(let xn=0;xn<Qi;++xn){const cr=3*xn,Dn=ki[cr],gr=ki[cr+1];bi.push(Sn&&En?[Dn,gr,ki[cr+2],cn[xn][3]]:Sn?[Dn,gr,ki[cr+2]]:En?[Dn,gr,cn[xn][2]]:[Dn,gr])}return ai.points=bi,ai.spatialReference=Bi,ai.hasZ=Sn,ai.hasM=En,ai}(Zt,di,new be.Z,ai,0):null:null}(cn,ai,Bi)));if((0,Me.Wi)(hn)){const cn=dt.cacheKey(ai,Bi);void 0!==rt[cn]?hn=rt[cn]:(hn=pi(ai,Bi,null),(0,Me.Wi)(hn)&&(hn=new dt),rt[cn]=hn)}if((0,Me.Wi)(Rt))throw new fi;return Rt._project(Zt,di,ai,Bi,hn)}function pi(Zt,di,ai=null){if((0,Me.Wi)(Rt))throw new fi;if((0,Me.Wi)(Zt)||(0,Me.Wi)(di))return null;const Bi=Rt._getTransformation(_e,Zt,di,ai,null==ai?void 0:ai.spatialReference);return null!==Bi?dt.fromGE(Bi):null}class fi extends J.Z{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}function Ki(Zt,di,ai){return!ai&&(!!(0,jt.fS)(Zt,di)||(0,jt.JY)(Zt)&&(0,jt.JY)(di)&&!!un(Zt,di,In))}function yn(Zt,di,ai,Bi){return Un.apply(this,arguments)}function Un(){return Un=(0,z.Z)(function*(Zt,di,ai,Bi){if(!Dt())if(Array.isArray(Zt)){for(const{source:hn,dest:cn,geographicTransformation:Sn}of Zt)if(!Ki(hn,cn,Sn))return st(Bi)}else if(!Ki(Zt,di,ai))return st(Bi)}),Un.apply(this,arguments)}function E(Zt,di,ai=di.spatialReference,Bi=0){return(0,Me.pC)(ai)&&(0,Me.pC)(D(Zt,Zt.spatialReference,di,ai,Bi))}function D(Zt,di,ai,Bi,hn){const{rings:cn,hasZ:Sn,hasM:En}=Zt,bi=[];return _t(cn,Sn,En,di,bi,Bi,hn)?(ai.rings=bi,ai.spatialReference=Bi,ai.hasZ=Sn,ai.hasM=En,ai):null}function W(Zt,di,ai,Bi=0){mn[0]=Zt.x,mn[1]=Zt.y;const hn=Zt.z;return mn[2]=void 0!==hn?hn:Bi,we(mn,Zt.spatialReference,0,di,ai,0,1)}function X(Zt,di,ai,Bi,hn,cn){return xi[0]=Zt,xi[1]=di,xi[2]=ai,we(xi,Bi,0,hn,cn,0,1)}function we(Zt,di,ai,Bi,hn,cn,Sn=1){const En=un(di,hn,In);if((0,Me.Wi)(En))return!1;if(En===Tt){if(Zt===Bi&&ai===cn)return!0;const Qi=ai+3*Sn;for(let ki=ai,xn=cn;ki<Qi;ki++,xn++)Bi[xn]=Zt[ki];return!0}const bi=ai+3*Sn;for(let Qi=ai,ki=cn;Qi<bi;Qi+=3,ki+=3)En(Zt,Qi,Bi,ki);return!0}function _t(Zt,di,ai,Bi,hn,cn,Sn=0){const En=new Array;for(const Qi of Zt)for(const ki of Qi)En.push(ki[0],ki[1],di?ki[2]:Sn);if(!we(En,Bi,0,En,cn,0,En.length/3))return!1;let bi=0;hn.length=0;for(const Qi of Zt){const ki=new Array;for(const xn of Qi)di&&ai?ki.push([En[bi++],En[bi++],En[bi++],xn[3]]):di?ki.push([En[bi++],En[bi++],En[bi++]]):ai?(ki.push([En[bi++],En[bi++],xn[2]]),bi++):(ki.push([En[bi++],En[bi++]]),bi++);hn.push(ki)}return!0}function ht(Zt,di,ai,Bi){if((0,Me.Wi)(Zt)||(0,Me.Wi)(Bi))return!1;const hn=St(Zt,ln),cn=St(Bi,$n);if(hn===cn&&!mt(cn)&&(0!==hn||(0,jt.fS)(Zt,Bi)))return(0,ye.i)(ai),(0,ye.t)(ai,ai,di),!0;if(mt(cn)){const Sn=en[hn][11],En=en[11][cn];return!(0,Me.Wi)(Sn)&&!(0,Me.Wi)(En)&&(Sn(di,0,Ni,0),En(Ni,0,Ji,0),yt(wi*Ni[0],wi*Ni[1],ai),ai[12]=Ji[0],ai[13]=Ji[1],ai[14]=Ji[2],!0)}if(!(3!==cn&&12!==cn||2!==hn&&1!==hn)){const Sn=en[hn][11],En=en[11][cn];return!(0,Me.Wi)(Sn)&&!(0,Me.Wi)(En)&&(Sn(di,0,Ni,0),En(Ni,0,Ji,0),2===hn?(0,ye.i)(ai):function(Zt,di,ai){yt(Zt,di,ai),(0,ye.a)(ai,ai)}(wi*Ni[0],wi*Ni[1],ai),ai[12]=Ji[0],ai[13]=Ji[1],ai[14]=Ji[2],!0)}return!1}function mt(Zt){return 1===Zt||7===Zt||9===Zt}function yt(Zt,di,ai){const Bi=Math.sin(Zt),hn=Math.cos(Zt),cn=Math.sin(di),Sn=Math.cos(di),En=ai;return En[0]=-Bi,En[4]=-cn*hn,En[8]=Sn*hn,En[12]=0,En[1]=hn,En[5]=-cn*Bi,En[9]=Sn*Bi,En[13]=0,En[2]=0,En[6]=Sn,En[10]=cn,En[14]=0,En[3]=0,En[7]=0,En[11]=0,En[15]=1,En}function St(Zt,di){return di.spatialReference===Zt?di.spatialReferenceId:(di.spatialReference=Zt,"metersPerUnit"in di&&(di.metersPerUnit=(0,Ie.c9)(Zt,1)),di.spatialReferenceId=Zt.wkt===et.GG.wkt?1:(0,jt.oR)(Zt)?2:(0,jt.sS)(Zt)?3:(0,jt.QM)(Zt)?12:Zt.wkt===et.wY.wkt?4:4490===Zt.wkid?5:Zt.wkt===et.HQ.wkt?7:Zt.wkt===et.VY.wkt?9:(0,jt.BZ)(Zt)?8:(0,jt.V2)(Zt)?10:0)}function Tt(Zt,di,ai,Bi){Zt!==ai&&(ai[Bi++]=Zt[di++],ai[Bi++]=Zt[di++],ai[Bi]=Zt[di])}function _i(Zt,di,ai,Bi){ai[Bi++]=Hi*(Zt[di++]/Vt.sv.radius),ai[Bi++]=Hi*(Math.PI/2-2*Math.atan(Math.exp(-Zt[di++]/Vt.sv.radius))),ai[Bi]=Zt[di]}function ti(Zt,di,ai,Bi){!function(Zt,di,ai,Bi,hn){const cn=.4999999*Math.PI,Sn=(0,Te.uZ)(wi*Zt[di+1],-cn,cn),En=Math.sin(Sn);ai[Bi++]=wi*Zt[di]*hn.radius,ai[Bi++]=hn.halfSemiMajorAxis*Math.log((1+En)/(1-En)),ai[Bi]=Zt[di+2]}(Zt,di,ai,Bi,Vt.sv)}const ui=Vt.sv.radius*Math.PI/180,vi=180/(Vt.sv.radius*Math.PI);function Di(Zt,di,ai,Bi){ai[Bi]=Zt[di]*ui,ai[Bi+1]=Zt[di+1]*ui,ai[Bi+2]=Zt[di+2]}function Oi(Zt,di,ai,Bi){ai[Bi]=Zt[di]*vi,ai[Bi+1]=Zt[di+1]*vi,ai[Bi+2]=Zt[di+2]}function Ye(Zt,di,ai,Bi,hn){const cn=hn+Zt[di+2],Sn=wi*Zt[di+1],En=wi*Zt[di],bi=Math.cos(Sn);ai[Bi++]=Math.cos(En)*bi*cn,ai[Bi++]=Math.sin(En)*bi*cn,ai[Bi]=Math.sin(Sn)*cn}function Ht(Zt,di,ai,Bi){Ye(Zt,di,ai,Bi,Vt.Z1.radius)}function $t(Zt,di,ai,Bi){Ye(Zt,di,ai,Bi,Vt.yr.radius)}function ci(Zt,di,ai,Bi){Ye(Zt,di,ai,Bi,Vt.sv.radius)}function Ii(Zt,di,ai,Bi,hn){const cn=Zt[di],Sn=Zt[di+1],En=Zt[di+2],bi=Math.sqrt(cn*cn+Sn*Sn+En*En),Qi=(0,Te.Kt)(En/(0===bi?1:bi)),ki=Math.atan2(Sn,cn);ai[Bi++]=Hi*ki,ai[Bi++]=Hi*Qi,ai[Bi]=bi-hn}function Jt(Zt,di,ai,Bi){Ii(Zt,di,ai,Bi,Vt.Z1.radius)}function Ct(Zt,di,ai,Bi){Ii(Zt,di,ai,Bi,Vt.yr.radius)}function Gt(Zt,di,ai,Bi){Ii(Zt,di,ai,Bi,Vt.sv.radius)}function ei(Zt,di,ai,Bi){!function(Zt,di,ai,Bi,hn){const cn=wi*Zt[di],Sn=wi*Zt[di+1],En=Zt[di+2],bi=Math.sin(Sn),Qi=Math.cos(Sn),ki=hn.radius/Math.sqrt(1-hn.eccentricitySquared*bi*bi);ai[Bi++]=(ki+En)*Qi*Math.cos(cn),ai[Bi++]=(ki+En)*Qi*Math.sin(cn),ai[Bi++]=(ki*(1-hn.eccentricitySquared)+En)*bi}(Zt,di,ai,Bi,Vt.sv)}function Ai(Zt,di,ai,Bi){const hn=Bt.cD,cn=Zt[di],Sn=Zt[di+1],En=Zt[di+2];let bi,Qi,ki,xn,cr,Dn,gr,pr,Dr,zn,ro,Yn,Ut,ii,Fi,dn,jn,Qn,Cr,$r,lr;bi=Math.abs(En),Qi=cn*cn+Sn*Sn,ki=Math.sqrt(Qi),xn=Qi+En*En,cr=Math.sqrt(xn),$r=Math.atan2(Sn,cn),Dn=En*En/xn,gr=Qi/xn,ii=hn.a2/cr,Fi=hn.a3-hn.a4/cr,gr>.3?(pr=bi/cr*(1+gr*(hn.a1+ii+Dn*Fi)/cr),Cr=Math.asin(pr),zn=pr*pr,Dr=Math.sqrt(1-zn)):(Dr=ki/cr*(1-Dn*(hn.a5-ii-gr*Fi)/cr),Cr=Math.acos(Dr),zn=1-Dr*Dr,pr=Math.sqrt(zn)),ro=1-Vt.sv.eccentricitySquared*zn,Yn=Vt.sv.radius/Math.sqrt(ro),Ut=hn.a6*Yn,ii=ki-Yn*Dr,Fi=bi-Ut*pr,jn=Dr*ii+pr*Fi,dn=Dr*Fi-pr*ii,Qn=dn/(Ut/ro+jn),Cr+=Qn,lr=jn+dn*Qn/2,En<0&&(Cr=-Cr),ai[Bi++]=Hi*$r,ai[Bi++]=Hi*Cr,ai[Bi]=lr}const en={2:{5:null,8:null,10:null,11:Tt,6:Tt,1:ci,7:null,9:null,0:null,3:ti,12:Di,2:Tt,4:ei},5:{5:Tt,8:null,10:null,11:Tt,6:Tt,1:ci,7:null,9:null,0:null,3:null,12:Di,2:null,4:ei},8:{5:null,8:Tt,10:null,11:Tt,6:null,1:null,7:$t,9:null,0:null,3:null,12:null,2:null,4:null},10:{5:null,8:null,10:Tt,11:Tt,6:null,1:null,7:null,9:Ht,0:null,3:null,12:null,2:null,4:null},3:{5:null,8:null,10:null,11:_i,6:_i,1:function(Zt,di,ai,Bi){_i(Zt,di,ai,Bi),ci(ai,Bi,ai,Bi)},7:null,9:null,0:null,3:Tt,12:function(Zt,di,ai,Bi){_i(Zt,di,ai,Bi),Di(ai,Bi,ai,Bi)},2:_i,4:function(Zt,di,ai,Bi){_i(Zt,di,ai,Bi),ei(ai,Bi,ai,Bi)}},4:{5:Ai,8:null,10:null,11:Ai,6:Ai,1:function(Zt,di,ai,Bi){Ai(Zt,di,ai,Bi),ci(ai,Bi,ai,Bi)},7:null,9:null,0:null,3:function(Zt,di,ai,Bi){Ai(Zt,di,ai,Bi),ti(ai,Bi,ai,Bi)},12:function(Zt,di,ai,Bi){Ai(Zt,di,ai,Bi),Di(ai,Bi,ai,Bi)},2:Ai,4:Tt},1:{5:Gt,8:null,10:null,11:Gt,6:Gt,1:Tt,7:null,9:null,0:null,3:function(Zt,di,ai,Bi){Gt(Zt,di,ai,Bi),ti(ai,Bi,ai,Bi)},12:function(Zt,di,ai,Bi){Gt(Zt,di,ai,Bi),Di(ai,Bi,ai,Bi)},2:Gt,4:function(Zt,di,ai,Bi){Gt(Zt,di,ai,Bi),ei(ai,Bi,ai,Bi)}},7:{5:null,8:Ct,10:null,11:Ct,6:null,1:null,7:Tt,9:null,0:null,3:null,12:null,2:null,4:null},9:{5:null,8:null,10:Jt,11:Jt,6:null,1:null,7:null,9:Tt,0:null,3:null,12:null,2:null,4:null},0:{5:null,8:null,10:null,11:null,6:null,1:null,7:null,9:null,0:Tt,3:null,12:null,2:null,4:null},11:{5:Tt,8:Tt,10:Tt,11:Tt,6:Tt,1:ci,7:$t,9:Ht,0:null,3:ti,12:Di,2:Tt,4:ei},6:{5:null,8:null,10:null,11:Tt,6:Tt,1:ci,7:null,9:null,0:null,3:null,12:Di,2:Tt,4:ei},12:{5:Oi,8:null,10:null,11:Oi,6:Oi,1:function(Zt,di,ai,Bi){Oi(Zt,di,ai,Bi),ci(ai,Bi,ai,Bi)},7:null,9:null,0:null,3:function(Zt,di,ai,Bi){Oi(Zt,di,ai,Bi),ti(ai,Bi,ai,Bi)},12:Tt,2:Oi,4:function(Zt,di,ai,Bi){Oi(Zt,di,ai,Bi),ei(ai,Bi,ai,Bi)}}};function un(Zt,di,ai=Gn()){return(0,Me.Wi)(Zt)||(0,Me.Wi)(di)?null:function(Zt,di,ai){if((0,Me.Wi)(Zt)||(0,Me.Wi)(di)||ai.source.spatialReference===Zt&&ai.dest.spatialReference===di)return ai;const Bi=St(Zt,ai.source),hn=St(di,ai.dest);return ai.projector=0===Bi&&0===hn?(0,jt.fS)(Zt,di)?Tt:null:en[Bi][hn],ai}(Zt,di,ai).projector}function Gn(){return{source:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},projector:Tt}}const ln={spatialReference:null,spatialReferenceId:0},$n={spatialReference:null,spatialReferenceId:0},In=Gn(),wi=(Gn(),(0,Te.Vl)(1)),Hi=(0,Te.BV)(1),xi=(0,re.c)(),Ni=(0,re.c)(),Ji=(0,re.c)(),mn=(0,re.c)();(0,re.c)()},12080:(hi,lt,N)=>{"use strict";N.d(lt,{GG:()=>Ce,HQ:()=>Ie,VY:()=>ye,wY:()=>he,Iu:()=>be,e8:()=>xe,rS:()=>ce,N_:()=>re});var z=N(65234),J=N(94425),Te=N(37053);function Me(de){return new z.Z({wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${de.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`})}const Ce=Me(J.sv),Ie=Me(J.yr),ye=Me(J.Z1),he=new z.Z({wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${J.sv.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`});function re(de){return de&&de===J.yr?Ie:de&&de===J.Z1?ye:Ce}function ce(de){return de&&((0,Te.BZ)(de)||de===Ie)?Ie:de&&((0,Te.V2)(de)||de===ye)?ye:Ce}function be(de){return de&&((0,Te.BZ)(de)||de===Ie)?J.yr:de&&((0,Te.V2)(de)||de===ye)?J.Z1:J.sv}function xe(de){return(0,Te.o$)(de)?J.yr:(0,Te.ME)(de)?J.Z1:J.sv}},94425:(hi,lt,N)=>{"use strict";N.d(lt,{sv:()=>J,yr:()=>Te,Z1:()=>Me});class z{constructor(Ie,ye,he,re){this.semiMajorAxis=Ie,this.flattening=ye,this.outerAtmosphereRimWidth=he,this.semiMinorAxis=this.semiMajorAxis*(1-this.flattening),this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=re||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}}const J=new z(6378137,1/298.257223563,3e5,.006694379990137799),Te=new z(3396190,1/169.8944472236118,23e4),Me=new z(1737400,0,0)},84029:(hi,lt,N)=>{"use strict";let z;N.d(lt,{Z:()=>J});const J={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:13,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:14,102069:15,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102962:0,102963:0,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(z=2e3;z<=2045;z++)J[z]=0;for(z=2056;z<=2065;z++)J[z]=0;for(z=2067;z<=2135;z++)J[z]=0;for(z=2137;z<=2154;z++)J[z]=0;for(z=2161;z<=2170;z++)J[z]=0;for(z=2172;z<=2193;z++)J[z]=0;for(z=2195;z<=2198;z++)J[z]=0;for(z=2200;z<=2203;z++)J[z]=0;for(z=2205;z<=2217;z++)J[z]=0;for(z=2222;z<=2224;z++)J[z]=1;for(z=2225;z<=2250;z++)J[z]=2;for(z=2251;z<=2253;z++)J[z]=1;for(z=2257;z<=2264;z++)J[z]=2;for(z=2274;z<=2279;z++)J[z]=2;for(z=2280;z<=2282;z++)J[z]=1;for(z=2283;z<=2289;z++)J[z]=2;for(z=2290;z<=2292;z++)J[z]=0;for(z=2308;z<=2313;z++)J[z]=0;for(z=2315;z<=2491;z++)J[z]=0;for(z=2494;z<=2866;z++)J[z]=0;for(z=2867;z<=2869;z++)J[z]=1;for(z=2870;z<=2888;z++)J[z]=2;for(z=2891;z<=2895;z++)J[z]=2;for(z=2896;z<=2898;z++)J[z]=1;for(z=2902;z<=2908;z++)J[z]=2;for(z=2915;z<=2920;z++)J[z]=2;for(z=2921;z<=2923;z++)J[z]=1;for(z=2924;z<=2930;z++)J[z]=2;for(z=2931;z<=2962;z++)J[z]=0;for(z=2964;z<=2968;z++)J[z]=2;for(z=2969;z<=2973;z++)J[z]=0;for(z=2975;z<=2991;z++)J[z]=0;for(z=2995;z<=3051;z++)J[z]=0;for(z=3054;z<=3079;z++)J[z]=0;for(z=3081;z<=3088;z++)J[z]=0;for(z=3092;z<=3101;z++)J[z]=0;for(z=3106;z<=3138;z++)J[z]=0;for(z=3146;z<=3151;z++)J[z]=0;for(z=3153;z<=3166;z++)J[z]=0;for(z=3168;z<=3172;z++)J[z]=0;for(z=3174;z<=3203;z++)J[z]=0;for(z=3294;z<=3358;z++)J[z]=0;for(z=3367;z<=3403;z++)J[z]=0;for(z=3408;z<=3416;z++)J[z]=0;for(z=3417;z<=3438;z++)J[z]=2;for(z=3441;z<=3446;z++)J[z]=2;for(z=3447;z<=3450;z++)J[z]=0;for(z=3451;z<=3459;z++)J[z]=2;for(z=3460;z<=3478;z++)J[z]=0;for(z=3554;z<=3559;z++)J[z]=0;for(z=3560;z<=3570;z++)J[z]=2;for(z=3571;z<=3581;z++)J[z]=0;for(z=3594;z<=3597;z++)J[z]=0;for(z=3601;z<=3604;z++)J[z]=0;for(z=3637;z<=3639;z++)J[z]=0;for(z=3665;z<=3667;z++)J[z]=0;for(z=3693;z<=3695;z++)J[z]=0;for(z=3701;z<=3727;z++)J[z]=0;for(z=3728;z<=3739;z++)J[z]=2;for(z=3740;z<=3751;z++)J[z]=0;for(z=3753;z<=3760;z++)J[z]=2;for(z=3761;z<=3773;z++)J[z]=0;for(z=3775;z<=3777;z++)J[z]=0;for(z=3779;z<=3781;z++)J[z]=0;for(z=3783;z<=3785;z++)J[z]=0;for(z=3788;z<=3791;z++)J[z]=0;for(z=3797;z<=3802;z++)J[z]=0;for(z=3814;z<=3816;z++)J[z]=0;for(z=3825;z<=3829;z++)J[z]=0;for(z=3832;z<=3841;z++)J[z]=0;for(z=3844;z<=3852;z++)J[z]=0;for(z=3873;z<=3885;z++)J[z]=0;for(z=3890;z<=3893;z++)J[z]=0;for(z=3907;z<=3912;z++)J[z]=0;for(z=3942;z<=3950;z++)J[z]=0;for(z=3968;z<=3970;z++)J[z]=0;for(z=3973;z<=3976;z++)J[z]=0;for(z=3986;z<=3989;z++)J[z]=0;for(z=3994;z<=3997;z++)J[z]=0;for(z=4048;z<=4051;z++)J[z]=0;for(z=4056;z<=4063;z++)J[z]=0;for(z=4093;z<=4096;z++)J[z]=0;for(z=4390;z<=4398;z++)J[z]=0;for(z=4399;z<=4413;z++)J[z]=2;for(z=4418;z<=4433;z++)J[z]=2;for(z=4455;z<=4457;z++)J[z]=2;for(z=4484;z<=4489;z++)J[z]=0;for(z=4491;z<=4554;z++)J[z]=0;for(z=4568;z<=4589;z++)J[z]=0;for(z=4652;z<=4656;z++)J[z]=0;for(z=4766;z<=4800;z++)J[z]=0;for(z=5014;z<=5016;z++)J[z]=0;for(z=5069;z<=5072;z++)J[z]=0;for(z=5105;z<=5130;z++)J[z]=0;for(z=5173;z<=5188;z++)J[z]=0;for(z=5253;z<=5259;z++)J[z]=0;for(z=5269;z<=5275;z++)J[z]=0;for(z=5292;z<=5311;z++)J[z]=0;for(z=5329;z<=5331;z++)J[z]=0;for(z=5343;z<=5349;z++)J[z]=0;for(z=5355;z<=5357;z++)J[z]=0;for(z=5387;z<=5389;z++)J[z]=0;for(z=5459;z<=5463;z++)J[z]=0;for(z=5479;z<=5482;z++)J[z]=0;for(z=5518;z<=5520;z++)J[z]=0;for(z=5530;z<=5539;z++)J[z]=0;for(z=5550;z<=5552;z++)J[z]=0;for(z=5562;z<=5583;z++)J[z]=0;for(z=5623;z<=5625;z++)J[z]=2;for(z=5631;z<=5639;z++)J[z]=0;for(z=5649;z<=5653;z++)J[z]=0;for(z=5663;z<=5680;z++)J[z]=0;for(z=5682;z<=5685;z++)J[z]=0;for(z=5875;z<=5877;z++)J[z]=0;for(z=5896;z<=5899;z++)J[z]=0;for(z=5921;z<=5940;z++)J[z]=0;for(z=6050;z<=6125;z++)J[z]=0;for(z=6244;z<=6275;z++)J[z]=0;for(z=6328;z<=6348;z++)J[z]=0;for(z=6350;z<=6356;z++)J[z]=0;for(z=6366;z<=6372;z++)J[z]=0;for(z=6381;z<=6387;z++)J[z]=0;for(z=6393;z<=6404;z++)J[z]=0;for(z=6480;z<=6483;z++)J[z]=0;for(z=6511;z<=6514;z++)J[z]=0;for(z=6579;z<=6581;z++)J[z]=0;for(z=6619;z<=6624;z++)J[z]=0;for(z=6625;z<=6627;z++)J[z]=2;for(z=6628;z<=6632;z++)J[z]=0;for(z=6634;z<=6637;z++)J[z]=0;for(z=6669;z<=6692;z++)J[z]=0;for(z=6707;z<=6709;z++)J[z]=0;for(z=6720;z<=6723;z++)J[z]=0;for(z=6732;z<=6738;z++)J[z]=0;for(z=6931;z<=6933;z++)J[z]=0;for(z=6956;z<=6959;z++)J[z]=0;for(z=7005;z<=7007;z++)J[z]=0;for(z=7057;z<=7070;z++)J[z]=2;for(z=7074;z<=7082;z++)J[z]=0;for(z=7109;z<=7118;z++)J[z]=0;for(z=7119;z<=7127;z++)J[z]=1;for(z=7374;z<=7376;z++)J[z]=0;for(z=7528;z<=7586;z++)J[z]=0;for(z=7587;z<=7645;z++)J[z]=2;for(z=7692;z<=7696;z++)J[z]=0;for(z=7755;z<=7787;z++)J[z]=0;for(z=7791;z<=7795;z++)J[z]=0;for(z=7799;z<=7801;z++)J[z]=0;for(z=7803;z<=7805;z++)J[z]=0;for(z=7825;z<=7831;z++)J[z]=0;for(z=7845;z<=7859;z++)J[z]=0;for(z=8013;z<=8032;z++)J[z]=0;for(z=8065;z<=8068;z++)J[z]=1;for(z=8518;z<=8529;z++)J[z]=2;for(z=8533;z<=8536;z++)J[z]=2;for(z=8538;z<=8540;z++)J[z]=2;for(z=8677;z<=8679;z++)J[z]=0;for(z=8836;z<=8840;z++)J[z]=0;for(z=8857;z<=8859;z++)J[z]=0;for(z=8908;z<=8910;z++)J[z]=0;for(z=9154;z<=9159;z++)J[z]=0;for(z=9205;z<=9218;z++)J[z]=0;for(z=9271;z<=9273;z++)J[z]=0;for(z=9295;z<=9297;z++)J[z]=0;for(z=9356;z<=9360;z++)J[z]=0;for(z=9404;z<=9407;z++)J[z]=0;for(z=9476;z<=9482;z++)J[z]=0;for(z=9487;z<=9494;z++)J[z]=0;for(z=9697;z<=9699;z++)J[z]=0;for(z=20002;z<=20032;z++)J[z]=0;for(z=20062;z<=20092;z++)J[z]=0;for(z=20135;z<=20138;z++)J[z]=0;for(z=20248;z<=20258;z++)J[z]=0;for(z=20348;z<=20358;z++)J[z]=0;for(z=20436;z<=20440;z++)J[z]=0;for(z=20822;z<=20824;z++)J[z]=0;for(z=20934;z<=20936;z++)J[z]=0;for(z=21035;z<=21037;z++)J[z]=0;for(z=21095;z<=21097;z++)J[z]=0;for(z=21148;z<=21150;z++)J[z]=0;for(z=21413;z<=21423;z++)J[z]=0;for(z=21453;z<=21463;z++)J[z]=0;for(z=21473;z<=21483;z++)J[z]=0;for(z=21780;z<=21782;z++)J[z]=0;for(z=21891;z<=21894;z++)J[z]=0;for(z=21896;z<=21899;z++)J[z]=0;for(z=22171;z<=22177;z++)J[z]=0;for(z=22181;z<=22187;z++)J[z]=0;for(z=22191;z<=22197;z++)J[z]=0;for(z=22234;z<=22236;z++)J[z]=0;for(z=22521;z<=22525;z++)J[z]=0;for(z=22991;z<=22994;z++)J[z]=0;for(z=23028;z<=23038;z++)J[z]=0;for(z=23830;z<=23853;z++)J[z]=0;for(z=23866;z<=23872;z++)J[z]=0;for(z=23877;z<=23884;z++)J[z]=0;for(z=23886;z<=23894;z++)J[z]=0;for(z=23946;z<=23948;z++)J[z]=0;for(z=24311;z<=24313;z++)J[z]=0;for(z=24342;z<=24347;z++)J[z]=0;for(z=24370;z<=24374;z++)J[z]=10;for(z=24375;z<=24381;z++)J[z]=0;for(z=24718;z<=24721;z++)J[z]=0;for(z=24817;z<=24821;z++)J[z]=0;for(z=24877;z<=24882;z++)J[z]=0;for(z=24891;z<=24893;z++)J[z]=0;for(z=25391;z<=25395;z++)J[z]=0;for(z=25828;z<=25838;z++)J[z]=0;for(z=26191;z<=26195;z++)J[z]=0;for(z=26391;z<=26393;z++)J[z]=0;for(z=26701;z<=26722;z++)J[z]=0;for(z=26729;z<=26799;z++)J[z]=2;for(z=26801;z<=26803;z++)J[z]=2;for(z=26811;z<=26813;z++)J[z]=2;for(z=26847;z<=26870;z++)J[z]=2;for(z=26891;z<=26899;z++)J[z]=0;for(z=26901;z<=26923;z++)J[z]=0;for(z=26929;z<=26946;z++)J[z]=0;for(z=26948;z<=26998;z++)J[z]=0;for(z=27037;z<=27040;z++)J[z]=0;for(z=27205;z<=27232;z++)J[z]=0;for(z=27258;z<=27260;z++)J[z]=0;for(z=27391;z<=27398;z++)J[z]=0;for(z=27561;z<=27564;z++)J[z]=0;for(z=27571;z<=27574;z++)J[z]=0;for(z=27581;z<=27584;z++)J[z]=0;for(z=27591;z<=27594;z++)J[z]=0;for(z=28191;z<=28193;z++)J[z]=0;for(z=28348;z<=28358;z++)J[z]=0;for(z=28402;z<=28432;z++)J[z]=0;for(z=28462;z<=28492;z++)J[z]=0;for(z=29118;z<=29122;z++)J[z]=0;for(z=29168;z<=29172;z++)J[z]=0;for(z=29177;z<=29185;z++)J[z]=0;for(z=29187;z<=29195;z++)J[z]=0;for(z=29900;z<=29903;z++)J[z]=0;for(z=30161;z<=30179;z++)J[z]=0;for(z=30491;z<=30494;z++)J[z]=0;for(z=30729;z<=30732;z++)J[z]=0;for(z=31251;z<=31259;z++)J[z]=0;for(z=31265;z<=31268;z++)J[z]=0;for(z=31275;z<=31279;z++)J[z]=0;for(z=31281;z<=31297;z++)J[z]=0;for(z=31461;z<=31469;z++)J[z]=0;for(z=31491;z<=31495;z++)J[z]=0;for(z=31917;z<=31922;z++)J[z]=0;for(z=31965;z<=32e3;z++)J[z]=0;for(z=32001;z<=32003;z++)J[z]=2;for(z=32005;z<=32031;z++)J[z]=2;for(z=32033;z<=32060;z++)J[z]=2;for(z=32064;z<=32067;z++)J[z]=2;for(z=32074;z<=32077;z++)J[z]=2;for(z=32081;z<=32086;z++)J[z]=0;for(z=32107;z<=32130;z++)J[z]=0;for(z=32133;z<=32158;z++)J[z]=0;for(z=32164;z<=32167;z++)J[z]=2;for(z=32180;z<=32199;z++)J[z]=0;for(z=32201;z<=32260;z++)J[z]=0;for(z=32301;z<=32360;z++)J[z]=0;for(z=32601;z<=32662;z++)J[z]=0;for(z=32664;z<=32667;z++)J[z]=2;for(z=32701;z<=32761;z++)J[z]=0;for(z=53001;z<=53004;z++)J[z]=0;for(z=53008;z<=53019;z++)J[z]=0;for(z=53021;z<=53032;z++)J[z]=0;for(z=53034;z<=53037;z++)J[z]=0;for(z=53042;z<=53046;z++)J[z]=0;for(z=53074;z<=53080;z++)J[z]=0;for(z=54001;z<=54004;z++)J[z]=0;for(z=54008;z<=54019;z++)J[z]=0;for(z=54021;z<=54032;z++)J[z]=0;for(z=54034;z<=54037;z++)J[z]=0;for(z=54042;z<=54046;z++)J[z]=0;for(z=54048;z<=54053;z++)J[z]=0;for(z=54074;z<=54080;z++)J[z]=0;for(z=54098;z<=54101;z++)J[z]=0;for(z=102001;z<=102040;z++)J[z]=0;for(z=102042;z<=102063;z++)J[z]=0;for(z=102065;z<=102067;z++)J[z]=0;for(z=102070;z<=102117;z++)J[z]=0;for(z=102122;z<=102216;z++)J[z]=0;for(z=102221;z<=102377;z++)J[z]=0;for(z=102382;z<=102388;z++)J[z]=0;for(z=102389;z<=102398;z++)J[z]=2;for(z=102399;z<=102444;z++)J[z]=0;for(z=102445;z<=102447;z++)J[z]=2;for(z=102448;z<=102458;z++)J[z]=0;for(z=102459;z<=102468;z++)J[z]=2;for(z=102469;z<=102499;z++)J[z]=0;for(z=102500;z<=102519;z++)J[z]=1;for(z=102520;z<=102524;z++)J[z]=0;for(z=102525;z<=102529;z++)J[z]=2;for(z=102530;z<=102588;z++)J[z]=0;for(z=102590;z<=102598;z++)J[z]=0;for(z=102601;z<=102603;z++)J[z]=0;for(z=102605;z<=102628;z++)J[z]=0;for(z=102629;z<=102646;z++)J[z]=2;for(z=102648;z<=102700;z++)J[z]=2;for(z=102701;z<=102703;z++)J[z]=0;for(z=102707;z<=102730;z++)J[z]=2;for(z=102733;z<=102758;z++)J[z]=2;for(z=102767;z<=102900;z++)J[z]=0;for(z=102965;z<=102969;z++)J[z]=0;for(z=102971;z<=102973;z++)J[z]=0;for(z=102975;z<=102989;z++)J[z]=0;for(z=102990;z<=102992;z++)J[z]=1;for(z=102997;z<=103002;z++)J[z]=0;for(z=103003;z<=103008;z++)J[z]=2;for(z=103009;z<=103011;z++)J[z]=0;for(z=103012;z<=103014;z++)J[z]=2;for(z=103019;z<=103021;z++)J[z]=0;for(z=103022;z<=103024;z++)J[z]=2;for(z=103029;z<=103031;z++)J[z]=0;for(z=103032;z<=103034;z++)J[z]=2;for(z=103065;z<=103068;z++)J[z]=0;for(z=103074;z<=103076;z++)J[z]=0;for(z=103077;z<=103079;z++)J[z]=1;for(z=103080;z<=103082;z++)J[z]=0;for(z=103083;z<=103085;z++)J[z]=2;for(z=103090;z<=103093;z++)J[z]=0;for(z=103097;z<=103099;z++)J[z]=0;for(z=103100;z<=103102;z++)J[z]=2;for(z=103107;z<=103109;z++)J[z]=0;for(z=103110;z<=103112;z++)J[z]=2;for(z=103113;z<=103116;z++)J[z]=0;for(z=103117;z<=103120;z++)J[z]=2;for(z=103153;z<=103157;z++)J[z]=0;for(z=103158;z<=103162;z++)J[z]=2;for(z=103163;z<=103165;z++)J[z]=0;for(z=103166;z<=103168;z++)J[z]=1;for(z=103169;z<=103171;z++)J[z]=2;for(z=103186;z<=103188;z++)J[z]=0;for(z=103189;z<=103191;z++)J[z]=2;for(z=103192;z<=103195;z++)J[z]=0;for(z=103196;z<=103199;z++)J[z]=2;for(z=103200;z<=103224;z++)J[z]=0;for(z=103225;z<=103227;z++)J[z]=1;for(z=103232;z<=103237;z++)J[z]=0;for(z=103238;z<=103243;z++)J[z]=2;for(z=103244;z<=103246;z++)J[z]=0;for(z=103247;z<=103249;z++)J[z]=2;for(z=103254;z<=103256;z++)J[z]=0;for(z=103257;z<=103259;z++)J[z]=2;for(z=103264;z<=103266;z++)J[z]=0;for(z=103267;z<=103269;z++)J[z]=2;for(z=103300;z<=103375;z++)J[z]=0;for(z=103381;z<=103383;z++)J[z]=0;for(z=103384;z<=103386;z++)J[z]=1;for(z=103387;z<=103389;z++)J[z]=0;for(z=103390;z<=103392;z++)J[z]=2;for(z=103397;z<=103399;z++)J[z]=0;for(z=103400;z<=103471;z++)J[z]=2;for(z=103476;z<=103478;z++)J[z]=0;for(z=103479;z<=103481;z++)J[z]=2;for(z=103486;z<=103488;z++)J[z]=0;for(z=103489;z<=103491;z++)J[z]=2;for(z=103492;z<=103495;z++)J[z]=0;for(z=103496;z<=103499;z++)J[z]=2;for(z=103528;z<=103543;z++)J[z]=0;for(z=103544;z<=103548;z++)J[z]=2;for(z=103549;z<=103551;z++)J[z]=0;for(z=103552;z<=103554;z++)J[z]=1;for(z=103555;z<=103557;z++)J[z]=2;for(z=103558;z<=103560;z++)J[z]=0;for(z=103571;z<=103573;z++)J[z]=0;for(z=103574;z<=103576;z++)J[z]=2;for(z=103577;z<=103580;z++)J[z]=0;for(z=103581;z<=103583;z++)J[z]=2;for(z=103595;z<=103694;z++)J[z]=0;for(z=103696;z<=103699;z++)J[z]=0;for(z=103700;z<=103793;z++)J[z]=2;for(z=103794;z<=103872;z++)J[z]=0;for(z=103900;z<=103971;z++)J[z]=2},5548:(hi,lt,N)=>{"use strict";N.d(lt,{Gv:()=>Bt,Ue:()=>Ce,cS:()=>$e,fS:()=>et,TC:()=>ce,pp:()=>xe,JR:()=>ut,al:()=>Ie,t8:()=>Se,Tn:()=>Ne,op:()=>ot,dp:()=>Ue});var z=N(62208);function Ce(dt=Lt){return[dt[0],dt[1],dt[2],dt[3],dt[4],dt[5]]}function Ie(dt,jt,Rt,_e,ke,rt,Dt=Ce()){return Dt[0]=dt,Dt[1]=jt,Dt[2]=Rt,Dt[3]=_e,Dt[4]=ke,Dt[5]=rt,Dt}function ce(dt,jt){dt[0]=Math.min(dt[0],jt[0]),dt[1]=Math.min(dt[1],jt[1]),dt[2]=Math.min(dt[2],jt[2]),dt[3]=Math.max(dt[3],jt[3]),dt[4]=Math.max(dt[4],jt[4]),dt[5]=Math.max(dt[5],jt[5])}function xe(dt,jt){dt[0]=Math.min(dt[0],jt[0]),dt[1]=Math.min(dt[1],jt[1]),dt[2]=Math.min(dt[2],jt[2]),dt[3]=Math.max(dt[3],jt[0]),dt[4]=Math.max(dt[4],jt[1]),dt[5]=Math.max(dt[5],jt[2])}function Ue(dt,jt=[0,0,0]){return jt[0]=function(dt){return dt[0]>=dt[3]?0:dt[3]-dt[0]}(dt),jt[1]=function(dt){return dt[1]>=dt[4]?0:dt[4]-dt[1]}(dt),jt[2]=function(dt){return dt[2]>=dt[5]?0:dt[5]-dt[2]}(dt),jt}function ot(dt,jt,Rt=dt){return Rt[0]=jt[0],Rt[1]=jt[1],Rt[2]=jt[2],Rt!==dt&&(Rt[3]=dt[3],Rt[4]=dt[4],Rt[5]=dt[5]),Rt}function Ne(dt,jt,Rt=dt){return Rt[3]=jt[0],Rt[4]=jt[1],Rt[5]=jt[2],Rt!==dt&&(Rt[0]=dt[0],Rt[1]=dt[1],Rt[2]=dt[2]),dt}function Se(dt,jt){return dt[0]=jt[0],dt[1]=jt[1],dt[2]=jt[2],dt[3]=jt[3],dt[4]=jt[4],dt[5]=jt[5],dt}function $e(dt){return dt?Se(dt,Bt):Ce(Bt)}function ut(dt,jt){return dt[0]=jt[0],dt[1]=jt[1],dt[2]=Number.NEGATIVE_INFINITY,dt[3]=jt[2],dt[4]=jt[3],dt[5]=Number.POSITIVE_INFINITY,dt}function xt(dt){return 6===dt.length}function et(dt,jt,Rt){if((0,z.Wi)(dt)||(0,z.Wi)(jt))return dt===jt;if(!xt(dt)||!xt(jt))return!1;if(Rt){for(let _e=0;_e<dt.length;_e++)if(!Rt(dt[_e],jt[_e]))return!1}else for(let _e=0;_e<dt.length;_e++)if(dt[_e]!==jt[_e])return!1;return!0}N(2004),N(65401);const Bt=[1/0,1/0,1/0,-1/0,-1/0,-1/0],Lt=[0,0,0,0,0,0];Ce()},65401:(hi,lt,N)=>{"use strict";N.d(lt,{Gv:()=>ut,SO:()=>se,d9:()=>ye,r3:()=>Le,Zm:()=>Fe,Ue:()=>Ie,oJ:()=>ce,al:()=>re,Cb:()=>oe,kK:()=>Ve,HH:()=>be,bf:()=>le}),N(8314),N(21286);var Te=N(62208),Me=N(2004);function Ie(et=xt){return[et[0],et[1],et[2],et[3]]}function ye(et){return[et[0],et[1],et[2],et[3]]}function re(et,gt,Vt,Bt,Lt=Ie()){return Lt[0]=et,Lt[1]=gt,Lt[2]=Vt,Lt[3]=Bt,Lt}function ce(et,gt=Ie()){return gt[0]=et.xmin,gt[1]=et.ymin,gt[2]=et.xmax,gt[3]=et.ymax,gt}function be(et,gt){return new Me.Z({xmin:et[0],ymin:et[1],xmax:et[2],ymax:et[3],spatialReference:gt})}function le(et){return(0,Te.Wi)(et)||et[0]>=et[2]?0:et[2]-et[0]}function oe(et){return et[1]>=et[3]?0:et[3]-et[1]}function se(et){return le(et)*oe(et)}function Fe(et,gt,Vt){return gt[0]>=et[0]-Vt&&gt[1]>=et[1]-Vt&&gt[0]<=et[2]+Vt&&gt[1]<=et[3]+Vt}function Ve(et,gt){return Math.max(gt[0],et[0])<=Math.min(gt[2],et[2])&&Math.max(gt[1],et[1])<=Math.min(gt[3],et[3])}function Le(et,gt){return gt[0]>=et[0]&&gt[2]<=et[2]&&gt[1]>=et[1]&&gt[3]<=et[3]}const ut=[1/0,1/0,-1/0,-1/0],xt=[0,0,0,0]},32442:(hi,lt,N)=>{"use strict";function z(le){return void 0!==le.xmin&&void 0!==le.ymin&&void 0!==le.xmax&&void 0!==le.ymax}function J(le){return void 0!==le.points}function Te(le){return void 0!==le.x&&void 0!==le.y}function Me(le){return void 0!==le.paths}function Ce(le){return void 0!==le.rings}function Ie(le){return(oe,se)=>null==oe?se:null==se?oe:le(oe,se)}N.d(lt,{$P:()=>re,Yg:()=>ce,lC:()=>de,C6:()=>be});const ye=Ie(Math.min),he=Ie(Math.max);function re(le,oe){return Me(oe)?be(le,oe.paths,!1,!1):Ce(oe)?be(le,oe.rings,!1,!1):J(oe)?de(le,oe.points,!1,!1,!1,!1):z(oe)?xe(le,oe):(Te(oe)&&(le[0]=oe.x,le[1]=oe.y,le[2]=oe.x,le[3]=oe.y),le)}function ce(le,oe){return Me(oe)?be(le,oe.paths,!0,!1):Ce(oe)?be(le,oe.rings,!0,!1):J(oe)?de(le,oe.points,!0,!1,!0,!1):z(oe)?xe(le,oe,0,0,!0,!1):(Te(oe)&&(le[0]=oe.x,le[1]=oe.y,le[2]=oe.z,le[3]=oe.x,le[4]=oe.y,le[5]=oe.z),le)}function be(le,oe,se,fe){const Ee=se?3:2;if(!oe.length||!oe[0].length)return null;let ge,Ue,Fe,Ve,[Le,tt]=oe[0][0],[je,ve]=oe[0][0];for(let Oe=0;Oe<oe.length;Oe++){const qe=oe[Oe];for(let He=0;He<qe.length;He++){const Qe=qe[He],[ot,Ne]=Qe;if(Le=ye(Le,ot),tt=ye(tt,Ne),je=he(je,ot),ve=he(ve,Ne),se&&Qe.length>2){const Se=Qe[2];ge=ye(ge,Se),Ue=he(Ue,Se)}if(fe&&Qe.length>Ee){const Se=Qe[Ee];Fe=ye(ge,Se),Ve=he(Ue,Se)}}}return se?fe?(le[0]=Le,le[1]=tt,le[2]=ge,le[3]=Fe,le[4]=je,le[5]=ve,le[6]=Ue,le[7]=Ve,le.length=8,le):(le[0]=Le,le[1]=tt,le[2]=ge,le[3]=je,le[4]=ve,le[5]=Ue,le.length=6,le):fe?(le[0]=Le,le[1]=tt,le[2]=Fe,le[3]=je,le[4]=ve,le[5]=Ve,le.length=6,le):(le[0]=Le,le[1]=tt,le[2]=je,le[3]=ve,le.length=4,le)}function xe(le,oe,se,fe,Ee,ge){const Ue=oe.xmin,Fe=oe.xmax,Ve=oe.ymin,Le=oe.ymax;let tt=oe.zmin,je=oe.zmax,ve=oe.mmin,Oe=oe.mmax;return Ee?(tt=tt||0,je=je||0,ge?(ve=ve||0,Oe=Oe||0,le[0]=Ue,le[1]=Ve,le[2]=tt,le[3]=ve,le[4]=Fe,le[5]=Le,le[6]=je,le[7]=Oe,le):(le[0]=Ue,le[1]=Ve,le[2]=tt,le[3]=Fe,le[4]=Le,le[5]=je,le)):ge?(ve=ve||0,Oe=Oe||0,le[0]=Ue,le[1]=Ve,le[2]=ve,le[3]=Fe,le[4]=Le,le[5]=Oe,le):(le[0]=Ue,le[1]=Ve,le[2]=Fe,le[3]=Le,le)}function de(le,oe,se,fe,Ee,ge){const Ue=se?3:2,Fe=fe&&ge,Ve=se&&Ee;if(!oe.length||!oe[0].length)return null;let Le,tt,je,ve,[Oe,qe]=oe[0],[He,Qe]=oe[0];for(let ot=0;ot<oe.length;ot++){const Ne=oe[ot],[Se,$e]=Ne;if(Oe=ye(Oe,Se),qe=ye(qe,$e),He=he(He,Se),Qe=he(Qe,$e),Ve&&Ne.length>2){const nt=Ne[2];Le=ye(Le,nt),tt=he(tt,nt)}if(Fe&&Ne.length>Ue){const nt=Ne[Ue];je=ye(Le,nt),ve=he(tt,nt)}}return Ee?(Le=Le||0,tt=tt||0,ge?(je=je||0,ve=ve||0,le[0]=Oe,le[1]=qe,le[2]=Le,le[3]=je,le[4]=He,le[5]=Qe,le[6]=tt,le[7]=ve,le):(le[0]=Oe,le[1]=qe,le[2]=Le,le[3]=He,le[4]=Qe,le[5]=tt,le)):ge?(je=je||0,ve=ve||0,le[0]=Oe,le[1]=qe,le[2]=je,le[3]=He,le[4]=Qe,le[5]=ve,le):(le[0]=Oe,le[1]=qe,le[2]=He,le[3]=Qe,le)}},27105:(hi,lt,N)=>{"use strict";N.d(lt,{tO:()=>Te});var z=N(25748);function Te(ye){return ye?function(ye,he){if(!ye||!ye.length)return null;const re=[],ce=[],be=he?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let xe=0,de=ye.length;xe<de;xe++){const Ae=Ce(ye[xe],he,be);Ae&&ce.push(Ae)}if(ce.sort((xe,de)=>{let Ae=xe[2]-de[2];return 0===Ae&&he&&(Ae=xe[4]-de[4]),Ae}),ce.length&&(re[0]=ce[0][0],re[1]=ce[0][1],he&&(re[2]=ce[0][3]),(re[0]<be[0]||re[0]>be[1]||re[1]<be[2]||re[1]>be[3]||he&&(re[2]<be[4]||re[2]>be[5]))&&(re.length=0)),!re.length){const xe=ye[0]&&ye[0].length?function(ye,he){const re=he?[0,0,0]:[0,0],ce=he?[0,0,0]:[0,0];let be=0,xe=0,de=0,Ae=0;for(let me=0,le=ye.length;me<le-1;me++){const oe=ye[me],se=ye[me+1];if(oe&&se){re[0]=oe[0],re[1]=oe[1],ce[0]=se[0],ce[1]=se[1],he&&oe.length>2&&se.length>2&&(re[2]=oe[2],ce[2]=se[2]);const fe=(0,z.xA)(re,ce);if(fe){be+=fe;const Ee=(0,z.Gi)(oe,se);xe+=fe*Ee[0],de+=fe*Ee[1],he&&Ee.length>2&&(Ae+=fe*Ee[2])}}}return be>0?he?[xe/be,de/be,Ae/be]:[xe/be,de/be]:ye.length?ye[0]:null}(ye[0],he):null;if(!xe)return null;re[0]=xe[0],re[1]=xe[1],he&&xe.length>2&&(re[2]=xe[2])}return re}(ye.rings,ye.hasZ):null}function Ce(ye,he,re){let ce=0,be=0,xe=0,de=0,Ae=0;const me=ye.length?ye[0][0]:0,le=ye.length?ye[0][1]:0,oe=ye.length&&he?ye[0][2]:0;for(let fe=0;fe<ye.length;fe++){const Ee=ye[fe],ge=ye[(fe+1)%ye.length],[Ue,Fe,Ve]=Ee,Le=Ue-me,tt=Fe-le,je=he?Ve-oe:void 0,[ve,Oe,qe]=ge,He=ve-me,Qe=Oe-le,ot=he?qe-oe:void 0,Ne=Le*Qe-He*tt;if(de+=Ne,ce+=(Le+He)*Ne,be+=(tt+Qe)*Ne,he&&Ee.length>2&&ge.length>2){const Se=Le*ot-He*je;xe+=(je+ot)*Se,Ae+=Se}Ue<re[0]&&(re[0]=Ue),Ue>re[1]&&(re[1]=Ue),Fe<re[2]&&(re[2]=Fe),Fe>re[3]&&(re[3]=Fe),he&&(Ve<re[4]&&(re[4]=Ve),Ve>re[5]&&(re[5]=Ve))}if(de>0&&(de*=-1),Ae>0&&(Ae*=-1),!de)return null;de*=.5,Ae*=.5;const se=[ce/(6*de)+me,be/(6*de)+le,de];return he&&(re[4]===re[5]||0===Ae?(se[3]=(re[4]+re[5])/2,se[4]=0):(se[3]=xe/(6*Ae)+oe,se[4]=Ae)),se}},33190:(hi,lt,N)=>{"use strict";N.d(lt,{OQ:()=>Ie,Qg:()=>ye,uP:()=>Ce,lQ:()=>Me,aV:()=>Te,rM:()=>ce,CI:()=>re});var z=N(62208);const J=[0,0];function Te(Ae,me){return!!(0,z.pC)(me)&&he(Ae,me.x,me.y,me.z)}function Me(Ae,me){if(!me.points||me.points.length)return!1;for(const le of me.points)if(!Ie(Ae,le))return!1;return!0}function Ce(Ae,me){const{xmin:le,ymin:oe,zmin:se,xmax:fe,ymax:Ee,zmax:ge}=me;return Ae.hasZ&&me.hasZ?he(Ae,le,oe,se)&&he(Ae,le,Ee,se)&&he(Ae,fe,Ee,se)&&he(Ae,fe,oe,se)&&he(Ae,le,oe,ge)&&he(Ae,le,Ee,ge)&&he(Ae,fe,Ee,ge)&&he(Ae,fe,oe,ge):he(Ae,le,oe)&&he(Ae,le,Ee)&&he(Ae,fe,Ee)&&he(Ae,fe,oe)}function Ie(Ae,me){return he(Ae,me[0],me[1])}function ye(Ae,me){return he(Ae,me[0],me[1],me[2])}function he(Ae,me,le,oe){return me>=Ae.xmin&&me<=Ae.xmax&&le>=Ae.ymin&&le<=Ae.ymax&&(null==oe||!Ae.hasZ||oe>=Ae.zmin&&oe<=Ae.zmax)}function re(Ae,me){return J[1]=me.y,J[0]=me.x,ce(Ae,J)}function ce(Ae,me){return function(Ae,me){if(!Ae)return!1;if(function(Ae){return!Array.isArray(Ae[0][0])}(Ae))return de(!1,Ae,me);let le=!1;for(let oe=0,se=Ae.length;oe<se;oe++)le=de(le,Ae[oe],me);return le}(Ae.rings,me)}function de(Ae,me,le){const[oe,se]=le;let fe=Ae,Ee=0;for(let ge=0,Ue=me.length;ge<Ue;ge++){Ee++,Ee===Ue&&(Ee=0);const[Fe,Ve]=me[ge],[Le,tt]=me[Ee];(Ve<se&&tt>=se||tt<se&&Ve>=se)&&Fe+(se-Ve)/(tt-Ve)*(Le-Fe)<oe&&(fe=!fe)}return fe}},25748:(hi,lt,N)=>{"use strict";function Te(le,oe){const se=oe[0]-le[0],fe=oe[1]-le[1];if(le.length>2&&oe.length>2){const Ee=le[2]-oe[2];return Math.sqrt(se*se+fe*fe+Ee*Ee)}return Math.sqrt(se*se+fe*fe)}function Ce(le,oe,se,fe){const[Ee,ge]=oe,[Ue,Fe]=se[fe],[Ve,Le]=se[fe+1],tt=Ve-Ue,je=Le-Fe,qe=Math.min(1,Math.max(0,((Ee-Ue)*tt+(ge-Fe)*je)/(tt*tt+je*je)));return le[0]=Ue+tt*qe,le[1]=Fe+je*qe,le}function Ie(le,oe){return function(le,oe,se){const fe=le[0]+se*(oe[0]-le[0]),Ee=le[1]+se*(oe[1]-le[1]);return le.length>2&&oe.length>2?[fe,Ee,le[2]+se*(oe[2]-le[2])]:[fe,Ee]}(le,oe,.5)}function re(le,oe,se){const fe=le.length;let Ee=0,ge=0,Ue=0;for(let Fe=0;Fe<fe;Fe++){const Ve=le[Fe],Le=le[(Fe+1)%fe];let tt=2;Ee+=Ve[0]*Le[1]-Le[0]*Ve[1],Ve.length>2&&Le.length>2&&se&&(ge+=Ve[0]*Le[2]-Le[0]*Ve[2],tt=3),Ve.length>tt&&Le.length>tt&&oe&&(Ue+=Ve[0]*Le[tt]-Le[0]*Ve[tt])}return Ee<=0&&ge<=0&&Ue<=0}function ce(le){if("rings"in le){for(const oe of le.rings)oe.length<3||oe[0][0]===oe[oe.length-1][0]&&oe[0][1]===oe[oe.length-1][1]||oe.push([oe[0][0],oe[0][1]]);if(le.rings.length>0&&!re(le.rings[0],le.hasM,le.hasZ))for(let oe=0;oe<le.rings.length;++oe)le.rings[oe]=le.rings[oe].reverse()}}N.d(lt,{pW:()=>ce,xA:()=>Te,Gi:()=>Ie,bu:()=>re,Tx:()=>Ce}),N(37053)},15176:(hi,lt,N)=>{"use strict";N.d(lt,{aO:()=>de,_w:()=>le,Wn:()=>oe});var z=N(32442);const ye=[];function he(se,fe,Ee,ge){return{xmin:se,ymin:fe,xmax:Ee,ymax:ge}}function re(se,fe,Ee,ge,Ue,Fe){return{xmin:se,ymin:fe,zmin:Ee,xmax:ge,ymax:Ue,zmax:Fe}}function ce(se,fe,Ee,ge,Ue,Fe){return{xmin:se,ymin:fe,mmin:Ee,xmax:ge,ymax:Ue,mmax:Fe}}function be(se,fe,Ee,ge,Ue,Fe,Ve,Le){return{xmin:se,ymin:fe,zmin:Ee,mmin:ge,xmax:Ue,ymax:Fe,zmax:Ve,mmax:Le}}function xe(se,fe=!1,Ee=!1){return fe?Ee?be(se[0],se[1],se[2],se[3],se[4],se[5],se[6],se[7]):re(se[0],se[1],se[2],se[3],se[4],se[5]):Ee?ce(se[0],se[1],se[2],se[3],se[4],se[5]):he(se[0],se[1],se[2],se[3])}function de(se){return se?function(se){return void 0!==se.xmin&&void 0!==se.ymin&&void 0!==se.xmax&&void 0!==se.ymax}(se)?se:function(se){return void 0!==se.x&&void 0!==se.y}(se)?function(se){const{x:fe,y:Ee,z:ge,m:Ue}=se,Fe=null!=Ue;return null!=ge?Fe?be(fe,Ee,ge,Ue,fe,Ee,ge,Ue):re(fe,Ee,ge,fe,Ee,ge):Fe?ce(fe,Ee,Ue,fe,Ee,Ue):he(fe,Ee,fe,Ee)}(se):function(se){return void 0!==se.rings}(se)?le(se):function(se){return void 0!==se.paths}(se)?oe(se):function(se){return void 0!==se.points}(se)?function(se){const{hasZ:fe,hasM:Ee,points:ge}=se;return xe((0,z.lC)(ye,ge,fe,Ee),fe,Ee)}(se):null:null}function le(se){const{hasZ:fe,hasM:Ee,rings:ge}=se,Ue=(0,z.C6)(ye,ge,fe,Ee);return Ue?xe(Ue,fe,Ee):null}function oe(se){const{hasZ:fe,hasM:Ee,paths:ge}=se,Ue=(0,z.C6)(ye,ge,fe,Ee);return Ue?xe(Ue,fe,Ee):null}},37299:(hi,lt,N)=>{"use strict";N.d(lt,{yB:()=>Te,cD:()=>Ie,Dg:()=>ye,Yr:()=>J});var z=N(94425);const J=Math.PI/180,Te=/SPHEROID\[([^\]]+)]/i,Me=z.sv.radius,Ce=z.sv.eccentricitySquared,Ie={a1:Me*Ce,a2:Me*Ce*Me*Ce,a3:Me*Ce*Ce/2,a4:Me*Ce*Me*Ce*2.5,a5:Me*Ce+Me*Ce*Ce/2,a6:1-Ce},ye={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:z.sv.radius,f:z.sv.flattening},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:z.Z1.radius,f:z.Z1.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:z.yr.radius,f:z.yr.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:z.yr.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}}},11519:(hi,lt,N)=>{"use strict";N.d(lt,{h_:()=>Te,jQ:()=>xe,IY:()=>oe,Ff:()=>Ae,UT:()=>le});var z=N(33190);function J(se,fe){return(0,z.aV)(se,fe)}function Te(se,fe){let ge,Ue,Fe;if(se.xmin<=fe.xmin){if(ge=fe.xmin,se.xmax<ge)return!1}else if(ge=se.xmin,fe.xmax<ge)return!1;if(se.ymin<=fe.ymin){if(Ue=fe.ymin,se.ymax<Ue)return!1}else if(Ue=se.ymin,fe.ymax<Ue)return!1;if(se.hasZ&&fe.hasZ&&fe.hasZ)if(se.zmin<=fe.zmin){if(Fe=fe.zmin,se.zmax<Fe)return!1}else if(Fe=se.zmin,fe.zmax<Fe)return!1;return!0}function Me(se,fe){const{points:Ee,hasZ:ge}=fe,Ue=ge?z.Qg:z.OQ;for(const Fe of Ee)if(Ue(se,Fe))return!0;return!1}const Ce=[0,0],Ie=[0,0],ye=[0,0],he=[0,0],re=[Ce,Ie,ye,he],ce=[[ye,Ce],[Ce,Ie],[Ie,he],[he,ye]];function be(se,fe){Ce[0]=se.xmin,Ce[1]=se.ymax,Ie[0]=se.xmax,Ie[1]=se.ymax,ye[0]=se.xmin,ye[1]=se.ymin,he[0]=se.xmax,he[1]=se.ymin;for(const Ee of re)if((0,z.rM)(fe,Ee))return!0;for(const Ee of fe.rings){if(!Ee.length)continue;let ge=Ee[0];if((0,z.OQ)(se,ge))return!0;for(let Ue=1;Ue<Ee.length;Ue++){const Fe=Ee[Ue];if((0,z.OQ)(se,Fe)||me(ge,Fe,ce))return!0;ge=Fe}}return!1}function xe(se,fe){Ce[0]=se.xmin,Ce[1]=se.ymax,Ie[0]=se.xmax,Ie[1]=se.ymax,ye[0]=se.xmin,ye[1]=se.ymin,he[0]=se.xmax,he[1]=se.ymin;const Ee=fe.paths;for(const ge of Ee){if(!Ee.length)continue;let Ue=ge[0];if((0,z.OQ)(se,Ue))return!0;for(let Fe=1;Fe<ge.length;Fe++){const Ve=ge[Fe];if((0,z.OQ)(se,Ve)||me(Ue,Ve,ce))return!0;Ue=Ve}}return!1}const de=[0,0];function Ae(se){for(let fe=0;fe<se.length;fe++){const Ee=se[fe];for(let Ue=0;Ue<Ee.length-1;Ue++){const Fe=Ee[Ue],Ve=Ee[Ue+1];for(let Le=fe+1;Le<se.length;Le++)for(let tt=0;tt<se[Le].length-1;tt++){const je=se[Le][tt],ve=se[Le][tt+1];if(le(Fe,Ve,je,ve,de)&&!(de[0]===Fe[0]&&de[1]===Fe[1]||de[0]===je[0]&&de[1]===je[1]||de[0]===Ve[0]&&de[1]===Ve[1]||de[0]===ve[0]&&de[1]===ve[1]))return!0}}const ge=Ee.length;if(!(ge<=4))for(let Ue=0;Ue<ge-3;Ue++){let Fe=ge-1;0===Ue&&(Fe=ge-2);const Ve=Ee[Ue],Le=Ee[Ue+1];for(let tt=Ue+2;tt<Fe;tt++){const je=Ee[tt],ve=Ee[tt+1];if(le(Ve,Le,je,ve,de)&&!(de[0]===Ve[0]&&de[1]===Ve[1]||de[0]===je[0]&&de[1]===je[1]||de[0]===Le[0]&&de[1]===Le[1]||de[0]===ve[0]&&de[1]===ve[1]))return!0}}}return!1}function me(se,fe,Ee){for(let ge=0;ge<Ee.length;ge++)if(le(se,fe,Ee[ge][0],Ee[ge][1]))return!0;return!1}function le(se,fe,Ee,ge,Ue){const[Fe,Ve]=se,[Le,tt]=fe,[je,ve]=Ee,[Oe,qe]=ge,He=Oe-je,Qe=Fe-je,ot=Le-Fe,Ne=qe-ve,Se=Ve-ve,$e=tt-Ve,nt=Ne*ot-He*$e;if(0===nt)return!1;const ut=(He*Se-Ne*Qe)/nt,xt=(ot*Se-$e*Qe)/nt;return ut>=0&&ut<=1&&xt>=0&&xt<=1&&(Ue&&(Ue[0]=Fe+ut*(Le-Fe),Ue[1]=Ve+ut*(tt-Ve)),!0)}function oe(se){switch(se){case"esriGeometryEnvelope":case"extent":return Te;case"esriGeometryMultipoint":case"multipoint":return Me;case"esriGeometryPoint":case"point":return J;case"esriGeometryPolygon":case"polygon":return be;case"esriGeometryPolyline":case"polyline":return xe}}},91179:(hi,lt,N)=>{"use strict";N.d(lt,{im:()=>me,q9:()=>se,Ji:()=>le,YX:()=>re,aW:()=>ce,wp:()=>be,oU:()=>de,l9:()=>xe});var z=N(62208),J=N(2004),Te=N(21674),Me=N(72854),Ce=N(49672),Ie=N(37118),ye=N(55214);function re(fe){return void 0!==fe.xmin&&void 0!==fe.ymin&&void 0!==fe.xmax&&void 0!==fe.ymax}function ce(fe){return void 0!==fe.points}function be(fe){return void 0!==fe.x&&void 0!==fe.y}function xe(fe){return void 0!==fe.paths}function de(fe){return void 0!==fe.rings}function me(fe){return(0,z.Wi)(fe)?null:fe instanceof Te.Z?fe:be(fe)?Ce.Z.fromJSON(fe):xe(fe)?ye.Z.fromJSON(fe):de(fe)?Ie.Z.fromJSON(fe):ce(fe)?Me.Z.fromJSON(fe):re(fe)?J.Z.fromJSON(fe):null}function le(fe){return fe?be(fe)?"esriGeometryPoint":xe(fe)?"esriGeometryPolyline":de(fe)?"esriGeometryPolygon":re(fe)?"esriGeometryEnvelope":ce(fe)?"esriGeometryMultipoint":null:null}const oe={esriGeometryPoint:Ce.Z,esriGeometryPolyline:ye.Z,esriGeometryPolygon:Ie.Z,esriGeometryEnvelope:J.Z,esriGeometryMultipoint:Me.Z};function se(fe){return fe&&oe[fe]||null}},62825:(hi,lt,N)=>{"use strict";N.d(lt,{aX:()=>qe,or:()=>ot,hR:()=>tt});var z=N(15861),J=N(59318),Te=N(26584),Me=N(63290),Ce=N(62208),Ie=N(37118),ye=N(55214),he=N(74618),re=N(37053),ce=N(46367),xe=(N(29132),N(84792)),de=N(21726),Ae=N(91179);function me(Ne,Se,$e,nt){return le.apply(this,arguments)}function le(){return(le=(0,z.Z)(function*(Ne,Se,$e,nt){const ut="string"==typeof Ne?(0,de.mN)(Ne):Ne,xt=Se[0].spatialReference,Ze=fr(ji({},nt),{query:fr(ji({},ut.query),{f:"json",sr:JSON.stringify(xt),target:JSON.stringify({geometryType:(0,Ae.Ji)(Se[0]),geometries:Se}),cutter:JSON.stringify($e)})}),et=yield(0,xe.default)(ut.path+"/cut",Ze),{cutIndexes:gt,geometries:Vt=[]}=et.data;return{cutIndexes:gt,geometries:Vt.map(Bt=>{const Lt=(0,Ae.im)(Bt);return Lt.spatialReference=xt,Lt})}})).apply(this,arguments)}function oe(Ne,Se,$e){return se.apply(this,arguments)}function se(){return(se=(0,z.Z)(function*(Ne,Se,$e){const nt="string"==typeof Ne?(0,de.mN)(Ne):Ne,ut=Se[0].spatialReference,xt=(0,Ae.Ji)(Se[0]),Ze=fr(ji({},$e),{query:fr(ji({},nt.query),{f:"json",sr:ut.wkid?ut.wkid:JSON.stringify(ut),geometries:JSON.stringify(fe(Se))})});return Ee((yield(0,xe.default)(nt.path+"/simplify",Ze)).data,xt,ut)})).apply(this,arguments)}function fe(Ne){return{geometryType:(0,Ae.Ji)(Ne[0]),geometries:Ne.map(Se=>Se.toJSON())}}function Ee(Ne,Se,$e){const nt=(0,Ae.q9)(Se);return Ne.map(ut=>{const xt=nt.fromJSON(ut);return xt.spatialReference=$e,xt})}const ge=Me.Z.getLogger("esri.geometry.support.normalizeUtils");function Fe(Ne){return"polygon"===Ne[0].type}function Ve(Ne){return"polyline"===Ne[0].type}function tt(Ne,Se){if(!(Ne instanceof ye.Z||Ne instanceof Ie.Z)){const ut="straightLineDensify: the input geometry is neither polyline nor polygon";throw ge.error(ut),new Te.Z(ut)}const $e=(0,he.x3)(Ne),nt=[];for(const ut of $e){const xt=[];nt.push(xt),xt.push([ut[0][0],ut[0][1]]);for(let Ze=0;Ze<ut.length-1;Ze++){const et=ut[Ze][0],gt=ut[Ze][1],Vt=ut[Ze+1][0],Bt=ut[Ze+1][1],Lt=Math.sqrt((Vt-et)*(Vt-et)+(Bt-gt)*(Bt-gt)),Pt=(Bt-gt)/Lt,dt=(Vt-et)/Lt,jt=Lt/Se;if(jt>1){for(let rt=1;rt<=jt-1;rt++){const Dt=rt*Se;xt.push([dt*Dt+et,Pt*Dt+gt])}const Rt=(Lt+Math.floor(jt-1)*Se)/2;xt.push([dt*Rt+et,Pt*Rt+gt])}xt.push([Vt,Bt])}}return function(Ne){return"polygon"===Ne.type}(Ne)?new Ie.Z({rings:nt,spatialReference:Ne.spatialReference}):new ye.Z({paths:nt,spatialReference:Ne.spatialReference})}function je(Ne,Se,$e){if(Se){const nt=tt(Ne,1e6);Ne=(0,ce.Sx)(nt,!0)}return $e&&(Ne=(0,he.Sy)(Ne,$e)),Ne}function ve(Ne,Se,$e){if(Array.isArray(Ne)){const nt=Ne[0];if(nt>Se){const ut=(0,he.XZ)(nt,Se);Ne[0]=nt+ut*(-2*Se)}else if(nt<$e){const ut=(0,he.XZ)(nt,$e);Ne[0]=nt+ut*(-2*$e)}}else{const nt=Ne.x;if(nt>Se){const ut=(0,he.XZ)(nt,Se);Ne=Ne.clone().offset(ut*(-2*Se),0)}else if(nt<$e){const ut=(0,he.XZ)(nt,$e);Ne=Ne.clone().offset(ut*(-2*$e),0)}}return Ne}function Oe(Ne,Se){let $e=-1;for(let nt=0;nt<Se.cutIndexes.length;nt++){const ut=Se.cutIndexes[nt],xt=Se.geometries[nt],Ze=(0,he.x3)(xt);for(let et=0;et<Ze.length;et++){const gt=Ze[et];gt.some(Vt=>{if(Vt[0]<180)return!0;{let Bt=0;for(let Pt=0;Pt<gt.length;Pt++){const dt=gt[Pt][0];Bt=dt>Bt?dt:Bt}Bt=Number(Bt.toFixed(9));const Lt=-360*(0,he.XZ)(Bt,180);for(let Pt=0;Pt<gt.length;Pt++){const dt=xt.getPoint(et,Pt);xt.setPoint(et,Pt,dt.clone().offset(Lt,0))}return!0}})}if(ut===$e){if(Fe(Ne))for(const et of(0,he.x3)(xt))Ne[ut]=Ne[ut].addRing(et);else if(Ve(Ne))for(const et of(0,he.x3)(xt))Ne[ut]=Ne[ut].addPath(et)}else $e=ut,Ne[ut]=xt}return Ne}function qe(Ne,Se,$e){return He.apply(this,arguments)}function He(){return(He=(0,z.Z)(function*(Ne,Se,$e){if(!Array.isArray(Ne))return qe([Ne],Se);const nt=Se?Se.url:J.Z.geometryServiceUrl;let ut,xt,Ze,et,gt,Vt,Bt,Lt,Pt=0;const dt=[],jt=[];for(const Kt of Ne)if((0,Ce.Wi)(Kt))jt.push(Kt);else if(ut||(ut=Kt.spatialReference,xt=(0,re.C5)(ut),Ze=ut.isWebMercator,Vt=Ze?102100:4326,et=he.UZ[Vt].maxX,gt=he.UZ[Vt].minX,Bt=he.UZ[Vt].plus180Line,Lt=he.UZ[Vt].minus180Line),xt)if("mesh"===Kt.type)jt.push(Kt);else if("point"===Kt.type)jt.push(ve(Kt.clone(),et,gt));else if("multipoint"===Kt.type){const st=Kt.clone();st.points=st.points.map(Ti=>ve(Ti,et,gt)),jt.push(st)}else if("extent"===Kt.type){const st=Kt.clone()._normalize(!1,!1,xt);jt.push(st.rings?new Ie.Z(st):st)}else if(Kt.extent){const st=Kt.extent,Ti=(0,he.XZ)(st.xmin,gt)*(2*et);let qt=0===Ti?Kt.clone():(0,he.Sy)(Kt.clone(),Ti);st.offset(Ti,0),st.intersects(Bt)&&st.xmax!==et?(Pt=st.xmax>Pt?st.xmax:Pt,qt=je(qt,Ze),dt.push(qt),jt.push("cut")):st.intersects(Lt)&&st.xmin!==gt?(Pt=st.xmax*(2*et)>Pt?st.xmax*(2*et):Pt,qt=je(qt,Ze,360),dt.push(qt),jt.push("cut")):jt.push(qt)}else jt.push(Kt.clone());else jt.push(Kt);let Rt=(0,he.XZ)(Pt,et),_e=-90;const ke=Rt,rt=new ye.Z;for(;Rt>0;){const Kt=360*Rt-180;rt.addPath([[Kt,_e],[Kt,-1*_e]]),_e*=-1,Rt--}if(dt.length>0&&ke>0){const Kt=Oe(dt,yield me(nt,dt,rt,$e)),st=[],Ti=[];for(let We=0;We<jt.length;We++){const fi=jt[We];if("cut"!==fi)Ti.push(fi);else{const Mi=Kt.shift(),Ki=Ne[We];(0,Ce.pC)(Ki)&&"polygon"===Ki.type&&Ki.rings&&Ki.rings.length>1&&Mi.rings.length>=Ki.rings.length?(st.push(Mi),Ti.push("simplify")):Ti.push(Ze?(0,ce.$)(Mi):Mi)}}if(!st.length)return Ti;const qt=yield oe(nt,st,$e),pi=[];for(let We=0;We<Ti.length;We++){const fi=Ti[We];pi.push("simplify"!==fi?fi:Ze?(0,ce.$)(qt.shift()):qt.shift())}return pi}const Dt=[];for(let Kt=0;Kt<jt.length;Kt++){const st=jt[Kt];if("cut"!==st)Dt.push(st);else{const Ti=dt.shift();Dt.push(!0===Ze?(0,ce.$)(Ti):Ti)}}return Promise.resolve(Dt)})).apply(this,arguments)}function ot(Ne,Se){const $e=(0,re.C5)(Se);if($e){const[nt,ut]=$e.valid,xt=ut-nt;if(Ne<nt)for(;Ne<nt;)Ne+=xt;if(Ne>ut)for(;Ne>ut;)Ne-=xt}return Ne}},74618:(hi,lt,N)=>{"use strict";N.d(lt,{UZ:()=>Me,x3:()=>ye,uS:()=>he,XZ:()=>Ce,Sy:()=>Ie});var z=N(55214),J=N(65234),Te=N(91179);const Me={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new z.Z({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:J.Z.WebMercator}),minus180Line:new z.Z({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:J.Z.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new z.Z({paths:[[[180,-180],[180,180]]],spatialReference:J.Z.WGS84}),minus180Line:new z.Z({paths:[[[-180,-180],[-180,180]]],spatialReference:J.Z.WGS84})}};function Ce(re,ce){return Math.ceil((re-ce)/(2*ce))}function Ie(re,ce){const be=ye(re);for(const xe of be)for(const de of xe)de[0]+=ce;return re}function ye(re){return(0,Te.oU)(re)?re.rings:re.paths}function he(re){const ce=(null==re?void 0:re.isWebMercator)?102100:4326;return[Me[ce].minX,Me[ce].maxX]}},7848:(hi,lt,N)=>{"use strict";N.d(lt,{ym:()=>Ne,RF:()=>He,vY:()=>ye,J9:()=>$e,U1:()=>nt,Ie:()=>ut,G6:()=>xt});var z=N(62208),J=N(91179);const Me=(Ze,et,gt)=>[et,gt],Ce=(Ze,et,gt)=>[et,gt,Ze[2]],Ie=(Ze,et,gt)=>[et,gt,Ze[2],Ze[3]];function ye(Ze){return Ze?{originPosition:"upper-left"===Ze.originPosition?"upperLeft":"lower-left"===Ze.originPosition?"lowerLeft":Ze.originPosition,scale:Ze.tolerance?[Ze.tolerance,Ze.tolerance]:[1,1],translate:Ze.extent?[Ze.extent.xmin,Ze.extent.ymax]:[0,0]}:null}function re({scale:Ze,translate:et},gt){return Math.round((gt-et[0])/Ze[0])}function ce({scale:Ze,translate:et},gt){return Math.round((et[1]-gt)/Ze[1])}function be(Ze,et,gt){const Vt=[];let Bt,Lt,Pt,dt;for(let jt=0;jt<gt.length;jt++){const Rt=gt[jt];jt>0?(Pt=re(Ze,Rt[0]),dt=ce(Ze,Rt[1]),Pt===Bt&&dt===Lt||(Vt.push(et(Rt,Pt-Bt,dt-Lt)),Bt=Pt,Lt=dt)):(Bt=re(Ze,Rt[0]),Lt=ce(Ze,Rt[1]),Vt.push(et(Rt,Bt,Lt)))}return Vt.length>0?Vt:null}function le({scale:Ze,translate:et},gt){return gt*Ze[0]+et[0]}function oe({scale:Ze,translate:et},gt){return et[1]-gt*Ze[1]}function se(Ze,et,gt){const Vt=new Array(gt.length);if(!gt.length)return Vt;const[Bt,Lt]=Ze.scale;let Pt=le(Ze,gt[0][0]),dt=oe(Ze,gt[0][1]);Vt[0]=et(gt[0],Pt,dt);for(let jt=1;jt<gt.length;jt++){const Rt=gt[jt];Pt+=Rt[0]*Bt,dt-=Rt[1]*Lt,Vt[jt]=et(Rt,Pt,dt)}return Vt}function fe(Ze,et,gt){const Vt=new Array(gt.length);for(let Bt=0;Bt<gt.length;Bt++)Vt[Bt]=se(Ze,et,gt[Bt]);return Vt}function He(Ze,et,gt,Vt,Bt){return et.x=re(Ze,gt.x),et.y=ce(Ze,gt.y),et!==gt&&(Vt&&(et.z=gt.z),Bt&&(et.m=gt.m)),et}function Ne(Ze,et){return Ze&&et?(0,J.wp)(et)?He(Ze,{},et,!1,!1):(0,J.l9)(et)?function(Ze,et,gt,Vt,Bt){const Lt=function(Ze,et,gt,Vt){const Bt=[],Lt=gt?Vt?Ie:Ce:Vt?Ce:Me;for(let Pt=0;Pt<et.length;Pt++){const dt=be(Ze,Lt,et[Pt]);dt&&dt.length>=2&&Bt.push(dt)}return Bt.length?Bt:null}(Ze,gt.paths,Vt,Bt);return Lt?(et.paths=Lt,et):null}(Ze,{},et,!1,!1):(0,J.oU)(et)?function(Ze,et,gt,Vt,Bt){const Lt=function(Ze,et,gt,Vt){const Bt=[],Lt=gt?Vt?Ie:Ce:Vt?Ce:Me;for(let Pt=0;Pt<et.length;Pt++){const dt=be(Ze,Lt,et[Pt]);dt&&dt.length>=3&&Bt.push(dt)}return Bt.length?Bt:null}(Ze,gt.rings,Vt,Bt);return Lt?(et.rings=Lt,et):null}(Ze,{},et,!1,!1):(0,J.aW)(et)?function(Ze,et,gt,Vt,Bt){return et.points=function(Ze,et,gt,Vt){return be(Ze,gt?Vt?Ie:Ce:Vt?Ce:Me,et)}(Ze,gt.points,Vt,Bt),et}(Ze,{},et,!1,!1):(0,J.YX)(et)?function(Ze,et,gt,Vt,Bt){return et.xmin=re(Ze,gt.xmin),et.ymin=ce(Ze,gt.ymin),et.xmax=re(Ze,gt.xmax),et.ymax=ce(Ze,gt.ymax),et}(Ze,{},et):null:null}function $e(Ze,et,gt,Vt,Bt){return(0,z.pC)(gt)&&(et.points=function(Ze,et,gt,Vt){return se(Ze,gt?Vt?Ie:Ce:Vt?Ce:Me,et)}(Ze,gt.points,Vt,Bt)),et}function nt(Ze,et,gt,Vt,Bt){return(0,z.Wi)(gt)||(et.x=le(Ze,gt.x),et.y=oe(Ze,gt.y),et!==gt&&(Vt&&(et.z=gt.z),Bt&&(et.m=gt.m))),et}function ut(Ze,et,gt,Vt,Bt){return(0,z.pC)(gt)&&(et.rings=function(Ze,et,gt,Vt){return fe(Ze,gt?Vt?Ie:Ce:Vt?Ce:Me,et)}(Ze,gt.rings,Vt,Bt)),et}function xt(Ze,et,gt,Vt,Bt){return(0,z.pC)(gt)&&(et.paths=function(Ze,et,gt,Vt){return fe(Ze,gt?Vt?Ie:Ce:Vt?Ce:Me,et)}(Ze,gt.paths,Vt,Bt)),et}},83137:(hi,lt,N)=>{"use strict";N.d(lt,{yZ:()=>Te});var z=N(16730);function Te(ye,he){const re=he||ye.extent,ce=ye.width,be=(0,z.c9)(re&&re.spatialReference);return re&&ce?re.width/ce*be*z.hd*96:0}},37053:(hi,lt,N)=>{"use strict";N.d(lt,{WR:()=>tt,Zn:()=>Ve,R_:()=>Le,fS:()=>ce,C5:()=>be,yW:()=>me,N$:()=>de,sT:()=>xe,BZ:()=>fe,V2:()=>ge,QM:()=>oe,JY:()=>Fe,oR:()=>Ae,o$:()=>se,ME:()=>Ee,sS:()=>le,MP:()=>Ue});var z=N(62208),J=N(77275),Te=N(84029);const Me={102113:!0,102100:!0,3857:!0,3785:!0},Ce={102113:!0,102100:!0,3857:!0,3785:!0,4326:!0},Ie='PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',ye=[-20037508.342788905,20037508.342788905],he=[-20037508.342787,20037508.342787],re={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:ye,origin:he,dx:1e-5},102100:{wkTemplate:Ie,valid:ye,origin:he,dx:1e-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:ye,origin:he,dx:1e-5},3857:{wkTemplate:Ie,valid:ye,origin:he,dx:1e-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function ce(je,ve){return!(0,z.Wi)(je)&&!(0,z.Wi)(ve)&&(je===ve||(null!=je.wkid||null!=ve.wkid?je.wkid===ve.wkid||le(je)&&le(ve)||null!=ve.latestWkid&&je.wkid===ve.latestWkid||null!=je.latestWkid&&ve.wkid===je.latestWkid:!(!je.wkt||!ve.wkt)&&je.wkt.toUpperCase()===ve.wkt.toUpperCase()))}function be(je){return Fe(je)&&je.wkid?re[je.wkid]:null}function xe(je){return!!Fe(je)&&(je.wkid?null==Te.Z[je.wkid]:!!je.wkt&&!!/^\s*GEOGCS/i.test(je.wkt))}function de(je){return!(fe(je)||ge(je))}function Ae(je){return Fe(je)&&4326===je.wkid}function me(je){return Fe(je)&&4490===je.wkid}function le(je){return Fe(je)&&null!=je.wkid&&!0===Me[je.wkid]}function oe(je){return Fe(je)&&32662===je.wkid}function se(je){return 104971===je||104905===je}function fe(je){return Fe(je)&&null!=je.wkid&&se(je.wkid)}function Ee(je){return 104903===je}function ge(je){return Fe(je)&&null!=je.wkid&&Ee(je.wkid)}function Ue(je){return Fe(je)&&null!=je.wkid&&!0===Ce[je.wkid]}function Fe(je){return(0,z.pC)(je)&&(null!=je.wkid&&je.wkid>=2e3||null!=je.wkt)}const Ve={wkid:4326,wkt:(0,J.gx)(re[4326].wkTemplate,{Central_Meridian:"0.0"})},Le={wkid:102100,latestWkid:3857},tt={wkid:32662}},71774:(hi,lt,N)=>{"use strict";N.d(lt,{Mk:()=>Te,P$:()=>Me});var z=N(2076);const Te=(0,z.wY)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),Me=(0,z.wY)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"})},34054:(hi,lt,N)=>{"use strict";N.d(lt,{EU:()=>Ie,SR:()=>Ce});var z=N(21286),J=N(84161),Te=N(28093);function Ce(ce,be){return(0,J.d)(ce,be)/(0,J.l)(ce)}function Ie(ce,be){const xe=(0,J.d)(ce,be)/((0,J.l)(ce)*(0,J.l)(be));return-(0,z.ZF)(xe)}(0,Te.c)(),(0,Te.c)()},26242:(hi,lt,N)=>{"use strict";N.d(lt,{MP:()=>me,WM:()=>xe});var z=N(62208),J=N(79682),Te=N(550),Me=N(43703),Ce=N(78451),Ie=N(99770),ye=N(28093),he=N(4794);class re{constructor(se,fe,Ee){this.itemByteSize=se,this.itemCreate=fe,this.buffers=[],this.items=[],this.itemsPerBuffer=0,this.itemsPtr=0,this.itemsPerBuffer=Math.ceil(Ee/this.itemByteSize),this.tickHandle=J.Z.before(()=>this.reset())}destroy(){this.tickHandle&&(this.tickHandle.remove(),this.tickHandle=(0,z.Bd)(this.tickHandle)),this.itemsPtr=0,this.items=(0,z.Bd)(this.items),this.buffers=(0,z.Bd)(this.buffers)}get(){0===this.itemsPtr&&(0,J.Z)(()=>{});const se=Math.floor(this.itemsPtr/this.itemsPerBuffer);for(;this.buffers.length<=se;){const fe=new ArrayBuffer(this.itemsPerBuffer*this.itemByteSize);for(let Ee=0;Ee<this.itemsPerBuffer;++Ee)this.items.push(this.itemCreate(fe,Ee*this.itemByteSize));this.buffers.push(fe)}return this.items[this.itemsPtr++]}reset(){const se=2*(Math.floor(this.itemsPtr/this.itemsPerBuffer)+1);for(;this.buffers.length>se;)this.buffers.pop(),this.items.length=this.buffers.length*this.itemsPerBuffer;this.itemsPtr=0}static createVec2f64(se=ce){return new re(16,Ie.c,se)}static createVec3f64(se=ce){return new re(24,ye.b,se)}static createVec4f64(se=ce){return new re(32,he.a,se)}static createMat3f64(se=ce){return new re(72,Te.a,se)}static createMat4f64(se=ce){return new re(128,Me.a,se)}static createQuatf64(se=ce){return new re(32,Ce.c,se)}get test(){return{size:this.buffers.length*this.itemsPerBuffer*this.itemByteSize}}}const ce=4096,xe=(re.createVec2f64(),re.createVec3f64()),me=(re.createVec4f64(),re.createMat3f64(),re.createMat4f64());re.createQuatf64()},46367:(hi,lt,N)=>{"use strict";N.d(lt,{Q8:()=>me,$:()=>fe,hG:()=>oe,iV:()=>le,Sx:()=>Ee,R6:()=>se,mZ:()=>be});var z=N(58817),J=N(62208),Te=N(65234),Me=N(94425),Ce=N(37053);function he(ge){return 57.29577951308232*ge}function re(ge){return.017453292519943*ge}function be(ge){return Math.PI/2-2*Math.atan(Math.exp(-ge/Me.sv.radius))}function xe(ge){return null!=ge.wkid||null!=ge.wkt}const de=[0,0];function Ae(ge,Ue,Fe,Ve,Le){const tt=ge,je=Le;if(je.spatialReference=Fe,"x"in tt&&"x"in je)[je.x,je.y]=Ue(tt.x,tt.y,de,Ve);else if("xmin"in tt&&"xmin"in je)[je.xmin,je.ymin]=Ue(tt.xmin,tt.ymin,de,Ve),[je.xmax,je.ymax]=Ue(tt.xmax,tt.ymax,de,Ve);else if("paths"in tt&&"paths"in je||"rings"in tt&&"rings"in je){const ve="paths"in tt?tt.paths:tt.rings,Oe=[];let qe;for(let He=0;He<ve.length;He++){const Qe=ve[He];qe=[],Oe.push(qe);for(let ot=0;ot<Qe.length;ot++)qe.push(Ue(Qe[ot][0],Qe[ot][1],[0,0],Ve)),Qe[ot].length>2&&qe[ot].push(Qe[ot][2]),Qe[ot].length>3&&qe[ot].push(Qe[ot][3])}"paths"in je?je.paths=Oe:je.rings=Oe}else if("points"in tt&&"points"in je){const ve=tt.points,Oe=[];for(let qe=0;qe<ve.length;qe++)Oe[qe]=Ue(ve[qe][0],ve[qe][1],[0,0],Ve),ve[qe].length>2&&Oe[qe].push(ve[qe][2]),ve[qe].length>3&&Oe[qe].push(ve[qe][3]);je.points=Oe}return Le}function me(ge,Ue){const Fe=ge&&(xe(ge)?ge:ge.spatialReference),Ve=Ue&&(xe(Ue)?Ue:Ue.spatialReference);return!(ge&&"type"in ge&&"mesh"===ge.type||Ue&&"type"in Ue&&"mesh"===Ue.type||!Fe||!Ve)&&(!!(0,Ce.fS)(Ve,Fe)||(0,Ce.sS)(Ve)&&(0,Ce.oR)(Fe)||(0,Ce.sS)(Fe)&&(0,Ce.oR)(Ve))}function le(ge,Ue){if((0,J.Wi)(ge))return null;const Fe=ge.spatialReference,Ve=Ue&&(xe(Ue)?Ue:Ue.spatialReference);return me(Fe,Ve)?(0,Ce.fS)(Fe,Ve)?(0,z.d9)(ge):(0,Ce.sS)(Ve)?Ae(ge,oe,Te.Z.WebMercator,!1,(0,z.d9)(ge)):(0,Ce.oR)(Ve)?Ae(ge,se,Te.Z.WGS84,!1,(0,z.d9)(ge)):null:null}function oe(ge,Ue,Fe=[0,0]){Ue>89.99999?Ue=89.99999:Ue<-89.99999&&(Ue=-89.99999);const Ve=re(Ue);return Fe[0]=re(ge)*Me.sv.radius,Fe[1]=Me.sv.halfSemiMajorAxis*Math.log((1+Math.sin(Ve))/(1-Math.sin(Ve))),Fe}function se(ge,Ue,Fe=[0,0],Ve=!1){const Le=he(ge/Me.sv.radius);return Fe[0]=Ve?Le:Le-360*Math.floor((Le+180)/360),Fe[1]=he(Math.PI/2-2*Math.atan(Math.exp(-Ue/Me.sv.radius))),Fe}function fe(ge,Ue=!1,Fe=(0,z.d9)(ge)){return Ae(ge,oe,Te.Z.WebMercator,Ue,Fe)}function Ee(ge,Ue=!1,Fe=(0,z.d9)(ge)){return Ae(ge,se,Te.Z.WGS84,Ue,Fe)}},18945:(hi,lt,N)=>{"use strict";function z(J,Te,Me=!1){let{hasM:Ce,hasZ:Ie}=J;Array.isArray(Te)?4!==Te.length||Ce||Ie?3===Te.length&&Me&&!Ce?(Ie=!0,Ce=!1):3===Te.length&&Ce&&Ie&&(Ce=!1,Ie=!1):(Ce=!0,Ie=!0):(Ie=!Ie&&Te.hasZ&&(!Ce||Te.hasM),Ce=!Ce&&Te.hasM&&(!Ie||Te.hasZ)),J.hasZ=Ie,J.hasM=Ce}N.d(lt,{l:()=>z})},52515:(hi,lt,N)=>{"use strict";N(88411),N(15348),N(97059),N(56683);var Ce=N(41840),Ie=N(15861),ye=N(84792),he=N(26584),re=N(95127),ce=N(62208);function xe(){return(xe=(0,Ie.Z)(function*(fe,Ee,ge,Ue){const Fe=Ee.exec(ge);if(!Fe)throw new he.Z("esri-intl:invalid-bundle",`Bundle id "${ge}" is not compatible with the pattern "${Ee}"`);const Ve=Fe[1]?`${Fe[1]}/`:"",Le=Fe[2],tt=(0,Ce.Su)(Ue),je=`${Ve}${Le}.json`,ve=tt?`${Ve}${Le}_${tt}.json`:je;let Oe;try{Oe=yield de(fe(ve))}catch(qe){if(ve===je)throw new he.Z("intl:unknown-bundle",`Bundle "${ge}" cannot be loaded`,{error:qe});try{Oe=yield de(fe(je))}catch(He){throw new he.Z("intl:unknown-bundle",`Bundle "${ge}" cannot be loaded`,{error:He})}}return Oe})).apply(this,arguments)}function de(fe){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,Ie.Z)(function*(fe){if((0,ce.pC)(oe.fetchBundleAsset))return oe.fetchBundleAsset(fe);const Ee=yield(0,ye.default)(fe,{responseType:"text"});return JSON.parse(Ee.data)})).apply(this,arguments)}const oe={};var se=N(54346);(0,Ce.tz)(new class{constructor({base:Ee="",pattern:ge,location:Ue=new URL(window.location.href)}){let Fe;Fe="string"==typeof Ue?Ve=>new URL(Ve,new URL(Ue,re.Z.location)).href:Ue instanceof URL?Ve=>new URL(Ve,Ue).href:Ue,this.pattern="string"==typeof ge?new RegExp(`^${ge}`):ge,this.getAssetUrl=Fe,Ee=Ee?Ee.endsWith("/")?Ee:Ee+"/":"",this.matcher=new RegExp(`^${Ee}(?:(.*)/)?(.*)$`)}fetchMessageBundle(Ee,ge){return function(fe,Ee,ge,Ue){return xe.apply(this,arguments)}(this.getAssetUrl,this.matcher,Ee,ge)}}({pattern:"esri/",location:se.V}))},88411:(hi,lt,N)=>{"use strict";N.d(lt,{Ze:()=>se,p6:()=>fe});var z=N(2076),J=N(56683);const Te={year:"numeric",month:"numeric",day:"numeric"},Me={year:"numeric",month:"long",day:"numeric"},Ce={year:"numeric",month:"short",day:"numeric"},Ie={year:"numeric",month:"long",weekday:"long",day:"numeric"},ye={hour:"numeric",minute:"numeric"},he=fr(ji({},ye),{second:"numeric"}),re={"short-date":Te,"short-date-short-time":ji(ji({},Te),ye),"short-date-short-time-24":fr(ji(ji({},Te),ye),{hour12:!1}),"short-date-long-time":ji(ji({},Te),he),"short-date-long-time-24":fr(ji(ji({},Te),he),{hour12:!1}),"short-date-le":Te,"short-date-le-short-time":ji(ji({},Te),ye),"short-date-le-short-time-24":fr(ji(ji({},Te),ye),{hour12:!1}),"short-date-le-long-time":ji(ji({},Te),he),"short-date-le-long-time-24":fr(ji(ji({},Te),he),{hour12:!1}),"long-month-day-year":Me,"long-month-day-year-short-time":ji(ji({},Me),ye),"long-month-day-year-short-time-24":fr(ji(ji({},Me),ye),{hour12:!1}),"long-month-day-year-long-time":ji(ji({},Me),he),"long-month-day-year-long-time-24":fr(ji(ji({},Me),he),{hour12:!1}),"day-short-month-year":Ce,"day-short-month-year-short-time":ji(ji({},Ce),ye),"day-short-month-year-short-time-24":fr(ji(ji({},Ce),ye),{hour12:!1}),"day-short-month-year-long-time":ji(ji({},Ce),he),"day-short-month-year-long-time-24":fr(ji(ji({},Ce),he),{hour12:!1}),"long-date":Ie,"long-date-short-time":ji(ji({},Ie),ye),"long-date-short-time-24":fr(ji(ji({},Ie),ye),{hour12:!1}),"long-date-long-time":ji(ji({},Ie),he),"long-date-long-time-24":fr(ji(ji({},Ie),he),{hour12:!1}),"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":ye,"long-time":he},ce=(0,z.wY)()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),Ae=(ce.toJSON.bind(ce),ce.fromJSON.bind(ce),{ar:"ar-u-nu-latn-ca-gregory"});let me=new WeakMap,le=re["short-date-short-time"];function se(Ee){return re[Ee]||null}function fe(Ee,ge){return function(Ee){const ge=Ee||le;if(!me.has(ge)){const Ue=(0,J.Kd)(),Fe=Ae[(0,J.Kd)()]||Ue;me.set(ge,new Intl.DateTimeFormat(Fe,ge))}return me.get(ge)}(ge).format(Ee)}(0,J.Ze)(()=>{me=new WeakMap,le=re["short-date-short-time"]})},56683:(hi,lt,N)=>{"use strict";N.d(lt,{Ze:()=>oe,Kd:()=>re,qe:()=>me});var J,Te,Me,z=N(95127);let Ie;const ye=null!=(J=null==(Te=z.Z.esriConfig)?void 0:Te.locale)?J:null==(Me=z.Z.dojoConfig)?void 0:Me.locale;function he(){var fe,Ee;return null!=(fe=null!=ye?ye:null==(Ee=z.Z.navigator)?void 0:Ee.language)?fe:"en"}function re(){return void 0===Ie&&(Ie=he()),Ie}const Ae=[];function me(fe){return Ae.push(fe),{remove(){Ae.splice(Ae.indexOf(fe),1)}}}const le=[];function oe(fe){return le.push(fe),{remove(){Ae.splice(le.indexOf(fe),1)}}}null==z.Z.addEventListener||z.Z.addEventListener("languagechange",function(){const Ee=null!=undefined?undefined:he();Ie!==Ee&&(Ie=Ee,[...le].forEach(ge=>{ge.call(null,Ee)}),[...Ae].forEach(ge=>{ge.call(null,Ee)}))})},41840:(hi,lt,N)=>{"use strict";N.d(lt,{ME:()=>xe,Su:()=>Ae,tz:()=>be});var z=N(15861),J=N(26584),Te=N(10699),Me=N(56683);const Ce=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,Ie={ar:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function ye(Ee){var ge;return null!=(ge=Ie[Ee])&&ge}const he=[],re=new Map;function ce(Ee){for(const ge of re.keys())oe(Ee.pattern,ge)&&re.delete(ge)}function be(Ee){return he.includes(Ee)||(ce(Ee),he.unshift(Ee)),{remove(){const ge=he.indexOf(Ee);ge>-1&&(he.splice(ge,1),ce(Ee))}}}function xe(Ee){return de.apply(this,arguments)}function de(){return(de=(0,z.Z)(function*(Ee){const ge=(0,Me.Kd)();re.has(Ee)||re.set(Ee,me(Ee,ge));const Ue=re.get(Ee);return yield se.add(Ue),Ue})).apply(this,arguments)}function Ae(Ee){if(!Ce.test(Ee))return null;const[,ge,Ue]=Ce.exec(Ee),Fe=ge+(Ue?"-"+Ue.toUpperCase():"");return ye(Fe)?Fe:ye(ge)?ge:null}function me(Ee,ge){return le.apply(this,arguments)}function le(){return(le=(0,z.Z)(function*(Ee,ge){const Ue=[];for(const Fe of he)if(oe(Fe.pattern,Ee))try{return yield Fe.fetchMessageBundle(Ee,ge)}catch(Ve){Ue.push(Ve)}throw Ue.length?new J.Z("intl:message-bundle-error",`Errors occurred while loading "${Ee}"`,{errors:Ue}):new J.Z("intl:no-message-bundle-loader",`No loader found for message bundle "${Ee}"`)})).apply(this,arguments)}function oe(Ee,ge){return"string"==typeof Ee?ge.startsWith(Ee):Ee.test(ge)}(0,Me.Ze)(()=>{re.clear()});const se=new class{constructor(){this._numLoading=0}waitForAll(){var Ee=this;return(0,z.Z)(function*(){Ee._dfd&&(yield Ee._dfd.promise)})()}add(Ee){return this._increase(),Ee.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=(0,Te.dD)())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)}}},15348:(hi,lt,N)=>{"use strict";N.d(lt,{sh:()=>ye,uf:()=>he});var z=N(62208),J=N(56683);const Te={ar:"ar-u-nu-latn"};let Me=new WeakMap,Ce={};function ye(re={}){const ce={};return null!=re.digitSeparator&&(ce.useGrouping=re.digitSeparator),null!=re.places&&(ce.minimumFractionDigits=ce.maximumFractionDigits=re.places),ce}function he(re,ce){return function(re){const ce=re||Ce;if(!Me.has(ce)){const be=(0,J.Kd)(),xe=Te[(0,J.Kd)()]||be;Me.set(ce,new Intl.NumberFormat(xe,re))}return(0,z.j0)(Me.get(ce))}(ce).format(re)}(0,J.Ze)(()=>{Me=new WeakMap,Ce={}})},97059:(hi,lt,N)=>{"use strict";N.d(lt,{n:()=>ye});var z=N(63290),J=N(94113),Te=N(77275),Me=N(88411),Ce=N(15348);const Ie=z.Z.getLogger("esri.intl");function ye(xe,de,Ae={}){const{format:me={}}=Ae;return(0,Te.gx)(xe,le=>function(xe,de,Ae){let me,le;const oe=xe.indexOf(":");if(-1===oe?me=xe.trim():(me=xe.slice(0,oe).trim(),le=xe.slice(oe+1).trim()),!me)return"";const se=(0,J.hS)(me,de);if(null==se)return"";const fe=Ae[le]||Ae[me];return fe?function(xe,de){switch(de.type){case"date":return(0,Me.p6)(xe,de.intlOptions);case"number":return(0,Ce.uf)(xe,de.intlOptions);default:return Ie.warn("missing format descriptor for key {key}"),be(xe)}}(se,fe):le?function(xe,de){switch(de.toLowerCase()){case"dateformat":return(0,Me.p6)(xe);case"numberformat":return(0,Ce.uf)(xe);default:return Ie.warn(`inline format is unsupported since 4.12: ${de}`),/^(dateformat|datestring)/i.test(de)?(0,Me.p6)(xe):/^numberformat/i.test(de)?(0,Ce.uf)(xe):be(xe)}}(se,le):be(se)}(le,de,me))}function be(xe){switch(typeof xe){case"string":return xe;case"number":return(0,Ce.uf)(xe);case"boolean":return""+xe;default:return xe instanceof Date?(0,Me.p6)(xe):""}}},24263:(hi,lt,N)=>{"use strict";N.d(lt,{Dp:()=>ye,id:()=>Ce,qh:()=>Ie,i8:()=>Te,Nv:()=>Me});var z=N(8314),J=N(21726);const Te="4.21",Me={request(he,re){var ce;const be=null==(ce=he.options)?void 0:ce.responseType;return Promise.resolve().then(N.bind(N,84792)).then(({default:xe})=>{const de=he.options||{};return de.responseType="native"===be||"native-request-init"===be?"native-request-init":"array-buffer",de.signal=null==re?void 0:re.signal,xe(he.url,de)}).then(xe=>{const de={data:xe.data,ssl:xe.ssl};return"native-request-init"===xe.requestOptions.responseType?(delete de.data.signal,de):{result:de,transferList:[de.data]}})}};let Ce;function Ie(he){Ce=he}function ye(he){const re=Ce&&Ce.findCredential(he);return re&&re.token?(0,J.ZN)(he,"token",re.token):he}(0,z.Z)("host-webworker")||((0,z.Z)("edge")||(0,z.Z)("trident"))&&console.warn("Deprecated browser - see http://esriurl.com/oldbrowser")},22132:(hi,lt,N)=>{"use strict";N.r(lt),N.d(lt,{default:()=>Yn});var z=N(15861),J=N(17626),Te=N(73281),re=(N(4832),N(49067),N(26284),N(54928),N(69357),N(40342)),ce=N(14726),be=N(33474),xe=N(32088),de=N(84792),Ae=N(65787),me=N(7093),le=N(26584),oe=N(72392),se=N(8314),fe=N(2076),Ee=N(63290),ge=N(62208),Ue=N(99959),Fe=N(94113),Ve=N(10699);function tt(){return(tt=(0,z.Z)(function*(Ut,ii){const{WhereClause:Fi}=yield N.e(410).then(N.bind(N,10410));return Fi.create(Ut,ii)})).apply(this,arguments)}var nt,je=N(21726),ve=N(77712),Oe=N(66656),qe=N(68653),He=N(61403),Qe=N(99433),ot=N(383),Ne=N(86162),Se=N(58817),$e=N(90912);let ut=nt=class extends Ne.wq{constructor(Ut){super(Ut),this.expression=null,this.name=null,this.returnType="boolean",this.title=null}clone(){return new nt({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};(0,J._)([(0,ve.Cb)({type:String,json:{write:!0}})],ut.prototype,"expression",void 0),(0,J._)([(0,ve.Cb)({type:String,json:{write:!0}})],ut.prototype,"name",void 0),(0,J._)([(0,ve.Cb)({type:["boolean"],json:{write:!0}})],ut.prototype,"returnType",void 0),(0,J._)([(0,ve.Cb)({type:String,json:{write:!0}})],ut.prototype,"title",void 0),ut=nt=(0,J._)([(0,He.j)("esri.form.ExpressionInfo")],ut);var xt=ut;let Ze=class extends Ne.wq{constructor(Ut){super(Ut),this.description=null,this.label=null,this.type=null,this.visibilityExpression=null}};(0,J._)([(0,ve.Cb)({type:String,json:{write:!0}})],Ze.prototype,"description",void 0),(0,J._)([(0,ve.Cb)({type:String,json:{write:!0}})],Ze.prototype,"label",void 0),(0,J._)([(0,ve.Cb)()],Ze.prototype,"type",void 0),(0,J._)([(0,ve.Cb)({type:String,json:{write:!0}})],Ze.prototype,"visibilityExpression",void 0),Ze=(0,J._)([(0,He.j)("esri.form.elements.Element")],Ze);var gt,et=Ze;let Vt=gt=class extends Ne.wq{constructor(Ut){super(Ut),this.type=null}clone(){return new gt({type:this.type})}};(0,J._)([(0,ve.Cb)({type:["attachment","audio","document","image","signature","video"],json:{write:!0}})],Vt.prototype,"type",void 0),Vt=gt=(0,J._)([(0,He.j)("esri.form.elements.inputs.AttachmentInput")],Vt);var Lt,Bt=Vt;let Pt=Lt=class extends et{constructor(Ut){super(Ut),this.attachmentKeyword=null,this.editable=!0,this.input=null,this.type="attachment"}clone(){return new Lt({attachmentKeyword:this.attachmentKeyword,description:this.description,editable:this.editable,input:this.input,label:this.label,visibilityExpression:this.visibilityExpression})}};(0,J._)([(0,ve.Cb)({type:String,json:{write:!0}})],Pt.prototype,"attachmentKeyword",void 0),(0,J._)([(0,ve.Cb)({type:Boolean,json:{write:!0}})],Pt.prototype,"editable",void 0),(0,J._)([(0,ve.Cb)({type:Bt,json:{read:{source:"inputType"},write:{target:"inputType"}}})],Pt.prototype,"input",void 0),(0,J._)([(0,ve.Cb)({type:["attachment"],json:{read:!1,write:!0}})],Pt.prototype,"type",void 0),Pt=Lt=(0,J._)([(0,He.j)("esri.form.elements.AttachmentElement")],Pt);var dt=Pt;let jt=class extends Ne.wq{constructor(Ut){super(Ut),this.type=null}};(0,J._)([(0,ve.Cb)()],jt.prototype,"type",void 0),jt=(0,J._)([(0,He.j)("esri.form.elements.inputs.Input")],jt);var Rt=jt;let _e=class extends Rt{constructor(Ut){super(Ut),this.maxLength=null,this.minLength=0}};(0,J._)([(0,ve.Cb)({type:Number,json:{write:!0}})],_e.prototype,"maxLength",void 0),(0,J._)([(0,ve.Cb)({type:Number,json:{write:!0}})],_e.prototype,"minLength",void 0),_e=(0,J._)([(0,He.j)("esri.form.elements.inputs.TextInput")],_e);var rt,ke=_e;let Dt=rt=class extends ke{constructor(Ut){super(Ut),this.type="barcode-scanner"}clone(){return new rt({maxLength:this.maxLength,minLength:this.minLength})}};(0,J._)([(0,ve.Cb)({type:["barcode-scanner"],json:{read:!1,write:!0}})],Dt.prototype,"type",void 0),Dt=rt=(0,J._)([(0,He.j)("esri.form.elements.inputs.BarcodeScannerInput")],Dt);var st,Kt=Dt;let Ti=st=class extends Rt{constructor(Ut){super(Ut),this.noValueOptionLabel=null,this.showNoValueOption=!1,this.type="combo-box"}clone(){return new st({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};(0,J._)([(0,ve.Cb)({type:String,json:{write:!0}})],Ti.prototype,"noValueOptionLabel",void 0),(0,J._)([(0,ve.Cb)({type:Boolean,json:{write:!0}})],Ti.prototype,"showNoValueOption",void 0),(0,J._)([(0,ve.Cb)({type:["combo-box"],json:{read:!1,write:!0}})],Ti.prototype,"type",void 0),Ti=st=(0,J._)([(0,He.j)("esri.form.elements.inputs.ComboBoxInput")],Ti);var pi,qt=Ti;function We(Ut){return null!=Ut?new Date(Ut):null}function fi(Ut){return Ut?Ut.getTime():null}let Mi=pi=class extends Rt{constructor(Ut){super(Ut),this.includeTime=!1,this.max=null,this.min=null,this.type="datetime-picker"}readMax(Ut,ii){return We(ii.max)}writeMax(Ut,ii){ii.max=fi(Ut)}readMin(Ut,ii){return We(ii.min)}writeMin(Ut,ii){ii.min=fi(Ut)}clone(){return new pi({includeTime:this.includeTime,max:this.max,min:this.min,type:this.type})}};(0,J._)([(0,ve.Cb)({type:Boolean,json:{write:!0}})],Mi.prototype,"includeTime",void 0),(0,J._)([(0,ve.Cb)({type:Date,json:{type:Number,write:!0}})],Mi.prototype,"max",void 0),(0,J._)([(0,qe.r)("max")],Mi.prototype,"readMax",null),(0,J._)([(0,Qe.c)("max")],Mi.prototype,"writeMax",null),(0,J._)([(0,ve.Cb)({type:Date,json:{type:Number,write:!0}})],Mi.prototype,"min",void 0),(0,J._)([(0,qe.r)("min")],Mi.prototype,"readMin",null),(0,J._)([(0,Qe.c)("min")],Mi.prototype,"writeMin",null),(0,J._)([(0,ve.Cb)({type:["datetime-picker"],json:{read:!1,write:!0}})],Mi.prototype,"type",void 0),Mi=pi=(0,J._)([(0,He.j)("esri.form.elements.inputs.DateTimePickerInput")],Mi);var yn,Ki=Mi;let Un=yn=class extends Rt{constructor(Ut){super(Ut),this.noValueOptionLabel=null,this.showNoValueOption=!1,this.type="radio-buttons"}clone(){return new yn({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};(0,J._)([(0,ve.Cb)({type:String,json:{write:!0}})],Un.prototype,"noValueOptionLabel",void 0),(0,J._)([(0,ve.Cb)({type:Boolean,json:{write:!0}})],Un.prototype,"showNoValueOption",void 0),(0,J._)([(0,ve.Cb)({type:["radio-buttons"],json:{read:!1,write:!0}})],Un.prototype,"type",void 0),Un=yn=(0,J._)([(0,He.j)("esri.form.elements.inputs.RadioButtonsInput")],Un);var kn,Vn=Un;let li=kn=class extends Rt{constructor(Ut){super(Ut),this.offValue=null,this.onValue=null,this.type="switch"}clone(){return new kn({offValue:this.offValue,onValue:this.onValue})}};(0,J._)([(0,ve.Cb)({type:[String,Number],json:{write:!0}})],li.prototype,"offValue",void 0),(0,J._)([(0,ve.Cb)({type:[String,Number],json:{write:!0}})],li.prototype,"onValue",void 0),(0,J._)([(0,ve.Cb)({type:["switch"],json:{read:!1,write:!0}})],li.prototype,"type",void 0),li=kn=(0,J._)([(0,He.j)("esri.form.elements.inputs.SwitchInput")],li);var Be,B=li;let $=Be=class extends ke{constructor(Ut){super(Ut),this.type="text-area"}clone(){return new Be({maxLength:this.maxLength,minLength:this.minLength})}};(0,J._)([(0,ve.Cb)({type:["text-area"],json:{read:!1,write:!0}})],$.prototype,"type",void 0),$=Be=(0,J._)([(0,He.j)("esri.form.elements.inputs.TextAreaInput")],$);var T,k=$;let E=T=class extends ke{constructor(Ut){super(Ut),this.type="text-box"}clone(){return new T({maxLength:this.maxLength,minLength:this.minLength})}};(0,J._)([(0,ve.Cb)({type:["text-box"],json:{read:!1,write:!0}})],E.prototype,"type",void 0),E=T=(0,J._)([(0,He.j)("esri.form.elements.inputs.TextBoxInput")],E);const O={base:Rt,key:"type",typeMap:{"barcode-scanner":Kt,"combo-box":qt,"datetime-picker":Ki,"radio-buttons":Vn,switch:B,"text-area":k,"text-box":E}};var F,L=N(67945);let V=F=class extends et{constructor(Ut){super(Ut),this.domain=null,this.editable=!0,this.fieldName=null,this.hint=null,this.input=null,this.requiredExpression=null,this.type="field"}clone(){return new F({description:this.description,domain:this.domain,editable:this.editable,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,visibilityExpression:this.visibilityExpression})}};(0,J._)([(0,ve.Cb)({types:L.V5,json:{read:{reader:L.im},write:!0}})],V.prototype,"domain",void 0),(0,J._)([(0,ve.Cb)({type:Boolean,json:{write:!0}})],V.prototype,"editable",void 0),(0,J._)([(0,ve.Cb)({type:String,json:{write:!0}})],V.prototype,"fieldName",void 0),(0,J._)([(0,ve.Cb)({type:String,json:{write:!0}})],V.prototype,"hint",void 0),(0,J._)([(0,ve.Cb)({types:O,json:{read:{source:"inputType"},write:{target:"inputType"}}})],V.prototype,"input",void 0),(0,J._)([(0,ve.Cb)({type:String,json:{write:!0}})],V.prototype,"requiredExpression",void 0),(0,J._)([(0,ve.Cb)({type:String,json:{read:!1,write:!0}})],V.prototype,"type",void 0),V=F=(0,J._)([(0,He.j)("esri.form.elements.FieldElement")],V);var ie,W=V,X=N(51686);let Y=ie=class extends et{constructor(Ut){super(Ut),this.displayCount=null,this.displayType="list",this.editable=!0,this.orderByFields=null,this.relationshipId=null,this.type="relationship"}clone(){return new ie({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editable:this.editable,label:this.label,orderByFields:(0,Se.d9)(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};(0,J._)([(0,ve.Cb)({type:Number,json:{write:!0}})],Y.prototype,"displayCount",void 0),(0,J._)([(0,ve.Cb)({type:["list"],json:{write:!0}})],Y.prototype,"displayType",void 0),(0,J._)([(0,ve.Cb)({type:Boolean,json:{write:!0}})],Y.prototype,"editable",void 0),(0,J._)([(0,ve.Cb)({type:[X.Z],json:{write:!0}})],Y.prototype,"orderByFields",void 0),(0,J._)([(0,ve.Cb)({type:Number,json:{write:!0}})],Y.prototype,"relationshipId",void 0),(0,J._)([(0,ve.Cb)({type:["relationship"],json:{read:!1,write:!0}})],Y.prototype,"type",void 0),Y=ie=(0,J._)([(0,He.j)("esri.form.elements.RelationshipElement")],Y);var Mt,te=Y;function ne(Ut){return{typesWithGroup:{base:et,key:"type",typeMap:{attachment:dt,field:W,group:Ut,relationship:te}},typesWithoutGroup:{base:et,key:"type",typeMap:{attachment:dt,field:W,relationship:te}}}}function we(Ut,ii,Fi=!0){if(!Ut)return null;const dn=Fi?ii.typesWithGroup.typeMap:ii.typesWithoutGroup.typeMap;return Ut.filter(jn=>dn[jn.type]).map(jn=>dn[jn.type].fromJSON(jn))}function ze(Ut,ii,Fi=!0){if(!Ut)return null;const dn=Fi?ii.typesWithGroup.typeMap:ii.typesWithoutGroup.typeMap;return Ut.filter(jn=>dn[jn.type]).map(jn=>jn.toJSON())}function _t(Ut,ii,Fi=!0){return Ut?Ut.map(dn=>(0,$e.N7)(Fi?ii.typesWithGroup:ii.typesWithoutGroup,dn)):null}let pe=Mt=class extends et{constructor(Ut){super(Ut),this.elements=null,this.initialState="expanded",this.type="group"}castElements(Ut){return _t(Ut,Ge,!1)}readElements(Ut,ii){return we(ii.formElements,Ge,!1)}writeElements(Ut,ii){ii.formElements=ze(Ut,Ge,!1)}clone(){return new Mt({description:this.description,elements:(0,Se.d9)(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};(0,J._)([(0,ve.Cb)({json:{write:!0}})],pe.prototype,"elements",void 0),(0,J._)([(0,Oe.p)("elements")],pe.prototype,"castElements",null),(0,J._)([(0,qe.r)("elements",["formElements"])],pe.prototype,"readElements",null),(0,J._)([(0,Qe.c)("elements")],pe.prototype,"writeElements",null),(0,J._)([(0,ve.Cb)({type:["collapsed","expanded"],json:{write:!0}})],pe.prototype,"initialState",void 0),(0,J._)([(0,ve.Cb)({type:String,json:{read:!1,write:!0}})],pe.prototype,"type",void 0),pe=Mt=(0,J._)([(0,He.j)("esri.form.elements.GroupElement")],pe);const Ge=ne(pe);var ht;const mt=ne(pe);let yt=ht=class extends Ne.wq{constructor(Ut){super(Ut),this.description=null,this.elements=null,this.expressionInfos=null,this.title=null}castElements(Ut){return _t(Ut,mt)}readElements(Ut,ii){return we(ii.formElements,mt)}writeElements(Ut,ii){ii.formElements=ze(Ut,mt)}clone(){return new ht({description:this.description,expressionInfos:(0,Se.d9)(this.expressionInfos),elements:(0,Se.d9)(this.elements),title:this.title})}};(0,J._)([(0,ve.Cb)({type:String,json:{write:!0}})],yt.prototype,"description",void 0),(0,J._)([(0,ve.Cb)({json:{write:!0}})],yt.prototype,"elements",void 0),(0,J._)([(0,Oe.p)("elements")],yt.prototype,"castElements",null),(0,J._)([(0,qe.r)("elements",["formElements"])],yt.prototype,"readElements",null),(0,J._)([(0,Qe.c)("elements")],yt.prototype,"writeElements",null),(0,J._)([(0,ve.Cb)({type:[xt],json:{write:!0}})],yt.prototype,"expressionInfos",void 0),(0,J._)([(0,ve.Cb)({type:String,json:{write:!0}})],yt.prototype,"title",void 0),yt=ht=(0,J._)([(0,He.j)("esri.form.FormTemplate")],yt);var Ot=yt,St=N(2004),Tt=N(79334),_i=N(65234),mi=N(63602),Ft=(N(29132),N(88879)),ti=N(47996),ui=N(60330),vi=N(59289),Oi=N(61515),Vi=N(92839),Zi=N(17253),nn=N(37118),Tn=N(71774);let bn=0;const Li=Ee.Z.getLogger("esri.layers.graphics.sources.MemorySource");let si=class extends(ti.Z.LoadableMixin((0,ui.v)(me.Z))){constructor(Ut){super(Ut),this._idToClientGraphic=null,this.type="memory"}load(Ut){const ii=(0,ge.pC)(Ut)?Ut.signal:null;return this.addResolvingPromise(this._startWorker(ii)),Promise.resolve(this)}destroy(){var Ut;null==(Ut=this._connection)||Ut.close(),this._connection=null}get workerGeometryType(){var Ut;const ii=null==(Ut=this.layer)?void 0:Ut.geometryType;return ii?this._geometryTypeRequiresClientGraphicMapping(ii)?"polygon":ii:null}applyEdits(Ut){return this.load().then(()=>this._applyEdits(Ut))}openPorts(){return this.load().then(()=>this._connection.openPorts())}queryFeatures(Ut,ii={}){var Fi=this;return(0,z.Z)(function*(){yield Fi.load(ii);const dn=yield Fi._connection.invoke("queryFeatures",Ut?Ut.toJSON():null,ii);(0,Oi.p)(Ut,Fi.layer.spatialReference,dn);const jn=Zi.default.fromJSON(dn);if(!Fi._requiresClientGraphicMapping())return jn;const Qn=Fi.layer.objectIdField;for(const Cr of jn.features){const lr=Fi._idToClientGraphic.get(Cr.attributes[Qn]);lr&&(Cr.geometry=lr.geometry)}return jn.geometryType=Fi.layer.geometryType,jn})()}queryFeaturesJSON(Ut,ii={}){var Fi=this;return(0,z.Z)(function*(){if(Fi._requiresClientGraphicMapping())throw new le.Z("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");yield Fi.load(ii);const dn=yield Fi._connection.invoke("queryFeatures",Ut?Ut.toJSON():null,ii);return(0,Oi.p)(Ut,Fi.layer.spatialReference,dn),dn})()}queryFeatureCount(Ut,ii={}){return this.load(ii).then(()=>this._connection.invoke("queryFeatureCount",Ut?Ut.toJSON():null,ii))}queryObjectIds(Ut,ii={}){return this.load(ii).then(()=>this._connection.invoke("queryObjectIds",Ut?Ut.toJSON():null,ii))}queryExtent(Ut,ii={}){return this.load(ii).then(()=>this._connection.invoke("queryExtent",Ut?Ut.toJSON():null,ii)).then(Fi=>({count:Fi.count,extent:St.Z.fromJSON(Fi.extent)}))}querySnapping(Ut,ii={}){return this.load(ii).then(()=>this._connection.invoke("querySnapping",Ut,ii))}_applyEdits(Ut){var ii=this;return(0,z.Z)(function*(){if(!ii._connection)throw new le.Z("feature-layer-source:edit-failure","Memory source not loaded");const Fi=ii.layer.objectIdField;let dn=null;const jn=[],Qn=[];yield Promise.all([ii._prepareClientMapping(Ut.addFeatures,null),ii._prepareClientMapping(Ut.updateFeatures,null)]);const Cr=ps=>"objectId"in ps&&null!=ps.objectId?ps.objectId:"attributes"in ps&&null!=ps.attributes[Fi]?ps.attributes[Fi]:null;if(Ut.addFeatures&&(dn=ii._prepareAddFeatures(Ut.addFeatures)),Ut.deleteFeatures)for(const ps of Ut.deleteFeatures){const so=Cr(ps);null!=so&&jn.push(so)}const $r=Ut.updateFeatures&&ii._idToClientGraphic?new Map:null;if(Ut.updateFeatures)for(const ps of Ut.updateFeatures)if(Qn.push(ii._serializeFeature(ps)),$r){const so=Cr(ps);null!=so&&$r.set(so,ps)}(0,Vi.P)(dn?dn.features:null,Qn,ii.layer.spatialReference);const{fullExtent:lr,featureEditResults:_s}=yield ii._connection.invoke("applyEdits",{adds:dn?dn.features:[],updates:Qn,deletes:jn});return ii.fullExtent=lr,dn&&dn.finish(_s.uidToObjectId),ii._updateClientGraphicIds($r,_s),ii._createEditsResult(_s)})()}_prepareClientMapping(Ut,ii){var Fi=this;return(0,z.Z)(function*(){if("mesh"!==Fi.layerOrSourceGeometryType||(0,ge.Wi)(Ut))return;const dn=[];for(const{geometry:jn}of Ut)!(0,ge.pC)(jn)||"mesh"!==jn.type||jn.hasExtent||jn.loaded||dn.push(jn.load({signal:ii}));dn.length&&(yield Promise.all(dn))})()}_updateClientGraphicIds(Ut,ii){if(this._idToClientGraphic){if(Ut)for(const Fi of ii.updateResults){if(!Fi.success)continue;const dn=Ut.get(Fi.objectId);null!=dn&&this._addIdToClientGraphic(dn)}for(const Fi of ii.deleteResults)Fi.success&&this._idToClientGraphic.delete(Fi.objectId)}}_createEditsResult(Ut){return{addFeatureResults:Ut.addResults?Ut.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:Ut.updateResults?Ut.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:Ut.deleteResults?Ut.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(Ut){const ii=!0===Ut.success?null:Ut.error||{code:void 0,description:void 0};return{objectId:Ut.objectId,globalId:Ut.globalId,error:ii?new le.Z("feature-layer-source:edit-failure",ii.description,{code:ii.code}):null}}_prepareAddFeatures(Ut){const ii=new Map,Fi=new Array(Ut.length);let dn=null;for(let Qn=0;Qn<Ut.length;Qn++){const Cr=Ut[Qn],$r=this._serializeFeature(Cr);!dn&&(0,ge.pC)(Cr.geometry)&&(dn=Cr.geometry.type),Fi[Qn]=$r,ii.set(`${$r.uid}`,Cr)}const jn=this;return{features:Fi,inferredGeometryType:dn,finish(Qn){const Cr=jn.sourceJSON.objectIdField;for(const $r in Qn){const lr=Qn[$r],_s=ii.get($r);_s&&(_s.attributes||(_s.attributes={}),-1===lr?delete _s.attributes[Cr]:_s.attributes[Cr]=lr,jn._addIdToClientGraphic(_s))}}}}_addIdToClientGraphic(Ut){if(!this._idToClientGraphic)return;const Fi=Ut.attributes&&Ut.attributes[this.sourceJSON.objectIdField];null!=Fi&&this._idToClientGraphic.set(Fi,Ut)}get layerOrSourceGeometryType(){var Ut,ii,Fi;return null!=(Ut=null==(ii=this.layer)?void 0:ii.geometryType)?Ut:null==(Fi=this.sourceJSON)?void 0:Fi.geometryType}_requiresClientGraphicMapping(){return this._geometryTypeRequiresClientGraphicMapping(this.layerOrSourceGeometryType)}_geometryRequiresClientGraphicMapping(Ut){return this._geometryTypeRequiresClientGraphicMapping(Ut.type)}_geometryTypeRequiresClientGraphicMapping(Ut){return"mesh"===Ut||"multipatch"===Ut||"extent"===Ut}_serializeFeature(Ut){const{attributes:ii}=Ut,Fi=this._geometryForSerialization(Ut),dn=(bn++).toString();return Fi?{uid:dn,geometry:Fi.toJSON(),attributes:ii}:{uid:dn,attributes:ii}}_geometryForSerialization(Ut){const{geometry:ii}=Ut;return(0,ge.Wi)(ii)?null:this._geometryRequiresClientGraphicMapping(ii)?ii.extent?nn.Z.fromExtent(ii.extent):null:ii}_startWorker(Ut){var ii=this;return(0,z.Z)(function*(){ii._connection=yield(0,vi.bA)("MemorySourceWorker",{strategy:(0,se.Z)("feature-layers-workers")?"dedicated":"local",signal:Ut});const{fields:Fi,spatialReference:dn,objectIdField:jn,hasM:Qn,hasZ:Cr,timeInfo:$r}=ii.layer,lr="defaults"===ii.layer.originOf("spatialReference");yield ii._prepareClientMapping(ii.items,Ut);const _s=ii._prepareAddFeatures(ii.items);ii.on("before-changes",Ts=>{Li.error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead"),Ts.preventDefault()});const ps={features:_s.features,fields:Fi&&Fi.map(Ts=>Ts.toJSON()),geometryType:Tn.P$.toJSON(ii.workerGeometryType),hasM:"mesh"!==ii.layerOrSourceGeometryType&&Qn,hasZ:"mesh"===ii.layerOrSourceGeometryType||Cr,objectIdField:jn,spatialReference:lr?null:dn&&dn.toJSON(),timeInfo:$r?$r.toJSON():null},so=yield ii._connection.invoke("load",ps,{signal:Ut});for(const Ts of so.warnings)Li.warn(Ts.message,{layer:ii.layer,warning:Ts});so.featureErrors.length&&Li.warn(`Encountered ${so.featureErrors.length} validation errors while loading features`,so.featureErrors);const ur=so.layerDefinition;ii._geometryTypeRequiresClientGraphicMapping(_s.inferredGeometryType)&&(ur.geometryType=Tn.P$.toJSON(_s.inferredGeometryType)),ii.sourceJSON=ur,ii._requiresClientGraphicMapping()&&(ii._idToClientGraphic=new Map),_s.finish(so.assignedObjectIds)})()}};var Ut;(0,J._)([(Ut={Type:Ft.Z,ensureType:(0,$e.se)(Ft.Z)},(ii,Fi)=>{ii[Fi]=Ut})],si.prototype,"itemType",void 0),(0,J._)([(0,ve.Cb)()],si.prototype,"type",void 0),(0,J._)([(0,ve.Cb)({constructOnly:!0})],si.prototype,"layer",void 0),(0,J._)([(0,ve.Cb)({readOnly:!0})],si.prototype,"workerGeometryType",null),(0,J._)([(0,ve.Cb)()],si.prototype,"sourceJSON",void 0),si=(0,J._)([(0,He.j)("esri.layers.graphics.sources.MemorySource")],si);var Ai,$i=si,Ye=N(50085),Ht=N(65088),$t=N(30759),ci=N(50107),Ii=N(49286),Jt=N(32629),Ct=N(6647),Gt=N(30346),gi=N(99555),kt=N(97941),oi=N(38305),ei=N(13812);let Si=Ai=class extends Ne.wq{constructor(Ut){super(Ut)}clone(){const{name:Ut,fields:ii,isAscending:Fi,isUnique:dn,description:jn}=this;return new Ai({name:Ut,fields:ii,isAscending:Fi,isUnique:dn,description:jn})}};(0,J._)([(0,ve.Cb)({constructOnly:!0})],Si.prototype,"name",void 0),(0,J._)([(0,ve.Cb)({constructOnly:!0})],Si.prototype,"fields",void 0),(0,J._)([(0,ve.Cb)({constructOnly:!0})],Si.prototype,"isAscending",void 0),(0,J._)([(0,ve.Cb)({constructOnly:!0})],Si.prototype,"isUnique",void 0),(0,J._)([(0,ve.Cb)({constructOnly:!0})],Si.prototype,"description",void 0),Si=Ai=(0,J._)([(0,He.j)("esri.layers.support.FeatureIndex")],Si);var en=N(2777),un=N(32777),On=N(41638),Gn=N(55911),ln=N(36630),$n=N(16730);let In=class extends Ne.wq{constructor(Ut){super(Ut),this.shapeAreaField=null,this.shapeLengthField=null,this.units=null}};(0,J._)([(0,ve.Cb)({type:String,json:{read:{source:"shapeAreaFieldName"}}})],In.prototype,"shapeAreaField",void 0),(0,J._)([(0,ve.Cb)({type:String,json:{read:{source:"shapeLengthFieldName"}}})],In.prototype,"shapeLengthField",void 0),(0,J._)([(0,ve.Cb)({type:String,json:{read:Ut=>$n.gV.read(Ut)||$n.Jo.read(Ut)}})],In.prototype,"units",void 0),In=(0,J._)([(0,He.j)("esri.layers.support.GeometryFieldsInfo")],In);var rr=In,wi=N(170),Hi=N(62667),xi=N(2430);const Ni=new fe.Xn({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),Ji=new fe.Xn({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});let mn=class extends Ne.wq{constructor(Ut){super(Ut),this.cardinality=null,this.composite=null,this.id=null,this.keyField=null,this.keyFieldInRelationshipTable=null,this.name=null,this.relatedTableId=null,this.relationshipTableId=null,this.role=null}};(0,J._)([(0,ve.Cb)({json:{read:Ni.read,write:Ni.write}})],mn.prototype,"cardinality",void 0),(0,J._)([(0,ve.Cb)({json:{read:!0,write:!0}})],mn.prototype,"composite",void 0),(0,J._)([(0,ve.Cb)({json:{read:!0,write:!0}})],mn.prototype,"id",void 0),(0,J._)([(0,ve.Cb)({json:{read:!0,write:!0}})],mn.prototype,"keyField",void 0),(0,J._)([(0,ve.Cb)({json:{read:!0,write:!0}})],mn.prototype,"keyFieldInRelationshipTable",void 0),(0,J._)([(0,ve.Cb)({json:{read:!0,write:!0}})],mn.prototype,"name",void 0),(0,J._)([(0,ve.Cb)({json:{read:!0,write:!0}})],mn.prototype,"relatedTableId",void 0),(0,J._)([(0,ve.Cb)({json:{read:!0,write:!0}})],mn.prototype,"relationshipTableId",void 0),(0,J._)([(0,ve.Cb)({json:{read:Ji.read,write:Ji.write}})],mn.prototype,"role",void 0),mn=(0,J._)([(0,He.j)("esri.layers.support.Relationship")],mn);var Xn=mn,Zt=N(62708),di=N(15283),ai=N(39683),Bi=N(67736),hn=N(84952),cn=N(67010),Sn=N(6871),En=N(49430);const bi=new fe.Xn({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"}),Qi={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"},ki="FeatureLayer",xn=Ee.Z.getLogger("esri.layers.FeatureLayer");function cr(Ut){return Ut&&Ut instanceof me.Z}function Dn(Ut,ii,Fi){return!!(Ut&&Ut.hasOwnProperty(ii)?Ut[ii]:Fi)}function gr(Ut,ii,Fi){return Ut&&Ut.hasOwnProperty(ii)?Ut[ii]:Fi}const pr=(0,Gn.v)();function Dr(Ut,ii,Fi){const dn=!(null==Fi||!Fi.writeLayerSchema);return{enabled:dn,ignoreOrigin:dn}}let zn=class extends((0,$t.h)((0,Jt.c)((0,kt.n)((0,gi.M)((0,Gt.Q)((0,Ht.Y)((0,Ii.q)((0,Ct.I)((0,Ue.R)((0,ci.N)((0,Ye.V)(mi.Z)))))))))))){constructor(...Ut){super(...Ut),this._handles=new oe.Z,this.capabilities=null,this.charts=null,this.copyright=null,this.datesInUnknownTimezone=!1,this.displayField=null,this.definitionExpression=null,this.dynamicDataSource=null,this.editFieldsInfo=null,this.editingInfo=null,this.elevationInfo=null,this.featureReduction=null,this.fields=null,this.fieldsIndex=null,this.floorInfo=null,this.formTemplate=null,this.fullExtent=null,this.gdbVersion=null,this.geometryFieldsInfo=null,this.geometryType=null,this.hasM=void 0,this.hasZ=void 0,this.heightModelInfo=null,this.historicMoment=null,this.infoFor3D=null,this.isTable=!1,this.labelsVisible=!0,this.labelingInfo=null,this.layerId=void 0,this.legendEnabled=!0,this.minScale=0,this.maxScale=0,this.globalIdField=null,this.objectIdField=null,this.outFields=null,this.path=null,this.popupEnabled=!0,this.popupTemplate=null,this.relationships=null,this.sourceJSON=null,this.returnM=void 0,this.returnZ=void 0,this.screenSizePerspectiveEnabled=!0,this.serviceDefinitionExpression=null,this.spatialReference=_i.Z.WGS84,this.subtypeCode=null,this.templates=null,this.timeInfo=null,this.title=null,this.sublayerTitleMode="item-title",this.trackIdField=null,this.type="feature",this.typeIdField=null,this.types=null,this.indexes=new(me.Z.ofType(Si)),this.userIsAdmin=!1,this.version=void 0,this.visible=!0}destroy(){var Ut;null==(Ut=this.source)||Ut.destroy(),this._handles=(0,ge.SC)(this._handles)}normalizeCtorArgs(Ut,ii){return"string"==typeof Ut?ji({url:Ut},ii):Ut}load(Ut){var ii=this;const Fi=(0,ge.pC)(Ut)?Ut.signal:null;if(this.portalItem&&this.portalItem.loaded&&this.source)return void this.addResolvingPromise(this.createGraphicsSource(Fi).then(jn=>this._initLayerProperties(jn)));const dn=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection"]},Ut).catch(Ve.r9).then((0,z.Z)(function*(){if(ii.url&&null==ii.layerId&&/FeatureServer|MapServer\/*$/i.test(ii.url)){const jn=yield ii._fetchFirstLayerId(Fi);null!=jn&&(ii.layerId=jn)}if(!ii.url&&!ii._hasMemorySource())throw new le.Z("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return ii._initLayerProperties(yield ii.createGraphicsSource(Fi))})).then(()=>this.finishLoadEditablePortalLayer(Ut));return this.addResolvingPromise(dn),Promise.resolve(this)}readCapabilities(Ut,ii){return{attachment:this._readAttachmentCapabilities((ii=ii.layerDefinition||ii).attachmentProperties),data:this._readDataCapabilities(ii),metadata:this._readMetadataCapabilities(ii),operations:this._readOperationsCapabilities(ii.capabilities||Ut,ii),query:this._readQueryCapabilities(ii),queryRelated:this._readQueryRelatedCapabilities(ii),editing:this._readEditingCapabilities(ii)}}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("dynamicDataSource"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("gdbVersion"),this.commitProperty("historicMoment"),this.commitProperty("returnZ"),this.commitProperty("capabilities"),this.commitProperty("returnM"),(this._get("createQueryVersion")||0)+1}get editingEnabled(){return!(this.loaded&&!this.capabilities.operations.supportsEditing)&&(this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges)}set editingEnabled(Ut){null!=Ut?this._override("editingEnabled",Ut):this._clearOverride("editingEnabled")}readEditingEnabled(Ut,ii){return this._readEditingEnabled(ii,!1)}readEditingEnabledFromWebMap(Ut,ii,Fi){return this._readEditingEnabled(ii,!0,Fi)}writeEditingEnabled(Ut,ii){this._writeEditingEnabled(Ut,ii,!1)}writeEditingEnabledToWebMap(Ut,ii,Fi,dn){this._writeEditingEnabled(Ut,ii,!0,dn)}readEditingInfo(Ut,ii){const{editingInfo:Fi}=ii;return Fi?{lastEditDate:null!=Fi.lastEditDate?new Date(Fi.lastEditDate):null}:null}readFeatureReduction(Ut,ii){return(0,en.ij)(Ut,ii)}writeWebSceneFeatureReduction(Ut,ii,Fi,dn){(0,en.Q6)(Ut,ii,"layerDefinition.featureReduction",dn)}readIsTable(Ut,ii){return"Table"===(ii=ii&&ii.layerDefinition||ii).type||!ii.geometryType}writeIsTable(Ut,ii,Fi,dn){null!=dn&&dn.writeLayerSchema&&(0,Fe.RB)(Fi,Ut?"Table":"Feature Layer",ii)}readMinScale(Ut,ii){return ii.effectiveMinScale||Ut||0}readMaxScale(Ut,ii){return ii.effectiveMaxScale||Ut||0}readGlobalIdFieldFromService(Ut,ii){if((ii=ii.layerDefinition||ii).globalIdField)return ii.globalIdField;if(ii.fields)for(const Fi of ii.fields)if("esriFieldTypeGlobalID"===Fi.type)return Fi.name}readObjectIdFieldFromService(Ut,ii){if((ii=ii.layerDefinition||ii).objectIdField)return ii.objectIdField;if(ii.fields)for(const Fi of ii.fields)if("esriFieldTypeOID"===Fi.type)return Fi.name}get parsedUrl(){const Ut=this.url?(0,je.mN)(this.url):null;return null!=Ut&&(null!=this.dynamicDataSource?Ut.path=(0,je.v_)(Ut.path,"dynamicLayer"):null!=this.layerId&&(Ut.path=(0,je.v_)(Ut.path,this.layerId.toString()))),Ut}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(Ut){(0,ln.YN)(Ut,this.fieldsIndex),this._set("renderer",Ut)}readRenderer(Ut,ii,Fi){const dn=(ii=ii.layerDefinition||ii).drawingInfo&&ii.drawingInfo.renderer||void 0;if(dn){const jn=(0,be.ij)(dn,ii,Fi)||void 0;return jn||xn.error("Failed to create renderer",{rendererDefinition:ii.drawingInfo.renderer,layer:this,context:Fi}),jn}if(ii.defaultSymbol)return ii.types&&ii.types.length?new ce.Z({defaultSymbol:ro(ii.defaultSymbol,ii,Fi),field:ii.typeIdField,uniqueValueInfos:ii.types.map(jn=>({id:jn.id,symbol:ro(jn.symbol,jn,Fi)}))}):new re.Z({symbol:ro(ii.defaultSymbol,ii,Fi)})}set source(Ut){const ii=this._get("source");ii!==Ut&&(cr(ii)&&this._resetMemorySource(ii),cr(Ut)&&this._initMemorySource(Ut),this._set("source",Ut))}castSource(Ut){return Ut?Array.isArray(Ut)||Ut instanceof me.Z?new $i({layer:this,items:Ut}):Ut:null}readSource(Ut,ii){const Fi=Zi.default.fromJSON(ii.featureSet);return new $i({layer:this,items:Fi&&Fi.features||[]})}readServiceDefinitionExpression(Ut,ii){return ii.definitionQuery||ii.definitionExpression}readTemplates(Ut,ii){const Fi=ii.editFieldsInfo,dn=Fi&&Fi.creatorField,jn=Fi&&Fi.editorField;return Ut=Ut&&Ut.map(Qn=>un.Z.fromJSON(Qn)),this._fixTemplates(Ut,dn),this._fixTemplates(Ut,jn),Ut}readTitle(Ut,ii){const Fi=ii.layerDefinition&&ii.layerDefinition.name||ii.name,dn=ii.title||ii.layerDefinition&&ii.layerDefinition.title;if(Fi){const jn=this.portalItem&&this.portalItem.title;if("item-title"===this.sublayerTitleMode)return this.url?(0,oi.a7)(this.url,Fi):Fi;let Qn=Fi;if(!Qn&&this.url){const Cr=(0,oi.Qc)(this.url);(0,ge.pC)(Cr)&&(Qn=Cr.title)}return Qn?("item-title-and-service-name"===this.sublayerTitleMode&&jn&&jn!==Qn&&(Qn=jn+" - "+Qn),(0,oi.ld)(Qn)):void 0}if("item-title"===this.sublayerTitleMode&&dn)return dn}readTitleFromWebMap(Ut,ii){return ii.title||ii.layerDefinition&&ii.layerDefinition.name}readTypeIdField(Ut,ii){let Fi=(ii=ii.layerDefinition||ii).typeIdField;if(Fi&&ii.fields){Fi=Fi.toLowerCase();const dn=ii.fields.find(jn=>jn.name.toLowerCase()===Fi);dn&&(Fi=dn.name)}return Fi}readTypes(Ut,ii){Ut=(ii=ii.layerDefinition||ii).types;const Fi=ii.editFieldsInfo,dn=Fi&&Fi.creatorField,jn=Fi&&Fi.editorField;return Ut&&Ut.map(Qn=>(Qn=On.Z.fromJSON(Qn),this._fixTemplates(Qn.templates,dn),this._fixTemplates(Qn.templates,jn),Qn))}set url(Ut){const ii=(0,oi.XG)({layer:this,url:Ut,nonStandardUrlAllowed:!0,logger:xn});this._set("url",ii.url),null!=ii.layerId&&this._set("layerId",ii.layerId)}writeUrl(Ut,ii,Fi,dn){(0,oi.wH)(this,Ut,null,ii,dn)}readVersion(Ut,ii){return ii.currentVersion?ii.currentVersion:ii.hasOwnProperty("capabilities")||ii.hasOwnProperty("drawingInfo")||ii.hasOwnProperty("hasAttachments")||ii.hasOwnProperty("htmlPopupType")||ii.hasOwnProperty("relationships")||ii.hasOwnProperty("timeInfo")||ii.hasOwnProperty("typeIdField")||ii.hasOwnProperty("types")?10:9.3}readVisible(Ut,ii){return ii.layerDefinition&&null!=ii.layerDefinition.defaultVisibility?!!ii.layerDefinition.defaultVisibility:null!=ii.visibility?!!ii.visibility:void 0}addAttachment(Ut,ii){return this.load().then(()=>this._checkAttachmentSupport(Ut)).then(()=>{if(!("addAttachment"in this.source))throw new le.Z(ki,"Layer source does not support addAttachment capability");return this.source.addAttachment(Ut,ii)})}updateAttachment(Ut,ii,Fi){return this.load().then(()=>this._checkAttachmentSupport(Ut)).then(()=>{if(!("updateAttachment"in this.source))throw new le.Z(ki,"Layer source does not support updateAttachment capability");return this.source.updateAttachment(Ut,ii,Fi)})}applyEdits(Ut,ii){var Fi=this;return(0,z.Z)(function*(){const dn=yield N.e(1913).then(N.bind(N,81913));return yield Fi.load(),dn.applyEdits(Fi,Fi.source,Ut,ii)})()}on(Ut,ii){return super.on(Ut,ii)}createPopupTemplate(Ut){return(0,En.eZ)(this,Ut)}createGraphicsSource(Ut){var ii=this;return(0,z.Z)(function*(){if(ii._hasMemorySource())return ii.source.load({signal:Ut});const{default:Fi}=yield(0,Ve.Hl)(N.e(5547).then(N.bind(N,45547)),Ut);return new Fi({layer:ii}).load({signal:Ut})})()}createQuery(){const Ut=new hn.Z,ii=this.get("capabilities.data");Ut.dynamicDataSource=this.dynamicDataSource,Ut.gdbVersion=this.gdbVersion,Ut.historicMoment=this.historicMoment,Ut.returnGeometry=!0,ii&&(ii.supportsZ&&null!=this.returnZ&&(Ut.returnZ=this.returnZ),ii.supportsM&&null!=this.returnM&&(Ut.returnM=this.returnM)),Ut.outFields=["*"],Ut.where=this.definitionExpression||"1=1";const{timeOffset:Fi,timeExtent:dn}=this;return Ut.timeExtent=null!=Fi&&null!=dn?dn.offset(-Fi.value,Fi.unit):dn||null,Ut.multipatchOption="multipatch"===this.geometryType?"xyFootprint":null,Ut}deleteAttachments(Ut,ii){return this.load().then(()=>this._checkAttachmentSupport(Ut)).then(()=>{if(!("deleteAttachments"in this.source))throw new le.Z(ki,"Layer source does not support deleteAttachments capability");return this.source.deleteAttachments(Ut,ii)})}fetchRecomputedExtents(Ut){return this.load({signal:null==Ut?void 0:Ut.signal}).then(()=>{if(this.source.fetchRecomputedExtents)return this.source.fetchRecomputedExtents(Ut);throw new le.Z(ki,"Layer source does not support fetchUpdates capability")})}getFeatureType(Ut){const{typeIdField:ii,types:Fi}=this;if(!ii||!Ut)return null;const dn=Ut.attributes?Ut.attributes[ii]:void 0;if(null==dn)return null;let jn=null;return Fi.some(Qn=>{const{id:Cr}=Qn;return null!=Cr&&(Cr.toString()===dn.toString()&&(jn=Qn),!!jn)}),jn}getFieldDomain(Ut,ii){const dn=this.getFeatureType(ii&&ii.feature);if(dn){const jn=dn.domains&&dn.domains[Ut];if(jn&&"inherited"!==jn.type)return jn}return this._getLayerDomain(Ut)}getField(Ut){return this.fieldsIndex.get(Ut)}queryAttachments(Ut,ii){return Ut=Bi.Z.from(Ut),this.load().then(()=>{if(!this.get("capabilities.data.supportsAttachment"))throw new le.Z(ki,"this layer doesn't support attachments");const{attachmentTypes:Fi,objectIds:dn,globalIds:jn,num:Qn,size:Cr,start:$r,where:lr}=Ut;if(!this.get("capabilities.operations.supportsQueryAttachments")){const ps=Fi&&Fi.length,so=jn&&jn.length,ur=Cr&&Cr.length;if(dn&&dn.length>1||ps||so||ur||Qn||$r||lr)throw new le.Z(ki,"when 'supportsQueryAttachments' is false, only objectIds of length 1 are supported",Ut)}if(!(dn&&dn.length||lr))throw new le.Z(ki,"'objectIds' or 'where' are required to perform attachment query",Ut);if(!("queryAttachments"in this.source))throw new le.Z(ki,"Layer source does not support queryAttachments capability",Ut);return this.source.queryAttachments(Ut)})}queryFeatures(Ut,ii){return this.load().then(()=>this.source.queryFeatures(hn.Z.from(Ut)||this.createQuery(),ii)).then(Fi=>{if(null!=Fi&&Fi.features)for(const dn of Fi.features)dn.layer=dn.sourceLayer=this;return Fi})}queryObjectIds(Ut,ii){return this.load().then(()=>{if(this.source.queryObjectIds)return this.source.queryObjectIds(hn.Z.from(Ut)||this.createQuery(),ii);throw new le.Z(ki,"Layer source does not support queryObjectIds capability")})}queryFeatureCount(Ut,ii){return this.load().then(()=>{if(this.source.queryFeatureCount)return this.source.queryFeatureCount(hn.Z.from(Ut)||this.createQuery(),ii);throw new le.Z(ki,"Layer source does not support queryFeatureCount capability")})}queryExtent(Ut,ii){return this.load().then(()=>{if(this.source.queryExtent)return this.source.queryExtent(hn.Z.from(Ut)||this.createQuery(),ii);throw new le.Z(ki,"Layer source does not support queryExtent capability")})}queryRelatedFeatures(Ut,ii){return this.load().then(()=>{if("queryRelatedFeatures"in this.source)return this.source.queryRelatedFeatures(cn.Z.from(Ut),ii);throw new le.Z(ki,"Layer source does not support queryRelatedFeatures capability")})}queryRelatedFeaturesCount(Ut,ii){return this.load().then(()=>{if("queryRelatedFeaturesCount"in this.source)return this.source.queryRelatedFeaturesCount(cn.Z.from(Ut),ii);throw new le.Z(ki,"Layer source does not support queryRelatedFeaturesCount capability")})}queryTopFeatures(Ut,ii){return this.load().then(()=>{if("queryTopFeatures"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopFeatures(Sn.Z.from(Ut),ii).then(Fi=>{if(null!=Fi&&Fi.features)for(const dn of Fi.features)dn.layer=dn.sourceLayer=this;return Fi});throw new le.Z(ki,"Layer source does not support queryTopFeatures capability")})}queryTopObjectIds(Ut,ii){return this.load().then(()=>{if("queryTopObjectIds"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopObjectIds(Sn.Z.from(Ut),ii);throw new le.Z(ki,"Layer source does not support queryTopObjectIds capability")})}queryTopFeaturesExtent(Ut,ii){return this.load().then(()=>{if("queryTopExtents"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopExtents(Sn.Z.from(Ut),ii);throw new le.Z(ki,"Layer source does not support queryTopExtents capability")})}queryTopFeatureCount(Ut,ii){return this.load().then(()=>{if("queryTopCount"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopCount(Sn.Z.from(Ut),ii);throw new le.Z(ki,"Layer source does not support queryFeatureCount capability")})}read(Ut,ii){const Fi=Ut.featureCollection;if(Fi){const dn=Fi.layers;dn&&1===dn.length&&(super.read(dn[0],ii),null!=Fi.showLegend&&super.read({showLegend:Fi.showLegend},ii))}super.read(Ut,ii),ii&&"service"===ii.origin&&this.revert(["objectIdField","fields","timeInfo","spatialReference"],"service")}write(Ut,ii){var Fi,dn;const jn=(ii=fr(ji({},ii),{writeLayerSchema:null!=(Fi=null==(dn=ii)?void 0:dn.writeLayerSchema)?Fi:this._hasMemorySource()})).origin,Qn=ii.layerContainerType,Cr=ii.messages;if(this.isTable){if("web-scene"===jn||"web-map"===jn&&"tables"!==Qn)return Cr&&Cr.push(new le.Z("layer:unsupported",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Table source cannot be written to web scenes and web maps`,{layer:this})),null;if(this._hasMemorySource())return Cr&&Cr.push(new le.Z("layer:unsupported",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using an in-memory Table source cannot be written to web scenes and web maps`,{layer:this})),null}else if(this.loaded&&"web-map"===jn&&"tables"===Qn)return Cr&&Cr.push(new le.Z("layer:unsupported",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a non-table source cannot be written to tables in web maps`,{layer:this})),null;return super.write(Ut,ii)}_readEditingEnabled(Ut,ii,Fi){var dn;let jn=null==(dn=Ut.layerDefinition)?void 0:dn.capabilities;return jn?this._hasEditingCapability(jn):(jn=Ut.capabilities,ii&&"web-map"===(null==Fi?void 0:Fi.origin)&&!this._hasMemorySource()&&jn?this._hasEditingCapability(jn):void 0)}_hasEditingCapability(Ut){return Ut.toLowerCase().split(",").map(ii=>ii.trim()).includes("editing")}_writeEditingEnabled(Ut,ii,Fi,dn){if(!Ut){var jn,Qn;const Cr=null!=(jn=this.capabilities)&&null!=(Qn=jn.operations)&&Qn.supportsSync?"Query,Sync":"Query";(0,Fe.RB)("layerDefinition.capabilities",Cr,ii),!Fi||null!=dn&&dn.writeLayerSchema||(ii.capabilities=Cr)}}_checkAttachmentSupport(Ut){const{attributes:ii}=Ut,{objectIdField:Fi}=this;return this.get("capabilities.data.supportsAttachment")?Ut?ii?ii[Fi]?void 0:Promise.reject(new le.Z(ki,`feature is missing the identifying attribute ${Fi}`)):Promise.reject(new le.Z(ki,"'attributes' are required on a feature to query attachments")):Promise.reject(new le.Z(ki,"A feature is required to add/delete/update attachments")):Promise.reject(new le.Z(ki,"this layer doesn't support attachments"))}_getLayerDomain(Ut){const ii=this.fieldsIndex.get(Ut);return ii?ii.domain:null}_fetchFirstLayerId(Ut){return(0,de.default)(this.url,{query:fr(ji({f:"json"},this.customParameters),{token:this.apiKey}),responseType:"json",signal:Ut}).then(ii=>{const Fi=ii.data;if(Fi)return Array.isArray(Fi.layers)&&Fi.layers.length>0?Fi.layers[0].id:Array.isArray(Fi.tables)&&Fi.tables.length>0?Fi.tables[0].id:void 0})}_initLayerProperties(Ut){var ii=this;return(0,z.Z)(function*(){return ii._set("source",Ut),Ut.sourceJSON&&(ii.sourceJSON=Ut.sourceJSON,ii.read(Ut.sourceJSON,{origin:"service",url:ii.parsedUrl})),ii._verifySource(),ii._verifyFields(),(0,ln.YN)(ii.renderer,ii.fieldsIndex),(0,ln.UF)(ii.timeInfo,ii.fieldsIndex),(0,ai.y)(ii,{origin:"service"})})()}hasDataChanged(){var Ut=this;return(0,z.Z)(function*(){var ii;if(null!=(ii=Ut.source)&&ii.refresh)try{var Fi;const{hasUpdates:dn,updates:jn}=yield null==(Fi=Ut.source)?void 0:Fi.refresh();if((0,ge.pC)(jn)&&(Ut.sourceJSON=ji(ji({},Ut.sourceJSON),jn),Ut.read(jn,{origin:"service",url:Ut.parsedUrl})),dn)return!0}catch(dn){}if(Ut.definitionExpression)try{return(yield function(Ut,ii){return tt.apply(this,arguments)}(Ut.definitionExpression,Ut.fieldsIndex)).hasDateFunctions}catch(dn){}return!1})()}_verifyFields(){const Ut=this.parsedUrl&&this.parsedUrl.path||"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+Ut+")"),this.isTable||this._hasMemorySource()||-1!==Ut.search(/\/FeatureServer\//i)||this.fields&&this.fields.some(function(ii){return"geometry"===ii.type})||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+Ut+")")}_fixTemplates(Ut,ii){Ut&&Ut.forEach(Fi=>{const dn=Fi.prototype&&Fi.prototype.attributes;dn&&ii&&delete dn[ii]})}_verifySource(){if(this._hasMemorySource()){if(this.url)throw new le.Z("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url")}else if(!this.url)throw new le.Z("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source")}_initMemorySource(Ut){Ut.forEach(ii=>{ii.layer=this,ii.sourceLayer=this}),this._handles.add([Ut.on("after-add",ii=>{ii.item.layer=this,ii.item.sourceLayer=this}),Ut.on("after-remove",ii=>{ii.item.layer=null,ii.item.sourceLayer=null})],"fl-source")}_resetMemorySource(Ut){Ut.forEach(ii=>{ii.layer=null,ii.sourceLayer=null}),this._handles.remove("fl-source")}_hasMemorySource(){return!(this.url||!this.source)}_readAttachmentCapabilities(Ut){const ii={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1};return Ut&&Array.isArray(Ut)&&Ut.forEach(Fi=>{const dn=Qi[Fi.name];dn&&(ii[dn]=!!Fi.isEnabled)}),ii}_readDataCapabilities(Ut){return{isVersioned:Dn(Ut,"isDataVersioned",!1),supportsAttachment:Dn(Ut,"hasAttachments",!1),supportsM:Dn(Ut,"hasM",!1),supportsZ:Dn(Ut,"hasZ",!1)}}_readMetadataCapabilities(Ut){return{supportsAdvancedFieldProperties:Dn(Ut,"supportsFieldDescriptionProperty",!1)}}_readOperationsCapabilities(Ut,ii){const Fi=Ut?Ut.toLowerCase().split(",").map(lr=>lr.trim()):[],dn=Fi.includes("editing")&&!ii.datesInUnknownTimezone;let jn=dn&&Fi.includes("create"),Qn=dn&&Fi.includes("delete"),Cr=dn&&Fi.includes("update");const $r=Fi.includes("changetracking");return dn&&!(jn||Qn||Cr)&&(jn=Qn=Cr=!0),{supportsCalculate:Dn(ii,"supportsCalculate",!1),supportsTruncate:Dn(ii,"supportsTruncate",!1),supportsValidateSql:Dn(ii,"supportsValidateSql",!1),supportsAdd:jn,supportsDelete:Qn,supportsEditing:dn,supportsChangeTracking:$r,supportsQuery:Fi.includes("query"),supportsQueryAttachments:Dn(ii.advancedQueryCapabilities,"supportsQueryAttachments",!1),supportsResizeAttachments:Dn(ii,"supportsAttachmentsResizing",!1),supportsSync:Fi.includes("sync"),supportsUpdate:Cr,supportsExceedsLimitStatistics:Dn(ii,"supportsExceedsLimitStatistics",!1)}}_readQueryCapabilities(Ut){var ii;const Fi=Ut.advancedQueryCapabilities,dn=Ut.ownershipBasedAccessControlForFeatures,jn=Ut.archivingInfo,Qn=null==(ii=this.url)?void 0:ii.includes("MapServer"),Cr=!(0,se.Z)("mapserver-pbf-enabled")&&Qn&&this.version<10.81,$r=(Ut.supportedQueryFormats||"").split(",").reduce((lr,_s)=>{const ps=_s.toLowerCase().trim();return ps&&lr.add(ps),lr},new Set);return{supportsStatistics:Dn(Fi,"supportsStatistics",Ut.supportsStatistics),supportsPercentileStatistics:Dn(Fi,"supportsPercentileStatistics",!1),supportsCentroid:Dn(Fi,"supportsReturningGeometryCentroid",!1),supportsDistance:Dn(Fi,"supportsQueryWithDistance",!1),supportsDistinct:Dn(Fi,"supportsDistinct",Ut.supportsAdvancedQueries),supportsExtent:Dn(Fi,"supportsReturningQueryExtent",!1),supportsGeometryProperties:Dn(Fi,"supportsReturningGeometryProperties",!1),supportsHavingClause:Dn(Fi,"supportsHavingClause",!1),supportsOrderBy:Dn(Fi,"supportsOrderBy",Ut.supportsAdvancedQueries),supportsPagination:Dn(Fi,"supportsPagination",!1),supportsQuantization:Dn(Ut,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:Dn(Ut,"supportsQuantizationEditMode",!1),supportsQueryGeometry:Dn(Ut,"supportsReturningQueryGeometry",!1),supportsResultType:Dn(Fi,"supportsQueryWithResultType",!1),supportsMaxRecordCountFactor:Dn(Fi,"supportsMaxRecordCountFactor",!1),supportsSqlExpression:Dn(Fi,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:Dn(Ut,"useStandardizedQueries",!1),supportsTopFeaturesQuery:Dn(Fi,"supportsTopFeaturesQuery",!1),supportsQueryByOthers:Dn(dn,"allowOthersToQuery",!0),supportsHistoricMoment:Dn(jn,"supportsQueryWithHistoricMoment",!1),supportsFormatPBF:!Cr&&$r.has("pbf"),supportsDisjointSpatialRelationship:Dn(Fi,"supportsDisjointSpatialRel",!1),supportsCacheHint:Dn(Fi,"supportsQueryWithCacheHint",!1),maxRecordCountFactor:gr(Ut,"maxRecordCountFactor",void 0),maxRecordCount:gr(Ut,"maxRecordCount",void 0),standardMaxRecordCount:gr(Ut,"standardMaxRecordCount",void 0),tileMaxRecordCount:gr(Ut,"tileMaxRecordCount",void 0)}}_readQueryRelatedCapabilities(Ut){const ii=Ut.advancedQueryCapabilities,Fi=Dn(ii,"supportsAdvancedQueryRelated",!1);return{supportsPagination:Dn(ii,"supportsQueryRelatedPagination",!1),supportsCount:Fi,supportsOrderBy:Fi}}_readEditingCapabilities(Ut){const ii=Ut.ownershipBasedAccessControlForFeatures;return{supportsGeometryUpdate:Dn(Ut,"allowGeometryUpdates",!0),supportsGlobalId:Dn(Ut,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:Dn(Ut,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:Dn(Ut,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:Dn(Ut,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:Dn(Ut,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:Dn(ii,"allowAnonymousToDelete",!0),supportsDeleteByOthers:Dn(ii,"allowOthersToDelete",!0),supportsUpdateByAnonymous:Dn(ii,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:Dn(ii,"allowOthersToUpdate",!0)}}};(0,J._)([(0,ve.Cb)({readOnly:!0,json:{read:!1}})],zn.prototype,"capabilities",void 0),(0,J._)([(0,qe.r)("service","capabilities",["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","datesInUnknownTimezone","hasAttachments","hasM","hasZ","maxRecordCount","maxRecordCountFactor","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"])],zn.prototype,"readCapabilities",null),(0,J._)([(0,ve.Cb)({json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],zn.prototype,"charts",void 0),(0,J._)([(0,ve.Cb)({readOnly:!0})],zn.prototype,"createQueryVersion",null),(0,J._)([(0,ve.Cb)({type:String,json:{read:{source:"layerDefinition.copyrightText"},origins:{service:{read:{source:"copyrightText"}}}}})],zn.prototype,"copyright",void 0),(0,J._)([(0,ve.Cb)({type:Boolean})],zn.prototype,"datesInUnknownTimezone",void 0),(0,J._)([(0,ve.Cb)({type:String,json:{read:{source:"layerDefinition.displayField"},origins:{service:{read:{source:"displayField"}}}}})],zn.prototype,"displayField",void 0),(0,J._)([(0,ve.Cb)({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],zn.prototype,"definitionExpression",void 0),(0,J._)([(0,ve.Cb)({types:Ae.LB,readOnly:!0})],zn.prototype,"defaultSymbol",void 0),(0,J._)([(0,ve.Cb)({type:di.n})],zn.prototype,"dynamicDataSource",void 0),(0,J._)([(0,ve.Cb)({readOnly:!0})],zn.prototype,"editFieldsInfo",void 0),(0,J._)([(0,ve.Cb)({type:Boolean})],zn.prototype,"editingEnabled",null),(0,J._)([(0,qe.r)(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],zn.prototype,"readEditingEnabled",null),(0,J._)([(0,qe.r)("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],zn.prototype,"readEditingEnabledFromWebMap",null),(0,J._)([(0,Qe.c)(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],zn.prototype,"writeEditingEnabled",null),(0,J._)([(0,Qe.c)("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],zn.prototype,"writeEditingEnabledToWebMap",null),(0,J._)([(0,ve.Cb)({readOnly:!0})],zn.prototype,"editingInfo",void 0),(0,J._)([(0,qe.r)("editingInfo")],zn.prototype,"readEditingInfo",null),(0,J._)([(0,ve.Cb)(ei.PV)],zn.prototype,"elevationInfo",void 0),(0,J._)([(0,ve.Cb)(en.dm)],zn.prototype,"featureReduction",void 0),(0,J._)([(0,qe.r)("featureReduction",["layerDefinition.featureReduction"])],zn.prototype,"readFeatureReduction",null),(0,J._)([(0,Qe.c)("web-scene","featureReduction",{"layerDefinition.featureReduction":{types:en.Gx}})],zn.prototype,"writeWebSceneFeatureReduction",null),(0,J._)([(0,ve.Cb)(fr(ji({},pr.fields),{json:{read:{source:"layerDefinition.fields"},origins:{service:{read:!0},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:Dr}}}}}))],zn.prototype,"fields",void 0),(0,J._)([(0,ve.Cb)(pr.fieldsIndex)],zn.prototype,"fieldsIndex",void 0),(0,J._)([(0,ve.Cb)({type:xi.Z,json:{read:{source:"layerDefinition.floorInfo"},write:{target:"layerDefinition.floorInfo"}}})],zn.prototype,"floorInfo",void 0),(0,J._)([(0,ve.Cb)({type:Ot,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],zn.prototype,"formTemplate",void 0),(0,J._)([(0,ve.Cb)({type:St.Z,json:{origins:{service:{read:{source:"extent"}}},read:{source:"layerDefinition.extent"}}})],zn.prototype,"fullExtent",void 0),(0,J._)([(0,ve.Cb)()],zn.prototype,"gdbVersion",void 0),(0,J._)([(0,ve.Cb)({readOnly:!0,type:rr,json:{read:{source:"geometryProperties"}}})],zn.prototype,"geometryFieldsInfo",void 0),(0,J._)([(0,ve.Cb)({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:bi.read},"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:Dr,writer(Ut,ii,Fi){const dn=Ut?bi.toJSON(Ut):null;dn&&(0,Fe.RB)(Fi,dn,ii)}}}},read:{source:"layerDefinition.geometryType",reader:bi.read}}})],zn.prototype,"geometryType",void 0),(0,J._)([(0,ve.Cb)({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasM"}}})],zn.prototype,"hasM",void 0),(0,J._)([(0,ve.Cb)({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasZ"}}})],zn.prototype,"hasZ",void 0),(0,J._)([(0,ve.Cb)({readOnly:!0,type:Tt.Z})],zn.prototype,"heightModelInfo",void 0),(0,J._)([(0,ve.Cb)({type:Date})],zn.prototype,"historicMoment",void 0),(0,J._)([(0,ve.Cb)(ei.id)],zn.prototype,"id",void 0),(0,J._)([(0,ve.Cb)({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],zn.prototype,"infoFor3D",void 0),(0,J._)([(0,ve.Cb)({readOnly:!0,json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],zn.prototype,"isTable",void 0),(0,J._)([(0,qe.r)("service","isTable",["type","geometryType"]),(0,qe.r)("isTable",["layerDefinition.type","layerDefinition.geometryType"])],zn.prototype,"readIsTable",null),(0,J._)([(0,Qe.c)("web-map","isTable")],zn.prototype,"writeIsTable",null),(0,J._)([(0,ve.Cb)(ei.iR)],zn.prototype,"labelsVisible",void 0),(0,J._)([(0,ve.Cb)({type:[wi.Z],json:{origins:{service:{read:{source:"drawingInfo.labelingInfo",reader:Hi.r},write:{target:"drawingInfo.labelingInfo",enabled:!1}}},read:{source:"layerDefinition.drawingInfo.labelingInfo",reader:Hi.r},write:{target:"layerDefinition.drawingInfo.labelingInfo"}}})],zn.prototype,"labelingInfo",void 0),(0,J._)([(0,ve.Cb)(ei.bT)],zn.prototype,"opacity",void 0),(0,J._)([(0,ve.Cb)({type:Number,json:{origins:{service:{read:{source:"id"}}},read:!1}})],zn.prototype,"layerId",void 0),(0,J._)([(0,ve.Cb)(ei.rn)],zn.prototype,"legendEnabled",void 0),(0,J._)([(0,ve.Cb)({type:["show","hide"]})],zn.prototype,"listMode",void 0),(0,J._)([(0,ve.Cb)(ei.rO)],zn.prototype,"minScale",void 0),(0,J._)([(0,qe.r)("service","minScale",["minScale","effectiveMinScale"])],zn.prototype,"readMinScale",null),(0,J._)([(0,ve.Cb)(ei.u1)],zn.prototype,"maxScale",void 0),(0,J._)([(0,qe.r)("service","maxScale",["maxScale","effectiveMaxScale"])],zn.prototype,"readMaxScale",null),(0,J._)([(0,ve.Cb)({type:String})],zn.prototype,"globalIdField",void 0),(0,J._)([(0,qe.r)("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"]),(0,qe.r)("service","globalIdField",["globalIdField","fields"])],zn.prototype,"readGlobalIdFieldFromService",null),(0,J._)([(0,ve.Cb)({type:String,json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:Dr}}}}})],zn.prototype,"objectIdField",void 0),(0,J._)([(0,qe.r)("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"]),(0,qe.r)("service","objectIdField",["objectIdField","fields"])],zn.prototype,"readObjectIdFieldFromService",null),(0,J._)([(0,ve.Cb)({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],zn.prototype,"operationalLayerType",void 0),(0,J._)([(0,ve.Cb)(pr.outFields)],zn.prototype,"outFields",void 0),(0,J._)([(0,ve.Cb)({readOnly:!0})],zn.prototype,"parsedUrl",null),(0,J._)([(0,ve.Cb)({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],zn.prototype,"path",void 0),(0,J._)([(0,ve.Cb)(ei.C_)],zn.prototype,"popupEnabled",void 0),(0,J._)([(0,ve.Cb)({type:Te.Z,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],zn.prototype,"popupTemplate",void 0),(0,J._)([(0,ve.Cb)({readOnly:!0})],zn.prototype,"defaultPopupTemplate",null),(0,J._)([(0,ve.Cb)({type:[Xn],readOnly:!0})],zn.prototype,"relationships",void 0),(0,J._)([(0,ve.Cb)({types:xe.A,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:xe.o,write:{target:"layerDefinition.drawingInfo.renderer",writer:be.cW}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy:(Ut,ii,Fi)=>({ignoreOrigin:null==Fi?void 0:Fi.writeLayerSchema}),writer:be.cW}}})],zn.prototype,"renderer",null),(0,J._)([(0,qe.r)("service","renderer",["drawingInfo.renderer","defaultSymbol"]),(0,qe.r)("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],zn.prototype,"readRenderer",null),(0,J._)([(0,ve.Cb)()],zn.prototype,"sourceJSON",void 0),(0,J._)([(0,ve.Cb)({type:Boolean})],zn.prototype,"returnM",void 0),(0,J._)([(0,ve.Cb)({type:Boolean})],zn.prototype,"returnZ",void 0),(0,J._)([(0,ve.Cb)(ei.YI)],zn.prototype,"screenSizePerspectiveEnabled",void 0),(0,J._)([(0,ve.Cb)()],zn.prototype,"source",null),(0,J._)([(0,Oe.p)("source")],zn.prototype,"castSource",null),(0,J._)([(0,qe.r)("portal-item","source",["featureSet"]),(0,qe.r)("web-map","source",["featureSet"])],zn.prototype,"readSource",null),(0,J._)([(0,ve.Cb)({readOnly:!0})],zn.prototype,"serviceDefinitionExpression",void 0),(0,J._)([(0,qe.r)("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],zn.prototype,"readServiceDefinitionExpression",null),(0,J._)([(0,ve.Cb)({type:_i.Z,json:{origins:{service:{read:{source:"extent.spatialReference"}}},read:{source:"layerDefinition.extent.spatialReference"}}})],zn.prototype,"spatialReference",void 0),(0,J._)([(0,ve.Cb)({type:Number})],zn.prototype,"subtypeCode",void 0),(0,J._)([(0,ve.Cb)({type:[un.Z]})],zn.prototype,"templates",void 0),(0,J._)([(0,qe.r)("templates",["editFieldsInfo","creatorField","editorField","templates"])],zn.prototype,"readTemplates",null),(0,J._)([(0,ve.Cb)({type:Zt.Z})],zn.prototype,"timeInfo",void 0),(0,J._)([(0,ve.Cb)()],zn.prototype,"title",void 0),(0,J._)([(0,qe.r)("service","title",["name"]),(0,qe.r)("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],zn.prototype,"readTitle",null),(0,J._)([(0,qe.r)("web-map","title",["layerDefinition.name","title"])],zn.prototype,"readTitleFromWebMap",null),(0,J._)([(0,ve.Cb)({type:String})],zn.prototype,"sublayerTitleMode",void 0),(0,J._)([(0,ve.Cb)({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],zn.prototype,"trackIdField",void 0),(0,J._)([(0,ve.Cb)({json:{read:!1}})],zn.prototype,"type",void 0),(0,J._)([(0,ve.Cb)({type:String})],zn.prototype,"typeIdField",void 0),(0,J._)([(0,qe.r)("service","typeIdField"),(0,qe.r)("typeIdField",["layerDefinition.typeIdField"])],zn.prototype,"readTypeIdField",null),(0,J._)([(0,ve.Cb)({type:[On.Z]})],zn.prototype,"types",void 0),(0,J._)([(0,qe.r)("service","types",["types"]),(0,qe.r)("types",["layerDefinition.types"])],zn.prototype,"readTypes",null),(0,J._)([(0,ve.Cb)({readOnly:!0,json:{write:!1}})],zn.prototype,"serverGens",void 0),(0,J._)([(0,ve.Cb)({type:me.Z.ofType(Si),readOnly:!0})],zn.prototype,"indexes",void 0),(0,J._)([(0,ve.Cb)(ei.HQ)],zn.prototype,"url",null),(0,J._)([(0,Qe.c)("url")],zn.prototype,"writeUrl",null),(0,J._)([(0,ve.Cb)({readOnly:!0})],zn.prototype,"userIsAdmin",void 0),(0,J._)([(0,ve.Cb)({json:{origins:{service:{read:!0}},read:!1}})],zn.prototype,"version",void 0),(0,J._)([(0,qe.r)("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],zn.prototype,"readVersion",null),(0,J._)([(0,ve.Cb)({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],zn.prototype,"visible",void 0),(0,J._)([(0,qe.r)("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],zn.prototype,"readVisible",null),zn=(0,J._)([(0,He.j)("esri.layers.FeatureLayer")],zn);const ro=(0,ot.d)({types:Ae.QT});var Yn=zn},51470:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>de});var z=N(17626),J=N(77712),Ie=(N(8314),N(90912),N(63290),N(61403)),ye=N(63602),he=N(30759),re=N(99555),ce=N(51815),be=N(82706);let xe=class extends((0,he.h)((0,re.M)(ye.Z))){constructor(Ae){super(Ae),this.elevationInfo=null,this.graphics=new ce.ZP,this.screenSizePerspectiveEnabled=!0,this.type="graphics",this.internal=!1}destroy(){this.removeAll(),this.graphics.destroy()}add(Ae){return this.graphics.add(Ae),this}addMany(Ae){return this.graphics.addMany(Ae),this}removeAll(){return this.graphics.removeAll(),this}remove(Ae){this.graphics.remove(Ae)}removeMany(Ae){this.graphics.removeMany(Ae)}on(Ae,me){return super.on(Ae,me)}graphicChanged(Ae){this.emit("graphic-update",Ae)}};(0,z._)([(0,J.Cb)({type:be.Z})],xe.prototype,"elevationInfo",void 0),(0,z._)([(0,J.Cb)((0,ce.$o)())],xe.prototype,"graphics",void 0),(0,z._)([(0,J.Cb)({type:["show","hide"]})],xe.prototype,"listMode",void 0),(0,z._)([(0,J.Cb)()],xe.prototype,"screenSizePerspectiveEnabled",void 0),(0,z._)([(0,J.Cb)({readOnly:!0})],xe.prototype,"type",void 0),(0,z._)([(0,J.Cb)({constructOnly:!0})],xe.prototype,"internal",void 0),xe=(0,z._)([(0,Ie.j)("esri.layers.GraphicsLayer")],xe);var de=xe},63602:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>Ue});var z=N(15861),J=N(17626),Te=N(59318),Ce=(N(29132),N(84792)),Ie=N(26584),ye=N(61885),he=N(61996),re=N(47996),ce=N(63290),be=N(10699),xe=N(21726),de=N(77712),le=(N(8314),N(90912),N(61403)),oe=N(2004),se=N(65234);let fe=0;const Ee=ce.Z.getLogger("esri.layers.Layer");let ge=class extends(ye.Z.EventedMixin((0,he.I)(re.Z))){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new oe.Z(-180,-90,180,90,se.Z.WGS84),this.id=Date.now().toString(16)+"-layer-"+fe++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=se.Z.WGS84,this.title=null,this.type=null,this.url=null,this.visible=!0}static fromArcGISServerUrl(Fe){return(0,z.Z)(function*(){const Ve="string"==typeof Fe?{url:Fe}:Fe,Le=yield N.e(4578).then(N.bind(N,24578));try{return yield Le.fromUrl(Ve)}catch(tt){throw Ee.error("#fromArcGISServerUrl({ url: '"+Ve.url+"'})","Failed to create layer from arcgis server url",tt),tt}})()}static fromPortalItem(Fe){return(0,z.Z)(function*(){const Ve="portalItem"in Fe?Fe:{portalItem:Fe},Le=yield N.e(7534).then(N.bind(N,7534));try{return yield Le.fromItem(Ve)}catch(tt){const je=Ve&&Ve.portalItem;throw Ee.error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+(je&&je.portal&&je.portal.url||Te.Z.portalUrl)+"', id: '"+(je&&je.id||"unset")+"')",tt),tt}})()}initialize(){this.when().catch(Fe=>{var Ve,Le;(0,be.D_)(Fe)||ce.Z.getLogger(this.declaredClass).error("#load()",`Failed to load layer (title: '${null!=(Ve=this.title)?Ve:"no title"}', id: '${null!=(Le=this.id)?Le:"no id"}')`,{error:Fe})})}destroy(){if(this.parent){const Fe=this,Ve=this.parent;"layers"in Ve&&Ve.layers.includes(Fe)?Ve.layers.remove(Fe):"tables"in Ve&&Ve.tables.includes(Fe)?Ve.tables.remove(Fe):"baseLayers"in Ve&&Ve.baseLayers.includes(Fe)?Ve.baseLayers.remove(Fe):"baseLayers"in Ve&&Ve.referenceLayers.includes(Fe)&&Ve.referenceLayers.remove(Fe)}}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){const Fe=this.url;return Fe?(0,xe.mN)(Fe):null}fetchAttributionData(){var Fe=this;return(0,z.Z)(function*(){const Ve=Fe.attributionDataUrl;if(Fe.hasAttributionData&&Ve)return(yield(0,Ce.default)(Ve,{query:{f:"json"},responseType:"json"})).data;throw new Ie.Z("layer:no-attribution-data","Layer does not have attribution data")})()}};(0,J._)([(0,de.Cb)({type:String})],ge.prototype,"attributionDataUrl",void 0),(0,J._)([(0,de.Cb)({type:oe.Z})],ge.prototype,"fullExtent",void 0),(0,J._)([(0,de.Cb)({readOnly:!0})],ge.prototype,"hasAttributionData",null),(0,J._)([(0,de.Cb)({type:String})],ge.prototype,"id",void 0),(0,J._)([(0,de.Cb)({type:Boolean,nonNullable:!0})],ge.prototype,"legendEnabled",void 0),(0,J._)([(0,de.Cb)({type:["show","hide","hide-children"]})],ge.prototype,"listMode",void 0),(0,J._)([(0,de.Cb)({type:Number,range:{min:0,max:1},nonNullable:!0})],ge.prototype,"opacity",void 0),(0,J._)([(0,de.Cb)()],ge.prototype,"parent",void 0),(0,J._)([(0,de.Cb)({readOnly:!0})],ge.prototype,"parsedUrl",null),(0,J._)([(0,de.Cb)({type:Boolean})],ge.prototype,"popupEnabled",void 0),(0,J._)([(0,de.Cb)({type:Boolean})],ge.prototype,"attributionVisible",void 0),(0,J._)([(0,de.Cb)({type:se.Z})],ge.prototype,"spatialReference",void 0),(0,J._)([(0,de.Cb)({type:String})],ge.prototype,"title",void 0),(0,J._)([(0,de.Cb)({type:String,readOnly:!0,json:{read:!1}})],ge.prototype,"type",void 0),(0,J._)([(0,de.Cb)()],ge.prototype,"url",void 0),(0,J._)([(0,de.Cb)({type:Boolean,nonNullable:!0})],ge.prototype,"visible",void 0),ge=(0,J._)([(0,le.j)("esri.layers.Layer")],ge);var Ue=ge},48887:(hi,lt,N)=>{"use strict";N.r(lt),N.d(lt,{default:()=>ut});var z=N(15861),J=N(17626),Te=N(84792),Me=N(97478),Ce=N(26584),Ie=N(80542),ye=N(47877),he=N(62208),re=N(99959),ce=N(10699),be=N(77712),de=(N(8314),N(90912)),me=(N(63290),N(68653)),le=N(61403),oe=N(99433),se=N(31283),fe=N(2004),Ee=N(83137),ge=N(63602),Ue=N(50085),Fe=N(19027),Ve=N(65088),Le=N(30759),tt=N(50107),je=N(49286),ve=N(6647),Oe=N(30346),qe=N(99555),He=N(66120),Qe=N(97941),ot=N(13812),Ne=N(14772),Se=N(39058),$e=N(13410);let nt=class extends((0,Le.h)((0,Qe.n)((0,qe.M)((0,He.x)((0,Fe.O)((0,Ve.Y)((0,je.q)((0,ve.I)((0,re.R)((0,Oe.Q)((0,Ue.V)((0,tt.N)((0,Ie.p)(ge.Z)))))))))))))){constructor(...xt){super(...xt),this.datesInUnknownTimezone=!1,this.dpi=96,this.gdbVersion=null,this.imageFormat="png24",this.imageMaxHeight=2048,this.imageMaxWidth=2048,this.imageTransparency=!0,this.isReference=null,this.labelsVisible=!1,this.operationalLayerType="ArcGISMapServiceLayer",this.sourceJSON=null,this.sublayers=null,this.type="map-image",this.url=null}normalizeCtorArgs(xt,Ze){return"string"==typeof xt?ji({url:xt},Ze):xt}load(xt){const Ze=(0,he.pC)(xt)?xt.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Map Service"]},xt).catch(ce.r9).then(()=>this._fetchService(Ze))),Promise.resolve(this)}readImageFormat(xt,Ze){const et=Ze.supportedImageFormatTypes;return et&&et.indexOf("PNG32")>-1?"png32":"png24"}writeSublayers(xt,Ze,et,gt){if(!this.loaded||!xt)return;const Vt=xt.slice().reverse().flatten(({sublayers:jt})=>jt&&jt.toArray().reverse()).toArray();let Bt=!1;if(this.capabilities&&this.capabilities.operations.supportsExportMap&&this.capabilities.exportMap.supportsDynamicLayers){const jt=(0,se.M9)(gt.origin);if(3===jt){const Rt=this.createSublayersForOrigin("service").sublayers;Bt=(0,$e.QV)(Vt,Rt,2)}else if(jt>3){const Rt=this.createSublayersForOrigin("portal-item");Bt=(0,$e.QV)(Vt,Rt.sublayers,(0,se.M9)(Rt.origin))}}const Lt=[],Pt=ji({writeSublayerStructure:Bt},gt);let dt=Bt;Vt.forEach(jt=>{const Rt=jt.write({},Pt);Lt.push(Rt),dt=dt||"user"===jt.originOf("visible")}),Lt.some(jt=>Object.keys(jt).length>1)&&(Ze.layers=Lt),dt&&(Ze.visibleLayers=Vt.filter(jt=>jt.visible).map(jt=>jt.id))}createExportImageParameters(xt,Ze,et,gt){const Vt=gt&&gt.pixelRatio||1;xt&&this.version>=10&&(xt=xt.clone().shiftCentralMeridian());const Bt=new Ne.R({layer:this,floors:null==gt?void 0:gt.floors,scale:(0,Ee.yZ)({extent:xt,width:Ze})*Vt}),Lt=Bt.toJSON();Bt.destroy();const Pt=!gt||!gt.rotation||this.version<10.3?{}:{rotation:-gt.rotation},dt=xt&&xt.spatialReference,jt=dt.wkid||JSON.stringify(dt.toJSON());Lt.dpi*=Vt;const Rt={};if(null!=gt&&gt.timeExtent){const{start:_e,end:ke}=gt.timeExtent.toJSON();Rt.time=_e&&ke&&_e===ke?""+_e:`${null==_e?"null":_e},${null==ke?"null":ke}`}else this.timeInfo&&!this.timeInfo.hasLiveData&&(Rt.time="null,null");return ji(ji(ji({bbox:xt&&xt.xmin+","+xt.ymin+","+xt.xmax+","+xt.ymax,bboxSR:jt,imageSR:jt,size:Ze+","+et},Lt),Pt),Rt)}fetchImage(xt,Ze,et,gt){var Vt=this;return(0,z.Z)(function*(){var Bt;const Lt={responseType:"image",signal:null!=(Bt=null==gt?void 0:gt.signal)?Bt:null,query:fr(ji(ji(fr(ji(ji({},Vt.parsedUrl.query),Vt.createExportImageParameters(xt,Ze,et,gt)),{f:"image"}),Vt.refreshParameters),Vt.customParameters),{token:Vt.apiKey})},Pt=Vt.parsedUrl.path+"/export";return null==Lt.query.dynamicLayers||Vt.capabilities.exportMap.supportsDynamicLayers?(0,Te.default)(Pt,Lt).then(dt=>dt.data).catch(dt=>{throw(0,ce.D_)(dt)?dt:new Ce.Z("mapimagelayer:image-fetch-error",`Unable to load image: ${Pt}`,{error:dt})}):Promise.reject(new Ce.Z("mapimagelayer:dynamiclayer-not-supported",`service ${Vt.url} doesn't support dynamic layers, which is required to be able to change the sublayer's order, rendering, labeling or source.`,{query:Lt.query}))})()}fetchRecomputedExtents(xt={}){var Ze=this;return(0,z.Z)(function*(){const et=fr(ji({},xt),{query:fr(ji({returnUpdates:!0,f:"json"},Ze.customParameters),{token:Ze.apiKey})}),{data:gt}=yield(0,Te.default)(Ze.url,et),{extent:Vt,fullExtent:Bt,timeExtent:Lt}=gt,Pt=Vt||Bt;return{fullExtent:Pt&&fe.Z.fromJSON(Pt),timeExtent:Lt&&Me.Z.fromJSON({start:Lt[0],end:Lt[1]})}})()}loadAll(){return(0,ye.GZ)(this,xt=>{xt(this.allSublayers)})}_fetchService(xt){var Ze=this;return(0,z.Z)(function*(){if(Ze.sourceJSON)return void Ze.read(Ze.sourceJSON,{origin:"service",url:Ze.parsedUrl});const{data:et,ssl:gt}=yield(0,Te.default)(Ze.parsedUrl.path,{query:fr(ji(ji({f:"json"},Ze.parsedUrl.query),Ze.customParameters),{token:Ze.apiKey}),signal:xt});gt&&(Ze.url=Ze.url.replace(/^http:/i,"https:")),Ze.sourceJSON=et,Ze.read(et,{origin:"service",url:Ze.parsedUrl})})()}};(0,J._)([(0,be.Cb)({type:Boolean})],nt.prototype,"datesInUnknownTimezone",void 0),(0,J._)([(0,be.Cb)()],nt.prototype,"dpi",void 0),(0,J._)([(0,be.Cb)()],nt.prototype,"gdbVersion",void 0),(0,J._)([(0,be.Cb)()],nt.prototype,"imageFormat",void 0),(0,J._)([(0,me.r)("imageFormat",["supportedImageFormatTypes"])],nt.prototype,"readImageFormat",null),(0,J._)([(0,be.Cb)({json:{origins:{service:{read:{source:"maxImageHeight"}}}}})],nt.prototype,"imageMaxHeight",void 0),(0,J._)([(0,be.Cb)({json:{origins:{service:{read:{source:"maxImageWidth"}}}}})],nt.prototype,"imageMaxWidth",void 0),(0,J._)([(0,be.Cb)()],nt.prototype,"imageTransparency",void 0),(0,J._)([(0,be.Cb)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],nt.prototype,"isReference",void 0),(0,J._)([(0,be.Cb)({json:{read:!1,write:!1}})],nt.prototype,"labelsVisible",void 0),(0,J._)([(0,be.Cb)({type:["ArcGISMapServiceLayer"]})],nt.prototype,"operationalLayerType",void 0),(0,J._)([(0,be.Cb)({json:{read:!1,write:!1}})],nt.prototype,"popupEnabled",void 0),(0,J._)([(0,be.Cb)()],nt.prototype,"sourceJSON",void 0),(0,J._)([(0,be.Cb)({json:{write:{ignoreOrigin:!0}}})],nt.prototype,"sublayers",void 0),(0,J._)([(0,oe.c)("sublayers",{layers:{type:[Se.Z]},visibleLayers:{type:[de.z8]}})],nt.prototype,"writeSublayers",null),(0,J._)([(0,be.Cb)({type:["show","hide","hide-children"]})],nt.prototype,"listMode",void 0),(0,J._)([(0,be.Cb)({json:{read:!1},readOnly:!0,value:"map-image"})],nt.prototype,"type",void 0),(0,J._)([(0,be.Cb)(ot.HQ)],nt.prototype,"url",void 0),nt=(0,J._)([(0,le.j)("esri.layers.MapImageLayer")],nt);var ut=nt},59735:(hi,lt,N)=>{"use strict";N.r(lt),N.d(lt,{default:()=>Se});var z=N(17626),Te=(N(29132),N(84792)),Me=N(26584),Ce=N(80542),Ie=N(62208),ye=N(99959),he=N(10699),re=N(21726),ce=N(77712),xe=(N(8314),N(66656)),Ae=(N(63290),N(68653)),me=N(61403),le=N(99433),oe=N(63602),se=N(50085),fe=N(5143),Ee=N(19027),ge=N(65088),Ue=N(30759),Fe=N(50107),Ve=N(49286),Le=N(6647),tt=N(30346),je=N(99555),ve=N(66120),Oe=N(38305),qe=N(13812),He=N(39058),Qe=N(65234);const ot=["Canvas/World_Dark_Gray_Base","Canvas/World_Dark_Gray_Reference","Canvas/World_Light_Gray_Base","Canvas/World_Light_Gray_Reference","Elevation/World_Hillshade","Elevation/World_Hillshade_Dark","Ocean/World_Ocean_Base","Ocean/World_Ocean_Reference","Ocean_Basemap","Reference/World_Boundaries_and_Places","Reference/World_Boundaries_and_Places_Alternate","Reference/World_Transportation","World_Imagery","World_Street_Map","World_Topo_Map"];let Ne=class extends((0,Ue.h)((0,ve.x)((0,je.M)((0,Ve.q)((0,Le.I)((0,fe.Z)((0,Ee.O)((0,ge.Y)((0,ye.R)((0,Ce.p)((0,tt.Q)((0,se.V)((0,Fe.N)(oe.Z)))))))))))))){constructor(...$e){super(...$e),this.listMode="show",this.isReference=null,this.operationalLayerType="ArcGISTiledMapServiceLayer",this.resampling=!0,this.sourceJSON=null,this.spatialReference=null,this.path=null,this.sublayers=null,this.type="tile",this.url=null}normalizeCtorArgs($e,nt){return"string"==typeof $e?ji({url:$e},nt):$e}load($e){const nt=(0,Ie.pC)($e)?$e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Map Service"]},$e).catch(he.r9).then(()=>this._fetchService(nt))),Promise.resolve(this)}get attributionDataUrl(){var $e;const nt=null==($e=this.parsedUrl)?void 0:$e.path.toLowerCase();return nt&&this._getDefaultAttribution(this._getMapName(nt))}readSpatialReference($e,nt){return($e=$e||nt.tileInfo&&nt.tileInfo.spatialReference)&&Qe.Z.fromJSON($e)}writeSublayers($e,nt,ut,xt){if(!this.loaded||!$e)return;const Ze=$e.slice().reverse().flatten(({sublayers:Vt})=>Vt&&Vt.toArray().reverse()).toArray(),et=[],gt=ji({writeSublayerStructure:!1},xt);Ze.forEach(Vt=>{const Bt=Vt.write({},gt);et.push(Bt)}),et.some(Vt=>Object.keys(Vt).length>1)&&(nt.layers=et)}get tileServers(){return this._getDefaultTileServers(this.parsedUrl.path)}castTileServers($e){return Array.isArray($e)?$e.map(nt=>(0,re.mN)(nt).path):null}fetchTile($e,nt,ut,xt={}){const{signal:Ze}=xt,et=this.getTileUrl($e,nt,ut),gt={responseType:"image",signal:Ze,query:ji({},this.refreshParameters)};return(0,Te.default)(et,gt).then(Vt=>Vt.data)}getTileUrl($e,nt,ut){const xt=!this.tilemapCache&&this.supportsBlankTile,Ze=(0,re.B7)(fr(ji(fr(ji({},this.parsedUrl.query),{blankTile:!xt&&null}),this.customParameters),{token:this.apiKey})),et=this.tileServers;return`${et&&et.length?et[nt%et.length]:this.parsedUrl.path}/tile/${$e}/${nt}/${ut}${Ze?"?"+Ze:""}`}_fetchService($e){return new Promise((nt,ut)=>{if(this.sourceJSON){if(null!=this.sourceJSON.bandCount&&null!=this.sourceJSON.pixelSizeX)throw new Me.Z("tile-layer:unsupported-url","use ImageryTileLayer to open a tiled image service");return void nt({data:this.sourceJSON})}if(!this.parsedUrl)throw new Me.Z("tile-layer:undefined-url","layer's url is not defined");const xt=(0,Oe.Qc)(this.parsedUrl.path);if((0,Ie.pC)(xt)&&"ImageServer"===xt.serverType)throw new Me.Z("tile-layer:unsupported-url","use ImageryTileLayer to open a tiled image service");(0,Te.default)(this.parsedUrl.path,{query:fr(ji(ji({f:"json"},this.parsedUrl.query),this.customParameters),{token:this.apiKey}),responseType:"json",signal:$e}).then(nt,ut)}).then(nt=>{if(nt.ssl&&(this.url=this.url.replace(/^http:/i,"https:")),this.sourceJSON=nt.data,this.read(nt.data,{origin:"service",url:this.parsedUrl}),10.1===this.version&&!(0,Oe.M8)(this.url))return this._fetchServerVersion(this.url,$e).then(ut=>{this.read({currentVersion:ut})}).catch(()=>{})})}_fetchServerVersion($e,nt){if(!(0,Oe.B5)($e))return Promise.reject();const ut=$e.replace(/(.*\/rest)\/.*/i,"$1")+"/info";return(0,Te.default)(ut,{query:fr(ji({f:"json"},this.customParameters),{token:this.apiKey}),responseType:"json",signal:nt}).then(xt=>{if(xt.data&&xt.data.currentVersion)return xt.data.currentVersion;throw new Me.Z("tile-layer:version-not-available")})}_getMapName($e){const nt=$e.match(/^(?:https?:)?\/\/(server\.arcgisonline\.com|services\.arcgisonline\.com|ibasemaps-api\.arcgis\.com)\/arcgis\/rest\/services\/([^\/]+(\/[^\/]+)*)\/mapserver/i);return nt&&nt[2]}_getDefaultAttribution($e){if(!$e)return;let nt;$e=$e.toLowerCase();for(let ut=0,xt=ot.length;ut<xt;ut++)if(nt=ot[ut],nt.toLowerCase().indexOf($e)>-1)return(0,re.hF)("//static.arcgis.com/attribution/"+nt)}_getDefaultTileServers($e){const nt=-1!==$e.search(/^(?:https?:)?\/\/server\.arcgisonline\.com/i),ut=-1!==$e.search(/^(?:https?:)?\/\/services\.arcgisonline\.com/i);return nt||ut?[$e,$e.replace(nt?/server\.arcgisonline/i:/services\.arcgisonline/i,nt?"services.arcgisonline":"server.arcgisonline")]:[]}get hasOverriddenFetchTile(){return!this.fetchTile.__isDefault__}};(0,z._)([(0,ce.Cb)({readOnly:!0})],Ne.prototype,"attributionDataUrl",null),(0,z._)([(0,ce.Cb)({type:["show","hide","hide-children"]})],Ne.prototype,"listMode",void 0),(0,z._)([(0,ce.Cb)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],Ne.prototype,"isReference",void 0),(0,z._)([(0,ce.Cb)({readOnly:!0,type:["ArcGISTiledMapServiceLayer"]})],Ne.prototype,"operationalLayerType",void 0),(0,z._)([(0,ce.Cb)({type:Boolean})],Ne.prototype,"resampling",void 0),(0,z._)([(0,ce.Cb)()],Ne.prototype,"sourceJSON",void 0),(0,z._)([(0,ce.Cb)({type:Qe.Z})],Ne.prototype,"spatialReference",void 0),(0,z._)([(0,Ae.r)("spatialReference",["spatialReference","tileInfo"])],Ne.prototype,"readSpatialReference",null),(0,z._)([(0,ce.Cb)({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],Ne.prototype,"path",void 0),(0,z._)([(0,ce.Cb)({readOnly:!0})],Ne.prototype,"sublayers",void 0),(0,z._)([(0,le.c)("sublayers",{layers:{type:[He.Z]}})],Ne.prototype,"writeSublayers",null),(0,z._)([(0,ce.Cb)({json:{read:!1,write:!1}})],Ne.prototype,"popupEnabled",void 0),(0,z._)([(0,ce.Cb)()],Ne.prototype,"tileServers",null),(0,z._)([(0,xe.p)("tileServers")],Ne.prototype,"castTileServers",null),(0,z._)([(0,ce.Cb)({readOnly:!0,json:{read:!1}})],Ne.prototype,"type",void 0),(0,z._)([(0,ce.Cb)(qe.HQ)],Ne.prototype,"url",void 0),Ne=(0,z._)([(0,me.j)("esri.layers.TileLayer")],Ne),Ne.prototype.fetchTile.__isDefault__=!0;var Se=Ne},46894:(hi,lt,N)=>{"use strict";N.r(lt),N.d(lt,{default:()=>ie});var Ze,z=N(15861),J=N(17626),Te=N(59318),Me=N(88879),Ce=N(73281),Ie=N(84792),ye=N(7093),he=N(46882),re=N(80542),ce=N(2076),be=N(58817),xe=N(62208),de=N(99959),Ae=N(10699),me=N(21726),le=N(77712),oe=N(90912),Ee=(N(8314),N(63290),N(68653)),ge=N(61403),Ue=N(99433),Fe=N(36054),Ve=N(2004),Le=N(65234),tt=N(83137),je=N(37053),ve=N(63602),Oe=N(30759),qe=N(49286),He=N(6647),Qe=N(30346),ot=N(99555),Ne=N(97941),Se=N(38305),$e=N(13812),nt=N(51920),ut=N(72392),xt=N(66656);let et=0,gt=Ze=class extends de.w{constructor(Y){super(Y),this._sublayersHandles=new ut.Z,this.dimensions=null,this.fullExtents=null,this.featureInfoFormat=null,this.featureInfoUrl=null,this.legendUrl=null,this.legendEnabled=!0,this.maxScale=0,this.minScale=0,this.popupEnabled=!1,this.queryable=!1,this.spatialReferences=null}get description(){return this._get("description")}set description(Y){this._set("description",Y)}get fullExtent(){return this._get("fullExtent")}set fullExtent(Y){this._set("fullExtent",Y)}readExtent(Y,te){return(Y=te.extent)?Ve.Z.fromJSON(Y):null}get id(){const Y=this._get("id");return null==Y?et++:Y}set id(Y){this._set("id",Y)}readLegendUrl(Y,te){return te?te.legendUrl||te.legendURL:null}set layer(Y){this._set("layer",Y),this.sublayers&&this.sublayers.forEach(te=>te.layer=Y)}get name(){return this._get("name")}set name(Y){this._set("name",Y)}set sublayers(Y){const te=this._get("sublayers");te&&(te.forEach(ne=>{ne.layer=null}),this._sublayersHandles.removeAll(),this._sublayersHandles=null),Y&&(Y.forEach(ne=>{ne.parent=this,ne.layer=this.layer}),this._sublayersHandles.add([Y.on("after-add",({item:ne})=>{ne.parent=this,ne.layer=this.layer}),Y.on("after-remove",({item:ne})=>{ne.parent=null,ne.layer=null})])),this._set("sublayers",Y)}castSublayers(Y){return(0,oe.se)(ye.Z.ofType(Ze),Y)}get title(){return this._get("title")}set title(Y){this._set("title",Y)}get visible(){return this._get("visible")}set visible(Y){this._setAndNotifyLayer("visible",Y)}clone(){const Y=new Ze;return this.hasOwnProperty("description")&&(Y.description=this.description),this.hasOwnProperty("fullExtent")&&(Y.fullExtent=this.fullExtent.clone()),this.hasOwnProperty("fullExtents")&&(Y.fullExtents=this.fullExtents.map(te=>te.clone())),this.hasOwnProperty("featureInfoFormat")&&(Y.featureInfoFormat=this.featureInfoFormat),this.hasOwnProperty("featureInfoUrl")&&(Y.featureInfoUrl=this.featureInfoUrl),this.hasOwnProperty("legendUrl")&&(Y.legendUrl=this.legendUrl),this.hasOwnProperty("legendEnabled")&&(Y.legendEnabled=this.legendEnabled),this.hasOwnProperty("layer")&&(Y.layer=this.layer),this.hasOwnProperty("name")&&(Y.name=this.name),this.hasOwnProperty("parent")&&(Y.parent=this.parent),this.hasOwnProperty("queryable")&&(Y.queryable=this.queryable),this.hasOwnProperty("sublayers")&&(Y.sublayers=this.sublayers&&this.sublayers.map(te=>te.clone())),this.hasOwnProperty("spatialReferences")&&(Y.spatialReferences=this.spatialReferences.map(te=>te)),this.hasOwnProperty("visible")&&(Y.visible=this.visible),this.hasOwnProperty("title")&&(Y.title=this.title),Y}_setAndNotifyLayer(Y,te){const ne=this.layer;this._get(Y)!==te&&(this._set(Y,te),ne&&ne.emit("wms-sublayer-update",{propertyName:Y,id:this.id}))}};(0,J._)([(0,le.Cb)()],gt.prototype,"description",null),(0,J._)([(0,le.Cb)({readOnly:!0})],gt.prototype,"dimensions",void 0),(0,J._)([(0,le.Cb)({value:null})],gt.prototype,"fullExtent",null),(0,J._)([(0,Ee.r)("fullExtent",["extent"])],gt.prototype,"readExtent",null),(0,J._)([(0,le.Cb)()],gt.prototype,"fullExtents",void 0),(0,J._)([(0,le.Cb)()],gt.prototype,"featureInfoFormat",void 0),(0,J._)([(0,le.Cb)()],gt.prototype,"featureInfoUrl",void 0),(0,J._)([(0,le.Cb)({type:Number,json:{write:{enabled:!1,overridePolicy:()=>({ignoreOrigin:!0,enabled:!0})}}})],gt.prototype,"id",null),(0,J._)([(0,le.Cb)({type:String,json:{origins:{"web-document":{read:{source:["legendUrl","legendURL"]},write:{target:"legendUrl",ignoreOrigin:!0}}},read:{source:"legendURL"},write:{ignoreOrigin:!0}}})],gt.prototype,"legendUrl",void 0),(0,J._)([(0,Ee.r)(["web-document"],"legendUrl")],gt.prototype,"readLegendUrl",null),(0,J._)([(0,le.Cb)({value:!0,type:Boolean,json:{read:{source:"showLegend"},write:{target:"showLegend"},origins:{"web-map":{read:!1,write:!1},"web-scene":{read:!1,write:!1}}}})],gt.prototype,"legendEnabled",void 0),(0,J._)([(0,le.Cb)({value:null})],gt.prototype,"layer",null),(0,J._)([(0,le.Cb)()],gt.prototype,"maxScale",void 0),(0,J._)([(0,le.Cb)()],gt.prototype,"minScale",void 0),(0,J._)([(0,le.Cb)({type:String,value:null,json:{read:{source:"name"},write:{ignoreOrigin:!0}}})],gt.prototype,"name",null),(0,J._)([(0,le.Cb)()],gt.prototype,"parent",void 0),(0,J._)([(0,le.Cb)({type:Boolean,json:{read:{source:"showPopup"},write:{ignoreOrigin:!0,target:"showPopup"}}})],gt.prototype,"popupEnabled",void 0),(0,J._)([(0,le.Cb)({type:Boolean,json:{write:{ignoreOrigin:!0}}})],gt.prototype,"queryable",void 0),(0,J._)([(0,le.Cb)()],gt.prototype,"sublayers",null),(0,J._)([(0,xt.p)("sublayers")],gt.prototype,"castSublayers",null),(0,J._)([(0,le.Cb)({type:[Number],json:{read:{source:"spatialReferences"}}})],gt.prototype,"spatialReferences",void 0),(0,J._)([(0,le.Cb)({type:String,value:null,json:{write:{ignoreOrigin:!0}}})],gt.prototype,"title",null),(0,J._)([(0,le.Cb)({type:Boolean,value:!0,json:{read:{source:"defaultVisibility"}}})],gt.prototype,"visible",null),gt=Ze=(0,J._)([(0,ge.j)("esri.layers.support.WMSSublayer")],gt);var Vt=gt,Bt=N(26584);const Lt=[[4001,4999],[2044,2045],[2081,2083],[2085,2086],[2093,2093],[2096,2098],[2105,2132],[2169,2170],[2176,2180],[2193,2193],[2200,2200],[2206,2212],[2319,2319],[2320,2462],[2523,2549],[2551,2735],[2738,2758],[2935,2941],[2953,2953],[3006,3030],[3034,3035],[3058,3059],[3068,3068],[3114,3118],[3126,3138],[3300,3301],[3328,3335],[3346,3346],[3350,3352],[3366,3366],[3416,3416],[20004,20032],[20064,20092],[21413,21423],[21473,21483],[21896,21899],[22171,22177],[22181,22187],[22191,22197],[25884,25884],[27205,27232],[27391,27398],[27492,27492],[28402,28432],[28462,28492],[30161,30179],[30800,30800],[31251,31259],[31275,31279],[31281,31290],[31466,31700]],Pt={84:4326,83:4269,27:4267};function dt(Y){if(!Y)return null;const te={idCounter:-1};"string"==typeof Y&&(Y=(new DOMParser).parseFromString(Y,"text/xml"));const ne=Y.documentElement;if("ServiceExceptionReport"===ne.nodeName){const si=Array.prototype.slice.call(ne.childNodes).map($i=>$i.textContent).join("\r\n");throw new Bt.Z("wmslayer:wms-capabilities-xml-is-not-valid","The server returned errors when the WMS capabilities were requested.",si)}const we=Dt("Capability",ne),ze=Dt("Service",ne),_t=Dt("Request",we);if(!we||!ze||!_t)return null;const Mt=Dt("Layer",we);if(!Mt)return null;const pe="WMS_Capabilities"===ne.nodeName||"WMT_MS_Capabilities"===ne.nodeName?ne.getAttribute("version"):"1.3.0",Ge=st("Title",ze,"")||st("Name",ze,""),it=st("AccessConstraints",ze,""),ht=st("Abstract",ze,""),mt=parseInt(st("MaxWidth",ze,"5000"),10),yt=parseInt(st("MaxHeight",ze,"5000"),10),Ot=pi(_t,"GetMap"),St=qt(_t,"GetMap"),Tt=fi(Mt,pe,te);let _i,Ui,Ft,ti,mi=0;if(Array.prototype.slice.call(we.childNodes).forEach(si=>{"Layer"===si.nodeName&&(0===mi?_i=si:(1===mi&&Tt.name&&(Tt.name="",Tt.sublayers.push(fi(_i,pe,te))),Tt.sublayers.push(fi(si,pe,te))),mi++)}),!Tt)return null;const ui=Tt.fullExtents;if(Ui=Tt.sublayers,Ui||(Ui=[]),0===Ui.length&&Ui.push(Tt),Ft=Tt.extent,!Ft){const si=new Ve.Z(Ui[0].extent);Tt.extent=si.toJSON(),Ft=Tt.extent}if(ti=Tt.spatialReferences,!ti.length&&Ui.length>0){const si=$i=>{let Ye=[];return $i.sublayers.forEach(Ht=>{!Ye.length&&Ht.spatialReferences.length&&(Ye=Ht.spatialReferences||si(Ht))}),Ye};Ui.forEach($i=>{ti.length||(ti=$i.spatialReferences||si($i))})}const vi=qt(_t,"GetFeatureInfo");let Di;if(vi){const si=pi(_t,"GetFeatureInfo");si.indexOf("text/html")>-1?Di="text/html":si.indexOf("text/plain")>-1&&(Di="text/plain")}if(!Di){const si=function($i){$i&&($i.queryable=!1,$i.sublayers&&$i.sublayers.forEach(Ye=>{si(Ye)}))};si(Tt)}const Oi=_e(Ui),Vi=Tt.minScale||0,Zi=Tt.maxScale||0,nn=Tt.dimensions,Tn=Oi.reduce((si,$i)=>si.concat($i.dimensions),[]),bn=nn.concat(Tn).filter(kn);let Li=null;if(bn.length>0){let si=Number.POSITIVE_INFINITY,$i=Number.NEGATIVE_INFINITY;bn.forEach(Ye=>{const{extent:Ht}=Ye;!function(Y){return Array.isArray(Y)&&Y.length>0&&Y[0]instanceof Date}(Ht)?Ht.forEach($t=>{si=Math.min(si,$t.min.getTime()),$i=Math.max($i,$t.max.getTime())}):Ht.forEach($t=>{si=Math.min(si,$t.getTime()),$i=Math.max($i,$t.getTime())})}),Li={startTimeField:null,endTimeField:null,trackIdField:null,timeExtent:[si,$i]}}return{copyright:it,description:ht,dimensions:nn,extent:Ft,fullExtents:ui,featureInfoFormat:Di,featureInfoUrl:vi,mapUrl:St,maxWidth:mt,maxHeight:yt,maxScale:Zi,minScale:Vi,layers:Oi,spatialReferences:ti,supportedImageFormatTypes:Ot,timeInfo:Li,title:Ge,version:pe}}function jt(Y){return Lt.some(([te,ne])=>Y>=te&&Y<=ne)}function _e(Y){let te=[];return Y.forEach(ne=>{te.push(ne),ne.sublayers&&ne.sublayers.length&&(te=te.concat(_e(ne.sublayers)),delete ne.sublayers)}),te}function ke(Y,te,ne){var we;return null!=(we=te.getAttribute(Y))?we:ne}function Dt(Y,te){for(let ne=0;ne<te.childNodes.length;ne++){const we=te.childNodes[ne];if(Ki(we)&&we.nodeName===Y)return we}return null}function Kt(Y,te){const ne=[];for(let we=0;we<te.childNodes.length;we++){const ze=te.childNodes[we];Ki(ze)&&ze.nodeName===Y&&ne.push(ze)}return ne}function st(Y,te,ne){const we=Dt(Y,te);return we?we.textContent:ne}function Ti(Y,te,ne){if(!Y)return null;const we=parseFloat(Y.getAttribute("minx")),ze=parseFloat(Y.getAttribute("miny")),_t=parseFloat(Y.getAttribute("maxx")),Mt=parseFloat(Y.getAttribute("maxy"));let pe,Ge,it,ht;ne?(pe=isNaN(ze)?-Number.MAX_VALUE:ze,Ge=isNaN(we)?-Number.MAX_VALUE:we,it=isNaN(Mt)?Number.MAX_VALUE:Mt,ht=isNaN(_t)?Number.MAX_VALUE:_t):(pe=isNaN(we)?-Number.MAX_VALUE:we,Ge=isNaN(ze)?-Number.MAX_VALUE:ze,it=isNaN(_t)?Number.MAX_VALUE:_t,ht=isNaN(Mt)?Number.MAX_VALUE:Mt);const mt=new Le.Z({wkid:te});return new Ve.Z({xmin:pe,ymin:Ge,xmax:it,ymax:ht,spatialReference:mt})}function qt(Y,te){const ne=Dt(te,Y);if(ne){const we=Dt("DCPType",ne);if(we){const ze=Dt("HTTP",we);if(ze){const _t=Dt("Get",ze);if(_t){let Mt=function(Y,te,ne,we){const ze=Dt("OnlineResource",ne);return ze?ke("xlink:href",ze,null):null}(0,0,_t);if(Mt)return Mt.indexOf("&")===Mt.length-1&&(Mt=Mt.substring(0,Mt.length-1)),function(Y,te){const ne=[],we=(0,me.mN)(Y);for(const ze in we.query)we.query.hasOwnProperty(ze)&&-1===te.indexOf(ze.toLowerCase())&&ne.push(ze+"="+we.query[ze]);return we.path+(ne.length?"?"+ne.join("&"):"")}(Mt,["service","request"])}}}}return null}function pi(Y,te){const ne=Kt("Operation",Y);if(0===ne.length)return Kt("Format",Dt(te,Y)).map(ze=>ze.textContent);const we=[];return ne.forEach(ze=>{ze.getAttribute("name")===te&&Kt("Format",ze).forEach(_t=>{we.push(_t.textContent)})}),we}function We(Y,te,ne){const we=Dt(te,Y);if(!we)return ne;const{textContent:ze}=we;if(null==ze||""===ze)return ne;const _t=Number(ze);return isNaN(_t)?ne:_t}function fi(Y,te,ne){var we;if(!Y)return null;const ze={id:ne.idCounter++,fullExtents:[],parentLayerId:null,queryable:"1"===Y.getAttribute("queryable"),spatialReferences:[],sublayers:null},_t=Dt("LatLonBoundingBox",Y),Mt=Dt("EX_GeographicBoundingBox",Y);let pe=null;_t&&(pe=Ti(_t,4326)),Mt&&(pe=new Ve.Z(0,0,0,0,new Le.Z({wkid:4326})),pe.xmin=parseFloat(st("westBoundLongitude",Mt,"0")),pe.ymin=parseFloat(st("southBoundLatitude",Mt,"0")),pe.xmax=parseFloat(st("eastBoundLongitude",Mt,"0")),pe.ymax=parseFloat(st("northBoundLatitude",Mt,"0"))),_t||Mt||(pe=new Ve.Z(-180,-90,180,90,new Le.Z({wkid:4326}))),ze.minScale=We(Y,"MaxScaleDenominator",0),ze.maxScale=We(Y,"MinScaleDenominator",0);const Ge=["1.0.0","1.1.0","1.1.1"].indexOf(te)>-1?"SRS":"CRS";return Array.prototype.slice.call(Y.childNodes).forEach(it=>{if("Name"===it.nodeName)ze.name=it.textContent||"";else if("Title"===it.nodeName)ze.title=it.textContent||"";else if("Abstract"===it.nodeName)ze.description=it.textContent||"";else if("BoundingBox"===it.nodeName){const ht=it.getAttribute(Ge);if(ht&&0===ht.indexOf("EPSG:")){const yt=parseInt(ht.substring(5),10);0===yt||isNaN(yt)||pe||(pe="1.3.0"===te?Ti(it,yt,jt(yt)):Ti(it,yt))}const mt=ht&&ht.indexOf(":");if(mt&&mt>-1){let yt=parseInt(ht.substring(mt+1,ht.length),10);0===yt||isNaN(yt)||(yt=Pt[yt]?Pt[yt]:yt);const Ot="1.3.0"===te?Ti(it,yt,jt(yt)):Ti(it,yt);ze.fullExtents.push(Ot)}}else if(it.nodeName===Ge)it.textContent.split(" ").forEach(ht=>{0===(ht=ht.indexOf(":")>-1?parseInt(ht.split(":")[1],10):parseInt(ht,10))||isNaN(ht)||(Pt[ht]&&(ht=Pt[ht]),-1===ze.spatialReferences.indexOf(ht)&&ze.spatialReferences.push(ht))});else if("Style"!==it.nodeName||ze.legendURL){if("Layer"===it.nodeName){const ht=fi(it,te,ne);ht&&(ht.parentLayerId=ze.id,ze.sublayers||(ze.sublayers=[]),ze.sublayers.push(ht))}}else{const ht=Dt("LegendURL",it);if(ht){const mt=Dt("OnlineResource",ht);mt&&(ze.legendURL=mt.getAttribute("xlink:href"))}}}),ze.extent=null==(we=pe)?void 0:we.toJSON(),ze.dimensions=Kt("Dimension",Y).filter(it=>it.getAttribute("name")&&it.getAttribute("units")&&it.textContent).map(it=>{const ht=it.getAttribute("name"),mt=it.getAttribute("units"),yt=it.textContent,Ot=it.getAttribute("unitSymbol"),St=it.getAttribute("default"),Tt="0"!==ke("default",it,"0"),_i="0"!==ke("nearestValue",it,"0"),mi="0"!==ke("current",it,"0");return/^time$/i.test(ht)&&/^ISO8601$/i.test(mt)?{name:"time",units:"ISO8601",extent:$(yt),default:$(St),multipleValues:Tt,nearestValue:_i,current:mi}:/^elevation$/i.test(ht)?{name:"elevation",units:mt,extent:B(yt),unitSymbol:Ot,default:B(St),multipleValues:Tt,nearestValue:_i}:{name:ht,units:mt,extent:Be(yt),unitSymbol:Ot,default:Be(St),multipleValues:Tt,nearestValue:_i}}),ze}function Ki(Y){return Y.nodeType===Node.ELEMENT_NODE}function kn(Y){return"time"===Y.name}function B(Y){if(!Y)return null;const te=-1!==Y.indexOf("/"),ne=Y.split(",");return te?ne.map(we=>{const ze=we.split("/");return ze.length<2?null:{min:parseFloat(ze[0]),max:parseFloat(ze[1]),resolution:ze.length>=3&&"0"!==ze[2]?parseFloat(ze[2]):void 0}}).filter(we=>we):ne.map(we=>parseFloat(we))}function Be(Y){if(!Y)return null;const te=-1!==Y.indexOf("/"),ne=Y.split(",");return te?ne.map(we=>{const ze=we.split("/");return ze.length<2?null:{min:ze[0],max:ze[1],resolution:ze.length>=3&&"0"!==ze[2]?ze[2]:void 0}}).filter(we=>we):ne}function $(Y){if(!Y)return null;const te=-1!==Y.indexOf("/"),ne=Y.split(",");return te?ne.map(we=>{const ze=we.split("/");return ze.length<2?null:{min:new Date(ze[0]),max:new Date(ze[1]),resolution:ze.length>=3&&"0"!==ze[2]?k(ze[2]):void 0}}).filter(we=>we):ne.map(we=>new Date(we))}function k(Y){const ne=Y.match(/(?:p(\d+y|\d+(?:.|,)\d+y)?(\d+m|\d+(?:.|,)\d+m)?(\d+d|\d+(?:.|,)\d+d)?)?(?:t(\d+h|\d+(?:.|,)\d+h)?(\d+m|\d+(?:.|,)\d+m)?(\d+s|\d+(?:.|,)\d+s)?)?/i);return ne?{years:T(ne[1]),months:T(ne[2]),days:T(ne[3]),hours:T(ne[4]),minutes:T(ne[5]),seconds:T(ne[6])}:null}function T(Y){if(!Y)return 0;const ne=Y.match(/(?:\d+(?:.|,)\d+|\d+)/);if(!ne)return 0;const we=ne[0].replace(",",".");return Number(we)}function E(Y){return Y.toISOString().replace(/\.[0-9]{3}/,"")}const D=new Set([102100,3857,102113,900913]),O=new Set([3395,54004]),F=new ce.Xn({bmp:"image/bmp",gif:"image/gif",jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml"},{ignoreUnknown:!1});let V=class extends((0,re.p)((0,Oe.h)((0,Ne.n)((0,Qe.Q)((0,ot.M)((0,qe.q)((0,He.I)((0,de.R)(ve.Z))))))))){constructor(...Y){super(...Y),this.allSublayers=new he.Z({getCollections:()=>[this.sublayers],getChildrenFunction:te=>te.sublayers}),this.customParameters=null,this.customLayerParameters=null,this.copyright=null,this.description=null,this.dimensions=null,this.fullExtent=null,this.fullExtents=null,this.featureInfoFormat=null,this.featureInfoUrl=null,this.imageFormat=null,this.imageMaxHeight=2048,this.imageMaxWidth=2048,this.imageTransparency=!0,this.legendEnabled=!0,this.mapUrl=null,this.isReference=null,this.operationalLayerType="WMS",this.spatialReference=null,this.spatialReferences=null,this.sublayers=null,this.type="wms",this.url=null,this.version=null,this.watch("sublayers",(te,ne)=>{if(ne){for(const we of ne)we.layer=null;this.handles.remove("wms-sublayer")}if(te){for(const we of te)we.parent=this,we.layer=this;this.handles.add([te.on("after-add",({item:we})=>{we.parent=this,we.layer=this}),te.on("after-remove",({item:we})=>{we.parent=null,we.layer=null})],"wms-sublayer")}},!0)}normalizeCtorArgs(Y,te){return"string"==typeof Y?ji({url:Y},te):Y}load(Y){const te=(0,xe.pC)(Y)?Y.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["WMS"]},Y).catch(Ae.r9).then(()=>this._fetchService(te))),Promise.resolve(this)}readFullExtentFromItemOrMap(Y,te){const ne=te.extent;return new Ve.Z({xmin:ne[0][0],ymin:ne[0][1],xmax:ne[1][0],ymax:ne[1][1]})}writeFullExtent(Y,te){te.extent=[[Y.xmin,Y.ymin],[Y.xmax,Y.ymax]]}readImageFormat(Y,te){const ne=te.supportedImageFormatTypes;return ne&&ne.indexOf("image/png")>-1?"image/png":ne&&ne[0]}readSpatialReferenceFromItemOrDocument(Y,te){return new Le.Z(te.spatialReferences[0])}writeSpatialReferences(Y,te){const ne=this.spatialReference&&this.spatialReference.wkid;Y&&ne?(te.spatialReferences=Y.filter(we=>we!==ne),te.spatialReferences.unshift(ne)):te.spatialReferences=Y}readSublayersFromItemOrMap(Y,te,ne){return X(te.layers,ne,te.visibleLayers)}readSublayers(Y,te,ne){return X(te.layers,ne)}writeSublayers(Y,te,ne,we){te.layers=[];const ze=new Map,_t=Y.flatten(({sublayers:Mt})=>Mt&&Mt.toArray()).toArray();_t.forEach(Mt=>{"number"==typeof Mt.parent.id&&(ze.has(Mt.parent.id)?ze.get(Mt.parent.id).push(Mt.id):ze.set(Mt.parent.id,[Mt.id]))}),_t.forEach(Mt=>{const pe=ji({sublayer:Mt},we),Ge=Mt.write({parentLayerId:"number"==typeof Mt.parent.id?Mt.parent.id:-1},pe);if(ze.has(Mt.id)&&(Ge.sublayerIds=ze.get(Mt.id)),!Mt.sublayers&&Mt.name){const it=Mt.write({},pe);delete it.id,te.layers.push(it)}}),te.visibleLayers=_t.filter(Mt=>Mt.visible&&!Mt.sublayers).map(Mt=>Mt.name)}createExportImageParameters(Y,te,ne,we){const ze=we&&we.pixelRatio||1,_t=(0,tt.yZ)({extent:Y,width:te})*ze,Mt=new nt.j({layer:this,scale:_t}),{xmin:pe,ymin:Ge,xmax:it,ymax:ht,spatialReference:mt}=Y,yt=function(Y,te){let ne=Y.wkid;return(0,xe.Wi)(te)?ne:(!te.includes(ne)&&Y.latestWkid&&(ne=Y.latestWkid),D.has(ne)?te.find(we=>D.has(we))||te.find(we=>O.has(we))||102100:ne)}(mt,this.spatialReferences),Ot="1.3.0"===this.version&&jt(yt)?`${Ge},${pe},${ht},${it}`:`${pe},${Ge},${it},${ht}`,St=Mt.toJSON();return ji({bbox:Ot,["1.3.0"===this.version?"crs":"srs"]:isNaN(yt)?void 0:"EPSG:"+yt},St)}fetchImage(Y,te,ne,we){var ze=this;return(0,z.Z)(function*(){var _t,Mt;const pe=ze.mapUrl,Ge=ze.createExportImageParameters(Y,te,ne,we);if(!Ge.layers){const Ot=document.createElement("canvas");return Ot.width=te,Ot.height=ne,Ot}const it=null==we||null==(_t=we.timeExtent)?void 0:_t.start,ht=null==we||null==(Mt=we.timeExtent)?void 0:Mt.end,mt=(0,xe.pC)(it)&&(0,xe.pC)(ht)?it.getTime()===ht.getTime()?E(it):`${E(it)}/${E(ht)}`:void 0,yt={responseType:"image",query:ze._mixCustomParameters(ji(fr(ji({width:te,height:ne},Ge),{time:mt}),ze.refreshParameters)),signal:null==we?void 0:we.signal};return(0,Ie.default)(pe,yt).then(Ot=>Ot.data)})()}fetchFeatureInfo(Y,te,ne,we,ze){const _t=(0,tt.yZ)({extent:Y,width:te}),pe=function(Y){return Y.length?Y.filter(te=>te.popupEnabled&&te.name&&te.queryable).map(te=>te.name).join(","):""}(new nt.j({layer:this,scale:_t}).visibleSublayers);if(!this.featureInfoUrl||!pe)return null;const it=ji({query_layers:pe,request:"GetFeatureInfo",info_format:this.featureInfoFormat,feature_count:25,width:te,height:ne},"1.3.0"===this.version?{I:we,J:ze}:{x:we,y:ze}),ht=ji(ji({},this.createExportImageParameters(Y,te,ne)),it),mt=this._mixCustomParameters(ht),yt=(0,me.fl)(this.featureInfoUrl,mt),Ot=document.createElement("iframe");Ot.src=yt,Ot.frameBorder="0",Ot.marginHeight="0",Ot.marginWidth="0",Ot.style.width="100%",Ot.setAttribute("sandbox","");const St=new Ce.Z({title:this.title,content:Ot});return new Me.Z({sourceLayer:this,popupTemplate:St})}findSublayerById(Y){return this.allSublayers.find(te=>te.id===Y)}findSublayerByName(Y){return this.allSublayers.find(te=>te.name===Y)}supportsSpatialReference(Y){return(0,Se.G)(this.url)||this.spatialReferences.some(te=>{const ne=900913===te?Le.Z.WebMercator:new Le.Z({wkid:te});return(0,je.fS)(ne,Y)})}_fetchService(Y){var te=this;return(0,z.Z)(function*(){if(!te.resourceInfo){te.parsedUrl.query&&te.parsedUrl.query.service&&(te.parsedUrl.query.SERVICE=te.parsedUrl.query.service,delete te.parsedUrl.query.service),te.parsedUrl.query&&te.parsedUrl.query.request&&(te.parsedUrl.query.REQUEST=te.parsedUrl.query.request,delete te.parsedUrl.query.request);const ne=yield(0,Ie.default)(te.parsedUrl.path,{query:ji(ji({SERVICE:"WMS",REQUEST:"GetCapabilities"},te.parsedUrl.query),te.customParameters),responseType:"xml",signal:Y});te.resourceInfo=dt(ne.data)}if(te.parsedUrl){const ne=new me.R9(te.parsedUrl.path);"https"!==ne.scheme||ne.port&&"443"!==ne.port||-1!==Te.Z.request.httpsDomains.indexOf(ne.host)||Te.Z.request.httpsDomains.push(ne.host)}te.read(te.resourceInfo,{origin:"service"})})()}_mixCustomParameters(Y){if(!this.customLayerParameters&&!this.customParameters)return Y;const te=ji(ji({},this.customParameters),this.customLayerParameters);for(const ne in te)Y[ne.toLowerCase()]=te[ne];return Y}};function X(Y,te,ne){const we=new Map;Y.every(_t=>null==_t.id)&&(Y=(0,be.d9)(Y)).forEach((_t,Mt)=>_t.id=Mt);for(const _t of Y){const Mt=new Vt;Mt.read(_t,te),-1===(null==ne?void 0:ne.indexOf(Mt.name))&&(Mt.visible=!1),we.set(Mt.id,Mt)}const ze=[];for(const _t of Y){const Mt=we.get(_t.id);if(null!=_t.parentLayerId&&_t.parentLayerId>=0){const pe=we.get(_t.parentLayerId);pe.sublayers||(pe.sublayers=new ye.Z),pe.sublayers.unshift(Mt)}else ze.unshift(Mt)}return ze}(0,J._)([(0,le.Cb)({readOnly:!0})],V.prototype,"allSublayers",void 0),(0,J._)([(0,le.Cb)({json:{type:Object,write:!0}})],V.prototype,"customParameters",void 0),(0,J._)([(0,le.Cb)({json:{type:Object,write:!0}})],V.prototype,"customLayerParameters",void 0),(0,J._)([(0,le.Cb)({type:String,json:{write:!0}})],V.prototype,"copyright",void 0),(0,J._)([(0,le.Cb)()],V.prototype,"description",void 0),(0,J._)([(0,le.Cb)({readOnly:!0})],V.prototype,"dimensions",void 0),(0,J._)([(0,le.Cb)({json:{type:[[Number]],read:{source:"extent"},write:{target:"extent"},origins:{"web-document":{write:{ignoreOrigin:!0}},"portal-item":{write:{ignoreOrigin:!0}}}}})],V.prototype,"fullExtent",void 0),(0,J._)([(0,Ee.r)(["web-document","portal-item"],"fullExtent",["extent"])],V.prototype,"readFullExtentFromItemOrMap",null),(0,J._)([(0,Ue.c)(["web-document","portal-item"],"fullExtent",{extent:{type:[[Number]]}})],V.prototype,"writeFullExtent",null),(0,J._)([(0,le.Cb)()],V.prototype,"fullExtents",void 0),(0,J._)([(0,le.Cb)({type:String,json:{write:{ignoreOrigin:!0}}})],V.prototype,"featureInfoFormat",void 0),(0,J._)([(0,le.Cb)({type:String,json:{write:{ignoreOrigin:!0}}})],V.prototype,"featureInfoUrl",void 0),(0,J._)([(0,le.Cb)({type:String,json:{origins:{"web-document":{default:"image/png",type:F.jsonValues,read:{reader:F.read,source:"format"},write:{writer:F.write,target:"format"}}}}})],V.prototype,"imageFormat",void 0),(0,J._)([(0,Ee.r)("imageFormat",["supportedImageFormatTypes"])],V.prototype,"readImageFormat",null),(0,J._)([(0,le.Cb)({type:Number,json:{read:{source:"maxHeight"},write:{target:"maxHeight"}}})],V.prototype,"imageMaxHeight",void 0),(0,J._)([(0,le.Cb)({type:Number,json:{read:{source:"maxWidth"},write:{target:"maxWidth"}}})],V.prototype,"imageMaxWidth",void 0),(0,J._)([(0,le.Cb)()],V.prototype,"imageTransparency",void 0),(0,J._)([(0,le.Cb)($e.rn)],V.prototype,"legendEnabled",void 0),(0,J._)([(0,le.Cb)({type:["show","hide","hide-children"]})],V.prototype,"listMode",void 0),(0,J._)([(0,le.Cb)({type:String,json:{write:{ignoreOrigin:!0}}})],V.prototype,"mapUrl",void 0),(0,J._)([(0,le.Cb)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],V.prototype,"isReference",void 0),(0,J._)([(0,le.Cb)({type:["WMS"]})],V.prototype,"operationalLayerType",void 0),(0,J._)([(0,le.Cb)({type:Le.Z,json:{origins:{service:{read:{source:"extent.spatialReference"}}},write:!1}})],V.prototype,"spatialReference",void 0),(0,J._)([(0,Ee.r)(["web-document","portal-item"],"spatialReference",["spatialReferences"])],V.prototype,"readSpatialReferenceFromItemOrDocument",null),(0,J._)([(0,le.Cb)({type:[oe.z8],json:{read:!1,origins:{service:{read:!0},"web-document":{read:!1,write:{ignoreOrigin:!0}},"portal-item":{read:!1,write:{ignoreOrigin:!0}}}}})],V.prototype,"spatialReferences",void 0),(0,J._)([(0,Ue.c)(["web-document","portal-item"],"spatialReferences")],V.prototype,"writeSpatialReferences",null),(0,J._)([(0,le.Cb)({type:ye.Z.ofType(Vt),json:{write:{target:"layers",overridePolicy(Y,te,ne){if(function(Y,te){return Y.some(ne=>{for(const we in ne)if((0,Fe.df)(ne,we,null,te))return!0;return!1})}(this.allSublayers,ne))return{ignoreOrigin:!0}}}}})],V.prototype,"sublayers",void 0),(0,J._)([(0,Ee.r)(["web-document","portal-item"],"sublayers",["layers","visibleLayers"])],V.prototype,"readSublayersFromItemOrMap",null),(0,J._)([(0,Ee.r)("service","sublayers",["layers"])],V.prototype,"readSublayers",null),(0,J._)([(0,Ue.c)("sublayers",{layers:{type:[Vt]},visibleLayers:{type:[String]}})],V.prototype,"writeSublayers",null),(0,J._)([(0,le.Cb)({json:{read:!1},readOnly:!0,value:"wms"})],V.prototype,"type",void 0),(0,J._)([(0,le.Cb)($e.HQ)],V.prototype,"url",void 0),(0,J._)([(0,le.Cb)({type:String,json:{write:{ignoreOrigin:!0}}})],V.prototype,"version",void 0),V=(0,J._)([(0,ge.j)("esri.layers.WMSLayer")],V);var ie=V},69526:(hi,lt,N)=>{"use strict";N.r(lt),N.d(lt,{default:()=>O});var qe,z=N(15861),J=N(17626),Te=N(84792),Me=N(7093),Ce=N(26584),Ie=N(72392),ye=N(58817),he=N(99959),re=N(94113),ce=N(10699),be=N(21726),xe=N(77712),le=(N(90912),N(8314),N(63290),N(68653)),oe=N(61403),se=N(99433),fe=N(2004),Ee=N(63602),ge=N(28678),Ue=N(30759),Fe=N(49286),Ve=N(6647),Le=N(30346),tt=N(99555),je=N(2584),ve=N(91309),Oe=N(86162);let He=qe=class extends Oe.wq{constructor(L){super(L),this.fullExtent=null,this.id=null,this.tileInfo=null}clone(){const L=new qe;return this.hasOwnProperty("fullExtent")&&(L.fullExtent=this.fullExtent&&this.fullExtent.clone()),this.hasOwnProperty("id")&&(L.id=this.id),this.hasOwnProperty("tileInfo")&&(L.tileInfo=this.tileInfo&&this.tileInfo.clone()),L}};(0,J._)([(0,xe.Cb)({type:fe.Z,json:{read:{source:"fullExtent"}}})],He.prototype,"fullExtent",void 0),(0,J._)([(0,xe.Cb)({type:String,json:{read:{source:"id"}}})],He.prototype,"id",void 0),(0,J._)([(0,xe.Cb)({type:je.Z,json:{read:{source:"tileInfo"}}})],He.prototype,"tileInfo",void 0),He=qe=(0,J._)([(0,oe.j)("esri.layer.support.TileMatrixSet")],He);var ot,Qe=He;let Ne=ot=class extends Oe.wq{constructor(L){super(L),this.id=null,this.title=null,this.description=null,this.legendUrl=null}clone(){const L=new ot;return this.hasOwnProperty("description")&&(L.description=this.description),this.hasOwnProperty("id")&&(L.id=this.id),this.hasOwnProperty("isDefault")&&(L.isDefault=this.isDefault),this.hasOwnProperty("keywords")&&(L.keywords=this.keywords&&this.keywords.slice()),this.hasOwnProperty("legendUrl")&&(L.legendUrl=this.legendUrl),this.hasOwnProperty("title")&&(L.title=this.title),L}};(0,J._)([(0,xe.Cb)({json:{read:{source:"id"}}})],Ne.prototype,"id",void 0),(0,J._)([(0,xe.Cb)({json:{read:{source:"title"}}})],Ne.prototype,"title",void 0),(0,J._)([(0,xe.Cb)({json:{read:{source:"abstract"}}})],Ne.prototype,"description",void 0),(0,J._)([(0,xe.Cb)({json:{read:{source:"legendUrl"}}})],Ne.prototype,"legendUrl",void 0),(0,J._)([(0,xe.Cb)({json:{read:{source:"isDefault"}}})],Ne.prototype,"isDefault",void 0),(0,J._)([(0,xe.Cb)({json:{read:{source:"keywords"}}})],Ne.prototype,"keywords",void 0),Ne=ot=(0,J._)([(0,oe.j)("esri.layer.support.WMTSStyle")],Ne);var $e,Se=Ne;let nt=$e=class extends Oe.wq{constructor(L){super(L),this.fullExtent=null,this.fullExtents=null,this.imageFormats=null,this.id=null,this.layer=null,this.styles=null,this.tileMatrixSetId=null,this.tileMatrixSets=null}get description(){return this._get("description")}set description(L){this._set("description",L)}readFullExtent(L,F){return(L=F.fullExtent)?fe.Z.fromJSON(L):null}readFullExtents(L,F){var V;return null!=(V=F.fullExtents)&&V.length?F.fullExtents.map(W=>fe.Z.fromJSON(W)):F.tileMatrixSets.map(W=>fe.Z.fromJSON(W.fullExtent)).filter(W=>W)}get imageFormat(){let L=this._get("imageFormat");return L||(L=this.imageFormats&&this.imageFormats.length?this.imageFormats[0]:""),L}set imageFormat(L){const F=this.imageFormats;L&&(L.indexOf("image/")>-1||F&&-1===F.indexOf(L))&&(-1===L.indexOf("image/")&&(L="image/"+L),F&&-1===F.indexOf(L))?console.error("The layer doesn't support the format of "+L):this._set("imageFormat",L)}get styleId(){let L=this._get("styleId");return L||(L=this.styles&&this.styles.length?this.styles.getItemAt(0).id:""),L}set styleId(L){this._set("styleId",L)}get title(){return this._get("title")}set title(L){this._set("title",L)}get tileMatrixSet(){return this.tileMatrixSets?this.tileMatrixSets.find(L=>L.id===this.tileMatrixSetId):null}clone(){const L=new $e;return this.hasOwnProperty("description")&&(L.description=this.description),this.hasOwnProperty("imageFormats")&&(L.imageFormats=this.imageFormats&&this.imageFormats.slice()),this.hasOwnProperty("imageFormat")&&(L.imageFormat=this.imageFormat),this.hasOwnProperty("fullExtent")&&(L.fullExtent=this.fullExtent&&this.fullExtent.clone()),this.hasOwnProperty("id")&&(L.id=this.id),this.hasOwnProperty("layer")&&(L.layer=this.layer),this.hasOwnProperty("styleId")&&(L.styleId=this.styleId),this.hasOwnProperty("styles")&&(L.styles=this.styles&&this.styles.clone()),this.hasOwnProperty("tileMatrixSetId")&&(L.tileMatrixSetId=this.tileMatrixSetId),this.hasOwnProperty("tileMatrixSets")&&(L.tileMatrixSets=this.tileMatrixSets.clone()),this.hasOwnProperty("title")&&(L.title=this.title),L}};(0,J._)([(0,xe.Cb)()],nt.prototype,"description",null),(0,J._)([(0,xe.Cb)()],nt.prototype,"fullExtent",void 0),(0,J._)([(0,le.r)("fullExtent",["fullExtent"])],nt.prototype,"readFullExtent",null),(0,J._)([(0,xe.Cb)({readOnly:!0})],nt.prototype,"fullExtents",void 0),(0,J._)([(0,le.r)("fullExtents",["fullExtents","tileMatrixSets"])],nt.prototype,"readFullExtents",null),(0,J._)([(0,xe.Cb)()],nt.prototype,"imageFormat",null),(0,J._)([(0,xe.Cb)({json:{read:{source:"formats"}}})],nt.prototype,"imageFormats",void 0),(0,J._)([(0,xe.Cb)()],nt.prototype,"id",void 0),(0,J._)([(0,xe.Cb)()],nt.prototype,"layer",void 0),(0,J._)([(0,xe.Cb)()],nt.prototype,"styleId",null),(0,J._)([(0,xe.Cb)({type:Me.Z.ofType(Se),json:{read:{source:"styles"}}})],nt.prototype,"styles",void 0),(0,J._)([(0,xe.Cb)({value:null,json:{write:{ignoreOrigin:!0}}})],nt.prototype,"title",null),(0,J._)([(0,xe.Cb)()],nt.prototype,"tileMatrixSetId",void 0),(0,J._)([(0,xe.Cb)({readOnly:!0})],nt.prototype,"tileMatrixSet",null),(0,J._)([(0,xe.Cb)({type:Me.Z.ofType(Qe),json:{read:{source:"tileMatrixSets"}}})],nt.prototype,"tileMatrixSets",void 0),nt=$e=(0,J._)([(0,oe.j)("esri.layers.support.WMTSSublayer")],nt);var ut=nt,xt=N(62208),Ze=N(49672),et=N(12080),gt=N(84029),Vt=N(7255);const Bt=90.71428571428571,Lt=[[3819,3819],[3821,3824],[3889,3889],[3906,3906],[4001,4025],[4027,4036],[4039,4047],[4052,4055],[4074,4075],[4080,4081],[4120,4176],[4178,4185],[4188,4216],[4218,4289],[4291,4304],[4306,4319],[4322,4326],[4463,4463],[4470,4470],[4475,4475],[4483,4483],[4490,4490],[4555,4558],[4600,4646],[4657,4765],[4801,4811],[4813,4821],[4823,4824],[4901,4904],[5013,5013],[5132,5132],[5228,5229],[5233,5233],[5246,5246],[5252,5252],[5264,5264],[5324,5340],[5354,5354],[5360,5360],[5365,5365],[5370,5373],[5381,5381],[5393,5393],[5451,5451],[5464,5464],[5467,5467],[5489,5489],[5524,5524],[5527,5527],[5546,5546],[2044,2045],[2081,2083],[2085,2086],[2093,2093],[2096,2098],[2105,2132],[2169,2170],[2176,2180],[2193,2193],[2200,2200],[2206,2212],[2319,2319],[2320,2462],[2523,2549],[2551,2735],[2738,2758],[2935,2941],[2953,2953],[3006,3030],[3034,3035],[3038,3051],[3058,3059],[3068,3068],[3114,3118],[3126,3138],[3150,3151],[3300,3301],[3328,3335],[3346,3346],[3350,3352],[3366,3366],[3389,3390],[3416,3417],[3833,3841],[3844,3850],[3854,3854],[3873,3885],[3907,3910],[4026,4026],[4037,4038],[4417,4417],[4434,4434],[4491,4554],[4839,4839],[5048,5048],[5105,5130],[5253,5259],[5269,5275],[5343,5349],[5479,5482],[5518,5519],[5520,5520],[20004,20032],[20064,20092],[21413,21423],[21473,21483],[21896,21899],[22171,22177],[22181,22187],[22191,22197],[25884,25884],[27205,27232],[27391,27398],[27492,27492],[28402,28432],[28462,28492],[30161,30179],[30800,30800],[31251,31259],[31275,31279],[31281,31290],[31466,31700]];function jt(L){return L.nodeType===Node.ELEMENT_NODE}function Rt(L,F){for(let V=0;V<F.childNodes.length;V++){const W=F.childNodes[V];if(jt(W)&&W.nodeName===L)return W}return null}function _e(L,F){const V=[];for(let W=0;W<F.childNodes.length;W++){const X=F.childNodes[W];jt(X)&&X.nodeName===L&&V.push(X)}return V}function ke(L,F){const V=[];for(let W=0;W<F.childNodes.length;W++){const X=F.childNodes[W];jt(X)&&X.nodeName===L&&V.push(X)}return V.map(W=>W.textContent)}function rt(L,F){return L.split(">").forEach(V=>{F&&(F=Rt(V,F))}),F&&F.textContent}function Dt(L,F,V,W){let X;return Array.prototype.slice.call(W.childNodes).some(ie=>{if(ie.nodeName.indexOf(L)>-1){const Y=Rt(F,ie),te=Y&&Y.textContent;if(te===V||V.split(":")&&V.split(":")[1]===te)return X=ie,!0}return!1}),X}function st(L,F){var V;const W=[],X=null==(V=L.layerMap)?void 0:V.get(F);if(!X)return;const ie=_e("ResourceURL",X),Y=_e("Dimension",X);let te,ne,we,ze;return Y.length&&(te=rt("Identifier",Y[0]),ne=ke("Default",Y[0])||ke("Value",Y[0])),Y.length>1&&(we=rt("Identifier",Y[1]),ze=ke("Default",Y[1])||ke("Value",Y[1])),L.dimensionMap.set(F,{dimensions:ne,dimensions2:ze}),ie.forEach(_t=>{let Mt=_t.getAttribute("template");if("tile"===_t.getAttribute("resourceType")){if(te&&ne.length)if(Mt.indexOf("{"+te+"}")>-1)Mt=Mt.replace("{"+te+"}","{dimensionValue}");else{const pe=Mt.toLowerCase().indexOf("{"+te.toLowerCase()+"}");pe>-1&&(Mt=Mt.substring(0,pe)+"{dimensionValue}"+Mt.substring(pe+te.length+2))}if(we&&ze.length)if(Mt.indexOf("{"+we+"}")>-1)Mt=Mt.replace("{"+we+"}","{dimensionValue2}");else{const pe=Mt.toLowerCase().indexOf("{"+we.toLowerCase()+"}");pe>-1&&(Mt=Mt.substring(0,pe)+"{dimensionValue2}"+Mt.substring(pe+we.length+2))}W.push({template:Mt,format:_t.getAttribute("format"),resourceType:"tile"})}}),W}function pi(L){const F=Rt("WGS84BoundingBox",L),V=F?rt("LowerCorner",F).split(" "):["-180","-90"],W=F?rt("UpperCorner",F).split(" "):["180","90"];return{xmin:parseFloat(V[0]),ymin:parseFloat(V[1]),xmax:parseFloat(W[0]),ymax:parseFloat(W[1]),spatialReference:{wkid:4326}}}function We(L){const F=[];return(0,Vt.h)(L,{BoundingBox:V=>{const W=V.getAttribute("crs"),X=yn(W),ie=W.includes("epsg")&&li(X.wkid);let Y,te,ne,we;(0,Vt.h)(V,{LowerCorner:ze=>{[Y,te]=ze.textContent.split(" ").map(_t=>Number.parseFloat(_t)),ie&&([Y,te]=[te,Y])},UpperCorner:ze=>{[ne,we]=ze.textContent.split(" ").map(_t=>Number.parseFloat(_t)),ie&&([ne,we]=[we,ne])}}),F.push({xmin:Y,ymin:te,xmax:ne,ymax:we,spatialReference:X})}}),F}function fi(L,F){return _e("Style",L).map(V=>{const W=Rt("LegendURL",V),X=Rt("Keywords",V),ie=X&&ke("Keyword",X);let Y=W&&W.getAttribute("xlink:href");return F&&(Y=Y&&Y.replace(/^http:/i,"https:")),{abstract:rt("Abstract",V),id:rt("Identifier",V),isDefault:"true"===V.getAttribute("isDefault"),keywords:ie,legendUrl:Y,title:rt("Title",V)}})}function Mi(L,F,V){return _e("TileMatrixSetLink",F).map(W=>Rt("TileMatrixSet",W).textContent).map(W=>function(L,F,V,W){const X=ke("TileMatrix",Dt("TileMatrixSetLink","TileMatrixSet",F,V)),ie=W.find(Ge=>{const it=Rt("Identifier",Ge),ht=it&&it.textContent;return!!(ht===F||F.split(":")&&F.split(":")[1]===ht)}),Y=function(L){const F=rt("SupportedCRS",L).toLowerCase(),V=yn(F),W=rt("TopLeftCorner",Rt("TileMatrix",L)).split(" "),X=W[0].split("E").map(ne=>Number(ne)),ie=W[1].split("E").map(ne=>Number(ne)),Y=X.length>1?X[0]*10**X[1]:X[0],te=ie.length>1?ie[0]*10**ie[1]:ie[0];return F.includes("epsg")&&li(V.wkid)?new Ze.Z({x:te,y:Y,spatialReference:V}):new Ze.Z({x:Y,y:te,spatialReference:V})}(ie),te=Y.spatialReference,ne=te.wkid,we=Rt("TileMatrix",ie),ze=[parseInt(rt("TileWidth",we),10),parseInt(rt("TileHeight",we),10)],_t=[];X.length?X.forEach((Ge,it)=>{const ht=Dt("TileMatrix","Identifier",Ge,ie);_t.push(Be(ht,ne,it,F))}):_e("TileMatrix",ie).forEach((Ge,it)=>{_t.push(Be(Ge,ne,it,F))});const Mt=function(L,F,V,W,X){const ie=Rt("BoundingBox",F);let Y,te,ne,we,ze,_t;if(ie&&(Y=rt("LowerCorner",ie).split(" "),te=rt("UpperCorner",ie).split(" ")),Y&&Y.length>1&&te&&te.length>1)ne=parseFloat(Y[0]),ze=parseFloat(Y[1]),we=parseFloat(te[0]),_t=parseFloat(te[1]);else{const Mt=Rt("TileMatrix",F),pe=parseInt(rt("MatrixWidth",Mt),10),Ge=parseInt(rt("MatrixHeight",Mt),10);ne=V.x,_t=V.y,we=ne+pe*W[0]*X.resolution,ze=_t-Ge*W[1]*X.resolution}return function(L,F){return"1.0.0"===L&&li(F.wkid)}(L,V.spatialReference)?new fe.Z(ze,ne,_t,we,V.spatialReference):new fe.Z(ne,ze,we,_t,V.spatialReference)}(L,ie,Y,ze,_t[0]).toJSON(),pe=new je.Z({dpi:96,spatialReference:te,size:ze,origin:Y,lods:_t}).toJSON();return{id:F,fullExtent:Mt,tileInfo:pe}}(L,W,F,V))}function yn(L){L=L.toLowerCase();let F=parseInt(L.split(":").pop(),10);900913!==F&&3857!==F||(F=102100);const V=function(L){return L.includes("crs84")||L.includes("crs:84")?4326:L.includes("crs83")||L.includes("crs:83")?4269:L.includes("crs27")||L.includes("crs:27")?4267:null}(L);return(0,xt.pC)(V)&&(F=V),{wkid:F}}function li(L){return Lt.some(([F,V])=>L>=F&&L<=V)}function Be(L,F,V,W){const X=rt("Identifier",L),ie=rt("ScaleDenominator",L).split("E").map(ne=>Number(ne));let Y;Y=ie.length>1?ie[0]*10**ie[1]:ie[0];const te=$(F,Y,W);return Y*=96/Bt,{cols:parseInt(rt("MatrixWidth",L),10),level:V,levelValue:X,scale:Y,resolution:te,rows:parseInt(rt("MatrixHeight",L),10)}}function $(L,F,V){let W;return W=gt.Z.hasOwnProperty(String(L))?gt.Z.values[gt.Z[L]]:"default028mm"===V?6370997*Math.PI/180:(0,et.e8)(L).metersPerDegree,7*F/25e3/W}const k={"image/png":".png","image/png8":".png","image/png24":".png","image/png32":".png","image/jpg":".jpg","image/jpeg":".jpeg","image/gif":".gif","image/bmp":".bmp","image/tiff":".tif","image/jpgpng":"","image/jpegpng":"","image/unknown":""},T=new Set(["version","service","request","layer","style","format","tilematrixset","tilematrix","tilerow","tilecol"]);let E=class extends((0,Ue.h)((0,Le.Q)((0,tt.M)((0,Fe.q)((0,Ve.I)((0,he.R)(Ee.Z))))))){constructor(...L){super(...L),this._sublayersHandles=new Ie.Z,this.copyright="",this.customParameters=null,this.customLayerParameters=null,this.fullExtent=null,this.operationalLayerType="WebTiledLayer",this.resourceInfo=null,this.serviceMode="RESTful",this.sublayers=null,this.type="wmts",this.version="1.0.0",this.watch("activeLayer",(F,V)=>{V&&(V.layer=null),F&&(F.layer=this)},!0),this.watch("sublayers",(F,V)=>{V&&(V.forEach(W=>{W.layer=null}),this._sublayersHandles.removeAll(),this._sublayersHandles=null),F&&(F.forEach(W=>{W.layer=this}),this._sublayersHandles||(this._sublayersHandles=new Ie.Z),this._sublayersHandles.add([F.on("after-add",({item:W})=>{W.layer=this}),F.on("after-remove",({item:W})=>{W.layer=null})]))},!0)}normalizeCtorArgs(L,F){return"string"==typeof L?ji({url:L},F):L}load(L){if("KVP"===this.serviceMode||"RESTful"===this.serviceMode)return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["WMTS"]},L).catch(ce.r9).then(()=>this._fetchService(L)).catch(F=>{throw(0,ce.r9)(F),new Ce.Z("wmtslayer:unsupported-service-data","Invalid response from the WMTS service.",{error:F})})),Promise.resolve(this);console.error("WMTS mode could only be 'KVP' or 'RESTful'")}get activeLayer(){return this._get("activeLayer")}set activeLayer(L){this._set("activeLayer",L)}readActiveLayerFromService(L,F,V){this.activeLayer||(this.activeLayer=new ut);let W=F.layers.find(X=>X.id===this.activeLayer.id);return W||(W=F.layers[0]),this.activeLayer.read(W,V),this.activeLayer}readActiveLayerFromItemOrWebDoc(L,F){const{templateUrl:V,wmtsInfo:W}=F,X=V?this._getLowerCasedUrlParams(V):null,ie=null==W?void 0:W.layerIdentifier;let Y=null;const te=null==W?void 0:W.tileMatrixSet;return te&&(Array.isArray(te)?te.length&&(Y=te[0]):Y=te),new ut({id:ie,imageFormat:null==X?void 0:X.format,styleId:null==X?void 0:X.style,tileMatrixSetId:Y})}writeActiveLayer(L,F,V,W){const X=this.activeLayer;F.templateUrl=this.getUrlTemplate(X.id,X.tileMatrixSetId,X.imageFormat,X.styleId);const ie=(0,re.hS)("tileMatrixSet.tileInfo",X);F.tileInfo=ie?ie.toJSON(W):null,F.wmtsInfo=fr(ji({},F.wmtsInfo),{layerIdentifier:X.id,tileMatrixSet:X.tileMatrixSetId})}readCustomParameters(L,F){const V=F.wmtsInfo;return V?this._mergeParams(V.customParameters,V.url):null}get fullExtents(){return this.activeLayer.fullExtents}readServiceMode(L,F){return F.templateUrl.indexOf("?")>-1?"KVP":"RESTful"}readSublayersFromService(L,F,V){return function(L,F){return L.map(V=>{const W=new ut;return W.read(V,F),W})}(F.layers,V)}get supportedSpatialReferences(){return this.activeLayer.tileMatrixSets.map(L=>L.tileInfo.spatialReference).toArray()}get title(){var L,F;return null!=(L=null==(F=this.activeLayer)?void 0:F.title)?L:"Layer"}set title(L){L?this._override("title",L):this._clearOverride("title")}get url(){return this._get("url")}set url(L){L&&"/"===L.substr(-1)?this._set("url",L.slice(0,-1)):this._set("url",L)}createWebTileLayer(L){const F=this.getUrlTemplate(this.activeLayer.id,this.activeLayer.tileMatrixSetId,this.activeLayer.imageFormat,this.activeLayer.styleId),V=this._getTileMatrixSetById(L.tileMatrixSetId).tileInfo,W=L.fullExtent,X=new ve.Z({layerIdentifier:L.id,tileMatrixSet:L.tileMatrixSetId,url:this.url});return this.customLayerParameters&&(X.customLayerParameters=this.customLayerParameters),this.customParameters&&(X.customParameters=this.customParameters),new ge.default({fullExtent:W,urlTemplate:F,tileInfo:V,wmtsInfo:X})}fetchTile(L,F,V){const W=this.getTileUrl(L,F,V);return(0,Te.default)(W,{responseType:"image"}).then(X=>X.data)}findSublayerById(L){return this.sublayers.find(F=>F.id===L)}getTileUrl(L,F,V){const W=this._getTileMatrixSetById(this.activeLayer.tileMatrixSetId).tileInfo.lods[L],X=W?W.levelValue?W.levelValue:`${W.level}`:`${L}`;let ie=this.resourceInfo?"":function(L,F,V,W,X,ie,Y,te){const{dimensionMap:ne}=L,we=st(L,F),ze=ne.get(F).dimensions&&ne.get(F).dimensions[0],_t=ne.get(F).dimensions2&&ne.get(F).dimensions2[0];let Mt="";if(we&&we.length>0){let pe=null;we.some(Ge=>Ge.format===W&&(pe=Ge,!0)),pe||(pe=we[Y%we.length]),Mt=pe.template.replace(/\{Style\}/gi,X).replace(/\{TileMatrixSet\}/gi,V).replace(/\{TileMatrix\}/gi,ie).replace(/\{TileRow\}/gi,""+Y).replace(/\{TileCol\}/gi,""+te).replace(/\{dimensionValue\}/gi,ze).replace(/\{dimensionValue2\}/gi,_t)}return Mt}({dimensionMap:this.dimensionMap,layerMap:this.layerMap},this.activeLayer.id,this.activeLayer.tileMatrixSetId,this.activeLayer.imageFormat,this.activeLayer.styleId,X,F,V);return ie||(ie=this.getUrlTemplate(this.activeLayer.id,this.activeLayer.tileMatrixSetId,this.activeLayer.imageFormat,this.activeLayer.styleId).replace(/\{level\}/gi,X).replace(/\{row\}/gi,`${F}`).replace(/\{col\}/gi,`${V}`)),ie=this._appendCustomLayerParameters(ie),ie}getUrlTemplate(L,F,V,W){if(!this.resourceInfo){const X=function(L,F,V,W){const{dimensionMap:X}=L,ie=st(L,F);let Y="";if(ie&&ie.length>0){const te=X.get(F).dimensions&&X.get(F).dimensions[0],ne=X.get(F).dimensions2&&X.get(F).dimensions2[0];Y=ie[0].template,Y.indexOf(".xxx")===Y.length-4&&(Y=Y.slice(0,Y.length-4)),Y=Y.replace(/\{Style\}/gi,W),Y=Y.replace(/\{TileMatrixSet\}/gi,V),Y=Y.replace(/\{TileMatrix\}/gi,"{level}"),Y=Y.replace(/\{TileRow\}/gi,"{row}"),Y=Y.replace(/\{TileCol\}/gi,"{col}"),Y=Y.replace(/\{dimensionValue\}/gi,te),Y=Y.replace(/\{dimensionValue2\}/gi,ne)}return Y}({dimensionMap:this.dimensionMap,layerMap:this.layerMap},L,F,W);if(X)return X}if("KVP"===this.serviceMode)return this.url+"?SERVICE=WMTS&VERSION="+this.version+"&REQUEST=GetTile&LAYER="+L+"&STYLE="+W+"&FORMAT="+V+"&TILEMATRIXSET="+F+"&TILEMATRIX={level}&TILEROW={row}&TILECOL={col}";if("RESTful"===this.serviceMode){let X="";return k[V.toLowerCase()]&&(X=k[V.toLowerCase()]),this.url+L+"/"+W+"/"+F+"/{level}/{row}/{col}"+X}return""}_fetchService(L){var F=this;return(0,z.Z)(function*(){let V;if(F.resourceInfo)"KVP"===F.resourceInfo.serviceMode&&(F.url+=F.url.indexOf("?")>-1?"":"?"),V={ssl:!1,data:F.resourceInfo};else try{V=yield F._getCapabilities(F.serviceMode,L)}catch(W){const X="KVP"===F.serviceMode?"RESTful":"KVP";try{V=yield F._getCapabilities(X,L),F.serviceMode=X}catch(ie){throw new Ce.Z("wmtslayer:unsupported-service-data","Services does not support RESTful or KVP service modes.",{error:ie})}}V.data=F.resourceInfo?function(L){return L.layers.forEach(F=>{F.tileMatrixSets.forEach(V=>{const W=V.tileInfo;96!==W.dpi&&(W.lods.forEach(X=>{X.scale=96*X.scale/W.dpi,X.resolution=$(W.spatialReference.wkid,X.scale*Bt/96,V.id)}),W.dpi=96)})}),L}(V.data):function(L,F){var V,W;L=L.replace(/ows:/gi,"");const X=(new DOMParser).parseFromString(L,"text/xml").documentElement,ie=new Map,Y=new Map,te=Rt("Contents",X);if(!te)throw new Ce.Z("wmtslayer:wmts-capabilities-xml-is-not-valid");const ne=Rt("OperationsMetadata",X),we=null==ne?void 0:ne.querySelector("[name='GetTile']"),ze=null==we?void 0:we.getElementsByTagName("Get"),_t=ze&&Array.prototype.slice.call(ze),Mt=null!=(V=(null==F||null==(W=F.url)?void 0:W.indexOf("https"))>-1)&&V;let pe,Ge,it=F.serviceMode,ht=F&&F.url;if(_t&&_t.length&&_t.some(mi=>{const Ui=Rt("Constraint",mi);return!Ui||Dt("AllowedValues","Value",it,Ui)?(ht=mi.attributes[0].nodeValue,!0):(!Ui||Dt("AllowedValues","Value","RESTful",Ui)||Dt("AllowedValues","Value","REST",Ui)?Ge=mi.attributes[0].nodeValue:Ui&&!Dt("AllowedValues","Value","KVP",Ui)||(pe=mi.attributes[0].nodeValue),!1)}),!ht)if(Ge)ht=Ge,it="RESTful";else if(pe)ht=pe,it="KVP";else{const mi=Rt("ServiceMetadataURL",X);ht=mi&&mi.getAttribute("xlink:href")}const mt=ht.indexOf("1.0.0/");-1===mt&&"RESTful"===it?ht+="/":mt>-1&&(ht=ht.substring(0,mt)),"KVP"===it&&(ht+=mt>-1?"":"?"),Mt&&(ht=ht.replace(/^http:/i,"https:"));const yt=rt("ServiceIdentification>ServiceTypeVersion",X),Ot=rt("ServiceIdentification>AccessConstraints",X),St=_e("Layer",te),Tt=_e("TileMatrixSet",te),_i=St.map(mi=>{const Ui=rt("Identifier",mi);return ie.set(Ui,mi),function(L,F,V,W,X){const ie=rt("Abstract",F),Y=ke("Format",F);return{id:L,fullExtent:pi(F),fullExtents:We(F),description:ie,formats:Y,styles:fi(F,W),title:rt("Title",F),tileMatrixSets:Mi(X,F,V)}}(Ui,mi,Tt,Mt,yt)});return{copyright:Ot,dimensionMap:Y,layerMap:ie,layers:_i,serviceMode:it,tileUrl:ht}}(V.data,{serviceMode:F.serviceMode,url:F.url}),V.data&&F.read(V.data,{origin:"service"})})()}_getCapabilities(L,F){var V=this;return(0,z.Z)(function*(){const W=V._getCapabilitiesUrl(L);return yield(0,Te.default)(W,fr(ji({},F),{responseType:"text"}))})()}_getTileMatrixSetById(L){return this.findSublayerById(this.activeLayer.id).tileMatrixSets.find(F=>F.id===L)}_appendCustomParameters(L){if(this.customParameters)for(const F in this.customParameters)L+=(-1===L.indexOf("?")?"?":"&")+F+"="+encodeURIComponent(this.customParameters[F]);return L}_appendCustomLayerParameters(L){if(this.customLayerParameters||this.customParameters){const F=ji(ji({},(0,ye.d9)(this.customParameters)),this.customLayerParameters);for(const V in F)L+=(-1===L.indexOf("?")?"?":"&")+V+"="+encodeURIComponent(F[V])}return L}_getCapabilitiesUrl(L){let F;return this.url=this.url.split("?")[0],"KVP"===L?F=this.url+"?request=GetCapabilities&service=WMTS&version="+this.version:"RESTful"===L&&(F=this.url+"/"+this.version+"/WMTSCapabilities.xml"),F=this._appendCustomParameters(F),F}_getLowerCasedUrlParams(L){if(!L)return null;const F=(0,be.mN)(L).query;if(!F)return null;const V={};return Object.keys(F).forEach(W=>{V[W.toLowerCase()]=F[W]}),V}_mergeParams(L,F){const V=this._getLowerCasedUrlParams(F);if(V){const W=Object.keys(V);W.length&&(L=L?(0,ye.d9)(L):{},W.forEach(X=>{L.hasOwnProperty(X)||T.has(X)||(L[X]=V[X])}))}return L}};(0,J._)([(0,xe.Cb)()],E.prototype,"dimensionMap",void 0),(0,J._)([(0,xe.Cb)()],E.prototype,"layerMap",void 0),(0,J._)([(0,xe.Cb)({type:ut,json:{origins:{"web-document":{write:{ignoreOrigin:!0}}}}})],E.prototype,"activeLayer",null),(0,J._)([(0,le.r)("service","activeLayer",["layers"])],E.prototype,"readActiveLayerFromService",null),(0,J._)([(0,le.r)(["web-document","portal-item"],"activeLayer",["wmtsInfo"])],E.prototype,"readActiveLayerFromItemOrWebDoc",null),(0,J._)([(0,se.c)(["web-document","portal-item"],"activeLayer",{templateUrl:{type:String},tileInfo:{type:je.Z},"wmtsInfo.layerIdentifier":{type:String},"wmtsInfo.tileMatrixSet":{type:String}})],E.prototype,"writeActiveLayer",null),(0,J._)([(0,xe.Cb)({type:String,value:"",json:{write:!0}})],E.prototype,"copyright",void 0),(0,J._)([(0,xe.Cb)({type:["show","hide"]})],E.prototype,"listMode",void 0),(0,J._)([(0,xe.Cb)({json:{origins:{"web-document":{read:{source:["wmtsInfo.customParameters","wmtsInfo.url"]},write:{target:"wmtsInfo.customParameters"}},"portal-item":{read:{source:["wmtsInfo.customParameters","wmtsInfo.url"]},write:{target:"wmtsInfo.customParameters"}}}}})],E.prototype,"customParameters",void 0),(0,J._)([(0,le.r)("web-document","customParameters"),(0,le.r)("portal-item","customParameters")],E.prototype,"readCustomParameters",null),(0,J._)([(0,xe.Cb)({json:{origins:{"web-document":{read:{source:"wmtsInfo.customLayerParameters"},write:{target:"wmtsInfo.customLayerParameters"}},"portal-item":{read:{source:"wmtsInfo.customLayerParameters"},write:{target:"wmtsInfo.customLayerParameters"}}}}})],E.prototype,"customLayerParameters",void 0),(0,J._)([(0,xe.Cb)({type:fe.Z,json:{write:{ignoreOrigin:!0},origins:{"web-document":{read:{source:"fullExtent"}},"portal-item":{read:{source:"fullExtent"}}}}})],E.prototype,"fullExtent",void 0),(0,J._)([(0,xe.Cb)({readOnly:!0})],E.prototype,"fullExtents",null),(0,J._)([(0,xe.Cb)({type:["WebTiledLayer"]})],E.prototype,"operationalLayerType",void 0),(0,J._)([(0,xe.Cb)()],E.prototype,"resourceInfo",void 0),(0,J._)([(0,xe.Cb)()],E.prototype,"serviceMode",void 0),(0,J._)([(0,le.r)(["portal-item","web-document"],"serviceMode",["templateUrl"])],E.prototype,"readServiceMode",null),(0,J._)([(0,xe.Cb)({type:Me.Z.ofType(ut)})],E.prototype,"sublayers",void 0),(0,J._)([(0,le.r)("service","sublayers",["layers"])],E.prototype,"readSublayersFromService",null),(0,J._)([(0,xe.Cb)({readOnly:!0})],E.prototype,"supportedSpatialReferences",null),(0,J._)([(0,xe.Cb)({json:{read:{source:"title"}}})],E.prototype,"title",null),(0,J._)([(0,xe.Cb)({json:{read:!1},readOnly:!0,value:"wmts"})],E.prototype,"type",void 0),(0,J._)([(0,xe.Cb)({json:{origins:{service:{read:{source:"tileUrl"}},"web-document":{read:{source:"wmtsInfo.url"},write:{target:"wmtsInfo.url"}},"portal-item":{read:{source:"wmtsInfo.url"},write:{target:"wmtsInfo.url"}}}}})],E.prototype,"url",null),(0,J._)([(0,xe.Cb)()],E.prototype,"version",void 0),E=(0,J._)([(0,oe.j)("esri.layers.WMTSLayer")],E);var O=E},28678:(hi,lt,N)=>{"use strict";N.r(lt),N.d(lt,{default:()=>ve});var z=N(17626),Te=(N(29132),N(84792)),Me=N(26584),Ce=N(99959),Ie=N(77275),ye=N(21726),he=N(77712),xe=(N(8314),N(90912),N(63290),N(68653)),de=N(61403),Ae=N(99433),me=N(63602),le=N(30759),oe=N(49286),se=N(6647),fe=N(30346),Ee=N(99555),ge=N(72258),Ue=N(2584),Fe=N(91309),Ve=N(2004),Le=N(65234),tt=N(49672);let je=class extends((0,le.h)((0,fe.Q)((0,Ee.M)((0,oe.q)((0,se.I)((0,Ce.R)(me.Z))))))){constructor(...Oe){super(...Oe),this.copyright="",this.fullExtent=new Ve.Z(-20037508.342787,-20037508.34278,20037508.34278,20037508.342787,Le.Z.WebMercator),this.legendEnabled=!1,this.isReference=null,this.popupEnabled=!1,this.spatialReference=Le.Z.WebMercator,this.subDomains=null,this.tileInfo=new Ue.Z({size:[256,256],dpi:96,format:"png8",compressionQuality:0,origin:new tt.Z({x:-20037508.342787,y:20037508.342787,spatialReference:Le.Z.WebMercator}),spatialReference:Le.Z.WebMercator,lods:[new ge.Z({level:0,scale:591657527.591555,resolution:156543.033928}),new ge.Z({level:1,scale:295828763.795777,resolution:78271.5169639999}),new ge.Z({level:2,scale:147914381.897889,resolution:39135.7584820001}),new ge.Z({level:3,scale:73957190.948944,resolution:19567.8792409999}),new ge.Z({level:4,scale:36978595.474472,resolution:9783.93962049996}),new ge.Z({level:5,scale:18489297.737236,resolution:4891.96981024998}),new ge.Z({level:6,scale:9244648.868618,resolution:2445.98490512499}),new ge.Z({level:7,scale:4622324.434309,resolution:1222.99245256249}),new ge.Z({level:8,scale:2311162.217155,resolution:611.49622628138}),new ge.Z({level:9,scale:1155581.108577,resolution:305.748113140558}),new ge.Z({level:10,scale:577790.554289,resolution:152.874056570411}),new ge.Z({level:11,scale:288895.277144,resolution:76.4370282850732}),new ge.Z({level:12,scale:144447.638572,resolution:38.2185141425366}),new ge.Z({level:13,scale:72223.819286,resolution:19.1092570712683}),new ge.Z({level:14,scale:36111.909643,resolution:9.55462853563415}),new ge.Z({level:15,scale:18055.954822,resolution:4.77731426794937}),new ge.Z({level:16,scale:9027.977411,resolution:2.38865713397468}),new ge.Z({level:17,scale:4513.988705,resolution:1.19432856685505}),new ge.Z({level:18,scale:2256.994353,resolution:.597164283559817}),new ge.Z({level:19,scale:1128.497176,resolution:.298582141647617}),new ge.Z({level:20,scale:564.248588,resolution:.14929107082380833}),new ge.Z({level:21,scale:282.124294,resolution:.07464553541190416}),new ge.Z({level:22,scale:141.062147,resolution:.03732276770595208}),new ge.Z({level:23,scale:70.5310735,resolution:.01866138385297604})]}),this.type="web-tile",this.urlTemplate=null,this.wmtsInfo=null}normalizeCtorArgs(Oe,qe){return"string"==typeof Oe?ji({urlTemplate:Oe},qe):Oe}load(Oe){const qe=this.loadFromPortal({supportedTypes:["WMTS"]},Oe).then(()=>{let He="";if(this.urlTemplate)if(this.spatialReference.equals(this.tileInfo.spatialReference)){const Qe=new ye.R9(this.urlTemplate);this.subDomains&&this.subDomains.length>0||-1===Qe.authority.indexOf("{subDomain}")||(He="is missing 'subDomains' property")}else He="spatialReference must match tileInfo.spatialReference";else He="is missing the required 'urlTemplate' property value";if(He)throw new Me.Z("web-tile-layer:load",`WebTileLayer (title: '${this.title}', id: '${this.id}') ${He}`)});return this.addResolvingPromise(qe),Promise.resolve(this)}get levelValues(){const Oe=[];if(!this.tileInfo)return null;for(const qe of this.tileInfo.lods)Oe[qe.level]=qe.levelValue||qe.level;return Oe}readSpatialReference(Oe,qe){return Oe||qe.fullExtent&&qe.fullExtent.spatialReference&&Le.Z.fromJSON(qe.fullExtent.spatialReference)}get tileServers(){if(!this.urlTemplate)return null;const Oe=[],{urlTemplate:qe,subDomains:He}=this,Qe=new ye.R9(qe),ot=Qe.scheme?Qe.scheme+"://":"//",Ne=ot+Qe.authority+"/";if(-1===Qe.authority.indexOf("{subDomain}"))Oe.push(Ne);else if(He&&He.length>0&&Qe.authority.split(".").length>1)for(const Se of He)Oe.push(ot+Qe.authority.replace(/\{subDomain\}/gi,Se)+"/");return Oe.map(Se=>("/"!==Se.charAt(Se.length-1)&&(Se+="/"),Se))}get urlPath(){if(!this.urlTemplate)return null;const Oe=this.urlTemplate,qe=new ye.R9(Oe);return Oe.substring(((qe.scheme?qe.scheme+"://":"//")+qe.authority+"/").length)}readUrlTemplate(Oe,qe){return Oe||qe.templateUrl}writeUrlTemplate(Oe,qe){Oe&&(0,ye.oC)(Oe)&&(Oe="https:"+Oe),Oe&&(Oe=Oe.replace(/\{z\}/gi,"{level}").replace(/\{x\}/gi,"{col}").replace(/\{y\}/gi,"{row}"),Oe=(0,ye.Fv)(Oe)),qe.templateUrl=Oe}fetchTile(Oe,qe,He,Qe={}){const{signal:ot}=Qe,Ne=this.getTileUrl(Oe,qe,He),Se={responseType:"image",signal:ot,query:ji({},this.refreshParameters)};return(0,Te.default)(Ne,Se).then($e=>$e.data)}getTileUrl(Oe,qe,He){const Qe=this.levelValues[Oe];return this.tileServers[qe%this.tileServers.length]+(0,Ie.gx)(this.urlPath,{level:Qe,z:Qe,col:He,x:He,row:qe,y:qe})}};(0,z._)([(0,he.Cb)({type:String,value:"",json:{write:!0}})],je.prototype,"copyright",void 0),(0,z._)([(0,he.Cb)({type:Ve.Z,json:{write:!0}})],je.prototype,"fullExtent",void 0),(0,z._)([(0,he.Cb)({readOnly:!0,json:{read:!1,write:!1}})],je.prototype,"legendEnabled",void 0),(0,z._)([(0,he.Cb)({type:["show","hide"]})],je.prototype,"listMode",void 0),(0,z._)([(0,he.Cb)()],je.prototype,"levelValues",null),(0,z._)([(0,he.Cb)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],je.prototype,"isReference",void 0),(0,z._)([(0,he.Cb)({type:["WebTiledLayer"],value:"WebTiledLayer"})],je.prototype,"operationalLayerType",void 0),(0,z._)([(0,he.Cb)({readOnly:!0,json:{read:!1,write:!1}})],je.prototype,"popupEnabled",void 0),(0,z._)([(0,he.Cb)({type:Le.Z})],je.prototype,"spatialReference",void 0),(0,z._)([(0,xe.r)("spatialReference",["spatialReference","fullExtent.spatialReference"])],je.prototype,"readSpatialReference",null),(0,z._)([(0,he.Cb)({type:[String],json:{write:!0}})],je.prototype,"subDomains",void 0),(0,z._)([(0,he.Cb)({type:Ue.Z,json:{write:!0}})],je.prototype,"tileInfo",void 0),(0,z._)([(0,he.Cb)({readOnly:!0})],je.prototype,"tileServers",null),(0,z._)([(0,he.Cb)({json:{read:!1}})],je.prototype,"type",void 0),(0,z._)([(0,he.Cb)()],je.prototype,"urlPath",null),(0,z._)([(0,he.Cb)({type:String,json:{origins:{"portal-item":{read:{source:"url"}}}}})],je.prototype,"urlTemplate",void 0),(0,z._)([(0,xe.r)("urlTemplate",["urlTemplate","templateUrl"])],je.prototype,"readUrlTemplate",null),(0,z._)([(0,Ae.c)("urlTemplate",{templateUrl:{type:String}})],je.prototype,"writeUrlTemplate",null),(0,z._)([(0,he.Cb)({type:Fe.Z,json:{write:!0}})],je.prototype,"wmtsInfo",void 0),je=(0,z._)([(0,de.j)("esri.layers.WebTileLayer")],je);var ve=je},58141:(hi,lt,N)=>{"use strict";N.d(lt,{rk:()=>xe,Tj:()=>de,GI:()=>Ae,CE:()=>me,Tq:()=>le,Zx:()=>oe});var z=N(23841),J=N(55494),Te=N(28347);class xe{constructor(ge,Ue,Fe){this.strength=ge,this.radius=Ue,this.threshold=Fe,this.type="bloom"}interpolate(ge,Ue,Fe){this.strength=se(ge.strength,Ue.strength,Fe),this.radius=se(ge.radius,Ue.radius,Fe),this.threshold=se(ge.threshold,Ue.threshold,Fe)}clone(){return new xe(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:fe(this.radius),strength:this.strength,threshold:this.threshold}}}class de{constructor(ge){this.radius=ge,this.type="blur"}interpolate(ge,Ue,Fe){this.radius=Math.round(se(ge.radius,Ue.radius,Fe))}clone(){return new de(this.radius)}toJSON(){return{type:"blur",radius:fe(this.radius)}}}class Ae{constructor(ge,Ue){this.type=ge,this.amount=Ue,"invert"!==this.type&&"grayscale"!==this.type&&"sepia"!==this.type||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(ge,Ue,Fe){this.amount=se(ge.amount,Ue.amount,Fe),this._updateMatrix()}clone(){return new Ae(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const ge=this._colorMatrix||(0,J.c)();switch(this.type){case"brightness":this._colorMatrix=((Ee,ge)=>{const Ue=(0,Te.s)(Ee,ge,0,0,0,0,ge,0,0,0,0,ge,0,0,0,0,1);return(0,Te.a)(Ue,Ue)})(ge,this.amount);break;case"contrast":this._colorMatrix=((Ee,ge)=>{const Ue=(0,Te.s)(Ee,ge,0,0,.5-.5*ge,0,ge,0,.5-.5*ge,0,0,ge,.5-.5*ge,0,0,0,1);return(0,Te.a)(Ue,Ue)})(ge,this.amount);break;case"grayscale":this._colorMatrix=((Ee,ge)=>{const Ue=1-this.amount,Fe=(0,Te.s)(Ee,.2126+.7874*Ue,.7152-.7152*Ue,.0722-.0722*Ue,0,.2126-.2126*Ue,.7152+.2848*Ue,.0722-.0722*Ue,0,.2126-.2126*Ue,.7152-.7152*Ue,.0722+.9278*Ue,0,0,0,0,1);return(0,Te.a)(Fe,Fe)})(ge);break;case"invert":this._colorMatrix=((Ee,ge)=>{const Ue=1-2*ge,Fe=(0,Te.s)(Ee,Ue,0,0,ge,0,Ue,0,ge,0,0,Ue,ge,0,0,0,1);return(0,Te.a)(Fe,Fe)})(ge,this.amount);break;case"saturate":this._colorMatrix=((Ee,ge)=>{const Ue=(0,Te.s)(Ee,.213+.787*ge,.715-.715*ge,.072-.072*ge,0,.213-.213*ge,.715+.285*ge,.072-.072*ge,0,.213-.213*ge,.715-.715*ge,.072+.928*ge,0,0,0,0,1);return(0,Te.a)(Ue,Ue)})(ge,this.amount);break;case"sepia":this._colorMatrix=((Ee,ge)=>{const Ue=1-this.amount,Fe=(0,Te.s)(Ee,.393+.607*Ue,.769-.769*Ue,.189-.189*Ue,0,.349-.349*Ue,.686+.314*Ue,.168-.168*Ue,0,.272-.272*Ue,.534-.534*Ue,.131+.869*Ue,0,0,0,0,1);return(0,Te.a)(Fe,Fe)})(ge)}}}class me{constructor(ge,Ue,Fe,Ve){this.offsetX=ge,this.offsetY=Ue,this.blurRadius=Fe,this.color=Ve,this.type="drop-shadow"}interpolate(ge,Ue,Fe){this.offsetX=se(ge.offsetX,Ue.offsetX,Fe),this.offsetY=se(ge.offsetY,Ue.offsetY,Fe),this.blurRadius=se(ge.blurRadius,Ue.blurRadius,Fe),this.color[0]=Math.round(se(ge.color[0],Ue.color[0],Fe)),this.color[1]=Math.round(se(ge.color[1],Ue.color[1],Fe)),this.color[2]=Math.round(se(ge.color[2],Ue.color[2],Fe)),this.color[3]=se(ge.color[3],Ue.color[3],Fe)}clone(){return new me(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const ge=[...this.color];return ge[3]*=255,{type:"drop-shadow",xoffset:fe(this.offsetX),yoffset:fe(this.offsetY),blurRadius:fe(this.blurRadius),color:ge}}}class le{constructor(ge){this.angle=ge,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(ge,Ue,Fe){this.angle=se(ge.angle,Ue.angle,Fe),this._updateMatrix()}clone(){return new le(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const ge=this._colorMatrix||(0,J.c)();this._colorMatrix=((Ee,ge)=>{const Ue=Math.sin(ge*Math.PI/180),Fe=Math.cos(ge*Math.PI/180),Ve=(0,Te.s)(Ee,.213+.787*Fe-.213*Ue,.715-.715*Fe-.715*Ue,.072-.072*Fe+.928*Ue,0,.213-.213*Fe+.143*Ue,.715+.285*Fe+.14*Ue,.072-.072*Fe-.283*Ue,0,.213-.213*Fe-.787*Ue,.715-.715*Fe+.715*Ue,.072+.928*Fe+.072*Ue,0,0,0,0,1);return(0,Te.a)(Ve,Ve)})(ge,this.angle)}}class oe{constructor(ge){this.amount=ge,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(ge,Ue,Fe){this.amount=se(ge.amount,Ue.amount,Fe)}clone(){return new oe(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}}function se(Ee,ge,Ue){return Ee+(ge-Ee)*Ue}function fe(Ee){return Math.round(1e3*(0,z.Wz)(Ee))/1e3}},29538:(hi,lt,N)=>{"use strict";N.d(lt,{Q:()=>he});var Ce,z=N(20414),J=N(26584),Te=N(58141),ye=(N(1719),{exports:{}});function he(Ne){let Se;try{Se=Ne?ye.exports.parse(Ne):[]}catch(nt){return{input:Ne,parsedFunctions:[],effects:[],error:new J.Z("effect:invalid-syntax","Invalid effect syntax",{input:Ne,error:nt})}}const $e={input:Ne,parsedFunctions:Se,effects:[],error:null};try{for(const nt of Se)$e.effects.push(re(nt))}catch(nt){$e.effects.length=0,$e.error=nt}return $e}function re(Ne){try{switch(Ne.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return function(Ne){let Se=1;return le(Ne.parameters,1),1===Ne.parameters.length&&(Se=Le(Ne.parameters[0])),new Te.GI(Ne.name,Se)}(Ne);case"opacity":return function(Ne){let Se=1;return le(Ne.parameters,1),1===Ne.parameters.length&&(Se=Le(Ne.parameters[0])),new Te.Zx(Se)}(Ne);case"hue-rotate":return function(Ne){let Se=0;return le(Ne.parameters,1),1===Ne.parameters.length&&(Se=function(Ne){return function(Ne){if("quantity"!==Ne.type||(0!==Ne.value||null!==Ne.unit)&&null==ge[Ne.unit])throw new J.Z("effect:type-error",`Expected <angle>, Actual: ${oe(Ne)}`,{term:Ne})}(Ne),Ne.value*ge[Ne.unit]||0}(Ne.parameters[0])),new Te.Tq(Se)}(Ne);case"blur":return function(Ne){let Se=0;return le(Ne.parameters,1),1===Ne.parameters.length&&(Se=ve(Ne.parameters[0]),se(Se,Ne.parameters[0])),new Te.Tj(Se)}(Ne);case"drop-shadow":return function(Ne){const Se=[];let $e;for(const nt of Ne.parameters)if("color"===nt.type){if(Se.length&&Object.freeze(Se),$e)throw new J.Z("effect:type-error","Accepts only one color",{});$e=Oe(nt)}else{const ut=ve(nt);if(Object.isFrozen(Se))throw new J.Z("effect:type-error","<length> parameters not consecutive",{lengths:Se});Se.push(ut),3===Se.length&&se(ut,nt)}if(Se.length<2||Se.length>3)throw new J.Z("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${Se.length}}`,{lengths:Se});return new Te.CE(Se[0],Se[1],Se[2]||0,$e||qe("black"))}(Ne);case"bloom":return function(Ne){let Se=1,$e=0,nt=0;return le(Ne.parameters,3),Ne.parameters[0]&&(Se=Le(Ne.parameters[0])),Ne.parameters[1]&&($e=ve(Ne.parameters[1]),se($e,Ne.parameters[1])),Ne.parameters[2]&&(nt=Le(Ne.parameters[2])),new Te.rk(Se,$e,nt)}(Ne)}}catch(Se){throw Se.details.filter=Ne,Se}throw new J.Z("effect:unknown-effect",`Effect '${Ne.name}' is not supported`,{effect:Ne})}function le(Ne,Se){if(Ne.length>Se)throw new J.Z("effect:type-error",`Function supports up to ${Se} parameters, Actual: ${Ne.length}`,{parameters:Ne})}function oe(Ne){return"color"===Ne.type?"<color>":Fe[Ne.unit]?"<length>":ge[Ne.unit]?"<angle>":"%"===Ne.unit?"<percentage>":"<double>"}function se(Ne,Se){if(Ne<0)throw new J.Z("effect:type-error",`Negative values are not allowed, Actual: ${Ne}`,{term:Se})}(Ce=ye).exports&&(Ce.exports=function(){function Se(nt,ut,xt,Ze){this.message=nt,this.expected=ut,this.found=xt,this.location=Ze,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,Se)}return function(nt,ut){function xt(){this.constructor=nt}xt.prototype=ut.prototype,nt.prototype=new xt}(Se,Error),Se.buildMessage=function(nt,ut){var Pt,xt={literal:function(Pt){return'"'+et(Pt.text)+'"'},class:function(Pt){var dt,jt="";for(dt=0;dt<Pt.parts.length;dt++)jt+=Pt.parts[dt]instanceof Array?gt(Pt.parts[dt][0])+"-"+gt(Pt.parts[dt][1]):gt(Pt.parts[dt]);return"["+(Pt.inverted?"^":"")+jt+"]"},any:function(Pt){return"any character"},end:function(Pt){return"end of input"},other:function(Pt){return Pt.description}};function Ze(Pt){return Pt.charCodeAt(0).toString(16).toUpperCase()}function et(Pt){return Pt.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(dt){return"\\x0"+Ze(dt)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(dt){return"\\x"+Ze(dt)})}function gt(Pt){return Pt.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(dt){return"\\x0"+Ze(dt)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(dt){return"\\x"+Ze(dt)})}function Vt(Pt){return xt[Pt.type](Pt)}return"Expected "+function(Pt){var dt,jt,Rt=new Array(Pt.length);for(dt=0;dt<Pt.length;dt++)Rt[dt]=Vt(Pt[dt]);if(Rt.sort(),Rt.length>0){for(dt=1,jt=1;dt<Rt.length;dt++)Rt[dt-1]!==Rt[dt]&&(Rt[jt]=Rt[dt],jt++);Rt.length=jt}switch(Rt.length){case 1:return Rt[0];case 2:return Rt[0]+" or "+Rt[1];default:return Rt.slice(0,-1).join(", ")+", or "+Rt[Rt.length-1]}}(nt)+" but "+((Pt=ut)?'"'+et(Pt)+'"':"end of input")+" found."},{SyntaxError:Se,parse:function(nt,ut){ut=void 0!==ut?ut:{};var xt,bi,Qi,ki,Ze={},et={start:In},gt=In,Vt=un("none"),Lt=Si("none",!1),jt=Si(")",!1),ke=Si(",",!1),st=un("whitespace"),Ti=/^[ \t\n\r]/,qt=yi([" ","\t","\n","\r"],!1,!1),pi=un("function"),fi=Si("(",!1),Ki=un("identifier"),yn=/^[a-z\-]/,Un=yi([["a","z"],"-"],!1,!1),kn=un("percentage"),B=Si("%",!1),$=un("length"),T=Si("px",!1),O=Si("cm",!1),V=Si("mm",!1),ie=Si("in",!1),ne=Si("pt",!1),_t=Si("pc",!1),pe=un("angle"),it=Si("deg",!1),yt=Si("rad",!1),Tt=Si("grad",!1),Ui=Si("turn",!1),ti=un("number"),vi=un("color"),Oi=Si("#",!1),Vi=/^[0-9a-fA-F]/,Zi=yi([["0","9"],["a","f"],["A","F"]],!1,!1),Li=/^[+\-]/,si=yi(["+","-"],!1,!1),$i=/^[0-9]/,Ye=yi([["0","9"]],!1,!1),$t=Si(".",!1),Ii=Si("e",!1),Ct=0,Gt=0,gi=[{line:1,column:1}],kt=0,oi=[],ei=0;if("startRule"in ut){if(!(ut.startRule in et))throw new Error("Can't start parsing from rule \""+ut.startRule+'".');gt=et[ut.startRule]}function Ai(){return nt.substring(Gt,Ct)}function Si(bi,Qi){return{type:"literal",text:bi,ignoreCase:Qi}}function yi(bi,Qi,ki){return{type:"class",parts:bi,inverted:Qi,ignoreCase:ki}}function un(bi){return{type:"other",description:bi}}function On(bi){var Qi,ki=gi[bi];if(ki)return ki;for(Qi=bi-1;!gi[Qi];)Qi--;for(ki={line:(ki=gi[Qi]).line,column:ki.column};Qi<bi;)10===nt.charCodeAt(Qi)?(ki.line++,ki.column=1):ki.column++,Qi++;return gi[bi]=ki,ki}function ln(bi){Ct<kt||(Ct>kt&&(kt=Ct,oi=[]),oi.push(bi))}function In(){var bi;return(bi=function(){var bi,Qi;return ei++,bi=Ct,Ji()!==Ze?("none"===nt.substr(Ct,4)?(Qi="none",Ct+=4):(Qi=Ze,0===ei&&ln(Lt)),Qi!==Ze&&Ji()!==Ze?(Gt=bi,bi=[]):(Ct=bi,bi=Ze)):(Ct=bi,bi=Ze),ei--,bi===Ze&&0===ei&&ln(Vt),bi}())===Ze&&(bi=function(){var bi,Qi;if(bi=[],(Qi=Hi())!==Ze)for(;Qi!==Ze;)bi.push(Qi),Qi=Hi();else bi=Ze;return bi}()),bi}function Hi(){var bi,Qi,ki,xn;return bi=Ct,Ji()!==Ze&&(Qi=function(){var bi,Qi,ki;return ei++,bi=Ct,(Qi=Xn())!==Ze?(40===nt.charCodeAt(Ct)?(ki="(",Ct++):(ki=Ze,0===ei&&ln(fi)),ki!==Ze?(Gt=bi,bi=Qi=Qi):(Ct=bi,bi=Ze)):(Ct=bi,bi=Ze),ei--,bi===Ze&&(Qi=Ze,0===ei&&ln(pi)),bi}())!==Ze&&Ji()!==Ze?((ki=function(){var bi,Qi,ki,xn,cr,Dn,gr,pr;if(bi=Ct,(Qi=Ni())!==Ze){for(ki=[],xn=Ct,(cr=Ji())!==Ze?(44===nt.charCodeAt(Ct)?(Dn=",",Ct++):(Dn=Ze,0===ei&&ln(ke)),Dn===Ze&&(Dn=null),Dn!==Ze&&(gr=Ji())!==Ze&&(pr=Ni())!==Ze?xn=cr=[cr,Dn,gr,pr]:(Ct=xn,xn=Ze)):(Ct=xn,xn=Ze);xn!==Ze;)ki.push(xn),xn=Ct,(cr=Ji())!==Ze?(44===nt.charCodeAt(Ct)?(Dn=",",Ct++):(Dn=Ze,0===ei&&ln(ke)),Dn===Ze&&(Dn=null),Dn!==Ze&&(gr=Ji())!==Ze&&(pr=Ni())!==Ze?xn=cr=[cr,Dn,gr,pr]:(Ct=xn,xn=Ze)):(Ct=xn,xn=Ze);ki!==Ze?(Gt=bi,bi=Qi=function(bi,Qi){return Qi.length>0?function(bi,Qi,ki){return[bi].concat(function(bi,Qi){return bi.map(function(ki){return ki[3]})}(Qi))}(bi,Qi):[bi]}(Qi,ki)):(Ct=bi,bi=Ze)}else Ct=bi,bi=Ze;return bi}())===Ze&&(ki=null),ki!==Ze&&Ji()!==Ze?(41===nt.charCodeAt(Ct)?(xn=")",Ct++):(xn=Ze,0===ei&&ln(jt)),xn!==Ze&&Ji()!==Ze?(Gt=bi,bi=function(bi,Qi){return{type:"function",name:bi,parameters:Qi||[]}}(Qi,ki)):(Ct=bi,bi=Ze)):(Ct=bi,bi=Ze)):(Ct=bi,bi=Ze),bi}function Ni(){var bi,Qi;return bi=Ct,(Qi=function(){var bi,Qi,ki;return ei++,bi=Ct,Ji()!==Ze&&(Qi=cn())!==Ze?(37===nt.charCodeAt(Ct)?(ki="%",Ct++):(ki=Ze,0===ei&&ln(B)),ki!==Ze?(Gt=bi,bi=function(bi){return{value:bi,unit:"%"}}(Qi)):(Ct=bi,bi=Ze)):(Ct=bi,bi=Ze),ei--,bi===Ze&&0===ei&&ln(kn),bi}())===Ze&&(Qi=function(){var bi,Qi,ki;return ei++,bi=Ct,Ji()!==Ze&&(Qi=cn())!==Ze?("px"===nt.substr(Ct,2)?(ki="px",Ct+=2):(ki=Ze,0===ei&&ln(T)),ki!==Ze?(Gt=bi,bi=function(bi){return{value:bi,unit:"px"}}(Qi)):(Ct=bi,bi=Ze)):(Ct=bi,bi=Ze),bi===Ze&&(bi=Ct,Ji()!==Ze&&(Qi=cn())!==Ze?("cm"===nt.substr(Ct,2)?(ki="cm",Ct+=2):(ki=Ze,0===ei&&ln(O)),ki!==Ze?(Gt=bi,bi=function(bi){return{value:bi,unit:"cm"}}(Qi)):(Ct=bi,bi=Ze)):(Ct=bi,bi=Ze),bi===Ze&&(bi=Ct,Ji()!==Ze&&(Qi=cn())!==Ze?("mm"===nt.substr(Ct,2)?(ki="mm",Ct+=2):(ki=Ze,0===ei&&ln(V)),ki!==Ze?(Gt=bi,bi=function(bi){return{value:bi,unit:"mm"}}(Qi)):(Ct=bi,bi=Ze)):(Ct=bi,bi=Ze),bi===Ze&&(bi=Ct,Ji()!==Ze&&(Qi=cn())!==Ze?("in"===nt.substr(Ct,2)?(ki="in",Ct+=2):(ki=Ze,0===ei&&ln(ie)),ki!==Ze?(Gt=bi,bi=function(bi){return{value:bi,unit:"in"}}(Qi)):(Ct=bi,bi=Ze)):(Ct=bi,bi=Ze),bi===Ze&&(bi=Ct,Ji()!==Ze&&(Qi=cn())!==Ze?("pt"===nt.substr(Ct,2)?(ki="pt",Ct+=2):(ki=Ze,0===ei&&ln(ne)),ki!==Ze?(Gt=bi,bi=function(bi){return{value:bi,unit:"pt"}}(Qi)):(Ct=bi,bi=Ze)):(Ct=bi,bi=Ze),bi===Ze&&(bi=Ct,Ji()!==Ze&&(Qi=cn())!==Ze?("pc"===nt.substr(Ct,2)?(ki="pc",Ct+=2):(ki=Ze,0===ei&&ln(_t)),ki!==Ze?(Gt=bi,bi=function(bi){return{value:bi,unit:"pc"}}(Qi)):(Ct=bi,bi=Ze)):(Ct=bi,bi=Ze)))))),ei--,bi===Ze&&0===ei&&ln($),bi}())===Ze&&(Qi=function(){var bi,Qi,ki;return ei++,bi=Ct,(Qi=cn())!==Ze?("deg"===nt.substr(Ct,3)?(ki="deg",Ct+=3):(ki=Ze,0===ei&&ln(it)),ki!==Ze?(Gt=bi,bi=Qi=function(bi){return{value:bi,unit:"deg"}}(Qi)):(Ct=bi,bi=Ze)):(Ct=bi,bi=Ze),bi===Ze&&(bi=Ct,(Qi=cn())!==Ze?("rad"===nt.substr(Ct,3)?(ki="rad",Ct+=3):(ki=Ze,0===ei&&ln(yt)),ki!==Ze?(Gt=bi,bi=Qi=function(bi){return{value:bi,unit:"rad"}}(Qi)):(Ct=bi,bi=Ze)):(Ct=bi,bi=Ze),bi===Ze&&(bi=Ct,(Qi=cn())!==Ze?("grad"===nt.substr(Ct,4)?(ki="grad",Ct+=4):(ki=Ze,0===ei&&ln(Tt)),ki!==Ze?(Gt=bi,bi=Qi=function(bi){return{value:bi,unit:"grad"}}(Qi)):(Ct=bi,bi=Ze)):(Ct=bi,bi=Ze),bi===Ze&&(bi=Ct,(Qi=cn())!==Ze?("turn"===nt.substr(Ct,4)?(ki="turn",Ct+=4):(ki=Ze,0===ei&&ln(Ui)),ki!==Ze?(Gt=bi,bi=Qi=function(bi){return{value:bi,unit:"turn"}}(Qi)):(Ct=bi,bi=Ze)):(Ct=bi,bi=Ze)))),ei--,bi===Ze&&(Qi=Ze,0===ei&&ln(pe)),bi}())===Ze&&(Qi=function(){var bi,Qi;return ei++,bi=Ct,Ji()!==Ze&&(Qi=cn())!==Ze?(Gt=bi,bi=function(bi){return{value:bi,unit:null}}(Qi)):(Ct=bi,bi=Ze),ei--,bi===Ze&&0===ei&&ln(ti),bi}()),Qi!==Ze&&(Gt=bi,Qi=function(bi){return{type:"quantity",value:bi.value,unit:bi.unit}}(Qi)),(bi=Qi)===Ze&&(bi=Ct,(Qi=function(){var bi,Qi,ki,xn;if(ei++,bi=Ct,35===nt.charCodeAt(Ct)?(Qi="#",Ct++):(Qi=Ze,0===ei&&ln(Oi)),Qi!==Ze){if(ki=[],Vi.test(nt.charAt(Ct))?(xn=nt.charAt(Ct),Ct++):(xn=Ze,0===ei&&ln(Zi)),xn!==Ze)for(;xn!==Ze;)ki.push(xn),Vi.test(nt.charAt(Ct))?(xn=nt.charAt(Ct),Ct++):(xn=Ze,0===ei&&ln(Zi));else ki=Ze;ki!==Ze?(Gt=bi,bi=Qi={type:"hex",value:Ai()}):(Ct=bi,bi=Ze)}else Ct=bi,bi=Ze;return bi===Ze&&(bi=Ct,(Qi=Hi())!==Ze&&(Gt=bi,Qi=function(bi){return{type:"function",value:bi}}(Qi)),(bi=Qi)===Ze&&(bi=Ct,(Qi=Xn())!==Ze&&(Gt=bi,Qi={type:"named",value:Ai()}),bi=Qi)),ei--,bi===Ze&&(Qi=Ze,0===ei&&ln(vi)),bi}())!==Ze&&(Gt=bi,Qi=function(bi){return{type:"color",colorType:bi.type,value:bi.value}}(Qi)),bi=Qi),bi}function Ji(){var bi,Qi;for(ei++,bi=[],Ti.test(nt.charAt(Ct))?(Qi=nt.charAt(Ct),Ct++):(Qi=Ze,0===ei&&ln(qt));Qi!==Ze;)bi.push(Qi),Ti.test(nt.charAt(Ct))?(Qi=nt.charAt(Ct),Ct++):(Qi=Ze,0===ei&&ln(qt));return ei--,bi===Ze&&(Qi=Ze,0===ei&&ln(st)),bi}function Xn(){var bi,Qi,ki;if(ei++,bi=Ct,Qi=[],yn.test(nt.charAt(Ct))?(ki=nt.charAt(Ct),Ct++):(ki=Ze,0===ei&&ln(Un)),ki!==Ze)for(;ki!==Ze;)Qi.push(ki),yn.test(nt.charAt(Ct))?(ki=nt.charAt(Ct),Ct++):(ki=Ze,0===ei&&ln(Un));else Qi=Ze;return Qi!==Ze&&(Gt=bi,Qi=Ai()),ei--,(bi=Qi)===Ze&&(Qi=Ze,0===ei&&ln(Ki)),bi}function cn(){var bi,Qi,ki,xn,cr,Dn,gr,pr;if(bi=Ct,Li.test(nt.charAt(Ct))?(Qi=nt.charAt(Ct),Ct++):(Qi=Ze,0===ei&&ln(si)),Qi===Ze&&(Qi=null),Qi!==Ze){for(ki=Ct,xn=[],$i.test(nt.charAt(Ct))?(cr=nt.charAt(Ct),Ct++):(cr=Ze,0===ei&&ln(Ye));cr!==Ze;)xn.push(cr),$i.test(nt.charAt(Ct))?(cr=nt.charAt(Ct),Ct++):(cr=Ze,0===ei&&ln(Ye));if(xn!==Ze)if(46===nt.charCodeAt(Ct)?(cr=".",Ct++):(cr=Ze,0===ei&&ln($t)),cr!==Ze){if(Dn=[],$i.test(nt.charAt(Ct))?(gr=nt.charAt(Ct),Ct++):(gr=Ze,0===ei&&ln(Ye)),gr!==Ze)for(;gr!==Ze;)Dn.push(gr),$i.test(nt.charAt(Ct))?(gr=nt.charAt(Ct),Ct++):(gr=Ze,0===ei&&ln(Ye));else Dn=Ze;Dn!==Ze?ki=xn=[xn,cr,Dn]:(Ct=ki,ki=Ze)}else Ct=ki,ki=Ze;else Ct=ki,ki=Ze;if(ki===Ze)if(ki=[],$i.test(nt.charAt(Ct))?(xn=nt.charAt(Ct),Ct++):(xn=Ze,0===ei&&ln(Ye)),xn!==Ze)for(;xn!==Ze;)ki.push(xn),$i.test(nt.charAt(Ct))?(xn=nt.charAt(Ct),Ct++):(xn=Ze,0===ei&&ln(Ye));else ki=Ze;if(ki!==Ze){if(xn=Ct,101===nt.charCodeAt(Ct)?(cr="e",Ct++):(cr=Ze,0===ei&&ln(Ii)),cr!==Ze)if(Li.test(nt.charAt(Ct))?(Dn=nt.charAt(Ct),Ct++):(Dn=Ze,0===ei&&ln(si)),Dn===Ze&&(Dn=null),Dn!==Ze){if(gr=[],$i.test(nt.charAt(Ct))?(pr=nt.charAt(Ct),Ct++):(pr=Ze,0===ei&&ln(Ye)),pr!==Ze)for(;pr!==Ze;)gr.push(pr),$i.test(nt.charAt(Ct))?(pr=nt.charAt(Ct),Ct++):(pr=Ze,0===ei&&ln(Ye));else gr=Ze;gr!==Ze?xn=cr=[cr,Dn,gr]:(Ct=xn,xn=Ze)}else Ct=xn,xn=Ze;else Ct=xn,xn=Ze;xn===Ze&&(xn=null),xn!==Ze?(Gt=bi,bi=Qi=parseFloat(Ai())):(Ct=bi,bi=Ze)}else Ct=bi,bi=Ze}else Ct=bi,bi=Ze;return bi}if((xt=gt())!==Ze&&Ct===nt.length)return xt;throw xt!==Ze&&Ct<nt.length&&ln({type:"end"}),bi=oi,Qi=kt<nt.length?nt.charAt(kt):null,ki=function(bi,Qi){var ki=On(bi),xn=On(Qi);return{start:{offset:bi,line:ki.line,column:ki.column},end:{offset:Qi,line:xn.line,column:xn.column}}}(kt,kt<nt.length?kt+1:kt),new Se(Se.buildMessage(bi,Qi),bi,Qi,ki)}}}());const ge={deg:1,grad:.9,rad:180/Math.PI,turn:360},Fe={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function Le(Ne){!function(Ne){if("quantity"!==Ne.type||null!==Ne.unit&&"%"!==Ne.unit)throw new J.Z("effect:type-error",`Expected <double> or <percentage>, Actual: ${oe(Ne)}`,{term:Ne})}(Ne);const Se=Ne.value;return se(Se,Ne),"%"===Ne.unit?.01*Se:Se}function ve(Ne){return function(Ne){if("quantity"!==Ne.type||(0!==Ne.value||null!==Ne.unit)&&null==Fe[Ne.unit])throw new J.Z("effect:type-error",`Expected <length>, Actual: ${oe(Ne)}`,{term:Ne})}(Ne),Ne.value*Fe[Ne.unit]||0}function Oe(Ne){switch(Ne.colorType){case"hex":return(0,z.rW)(Ne.value);case"named":return qe(Ne.value);case"function":return function(Ne){if(le(Ne.parameters,4),He.test(Ne.name))return[Le(Ne.parameters[0]),Le(Ne.parameters[1]),Le(Ne.parameters[2]),Ne.parameters[3]?Le(Ne.parameters[3]):1];if(Qe.test(Ne.name))return(0,z.B7)(function(Ne){return function(Ne){if("quantity"!==Ne.type||null!==Ne.unit)throw new J.Z("effect:type-error",`Expected <double>, Actual: ${oe(Ne)}`,{term:Ne})}(Ne),se(Ne.value,Ne),Ne.value}(Ne.parameters[0]),Le(Ne.parameters[1]),Le(Ne.parameters[2]),Ne.parameters[3]?Le(Ne.parameters[3]):1);throw new J.Z("effect:syntax-error",`Invalid color function '${Ne.name}'`,{colorFunction:Ne})}(Ne.value)}}function qe(Ne){const Se=(0,z.VL)(Ne);if(!Se)throw new J.Z("effect:unknown-color",`color '${Ne}' isn't valid`,{namedColor:Ne});return Se}const He=/^rgba?/i,Qe=/^hsla?/i},66385:(hi,lt,N)=>{"use strict";N.d(lt,{nd:()=>Me,ZP:()=>J,S6:()=>Te});var z=N(62208);class J{constructor(Ie=null,ye={},he,re){this.geometry=Ie,this.attributes=ye,this.centroid=he,this.objectId=re,this.displayId=0,this.geohashX=0,this.geohashY=0}weakClone(){const Ie=new J(this.geometry,this.attributes,this.centroid,this.objectId);return Ie.displayId=this.displayId,Ie.geohashX=this.geohashX,Ie.geohashY=this.geohashY,Ie}}function Te(Ce){return!((0,z.Wi)(Ce.geometry)||!Ce.geometry.coords||!Ce.geometry.coords.length)}class Me extends J{}},95786:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>z});class z{constructor(){this.objectIdFieldName=null,this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}weakClone(){const Te=new z;return Te.objectIdFieldName=this.objectIdFieldName,Te.globalIdFieldName=this.globalIdFieldName,Te.geohashFieldName=this.geohashFieldName,Te.geometryProperties=this.geometryProperties,Te.geometryType=this.geometryType,Te.spatialReference=this.spatialReference,Te.hasZ=this.hasZ,Te.hasM=this.hasM,Te.features=this.features,Te.fields=this.fields,Te.transform=this.transform,Te.exceededTransferLimit=this.exceededTransferLimit,Te.uniqueIdField=this.uniqueIdField,Te.queryGeometry=this.queryGeometry,Te.queryGeometryType=this.queryGeometryType,Te}}},88071:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>z});class z{constructor(Te=[],Me=[],Ce=!1){this.lengths=null!=Te?Te:[],this.coords=null!=Me?Me:[],this.hasIndeterminateRingOrder=Ce}get isPoint(){return 0===this.lengths.length}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce((Te,Me)=>Te+Me)}forEachVertex(Te){let Me=0;this.lengths.length||Te(this.coords[0],this.coords[1]);for(let Ce=0;Ce<this.lengths.length;Ce++){const Ie=this.lengths[Ce];for(let ye=0;ye<Ie;ye++)Te(this.coords[2*(ye+Me)],this.coords[2*(ye+Me)+1]);Me+=Ie}}clone(Te){return Te?(Te.set(this.coords),new z(this.lengths.slice(),Te,this.hasIndeterminateRingOrder)):new z(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)}}},53639:(hi,lt,N)=>{"use strict";function Me(de,Ae){return!!function(de,Ae){return de===Ae||de&&Ae&&de.equals(Ae)}(de.spatialReference,Ae.spatialReference)&&de.x===Ae.x&&de.y===Ae.y&&de.z===Ae.z&&de.m===Ae.m}N.d(lt,{k:()=>Me}),N(8314)},38114:(hi,lt,N)=>{"use strict";N.d(lt,{Wh:()=>re,Pj:()=>xe,Tx:()=>le}),N(8314),N(65234);var Te=N(5548),Me=N(65401);N(7848),N(71774),N(36255),N(53639);class re{constructor(Oe,qe,He){this.uid=Oe,this.geometry=qe,this.attributes=He,this.visible=!0,this.objectId=null,this.centroid=null}}class xe{constructor(){this.exceededTransferLimit=!1,this.features=[],this.fields=[],this.hasM=!1,this.hasZ=!1,this.geometryType=null,this.objectIdFieldName=null,this.globalIdFieldName=null,this.geometryProperties=null,this.geohashFieldName=null,this.spatialReference=null,this.transform=null}}function le(ve,Oe,qe,He){return{x:ve,y:Oe,z:qe,hasZ:null!=qe,hasM:!1,spatialReference:He,type:"point"}}(0,Te.Ue)(),(0,Me.Ue)()},82054:(hi,lt,N)=>{"use strict";N.d(lt,{XA:()=>jt,h_:()=>qt,Yn:()=>Rt,GH:()=>rt,E7:()=>_e,ks:()=>Lt,Uy:()=>Bt,u0:()=>Ze,EI:()=>ke,cn:()=>Ti,di:()=>Dt,Iv:()=>Ne,fQ:()=>Ee,eG:()=>gt,J6:()=>ut,oB:()=>T,zj:()=>Mi,$:()=>Un,lz:()=>$,RZ:()=>We,Nh:()=>fi,Jd:()=>le,IN:()=>oe,hY:()=>li,lM:()=>pi,$g:()=>kn});var z=N(26584),J=N(63290),Te=N(62208),Me=N(91179),Ce=N(66385),Ie=N(95786),ye=N(88071);function he(E,D){return E?D?4:3:D?3:2}const re=J.Z.getLogger("esri.tasks.support.optimizedFeatureSet"),ce={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},be=(E,D,O,L,F,V)=>{E[O]=F,E[O+1]=V},xe=(E,D,O,L,F,V)=>{E[O]=F,E[O+1]=V,E[O+2]=D[L+2]},de=(E,D,O,L,F,V)=>{E[O]=F,E[O+1]=V,E[O+2]=D[L+3]},Ae=(E,D,O,L,F,V)=>{E[O]=F,E[O+1]=V,E[O+2]=D[L+2],E[O+3]=D[L+3]};function me(E,D,O,L){if(E){if(O)return D&&L?Ae:xe;if(D&&L)return de}else if(D&&L)return xe;return be}function le({scale:E,translate:D},O){return Math.round((O-D[0])/E[0])}function oe({scale:E,translate:D},O){return Math.round((D[1]-O)/E[1])}function se({scale:E,translate:D},O){return O*E[0]+D[0]}function fe({scale:E,translate:D},O){return D[1]-O*E[1]}function Ee(E,D,O){return E?D?O?je(E):Fe(E):O?Le(E):ge(E):null}function ge(E){const D=E.coords;return{x:D[0],y:D[1]}}function Ue(E,D){return E.coords[0]=D.x,E.coords[1]=D.y,E}function Fe(E){const D=E.coords;return{x:D[0],y:D[1],z:D[2]}}function Ve(E,D){return E.coords[0]=D.x,E.coords[1]=D.y,E.coords[2]=D.z,E}function Le(E){const D=E.coords;return{x:D[0],y:D[1],m:D[2]}}function tt(E,D){return E.coords[0]=D.x,E.coords[1]=D.y,E.coords[2]=D.m,E}function je(E){const D=E.coords;return{x:D[0],y:D[1],z:D[2],m:D[3]}}function ve(E,D){return E.coords[0]=D.x,E.coords[1]=D.y,E.coords[2]=D.z,E.coords[3]=D.m,E}function qe(E,D){return E&&D?ve:E?Ve:D?tt:Ue}function He(E,D,O,L,F){const V=qe(O,L);for(const W of D){const{geometry:X,attributes:ie}=W;let Y;X&&(Y=V(new ye.Z,X)),E.push(new Ce.ZP(Y,ie,null,ie[F]))}return E}function Ne(E,D,O){if((0,Te.Wi)(E))return null;const L=he(D,O),F=[];for(let V=0;V<E.coords.length;V+=L){const W=[];for(let X=0;X<L;X++)W.push(E.coords[V+X]);F.push(W)}return D?O?{points:F,hasZ:D,hasM:O}:{points:F,hasZ:D}:O?{points:F,hasM:O}:{points:F}}function Se(E,D,O,L,F){const V=he(O,L);for(const W of D){const X=W.geometry,ie=W.attributes;let Y;X&&(Y=$e(new ye.Z,X,V)),E.push(new Ce.ZP(Y,ie,null,ie[F]))}return E}function $e(E,D,O=he(D.hasZ,D.hasM)){E.lengths[0]=D.points.length;const L=E.coords;let F=0;for(const V of D.points)for(let W=0;W<O;W++)L[F++]=V[W];return E}function ut(E,D,O){if(!E)return null;const L=he(D,O),{coords:F,lengths:V}=E,W=[];let X=0;for(const ie of V){const Y=[];for(let te=0;te<ie;te++){const ne=[];for(let we=0;we<L;we++)ne.push(F[X++]);Y.push(ne)}W.push(Y)}return D?O?{paths:W,hasZ:D,hasM:O}:{paths:W,hasZ:D}:O?{paths:W,hasM:O}:{paths:W}}function xt(E,D,O,L,F){const V=he(O,L);for(const W of D){const X=W.geometry,ie=W.attributes;let Y;X&&(Y=Ze(new ye.Z,X,V)),E.push(new Ce.ZP(Y,ie,null,ie[F]))}return E}function Ze(E,D,O=he(D.hasZ,D.hasM)){const{lengths:L,coords:F}=E;let V=0;for(const W of D.paths){for(const X of W)for(let ie=0;ie<O;ie++)F[V++]=X[ie];L.push(W.length)}return E}function gt(E,D,O){if(!E)return null;const L=he(D,O),{coords:F,lengths:V}=E,W=[];let X=0;for(const ie of V){const Y=[];for(let te=0;te<ie;te++){const ne=[];for(let we=0;we<L;we++)ne.push(F[X++]);Y.push(ne)}W.push(Y)}return D?O?{rings:W,hasZ:D,hasM:O}:{rings:W,hasZ:D}:O?{rings:W,hasM:O}:{rings:W}}function Vt(E,D,O,L,F){for(const V of D){const W=V.geometry,X=V.centroid,ie=V.attributes;let Y;W&&(Y=Bt(new ye.Z,W,O,L)),(0,Te.pC)(X)?E.push(new Ce.ZP(Y,ie,Ue(new ye.Z,X),ie[F])):E.push(new Ce.ZP(Y,ie,null,ie[F]))}return E}function Bt(E,D,O=D.hasZ,L=D.hasM){return Lt(E,D.rings,O,L),E}function Lt(E,D,O,L){const F=he(O,L),{lengths:V,coords:W}=E;let X=0;V.length=W.length=0;for(const ie of D){for(const Y of ie)for(let te=0;te<F;te++)W[X++]=Y[te];V.push(ie.length)}return E}const Pt=[],dt=[];function jt(E,D,O,L,F){Pt[0]=E;const[V]=Rt(dt,Pt,D,O,L,F);return Pt.length=dt.length=0,V}function Rt(E,D,O,L,F,V){if(E.length=0,!O){for(const W of D)E.push(new Ce.ZP(null,W.attributes,null,W.attributes[V]));return E}switch(O){case"esriGeometryPoint":return He(E,D,L,F,V);case"esriGeometryMultipoint":return Se(E,D,L,F,V);case"esriGeometryPolyline":return xt(E,D,L,F,V);case"esriGeometryPolygon":return Vt(E,D,L,F,V);default:re.error("convertToFeatureSet:unknown-geometry",new z.Z(`Unable to parse unknown geometry type '${O}'`)),E.length=0}return E}function _e(E,D,O,L,F,V){const W=E.length;switch(O){case"esriGeometryPoint":He(E,D,L,F,V);break;case"esriGeometryMultipoint":Se(E,D,L,F,V);break;case"esriGeometryPolyline":xt(E,D,L,F,V);break;case"esriGeometryPolygon":Vt(E,D,L,F,V);break;default:re.error("convertToFeatureSet:unknown-geometry",new z.Z(`Unable to parse unknown geometry type '${O}'`))}for(let X=0;X<D.length;X++)E[X+W].geometryType=O,E[X+W].insertAfter=D[X].insertAfter,E[X+W].groupId=D[X].groupId;return E}function ke(E,D,O,L){dt[0]=E,st(Pt,dt,D,O,L);const F=Pt[0];return Pt.length=dt.length=0,F}function rt(E,D,O){if((0,Te.Wi)(E))return null;const L=new ye.Z;return"hasZ"in E&&null==D&&(D=E.hasZ),"hasM"in E&&null==O&&(O=E.hasM),(0,Me.wp)(E)?qe(null!=D?D:null!=E.z,null!=O?O:null!=E.m)(L,E):(0,Me.oU)(E)?Bt(L,E,D,O):(0,Me.l9)(E)?Ze(L,E,he(D,O)):(0,Me.aW)(E)?$e(L,E,he(D,O)):void re.error("convertFromGeometry:unknown-geometry",new z.Z(`Unable to parse unknown geometry type '${E}'`))}function Dt(E,D,O,L){const F=E&&("coords"in E?E:E.geometry);if((0,Te.Wi)(F))return null;switch(D){case"esriGeometryPoint":{let V=ge;return O&&L?V=je:O?V=Fe:L&&(V=Le),V(F)}case"esriGeometryMultipoint":return Ne(F,O,L);case"esriGeometryPolyline":return ut(F,O,L);case"esriGeometryPolygon":return gt(F,O,L);default:return void re.error("convertToGeometry:unknown-geometry",new z.Z(`Unable to parse unknown geometry type '${D}'`))}}function st(E,D,O,L,F){if(E.length=0,(0,Te.Wi)(O))return function(E,D){for(const O of D)E.push({attributes:O.attributes});return E}(E,D);switch(O){case"esriGeometryPoint":return function(E,D,O,L){let F=ge;O&&L?F=je:O?F=Fe:L&&(F=Le);for(const V of D){const{geometry:W,attributes:X}=V,ie=(0,Te.pC)(W)?F(W):null;E.push({attributes:X,geometry:ie})}return E}(E,D,L,F);case"esriGeometryMultipoint":return function(E,D,O,L){for(const F of D){const{geometry:V,attributes:W}=F;let X;V&&(X=Ne(V,O,L)),E.push({attributes:W,geometry:X})}return E}(E,D,L,F);case"esriGeometryPolyline":return function(E,D,O,L){for(const F of D){const{geometry:V,attributes:W}=F;let X;(0,Te.pC)(V)&&(X=ut(V,O,L)),E.push({attributes:W,geometry:X})}return E}(E,D,L,F);case"esriGeometryPolygon":return function(E,D,O,L){for(const F of D){const{geometry:V,attributes:W,centroid:X}=F;let ie;if((0,Te.pC)(V)&&(ie=gt(V,O,L)),X){const Y=ge(X);E.push({attributes:W,centroid:Y,geometry:ie})}else E.push({attributes:W,geometry:ie})}return E}(E,D,L,F);default:re.error("convertToFeatureSet:unknown-geometry",new z.Z(`Unable to parse unknown geometry type '${O}'`))}return E}function Ti(E){const{objectIdFieldName:D,spatialReference:O,transform:L,fields:F,hasM:V,hasZ:W,features:X,geometryType:ie,exceededTransferLimit:Y,uniqueIdField:te,queryGeometry:ne,queryGeometryType:we}=E,ze={features:st([],X,ie,W,V),fields:F,geometryType:ie,objectIdFieldName:D,spatialReference:O,uniqueIdField:te,queryGeometry:Dt(ne,we,!1,!1)};return L&&(ze.transform=L),Y&&(ze.exceededTransferLimit=Y),V&&(ze.hasM=V),W&&(ze.hasZ=W),ze}function qt(E,D){const O=new Ie.Z,{hasM:L,hasZ:F,features:V,objectIdFieldName:W,spatialReference:X,geometryType:ie,exceededTransferLimit:Y,transform:te,fields:ne}=E;return ne&&(O.fields=ne),O.geometryType=ie,O.objectIdFieldName=W||D,O.spatialReference=X,O.objectIdFieldName?(V&&Rt(O.features,V,ie,F,L,O.objectIdFieldName),Y&&(O.exceededTransferLimit=Y),L&&(O.hasM=L),F&&(O.hasZ=F),te&&(O.transform=te),O):(re.error(new z.Z("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),O)}function pi(E){const{transform:D,features:O,hasM:L,hasZ:F}=E;if(!D)return E;for(const V of O)(0,Te.pC)(V.geometry)&&kn(V.geometry,V.geometry,L,F,D),V.centroid&&kn(V.centroid,V.centroid,L,F,D);return E.transform=null,E}function We(E,D){const{geometryType:O,features:L,hasM:F,hasZ:V}=D;if(!E)return D;for(let W=0;W<L.length;W++){const X=L[W],ie=X.weakClone();ie.geometry=new ye.Z,fi(ie.geometry,X.geometry,F,V,O,E),X.centroid&&(ie.centroid=new ye.Z,fi(ie.centroid,X.centroid,F,V,"esriGeometryPoint",E)),L[W]=ie}return D.transform=E,D}function fi(E,D,O,L,F,V,W=O,X=L){if(E.lengths.length&&(E.lengths.length=0),E.coords.length&&(E.coords.length=0),(0,Te.Wi)(D)||!D.coords.length)return null;const ie=ce[F],{coords:Y,lengths:te}=D,ne=he(O,L),we=he(O&&W,L&&X),ze=me(O,L,W,X);if(!te.length)return ze(E.coords,Y,0,0,le(V,Y[0]),oe(V,Y[1])),E.lengths.length&&(E.lengths.length=0),E.coords.length=ne,E;let _t,Mt,pe,Ge,it=0,ht=0,mt=ht;for(const yt of te){if(yt<ie)continue;let Ot=0;ht=mt,pe=_t=le(V,Y[it]),Ge=Mt=oe(V,Y[it+1]),ze(E.coords,Y,ht,it,pe,Ge),Ot++,it+=ne,ht+=we;for(let St=1;St<yt;St++,it+=ne)pe=le(V,Y[it]),Ge=oe(V,Y[it+1]),pe===_t&&Ge===Mt||(ze(E.coords,Y,ht,it,pe-_t,Ge-Mt),ht+=we,Ot++,_t=pe,Mt=Ge);Ot>=ie&&(E.lengths.push(Ot),mt=ht)}return E.coords.length=mt,E.coords.length?E:null}function Mi(E,D,O,L,F,V,W=O,X=L){if(E.lengths.length&&(E.lengths.length=0),E.coords.length&&(E.coords.length=0),!D||!D.coords.length)return null;const ie=ce[F],{coords:Y,lengths:te}=D,ne=he(O,L),we=he(O&&W,L&&X),ze=me(O,L,W,X);if(!te.length)return ze(E.coords,Y,0,0,Y[0],Y[1]),E.lengths.length&&(E.lengths.length=0),E.coords.length=ne,E;let _t=0;const Mt=V*V;for(const pe of te){if(pe<ie){_t+=pe*ne;continue}const Ge=E.coords.length/we,it=_t,ht=_t+(pe-1)*ne;ze(E.coords,Y,E.coords.length,it,Y[it],Y[it+1]),yn(E.coords,Y,ne,Mt,ze,it,ht),ze(E.coords,Y,E.coords.length,ht,Y[ht],Y[ht+1]);const mt=E.coords.length/we-Ge;mt>=ie?E.lengths.push(mt):E.coords.length=Ge*we,_t+=pe*ne}return E.coords.length?E:null}function Ki(E,D,O,L){const F=E[D],V=E[D+1],ie=E[L],Y=E[L+1];let te=E[O],ne=E[O+1],we=ie-te,ze=Y-ne;if(0!==we||0!==ze){const _t=((F-te)*we+(V-ne)*ze)/(we*we+ze*ze);_t>1?(te=ie,ne=Y):_t>0&&(te+=we*_t,ne+=ze*_t)}return we=F-te,ze=V-ne,we*we+ze*ze}function yn(E,D,O,L,F,V,W){let X,ie=L,Y=0;for(let te=V+O;te<W;te+=O)X=Ki(D,te,V,W),X>ie&&(Y=te,ie=X);ie>L&&(Y-V>O&&yn(E,D,O,L,F,V,Y),F(E,D,E.length,Y,D[Y],D[Y+1]),W-Y>O&&yn(E,D,O,L,F,Y,W))}function Un(E,D,O,L){if((0,Te.Wi)(D)||!D.coords||!D.coords.length)return null;const F=he(O,L);let V=Number.POSITIVE_INFINITY,W=Number.POSITIVE_INFINITY,X=Number.NEGATIVE_INFINITY,ie=Number.NEGATIVE_INFINITY;if(D&&D.coords){const Y=D.coords;for(let te=0;te<Y.length;te+=F){const ne=Y[te],we=Y[te+1];V=Math.min(V,ne),X=Math.max(X,ne),W=Math.min(W,we),ie=Math.max(ie,we)}}return E[0]=V,E[1]=W,E[2]=X,E[3]=ie,E}function kn(E,D,O,L,F){const{coords:V,lengths:W}=D,X=O?L?Ae:xe:L?xe:be,ie=he(O,L);if(!V.length)return E!==D&&(E.lengths.length=0,E.coords.length=0),E;if(!W.length)return X(E.coords,V,0,0,se(F,V[0]),fe(F,V[1])),E!==D&&(E.lengths.length=0,E.coords.length=ie),E;const[Y,te]=F.scale;let ne=0;for(let we=0;we<W.length;we++){const ze=W[we];E.lengths[we]=ze;let _t=se(F,V[ne]),Mt=fe(F,V[ne+1]);X(E.coords,V,ne,ne,_t,Mt),ne+=ie;for(let pe=1;pe<ze;pe++,ne+=ie)_t+=V[ne]*Y,Mt-=V[ne+1]*te,X(E.coords,V,ne,ne,_t,Mt)}return E!==D&&(E.lengths.length=W.length,E.coords.length=V.length),E}function li(E,D,O,L,F,V){const W=he(O,L),X=me(O,L,F,V),ie=D.coords;E.coords.length=0,E.lengths.length=0,E.lengths.push(...D.lengths);for(let Y=0;Y<ie.length;Y+=W)X(E.coords,ie,E.coords.length,Y,ie[Y],ie[Y+1]);return E}function Be(E,D,O,L){let F=0,V=E[L*D],W=E[L*(D+1)];for(let X=1;X<O;X++){const ie=V+E[L*(D+X)],Y=W+E[L*(D+X)+1],te=(ie-V)*(Y+W);V=ie,W=Y,F+=te}return.5*F}function $(E,D){const{coords:O,lengths:L}=E;let F=0,V=0;for(let W=0;W<L.length;W++)V+=Be(O,F,L[W],D),F+=W;return Math.abs(V)}function T(E,D){if((0,Te.Wi)(E))return null;const O=E.clone(),L=E.coords,F=E.lengths;let V=0;for(let W=0;W<F.length;W++){const X=F[W];let ie=L[D*V],Y=L[D*V+1];for(let te=1;te<X;te++){const ne=ie+L[D*(V+te)],we=Y+L[D*(V+te)+1];O.coords[D*(V+te)]=ne,O.coords[D*(V+te)+1]=we,ie=ne,Y=we}V+=X}return O}},50085:(hi,lt,N)=>{"use strict";N.d(lt,{V:()=>he});var z=N(17626),J=N(77712),Ie=(N(8314),N(90912),N(63290),N(61403));const he=re=>{let ce=class extends re{get apiKey(){var be;return this._isOverridden("apiKey")?this._get("apiKey"):function(re){return"portalItem"in re}(this)?null==(be=this.portalItem)?void 0:be.apiKey:null}set apiKey(be){null!=be?this._override("apiKey",be):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return(0,z._)([(0,J.Cb)({type:String})],ce.prototype,"apiKey",null),ce=(0,z._)([(0,Ie.j)("esri.layers.mixins.APIKeyMixin")],ce),ce}},5143:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>xe});var z=N(17626),Te=(N(29132),N(77712)),ye=(N(8314),N(90912),N(63290),N(68653)),he=N(61403),re=N(51026),ce=N(28930),be=N(65234);const xe=de=>{let Ae=class extends de{constructor(){super(...arguments),this.copyright=null,this.minScale=0,this.maxScale=0,this.spatialReference=null,this.tileInfo=null,this.tilemapCache=null}readMinScale(me,le){return null!=le.minLOD&&null!=le.maxLOD?me:0}readMaxScale(me,le){return null!=le.minLOD&&null!=le.maxLOD?me:0}get supportsBlankTile(){return this.version>=10.2}readTilemapCache(me,le){return le.capabilities&&le.capabilities.indexOf("Tilemap")>-1?new ce.y({layer:this}):null}};return(0,z._)([(0,Te.Cb)({json:{read:{source:"copyrightText"}}})],Ae.prototype,"copyright",void 0),(0,z._)([(0,Te.Cb)()],Ae.prototype,"minScale",void 0),(0,z._)([(0,ye.r)("service","minScale")],Ae.prototype,"readMinScale",null),(0,z._)([(0,Te.Cb)()],Ae.prototype,"maxScale",void 0),(0,z._)([(0,ye.r)("service","maxScale")],Ae.prototype,"readMaxScale",null),(0,z._)([(0,Te.Cb)({type:be.Z})],Ae.prototype,"spatialReference",void 0),(0,z._)([(0,Te.Cb)({readOnly:!0})],Ae.prototype,"supportsBlankTile",null),(0,z._)([(0,Te.Cb)(re.h)],Ae.prototype,"tileInfo",void 0),(0,z._)([(0,Te.Cb)()],Ae.prototype,"tilemapCache",void 0),(0,z._)([(0,ye.r)("service","tilemapCache",["capabilities"])],Ae.prototype,"readTilemapCache",null),(0,z._)([(0,Te.Cb)()],Ae.prototype,"version",void 0),Ae=(0,z._)([(0,he.j)("esri.layers.mixins.ArcGISCachedService")],Ae),Ae}},19027:(hi,lt,N)=>{"use strict";N.d(lt,{O:()=>le});var z=N(15861),J=N(17626),Te=N(84792),Me=N(10699),Ce=N(21726),Ie=N(10349),ye=N(77712),be=(N(8314),N(90912),N(63290),N(68653)),xe=N(61403),de=N(2004),Ae=N(65234),me=N(13812);const le=oe=>{let se=class extends oe{constructor(){super(...arguments),this.capabilities=void 0,this.copyright=null,this.fullExtent=null,this.legendEnabled=!0,this.spatialReference=null,this.version=null}readCapabilities(fe,Ee){const ge=Ee.capabilities&&Ee.capabilities.split(",").map(Qe=>Qe.toLowerCase().trim());if(!ge)return{operations:{supportsQuery:!1,supportsExportMap:!1,supportsExportTiles:!1,supportsTileMap:!1},exportMap:null,exportTiles:null};const Ue=this.type,Fe=-1!==ge.indexOf("query"),Ve=-1!==ge.indexOf("map"),Le=!!Ee.exportTilesAllowed,tt=-1!==ge.indexOf("tilemap"),je="tile"!==Ue&&!!Ee.supportsDynamicLayers,ve="tile"!==Ue&&(!Ee.tileInfo||je),Oe="tile"!==Ue&&(!Ee.tileInfo||je),qe="tile"!==Ue,He=!!Ee.cimVersion&&Ie.G.parse(Ee.cimVersion).since(1,4);return{operations:{supportsQuery:Fe,supportsExportMap:Ve,supportsExportTiles:Le,supportsTileMap:tt},exportMap:Ve?{supportsArcadeExpressionForLabeling:He,supportsSublayersChanges:qe,supportsDynamicLayers:je,supportsSublayerVisibility:ve,supportsSublayerDefinitionExpression:Oe}:null,exportTiles:Le?{maxExportTilesCount:+Ee.maxExportTilesCount}:null}}readVersion(fe,Ee){let ge=Ee.currentVersion;return ge||(ge=Ee.hasOwnProperty("capabilities")||Ee.hasOwnProperty("tables")?10:Ee.hasOwnProperty("supportedImageFormatTypes")?9.31:9.3),ge}fetchSublayerInfo(fe,Ee){var ge=this;return(0,z.Z)(function*(){return yield ge.fetchAllLayersAndTables(Ee),ge._allLayersAndTablesMap.get(fe)})()}fetchAllLayersAndTables(fe){var Ee=this;return(0,z.Z)(function*(){yield Ee.load(fe),Ee._allLayersAndTablesPromise||(Ee._allLayersAndTablesPromise=(0,Te.default)((0,Ce.mN)(Ee.url).path+"/layers",{responseType:"json",query:fr(ji({f:"json"},Ee.customParameters),{token:Ee.apiKey})}).then(Ue=>{Ee._allLayersAndTablesMap=new Map;for(const Fe of Ue.data.layers)Ee._allLayersAndTablesMap.set(Fe.id,Fe);return{result:Ue.data}},Ue=>({error:Ue})));const ge=yield Ee._allLayersAndTablesPromise;if((0,Me.k_)(fe),"result"in ge)return ge.result;throw ge.error})()}};return(0,J._)([(0,ye.Cb)({readOnly:!0})],se.prototype,"capabilities",void 0),(0,J._)([(0,be.r)("service","capabilities",["capabilities","exportTilesAllowed","maxExportTilesCount","supportsDynamicLayers","tileInfo"])],se.prototype,"readCapabilities",null),(0,J._)([(0,ye.Cb)({json:{read:{source:"copyrightText"}}})],se.prototype,"copyright",void 0),(0,J._)([(0,ye.Cb)({type:de.Z})],se.prototype,"fullExtent",void 0),(0,J._)([(0,ye.Cb)(me.id)],se.prototype,"id",void 0),(0,J._)([(0,ye.Cb)({type:Boolean,json:{origins:{service:{read:{enabled:!1}}},read:{source:"showLegend"},write:{target:"showLegend"}}})],se.prototype,"legendEnabled",void 0),(0,J._)([(0,ye.Cb)(me.C_)],se.prototype,"popupEnabled",void 0),(0,J._)([(0,ye.Cb)({type:Ae.Z})],se.prototype,"spatialReference",void 0),(0,J._)([(0,ye.Cb)()],se.prototype,"version",void 0),(0,J._)([(0,be.r)("version",["currentVersion","capabilities","tables","supportedImageFormatTypes"])],se.prototype,"readVersion",null),se=(0,J._)([(0,xe.j)("esri.layers.mixins.ArcGISMapService")],se),se}},65088:(hi,lt,N)=>{"use strict";N.d(lt,{Y:()=>re});var z=N(17626),J=N(63290),Te=N(62208),Me=N(77712),ye=(N(8314),N(90912),N(61403)),he=N(38305);const re=ce=>{let be=class extends ce{get title(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){const xe=(0,he.Qc)(this.url);if((0,Te.pC)(xe)&&xe.title)return xe.title}return this._get("title")||""}set title(xe){this._set("title",xe)}set url(xe){this._set("url",(0,he.Nm)(xe,J.Z.getLogger(this.declaredClass)))}};return(0,z._)([(0,Me.Cb)()],be.prototype,"title",null),(0,z._)([(0,Me.Cb)({type:String})],be.prototype,"url",null),be=(0,z._)([(0,ye.j)("esri.layers.mixins.ArcGISService")],be),be}},30759:(hi,lt,N)=>{"use strict";N.d(lt,{h:()=>fe});var z=N(17626),J=N(77712),Ie=(N(8314),N(90912),N(63290),N(61403)),ye=N(26584),he=N(94113),re=N(29538);function ce(Ee,ge,Ue){try{return function(Ee){if(!Ee)return null;if(function(Ee){const ge=Ee[0];return!!ge&&"scale"in ge}(Ee)){const ge=[];for(const Ue of Ee)ge.push({scale:Ue.scale,value:le(Ue.value)});return ge}return le(Ee)}(Ee)}catch(Fe){Ue.messages&&Ue.messages.push(Fe)}return null}function be(Ee,ge,Ue,Fe){try{const Ve=function(Ee){if(!Ee)return null;if("string"==typeof Ee)return me(Ee);const ge=[];for(const{scale:Ue,value:Fe}of Ee)ge.push({scale:Ue,value:me(Fe)});return ge}(Ee);Ve&&(0,he.RB)(Ue,Ve,ge)}catch(Ve){Fe.messages&&Fe.messages.push(Ve)}}function me(Ee){if(!Ee)return null;const ge=(0,re.Q)(Ee);if(ge.error)throw ge.error;return ge.effects.map(Ue=>Ue.toJSON())}function le(Ee){if(!Ee||!Ee.length)return null;const ge=[];for(const Ue of Ee){let Fe=[];switch(Ue.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":Fe=[oe(Ue,"amount")];break;case"blur":Fe=[oe(Ue,"radius","pt")];break;case"hue-rotate":Fe=[oe(Ue,"angle","deg")];break;case"drop-shadow":Fe=[oe(Ue,"xoffset","pt"),oe(Ue,"yoffset","pt"),oe(Ue,"blurRadius","pt"),se(Ue,"color")];break;case"bloom":Fe=[oe(Ue,"strength"),oe(Ue,"radius","pt"),oe(Ue,"threshold")]}const Ve=`${Ue.type}(${Fe.filter(Boolean).join(" ")})`,Le=(0,re.Q)(Ve);if(Le.error)throw Le.error;ge.push(Ve)}return ge.join(" ")}function oe(Ee,ge,Ue){if(null==Ee[ge])throw new ye.Z("effect:missing-parameter",`Missing parameter '${ge}' in ${Ee.type} effect`,{effect:Ee});return Ue?Ee[ge]+Ue:""+Ee[ge]}function se(Ee,ge){if(null==Ee[ge])throw new ye.Z("effect:missing-parameter",`Missing parameter '${ge}' in ${Ee.type} effect`,{effect:Ee});const Ue=Ee[ge];return`rgba(${Ue[0]||0} ${Ue[1]||0} ${Ue[2]||0} ${Ue[3]/255||0})`}const fe=Ee=>{let ge=class extends Ee{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return(0,z._)([(0,J.Cb)({type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{default:"normal",read:!0,write:!0}}}})],ge.prototype,"blendMode",void 0),(0,z._)([(0,J.Cb)({json:{read:!1,write:!1,origins:{"web-map":{read:{reader:ce},write:{writer:be}}}}})],ge.prototype,"effect",void 0),ge=(0,z._)([(0,Ie.j)("esri.layers.mixins.BlendLayer")],ge),ge}},50107:(hi,lt,N)=>{"use strict";N.d(lt,{N:()=>ye});var z=N(17626),J=N(77712),Ie=(N(8314),N(90912),N(63290),N(61403));const ye=he=>{let re=class extends he{constructor(){super(...arguments),this.customParameters=null}};return(0,z._)([(0,J.Cb)({type:Object,json:{write:{overridePolicy:ce=>({enabled:!!(ce&&Object.keys(ce).length>0)})}}})],re.prototype,"customParameters",void 0),re=(0,z._)([(0,Ie.j)("esri.layers.mixins.CustomParametersMixin")],re),re}},49286:(hi,lt,N)=>{"use strict";N.d(lt,{q:()=>de});var z=N(17626),J=N(26584),Te=N(77712),ye=(N(8314),N(90912),N(63290),N(61403)),he=N(99433),re=N(29338),ce=N(36054);const be={"web-scene/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,OGCFeatureLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,KML:!0,RasterDataLayer:!0,Voxel:!0},"web-scene/basemap":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-map/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CSV:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,OGCFeatureLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-map/basemap":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},"web-map/tables":{ArcGISFeatureLayer:!0},"portal-item/operational-layers":{ArcGISSceneServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0}};var xe=N(13812);const de=me=>{let le=class extends me{constructor(){super(...arguments),this.title=null}writeListMode(oe,se,fe,Ee){(Ee&&"ground"===Ee.layerContainerType||oe&&(0,ce.df)(this,fe,{},Ee))&&(se[fe]=oe)}writeOperationalLayerType(oe,se,fe,Ee){!oe||Ee&&"tables"===Ee.layerContainerType||(se.layerType=oe)}writeTitle(oe,se){se.title=oe||"Layer"}read(oe,se){se&&(se.layer=this),(0,re.$Z)(this,oe,fe=>super.read(oe,fe),se)}write(oe,se){if(se&&se.origin){const ge=`${se.origin}/${se.layerContainerType||"operational-layers"}`,Ue=be[ge];let Fe=Ue&&Ue[this.operationalLayerType];if("ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===ge&&(Fe=!1),!Fe)return se.messages&&se.messages.push(new J.Z("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${ge}'`,{layer:this})),null}const fe=super.write(oe,fr(ji({},se),{layer:this})),Ee=!!se&&!!se.messages&&!!se.messages.filter(ge=>ge instanceof J.Z&&"web-document-write:property-required"===ge.name).length;return!this.url&&Ee?null:fe}beforeSave(){}};return(0,z._)([(0,Te.Cb)({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],le.prototype,"id",void 0),(0,z._)([(0,Te.Cb)({json:{write:{ignoreOrigin:!0},origins:{"web-map":{read:!1,write:!1}}}})],le.prototype,"listMode",void 0),(0,z._)([(0,he.c)("listMode")],le.prototype,"writeListMode",null),(0,z._)([(0,Te.Cb)({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1}}}})],le.prototype,"operationalLayerType",void 0),(0,z._)([(0,he.c)("operationalLayerType")],le.prototype,"writeOperationalLayerType",null),(0,z._)([(0,Te.Cb)(xe.Oh)],le.prototype,"opacity",void 0),(0,z._)([(0,Te.Cb)({type:String,json:{write:{ignoreOrigin:!0,allowNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,allowNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],le.prototype,"title",void 0),(0,z._)([(0,he.c)("title")],le.prototype,"writeTitle",null),(0,z._)([(0,Te.Cb)({type:Boolean,json:{name:"visibility",origins:{"web-document":{name:"visibility",default:!0},"portal-item":{name:"visibility",read:{source:["visible","visibility"]}}}}})],le.prototype,"visible",void 0),le=(0,z._)([(0,ye.j)("esri.layers.mixins.OperationalLayer")],le),le}},32629:(hi,lt,N)=>{"use strict";N.d(lt,{c:()=>oe});var ce,z=N(17626),J=N(94113),Te=N(77712),ye=(N(8314),N(90912),N(63290),N(61403)),he=N(2076),re=N(86162);const be=new he.Xn({asc:"ascending",desc:"descending"});let xe=ce=class extends re.wq{constructor(){super(...arguments),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new ce({field:this.field,valueExpression:this.valueExpression,order:this.order})}};(0,z._)([(0,Te.Cb)({type:String,json:{write:!0}})],xe.prototype,"field",void 0),(0,z._)([(0,Te.Cb)({type:String,json:{write:!0}})],xe.prototype,"valueExpression",void 0),(0,z._)([(0,Te.Cb)({type:be.apiValues,json:{read:be.read,write:be.write}})],xe.prototype,"order",void 0),xe=ce=(0,z._)([(0,ye.j)("esri.layers.support.OrderByInfo")],xe);var de=xe;function me(se,fe,Ee){if(!se)return null;const ge=se.find(Fe=>!!Fe.field);if(!ge)return null;const Ue=new de;return Ue.read(ge,Ee),[Ue]}function le(se,fe,Ee,ge){const Ue=se.find(Fe=>!!Fe.field);Ue&&(0,J.RB)(Ee,[Ue.toJSON()],fe)}const oe=se=>{let fe=class extends se{constructor(){super(...arguments),this.orderBy=null}};return(0,z._)([(0,Te.Cb)({type:[de],json:{origins:{"web-scene":{write:!1,read:!1}},read:{source:"layerDefinition.orderBy",reader:me},write:{target:"layerDefinition.orderBy",writer:le}}})],fe.prototype,"orderBy",void 0),fe=(0,z._)([(0,ye.j)("esri.layers.mixins.OrderedLayer")],fe),fe}},6647:(hi,lt,N)=>{"use strict";N.d(lt,{I:()=>ge});var z=N(15861),J=N(17626),Te=N(24263),Me=N(84792),Ce=N(59213),Ie=N(26584),ye=N(63290),he=N(62208),re=N(10699),ce=N(21726),be=N(77712),Ae=(N(8314),N(90912),N(68653)),me=N(61403),le=N(99433),oe=N(84687),se=N(55463),fe=N(94508);const Ee=ye.Z.getLogger("esri.layers.mixins.PortalLayer"),ge=Fe=>{let Ve=class extends Fe{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0}destroy(){var Le;null==(Le=this.portalItem)||Le.destroy(),this.portalItem=null}set portalItem(Le){Le!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",Le))}readPortalItem(Le,tt,je){if(tt.itemId)return new se.default({id:tt.itemId,portal:je&&je.portal})}writePortalItem(Le,tt){Le&&Le.id&&(tt.itemId=Le.id)}loadFromPortal(Le,tt){var je=this;return(0,z.Z)(function*(){if(je.portalItem&&je.portalItem.id)try{const ve=yield N.e(3705).then(N.bind(N,83705));return(0,re.k_)(tt),yield ve.load({instance:je,supportedTypes:Le.supportedTypes,validateItem:Le.validateItem,supportsData:Le.supportsData},tt)}catch(ve){throw(0,re.D_)(ve)||Ee.warn(`Failed to load layer (${je.title}, ${je.id}) portal item (${je.portalItem.id})\n  ${ve}`),ve}})()}finishLoadEditablePortalLayer(Le){var tt=this;return(0,z.Z)(function*(){tt._set("userHasEditingPrivileges",yield tt.fetchUserHasEditingPrivileges(Le).catch(je=>((0,re.r9)(je),!0)))})()}fetchUserHasEditingPrivileges(Le){var tt=this;return(0,z.Z)(function*(){const je=tt.url?null==Te.id?void 0:Te.id.findCredential(tt.url):null;if(!je)return!0;const ve=Ue.credential===je?Ue.user:yield tt.fetchEditingUser(Le);return Ue.credential=je,Ue.user=ve,(0,he.Wi)(ve)||null==ve.privileges||ve.privileges.includes("features:user:edit")})()}fetchEditingUser(Le){var tt=this;return(0,z.Z)(function*(){var je,ve;const Oe=null==(je=tt.portalItem)||null==(ve=je.portal)?void 0:ve.user;if(Oe)return Oe;const qe=Te.id.findServerInfo(tt.url);if(null==qe||!qe.owningSystemUrl)return null;const He=`${qe.owningSystemUrl}/sharing/rest`,Qe=oe.Z.getDefault();if(Qe&&Qe.loaded&&(0,ce.Fv)(Qe.restUrl)===(0,ce.Fv)(He))return Qe.user;const ot=`${He}/community/self`,Ne=(0,he.pC)(Le)?Le.signal:null,Se=yield(0,Ce.q6)((0,Me.default)(ot,{authMode:"no-prompt",query:{f:"json"},signal:Ne}));return Se.ok?fe.default.fromJSON(Se.value.data):null})()}read(Le,tt){tt&&(tt.layer=this),super.read(Le,tt)}write(Le,tt){const je=tt&&tt.portal,ve=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||oe.Z.getDefault());return je&&ve&&!(0,ce.tm)(ve.restUrl,je.restUrl)?(tt.messages&&tt.messages.push(new Ie.Z("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save the scene, set the layer.portalItem to null or save the scene to the same portal as the item associated with the layer`,{layer:this})),null):super.write(Le,fr(ji({},tt),{layer:this}))}};return(0,J._)([(0,be.Cb)({type:se.default})],Ve.prototype,"portalItem",null),(0,J._)([(0,Ae.r)("web-document","portalItem",["itemId"])],Ve.prototype,"readPortalItem",null),(0,J._)([(0,le.c)("web-document","portalItem",{itemId:{type:String}})],Ve.prototype,"writePortalItem",null),(0,J._)([(0,be.Cb)()],Ve.prototype,"resourceReferences",void 0),(0,J._)([(0,be.Cb)({readOnly:!0})],Ve.prototype,"userHasEditingPrivileges",void 0),Ve=(0,J._)([(0,me.j)("esri.layers.mixins.PortalLayer")],Ve),Ve},Ue={credential:null,user:null}},30346:(hi,lt,N)=>{"use strict";N.d(lt,{Q:()=>Ue});var z=N(15861),J=N(17626),Te=N(63290),Me=N(10699),Ce=N(77712),he=(N(8314),N(90912),N(61403)),re=N(7093),ce=N(21352);const be=new re.Z,xe=new WeakMap;function me(Fe){return Fe&&"object"==typeof Fe&&"refreshInterval"in Fe&&"refresh"in Fe}function le(Fe,Ve){return Number.isFinite(Fe)&&Number.isFinite(Ve)?Ve<=0?Fe:le(Ve,Fe%Ve):0}let oe=0,se=0;function fe(){const Fe=Date.now();for(const Le of be)if(Le.refreshInterval){var Ve;Fe-(null!=(Ve=xe.get(Le))?Ve:0)+5>=6e4*Le.refreshInterval&&(xe.set(Le,Fe),Le.refresh(Fe))}}(0,ce.EH)(()=>{const Fe=Date.now();let Ve=0;for(const Le of be)Ve=le(Math.round(6e4*Le.refreshInterval),Ve),Le.refreshInterval?xe.get(Le)||xe.set(Le,Fe):xe.delete(Le);if(Ve!==se){if(se=Ve,clearInterval(oe),0===se)return void(oe=0);oe=setInterval(fe,se)}});const Ue=Fe=>{let Ve=class extends Fe{constructor(...Le){super(...Le),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=(0,Me.Ds)(()=>this.hasDataChanged()),this.when().then(()=>{!function(Fe){me(Fe)&&be.push(Fe)}(this)},()=>{})}destroy(){!function(Fe){me(Fe)&&be.includes(Fe)&&be.remove(Fe)}(this)}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(Le=Date.now()){(0,Me.R8)(this._debounceHasDataChanged()).then(tt=>{tt&&(this._set("refreshTimestamp",Le),this.emit("refresh"))},tt=>{Te.Z.getLogger(this.declaredClass).error(tt)})}hasDataChanged(){return(0,z.Z)(function*(){return!0})()}};return(0,J._)([(0,Ce.Cb)({type:Number,cast:Le=>Le>=.1?Le:Le<=0?0:.1,json:{write:!0,origins:{"web-document":{write:!0}}}})],Ve.prototype,"refreshInterval",void 0),(0,J._)([(0,Ce.Cb)({readOnly:!0})],Ve.prototype,"refreshTimestamp",void 0),(0,J._)([(0,Ce.Cb)()],Ve.prototype,"refreshParameters",null),Ve=(0,J._)([(0,he.j)("esri.layers.mixins.RefreshableLayer")],Ve),Ve}},99555:(hi,lt,N)=>{"use strict";N.d(lt,{M:()=>ye});var z=N(17626),J=N(77712),Ie=(N(8314),N(90912),N(63290),N(61403));const ye=he=>{let re=class extends he{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get scaleRangeId(){return`${this.minScale},${this.maxScale}`}};return(0,z._)([(0,J.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],re.prototype,"minScale",void 0),(0,z._)([(0,J.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],re.prototype,"maxScale",void 0),(0,z._)([(0,J.Cb)({readOnly:!0})],re.prototype,"scaleRangeId",null),re=(0,z._)([(0,Ie.j)("esri.layers.mixins.ScaleRangeLayer")],re),re}},66120:(hi,lt,N)=>{"use strict";N.d(lt,{x:()=>se});var z=N(17626),J=N(7093),Te=N(46882),Me=N(26584),Ce=N(63290),Ie=N(77712),he=(N(8314),N(52323)),ce=(N(90912),N(61403)),be=N(31283),xe=N(39058),de=N(13410);const Ae=Ce.Z.getLogger("esri.layers.TileLayer"),le=J.Z.ofType(xe.Z);function oe(fe,Ee){fe&&fe.forEach(ge=>{Ee(ge),ge.sublayers&&ge.sublayers.length&&oe(ge.sublayers,Ee)})}const se=fe=>{let Ee=class extends fe{constructor(...ge){super(...ge),this.allSublayers=new Te.Z({getCollections:()=>[this.sublayers],getChildrenFunction:Ue=>Ue.sublayers}),this.sublayersSourceJSON={2:{},3:{},4:{},5:{}},this.handles.add(this.watch("sublayers",(Ue,Fe)=>this._handleSublayersChange(Ue,Fe),!0))}readSublayers(ge,Ue){if(!Ue||!ge)return;const{sublayersSourceJSON:Fe}=this,Ve=(0,be.M9)(Ue.origin);if(Ve<2||(Fe[Ve]={context:Ue,visibleLayers:ge.visibleLayers||Fe[Ve].visibleLayers,layers:ge.layers||Fe[Ve].layers},Ve>2))return;this._set("serviceSublayers",this.createSublayersForOrigin("service").sublayers);const{sublayers:Le,origin:tt}=this.createSublayersForOrigin("web-document"),je=(0,he.vw)(this);je.setDefaultOrigin(tt),this._set("sublayers",new le(Le)),je.setDefaultOrigin("user")}findSublayerById(ge){return this.allSublayers.find(Ue=>Ue.id===ge)}createServiceSublayers(){return this.createSublayersForOrigin("service").sublayers}createSublayersForOrigin(ge){const Ue=(0,be.M9)("web-document"===ge?"web-map":ge);let Fe=2,Ve=this.sublayersSourceJSON[2].layers,Le=this.sublayersSourceJSON[2].context,tt=null;const je=[3,4,5].filter(ot=>ot<=Ue);for(const ot of je){const Ne=this.sublayersSourceJSON[ot];(0,de.ac)(Ne.layers)&&(Fe=ot,Ve=Ne.layers,Le=Ne.context,Ne.visibleLayers&&(tt={visibleLayers:Ne.visibleLayers,context:Ne.context}))}const ve=[3,4,5].filter(ot=>ot>Fe&&ot<=Ue);let Oe=null;for(const ot of ve){const{layers:Ne,visibleLayers:Se,context:$e}=this.sublayersSourceJSON[ot];Ne&&(Oe={layers:Ne,context:$e}),Se&&(tt={visibleLayers:Se,context:$e})}const qe=function(fe,Ee){const ge=[],Ue={};return fe&&fe.forEach(Fe=>{const Ve=new xe.Z;if(Ve.read(Fe,Ee),Ue[Ve.id]=Ve,null!=Fe.parentLayerId&&-1!==Fe.parentLayerId){const Le=Ue[Fe.parentLayerId];Le.sublayers||(Le.sublayers=[]),Le.sublayers.unshift(Ve)}else ge.unshift(Ve)}),ge}(Ve,Le),He=new Map,Qe=new Set;if(Oe)for(const ot of Oe.layers)He.set(ot.id,ot);if(tt)for(const ot of tt.visibleLayers)Qe.add(ot);return oe(qe,ot=>{Oe&&ot.read(He.get(ot.id),Oe.context),tt&&ot.read({defaultVisibility:Qe.has(ot.id)},tt.context)}),{origin:(0,be.x3)(Fe),sublayers:new le({items:qe})}}read(ge,Ue){super.read(ge,Ue),this.readSublayers(ge,Ue)}_handleSublayersChange(ge,Ue){Ue&&(Ue.forEach(Fe=>{Fe.parent=null,Fe.layer=null}),this.handles.remove("sublayers-owner")),ge&&(ge.forEach(Fe=>{Fe.parent=this,Fe.layer=this}),this.handles.add([ge.on("after-add",({item:Fe})=>{Fe.parent=this,Fe.layer=this}),ge.on("after-remove",({item:Fe})=>{Fe.parent=null,Fe.layer=null})],"sublayers-owner"),"tile"===this.type&&this.handles.add(ge.on("before-changes",Fe=>{Ae.error(new Me.Z("tilelayer:sublayers-non-modifiable","ISublayer can't be added, moved, or removed from the layer's sublayers",{layer:this})),Fe.preventDefault()}),"sublayers-owner"))}};return(0,z._)([(0,Ie.Cb)({readOnly:!0})],Ee.prototype,"allSublayers",void 0),(0,z._)([(0,Ie.Cb)({readOnly:!0,type:J.Z.ofType(xe.Z)})],Ee.prototype,"serviceSublayers",void 0),(0,z._)([(0,Ie.Cb)({value:null,type:le,json:{read:!1,write:{allowNull:!0,ignoreOrigin:!0}}})],Ee.prototype,"sublayers",void 0),(0,z._)([(0,Ie.Cb)({readOnly:!0})],Ee.prototype,"sublayersSourceJSON",void 0),Ee=(0,z._)([(0,ce.j)("esri.layers.mixins.SublayersOwner")],Ee),Ee}},97941:(hi,lt,N)=>{"use strict";N.d(lt,{n:()=>Ae});var z=N(17626),J=N(97478),Te=N(20849),Me=N(77712),he=(N(8314),N(90912),N(63290),N(68653)),re=N(61403),ce=N(62708),be=N(36630),xe=N(58926);const Ae=me=>{let le=class extends me{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(oe,se){const fe=se.timeInfo.exportOptions;if(!fe)return null;const Ee=fe.timeOffset,ge=xe.v.fromJSON(fe.timeOffsetUnits);return Ee&&ge?new Te.Z({value:Ee,unit:ge}):null}set timeInfo(oe){(0,be.UF)(oe,this.fieldsIndex),this._set("timeInfo",oe)}};return(0,z._)([(0,Me.Cb)({type:J.Z,json:{write:!1}})],le.prototype,"timeExtent",void 0),(0,z._)([(0,Me.Cb)({type:Te.Z})],le.prototype,"timeOffset",void 0),(0,z._)([(0,he.r)("service","timeOffset",["timeInfo.exportOptions"])],le.prototype,"readOffset",null),(0,z._)([(0,Me.Cb)({value:null,type:ce.Z,json:{write:!0,origins:{"web-document":{read:!1,write:!1}}}})],le.prototype,"timeInfo",null),(0,z._)([(0,Me.Cb)({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],le.prototype,"useViewTime",void 0),le=(0,z._)([(0,re.j)("esri.layers.mixins.TemporalLayer")],le),le}},7255:(hi,lt,N)=>{"use strict";function z(Te,Me){for(const Ce of Te.children)if(Ce.localName in Me){const Ie=Me[Ce.localName];if("function"==typeof Ie){const ye=Ie(Ce);ye&&z(Ce,ye)}else z(Ce,Ie)}}function*J(Te,Me){for(const Ce of Te.children)if(Ce.localName in Me){const Ie=Me[Ce.localName];"function"==typeof Ie?yield Ie(Ce):yield*J(Ce,Ie)}}N.d(lt,{H:()=>J,h:()=>z})},81157:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>le});var ce,z=N(17626),J=N(58817),Te=N(77712),ye=(N(90912),N(8314),N(63290),N(55342)),he=N(61403),re=N(86162);let be=ce=class extends re.wq{constructor(oe){super(oe),this.name=null,this.code=null}clone(){return new ce({name:this.name,code:this.code})}};(0,z._)([(0,Te.Cb)({type:String,json:{write:!0}})],be.prototype,"name",void 0),(0,z._)([(0,Te.Cb)({type:[String,Number],json:{write:!0}})],be.prototype,"code",void 0),be=ce=(0,z._)([(0,he.j)("esri.layers.support.CodedValue")],be);var Ae,xe=be,de=N(50028);let me=Ae=class extends de.Z{constructor(oe){super(oe),this.codedValues=null,this.type="coded-value"}getName(oe){let se=null;if(this.codedValues){const fe=String(oe);this.codedValues.some(Ee=>(String(Ee.code)===fe&&(se=Ee.name),!!se))}return se}clone(){return new Ae({codedValues:(0,J.d9)(this.codedValues),name:this.name})}};(0,z._)([(0,Te.Cb)({type:[xe],json:{write:!0}})],me.prototype,"codedValues",void 0),(0,z._)([(0,ye.J)({codedValue:"coded-value"})],me.prototype,"type",void 0),me=Ae=(0,z._)([(0,he.j)("esri.layers.support.CodedValueDomain")],me);var le=me},50028:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>xe});var z=N(17626),J=N(2076),Te=N(86162),Me=N(77712),he=(N(8314),N(90912),N(63290),N(55342)),re=N(61403);const ce=new J.Xn({inherited:"inherited",codedValue:"coded-value",range:"range"});let be=class extends Te.wq{constructor(de){super(de),this.name=null,this.type=null}};(0,z._)([(0,Me.Cb)({type:String,json:{write:!0}})],be.prototype,"name",void 0),(0,z._)([(0,he.J)(ce)],be.prototype,"type",void 0),be=(0,z._)([(0,re.j)("esri.layers.support.Domain")],be);var xe=be},14772:(hi,lt,N)=>{"use strict";N.d(lt,{R:()=>Ae});var z=N(17626),J=N(61458),Te=N(80542),Me=N(62208),Ce=N(77712),re=(N(8314),N(90912),N(63290),N(61403)),ce=N(13812),be=N(13410),xe=N(79530);const de={visible:"visibleSublayers",definitionExpression:"layerDefs",labelingInfo:"hasDynamicLayers",labelsVisible:"hasDynamicLayers",opacity:"hasDynamicLayers",minScale:"visibleSublayers",maxScale:"visibleSublayers",renderer:"hasDynamicLayers",source:"hasDynamicLayers"};let Ae=class extends((0,Te.p)(J.Z)){constructor(me){super(me),this.floors=null,this.scale=0}destroy(){this.layer=null}get dynamicLayers(){if(!this.hasDynamicLayers)return null;const me=this.visibleSublayers.map(le=>{const oe=(0,xe.ff)(this.floors,le);return le.toExportImageJSON(oe)});return me.length?JSON.stringify(me):null}get hasDynamicLayers(){return this.layer&&(0,be.FN)(this.visibleSublayers,this.layer.serviceSublayers,this.layer)}set layer(me){this._get("layer")!==me&&(this._set("layer",me),this.handles.remove("layer"),me&&this.handles.add([me.allSublayers.on("change",()=>this.notifyChange("visibleSublayers")),me.on("sublayer-update",le=>this.notifyChange(de[le.propertyName]))],"layer"))}get layers(){const me=this.visibleSublayers;return me?me.length?"show:"+me.map(le=>le.id).join(","):"show:-1":null}get layerDefs(){var me;const le=!(null==(me=this.floors)||!me.length),oe=this.visibleSublayers.filter(se=>null!=se.definitionExpression||le&&null!=se.floorInfo);return oe.length?JSON.stringify(oe.reduce((se,fe)=>{const Ee=(0,xe.ff)(this.floors,fe),ge=(0,Me.pC)(Ee)?(0,xe.Hp)(Ee,fe):fe.definitionExpression;return se[fe.id]=ge,se},{})):null}get version(){this.commitProperty("layers"),this.commitProperty("layerDefs"),this.commitProperty("dynamicLayers"),this.commitProperty("timeExtent");const me=this.layer;return me&&(me.commitProperty("dpi"),me.commitProperty("imageFormat"),me.commitProperty("imageTransparency"),me.commitProperty("gdbVersion")),(this._get("version")||0)+1}get visibleSublayers(){const me=[];if(!this.layer)return me;const le=this.layer.sublayers,oe=fe=>{const Ee=this.scale;fe.visible&&(0===Ee||(0===fe.minScale||Ee<=fe.minScale)&&(0===fe.maxScale||Ee>=fe.maxScale))&&(fe.sublayers?fe.sublayers.forEach(oe):me.unshift(fe))};le&&le.forEach(oe);const se=this._get("visibleSublayers");return!se||se.length!==me.length||se.some((fe,Ee)=>me[Ee]!==fe)?me:se}toJSON(){const me=this.layer;let le={dpi:me.dpi,format:me.imageFormat,transparent:me.imageTransparency,gdbVersion:me.gdbVersion||null};return this.hasDynamicLayers&&this.dynamicLayers?le.dynamicLayers=this.dynamicLayers:le=fr(ji({},le),{layers:this.layers,layerDefs:this.layerDefs}),le}};(0,z._)([(0,Ce.Cb)({readOnly:!0})],Ae.prototype,"dynamicLayers",null),(0,z._)([(0,Ce.Cb)()],Ae.prototype,"floors",void 0),(0,z._)([(0,Ce.Cb)({readOnly:!0})],Ae.prototype,"hasDynamicLayers",null),(0,z._)([(0,Ce.Cb)()],Ae.prototype,"layer",null),(0,z._)([(0,Ce.Cb)({readOnly:!0})],Ae.prototype,"layers",null),(0,z._)([(0,Ce.Cb)({readOnly:!0})],Ae.prototype,"layerDefs",null),(0,z._)([(0,Ce.Cb)({type:Number})],Ae.prototype,"scale",void 0),(0,z._)([(0,Ce.Cb)(ce.qG)],Ae.prototype,"timeExtent",void 0),(0,z._)([(0,Ce.Cb)({readOnly:!0})],Ae.prototype,"version",null),(0,z._)([(0,Ce.Cb)({readOnly:!0})],Ae.prototype,"visibleSublayers",null),Ae=(0,z._)([(0,re.j)("esri.layers.mixins.ExportImageParameters")],Ae)},51920:(hi,lt,N)=>{"use strict";N.d(lt,{j:()=>ce});var z=N(17626),J=N(61458),Te=N(80542),Me=N(77712),he=(N(8314),N(90912),N(63290),N(61403));const re={visible:"visibleSublayers"};let ce=class extends((0,Te.p)(J.Z)){constructor(be){super(be),this.scale=0}set layer(be){this._get("layer")!==be&&(this._set("layer",be),this.handles.remove("layer"),be&&this.handles.add([be.sublayers.on("change",()=>this.notifyChange("visibleSublayers")),be.on("wms-sublayer-update",xe=>this.notifyChange(re[xe.propertyName]))],"layer"))}get layers(){const{visibleSublayers:be}=this;return be.filter(xe=>xe.name).map(xe=>xe.name).join(",")}get version(){this.commitProperty("layers");const be=this.layer;return be&&be.commitProperty("imageTransparency"),(this._get("version")||0)+1}get visibleSublayers(){const{layer:be,scale:xe}=this,de=null==be?void 0:be.sublayers,Ae=[],me=le=>{const{minScale:oe,maxScale:se,sublayers:fe,visible:Ee}=le;Ee&&(0===xe||(0===oe||xe<=oe)&&(0===se||xe>=se))&&(fe?fe.forEach(me):Ae.unshift(le))};return null==de||de.forEach(me),Ae}toJSON(){const{layer:be,layers:xe}=this,{imageFormat:de,imageTransparency:Ae,version:me}=be;return{format:de,request:"GetMap",service:"WMS",styles:"",transparent:Ae,version:me,layers:xe}}};(0,z._)([(0,Me.Cb)()],ce.prototype,"layer",null),(0,z._)([(0,Me.Cb)({readOnly:!0})],ce.prototype,"layers",null),(0,z._)([(0,Me.Cb)({type:Number})],ce.prototype,"scale",void 0),(0,z._)([(0,Me.Cb)({readOnly:!0})],ce.prototype,"version",null),(0,z._)([(0,Me.Cb)({readOnly:!0})],ce.prototype,"visibleSublayers",null),ce=(0,z._)([(0,he.j)("esri.layers.support.ExportWMSImageParameters")],ce)},83989:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>re});var z=N(17626),J=N(86162),Te=N(77712),ye=(N(8314),N(90912),N(63290),N(61403));let he=class extends J.wq{constructor(){super(...arguments),this.type=null}};(0,z._)([(0,Te.Cb)({type:["selection","cluster"],readOnly:!0,json:{read:!1,write:!0}})],he.prototype,"type",void 0),he=(0,z._)([(0,ye.j)("esri.layers.support.FeatureReduction")],he);var re=he},47058:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>ce});var he,z=N(17626),J=N(77712),Ie=(N(8314),N(90912),N(63290),N(61403)),ye=N(83989);let re=he=class extends ye.Z{constructor(be){super(be),this.type="selection"}clone(){return new he}};(0,z._)([(0,J.Cb)({type:["selection"]})],re.prototype,"type",void 0),re=he=(0,z._)([(0,Ie.j)("esri.layers.support.FeatureReductionSelection")],re);var ce=re},32777:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>de});var z=N(17626),J=N(2076),Te=N(86162),Me=N(58817),Ce=N(77712),re=(N(90912),N(8314),N(63290),N(61403)),ce=N(99433);const be=new J.Xn({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let xe=class extends Te.wq{constructor(Ae){super(Ae),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}writeDrawingTool(Ae,me){me.drawingTool=be.toJSON(Ae)}writePrototype(Ae,me){me.prototype=(0,Me.yd)((0,Me.d9)(Ae),!0)}writeThumbnail(Ae,me){me.thumbnail=(0,Me.yd)((0,Me.d9)(Ae))}};(0,z._)([(0,Ce.Cb)({json:{write:!0}})],xe.prototype,"name",void 0),(0,z._)([(0,Ce.Cb)({json:{write:!0}})],xe.prototype,"description",void 0),(0,z._)([(0,Ce.Cb)({json:{read:be.read,write:be.write}})],xe.prototype,"drawingTool",void 0),(0,z._)([(0,ce.c)("drawingTool")],xe.prototype,"writeDrawingTool",null),(0,z._)([(0,Ce.Cb)({json:{write:!0}})],xe.prototype,"prototype",void 0),(0,z._)([(0,ce.c)("prototype")],xe.prototype,"writePrototype",null),(0,z._)([(0,Ce.Cb)({json:{write:!0}})],xe.prototype,"thumbnail",void 0),(0,z._)([(0,ce.c)("thumbnail")],xe.prototype,"writeThumbnail",null),xe=(0,z._)([(0,re.j)("esri.layers.support.FeatureTemplate")],xe);var de=xe},41638:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>oe});var z=N(17626),J=N(86162),Te=N(58817),Me=N(77712),he=(N(90912),N(8314),N(63290),N(68653)),re=N(61403),ce=N(99433),be=N(81157),de=(N(50028),N(90336)),Ae=N(68155),me=N(32777);let le=class extends J.wq{constructor(se){super(se),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(se){const fe={};for(const Ee in se)if(se.hasOwnProperty(Ee)){const ge=se[Ee];switch(ge.type){case"range":fe[Ee]=Ae.Z.fromJSON(ge);break;case"codedValue":fe[Ee]=be.Z.fromJSON(ge);break;case"inherited":fe[Ee]=de.Z.fromJSON(ge)}}return fe}writeDomains(se,fe){const Ee={};for(const ge in se)se.hasOwnProperty(ge)&&(Ee[ge]=se[ge]&&se[ge].toJSON());(0,Te.yd)(Ee),fe.domains=Ee}readTemplates(se){return se&&se.map(fe=>new me.Z(fe))}writeTemplates(se,fe){fe.templates=se&&se.map(Ee=>Ee.toJSON())}};(0,z._)([(0,Me.Cb)({json:{write:!0}})],le.prototype,"id",void 0),(0,z._)([(0,Me.Cb)({json:{write:!0}})],le.prototype,"name",void 0),(0,z._)([(0,Me.Cb)({json:{write:!0}})],le.prototype,"domains",void 0),(0,z._)([(0,he.r)("domains")],le.prototype,"readDomains",null),(0,z._)([(0,ce.c)("domains")],le.prototype,"writeDomains",null),(0,z._)([(0,Me.Cb)({json:{write:!0}})],le.prototype,"templates",void 0),(0,z._)([(0,he.r)("templates")],le.prototype,"readTemplates",null),(0,z._)([(0,ce.c)("templates")],le.prototype,"writeTemplates",null),le=(0,z._)([(0,re.j)("esri.layers.support.FeatureType")],le);var oe=le},36255:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>le});var de,z=N(17626),J=N(2076),Te=N(86162),Me=N(77712),Ie=(N(8314),N(90912)),he=(N(63290),N(55342)),re=N(68653),ce=N(61403),be=N(67945),xe=N(85);const Ae=new J.Xn({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let me=de=class extends Te.wq{constructor(oe){super(oe),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=-1,this.name=null,this.nullable=!0,this.type=null,this.valueType=null}readDescription(oe,{description:se}){let fe;try{fe=JSON.parse(se)}catch(Ee){}return fe?fe.value:null}readValueType(oe,{description:se}){let fe;try{fe=JSON.parse(se)}catch(Ee){}return fe?Ae.fromJSON(fe.fieldValueType):null}clone(){return new de({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})}};(0,z._)([(0,Me.Cb)({type:String,json:{write:!0}})],me.prototype,"alias",void 0),(0,z._)([(0,Me.Cb)({type:[String,Number],json:{write:{allowNull:!0}}})],me.prototype,"defaultValue",void 0),(0,z._)([(0,Me.Cb)()],me.prototype,"description",void 0),(0,z._)([(0,re.r)("description")],me.prototype,"readDescription",null),(0,z._)([(0,Me.Cb)({types:be.V5,json:{read:{reader:be.im},write:!0}})],me.prototype,"domain",void 0),(0,z._)([(0,Me.Cb)({type:Boolean,json:{write:!0}})],me.prototype,"editable",void 0),(0,z._)([(0,Me.Cb)({type:Ie.z8,json:{write:!0}})],me.prototype,"length",void 0),(0,z._)([(0,Me.Cb)({type:String,json:{write:!0}})],me.prototype,"name",void 0),(0,z._)([(0,Me.Cb)({type:Boolean,json:{write:!0}})],me.prototype,"nullable",void 0),(0,z._)([(0,he.J)(xe.v)],me.prototype,"type",void 0),(0,z._)([(0,Me.Cb)()],me.prototype,"valueType",void 0),(0,z._)([(0,re.r)("valueType",["description"])],me.prototype,"readValueType",null),me=de=(0,z._)([(0,ce.j)("esri.layers.support.Field")],me);var le=me},60466:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>J});class J{constructor(Ce){if(this.fields=Ce,this._fieldsMap=new Map,this._dateFieldsSet=new Set,this.dateFields=[],!Ce)return;const Ie=[];for(const ye of Ce){const he=ye&&ye.name;if(he){const re=Te(he);this._fieldsMap.set(he,ye),this._fieldsMap.set(re,ye),Ie.push(re),("date"===(Me=ye).type||"esriFieldTypeDate"===Me.type)&&(this.dateFields.push(ye),this._dateFieldsSet.add(ye))}}var Me;Ie.sort(),this.uid=Ie.join(",")}destroy(){this._fieldsMap.clear()}has(Ce){return null!=this.get(Ce)}get(Ce){return null!=Ce?this._fieldsMap.get(Ce)||this._fieldsMap.get(Te(Ce)):void 0}isDateField(Ce){return this._dateFieldsSet.has(this.get(Ce))}normalizeFieldName(Ce){const Ie=this.get(Ce);if(Ie)return Ie.name}}function Te(Me){return Me.toLowerCase().trim()}},90336:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>be});var re,z=N(17626),Ie=(N(77712),N(8314),N(90912),N(63290),N(55342)),ye=N(61403),he=N(50028);let ce=re=class extends he.Z{constructor(xe){super(xe),this.type="inherited"}clone(){return new re}};(0,z._)([(0,Ie.J)({inherited:"inherited"})],ce.prototype,"type",void 0),ce=re=(0,z._)([(0,ye.j)("esri.layers.support.InheritedDomain")],ce);var be=ce},72258:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>ce});var he,z=N(17626),J=N(86162),Te=N(77712),Ce=(N(8314),N(90912)),ye=(N(63290),N(61403));let re=he=class extends J.wq{constructor(be){super(be),this.cols=null,this.level=0,this.levelValue=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new he({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}};(0,z._)([(0,Te.Cb)({type:Number,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],re.prototype,"cols",void 0),(0,z._)([(0,Te.Cb)({type:Ce.z8,json:{write:!0}})],re.prototype,"level",void 0),(0,z._)([(0,Te.Cb)({type:String,json:{write:!0}})],re.prototype,"levelValue",void 0),(0,z._)([(0,Te.Cb)({type:Number,json:{write:!0}})],re.prototype,"resolution",void 0),(0,z._)([(0,Te.Cb)({type:Number,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],re.prototype,"rows",void 0),(0,z._)([(0,Te.Cb)({type:Number,json:{write:!0}})],re.prototype,"scale",void 0),re=he=(0,z._)([(0,ye.j)("esri.layers.support.LOD")],re);var ce=re},170:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>tt});var Ae,z=N(17626),J=N(65787),Te=N(2076),Me=N(86162),Ce=N(58817),Ie=N(77712),ce=(N(90912),N(8314),N(63290),N(68653)),be=N(61403),xe=N(99433),de=N(86793);let me=Ae=class extends Me.wq{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(je,ve){return ve.value?(0,de.dI)(ve.value):je}writeExpression(je,ve,Oe){null!=this.value&&(je=(0,de.dI)(this.value)),ve[Oe]=je}clone(){return new Ae({expression:this.expression,title:this.title,value:this.value})}};(0,z._)([(0,Ie.Cb)({type:String,json:{write:{allowNull:!0}}})],me.prototype,"expression",void 0),(0,z._)([(0,ce.r)("expression",["expression","value"])],me.prototype,"readExpression",null),(0,z._)([(0,xe.c)("expression")],me.prototype,"writeExpression",null),(0,z._)([(0,Ie.Cb)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],me.prototype,"title",void 0),(0,z._)([(0,Ie.Cb)({json:{read:!1,write:!1}})],me.prototype,"value",void 0),me=Ae=(0,z._)([(0,be.j)("esri.layers.support.LabelExpressionInfo")],me);var fe,le=me,oe=N(8080),se=N(65270);const Ee=new Te.Xn({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function ge(je){return!je||"service"!==je.origin&&!Ue(je.layer)}function Ue(je){return"map-image"===(null==je?void 0:je.type)}function Fe(je){var ve,Oe;return!!Ue(je)&&!(null==(ve=je.capabilities)||null==(Oe=ve.exportMap)||!Oe.supportsArcadeExpressionForLabeling)}let Le=fe=class extends Me.wq{constructor(je){super(je),this.type="label",this.name=null,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.maxScale=0,this.minScale=0,this.symbol=oe.Rz,this.useCodedValues=void 0,this.where=null}static evaluateWhere(je,ve){const Oe=function(qe,He,Qe){switch(He){case"=":return qe==Qe;case"<>":return qe!=Qe;case">":return qe>Qe;case">=":return qe>=Qe;case"<":return qe<Qe;case"<=":return qe<=Qe}return!1};try{if(null==je)return!0;const qe=je.split(" ");if(3===qe.length)return Oe(ve[qe[0]],qe[1],qe[2]);if(7===qe.length){const He=Oe(ve[qe[0]],qe[1],qe[2]),Qe=qe[3],ot=Oe(ve[qe[4]],qe[5],qe[6]);switch(Qe){case"AND":return He&&ot;case"OR":return He||ot}}return!1}catch(qe){console.log("Error.: can't parse = "+je)}}readLabelExpression(je,ve){const Oe=ve.labelExpressionInfo;if(!Oe||!Oe.value&&!Oe.expression)return je}writeLabelExpression(je,ve,Oe){if(this.labelExpressionInfo)if(null!=this.labelExpressionInfo.value)je=(0,de.z7)(this.labelExpressionInfo.value);else if(null!=this.labelExpressionInfo.expression){const qe=(0,de.el)(this.labelExpressionInfo.expression);qe&&(je="["+qe+"]")}null!=je&&(ve[Oe]=je)}writeLabelExpressionInfo(je,ve,Oe,qe){if(null==je&&null!=this.labelExpression&&ge(qe))je=new le({expression:this.getLabelExpressionArcade()});else if(!je)return;const He=je.toJSON(qe);He.expression&&(ve[Oe]=He)}writeMaxScale(je,ve){(je||this.minScale)&&(ve.maxScale=je)}writeMinScale(je,ve){(je||this.maxScale)&&(ve.minScale=je)}getLabelExpression(){return(0,de.hV)(this)}getLabelExpressionArcade(){return(0,de.YI)(this)}getLabelExpressionSingleField(){return(0,de.UO)(this)}hash(){return JSON.stringify(this)}clone(){return new fe({deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:(0,Ce.d9)(this.labelExpressionInfo),labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,symbol:(0,Ce.d9)(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};(0,z._)([(0,Ie.Cb)({type:String,json:{write:!0}})],Le.prototype,"name",void 0),(0,z._)([(0,Ie.Cb)({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1}}}})],Le.prototype,"deconflictionStrategy",void 0),(0,z._)([(0,Ie.Cb)({type:String,json:{write:{overridePolicy(je,ve,Oe){return this.labelExpressionInfo&&"service"===(null==Oe?void 0:Oe.origin)&&Fe(Oe.layer)?{enabled:!1}:{allowNull:!0}}}}})],Le.prototype,"labelExpression",void 0),(0,z._)([(0,ce.r)("labelExpression")],Le.prototype,"readLabelExpression",null),(0,z._)([(0,xe.c)("labelExpression")],Le.prototype,"writeLabelExpression",null),(0,z._)([(0,Ie.Cb)({type:le,json:{write:{overridePolicy:(je,ve,Oe)=>function(je){return ge(je)||Fe(je.layer)}(Oe)?{allowNull:!0}:{enabled:!1}}}})],Le.prototype,"labelExpressionInfo",void 0),(0,z._)([(0,xe.c)("labelExpressionInfo")],Le.prototype,"writeLabelExpressionInfo",null),(0,z._)([(0,Ie.Cb)({type:Ee.apiValues,json:{type:Ee.jsonValues,read:Ee.read,write:Ee.write}})],Le.prototype,"labelPlacement",void 0),(0,z._)([(0,Ie.Cb)({type:Number})],Le.prototype,"maxScale",void 0),(0,z._)([(0,xe.c)("maxScale")],Le.prototype,"writeMaxScale",null),(0,z._)([(0,Ie.Cb)({type:Number})],Le.prototype,"minScale",void 0),(0,z._)([(0,xe.c)("minScale")],Le.prototype,"writeMinScale",null),(0,z._)([(0,Ie.Cb)({types:J.yK,json:{origins:{"web-scene":{types:J.S6,write:se.c,default:null}},write:se.c,default:null}})],Le.prototype,"symbol",void 0),(0,z._)([(0,Ie.Cb)({type:Boolean,json:{write:!0}})],Le.prototype,"useCodedValues",void 0),(0,z._)([(0,Ie.Cb)({type:String,json:{write:!0}})],Le.prototype,"where",void 0),Le=fe=(0,z._)([(0,be.j)("esri.layers.support.LabelClass")],Le);var tt=Le},2430:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>be});var re,z=N(17626),J=N(7093),Te=N(86162),Me=N(77712),he=(N(8314),N(90912),N(63290),N(61403));let ce=re=class extends Te.wq{constructor(xe){super(xe),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new J.Z}clone(){return new re({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};(0,z._)([(0,Me.Cb)({type:String,json:{write:!0}})],ce.prototype,"floorField",void 0),(0,z._)([(0,Me.Cb)({json:{read:!1,write:!1}})],ce.prototype,"viewAllMode",void 0),(0,z._)([(0,Me.Cb)({json:{read:!1,write:!1}})],ce.prototype,"viewAllLevelIds",void 0),ce=re=(0,z._)([(0,he.j)("esri.layers.support.LayerFloorInfo")],ce);var be=ce},41291:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>J});var z=N(10699);class J{constructor(){this._tasks=new Array}get length(){return this._tasks.length}push(Ce,Ie,ye){return new Promise((he,re)=>this._tasks.push(new Te(he,re,Ce,Ie,ye)))}unshift(Ce,Ie,ye){return new Promise((he,re)=>this._tasks.unshift(new Te(he,re,Ce,Ie,ye)))}process(){if(0===this._tasks.length)return!1;const Ce=this._tasks.shift();try{const Ie=(0,z.Hc)(Ce.signal);if(Ie&&!Ce.abortCallback)Ce.reject((0,z.zE)());else{const ye=Ie?Ce.abortCallback((0,z.zE)()):Ce.callback();(0,z.tI)(ye)?ye.then(Ce.resolve,Ce.reject):Ce.resolve(ye)}}catch(Ie){Ce.reject(Ie)}return!0}cancelAll(){const Ce=(0,z.zE)();for(const Ie of this._tasks)if(Ie.abortCallback){const ye=Ie.abortCallback(Ce);Ie.resolve(ye)}else Ie.reject(Ce);this._tasks.length=0}}class Te{constructor(Ce,Ie,ye,he,re){this.resolve=Ce,this.reject=Ie,this.callback=ye,this.signal=he,this.abortCallback=re}}},68155:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>be});var re,z=N(17626),J=N(77712),Ie=(N(8314),N(90912),N(63290),N(55342)),ye=N(61403),he=N(50028);let ce=re=class extends he.Z{constructor(xe){super(xe),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new re({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};(0,z._)([(0,J.Cb)({type:Number,json:{type:[Number],read:{source:"range",reader:(xe,de)=>de.range&&de.range[1]},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer(xe,de,Ae){de[Ae]=[this.minValue||0,xe]}}}})],ce.prototype,"maxValue",void 0),(0,z._)([(0,J.Cb)({type:Number,json:{type:[Number],read:{source:"range",reader:(xe,de)=>de.range&&de.range[0]},write:{target:"range",writer(xe,de,Ae){de[Ae]=[xe,this.maxValue||0]}}}})],ce.prototype,"minValue",void 0),(0,z._)([(0,Ie.J)({range:"range"})],ce.prototype,"type",void 0),ce=re=(0,z._)([(0,ye.j)("esri.layers.support.RangeDomain")],ce);var be=ce},39058:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>Ti});var Pt,z=N(15861),J=N(17626),Me=(N(29132),N(73281)),de=(N(4832),N(49067),N(26284),N(54928),N(69357),N(40342),N(14726),N(33474),N(32088)),Ae=N(84792),me=N(65787),le=N(7093),oe=N(26584),se=N(80542),fe=N(61996),Ee=N(58817),ge=N(47996),Ue=N(63290),Fe=N(62208),Ve=N(99959),Le=N(21726),tt=N(77712),je=N(52323),ve=N(66656),qe=(N(8314),N(68653)),He=N(61403),Qe=N(99433),ot=N(90912),Ne=N(31283),Se=N(41638),$e=N(36255),nt=N(60466),ut=N(170),xt=N(2430),Ze=N(15283),et=N(48370),gt=N(84952),Vt=N(49430),Bt=N(79530),Lt=N(2004);function dt(qt){return qt&&"esriSMS"===qt.type}function jt(qt,pi,We){var fi;const Mi=this.originIdOf(pi)>=(0,Ne.M9)(We.origin);return{ignoreOrigin:!0,allowNull:Mi,enabled:!!We&&"map-image"===(null==(fi=We.layer)?void 0:fi.type)&&(We.writeSublayerStructure||Mi)}}function Rt(qt,pi,We){var fi;return{enabled:!!We&&"tile"===(null==(fi=We.layer)?void 0:fi.type)&&this._isOverridden(pi)}}function _e(qt,pi,We){return{ignoreOrigin:!0,enabled:We&&We.writeSublayerStructure||!1}}function ke(qt,pi,We){return{ignoreOrigin:!0,enabled:!!We&&(We.writeSublayerStructure||this.originIdOf(pi)>=(0,Ne.M9)(We.origin))}}const rt=Ue.Z.getLogger("esri.layers.support.Sublayer");let Dt=0;const Kt=new Set;Kt.add("layer"),Kt.add("parent"),Kt.add("loaded"),Kt.add("loadStatus"),Kt.add("loadError"),Kt.add("loadWarnings");let st=Pt=class extends((0,se.p)((0,Ve.R)((0,fe.I)(ge.Z)))){constructor(qt){super(qt),this.capabilities=void 0,this.fields=null,this.fullExtent=null,this.globalIdField=null,this.legendEnabled=!0,this.objectIdField=null,this.popupEnabled=!0,this.popupTemplate=null,this.sourceJSON=null,this.title=null,this.typeIdField=null,this.types=null}load(qt){var pi=this;return(0,z.Z)(function*(){return pi.addResolvingPromise((0,z.Z)(function*(){var We;if(!pi.layer&&!pi.url)throw new oe.Z("sublayer:missing-layer","Sublayer can't be loaded without being part of a layer",{sublayer:pi});let fi=null;if(!pi.layer||pi.originIdOf("url")>2||"data-layer"===(null==(We=pi.source)?void 0:We.type))fi=(yield(0,Ae.default)(pi.url,ji({responseType:"json",query:{f:"json"}},qt))).data;else{var Mi;let Ki=pi.id;"map-layer"===(null==(Mi=pi.source)?void 0:Mi.type)&&(Ki=pi.source.mapLayerId),fi=yield pi.layer.fetchSublayerInfo(Ki,qt)}fi&&(pi.sourceJSON=fi,pi.read({layerDefinition:fi},{origin:"service"}))})()),pi})()}readCapabilities(qt,pi){const We=(qt=(pi=pi.layerDefinition||pi).capabilities||qt)?qt.toLowerCase().split(",").map(fi=>fi.trim()):[];return{exportMap:{supportsModification:!!pi.canModifyLayer},operations:{supportsQuery:-1!==We.indexOf("query")}}}set definitionExpression(qt){this._setAndNotifyLayer("definitionExpression",qt)}get fieldsIndex(){return new nt.Z(this.fields||[])}set floorInfo(qt){this._setAndNotifyLayer("floorInfo",qt)}readGlobalIdFieldFromService(qt,pi){if((pi=pi.layerDefinition||pi).globalIdField)return pi.globalIdField;if(pi.fields)for(const We of pi.fields)if("esriFieldTypeGlobalID"===We.type)return We.name}get id(){const qt=this._get("id");return null==qt?Dt++:qt}set id(qt){this._get("id")!==qt&&(!1!==this.get("layer.capabilities.exportMap.supportsDynamicLayers")?this._set("id",qt):this._logLockedError("id","capability not available 'layer.capabilities.exportMap.supportsDynamicLayers'"))}set labelingInfo(qt){this._setAndNotifyLayer("labelingInfo",qt)}writeLabelingInfo(qt,pi,We,fi){qt&&qt.length&&(pi.layerDefinition={drawingInfo:{labelingInfo:qt.map(Mi=>Mi.write({},fi))}})}set labelsVisible(qt){this._setAndNotifyLayer("labelsVisible",qt)}set layer(qt){this._set("layer",qt),this.sublayers&&this.sublayers.forEach(pi=>pi.layer=qt)}set listMode(qt){this._set("listMode",qt)}set minScale(qt){this._setAndNotifyLayer("minScale",qt)}readMinScale(qt,pi){return pi.minScale||pi.layerDefinition&&pi.layerDefinition.minScale||0}set maxScale(qt){this._setAndNotifyLayer("maxScale",qt)}readMaxScale(qt,pi){return pi.maxScale||pi.layerDefinition&&pi.layerDefinition.maxScale||0}readObjectIdFieldFromService(qt,pi){if((pi=pi.layerDefinition||pi).objectIdField)return pi.objectIdField;if(pi.fields)for(const We of pi.fields)if("esriFieldTypeOID"===We.type)return We.name}set opacity(qt){this._setAndNotifyLayer("opacity",qt)}readOpacity(qt,pi){const We=pi.layerDefinition;return 1-.01*(null!=We.transparency?We.transparency:We.drawingInfo.transparency)}writeOpacity(qt,pi,We,fi){pi.layerDefinition={drawingInfo:{transparency:100-100*qt}}}writeParent(qt,pi){pi.parentLayerId=this.parent&&this.parent!==this.layer?(0,ot.vU)(this.parent.id):-1}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(qt){if(qt)for(const pi of qt.getSymbols())if((0,me.dU)(pi)){rt.warn("Sublayer renderer should use 2D symbols");break}this._setAndNotifyLayer("renderer",qt)}get source(){return this._get("source")||new et.R({mapLayerId:this.id})}set source(qt){this._setAndNotifyLayer("source",qt)}set sublayers(qt){this._handleSublayersChange(qt,this._get("sublayers")),this._set("sublayers",qt)}castSublayers(qt){return(0,ot.se)(le.Z.ofType(Pt),qt)}writeSublayers(qt,pi,We){this.get("sublayers.length")&&(pi[We]=this.sublayers.map(fi=>fi.id).toArray().reverse())}readTypeIdField(qt,pi){let We=(pi=pi.layerDefinition||pi).typeIdField;if(We&&pi.fields){We=We.toLowerCase();const fi=pi.fields.find(Mi=>Mi.name.toLowerCase()===We);fi&&(We=fi.name)}return null}get url(){var qt,pi;const We=null!=(qt=null==(pi=this.layer)?void 0:pi.parsedUrl)?qt:this._lastParsedUrl,fi=this.source;if(!We)return null;if(this._lastParsedUrl=We,"map-layer"===(null==fi?void 0:fi.type))return`${We.path}/${fi.mapLayerId}`;const Mi={layer:JSON.stringify({source:this.source})};return`${We.path}/dynamicLayer?${(0,Le.B7)(Mi)}`}set url(qt){qt?this._override("url",qt):this._clearOverride("url")}set visible(qt){this._setAndNotifyLayer("visible",qt)}writeVisible(qt,pi,We,fi){pi[We]=this.getAtOrigin("defaultVisibility","service")||qt}clone(){const{store:qt}=(0,je.vw)(this),pi=new Pt;return(0,je.vw)(pi).store=qt.clone(Kt),this.commitProperty("url"),pi._lastParsedUrl=this._lastParsedUrl,pi}createPopupTemplate(qt){return(0,Vt.eZ)(this,qt)}createQuery(){return new gt.Z({returnGeometry:!0,where:this.definitionExpression||"1=1"})}createFeatureLayer(){var qt=this;return(0,z.Z)(function*(){var pi,We;if(qt.hasOwnProperty("sublayers"))return null;const fi=null==(pi=qt.layer)?void 0:pi.parsedUrl,Mi=new((yield Promise.resolve().then(N.bind(N,22132))).default)({url:fi.path});return fi&&qt.source&&("map-layer"===qt.source.type?Mi.layerId=qt.source.mapLayerId:Mi.dynamicDataSource=qt.source),null!=qt.layer.refreshInterval&&(Mi.refreshInterval=qt.layer.refreshInterval),qt.definitionExpression&&(Mi.definitionExpression=qt.definitionExpression),qt.floorInfo&&(Mi.floorInfo=(0,Ee.d9)(qt.floorInfo)),qt.originIdOf("labelingInfo")>2&&(Mi.labelingInfo=(0,Ee.d9)(qt.labelingInfo)),qt.originIdOf("labelsVisible")>0&&(Mi.labelsVisible=qt.labelsVisible),qt.originIdOf("legendEnabled")>0&&(Mi.legendEnabled=qt.legendEnabled),qt.originIdOf("visible")>0&&(Mi.visible=qt.visible),qt.originIdOf("minScale")>0&&(Mi.minScale=qt.minScale),qt.originIdOf("maxScale")>0&&(Mi.maxScale=qt.maxScale),qt.originIdOf("opacity")>0&&(Mi.opacity=qt.opacity),qt.originIdOf("popupTemplate")>0&&(Mi.popupTemplate=(0,Ee.d9)(qt.popupTemplate)),qt.originIdOf("renderer")>2&&(Mi.renderer=(0,Ee.d9)(qt.renderer)),"data-layer"===(null==(We=qt.source)?void 0:We.type)&&(Mi.dynamicDataSource=qt.source.clone()),qt.originIdOf("title")>0&&(Mi.title=qt.title),"map-image"===qt.layer.type&&qt.layer.originIdOf("customParameters")>0&&(Mi.customParameters=qt.layer.customParameters),"tile"===qt.layer.type&&qt.layer.originIdOf("customParameters")>0&&(Mi.customParameters=qt.layer.customParameters),Mi})()}getField(qt){return this.fieldsIndex.get(qt)}getFeatureType(qt){const{typeIdField:pi,types:We}=this;if(!pi||!qt)return null;const fi=qt.attributes?qt.attributes[pi]:void 0;if(null==fi)return null;let Mi=null;return We.some(Ki=>{const{id:yn}=Ki;return null!=yn&&(yn.toString()===fi.toString()&&(Mi=Ki),!!Mi)}),Mi}getFieldDomain(qt,pi){const fi=this.getFeatureType(pi&&pi.feature);if(fi){const Mi=fi.domains&&fi.domains[qt];if(Mi&&"inherited"!==Mi.type)return Mi}return this._getLayerDomain(qt)}queryFeatures(qt=this.createQuery(),pi){var We=this;return(0,z.Z)(function*(){var fi,Mi,Ki,yn;if(yield We.load(),!We.get("capabilities.operations.supportsQuery"))throw new oe.Z("Sublayer.queryFeatures","this layer doesn't support queries.");const[{executeQuery:Un},{default:Vn}]=yield Promise.all([Promise.resolve().then(N.bind(N,20477)),Promise.resolve().then(N.bind(N,17253))]),kn=yield Un(We.url,gt.Z.from(qt),null!=(fi=null==(Mi=We.layer)?void 0:Mi.spatialReference)?fi:null,fr(ji({},pi),{query:fr(ji({},null==(Ki=We.layer)?void 0:Ki.customParameters),{token:null==(yn=We.layer)?void 0:yn.apiKey})})),li=Vn.fromJSON(kn.data);if(null!=li&&li.features)for(const B of li.features)B.sourceLayer=We;return li})()}toExportImageJSON(qt){var pi;const We={id:this.id,source:(null==(pi=this.source)?void 0:pi.toJSON())||{mapLayerId:this.id,type:"mapLayer"}};if(this.definitionExpression){const Ki=(0,Fe.pC)(qt)?(0,Bt.Hp)(qt,this):this.definitionExpression;We.definitionExpression=Ki}else(0,Fe.pC)(qt)&&(We.definitionExpression=qt);const fi=["renderer","labelingInfo","opacity","labelsVisible"].reduce((Ki,yn)=>(Ki[yn]=this.originIdOf(yn),Ki),{});if(Object.keys(fi).some(Ki=>fi[Ki]>2)){const Ki=We.drawingInfo={};fi.renderer>2&&(Ki.renderer=this.renderer?this.renderer.toJSON():null),fi.labelsVisible>2&&(Ki.showLabels=this.labelsVisible),this.labelsVisible&&fi.labelingInfo>2&&(Ki.labelingInfo=this.labelingInfo?this.labelingInfo.map(yn=>yn.write({},{origin:"service",layer:this.layer})):null,Ki.showLabels=!0),fi.opacity>2&&(Ki.transparency=100-100*this.opacity),this._assignDefaultSymbolColors(Ki.renderer)}return We}_assignDefaultSymbolColors(qt){this._forEachSimpleMarkerSymbols(qt,pi=>{pi.color||"esriSMSX"!==pi.style&&"esriSMSCross"!==pi.style||(pi.color=pi.outline&&pi.outline.color?pi.outline.color:[0,0,0,0])})}_forEachSimpleMarkerSymbols(qt,pi){if(qt){const We="uniqueValueInfos"in qt?qt.uniqueValueInfos:"classBreakInfos"in qt?qt.classBreakInfos:[];for(const fi of We)dt(fi.symbol)&&pi(fi.symbol);"symbol"in qt&&dt(qt.symbol)&&pi(qt.symbol),"defaultSymbol"in qt&&dt(qt.defaultSymbol)&&pi(qt.defaultSymbol)}}_setAndNotifyLayer(qt,pi){const We=this.layer,fi=this._get(qt);let Mi,Ki;switch(qt){case"definitionExpression":case"floorInfo":Mi="supportsSublayerDefinitionExpression";case"minScale":case"maxScale":case"visible":Mi="supportsSublayerVisibility";break;case"labelingInfo":case"labelsVisible":case"opacity":case"renderer":case"source":Mi="supportsDynamicLayers",Ki="supportsModification"}const yn=(0,je.vw)(this).getDefaultOrigin();if("service"!==yn){if(Mi&&!1===this.get(`layer.capabilities.exportMap.${Mi}`))return void this._logLockedError(qt,`capability not available 'layer.capabilities.exportMap.${Mi}'`);if(Ki&&!1===this.get(`capabilities.exportMap.${Ki}`))return void this._logLockedError(qt,`capability not available 'capabilities.exportMap.${Ki}'`)}"source"!==qt||"not-loaded"===this.loadStatus?(this._set(qt,pi),"service"!==yn&&fi!==pi&&We&&We.emit&&We.emit("sublayer-update",{propertyName:qt,target:this})):this._logLockedError(qt,"'source' can't be changed after calling sublayer.load()")}_handleSublayersChange(qt,pi){pi&&(pi.forEach(We=>{We.parent=null,We.layer=null}),this.handles.removeAll()),qt&&(qt.forEach(We=>{We.parent=this,We.layer=this.layer}),this.handles.add([qt.on("after-add",({item:We})=>{We.parent=this,We.layer=this.layer}),qt.on("after-remove",({item:We})=>{We.parent=null,We.layer=null}),qt.on("before-changes",We=>{const fi=this.get("layer.capabilities.exportMap.supportsSublayersChanges");null==fi||fi||(rt.error(new oe.Z("sublayer:sublayers-non-modifiable","Sublayer can't be added, moved, or removed from the layer's sublayers",{sublayer:this,layer:this.layer})),We.preventDefault())})]))}_logLockedError(qt,pi){rt.error(new oe.Z("sublayer:locked",`Property '${qt}' can't be changed on Sublayer from the layer '${this.layer.id}'`,{reason:pi,sublayer:this,layer:this.layer}))}_getLayerDomain(qt){const pi=this.fieldsIndex.get(qt);return pi?pi.domain:null}};st.test={isMapImageLayerOverridePolicy:qt=>qt===_e||qt===jt,isTileImageLayerOverridePolicy:qt=>qt===Rt},(0,J._)([(0,tt.Cb)({readOnly:!0})],st.prototype,"capabilities",void 0),(0,J._)([(0,qe.r)("service","capabilities",["layerDefinition.canModifyLayer","layerDefinition.capabilities"])],st.prototype,"readCapabilities",null),(0,J._)([(0,tt.Cb)({type:String,value:null,json:{name:"layerDefinition.definitionExpression",write:{overridePolicy:jt}}})],st.prototype,"definitionExpression",null),(0,J._)([(0,tt.Cb)({type:[$e.Z],json:{origins:{service:{read:{source:"layerDefinition.fields"}}}}})],st.prototype,"fields",void 0),(0,J._)([(0,tt.Cb)({readOnly:!0})],st.prototype,"fieldsIndex",null),(0,J._)([(0,tt.Cb)({type:xt.Z,value:null,json:{name:"layerDefinition.floorInfo",read:{source:"layerDefinition.floorInfo"},write:{target:"layerDefinition.floorInfo",overridePolicy:jt},origins:{"web-scene":{read:!1,write:!1}}}})],st.prototype,"floorInfo",null),(0,J._)([(0,tt.Cb)({type:Lt.Z,json:{read:{source:"layerDefinition.extent"}}})],st.prototype,"fullExtent",void 0),(0,J._)([(0,tt.Cb)({type:String})],st.prototype,"globalIdField",void 0),(0,J._)([(0,qe.r)("service","globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],st.prototype,"readGlobalIdFieldFromService",null),(0,J._)([(0,tt.Cb)({type:ot.z8,json:{write:{ignoreOrigin:!0}}})],st.prototype,"id",null),(0,J._)([(0,tt.Cb)({value:null,type:[ut.Z],json:{read:{source:"layerDefinition.drawingInfo.labelingInfo"},write:{target:"layerDefinition.drawingInfo.labelingInfo",overridePolicy:_e}}})],st.prototype,"labelingInfo",null),(0,J._)([(0,Qe.c)("labelingInfo")],st.prototype,"writeLabelingInfo",null),(0,J._)([(0,tt.Cb)({type:Boolean,value:!0,json:{read:{source:"layerDefinition.drawingInfo.showLabels"},write:{target:"layerDefinition.drawingInfo.showLabels",overridePolicy:_e}}})],st.prototype,"labelsVisible",null),(0,J._)([(0,tt.Cb)({value:null})],st.prototype,"layer",null),(0,J._)([(0,tt.Cb)({type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},read:{source:"showLegend"},write:{target:"showLegend",overridePolicy:ke}}})],st.prototype,"legendEnabled",void 0),(0,J._)([(0,tt.Cb)({type:["show","hide","hide-children"],value:"show",json:{read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],st.prototype,"listMode",null),(0,J._)([(0,tt.Cb)({type:Number,value:0,json:{write:{overridePolicy:_e}}})],st.prototype,"minScale",null),(0,J._)([(0,qe.r)("minScale",["minScale","layerDefinition.minScale"])],st.prototype,"readMinScale",null),(0,J._)([(0,tt.Cb)({type:Number,value:0,json:{write:{overridePolicy:_e}}})],st.prototype,"maxScale",null),(0,J._)([(0,qe.r)("maxScale",["maxScale","layerDefinition.maxScale"])],st.prototype,"readMaxScale",null),(0,J._)([(0,tt.Cb)({type:String})],st.prototype,"objectIdField",void 0),(0,J._)([(0,qe.r)("service","objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],st.prototype,"readObjectIdFieldFromService",null),(0,J._)([(0,tt.Cb)({type:Number,value:1,json:{write:{target:"layerDefinition.drawingInfo.transparency",overridePolicy:_e}}})],st.prototype,"opacity",null),(0,J._)([(0,qe.r)("opacity",["layerDefinition.drawingInfo.transparency","layerDefinition.transparency"])],st.prototype,"readOpacity",null),(0,J._)([(0,Qe.c)("opacity")],st.prototype,"writeOpacity",null),(0,J._)([(0,tt.Cb)({json:{type:ot.z8,write:{target:"parentLayerId",allowNull:!0,overridePolicy:_e}}})],st.prototype,"parent",void 0),(0,J._)([(0,Qe.c)("parent")],st.prototype,"writeParent",null),(0,J._)([(0,tt.Cb)({type:Boolean,value:!0,json:{read:{source:"disablePopup",reader:(qt,pi)=>!pi.disablePopup},write:{target:"disablePopup",overridePolicy:ke,writer(qt,pi,We){pi[We]=!qt}}}})],st.prototype,"popupEnabled",void 0),(0,J._)([(0,tt.Cb)({type:Me.Z,json:{read:{source:"popupInfo"},write:{target:"popupInfo",overridePolicy:ke}}})],st.prototype,"popupTemplate",void 0),(0,J._)([(0,tt.Cb)({readOnly:!0})],st.prototype,"defaultPopupTemplate",null),(0,J._)([(0,tt.Cb)({types:de.A,value:null,json:{name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:_e},origins:{"web-scene":{types:de.o,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:_e}}}}})],st.prototype,"renderer",null),(0,J._)([(0,tt.Cb)({types:{key:"type",base:null,typeMap:{"data-layer":Ze.n,"map-layer":et.R}},cast(qt){if(qt){if("mapLayerId"in qt)return(0,ot.TJ)(et.R,qt);if("dataSource"in qt)return(0,ot.TJ)(Ze.n,qt)}return qt},json:{name:"layerDefinition.source",write:{overridePolicy:_e}}})],st.prototype,"source",null),(0,J._)([(0,tt.Cb)()],st.prototype,"sourceJSON",void 0),(0,J._)([(0,tt.Cb)({value:null,json:{type:[ot.z8],write:{target:"subLayerIds",allowNull:!0,overridePolicy:_e}}})],st.prototype,"sublayers",null),(0,J._)([(0,ve.p)("sublayers")],st.prototype,"castSublayers",null),(0,J._)([(0,Qe.c)("sublayers")],st.prototype,"writeSublayers",null),(0,J._)([(0,tt.Cb)({type:String,json:{read:{source:"name"},write:{target:"name",allowNull:!0,overridePolicy:ke}}})],st.prototype,"title",void 0),(0,J._)([(0,tt.Cb)({type:String})],st.prototype,"typeIdField",void 0),(0,J._)([(0,qe.r)("typeIdField",["layerDefinition.typeIdField"])],st.prototype,"readTypeIdField",null),(0,J._)([(0,tt.Cb)({type:[Se.Z],json:{origins:{service:{read:{source:"layerDefinition.types"}}}}})],st.prototype,"types",void 0),(0,J._)([(0,tt.Cb)({type:String,json:{read:{source:"layerUrl"},write:{target:"layerUrl",overridePolicy:Rt}}})],st.prototype,"url",null),(0,J._)([(0,tt.Cb)({type:Boolean,value:!0,json:{read:{source:"defaultVisibility"},write:{target:"defaultVisibility",overridePolicy:_e}}})],st.prototype,"visible",null),(0,J._)([(0,Qe.c)("visible")],st.prototype,"writeVisible",null),st=Pt=(0,J._)([(0,He.j)("esri.layers.support.Sublayer")],st);var Ti=st},2584:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>Ue});var fe,z=N(17626),J=N(2076),Te=N(86162),Me=N(62208),Ce=N(16730),Ie=N(77712),he=(N(8314),N(90912)),ce=(N(63290),N(68653)),be=N(61403),xe=N(99433),de=N(49672),Ae=N(65234),me=N(65401),le=N(37053),oe=N(46367),se=N(72258);const Ee=new J.Xn({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});let ge=fe=class extends Te.wq{constructor(Fe){super(Fe),this.dpi=96,this.format=null,this.origin=null,this.minScale=0,this.maxScale=0,this.size=null,this.spatialReference=null}static create(Fe={}){const{resolutionFactor:Ve=1,scales:Le,size:tt=256,spatialReference:je=Ae.Z.WebMercator,numLODs:ve=24}=Fe;if(!(0,le.JY)(je)){const Ne=[];if(Le)for(let Se=0;Se<Le.length;Se++){const $e=Le[Se];Ne.push({level:Se,scale:$e,resolution:$e})}else{let Se=5e-4;for(let $e=ve-1;$e>=0;$e--)Ne.unshift({level:$e,scale:Se,resolution:Se}),Se*=2}return new fe({dpi:96,lods:Ne,origin:new de.Z(0,0,je),size:[tt,tt],spatialReference:je})}const Oe=(0,le.C5)(je),qe=new de.Z(Fe.origin?{x:Fe.origin.x,y:Fe.origin.y,spatialReference:je}:Oe?{x:Oe.origin[0],y:Oe.origin[1],spatialReference:je}:{x:0,y:0,spatialReference:je}),Qe=1/(39.37*(0,Ce.c9)(je)*96),ot=[];if(Le)for(let Ne=0;Ne<Le.length;Ne++){const Se=Le[Ne];ot.push({level:Ne,scale:Se,resolution:Se*Qe})}else{let Ne=(0,le.sT)(je)?512/tt*591657527.5917094:256/tt*591657527.591555;const Se=Math.ceil(ve/Ve);ot.push({level:0,scale:Ne,resolution:Ne*Qe});for(let $e=1;$e<Se;$e++){const nt=Ne/2**Ve;ot.push({level:$e,scale:nt,resolution:nt*Qe}),Ne=nt}}return new fe({dpi:96,lods:ot,origin:qe,size:[tt,tt],spatialReference:je})}get isWrappable(){const{spatialReference:Fe,origin:Ve}=this;if(Fe&&Ve){const Le=(0,le.C5)(Fe);return Fe.isWrappable&&Math.abs(Le.origin[0]-Ve.x)<=Le.dx}return!1}readOrigin(Fe,Ve){return de.Z.fromJSON(ji({spatialReference:Ve.spatialReference},Fe))}set lods(Fe){let Ve=0,Le=0;const tt=[];this._levelToLOD={},Fe&&(Ve=-1/0,Le=1/0,Fe.forEach(je=>{tt.push(je.scale),Ve=je.scale>Ve?je.scale:Ve,Le=je.scale<Le?je.scale:Le,this._levelToLOD[je.level]=je})),this._set("scales",tt),this._set("minScale",Ve),this._set("maxScale",Le),this._set("lods",Fe),this._initializeUpsampleLevels()}readSize(Fe,Ve){return[Ve.cols,Ve.rows]}writeSize(Fe,Ve){Ve.cols=Fe[0],Ve.rows=Fe[1]}zoomToScale(Fe){const Ve=this.scales;if(Fe<=0)return Ve[0];if(Fe>=Ve.length-1)return Ve[Ve.length-1];{const Le=Math.floor(Fe);return Ve[Le]/(Ve[Le]/Ve[Le+1])**(Fe-Le)}}scaleToZoom(Fe){const Ve=this.scales,Le=Ve.length-1;let tt=0;for(;tt<Le;tt++){const je=Ve[tt],ve=Ve[tt+1];if(je<=Fe)return tt;if(ve===Fe)return tt+1;if(je>Fe&&ve<Fe)return tt+Math.log(je/Fe)/Math.log(je/ve)}return tt}snapScale(Fe,Ve=.95){const Le=this.scaleToZoom(Fe);return Le%Math.floor(Le)>=Ve?this.zoomToScale(Math.ceil(Le)):this.zoomToScale(Math.floor(Le))}tileAt(Fe,Ve,Le,tt){const je=this.lodAt(Fe);if(!je)return null;let ve,Oe;if("number"==typeof Ve)ve=Ve,Oe=Le;else if((0,le.fS)(Ve.spatialReference,this.spatialReference))ve=Ve.x,Oe=Ve.y,tt=Le;else{const Qe=(0,oe.iV)(Ve,this.spatialReference);if((0,Me.Wi)(Qe))return null;ve=Qe.x,Oe=Qe.y,tt=Le}const qe=je.resolution*this.size[0],He=je.resolution*this.size[1];return tt||(tt={id:null,level:0,row:0,col:0,extent:(0,me.Ue)()}),tt.level=Fe,tt.row=Math.floor((this.origin.y-Oe)/He+.001),tt.col=Math.floor((ve-this.origin.x)/qe+.001),this.updateTileInfo(tt),tt}updateTileInfo(Fe,Ve=0){let Le=this.lodAt(Fe.level);if(!Le&&1===Ve){const Oe=this.lods[this.lods.length-1];Oe.level<Fe.level&&(Le=Oe)}if(!Le)return;const tt=Fe.level-Le.level,je=Le.resolution*this.size[0]/2**tt,ve=Le.resolution*this.size[1]/2**tt;Fe.id=`${Fe.level}/${Fe.row}/${Fe.col}`,Fe.extent||(Fe.extent=(0,me.Ue)()),Fe.extent[0]=this.origin.x+Fe.col*je,Fe.extent[1]=this.origin.y-(Fe.row+1)*ve,Fe.extent[2]=Fe.extent[0]+je,Fe.extent[3]=Fe.extent[1]+ve}upsampleTile(Fe){const Ve=this._upsampleLevels[Fe.level];return!(!Ve||-1===Ve.parentLevel||(Fe.level=Ve.parentLevel,Fe.row=Math.floor(Fe.row/Ve.factor+.001),Fe.col=Math.floor(Fe.col/Ve.factor+.001),this.updateTileInfo(Fe),0))}getTileBounds(Fe,Ve){const{resolution:Le}=this.lodAt(Ve.level),tt=Le*this.size[0],je=Le*this.size[1];return Fe[0]=this.origin.x+Ve.col*tt,Fe[1]=this.origin.y-(Ve.row+1)*je,Fe[2]=Fe[0]+tt,Fe[3]=Fe[1]+je,Fe}lodAt(Fe){return this._levelToLOD&&this._levelToLOD[Fe]||null}clone(){return fe.fromJSON(this.write({}))}_initializeUpsampleLevels(){const Fe=this.lods;this._upsampleLevels=[];let Ve=null;for(let Le=0;Le<Fe.length;Le++){const tt=Fe[Le];this._upsampleLevels[tt.level]={parentLevel:Ve?Ve.level:-1,factor:Ve?Ve.resolution/tt.resolution:0},Ve=tt}}};(0,z._)([(0,Ie.Cb)({type:Number,json:{write:!0}})],ge.prototype,"compressionQuality",void 0),(0,z._)([(0,Ie.Cb)({type:Number,json:{write:!0}})],ge.prototype,"dpi",void 0),(0,z._)([(0,Ie.Cb)({type:String,json:{read:Ee.read,write:Ee.write,origins:{"web-scene":{read:!1,write:!1}}}})],ge.prototype,"format",void 0),(0,z._)([(0,Ie.Cb)({readOnly:!0})],ge.prototype,"isWrappable",null),(0,z._)([(0,Ie.Cb)({type:de.Z,json:{write:!0}})],ge.prototype,"origin",void 0),(0,z._)([(0,ce.r)("origin")],ge.prototype,"readOrigin",null),(0,z._)([(0,Ie.Cb)({type:[se.Z],value:null,json:{write:!0}})],ge.prototype,"lods",null),(0,z._)([(0,Ie.Cb)({readOnly:!0})],ge.prototype,"minScale",void 0),(0,z._)([(0,Ie.Cb)({readOnly:!0})],ge.prototype,"maxScale",void 0),(0,z._)([(0,Ie.Cb)({readOnly:!0})],ge.prototype,"scales",void 0),(0,z._)([(0,Ie.Cb)({cast:Fe=>Array.isArray(Fe)?Fe:"number"==typeof Fe?[Fe,Fe]:[256,256]})],ge.prototype,"size",void 0),(0,z._)([(0,ce.r)("size",["rows","cols"])],ge.prototype,"readSize",null),(0,z._)([(0,xe.c)("size",{cols:{type:he.z8},rows:{type:he.z8}})],ge.prototype,"writeSize",null),(0,z._)([(0,Ie.Cb)({type:Ae.Z,json:{write:!0}})],ge.prototype,"spatialReference",void 0),ge=fe=(0,z._)([(0,be.j)("esri.layers.support.TileInfo")],ge);var Ue=ge},28930:(hi,lt,N)=>{"use strict";N.d(lt,{y:()=>Le});var Fe,z=N(15861),J=N(17626),Te=N(84792),Me=N(61458),Ce=N(26584),Ie=N(72392),ye=N(63290),he=N(93961),re=N(77029),ce=N(10699),be=N(50618),xe=N(21726),de=N(27e3),Ae=N(77712),le=(N(8314),N(66656)),oe=N(61403),se=N(85931),fe=N(58817);class Ee{constructor(){this.location={left:0,top:0,width:0,height:0},this._allAvailability="unknown",this.byteSize=40}getAvailability(je,ve){if("unknown"!==this._allAvailability)return this._allAvailability;const Oe=(je-this.location.top)*this.location.width+(ve-this.location.left),He=Oe>>3,Qe=this._tileAvailabilityBitSet;return He<0||He>Qe.length?"unknown":Qe[He]&1<<Oe%8?"available":"unavailable"}_updateFromData(je){let qe=!0,He=!0;const Qe=Math.ceil(this.location.width*this.location.height/8),ot=new Uint8Array(Qe);let Ne=0;for(let Se=0;Se<je.length;Se++){const $e=Se%8;je[Se]?(He=!1,ot[Ne]|=1<<$e):qe=!1,7===$e&&++Ne}He?this._allAvailability="unavailable":qe?this._allAvailability="available":(this._allAvailability="unknown",this._tileAvailabilityBitSet=ot,this.byteSize+=ot.length)}static fromDefinition(je,ve){const Oe=je.service.request||Te.default,{row:qe,col:He,width:Qe,height:ot}=je,Ne={query:{f:"json"}};return ve=ve?ji(ji({},Ne),ve):Ne,Oe(function(tt){let je;if("vector-tile"===tt.service.type)je=`${tt.service.url}/tilemap/${tt.level}/${tt.row}/${tt.col}/${tt.width}/${tt.height}`;else{const Oe=tt.service.tileServers;je=`${Oe&&Oe.length?Oe[tt.row%Oe.length]:tt.service.url}/tilemap/${tt.level}/${tt.row}/${tt.col}/${tt.width}/${tt.height}`}const ve=tt.service.query;return ve&&(je=`${je}?${ve}`),je}(je),ve).then(Se=>Se.data).catch(Se=>{if(Se&&Se.details&&422===Se.details.httpStatus)return{location:{top:qe,left:He,width:Qe,height:ot},valid:!0,data:(0,se.a9)(Qe*ot,0)};throw Se}).then(Se=>{if(Se.location&&(Se.location.top!==qe||Se.location.left!==He||Se.location.width!==Qe||Se.location.height!==ot))throw new Ce.Z("tilemap:location-mismatch","Tilemap response for different location than requested",{response:Se,definition:{top:qe,left:He,width:Qe,height:ot}});return Ee.fromJSON(Se)})}static fromJSON(je){Ee.validateJSON(je);const ve=new Ee;return ve.location=Object.freeze((0,fe.d9)(je.location)),ve._updateFromData(je.data),Object.freeze(ve)}static validateJSON(je){if(!je||!je.location)throw new Ce.Z("tilemap:missing-location","Location missing from tilemap response");if(!1===je.valid)throw new Ce.Z("tilemap:invalid","Tilemap response was marked as invalid");if(!je.data)throw new Ce.Z("tilemap:missing-data","Data missing from tilemap response");if(!Array.isArray(je.data))throw new Ce.Z("tilemap:data-mismatch","Data must be an array of numbers");if(je.data.length!==je.location.width*je.location.height)throw new Ce.Z("tilemap:data-mismatch","Number of data items does not match width/height of tilemap")}}function ge(tt){return`${tt.level}/${tt.row}/${tt.col}/${tt.width}/${tt.height}`}const Ve=ye.Z.getLogger("esri.layers.support.TilemapCache");let Le=Fe=class extends Me.Z{constructor(tt){super(tt),this._handles=new Ie.Z,this._pendingTilemapRequests={},this._availableLevels={},this.levels=5,this.cacheByteSize=2097152,this.request=Te.default,this._prefetchingEnabled=!0}initialize(){this._tilemapCache=new he.Z(this.cacheByteSize),this._handles.add([this.watch(["layer.parsedUrl","layer.tileServers?"],()=>this._initializeTilemapDefinition()),(0,de.S1)(this,"layer.tileInfo.lods",tt=>this._initializeAvailableLevels(tt),!0)]),this._initializeTilemapDefinition()}destroy(){this._handles&&(this._handles.destroy(),this._handles=null)}castLevels(tt){return tt<=2?(Ve.error("Minimum levels for Tilemap is 3, but got ",tt),3):tt}get size(){return 1<<this.levels}fetchTilemap(tt,je,ve,Oe){if(!this._availableLevels[tt])return Promise.reject(new Ce.Z("tilemap-cache:level-unavailable",`Level ${tt} is unavailable in the service`));const qe=this._tmpTilemapDefinition,He=this._tilemapFromCache(tt,je,ve,qe);if(He)return Promise.resolve(He);const Qe=Oe&&Oe.signal;return Oe=fr(ji({},Oe),{signal:null}),new Promise((ot,Ne)=>{(0,ce.fu)(Qe,()=>Ne((0,ce.zE)()));const Se=ge(qe);let $e=this._pendingTilemapRequests[Se];if(!$e){$e=Ee.fromDefinition(qe,Oe).then(ut=>(this._tilemapCache.put(Se,ut,ut.byteSize),ut));const nt=()=>delete this._pendingTilemapRequests[Se];this._pendingTilemapRequests[Se]=$e,$e.then(nt,nt)}$e.then(ot,Ne)})}getAvailability(tt,je,ve){if(!this._availableLevels[tt])return"unavailable";const Oe=this._tilemapFromCache(tt,je,ve,this._tmpTilemapDefinition);return Oe?Oe.getAvailability(je,ve):"unknown"}getAvailabilityUpsample(tt,je,ve,Oe){Oe.level=tt,Oe.row=je,Oe.col=ve;const qe=this.layer.tileInfo;for(qe.updateTileInfo(Oe);;){const He=this.getAvailability(Oe.level,Oe.row,Oe.col);if("unavailable"!==He)return He;if(!qe.upsampleTile(Oe))return"unavailable"}}fetchAvailability(tt,je,ve,Oe){return this._availableLevels[tt]?this.fetchTilemap(tt,je,ve,Oe).catch(qe=>qe).then(qe=>{if(qe instanceof Ee){const He=qe.getAvailability(je,ve);return"unavailable"===He?Promise.reject(new Ce.Z("tile-map:tile-unavailable","Tile is not available",{level:tt,row:je,col:ve})):He}if((0,ce.D_)(qe))throw qe;return"unknown"}):Promise.reject(new Ce.Z("tilemap-cache:level-unavailable",`Level ${tt} is unavailable in the service`))}fetchAvailabilityUpsample(tt,je,ve,Oe,qe){Oe.level=tt,Oe.row=je,Oe.col=ve;const He=this.layer.tileInfo;He.updateTileInfo(Oe);const Qe=this.fetchAvailability(tt,je,ve,qe).catch(ot=>{if((0,ce.D_)(ot))throw ot;if(He.upsampleTile(Oe))return this.fetchAvailabilityUpsample(Oe.level,Oe.row,Oe.col,Oe);throw ot});return this._fetchAvailabilityUpsamplePrefetch(Oe.id,tt,je,ve,qe,Qe),Qe}_fetchAvailabilityUpsamplePrefetch(tt,je,ve,Oe,qe,He){var Qe=this;return(0,z.Z)(function*(){if(!Qe._prefetchingEnabled)return;const ot=`prefetch-${tt}`;if(Qe._handles.has(ot))return;const Ne=(0,ce.yi)();He.then(()=>Ne.abort(),()=>Ne.abort());let Se=!1;if(Qe._handles.add({remove(){Se||(Se=!0,Ne.abort())}},ot),yield(0,be.MU)(10,Ne.signal).catch(()=>{}),Se||(Se=!0,Qe._handles.remove(ot)),(0,ce.Hc)(Ne))return;const nt={id:tt,level:je,row:ve,col:Oe},ut=fr(ji({},qe),{signal:Ne.signal}),xt=Qe.layer.tileInfo;for(let Ze=0;Fe._prefetches.length<Fe._maxPrefetch&&xt.upsampleTile(nt);++Ze){const et=Qe.fetchAvailability(nt.level,nt.row,nt.col,ut);Fe._prefetches.push(et);const gt=()=>{Fe._prefetches.removeUnordered(et)};et.then(gt,gt)}})()}_initializeTilemapDefinition(){if(!this.layer.parsedUrl)return;const tt=this.layer.parsedUrl,je=tt.query;this._tilemapCache.clear(),this._tmpTilemapDefinition={service:{url:tt.path,query:je?(0,xe.B7)(je):null,tileServers:this.layer.tileServers,request:this.request,type:this.layer.type},width:this.size,height:this.size,level:0,row:0,col:0}}_tilemapFromCache(tt,je,ve,Oe){Oe.level=tt,Oe.row=je-je%this.size,Oe.col=ve-ve%this.size;const qe=ge(Oe);return this._tilemapCache.get(qe)}_initializeAvailableLevels(tt){this._availableLevels={},tt&&tt.forEach(je=>this._availableLevels[je.level]=!0)}get test(){const tt=this;return{get prefetchingEnabled(){return tt._prefetchingEnabled},set prefetchingEnabled(je){tt._prefetchingEnabled=je},hasTilemap:(je,ve,Oe)=>!!tt._tilemapFromCache(je,ve,Oe,tt._tmpTilemapDefinition)}}};Le._maxPrefetch=4,Le._prefetches=new re.Z({initialSize:Fe._maxPrefetch}),(0,J._)([(0,Ae.Cb)({constructOnly:!0,type:Number})],Le.prototype,"levels",void 0),(0,J._)([(0,le.p)("levels")],Le.prototype,"castLevels",null),(0,J._)([(0,Ae.Cb)({readOnly:!0,type:Number})],Le.prototype,"size",null),(0,J._)([(0,Ae.Cb)({constructOnly:!0,type:Number})],Le.prototype,"cacheByteSize",void 0),(0,J._)([(0,Ae.Cb)({constructOnly:!0})],Le.prototype,"layer",void 0),(0,J._)([(0,Ae.Cb)({constructOnly:!0})],Le.prototype,"request",void 0),Le=Fe=(0,J._)([(0,oe.j)("esri.layers.support.TilemapCache")],Le)},62708:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>Ee});var Ae,z=N(17626),J=N(97478),Te=N(20849),Me=N(86162),Ce=N(58817),Ie=N(62208),ye=N(77712),be=(N(90912),N(8314),N(63290),N(68653)),xe=N(61403),de=N(99433);let me=Ae=class extends Me.wq{constructor(ge){super(ge),this.respectsDaylightSaving=!1,this.timezone=null}readRespectsDaylightSaving(ge,Ue){return void 0!==Ue.respectsDaylightSaving?Ue.respectsDaylightSaving:void 0!==Ue.respectDaylightSaving&&Ue.respectDaylightSaving}clone(){const{respectsDaylightSaving:ge,timezone:Ue}=this;return new Ae({respectsDaylightSaving:ge,timezone:Ue})}};(0,z._)([(0,ye.Cb)({type:Boolean,json:{write:!0}})],me.prototype,"respectsDaylightSaving",void 0),(0,z._)([(0,be.r)("respectsDaylightSaving",["respectsDaylightSaving","respectDaylightSaving"])],me.prototype,"readRespectsDaylightSaving",null),(0,z._)([(0,ye.Cb)({type:String,json:{read:{source:"timeZone"},write:{target:"timeZone"}}})],me.prototype,"timezone",void 0),me=Ae=(0,z._)([(0,xe.j)("esri.layers.support.TimeReference")],me);var se,le=me,oe=N(58926);let fe=se=class extends Me.wq{constructor(ge){super(ge),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeReference=null,this.trackIdField=null,this.useTime=!0}readFullTimeExtent(ge,Ue){if(!Ue.timeExtent||!Array.isArray(Ue.timeExtent)||2!==Ue.timeExtent.length)return null;const Fe=new Date(Ue.timeExtent[0]),Ve=new Date(Ue.timeExtent[1]);return new J.Z({start:Fe,end:Ve})}writeFullTimeExtent(ge,Ue){Ue.timeExtent=ge&&(0,Ie.pC)(ge.start)&&(0,Ie.pC)(ge.end)?[ge.start.getTime(),ge.end.getTime()]:null}readInterval(ge,Ue){return Ue.timeInterval&&Ue.timeIntervalUnits?new Te.Z({value:Ue.timeInterval,unit:oe.v.fromJSON(Ue.timeIntervalUnits)}):Ue.defaultTimeInterval&&Ue.defaultTimeIntervalUnits?new Te.Z({value:Ue.defaultTimeInterval,unit:oe.v.fromJSON(Ue.defaultTimeIntervalUnits)}):null}writeInterval(ge,Ue){if(ge){const Fe=ge.toJSON();Ue.timeInterval=Fe.value,Ue.timeIntervalUnits=Fe.unit}else Ue.timeInterval=null,Ue.timeIntervalUnits=null}clone(){const{cumulative:ge,endField:Ue,hasLiveData:Fe,interval:Ve,startField:Le,timeReference:tt,fullTimeExtent:je,trackIdField:ve,useTime:Oe}=this;return new se({cumulative:ge,endField:Ue,hasLiveData:Fe,interval:Ve,startField:Le,timeReference:(0,Ce.d9)(tt),fullTimeExtent:(0,Ce.d9)(je),trackIdField:ve,useTime:Oe})}};(0,z._)([(0,ye.Cb)({type:Boolean,json:{read:{source:"exportOptions.timeDataCumulative"},write:{target:"exportOptions.timeDataCumulative"}}})],fe.prototype,"cumulative",void 0),(0,z._)([(0,ye.Cb)({type:String,json:{read:{source:"endTimeField"},write:{target:"endTimeField",allowNull:!0}}})],fe.prototype,"endField",void 0),(0,z._)([(0,ye.Cb)({type:J.Z,json:{write:{enabled:!0,allowNull:!0}}})],fe.prototype,"fullTimeExtent",void 0),(0,z._)([(0,be.r)("fullTimeExtent",["timeExtent"])],fe.prototype,"readFullTimeExtent",null),(0,z._)([(0,de.c)("fullTimeExtent")],fe.prototype,"writeFullTimeExtent",null),(0,z._)([(0,ye.Cb)({type:Boolean,json:{write:!0}})],fe.prototype,"hasLiveData",void 0),(0,z._)([(0,ye.Cb)({type:Te.Z,json:{write:{enabled:!0,allowNull:!0}}})],fe.prototype,"interval",void 0),(0,z._)([(0,be.r)("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],fe.prototype,"readInterval",null),(0,z._)([(0,de.c)("interval")],fe.prototype,"writeInterval",null),(0,z._)([(0,ye.Cb)({type:String,json:{read:{source:"startTimeField"},write:{target:"startTimeField",allowNull:!0}}})],fe.prototype,"startField",void 0),(0,z._)([(0,ye.Cb)({type:le,json:{write:{enabled:!0,allowNull:!0}}})],fe.prototype,"timeReference",void 0),(0,z._)([(0,ye.Cb)({type:String,json:{write:{enabled:!0,allowNull:!0}}})],fe.prototype,"trackIdField",void 0),(0,z._)([(0,ye.Cb)({type:Boolean,json:{read:{source:"exportOptions.useTime"},write:{target:"exportOptions.useTime"}}})],fe.prototype,"useTime",void 0),fe=se=(0,z._)([(0,xe.j)("esri.layers.support.TimeInfo")],fe);var Ee=fe},91309:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>be});var re,z=N(17626),J=N(86162),Te=N(58817),Me=N(77712),he=(N(90912),N(8314),N(63290),N(61403));let ce=re=class extends J.wq{constructor(xe){super(xe)}clone(){return new re({customLayerParameters:(0,Te.d9)(this.customLayerParameters),customParameters:(0,Te.d9)(this.customParameters),layerIdentifier:this.layerIdentifier,tileMatrixSet:this.tileMatrixSet,url:this.url})}};(0,z._)([(0,Me.Cb)({json:{type:Object,write:!0}})],ce.prototype,"customLayerParameters",void 0),(0,z._)([(0,Me.Cb)({json:{type:Object,write:!0}})],ce.prototype,"customParameters",void 0),(0,z._)([(0,Me.Cb)({type:String,json:{write:!0}})],ce.prototype,"layerIdentifier",void 0),(0,z._)([(0,Me.Cb)({type:String,json:{write:!0}})],ce.prototype,"tileMatrixSet",void 0),(0,z._)([(0,Me.Cb)({type:String,json:{write:!0}})],ce.prototype,"url",void 0),ce=re=(0,z._)([(0,he.j)("esri.layer.support.WMTSLayerInfo")],ce);var be=ce},38305:(hi,lt,N)=>{"use strict";N.d(lt,{ld:()=>xe,B5:()=>re,M8:()=>Ae,G:()=>fe,Qc:()=>ce,DR:()=>be,Nm:()=>le,XG:()=>oe,a7:()=>de,wH:()=>se});var z=N(62208),J=N(21726),Te=N(29840);const Me={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer"},Ce=Object.values(Me),Ie=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${Ce.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),ye=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${Ce.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),he=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function re(Ue){return!!Ie.test(Ue)}function ce(Ue){const Fe=(0,J.mN)(Ue),Ve=Fe.path.match(Ie)||Fe.path.match(ye);if(!Ve)return null;const[,Le,tt,je,ve]=Ve,Oe=tt.indexOf("/");return{title:xe(-1!==Oe?tt.slice(Oe+1):tt),serverType:Me[je.toLowerCase()],sublayer:null!=ve&&""!==ve?parseInt(ve,10):null,url:{path:Le}}}function be(Ue){const Fe=(0,J.mN)(Ue).path.match(he);return Fe?{serviceUrl:Fe[1],sublayerId:Number(Fe[2])}:null}function xe(Ue){return(Ue=Ue.replace(/\s*[/_]+\s*/g," "))[0].toUpperCase()+Ue.slice(1)}function de(Ue,Fe){const Ve=[];if(Ue){const Le=ce(Ue);(0,z.pC)(Le)&&Le.title&&Ve.push(Le.title)}if(Fe){const Le=xe(Fe);Ve.push(Le)}if(2===Ve.length){if(-1!==Ve[0].toLowerCase().indexOf(Ve[1].toLowerCase()))return Ve[0];if(-1!==Ve[1].toLowerCase().indexOf(Ve[0].toLowerCase()))return Ve[1]}return Ve.join(" - ")}function Ae(Ue){if(!Ue)return!1;const je=-1!==(Ue=Ue.toLowerCase()).indexOf(".arcgis.com/"),ve=-1!==Ue.indexOf("//services")||-1!==Ue.indexOf("//tiles")||-1!==Ue.indexOf("//features");return je&&ve}function le(Ue,Fe){return Ue&&(0,J.Qj)((0,J.Hu)(Ue,Fe))}function oe(Ue){let{url:Fe}=Ue;if(!Fe)return{url:Fe};Fe=(0,J.Hu)(Fe,Ue.logger);const Ve=(0,J.mN)(Fe),Le=ce(Ve.path);let tt;if((0,z.pC)(Le))null!=Le.sublayer&&null==Ue.layer.layerId&&(tt=Le.sublayer),Fe=Le.url.path;else if(Ue.nonStandardUrlAllowed){const je=be(Ve.path);(0,z.pC)(je)&&(Fe=je.serviceUrl,tt=je.sublayerId)}return{url:(0,J.Qj)(Fe),layerId:tt}}function se(Ue,Fe,Ve,Le,tt){(0,Te.w)(Fe,Le,"url",tt),Le.url&&null!=Ue.layerId&&(Le.url=(0,J.v_)(Le.url,Ve,Ue.layerId.toString()))}function fe(Ue){if(!Ue)return!1;const Fe=Ue.toLowerCase(),Ve=-1!==Fe.indexOf("/services/"),Le=-1!==Fe.indexOf("/mapserver/wmsserver"),tt=-1!==Fe.indexOf("/imageserver/wmsserver"),je=-1!==Fe.indexOf("/wmsserver");return Ve&&(Le||tt||je)}},13812:(hi,lt,N)=>{"use strict";N.d(lt,{qG:()=>tt,PV:()=>Ue,id:()=>ve,iR:()=>fe,rn:()=>ge,u1:()=>qe,rO:()=>Oe,Oh:()=>Ve,bT:()=>Le,C_:()=>se,Lx:()=>Fe,vg:()=>je,YI:()=>oe,HQ:()=>Ee});var z=N(97478),J=N(2004),Te=N(65234),Me=N(29840),Ce=N(62208),ye=(N(10699),N(28170)),me=N(82706),le=N(92236);const oe={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:!0}},se={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(He,Qe)=>!Qe.disablePopup},write:{enabled:!0,writer(He,Qe,ot){Qe[ot]=!He}}}},fe={type:Boolean,value:!0,json:{name:"showLabels",write:!0}},Ee={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:Me.w}}},ge={type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:!0}},Ue={value:null,type:me.Z,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:!0}};function Fe(He){return{type:He,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const Ve={type:Number,json:{origins:{"web-document":{default:1,write:!0,read:!0},"portal-item":{write:!0}}}},Le=fr(ji({},Ve),{json:fr(ji({},Ve.json),{origins:{"web-document":fr(ji({},Ve.json.origins["web-document"]),{write:{enabled:!0,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}})},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(He,Qe,ot)=>ot&&"service"!==ot.origin||!Qe.drawingInfo||void 0===Qe.drawingInfo.transparency?Qe.layerDefinition&&Qe.layerDefinition.drawingInfo&&void 0!==Qe.layerDefinition.drawingInfo.transparency?(0,le.b)(Qe.layerDefinition.drawingInfo.transparency):void 0:(0,le.b)(Qe.drawingInfo.transparency)}})}),tt={type:z.Z,readOnly:!0,get(){var He,Qe;if(null==(He=this.layer)||!He.timeInfo)return null;const{datesInUnknownTimezone:ot,timeOffset:Ne,useViewTime:Se}=this.layer,$e=null==(Qe=this.view)?void 0:Qe.timeExtent;let nt=this.layer.timeExtent;ot&&(nt=function(He){if(!He)return He;const{start:Qe,end:ot}=He;return new z.Z({start:(0,Ce.pC)(Qe)?(0,ye.Nm)(Qe,Qe.getTimezoneOffset(),"minutes"):Qe,end:(0,Ce.pC)(ot)?(0,ye.Nm)(ot,ot.getTimezoneOffset(),"minutes"):ot})}(nt));let ut=Se?$e&&nt?$e.intersection(nt):$e||nt:nt;if(!ut||ut.isEmpty||ut.isAllTime)return ut;Ne&&(ut=ut.offset(-Ne.value,Ne.unit)),ot&&(ut=function(He){if(!He)return He;const{start:Qe,end:ot}=He;return new z.Z({start:(0,Ce.pC)(Qe)?(0,ye.Nm)(Qe,-Qe.getTimezoneOffset(),"minutes"):Qe,end:(0,Ce.pC)(ot)?(0,ye.Nm)(ot,-ot.getTimezoneOffset(),"minutes"):ot})}(ut));const xt=this._get("timeExtent");return ut.equals(xt)?xt:ut}},je={type:J.Z,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(He,Qe)=>{const ot=J.Z.fromJSON(He);return null!=Qe.spatialReference&&"object"==typeof Qe.spatialReference&&(ot.spatialReference=Te.Z.fromJSON(Qe.spatialReference)),ot}}}},read:!1}},ve={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},Oe={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.minScale"},write:{target:"layerDefinition.minScale"}}},qe={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.maxScale"},write:{target:"layerDefinition.maxScale"}}}},67945:(hi,lt,N)=>{"use strict";N.d(lt,{im:()=>ye,V5:()=>Ie}),N(8314);var J=N(81157),Te=N(50028),Me=N(90336),Ce=N(68155);const Ie={key:"type",base:Te.Z,typeMap:{range:Ce.Z,"coded-value":J.Z,inherited:Me.Z}};function ye(he){if(!he||!he.type)return null;switch(he.type){case"range":return Ce.Z.fromJSON(he);case"codedValue":return J.Z.fromJSON(he);case"inherited":return Me.Z.fromJSON(he)}return null}},2777:(hi,lt,N)=>{"use strict";N.d(lt,{dm:()=>He,ij:()=>ve,Gx:()=>je,Q6:()=>Oe});var me,z=N(26584),J=N(94113),Te=N(83989),Me=N(17626),Ce=N(73281),Ie=N(65787),ye=N(86162),he=N(58817),re=N(23841),ce=N(77712),Ae=(N(90912),N(8314),N(63290),N(61403));let le=me=class extends ye.wq{constructor(){super(...arguments),this.statisticType=null,this.onStatisticField=null,this.onStatisticValueExpression=null}clone(){return new me({statisticType:this.statisticType,onStatisticField:this.onStatisticField,onStatisticValueExpression:this.onStatisticValueExpression})}};(0,Me._)([(0,ce.Cb)({type:String,json:{write:!0}})],le.prototype,"statisticType",void 0),(0,Me._)([(0,ce.Cb)({type:String,json:{write:!0}})],le.prototype,"onStatisticField",void 0),(0,Me._)([(0,ce.Cb)({type:String,json:{write:!0}})],le.prototype,"onStatisticValueExpression",void 0),le=me=(0,Me._)([(0,Ae.j)("esri.layers.support.OutStatistic")],le);var se,oe=le;let fe=se=class extends ye.wq{constructor(){super(...arguments),this.name=null}clone(){return new se({name:this.name,outStatistic:this.outStatistic.clone()})}};(0,Me._)([(0,ce.Cb)({type:String,json:{write:!0}})],fe.prototype,"name",void 0),(0,Me._)([(0,ce.Cb)({type:oe,json:{write:!0}})],fe.prototype,"outStatistic",void 0),fe=se=(0,Me._)([(0,Ae.j)("esri.layers.support.AggregateField")],fe);var Fe,Ee=fe,ge=N(13812),Ue=N(170);let Ve=Fe=class extends ye.wq{constructor(Qe){super(Qe),this.type="cluster",this.clusterRadius=(0,re.t_)("80px"),this.clusterMinSize=(0,re.t_)("12px"),this.clusterMaxSize=(0,re.t_)("50px"),this.popupEnabled=!0,this.popupTemplate=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=null}clone(){return new Fe({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:(0,he.d9)(this.labelingInfo),labelsVisible:this.labelsVisible,fields:(0,he.d9)(this.fields),popupEnabled:this.popupEnabled,popupTemplate:(0,he.d9)(this.popupTemplate)})}};(0,Me._)([(0,ce.Cb)({type:["cluster"],readOnly:!0,json:{write:!0}})],Ve.prototype,"type",void 0),(0,Me._)([(0,ce.Cb)({type:Number,cast:Qe=>"auto"===Qe?Qe:(0,re.t_)(Qe),json:{write:!0}})],Ve.prototype,"clusterRadius",void 0),(0,Me._)([(0,ce.Cb)({type:Number,cast:re.t_,json:{write:!0}})],Ve.prototype,"clusterMinSize",void 0),(0,Me._)([(0,ce.Cb)({type:Number,cast:re.t_,json:{write:!0}})],Ve.prototype,"clusterMaxSize",void 0),(0,Me._)([(0,ce.Cb)(ge.C_)],Ve.prototype,"popupEnabled",void 0),(0,Me._)([(0,ce.Cb)({type:Ce.Z,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],Ve.prototype,"popupTemplate",void 0),(0,Me._)([(0,ce.Cb)({types:Ie.AH})],Ve.prototype,"symbol",void 0),(0,Me._)([(0,ce.Cb)({type:[Ue.Z],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],Ve.prototype,"labelingInfo",void 0),(0,Me._)([(0,ce.Cb)(ge.iR)],Ve.prototype,"labelsVisible",void 0),(0,Me._)([(0,ce.Cb)({type:[Ee],json:{write:!0}})],Ve.prototype,"fields",void 0),Ve=Fe=(0,Me._)([(0,Ae.j)("esri.layers.support.FeatureReductionCluster")],Ve);var Le=Ve,tt=N(47058);const je={key:"type",base:Te.Z,typeMap:{selection:tt.Z}};function ve(Qe,ot){const Ne=(ot=ot.layerDefinition||ot).featureReduction;if(Ne)switch(Ne.type){case"selection":return tt.Z.fromJSON(Ne);case"cluster":return Le.fromJSON(Ne)}return null}function Oe(Qe,ot,Ne,Se){const $e=function(Qe,ot,Ne){return Qe?"selection"!==Qe.type?(Ne.messages&&Ne.messages.push(new z.Z("featureReduction:unsupported",`FeatureReduction of type '${Qe.declaredClass}' are not supported in scenes.`,{featureReduction:Qe,context:Ne})),null):Qe.write({},Ne):null}(Qe,0,Se);$e&&(0,J.RB)(Ne,$e,ot)}const He={types:{key:"type",base:Te.Z,typeMap:{selection:tt.Z,cluster:Le}},json:{write:{target:"layerDefinition.featureReduction",allowNull:!0}}}},55911:(hi,lt,N)=>{"use strict";N.d(lt,{v:()=>Ie});var z=N(63290),J=N(36255),Te=N(60466),Me=N(36630);const Ce=z.Z.getLogger("esri.layers.support.fieldProperties");function Ie(){return{fields:{type:[J.Z],value:null},fieldsIndex:{readOnly:!0,get(){return new Te.Z(this.fields||[])}},outFields:{type:[String],json:{read:!1},set:function(ye){this._userOutFields=ye,this.notifyChange("outFields")},get:function(){const ye=this._userOutFields;if(!ye||!ye.length)return null;if(ye.includes("*"))return["*"];if(!this.fields)return ye;for(const he of ye)this.fieldsIndex.has(he)||Ce.error("field-attributes-layer:invalid-field",`Invalid field ${he} found in outFields`,{layer:this,outFields:ye});return(0,Me.Q0)(this.fieldsIndex,ye)}}}}},85:(hi,lt,N)=>{"use strict";N.d(lt,{v:()=>J});const J=new(N(2076).Xn)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})},36630:(hi,lt,N)=>{"use strict";N.d(lt,{io:()=>ge,vl:()=>qe,ZV:()=>Ne,AB:()=>se,gd:()=>oe,Ll:()=>$e,Mu:()=>jt,Qj:()=>ut,R9:()=>X,Q0:()=>le,YN:()=>xe,UF:()=>Ae,O5:()=>Le,CH:()=>Bt,os:()=>rt,H7:()=>yn,qN:()=>Un,Pz:()=>Be,Lk:()=>fe,Qc:()=>$,vP:()=>W});var Ce,ne,z=N(15861),J=N(26584),Te=N(62208),Me=N(94113);(ne=Ce||(Ce={})).VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",ne.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value";var re=N(46679);const ce=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],be=["field","normalizationField"];function xe(ne,we){if(null!=ne&&null!=we)for(const ze of Array.isArray(ne)?ne:[ne])if(de(ce,ze,we),"visualVariables"in ze&&ze.visualVariables)for(const _t of ze.visualVariables)de(be,_t,we)}function de(ne,we,ze){if(ne)for(const _t of ne){const Mt=(0,Me.hS)(_t,we),pe=Mt&&"function"!=typeof Mt&&ze.get(Mt);pe&&(0,Me.RB)(_t,pe.name,we)}}function Ae(ne,we){if(null!=ne&&null!=we&&we.fields.length)if("startField"in ne){const ze=we.get(ne.startField),_t=we.get(ne.endField);ne.startField=ze&&ze.name||null,ne.endField=_t&&_t.name||null}else{const ze=we.get(ne.startTimeField),_t=we.get(ne.endTimeField);ne.startTimeField=ze&&ze.name||null,ne.endTimeField=_t&&_t.name||null}}const me=new Set;function le(ne,we){return ne&&we?(me.clear(),oe(me,ne,we),Array.from(me).sort()):[]}function oe(ne,we,ze){var _t;if(ze)if(null!=we&&null!=(_t=we.fields)&&_t.length)if(ze.includes("*"))for(const{name:Mt}of we.fields)ne.add(Mt);else for(const Mt of ze)se(ne,we,Mt);else{if(ze.includes("*"))return ne.clear(),void ne.add("*");for(const Mt of ze)ne.add(Mt)}}function se(ne,we,ze){if("string"==typeof ze)if(we){const _t=we.get(ze);_t&&ne.add(_t.name)}else ne.add(ze)}function fe(ne,we){return(0,Te.Wi)(we)||(0,Te.Wi)(ne)?[]:we.includes("*")?ne.fields.map(ze=>ze.name):we}function ge(ne,we,ze){return Ue.apply(this,arguments)}function Ue(){return Ue=(0,z.Z)(function*(ne,we,ze){var _t;if(!ze)return;const{arcadeUtils:Mt}=yield(0,re.LC)(),pe=Mt.extractFieldNames(ze,null==we||null==(_t=we.fields)?void 0:_t.map(Ge=>Ge.name));for(const Ge of pe)se(ne,we,Ge)}),Ue.apply(this,arguments)}function Fe(ne,we,ze){return Ve.apply(this,arguments)}function Ve(){return Ve=(0,z.Z)(function*(ne,we,ze){if(ze&&"1=1"!==ze){const _t=(yield N.e(410).then(N.bind(N,10410))).WhereClause.create(ze,we);if(!_t.isStandardized)throw new J.Z("fieldUtils:collectFilterFields","Where clause is not standardized");oe(ne,we,_t.fieldNames)}}),Ve.apply(this,arguments)}function Le({displayField:ne,fields:we}){return ne||(we&&we.length?je(we,"name-or-title")||je(we,"unique-identifier")||je(we,"type-or-category")||function(ne){for(const we of ne){if(!we||!we.name)continue;const ze=we.name.toLowerCase();if(ze.indexOf("name")>-1||ze.indexOf("title")>-1)return we.name}return null}(we):null)}function je(ne,we){for(const ze of ne)if(ze&&ze.valueType&&ze.valueType===we)return ze.name;return null}function qe(ne,we){return He.apply(this,arguments)}function He(){return He=(0,z.Z)(function*(ne,we){if(!we)return;const ze=(0,Me.hS)("elevationInfo.featureExpressionInfo",we);return ze?ze.collectRequiredFields(ne,we.fieldsIndex):void 0}),He.apply(this,arguments)}function Qe(ne,we,ze){return ot.apply(this,arguments)}function ot(){return ot=(0,z.Z)(function*(ne,we,ze){ze.outStatistic.onStatisticValueExpression?ge(ne,we,ze.outStatistic.onStatisticValueExpression):ne.add(ze.outStatistic.onStatisticField)}),ot.apply(this,arguments)}function Ne(ne,we,ze){return Se.apply(this,arguments)}function Se(){return Se=(0,z.Z)(function*(ne,we,ze){var _t;if(!we||!ze||"cluster"!==ze.type)return;const Mt=[];null!=(_t=ze.popupTemplate)&&_t.expressionInfos&&Mt.push(...ze.popupTemplate.expressionInfos.map(pe=>ge(ne,we.fieldsIndex,pe.expression))),ze.fields&&Mt.push(...ze.fields.map(pe=>Qe(ne,we.fieldsIndex,pe))),yield Promise.all(Mt)}),Se.apply(this,arguments)}function $e(ne,we,ze){return nt.apply(this,arguments)}function nt(){return nt=(0,z.Z)(function*(ne,we,ze){we&&(we.timeInfo&&(0,Te.pC)(ze)&&ze.timeExtent&&oe(ne,we.fieldsIndex,[we.timeInfo.startField,we.timeInfo.endField]),we.floorInfo&&oe(ne,we.fieldsIndex,[we.floorInfo.floorField]),(0,Te.pC)(ze)&&(0,Te.pC)(ze.where)&&(yield Fe(ne,we.fieldsIndex,ze.where)))}),nt.apply(this,arguments)}function ut(ne,we,ze){return xt.apply(this,arguments)}function xt(){return xt=(0,z.Z)(function*(ne,we,ze){we&&ze&&(yield Promise.all(ze.map(_t=>Ze(ne,we,_t))))}),xt.apply(this,arguments)}function Ze(ne,we,ze){return et.apply(this,arguments)}function et(){return et=(0,z.Z)(function*(ne,we,ze){we&&ze&&(ze.valueExpression?yield ge(ne,we.fieldsIndex,ze.valueExpression):ze.field&&se(ne,we.fieldsIndex,ze.field))}),et.apply(this,arguments)}function Bt(ne){if(!ne)return[];const we="editFieldsInfo"in ne&&ne.editFieldsInfo;return we?le(ne.fieldsIndex,[we&&we.creatorField,we&&we.creationDateField,we&&we.editorField,we&&we.editDateField]):[]}function jt(ne,we){return Rt.apply(this,arguments)}function Rt(){return Rt=(0,z.Z)(function*(ne,we){const{labelingInfo:ze,fieldsIndex:_t}=we;ze&&ze.length&&(yield Promise.all(ze.map(Mt=>_e(ne,_t,Mt))))}),Rt.apply(this,arguments)}function _e(ne,we,ze){return ke.apply(this,arguments)}function ke(){return ke=(0,z.Z)(function*(ne,we,ze){if(!ze)return;const _t=ze.getLabelExpression(),Mt=ze.where;if("arcade"===_t.type)yield ge(ne,we,_t.expression);else{const pe=_t.expression.match(/{[^}]*}/g);pe&&pe.forEach(Ge=>{se(ne,we,Ge.slice(1,-1))})}yield Fe(ne,we,Mt)}),ke.apply(this,arguments)}function rt(ne){const we=ne.defaultValue;return void 0!==we&&fi(ne,we)?we:ne.nullable?null:void 0}function Dt(ne){return"number"==typeof ne&&!isNaN(ne)&&isFinite(ne)}function Kt(ne){return null===ne||Dt(ne)}const st="isInteger"in Number?Number.isInteger:ne=>"number"==typeof ne&&isFinite(ne)&&Math.floor(ne)===ne;function Ti(ne){return null===ne||st(ne)}function qt(ne){return null!=ne&&"string"==typeof ne}function pi(ne){return null===ne||qt(ne)}function We(){return!0}function fi(ne,we){let ze;switch(ne.type){case"date":case"integer":case"long":case"small-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":ze=ne.nullable?Ti:st;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":ze=ne.nullable?Kt:Dt;break;case"string":case"esriFieldTypeString":ze=ne.nullable?pi:qt;break;default:ze=We}return 1===arguments.length?ze:ze(we)}const Ki=new Set(["integer","small-integer","single","double","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);function yn(ne){return null!=ne&&Ki.has(ne.type)}function Un(ne){return null!=ne&&("string"===ne.type||"esriFieldTypeString"===ne.type)}var li,B;function Be(ne){return null==ne||"number"==typeof ne&&isNaN(ne)?null:ne}function $(ne,we){return ne.nullable&&null===we?null:yn(ne)&&!function(ne,we){const ze="string"==typeof ne?E(ne):ne;return!!ze&&(ze.isInteger?st(we)&&we>=ze.min&&we<=ze.max:we>=ze.min&&we<=ze.max)}(ne.type,Number(we))?li.OUT_OF_RANGE:fi(ne,we)?ne.domain?function(ne,we){switch(ne.type){case"range":{const _t="range"in ne?ne.range[1]:ne.maxValue;if(+we<("range"in ne?ne.range[0]:ne.minValue)||+we>_t)return Ce.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(null==ne.codedValues||ne.codedValues.every(ze=>null==ze||ze.code!==we))return Ce.INVALID_CODED_VALUE}return null}(ne.domain,we):null:B.INVALID_TYPE}function E(ne){switch(ne){case"esriFieldTypeSmallInteger":case"small-integer":return O;case"esriFieldTypeInteger":case"integer":return L;case"esriFieldTypeSingle":case"single":return F;case"esriFieldTypeDouble":case"double":return V}}(function(ne){ne.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(li||(li={})),function(ne){ne.INVALID_TYPE="type-validation-error::invalid-type"}(B||(B={}));const O={min:-32768,max:32767,isInteger:!0},L={min:-2147483648,max:2147483647,isInteger:!0},F={min:-34e37,max:12e37,isInteger:!1},V={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};function W(ne,we,ze){switch(ne){case Ce.INVALID_CODED_VALUE:return`Value ${ze} is not in the coded domain - field: ${we.name}, domain: ${JSON.stringify(we.domain)}`;case Ce.VALUE_OUT_OF_RANGE:return`Value ${ze} is out of the range of valid values - field: ${we.name}, domain: ${JSON.stringify(we.domain)}`;case B.INVALID_TYPE:return`Value ${ze} is not a valid value for the field type - field: ${we.name}, type: ${we.type}, nullable: ${we.nullable}`;case li.OUT_OF_RANGE:{const{min:_t,max:Mt}=E(we.type);return`Value ${ze} is out of range for the number type - field: ${we.name}, type: ${we.type}, value range is ${_t} to ${Mt}`}}}function X(ne,we){return!function(ne,we,ze){if(!we||!we.attributes||!ne){if((0,Te.pC)(null))for(const pe of ne)null.add(pe);return!0}const _t=we.attributes;let Mt=!1;for(const pe of ne)if(!(pe in _t)){if(Mt=!0,!(0,Te.pC)(null))break;null.add(pe)}return Mt}(ne,we)}},86793:(hi,lt,N)=>{"use strict";N.d(lt,{dI:()=>le,hV:()=>de,YI:()=>Ae,UO:()=>me,el:()=>Ue,z7:()=>xe});var z=N(77275);const J="__begin__",Te="__end__",Me=new RegExp(J,"ig"),Ce=new RegExp(Te,"ig"),Ie=new RegExp("^"+J,"i"),ye=new RegExp(Te+"$","i");function xe(Fe){return Fe.replace(new RegExp("\\{","g"),"[").replace(new RegExp("\\}","g"),"]")}function de(Fe){const Ve={expression:"",type:"none"};return Fe.labelExpressionInfo?Fe.labelExpressionInfo.value?(Ve.expression=Fe.labelExpressionInfo.value,Ve.type="conventional"):Fe.labelExpressionInfo.expression&&(Ve.expression=Fe.labelExpressionInfo.expression,Ve.type="arcade"):null!=Fe.labelExpression&&(Ve.expression=function(Fe){return Fe.replace(new RegExp("\\[","g"),"{").replace(new RegExp("\\]","g"),"}")}(Fe.labelExpression),Ve.type="conventional"),Ve}function Ae(Fe){const Ve=de(Fe);if(!Ve)return null;switch(Ve.type){case"conventional":return le(Ve.expression);case"arcade":return Ve.expression}return null}function me(Fe){const Ve=de(Fe);if(!Ve)return null;switch(Ve.type){case"conventional":return function(Fe){const Ve=Fe.match(oe);return Ve&&Ve[1].trim()||null}(Ve.expression);case"arcade":return Ue(Ve.expression)}return null}function le(Fe){let Ve;return Fe?(Ve=(0,z.gx)(Fe,Le=>J+'$feature["'+Le+'"]'+Te),Ve=Ie.test(Ve)?Ve.replace(Ie,""):'"'+Ve,Ve=ye.test(Ve)?Ve.replace(ye,""):Ve+'"',Ve=Ve.replace(Me,'" + ').replace(Ce,' + "')):Ve='""',Ve}const oe=/^\s*\{([^}]+)\}\s*$/i,fe=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,Ee=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,ge=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;function Ue(Fe){if(!Fe)return null;let Ve=fe.exec(Fe)||Ee.exec(Fe);return Ve?Ve[1]||Ve[3]:(Ve=ge.exec(Fe),Ve?Ve[2]:null)}},62667:(hi,lt,N)=>{"use strict";N.d(lt,{r:()=>Te});var z=N(170);const J=/\[([^\[\]]+)\]/gi;function Te(Ce,Ie,ye){return Ce?Ce.map(he=>{const re=new z.Z;if(re.read(he,ye),re.labelExpression){const ce=Ie.fields||Ie.layerDefinition&&Ie.layerDefinition.fields||this.fields;re.labelExpression=re.labelExpression.replace(J,(be,xe)=>`[${function(Ce,Ie){if(!Ie)return Ce;const ye=Ce.toLowerCase();for(let he=0;he<Ie.length;he++){const re=Ie[he].name;if(re.toLowerCase()===ye)return re}return Ce}(xe,ce)}]`)}return re}):null}},51026:(hi,lt,N)=>{"use strict";N.d(lt,{d:()=>Te,h:()=>J});var z=N(2584);const J={type:z.Z,json:{origins:{service:{read:{source:["tileInfo","minScale","maxScale","minLOD","maxLOD"],reader:Te}}}}};function Te(Me,Ce,Ie,ye){if(!Me)return null;const{minScale:he,maxScale:re,minLOD:ce,maxLOD:be}=Ce;if(null!=ce&&null!=be)return z.Z.fromJSON(ye&&ye.ignoreMinMaxLOD?Me:fr(ji({},Me),{lods:Me.lods.filter(({level:xe})=>null!=xe&&xe>=ce&&xe<=be)}));if(0!==he&&0!==re){const xe=me=>Math.round(1e4*me)/1e4,de=he?xe(he):1/0,Ae=re?xe(re):-1/0;return z.Z.fromJSON(fr(ji({},Me),{lods:Me.lods.filter(me=>{const le=xe(me.scale);return le<=de&&le>=Ae})}))}return z.Z.fromJSON(Me)}},15283:(hi,lt,N)=>{"use strict";N.d(lt,{n:()=>ot});var se,z=N(17626),J=N(2076),Te=N(86162),Me=N(77712),Ie=(N(8314),N(66656)),he=(N(63290),N(55342)),re=N(68653),ce=N(61403),be=N(90912),xe=N(383),de=N(36255),Ae=N(48370),le=(N(29132),N(65234)),oe=N(71774);let fe=se=class extends Te.wq{constructor(Ne){super(Ne),this.type="query-table"}clone(){var Ne;const{workspaceId:Se,query:$e,oidFields:nt,spatialReference:ut,geometryType:xt}=this,Ze={workspaceId:Se,query:$e,oidFields:nt,spatialReference:null!=(Ne=null==ut?void 0:ut.clone())?Ne:void 0,geometryType:xt};return new se(Ze)}};var Ee;(0,z._)([(0,he.J)({queryTable:"query-table"})],fe.prototype,"type",void 0),(0,z._)([(0,Me.Cb)({type:String,json:{write:!0}})],fe.prototype,"workspaceId",void 0),(0,z._)([(0,Me.Cb)({type:String,json:{write:!0}})],fe.prototype,"query",void 0),(0,z._)([(0,Me.Cb)({type:String,json:{write:!0}})],fe.prototype,"oidFields",void 0),(0,z._)([(0,Me.Cb)({type:le.Z,json:{write:!0}})],fe.prototype,"spatialReference",void 0),(0,z._)([(0,he.J)(oe.Mk)],fe.prototype,"geometryType",void 0),fe=se=(0,z._)([(0,ce.j)("esri.layers.support.source.QueryTableDataSource")],fe);let ge=Ee=class extends Te.wq{constructor(Ne){super(Ne),this.type="raster"}clone(){const{workspaceId:Ne,dataSourceName:Se}=this;return new Ee({workspaceId:Ne,dataSourceName:Se})}};var Ue;(0,z._)([(0,he.J)({raster:"raster"})],ge.prototype,"type",void 0),(0,z._)([(0,Me.Cb)({type:String,json:{write:!0}})],ge.prototype,"dataSourceName",void 0),(0,z._)([(0,Me.Cb)({type:String,json:{write:!0}})],ge.prototype,"workspaceId",void 0),ge=Ee=(0,z._)([(0,ce.j)("esri.layers.support.source.RasterDataSource")],ge);let Fe=Ue=class extends Te.wq{constructor(Ne){super(Ne),this.type="table"}clone(){const{workspaceId:Ne,gdbVersion:Se,dataSourceName:$e}=this;return new Ue({workspaceId:Ne,gdbVersion:Se,dataSourceName:$e})}};var Ve,Le;(0,z._)([(0,he.J)({table:"table"})],Fe.prototype,"type",void 0),(0,z._)([(0,Me.Cb)({type:String,json:{write:!0}})],Fe.prototype,"workspaceId",void 0),(0,z._)([(0,Me.Cb)({type:String,json:{write:!0}})],Fe.prototype,"gdbVersion",void 0),(0,z._)([(0,Me.Cb)({type:String,json:{write:!0}})],Fe.prototype,"dataSourceName",void 0),Fe=Ue=(0,z._)([(0,ce.j)("esri.layers.support.source.TableDataSource")],Fe);const tt=(0,J.wY)()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let je=Ve=class extends Te.wq{constructor(Ne){super(Ne),this.type="join-table"}readLeftTableSource(Ne,Se,$e){return Oe()(Ne,Se,$e)}castLeftTableSource(Ne){return(0,be.N7)(He(),Ne)}readRightTableSource(Ne,Se,$e){return Oe()(Ne,Se,$e)}castRightTableSource(Ne){return(0,be.N7)(He(),Ne)}clone(){var Ne,Se;const{leftTableKey:$e,rightTableKey:nt,leftTableSource:ut,rightTableSource:xt,joinType:Ze}=this,et={leftTableKey:$e,rightTableKey:nt,leftTableSource:null!=(Ne=null==ut?void 0:ut.clone())?Ne:void 0,rightTableSource:null!=(Se=null==xt?void 0:xt.clone())?Se:void 0,joinType:Ze};return new Ve(et)}};(0,z._)([(0,he.J)({joinTable:"join-table"})],je.prototype,"type",void 0),(0,z._)([(0,Me.Cb)({type:String,json:{write:!0}})],je.prototype,"leftTableKey",void 0),(0,z._)([(0,Me.Cb)({type:String,json:{write:!0}})],je.prototype,"rightTableKey",void 0),(0,z._)([(0,Me.Cb)({json:{write:!0}})],je.prototype,"leftTableSource",void 0),(0,z._)([(0,re.r)("leftTableSource")],je.prototype,"readLeftTableSource",null),(0,z._)([(0,Ie.p)("leftTableSource")],je.prototype,"castLeftTableSource",null),(0,z._)([(0,Me.Cb)({json:{write:!0}})],je.prototype,"rightTableSource",void 0),(0,z._)([(0,re.r)("rightTableSource")],je.prototype,"readRightTableSource",null),(0,z._)([(0,Ie.p)("rightTableSource")],je.prototype,"castRightTableSource",null),(0,z._)([(0,he.J)(tt)],je.prototype,"joinType",void 0),je=Ve=(0,z._)([(0,ce.j)("esri.layers.support.source.JoinTableDataSource")],je);let ve=null;function Oe(){return ve||(ve=(0,xe.d)({types:He()})),ve}let qe=null;function He(){return qe||(qe={key:"type",base:null,typeMap:{"data-layer":ot,"map-layer":Ae.R}}),qe}const Qe={key:"type",base:null,typeMap:{"join-table":je,"query-table":fe,raster:ge,table:Fe}};let ot=Le=class extends Te.wq{constructor(Ne){super(Ne),this.type="data-layer"}clone(){const{fields:Ne,dataSource:Se}=this;return new Le({fields:Ne,dataSource:Se})}};(0,z._)([(0,he.J)({dataLayer:"data-layer"})],ot.prototype,"type",void 0),(0,z._)([(0,Me.Cb)({type:[de.Z],json:{write:!0}})],ot.prototype,"fields",void 0),(0,z._)([(0,Me.Cb)({types:Qe,json:{write:!0}})],ot.prototype,"dataSource",void 0),ot=Le=(0,z._)([(0,ce.j)("esri.layers.support.source.DataLayerSource")],ot),ot.from=(0,be.se)(ot)},48370:(hi,lt,N)=>{"use strict";N.d(lt,{R:()=>ce});var re,z=N(17626),J=N(86162),Te=N(77712),Ce=(N(8314),N(90912)),ye=(N(63290),N(55342)),he=N(61403);let ce=re=class extends J.wq{constructor(be){super(be),this.type="map-layer"}clone(){const{mapLayerId:be,gdbVersion:xe}=this;return new re({mapLayerId:be,gdbVersion:xe})}};(0,z._)([(0,ye.J)({mapLayer:"map-layer"})],ce.prototype,"type",void 0),(0,z._)([(0,Te.Cb)({type:Ce.z8,json:{write:!0}})],ce.prototype,"mapLayerId",void 0),(0,z._)([(0,Te.Cb)({type:String,json:{write:!0}})],ce.prototype,"gdbVersion",void 0),ce=re=(0,z._)([(0,he.j)("esri.layers.support.source.MapLayerSource")],ce)},13410:(hi,lt,N)=>{"use strict";function z(Ce,Ie,ye){return Ie.flatten(({sublayers:re})=>re).length!==Ce.length||!!Ce.some(re=>re.originIdOf("minScale")>ye||re.originIdOf("maxScale")>ye||re.originIdOf("renderer")>ye||re.originIdOf("labelingInfo")>ye||re.originIdOf("opacity")>ye||re.originIdOf("labelsVisible")>ye||re.originIdOf("source")>ye)||!Te(Ce,Ie)}function J(Ce,Ie,ye){return!!Ce.some(he=>{const re=he.source;return!(!re||"map-layer"===re.type&&re.mapLayerId===he.id&&(!re.gdbVersion||re.gdbVersion===ye.gdbVersion))||he.originIdOf("renderer")>2||he.originIdOf("labelingInfo")>2||he.originIdOf("opacity")>2||he.originIdOf("labelsVisible")>2})||!Te(Ce,Ie)}function Te(Ce,Ie){if(!Ce||!Ce.length)return!0;const ye=Ie.slice().reverse().flatten(({sublayers:ce})=>ce&&ce.toArray().reverse()).map(ce=>ce.id).toArray();if(Ce.length>ye.length)return!1;let he=0;const re=ye.length;for(const{id:ce}of Ce){for(;he<re&&ye[he]!==ce;)he++;if(he>=re)return!1}return!0}function Me(Ce){return!!Ce&&Ce.some(Ie=>null!=Ie.minScale||Ie.layerDefinition&&null!=Ie.layerDefinition.minScale)}N.d(lt,{FN:()=>J,ac:()=>Me,QV:()=>z})},39605:(hi,lt,N)=>{"use strict";N.d(lt,{W:()=>Te,v:()=>Me});var z=N(50645);const J={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(Ce,Ie,ye)=>{"-"===Ie.charAt(0)?Ce.style.setProperty(Ie,ye):Ce.style[Ie]=ye}};let Te=Ce=>(0,z.l7)(J,Ce),Me={create:(Ce,Ie)=>(Ie=Te(Ie),(0,z.WV)(Ce,document.createElement("div"),void 0,Ie),(0,z.UQ)(Ce,Ie)),append:(Ce,Ie,ye)=>(ye=Te(ye),(0,z.WV)(Ie,Ce,void 0,ye),(0,z.UQ)(Ie,ye)),insertBefore:(Ce,Ie,ye)=>(ye=Te(ye),(0,z.WV)(Ie,Ce.parentNode,Ce,ye),(0,z.UQ)(Ie,ye)),merge:(Ce,Ie,ye)=>(ye=Te(ye),Ie.domNode=Ce,(0,z.Yj)(Ce,Ie,ye),(0,z.UQ)(Ie,ye)),replace:(Ce,Ie,ye)=>(ye=Te(ye),(0,z.WV)(Ie,Ce.parentNode,Ce,ye),Ce.parentNode.removeChild(Ce),(0,z.UQ)(Ie,ye))}},50645:(hi,lt,N)=>{"use strict";N.d(lt,{WV:()=>Ue,UQ:()=>tt,l7:()=>ye,Yj:()=>ge});var z=N(38570);const J="http://www.w3.org/",Te=`${J}2000/svg`,Me=`${J}1999/xlink`;let Ce,Ie=[],ye=(je,ve)=>{let Oe={};return Object.keys(je).forEach(qe=>{Oe[qe]=je[qe]}),ve&&Object.keys(ve).forEach(qe=>{Oe[qe]=ve[qe]}),Oe},he=(je,ve)=>je.vnodeSelector===ve.vnodeSelector&&(je.properties&&ve.properties?je.properties.key===ve.properties.key&&je.properties.bind===ve.properties.bind:!je.properties&&!ve.properties),re=je=>{if("string"!=typeof je)throw new Error("Style values must be strings")},ce=(je,ve,Oe)=>{if(""!==ve.vnodeSelector)for(let qe=Oe;qe<je.length;qe++)if(he(je[qe],ve))return qe;return-1},be=(je,ve,Oe,qe)=>{let He=je[ve];if(""===He.vnodeSelector)return;let Qe=He.properties;if(!(Qe?void 0===Qe.key?Qe.bind:Qe.key:void 0))for(let ot=0;ot<je.length;ot++)if(ot!==ve&&he(je[ot],He))throw new Error(`${Oe.vnodeSelector} had a ${He.vnodeSelector} child ${"added"===qe?qe:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)},xe=je=>{if(je.properties){let ve=je.properties.enterAnimation;ve&&ve(je.domNode,je.properties)}},de=[],Ae=!1,me=je=>{(je.children||[]).forEach(me),je.properties&&je.properties.afterRemoved&&je.properties.afterRemoved.apply(je.properties.bind||je.properties,[je.domNode])},le=()=>{Ae=!1,de.forEach(me),de.length=0},oe=je=>{de.push(je),Ae||(Ae=!0,"undefined"!=typeof window&&"requestIdleCallback"in window?window.requestIdleCallback(le,{timeout:16}):setTimeout(le,16))},se=je=>{let ve=je.domNode;if(je.properties){let Oe=je.properties.exitAnimation;if(Oe)return ve.style.pointerEvents="none",void Oe(ve,()=>{ve.parentNode&&(ve.parentNode.removeChild(ve),oe(je))},je.properties)}ve.parentNode&&(ve.parentNode.removeChild(ve),oe(je))},fe=(je,ve,Oe)=>{if(!ve)return;let qe=Oe.eventHandlerInterceptor,He=Object.keys(ve),Qe=He.length;for(let ot=0;ot<Qe;ot++){let Ne=He[ot],Se=ve[Ne];if("className"===Ne)throw new Error('Property "className" is not supported, use "class".');if("class"===Ne)Fe(je,Se,!0);else if("classes"===Ne){let $e=Object.keys(Se),nt=$e.length;for(let ut=0;ut<nt;ut++){let xt=$e[ut];Se[xt]&&je.classList.add(xt)}}else if("styles"===Ne){let $e=Object.keys(Se),nt=$e.length;for(let ut=0;ut<nt;ut++){let xt=$e[ut],Ze=Se[xt];Ze&&(re(Ze),Oe.styleApplyer(je,xt,Ze))}}else if("key"!==Ne&&null!=Se){let $e=typeof Se;"function"===$e?(0===Ne.lastIndexOf("on",0)&&(qe&&(Se=qe(Ne,Se,je,ve)),"oninput"===Ne&&function(){let nt=Se;Se=function(ut){nt.apply(this,[ut]),ut.target["oninput-value"]=ut.target.value}}()),je[Ne]=Se):Oe.namespace===Te?"href"===Ne?je.setAttributeNS(Me,Ne,Se):je.setAttribute(Ne,Se):"string"===$e&&"value"!==Ne?"innerHTML"===Ne?je[Ne]=z.w3.sanitize(Se):je.setAttribute(Ne,Se):je[Ne]=Se}}},ge=(je,ve,Oe)=>{((je,ve,Oe)=>{if(ve)for(let qe of ve)Ue(qe,je,void 0,Oe)})(je,ve.children,Oe),ve.text&&(je.textContent=ve.text),fe(je,ve.properties,Oe),ve.properties&&ve.properties.afterCreate&&ve.properties.afterCreate.apply(ve.properties.bind||ve.properties,[je,Oe,ve.vnodeSelector,ve.properties,ve.children])},Ue=(je,ve,Oe,qe)=>{let He,Qe=0,ot=je.vnodeSelector,Ne=ve.ownerDocument;if(""===ot)He=je.domNode=Ne.createTextNode(je.text),void 0!==Oe?ve.insertBefore(He,Oe):ve.appendChild(He);else{for(let Se=0;Se<=ot.length;++Se){let $e=ot.charAt(Se);if(Se===ot.length||"."===$e||"#"===$e){let nt=ot.charAt(Qe-1),ut=ot.slice(Qe,Se);"."===nt?He.classList.add(ut):"#"===nt?He.id=ut:("svg"===ut&&(qe=ye(qe,{namespace:Te})),void 0!==qe.namespace?He=je.domNode=Ne.createElementNS(qe.namespace,ut):(He=je.domNode=je.domNode||Ne.createElement(ut),"input"===ut&&je.properties&&void 0!==je.properties.type&&He.setAttribute("type",je.properties.type)),void 0!==Oe?ve.insertBefore(He,Oe):He.parentNode!==ve&&ve.appendChild(He)),Qe=Se+1}}ge(He,je,qe)}},Fe=(je,ve,Oe)=>{ve&&ve.split(" ").forEach(qe=>{qe&&je.classList.toggle(qe,Oe)})};Ce=(je,ve,Oe)=>{let qe=je.domNode,He=!1;if(je===ve)return!1;let Qe=!1;if(""===ve.vnodeSelector){if(ve.text!==je.text){let ot=qe.ownerDocument.createTextNode(ve.text);return qe.parentNode.replaceChild(ot,qe),ve.domNode=ot,He=!0,He}ve.domNode=qe}else 0===ve.vnodeSelector.lastIndexOf("svg",0)&&(Oe=ye(Oe,{namespace:Te})),je.text!==ve.text&&(Qe=!0,void 0===ve.text?qe.removeChild(qe.firstChild):qe.textContent=ve.text),ve.domNode=qe,Qe=((je,ve,Oe,qe,He)=>{if(Oe===qe)return!1;let Qe,ot=(Oe=Oe||Ie).length,Ne=(qe=qe||Ie).length,Se=0,$e=0,nt=!1;for(;$e<Ne;){let ut=Se<ot?Oe[Se]:void 0,xt=qe[$e];if(void 0!==ut&&he(ut,xt))nt=Ce(ut,xt,He)||nt,Se++;else{let Ze=ce(Oe,xt,Se+1);if(Ze>=0){for(Qe=Se;Qe<Ze;Qe++)se(Oe[Qe]),be(Oe,Qe,je,"removed");nt=Ce(Oe[Ze],xt,He)||nt,Se=Ze+1}else Ue(xt,ve,Se<ot?Oe[Se].domNode:void 0,He),xe(xt),be(qe,$e,je,"added")}$e++}if(ot>Se)for(Qe=Se;Qe<ot;Qe++)se(Oe[Qe]),be(Oe,Qe,je,"removed");return nt})(ve,qe,je.children,ve.children,Oe)||Qe,Qe=((je,ve,Oe,qe)=>{if(!Oe)return;let He=!1,Qe=Object.keys(Oe),ot=Qe.length;for(let Ne=0;Ne<ot;Ne++){let Se=Qe[Ne],$e=Oe[Se],nt=ve[Se];if("class"===Se)nt!==$e&&(Fe(je,nt,!1),Fe(je,$e,!0));else if("classes"===Se){let ut=je.classList,xt=Object.keys($e),Ze=xt.length;for(let et=0;et<Ze;et++){let gt=xt[et],Vt=!!$e[gt];Vt!==!!nt[gt]&&(He=!0,Vt?ut.add(gt):ut.remove(gt))}}else if("styles"===Se){let ut=Object.keys($e),xt=ut.length;for(let Ze=0;Ze<xt;Ze++){let et=ut[Ze],gt=$e[et];gt!==nt[et]&&(He=!0,gt?(re(gt),qe.styleApplyer(je,et,gt)):qe.styleApplyer(je,et,""))}}else if($e||"string"!=typeof nt||($e=""),"value"===Se){let ut=je[Se];ut!==$e&&(je["oninput-value"]?ut===je["oninput-value"]:$e!==nt)&&(je[Se]=$e,je["oninput-value"]=void 0),$e!==nt&&(He=!0)}else if($e!==nt){let ut=typeof $e;"function"===ut&&qe.eventHandlerInterceptor||(qe.namespace===Te?"href"===Se?je.setAttributeNS(Me,Se,$e):je.setAttribute(Se,$e):"string"===ut?"innerHTML"===Se?je[Se]=z.w3.sanitize($e):"role"===Se&&""===$e?je.removeAttribute(Se):je.setAttribute(Se,$e):je[Se]!==$e&&(je[Se]=$e),He=!0)}}return He})(qe,je.properties,ve.properties,Oe)||Qe,ve.properties&&ve.properties.afterUpdate&&ve.properties.afterUpdate.apply(ve.properties.bind||ve.properties,[qe,Oe,ve.vnodeSelector,ve.properties,ve.children]);return Qe&&ve.properties&&ve.properties.updateAnimation&&ve.properties.updateAnimation(qe,ve.properties,je.properties),He};let tt=(je,ve)=>({getLastRender:()=>je,update:Oe=>{if(je.vnodeSelector!==Oe.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let qe=je;je=Oe,Ce(qe,Oe,ve)},domNode:je.domNode})},62996:(hi,lt,N)=>{"use strict";N.d(lt,{E:()=>Ie});var z=N(39605);let J,Te=(ye,he)=>{let re=[];for(;ye&&ye!==he;)re.push(ye),ye=ye.parentNode;return re};J=Array.prototype.find?(ye,he)=>ye.find(he):(ye,he)=>ye.filter(he)[0];let Me=(ye,he)=>{let re=ye;return he.forEach(ce=>{re=re&&re.children?J(re.children,be=>be.domNode===ce):void 0}),re},Ce=(ye,he,re)=>{let ce=function(be){re("domEvent",be);let xe=he(),de=Te(be.currentTarget,xe.domNode);de.reverse();let Ae,me=Me(xe.getLastRender(),de);return ye.scheduleRender(),me&&(Ae=me.properties[`on${be.type}`].apply(me.properties.bind||this,arguments)),re("domEventProcessed",be),Ae};return(be,xe,de,Ae)=>ce},Ie=ye=>{let he,re,ce=(0,z.W)(ye),be=ce.performanceLogger,xe=!0,de=!1,Ae=[],me=[],le=(se,fe,Ee)=>{let ge;ce.eventHandlerInterceptor=Ce(he,()=>ge,be),ge=se(fe,Ee(),ce),Ae.push(ge),me.push(Ee)},oe=()=>{if(re=void 0,xe){xe=!1,be("renderStart",void 0);for(let se=0;se<Ae.length;se++){let fe=me[se]();be("rendered",void 0),Ae[se].update(fe),be("patched",void 0)}be("renderDone",void 0),xe=!0}};return he={renderNow:oe,scheduleRender:()=>{re||de||(re=requestAnimationFrame(oe))},stop:()=>{re&&(cancelAnimationFrame(re),re=void 0),de=!0},resume:()=>{de=!1,xe=!0,he.scheduleRender()},append:(se,fe)=>{le(z.v.append,se,fe)},insertBefore:(se,fe)=>{le(z.v.insertBefore,se,fe)},merge:(se,fe)=>{le(z.v.merge,se,fe)},replace:(se,fe)=>{le(z.v.replace,se,fe)},detach:se=>{for(let fe=0;fe<me.length;fe++)if(me[fe]===se)return me.splice(fe,1),Ae.splice(fe,1)[0];throw new Error("renderFunction was not found")}},he}},38439:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>ce});var he,z=N(17626),J=N(86162),Te=N(77712),ye=(N(8314),N(90912),N(63290),N(61403));let re=he=class extends J.wq{constructor(be){super(be),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new he({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};(0,z._)([(0,Te.Cb)({type:String,json:{write:!0}})],re.prototype,"name",void 0),(0,z._)([(0,Te.Cb)({type:String,json:{write:!0}})],re.prototype,"title",void 0),(0,z._)([(0,Te.Cb)({type:String,json:{write:!0}})],re.prototype,"expression",void 0),(0,z._)([(0,Te.Cb)({type:["string","number"],json:{write:!0}})],re.prototype,"returnType",void 0),re=he=(0,z._)([(0,ye.j)("esri.popup.ExpressionInfo")],re);var ce=re},25621:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>Ae});var xe,z=N(17626),J=N(2076),Te=N(86162),Me=N(58817),Ce=N(77712),re=(N(90912),N(8314),N(63290),N(55342)),ce=N(61403),be=N(66845);let de=xe=class extends Te.wq{constructor(me){super(me),this.fieldName=null,this.format=null,this.isEditable=!1,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new xe({fieldName:this.fieldName,format:this.format?(0,Me.d9)(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};(0,z._)([(0,Ce.Cb)({type:String,json:{write:!0}})],de.prototype,"fieldName",void 0),(0,z._)([(0,Ce.Cb)({type:be.Z,json:{write:!0}})],de.prototype,"format",void 0),(0,z._)([(0,Ce.Cb)({type:Boolean,json:{write:!0,default:!1}})],de.prototype,"isEditable",void 0),(0,z._)([(0,Ce.Cb)({type:String,json:{write:!0}})],de.prototype,"label",void 0),(0,z._)([(0,re.J)(new J.Xn({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],de.prototype,"stringFieldOption",void 0),(0,z._)([(0,Ce.Cb)({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],de.prototype,"statisticType",void 0),(0,z._)([(0,Ce.Cb)({type:String,json:{write:!0}})],de.prototype,"tooltip",void 0),(0,z._)([(0,Ce.Cb)({type:Boolean,json:{write:!0}})],de.prototype,"visible",void 0),de=xe=(0,z._)([(0,ce.j)("esri.popup.FieldInfo")],de);var Ae=de},55664:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>ce});var he,z=N(17626),J=N(77712),Ie=(N(8314),N(90912),N(63290),N(61403)),ye=N(55013);let re=he=class extends ye.Z{constructor(be){super(be),this.description=null,this.displayType=null,this.title=null,this.type="attachments"}clone(){return new he({description:this.description,displayType:this.displayType,title:this.title})}};(0,z._)([(0,J.Cb)({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],re.prototype,"description",void 0),(0,z._)([(0,J.Cb)({type:["preview","list"],json:{write:!0}})],re.prototype,"displayType",void 0),(0,z._)([(0,J.Cb)({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],re.prototype,"title",void 0),(0,z._)([(0,J.Cb)({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],re.prototype,"type",void 0),re=he=(0,z._)([(0,Ie.j)("esri.popup.content.AttachmentsContent")],re);var ce=re},89594:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>be});var re,z=N(17626),J=N(77712),Ie=(N(8314),N(90912),N(63290),N(61403)),ye=N(85812),he=N(82657);let ce=re=class extends ye.Z{constructor(xe){super(xe),this.type="bar-chart"}clone(){return new re({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};(0,z._)([(0,J.Cb)({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:he.l.write}})],ce.prototype,"type",void 0),ce=re=(0,z._)([(0,Ie.j)("esri.popup.content.BarChartMediaInfo")],ce);var be=ce},81590:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>be});var re,z=N(17626),J=N(77712),Ie=(N(8314),N(90912),N(63290),N(61403)),ye=N(85812),he=N(82657);let ce=re=class extends ye.Z{constructor(xe){super(xe),this.type="column-chart"}clone(){return new re({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};(0,z._)([(0,J.Cb)({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:he.l.write}})],ce.prototype,"type",void 0),ce=re=(0,z._)([(0,Ie.j)("esri.popup.content.ColumnChartMediaInfo")],ce);var be=ce},55013:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>re});var z=N(17626),J=N(86162),Te=N(77712),ye=(N(8314),N(90912),N(63290),N(61403));let he=class extends J.wq{constructor(ce){super(ce),this.type=null}};(0,z._)([(0,Te.Cb)({type:["attachments","custom","fields","media","text"],readOnly:!0,json:{read:!1,write:!0}})],he.prototype,"type",void 0),he=(0,z._)([(0,ye.j)("esri.popup.content.Content")],he);var re=he},16615:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>be});var re,z=N(17626),J=N(58817),Te=N(77712),ye=(N(90912),N(8314),N(63290),N(61403)),he=N(55013);let ce=re=class extends he.Z{constructor(xe){super(xe),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new re({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?(0,J.d9)(this.outFields):null})}};(0,z._)([(0,Te.Cb)()],ce.prototype,"creator",void 0),(0,z._)([(0,Te.Cb)()],ce.prototype,"destroyer",void 0),(0,z._)([(0,Te.Cb)()],ce.prototype,"outFields",void 0),(0,z._)([(0,Te.Cb)({type:["custom"],readOnly:!0})],ce.prototype,"type",void 0),ce=re=(0,z._)([(0,ye.j)("esri.popup.content.CustomContent")],ce);var be=ce},75484:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>de});var be,z=N(17626),J=N(58817),Te=N(77712),ye=(N(90912),N(8314),N(63290),N(61403)),he=N(99433),re=N(25621),ce=N(55013);let xe=be=class extends ce.Z{constructor(Ae){super(Ae),this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(Ae,me){me.fieldInfos=Ae&&Ae.map(le=>le.toJSON())}clone(){return new be({description:this.description,fieldInfos:Array.isArray(this.fieldInfos)?(0,J.d9)(this.fieldInfos):null,title:this.title})}};(0,z._)([(0,Te.Cb)({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],xe.prototype,"description",void 0),(0,z._)([(0,Te.Cb)({type:[re.Z]})],xe.prototype,"fieldInfos",void 0),(0,z._)([(0,he.c)("fieldInfos")],xe.prototype,"writeFieldInfos",null),(0,z._)([(0,Te.Cb)({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],xe.prototype,"title",void 0),(0,z._)([(0,Te.Cb)({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],xe.prototype,"type",void 0),xe=be=(0,z._)([(0,ye.j)("esri.popup.content.FieldsContent")],xe);var de=xe},49455:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>Ae});var re,z=N(17626),J=N(77712),Ie=(N(8314),N(90912),N(63290),N(61403)),ye=N(78297),he=N(86162);let ce=re=class extends he.wq{constructor(me){super(me),this.linkURL=null,this.sourceURL=null}clone(){return new re({linkURL:this.linkURL,sourceURL:this.sourceURL})}};(0,z._)([(0,J.Cb)({type:String,json:{write:!0}})],ce.prototype,"linkURL",void 0),(0,z._)([(0,J.Cb)({type:String,json:{write:!0}})],ce.prototype,"sourceURL",void 0),ce=re=(0,z._)([(0,Ie.j)("esri.popup.content.support.ImageMediaInfoValue")],ce);var xe,be=ce;let de=xe=class extends ye.Z{constructor(me){super(me),this.refreshInterval=null,this.type="image",this.value=null}clone(){return new xe({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})}};(0,z._)([(0,J.Cb)({type:Number,json:{write:!0}})],de.prototype,"refreshInterval",void 0),(0,z._)([(0,J.Cb)({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],de.prototype,"type",void 0),(0,z._)([(0,J.Cb)({type:be,json:{write:!0}})],de.prototype,"value",void 0),de=xe=(0,z._)([(0,Ie.j)("esri.popup.content.ImageMediaInfo")],de);var Ae=de},71981:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>be});var re,z=N(17626),J=N(77712),Ie=(N(8314),N(90912),N(63290),N(61403)),ye=N(85812),he=N(82657);let ce=re=class extends ye.Z{constructor(xe){super(xe),this.type="line-chart"}clone(){return new re({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};(0,z._)([(0,J.Cb)({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:he.l.write}})],ce.prototype,"type",void 0),ce=re=(0,z._)([(0,Ie.j)("esri.popup.content.LineChartMediaInfo")],ce);var be=ce},64531:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>fe});var oe,z=N(17626),J=N(58817),Te=N(77712),ye=(N(90912),N(8314),N(63290),N(68653)),he=N(61403),re=N(99433),ce=N(89594),be=N(81590),xe=N(55013),de=N(49455),Ae=N(71981),me=N(52023),le=N(65560);let se=oe=class extends xe.Z{constructor(Ee){super(Ee),this.activeMediaInfoIndex=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(Ee){return Ee&&Ee.map(ge=>"image"===ge.type?de.Z.fromJSON(ge):"barchart"===ge.type?ce.Z.fromJSON(ge):"columnchart"===ge.type?be.Z.fromJSON(ge):"linechart"===ge.type?Ae.Z.fromJSON(ge):"piechart"===ge.type?me.Z.fromJSON(ge):void 0).filter(Boolean)}writeMediaInfos(Ee,ge){ge.mediaInfos=Ee&&Ee.map(Ue=>Ue.toJSON())}clone(){return new oe({activeMediaInfoIndex:this.activeMediaInfoIndex,description:this.description,mediaInfos:this.mediaInfos?(0,J.d9)(this.mediaInfos):null,title:this.title})}};(0,z._)([(0,Te.Cb)()],se.prototype,"activeMediaInfoIndex",void 0),(0,z._)([(0,Te.Cb)({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],se.prototype,"description",void 0),(0,z._)([(0,Te.Cb)({types:[le.V]})],se.prototype,"mediaInfos",void 0),(0,z._)([(0,ye.r)("mediaInfos")],se.prototype,"readMediaInfos",null),(0,z._)([(0,re.c)("mediaInfos")],se.prototype,"writeMediaInfos",null),(0,z._)([(0,Te.Cb)({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],se.prototype,"title",void 0),(0,z._)([(0,Te.Cb)({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],se.prototype,"type",void 0),se=oe=(0,z._)([(0,he.j)("esri.popup.content.MediaContent")],se);var fe=se},52023:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>be});var re,z=N(17626),J=N(77712),Ie=(N(8314),N(90912),N(63290),N(61403)),ye=N(85812),he=N(82657);let ce=re=class extends ye.Z{constructor(xe){super(xe),this.type="pie-chart"}clone(){return new re({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};(0,z._)([(0,J.Cb)({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:he.l.write}})],ce.prototype,"type",void 0),ce=re=(0,z._)([(0,Ie.j)("esri.popup.content.PieChartMediaInfo")],ce);var be=ce},501:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>ce});var he,z=N(17626),J=N(77712),Ie=(N(8314),N(90912),N(63290),N(61403)),ye=N(55013);let re=he=class extends ye.Z{constructor(be){super(be),this.text=null,this.type="text"}clone(){return new he({text:this.text})}};(0,z._)([(0,J.Cb)({type:String,json:{write:!0}})],re.prototype,"text",void 0),(0,z._)([(0,J.Cb)({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],re.prototype,"type",void 0),re=he=(0,z._)([(0,Ie.j)("esri.popup.content.TextContent")],re);var ce=re},85812:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>me});var be,z=N(17626),J=N(77712),Ie=(N(8314),N(90912),N(63290),N(61403)),ye=N(78297),he=N(86162),re=N(58817),ce=N(77891);let xe=be=class extends he.wq{constructor(le){super(le),this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new be({fields:(0,re.d9)(this.fields),normalizeField:this.normalizeField,tooltipField:this.tooltipField})}};(0,z._)([(0,J.Cb)({type:[String],json:{write:!0}})],xe.prototype,"fields",void 0),(0,z._)([(0,J.Cb)({type:String,json:{write:!0}})],xe.prototype,"normalizeField",void 0),(0,z._)([(0,J.Cb)({type:[ce.Z],json:{read:!1}})],xe.prototype,"series",void 0),(0,z._)([(0,J.Cb)({type:String,json:{write:!0}})],xe.prototype,"tooltipField",void 0),xe=be=(0,z._)([(0,Ie.j)("esri.popup.content.support.ChartMediaInfoValue")],xe);var de=xe;let Ae=class extends ye.Z{constructor(le){super(le),this.type=null,this.value=null}};(0,z._)([(0,J.Cb)({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Ae.prototype,"type",void 0),(0,z._)([(0,J.Cb)({type:de,json:{write:!0}})],Ae.prototype,"value",void 0),Ae=(0,z._)([(0,Ie.j)("esri.popup.content.mixins.ChartMediaInfo")],Ae);var me=Ae},78297:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>re});var z=N(17626),J=N(86162),Te=N(77712),ye=(N(8314),N(90912),N(63290),N(61403));let he=class extends J.wq{constructor(ce){super(ce),this.altText=null,this.caption="",this.title="",this.type=null}};(0,z._)([(0,Te.Cb)({type:String,json:{write:!0}})],he.prototype,"altText",void 0),(0,z._)([(0,Te.Cb)({type:String,json:{write:!0}})],he.prototype,"caption",void 0),(0,z._)([(0,Te.Cb)({type:String,json:{write:!0}})],he.prototype,"title",void 0),(0,z._)([(0,Te.Cb)({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],he.prototype,"type",void 0),he=(0,z._)([(0,ye.j)("esri.popup.content.mixins.MediaInfo")],he);var re=he},77891:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>be});var re,z=N(17626),J=N(61458),Te=N(83960),ye=(N(8314),N(90912),N(63290),N(77712)),he=N(61403);let ce=re=class extends J.Z{constructor(xe){super(xe),this.tooltip=null,this.value=null,this.x=null,this.y=null}clone(){return new re({tooltip:this.tooltip,value:this.value})}};(0,z._)([(0,ye.Cb)()],ce.prototype,"tooltip",void 0),(0,z._)([(0,ye.Cb)()],ce.prototype,"value",void 0),(0,z._)([(0,Te.B)("value")],ce.prototype,"x",void 0),(0,z._)([(0,Te.B)("tooltip")],ce.prototype,"y",void 0),ce=re=(0,z._)([(0,he.j)("esri.popup.content.support.ChartMediaInfoValueSeries")],ce);var be=ce},82657:(hi,lt,N)=>{"use strict";N.d(lt,{l:()=>J});const J=(0,N(2076).wY)()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"})},65560:(hi,lt,N)=>{"use strict";N.d(lt,{V:()=>ye});var z=N(89594),J=N(81590),Te=N(49455),Me=N(71981),Ce=N(52023);const ye={base:N(78297).Z,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":z.Z,"column-chart":J.Z,"line-chart":Me.Z,"pie-chart":Ce.Z,image:Te.Z}}},66845:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>fe});var z=N(17626);const Me=(0,N(2076).wY)()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});Me.toJSON.bind(Me),Me.fromJSON.bind(Me);var oe,he=N(86162),re=N(77712),be=(N(8314),N(90912)),de=(N(63290),N(55342)),Ae=N(61403),me=N(88411),le=N(15348);let se=oe=class extends he.wq{constructor(Ee){super(Ee),this.dateFormat=null,this.dateTimeFormatOptions=null,this.digitSeparator=!1,this.places=null}clone(){return new oe({dateFormat:this.dateFormat,digitSeparator:this.digitSeparator,places:this.places})}format(Ee){return this.dateFormat?(0,me.p6)(Ee,ji(ji({},(0,me.Ze)(this.dateFormat)),this.dateTimeFormatOptions)):(0,le.uf)(Ee,(0,le.sh)(this))}};(0,z._)([(0,de.J)(Me)],se.prototype,"dateFormat",void 0),(0,z._)([(0,re.Cb)({type:Object,json:{read:!1}})],se.prototype,"dateTimeFormatOptions",void 0),(0,z._)([(0,re.Cb)({type:Boolean,json:{write:!0}})],se.prototype,"digitSeparator",void 0),(0,z._)([(0,re.Cb)({type:be.z8,json:{write:!0}})],se.prototype,"places",void 0),se=oe=(0,z._)([(0,Ae.j)("esri.popup.support.FieldInfoFormat")],se);var fe=se},51686:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>ce});var he,z=N(17626),J=N(86162),Te=N(77712),ye=(N(8314),N(90912),N(63290),N(61403));let re=he=class extends J.wq{constructor(be){super(be),this.field=null,this.order=null}clone(){return new he({field:this.field,order:this.order})}};(0,z._)([(0,Te.Cb)({type:String,json:{write:!0}})],re.prototype,"field",void 0),(0,z._)([(0,Te.Cb)({type:["asc","desc"],json:{write:!0}})],re.prototype,"order",void 0),re=he=(0,z._)([(0,ye.j)("esri.popup.support.RelatedRecordsInfoFieldOrder")],re);var ce=re},84687:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>qe});var z=N(15861),J=N(17626),Te=N(59318),Ce=(N(52515),N(24263)),Ie=N(84792),ye=N(55538),he=N(26584),re=N(86162),ce=N(47996),be=N(63290),xe=N(62208),de=N(10699),Ae=N(77712),le=(N(8314),N(90912)),oe=N(68653),se=N(61403),fe=N(2004),Ee=N(6278),ge=N(61458);let Ue=class extends ge.Z{constructor(He){super(He),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};(0,J._)([(0,Ae.Cb)()],Ue.prototype,"nextQueryParams",void 0),(0,J._)([(0,Ae.Cb)()],Ue.prototype,"queryParams",void 0),(0,J._)([(0,Ae.Cb)()],Ue.prototype,"results",void 0),(0,J._)([(0,Ae.Cb)()],Ue.prototype,"total",void 0),Ue=(0,J._)([(0,se.j)("esri.portal.PortalQueryResult")],Ue);var tt,Fe=Ue,Ve=N(94508),Le=N(56683);let je;const ve={PortalGroup:()=>Promise.resolve().then(N.bind(N,96245)),PortalItem:()=>Promise.resolve().then(N.bind(N,55463)),PortalUser:()=>Promise.resolve().then(N.bind(N,94508))};let Oe=tt=class extends((0,re.eC)(ce.Z)){constructor(He){super(He),this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.defaultBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=Te.Z.portalUrl,this.urlKey=null,this.user=null,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(He){return"string"==typeof He?{url:He}:He}destroy(){this._esriId_credentialCreateHandle&&(this._esriId_credentialCreateHandle.remove(),this._esriId_credentialCreateHandle=null)}readAuthorizedCrossOriginDomains(He){if(He)for(const Qe of He)-1===Te.Z.request.trustedServers.indexOf(Qe)&&Te.Z.request.trustedServers.push(Qe);return He}readDefaultBasemap(He){if(He){const Qe=je.fromJSON(He);return Qe.portalItem={portal:this},Qe}return null}readDefaultVectorBasemap(He){if(He){const Qe=je.fromJSON(He);return Qe.portalItem={portal:this},Qe}return null}get extraQuery(){return this.id&&this.user&&this.user.orgId&&!this.canSearchPublic?` AND orgid:${this.id}`:null}get isOrganization(){return!!this.access}get restUrl(){let He=this.url;if(He){const Qe=He.indexOf("/sharing");He=Qe>0?He.substring(0,Qe):this.url.replace(/\/+$/,""),He+="/sharing/rest"}return He}get stylesGroupQuery(){return(0,ye.Mr)(be.Z.getLogger(this.declaredClass),"stylesGroupQuery",{replacement:"stylesGroupQuery3d",version:"4.21"}),this.stylesGroupQuery3d}get thumbnailUrl(){const He=this.restUrl,Qe=this.thumbnail;return He&&Qe?this._normalizeSSL(He+"/portals/self/resources/"+Qe):null}readUrlKey(He){return He&&He.toLowerCase()}readUser(He){let Qe=null;return He&&(Qe=Ve.default.fromJSON(He),Qe.portal=this),Qe}load(He){const Qe=Promise.resolve().then(N.bind(N,73386)).then(({default:ot})=>{(0,de.k_)(He),je=ot}).then(()=>this.sourceJSON?this.sourceJSON:this._fetchSelf(this.authMode,!1,He)).then(ot=>{if(Ce.id){const Ne=Ce.id;this.credential=Ne.findCredential(this.restUrl),this.credential||this.authMode!==tt.AUTH_MODE_AUTO||(this._esriId_credentialCreateHandle=Ne.on("credential-create",()=>{Ne.findCredential(this.restUrl)&&this._signIn()}))}this.sourceJSON=ot,this.read(ot)});return this.addResolvingPromise(Qe),Promise.resolve(this)}createClosestFacilityTask(){var He=this;return(0,z.Z)(function*(){(0,ye.XV)(be.Z.getLogger(He.declaredClass),null,{replacement:"Use helperServices url with esri/rest/closestFacility",version:"4.21"}),yield He.load();const Qe=He._getHelperServiceUrl("closestFacility");return new((yield Promise.all([N.e(8083),N.e(6359)]).then(N.bind(N,36359))).default)(Qe)})()}createElevationLayers(){var He=this;return(0,z.Z)(function*(){yield He.load();const Qe=He._getHelperService("defaultElevationLayers"),ot=(yield N.e(5227).then(N.bind(N,25227))).default;return Qe?Qe.map(Ne=>new ot({id:Ne.id,url:Ne.url})):[]})()}createGeometryService(){var He=this;return(0,z.Z)(function*(){(0,ye.XV)(be.Z.getLogger(He.declaredClass),null,{replacement:"Use helperServices url with esri/rest/geometryService",version:"4.21"}),yield He.load();const Qe=He._getHelperServiceUrl("geometry");return new((yield Promise.all([N.e(6206),N.e(8592)]).then(N.bind(N,36206))).default)({url:Qe})})()}createPrintTask(){var He=this;return(0,z.Z)(function*(){(0,ye.XV)(be.Z.getLogger(He.declaredClass),null,{replacement:"Use helperServices url with esri/rest/print",version:"4.21"}),yield He.load();const Qe=He._getHelperServiceUrl("printTask");return new((yield N.e(3436).then(N.bind(N,33436))).default)(Qe)})()}createRouteTask(){var He=this;return(0,z.Z)(function*(){(0,ye.XV)(be.Z.getLogger(He.declaredClass),null,{replacement:"Use helperServices url with esri/rest/route",version:"4.21"}),yield He.load();const Qe=He._getHelperServiceUrl("route");return new((yield Promise.all([N.e(8083),N.e(8773)]).then(N.bind(N,68773))).default)(Qe)})()}createServiceAreaTask(){var He=this;return(0,z.Z)(function*(){(0,ye.XV)(be.Z.getLogger(He.declaredClass),null,{replacement:"Use helperServices url with esri/rest/serviceArea",version:"4.21"}),yield He.load();const Qe=He._getHelperServiceUrl("serviceArea");return new((yield Promise.all([N.e(8083),N.e(5349)]).then(N.bind(N,65349))).default)(Qe)})()}fetchBasemaps(He,Qe){const ot=new Ee.Z;return ot.query=He||(this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),ot.disableExtraQuery=!0,this.queryGroups(ot,Qe).then(Ne=>{if(ot.num=100,ot.query='type:"Web Map" -type:"Web Application"',Ne.total){const Se=Ne.results[0];return ot.sortField=Se.sortField||"name",ot.sortOrder=Se.sortOrder||"desc",Se.queryItems(ot,Qe)}return null}).then(Ne=>{let Se;return Se=Ne&&Ne.total?Ne.results.filter($e=>"Web Map"===$e.type).map($e=>new je({portalItem:$e})):[],Se})}fetchCategorySchema(He){return this.hasCategorySchema?this._request(this.restUrl+"/portals/self/categorySchema",He).then(Qe=>Qe.categorySchema):(0,de.Hc)(He)?Promise.reject((0,de.zE)()):Promise.resolve([])}fetchFeaturedGroups(He){const Qe=this.featuredGroups,ot=new Ee.Z;if(ot.num=100,ot.sortField="title",Qe&&Qe.length){const Ne=[];for(const Se of Qe)Ne.push(`(title:"${Se.title}" AND owner:${Se.owner})`);return ot.query=Ne.join(" OR "),this.queryGroups(ot,He).then(Se=>Se.results)}return(0,de.Hc)(He)?Promise.reject((0,de.zE)()):Promise.resolve([])}fetchRegions(He){const Qe=this.user&&this.user.culture||this.culture||(0,Le.Kd)();return this._request(this.restUrl+"/portals/regions",fr(ji({},He),{query:{culture:Qe}}))}static getDefault(){return tt._default&&!tt._default.destroyed||(tt._default=new tt),tt._default}queryGroups(He,Qe){return this._queryPortal("/community/groups",He,"PortalGroup",Qe)}queryItems(He,Qe){return this._queryPortal("/search",He,"PortalItem",Qe)}queryUsers(He,Qe){return He.sortField||(He.sortField="username"),this._queryPortal("/community/users",He,"PortalUser",Qe)}toJSON(){throw new he.Z("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(He){if(!He)return null;if(He.declaredClass)throw new Error("JSON object is already hydrated");return new tt({sourceJSON:He})}_getHelperService(He){const Qe=this.helperServices&&this.helperServices[He];if(!Qe)throw new he.Z("portal:service-not-found",`The \`helperServices\` do not include an entry named "${He}"`);return Qe}_getHelperServiceUrl(He){const Qe=this._getHelperService(He);if(!Qe.url)throw new he.Z("portal:service-url-not-found",`The \`helperServices\` entry "${He}" does not include a \`url\` value`);return Qe.url}_fetchSelf(He=this.authMode,Qe=!1,ot){const Ne=this.restUrl+"/portals/self",Se=ji({authMode:He,query:{culture:(0,Le.Kd)().toLowerCase()}},ot);return"auto"===Se.authMode&&(Se.authMode="no-prompt"),Qe&&(Se.query.default=!0),this._request(Ne,Se)}_queryPortal(He,Qe,ot,Ne){const Se=(0,le.se)(Ee.Z,Qe),$e=nt=>this._request(this.restUrl+He,ji(ji({},Se.toRequestOptions(this)),Ne)).then(ut=>{const xt=Se.clone();return xt.start=ut.nextStart,new Fe({nextQueryParams:xt,queryParams:Se,total:ut.total,results:tt._resultsToTypedArray(nt,{portal:this},ut,Ne)})}).then(ut=>Promise.all(ut.results.map(xt=>"function"==typeof xt.when?xt.when():ut)).then(()=>ut,xt=>((0,de.r9)(xt),ut)));return ot&&ve[ot]?ve[ot]().then(({default:nt})=>((0,de.k_)(Ne),$e(nt))):$e()}_signIn(){if(this.authMode===tt.AUTH_MODE_ANONYMOUS)return Promise.reject(new he.Z("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if("failed"===this.loadStatus)return Promise.reject(this.loadError);const He=Qe=>Promise.resolve().then(()=>"not-loaded"===this.loadStatus?(Qe||(this.authMode="immediate"),this.load().then(()=>null)):"loading"===this.loadStatus?this.load().then(()=>this.credential?null:(this.credential=Qe,this._fetchSelf("immediate"))):this.user&&this.credential===Qe?null:(this.credential=Qe,this._fetchSelf("immediate"))).then(ot=>{ot&&(this.sourceJSON=ot,this.read(ot))});return Ce.id?Ce.id.getCredential(this.restUrl).then(Qe=>He(Qe)):He(this.credential)}_normalizeSSL(He){return He.replace(/^http:/i,"https:").replace(":7080",":7443")}_normalizeUrl(He){const Qe=this.credential&&this.credential.token;return this._normalizeSSL(Qe?He+(He.indexOf("?")>-1?"&":"?")+"token="+Qe:He)}_requestToTypedArray(He,Qe,ot){return this._request(He,Qe).then(Ne=>{const Se=tt._resultsToTypedArray(ot,{portal:this},Ne);return Promise.all(Se.map($e=>"function"==typeof $e.when?$e.when():Ne)).then(()=>Se,()=>Se)})}_request(He,Qe={}){const ot=ji({f:"json"},Qe.query),{authMode:Ne=(this.authMode===tt.AUTH_MODE_ANONYMOUS?"anonymous":"auto"),body:Se=null,cacheBust:$e=!1,method:nt="auto",responseType:ut="json",signal:xt}=Qe,Ze={authMode:Ne,body:Se,cacheBust:$e,method:nt,query:ot,responseType:ut,timeout:0,signal:xt};return(0,Ie.default)(this._normalizeSSL(He),Ze).then(et=>et.data)}static _resultsToTypedArray(He,Qe,ot,Ne){let Se;if(ot){const $e=(0,xe.pC)(Ne)?Ne.signal:null;Se=ot.listings||ot.notifications||ot.userInvitations||ot.tags||ot.items||ot.groups||ot.comments||ot.provisions||ot.results||ot.relatedItems||ot,(He||Qe)&&(Se=Se.map(nt=>{const ut=Object.assign(He?He.fromJSON(nt):nt,Qe);return"function"==typeof ut.load&&ut.load($e),ut}))}else Se=[];return Se}};Oe.AUTH_MODE_ANONYMOUS="anonymous",Oe.AUTH_MODE_AUTO="auto",Oe.AUTH_MODE_IMMEDIATE="immediate",(0,J._)([(0,Ae.Cb)()],Oe.prototype,"access",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"allSSL",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"authMode",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"authorizedCrossOriginDomains",void 0),(0,J._)([(0,oe.r)("authorizedCrossOriginDomains")],Oe.prototype,"readAuthorizedCrossOriginDomains",null),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"basemapGalleryGroupQuery",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"bingKey",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"canListApps",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"canListData",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"canListPreProvisionedItems",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"canProvisionDirectPurchase",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"canSearchPublic",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"canShareBingPublic",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"canSharePublic",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"canSignInArcGIS",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"canSignInIDP",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"colorSetsGroupQuery",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"commentsEnabled",void 0),(0,J._)([(0,Ae.Cb)({type:Date})],Oe.prototype,"created",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"credential",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"culture",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"currentVersion",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"customBaseUrl",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"defaultBasemap",void 0),(0,J._)([(0,oe.r)("defaultBasemap")],Oe.prototype,"readDefaultBasemap",null),(0,J._)([(0,Ae.Cb)({type:fe.Z})],Oe.prototype,"defaultExtent",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"defaultVectorBasemap",void 0),(0,J._)([(0,oe.r)("defaultVectorBasemap")],Oe.prototype,"readDefaultVectorBasemap",null),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"description",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"eueiEnabled",void 0),(0,J._)([(0,Ae.Cb)({readOnly:!0})],Oe.prototype,"extraQuery",null),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"featuredGroups",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"featuredItemsGroupQuery",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"galleryTemplatesGroupQuery",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"livingAtlasGroupQuery",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"hasCategorySchema",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"helpBase",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"helperServices",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"helpMap",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"homePageFeaturedContent",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"homePageFeaturedContentCount",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"httpPort",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"httpsPort",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"id",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"ipCntryCode",void 0),(0,J._)([(0,Ae.Cb)({readOnly:!0})],Oe.prototype,"isOrganization",null),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"isPortal",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"isReadOnly",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"layerTemplatesGroupQuery",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"maxTokenExpirationMinutes",void 0),(0,J._)([(0,Ae.Cb)({type:Date})],Oe.prototype,"modified",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"name",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"portalHostname",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"portalMode",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"portalProperties",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"region",void 0),(0,J._)([(0,Ae.Cb)({readOnly:!0})],Oe.prototype,"restUrl",null),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"rotatorPanels",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"showHomePageDescription",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"sourceJSON",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"staticImagesUrl",void 0),(0,J._)([(0,Ae.Cb)({readOnly:!0,json:{read:!1}})],Oe.prototype,"stylesGroupQuery",null),(0,J._)([(0,Ae.Cb)({json:{name:"2DStylesGroupQuery"}})],Oe.prototype,"stylesGroupQuery2d",void 0),(0,J._)([(0,Ae.Cb)({json:{name:"stylesGroupQuery"}})],Oe.prototype,"stylesGroupQuery3d",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"supportsHostedServices",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"symbolSetsGroupQuery",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"templatesGroupQuery",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"thumbnail",void 0),(0,J._)([(0,Ae.Cb)({readOnly:!0})],Oe.prototype,"thumbnailUrl",null),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"units",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"url",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"urlKey",void 0),(0,J._)([(0,oe.r)("urlKey")],Oe.prototype,"readUrlKey",null),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"user",void 0),(0,J._)([(0,oe.r)("user")],Oe.prototype,"readUser",null),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"useStandardizedQuery",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"useVectorBasemaps",void 0),(0,J._)([(0,Ae.Cb)()],Oe.prototype,"vectorBasemapGalleryGroupQuery",void 0),Oe=tt=(0,J._)([(0,se.j)("esri.portal.Portal")],Oe);var qe=Oe},96245:(hi,lt,N)=>{"use strict";N.r(lt),N.d(lt,{default:()=>be});var z=N(17626),J=N(26584),Te=N(86162),Me=N(77712),Ie=(N(8314),N(90912)),he=(N(63290),N(61403)),re=N(6278);let ce=class extends Te.wq{constructor(xe){super(xe),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.tags=null,this.title=null}get thumbnailUrl(){const xe=this.url,de=this.thumbnail;return xe&&de?this.portal._normalizeUrl(`${xe}/info/${de}?f=json`):null}get url(){const xe=this.get("portal.restUrl");return xe?xe+"/community/groups/"+this.id:null}fetchCategorySchema(xe){return this.portal._request(this.url+"/categorySchema",xe).then(de=>{const Ae=de.categorySchema||[];return Ae.some(me=>"contentCategorySetsGroupQuery.LivingAtlas"===me.source)?this._fetchCategorySchemaSet("LivingAtlas",xe):Ae})}fetchMembers(xe){return this.portal._request(this.url+"/users",xe)}getThumbnailUrl(xe){let de=this.thumbnailUrl;return de&&xe&&(de+=`&w=${xe}`),de}toJSON(){throw new J.Z("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}queryItems(xe,de){let Ae=(0,Ie.se)(re.Z,xe);return parseFloat(this.portal.currentVersion)>5?(Ae=Ae||new re.Z,this.portal._queryPortal(`/content/groups/${this.id}/search`,Ae,"PortalItem",de)):(Ae=Ae?Ae.clone():new re.Z,Ae.query="group:"+this.id+(Ae.query?" "+Ae.query:""),this.portal.queryItems(Ae,de))}_fetchCategorySchemaSet(xe,de){return this.portal._fetchSelf(this.portal.authMode,!0,de).then(Ae=>{const me=Ae.contentCategorySetsGroupQuery;if(me){const le=new re.Z;return le.disableExtraQuery=!0,le.num=1,le.query=me,this.portal.queryGroups(le,de)}throw new J.Z("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(Ae=>{if(Ae.total){const me=Ae.results[0],le=new re.Z;return le.num=1,le.query=`typekeywords:"${xe}"`,me.queryItems(le,de)}throw new J.Z("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(Ae=>Ae.total?Ae.results[0].fetchData("json",de).then(me=>{const le=me&&me.categorySchema;return le&&le.length?le:[]}):[])}};(0,z._)([(0,Me.Cb)()],ce.prototype,"access",void 0),(0,z._)([(0,Me.Cb)({type:Date})],ce.prototype,"created",void 0),(0,z._)([(0,Me.Cb)()],ce.prototype,"description",void 0),(0,z._)([(0,Me.Cb)()],ce.prototype,"id",void 0),(0,z._)([(0,Me.Cb)()],ce.prototype,"isInvitationOnly",void 0),(0,z._)([(0,Me.Cb)({type:Date})],ce.prototype,"modified",void 0),(0,z._)([(0,Me.Cb)()],ce.prototype,"owner",void 0),(0,z._)([(0,Me.Cb)()],ce.prototype,"portal",void 0),(0,z._)([(0,Me.Cb)()],ce.prototype,"snippet",void 0),(0,z._)([(0,Me.Cb)()],ce.prototype,"sortField",void 0),(0,z._)([(0,Me.Cb)()],ce.prototype,"sortOrder",void 0),(0,z._)([(0,Me.Cb)()],ce.prototype,"tags",void 0),(0,z._)([(0,Me.Cb)()],ce.prototype,"thumbnail",void 0),(0,z._)([(0,Me.Cb)({readOnly:!0})],ce.prototype,"thumbnailUrl",null),(0,z._)([(0,Me.Cb)()],ce.prototype,"title",void 0),(0,z._)([(0,Me.Cb)({readOnly:!0})],ce.prototype,"url",null),ce=(0,z._)([(0,he.j)("esri.portal.PortalGroup")],ce);var be=ce},55463:(hi,lt,N)=>{"use strict";N.r(lt),N.d(lt,{default:()=>je});var z=N(15861),J=N(17626),Te=N(54346),Me=N(26584),Ce=N(86162),Ie=N(58817),ye=N(47996),he=N(62208),re=N(21726),ce=N(77712),be=N(90912),de=(N(8314),N(63290)),Ae=N(68653),me=N(61403),le=N(2004),oe=N(84687),se=N(61458),fe=N(66656);const Ee=de.Z.getLogger("esri.portal.PortalItemResource");let ge=class extends se.Z{constructor(ve){super(ve),this.portalItem=null}normalizeCtorArgs(ve){return ve&&ve.portalItem&&ve.path?fr(ji({},ve),{path:this.normalizePath(ve.path,ve.portalItem)}):ve}set path(ve){(0,he.pC)(ve)&&(0,re.YP)(ve)?Ee.error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",ve)}_castPath(ve){return this.normalizePath(ve,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(ve="json",Oe){const qe=this.url;if((0,he.Wi)(qe))throw new Me.Z("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal._request(qe,{responseType:ve,query:{token:this.portalItem.apiKey},signal:(0,he.U2)(Oe,"signal")})}update(ve,Oe){var qe=this;return(0,z.Z)(function*(){return(yield N.e(587).then(N.bind(N,10587))).addOrUpdateResource(qe,"update",ve,Oe)})()}hasPath(){return(0,he.pC)(this.path)}normalizePath(ve,Oe){return(0,he.Wi)(ve)?ve:(ve=ve.replace(/^\/+/,""),(0,he.pC)(Oe)&&(0,re.YP)(ve)&&(ve=(0,re.PF)(ve,Oe.itemUrl)),ve.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}};(0,J._)([(0,ce.Cb)()],ge.prototype,"portalItem",void 0),(0,J._)([(0,ce.Cb)({type:String,value:null})],ge.prototype,"path",null),(0,J._)([(0,fe.p)("path")],ge.prototype,"_castPath",null),(0,J._)([(0,ce.Cb)({type:String,readOnly:!0})],ge.prototype,"url",null),(0,J._)([(0,ce.Cb)({type:String,readOnly:!0})],ge.prototype,"itemRelativeUrl",null),ge=(0,J._)([(0,me.j)("esri.portal.PortalItemResource")],ge);var Ue=ge;let Fe=class extends se.Z{constructor(ve){super(ve),this.created=null,this.rating=null}};(0,J._)([(0,ce.Cb)()],Fe.prototype,"created",void 0),(0,J._)([(0,ce.Cb)()],Fe.prototype,"rating",void 0),Fe=(0,J._)([(0,me.j)("esri.portal.PortalRating")],Fe);var Le,Ve=Fe;let tt=Le=class extends((0,Ce.eC)(ye.Z)){constructor(ve){super(ve),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}static from(ve){return(0,be.TJ)(Le,ve)}destroy(){this.portal=null}get displayName(){const ve=this.type,Oe=this.typeKeywords||[];let qe=ve;return"Feature Service"===ve||"Feature Collection"===ve?qe=Oe.indexOf("Table")>-1?"Table":Oe.indexOf("Route Layer")>-1?"Route Layer":Oe.indexOf("Markup")>-1?"Markup":"Feature Layer":"Image Service"===ve?qe=Oe.indexOf("Elevation 3D Layer")>-1?"Elevation Layer":Oe.indexOf("Tiled Imagery")>-1?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===ve?qe="Scene Layer":"Scene Package"===ve?qe="Scene Layer Package":"Stream Service"===ve?qe="Feature Layer":"Geoprocessing Service"===ve&&this.portal&&this.portal.isPortal?qe=Oe.indexOf("Web Tool")>-1?"Tool":"Geoprocessing Service":"Geocoding Service"===ve?qe="Locator":"Geoenrichment Service"===ve?qe="GeoEnrichment Service":"Microsoft Powerpoint"===ve?qe="Microsoft PowerPoint":"GeoJson"===ve?qe="GeoJSON":"Globe Service"===ve?qe="Globe Layer":"Vector Tile Service"===ve?qe="Tile Layer":"netCDF"===ve?qe="NetCDF":"Map Service"===ve?qe=-1===Oe.indexOf("Spatiotemporal")&&(Oe.indexOf("Hosted Service")>-1||Oe.indexOf("Tiled")>-1)&&-1===Oe.indexOf("Relational")?"Tile Layer":"Map Image Layer":ve&&ve.toLowerCase().indexOf("add in")>-1?qe=ve.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===ve?qe="Big Data File Share":"Compact Tile Package"===ve?qe="Tile Package (tpkx)":"OGCFeatureServer"===ve&&(qe="OGC Feature Layer"),qe}readExtent(ve){return ve&&ve.length?new le.Z(ve[0][0],ve[0][1],ve[1][0],ve[1][1]):null}get iconUrl(){const ve=this.type&&this.type.toLowerCase()||"",Oe=this.typeKeywords||[];let Qe,ot=!1,Ne=!1,Se=!1,$e=!1,nt=!1,ut=!1;return ve.indexOf("service")>0||"feature collection"===ve||"kml"===ve||"wms"===ve||"wmts"===ve||"wfs"===ve?(ot=Oe.indexOf("Hosted Service")>-1,"feature service"===ve||"feature collection"===ve||"kml"===ve||"wfs"===ve?(Ne=Oe.indexOf("Table")>-1,Se=Oe.indexOf("Route Layer")>-1,$e=Oe.indexOf("Markup")>-1,nt=-1!==Oe.indexOf("Spatiotemporal"),ut=-1!==Oe.indexOf("UtilityNetwork"),Qe=nt&&Ne?"spatiotemporaltable":Ne?"table":Se?"routelayer":$e?"markup":nt?"spatiotemporal":ot?"featureshosted":ut?"utilitynetwork":"features"):Qe="map service"===ve||"wms"===ve||"wmts"===ve?ot||Oe.indexOf("Tiled")>-1||"wmts"===ve?"maptiles":"mapimages":"scene service"===ve?Oe.indexOf("Line")>-1?"sceneweblayerline":Oe.indexOf("3DObject")>-1?"sceneweblayermultipatch":Oe.indexOf("Point")>-1?"sceneweblayerpoint":Oe.indexOf("IntegratedMesh")>-1?"sceneweblayermesh":Oe.indexOf("PointCloud")>-1?"sceneweblayerpointcloud":Oe.indexOf("Polygon")>-1?"sceneweblayerpolygon":Oe.indexOf("Building")>-1?"sceneweblayerbuilding":Oe.indexOf("Voxel")>-1?"sceneweblayervoxel":"sceneweblayer":"image service"===ve?Oe.indexOf("Elevation 3D Layer")>-1?"elevationlayer":Oe.indexOf("Tiled Imagery")>-1?"tiledimagerylayer":"imagery":"stream service"===ve?"streamlayer":"vector tile service"===ve?"vectortile":"datastore catalog service"===ve?"datastorecollection":"geocoding service"===ve?"geocodeservice":"geoprocessing service"===ve&&Oe.indexOf("Web Tool")>-1&&this.portal&&this.portal.isPortal?"tool":"layers"):Qe="web map"===ve||"cityengine web scene"===ve?"maps":"web scene"===ve?Oe.indexOf("ViewingMode-Local")>-1?"webscenelocal":"websceneglobal":"web mapping application"===ve||"mobile application"===ve||"application"===ve||"operation view"===ve||"desktop application"===ve?"apps":"map document"===ve||"map package"===ve||"published map"===ve||"scene document"===ve||"globe document"===ve||"basemap package"===ve||"mobile basemap package"===ve||"mobile map package"===ve||"project package"===ve||"project template"===ve||"pro map"===ve||"layout"===ve||"layer"===ve&&Oe.indexOf("ArcGIS Pro")>-1||"explorer map"===ve&&Oe.indexOf("Explorer Document")?"mapsgray":"service definition"===ve||"csv"===ve||"shapefile"===ve||"cad drawing"===ve||"geojson"===ve||"360 vr experience"===ve||"netcdf"===ve||"administrative report"===ve?"datafiles":"explorer add in"===ve||"desktop add in"===ve||"windows viewer add in"===ve||"windows viewer configuration"===ve?"appsgray":"arcgis pro add in"===ve||"arcgis pro configuration"===ve?"addindesktop":"rule package"===ve||"file geodatabase"===ve||"sqlite geodatabase"===ve||"csv collection"===ve||"kml collection"===ve||"windows mobile package"===ve||"map template"===ve||"desktop application template"===ve||"gml"===ve||"arcpad package"===ve||"code sample"===ve||"form"===ve||"document link"===ve||"earth configuration"===ve||"operations dashboard add in"===ve||"rules package"===ve||"image"===ve||"workflow manager package"===ve||"explorer map"===ve&&Oe.indexOf("Explorer Mapping Application")>-1||Oe.indexOf("Document")>-1?"datafilesgray":"network analysis service"===ve||"geoprocessing service"===ve||"geodata service"===ve||"geometry service"===ve||"geoprocessing package"===ve||"locator package"===ve||"geoprocessing sample"===ve||"workflow manager service"===ve?"toolsgray":"layer"===ve||"layer package"===ve||"explorer layer"===ve?"layersgray":"scene package"===ve?"scenepackage":"mobile scene package"===ve?"mobilescenepackage":"tile package"===ve||"compact tile package"===ve?"tilepackage":"task file"===ve?"taskfile":"report template"===ve?"report-template":"statistical data collection"===ve?"statisticaldatacollection":"insights workbook"===ve?"workbook":"insights model"===ve?"insightsmodel":"insights page"===ve?"insightspage":"insights theme"===ve?"insightstheme":"hub initiative"===ve?"hubinitiative":"hubpage"===ve?"hubpage":"hub event"===ve?"hubevent":"hub site application"===ve?"hubsite":"relational database connection"===ve?"relationaldatabaseconnection":"big data file share"===ve?"datastorecollection":"image collection"===ve?"imagecollection":"style"===ve?"style":"desktop style"===ve?"desktopstyle":"dashboard"===ve?"dashboard":"raster function template"===ve?"rasterprocessingtemplate":"vector tile package"===ve?"vectortilepackage":"ortho mapping project"===ve?"orthomappingproject":"ortho mapping template"===ve?"orthomappingtemplate":"solution"===ve?"solutions":"geopackage"===ve?"geopackage":"deep learning package"===ve?"deeplearningpackage":"real time analytic"===ve?"realtimeanalytics":"big data analytic"===ve?"bigdataanalytics":"feed"===ve?"feed":"excalibur imagery project"===ve?"excaliburimageryproject":"notebook"===ve?"notebook":"storymap"===ve?"storymap":"survey123 add in"===ve?"survey123addin":"mission"===ve?"mission":"mission report"===ve?"missionreport":"quickcapture project"===ve?"quickcaptureproject":"pro report"===ve?"proreport":"urban model"===ve?"urbanmodel":"web experience"===ve?"experiencebuilder":"web experience template"===ve?"webexperiencetemplate":"workflow"===ve?"workflow":"insights script"===ve?"insightsscript":"kernel gateway connection"===ve?"kernelgatewayconnection":"hub initiative template"===ve?"hubinitiativetemplate":"storymap theme"===ve?"storymaptheme":"knowledge graph"===ve?"knowledgegraph":"native application"===ve?"nativeapp":"native application installer"===ve?"nativeappinstaller":"link chart"===ve?"linkchart":"investigation"===ve?"investigation":"ogcfeatureserver"===ve?"features":"pro project"===ve?"proproject":"insights workbook package"===ve?"insightsworkbookpackage":"apache parquet"===ve?"apacheparquet":"maps",Qe?(0,Te.V)("esri/images/portal/"+Qe+"16.png"):null}get isLayer(){return["Map Service","Feature Service","Feature Collection","Scene Service","Image Service","Stream Service","Vector Tile Service","WMTS","WMS"].indexOf(this.type)>-1}get itemUrl(){const ve=this.get("portal.restUrl");return ve?ve+"/content/items/"+this.id:null}get thumbnailUrl(){const ve=this.itemUrl,Oe=this.thumbnail;return ve&&Oe?this.portal._normalizeUrl(`${ve}/info/${Oe}?f=json`):null}get userItemUrl(){const ve=this.get("portal.restUrl");if(!ve)return null;const Oe=this.owner||this.get("portal.user.username");return Oe?`${ve}/content/users/${this.ownerFolder?`${Oe}/${this.ownerFolder}`:Oe}/items/${this.id}`:null}load(ve){this.portal||(this.portal=oe.Z.getDefault());const Oe=this.portal.load(ve).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?this.portal._request(this.itemUrl,{signal:(0,he.pC)(ve)?ve.signal:null,query:{token:this.apiKey}}):{}).then(qe=>{this.sourceJSON=qe,this.read(qe)});return this.addResolvingPromise(Oe),Promise.resolve(this)}addRating(ve){const Oe={method:"post",query:{}};return ve instanceof Ve&&(ve=ve.rating),isNaN(ve)||"number"!=typeof ve||(Oe.query.rating=ve),this.portal._request(this.itemUrl+"/addRating",Oe).then(()=>new Ve({rating:ve,created:new Date}))}clone(){const ve={access:this.access,accessInformation:this.accessInformation,applicationProxies:(0,Ie.d9)(this.applicationProxies),avgRating:this.avgRating,categories:(0,Ie.d9)(this.categories),created:(0,Ie.d9)(this.created),culture:this.culture,description:this.description,extent:(0,Ie.d9)(this.extent),groupCategories:(0,Ie.d9)(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:(0,Ie.d9)(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:(0,Ie.d9)(this.screenshots),size:this.size,snippet:this.snippet,tags:(0,Ie.d9)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:(0,Ie.d9)(this.typeKeywords),url:this.url};return this.loaded&&(ve.loadStatus="loaded"),new Le({sourceJSON:this.sourceJSON}).set(ve)}createPostQuery(){const ve=this.toJSON();for(const Oe in ve)"tags"===Oe&&null!==ve[Oe]&&(ve[Oe]=ve[Oe].join(", ")),"typeKeywords"===Oe&&null!==ve[Oe]&&(ve[Oe]=ve[Oe].join(", ")),"extent"===Oe&&ve[Oe]&&(ve[Oe]=JSON.stringify(ve[Oe]));return ve}deleteRating(){return this.portal._request(this.itemUrl+"/deleteRating",{method:"post"}).then(()=>{})}fetchData(ve="json",Oe){return this.portal._request(this.itemUrl+"/data",fr(ji({responseType:ve},Oe),{query:{token:this.apiKey}}))}fetchRating(ve){return this.portal._request(this.itemUrl+"/rating",ji({query:{token:this.apiKey}},ve)).then(Oe=>null!=Oe.rating?(Oe.created=new Date(Oe.created),new Ve(Oe)):null)}fetchRelatedItems(ve,Oe){return this.portal._requestToTypedArray(this.itemUrl+"/relatedItems",ji({query:fr(ji({},ve),{token:this.apiKey})},Oe),Le)}getThumbnailUrl(ve){let Oe=this.thumbnailUrl;return Oe&&ve&&(Oe+=`&w=${ve}`),Oe}reload(){return this.portal._request(this.itemUrl,{cacheBust:!0,query:{token:this.apiKey}}).then(ve=>(this.sourceJSON=ve,this.read(ve),this))}update(ve){return this.id?this.load().then(()=>this.portal._signIn()).then(()=>{const Oe=ve&&ve.data,qe={method:"post"};qe.query=this.createPostQuery();for(const He in qe.query)null===qe.query[He]&&(qe.query[He]="");return qe.query.clearEmptyFields=!0,null!=Oe&&("string"==typeof Oe?qe.query.text=Oe:"object"==typeof Oe&&(qe.query.text=JSON.stringify(Oe))),this.portal._request(`${this.userItemUrl}/update`,qe).then(()=>this.reload())}):Promise.reject(new Me.Z("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}updateThumbnail(ve){return this.id?this.load().then(()=>this.portal._signIn()).then(()=>{const Oe=ve.thumbnail,qe=ve.filename,He={method:"post"};if("string"==typeof Oe)He.query=(0,re.HK)(Oe)?{data:Oe}:{url:(0,re.hF)(Oe)},(0,he.pC)(qe)&&(He.query.filename=qe);else{const Qe=new FormData;(0,he.pC)(qe)?Qe.append("file",Oe,qe):Qe.append("file",Oe),He.body=Qe}return this.portal._request(`${this.userItemUrl}/updateThumbnail`,He).then(()=>this.reload())}):Promise.reject(new Me.Z("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}fetchResources(ve={},Oe){var qe=this;return(0,z.Z)(function*(){return(yield N.e(587).then(N.bind(N,10587))).fetchResources(qe,ve,Oe)})()}addResource(ve,Oe,qe){var He=this;return(0,z.Z)(function*(){const Qe=yield N.e(587).then(N.bind(N,10587));return ve.portalItem=He,Qe.addOrUpdateResource(ve,"add",Oe,qe)})()}removeResource(ve,Oe){var qe=this;return(0,z.Z)(function*(){const He=yield N.e(587).then(N.bind(N,10587));if(ve.portalItem&&ve.portalItem.itemUrl!==qe.itemUrl)throw new Me.Z("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return He.removeResource(qe,ve,Oe)})()}removeAllResources(ve){var Oe=this;return(0,z.Z)(function*(){return(yield N.e(587).then(N.bind(N,10587))).removeAllResources(Oe,ve)})()}resourceFromPath(ve){return new Ue({portalItem:this,path:ve})}toJSON(){const ve=this.extent,Oe={created:this.created&&this.created.getTime(),description:this.description,extent:ve&&[[ve.xmin,ve.ymin],[ve.xmax,ve.ymax]],id:this.id,modified:this.modified&&this.modified.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,tags:this.tags,thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:this.typeKeywords,url:this.url};return(0,Ie.yd)(Oe)}static fromJSON(ve){if(!ve)return null;if(ve.declaredClass)throw new Error("JSON object is already hydrated");return new Le({sourceJSON:ve})}_getPostQuery(){const ve=this.toJSON();for(const Oe in ve)"tags"===Oe&&null!==ve[Oe]&&(ve[Oe]=ve[Oe].join(", ")),"typeKeywords"===Oe&&null!==ve[Oe]&&(ve[Oe]=ve[Oe].join(", ")),"extent"===Oe&&ve[Oe]&&(ve[Oe]=JSON.stringify(ve[Oe]));return ve}};(0,J._)([(0,ce.Cb)({type:["private","shared","org","public"]})],tt.prototype,"access",void 0),(0,J._)([(0,ce.Cb)()],tt.prototype,"accessInformation",void 0),(0,J._)([(0,ce.Cb)({type:String})],tt.prototype,"apiKey",void 0),(0,J._)([(0,ce.Cb)({json:{read:{source:"appProxies"}}})],tt.prototype,"applicationProxies",void 0),(0,J._)([(0,ce.Cb)()],tt.prototype,"avgRating",void 0),(0,J._)([(0,ce.Cb)()],tt.prototype,"categories",void 0),(0,J._)([(0,ce.Cb)({type:Date})],tt.prototype,"created",void 0),(0,J._)([(0,ce.Cb)()],tt.prototype,"culture",void 0),(0,J._)([(0,ce.Cb)()],tt.prototype,"description",void 0),(0,J._)([(0,ce.Cb)({readOnly:!0})],tt.prototype,"displayName",null),(0,J._)([(0,ce.Cb)({type:le.Z})],tt.prototype,"extent",void 0),(0,J._)([(0,Ae.r)("extent")],tt.prototype,"readExtent",null),(0,J._)([(0,ce.Cb)()],tt.prototype,"groupCategories",void 0),(0,J._)([(0,ce.Cb)({readOnly:!0})],tt.prototype,"iconUrl",null),(0,J._)([(0,ce.Cb)()],tt.prototype,"id",void 0),(0,J._)([(0,ce.Cb)({readOnly:!0})],tt.prototype,"isLayer",null),(0,J._)([(0,ce.Cb)()],tt.prototype,"itemControl",void 0),(0,J._)([(0,ce.Cb)({readOnly:!0})],tt.prototype,"itemUrl",null),(0,J._)([(0,ce.Cb)()],tt.prototype,"licenseInfo",void 0),(0,J._)([(0,ce.Cb)({type:Date})],tt.prototype,"modified",void 0),(0,J._)([(0,ce.Cb)()],tt.prototype,"name",void 0),(0,J._)([(0,ce.Cb)()],tt.prototype,"numComments",void 0),(0,J._)([(0,ce.Cb)()],tt.prototype,"numRatings",void 0),(0,J._)([(0,ce.Cb)()],tt.prototype,"numViews",void 0),(0,J._)([(0,ce.Cb)()],tt.prototype,"owner",void 0),(0,J._)([(0,ce.Cb)()],tt.prototype,"ownerFolder",void 0),(0,J._)([(0,ce.Cb)({type:oe.Z})],tt.prototype,"portal",void 0),(0,J._)([(0,ce.Cb)()],tt.prototype,"screenshots",void 0),(0,J._)([(0,ce.Cb)()],tt.prototype,"size",void 0),(0,J._)([(0,ce.Cb)()],tt.prototype,"snippet",void 0),(0,J._)([(0,ce.Cb)()],tt.prototype,"sourceJSON",void 0),(0,J._)([(0,ce.Cb)()],tt.prototype,"tags",void 0),(0,J._)([(0,ce.Cb)()],tt.prototype,"thumbnail",void 0),(0,J._)([(0,ce.Cb)({readOnly:!0})],tt.prototype,"thumbnailUrl",null),(0,J._)([(0,ce.Cb)()],tt.prototype,"title",void 0),(0,J._)([(0,ce.Cb)()],tt.prototype,"type",void 0),(0,J._)([(0,ce.Cb)()],tt.prototype,"typeKeywords",void 0),(0,J._)([(0,ce.Cb)()],tt.prototype,"url",void 0),(0,J._)([(0,ce.Cb)({readOnly:!0})],tt.prototype,"userItemUrl",null),tt=Le=(0,J._)([(0,me.j)("esri.portal.PortalItem")],tt);var je=tt},6278:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>oe});var Ae,z=N(17626),J=N(61458),Te=N(2076),Me=N(58817),Ce=N(62208),Ie=N(77712),ce=(N(90912),N(8314),N(63290),N(61403)),be=N(2004),xe=N(65234),de=N(46367);const me=new Te.Xn({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let le=Ae=class extends J.Z{constructor(se){super(se),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(se){"asc"!==se&&"desc"!==se||this._set("sortOrder",se)}clone(){return new Ae({categories:this.categories?(0,Me.d9)(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(se,fe){let Ee,ge;if(this.categories&&(Ee=this.categories.map(Ve=>Array.isArray(Ve)?JSON.stringify(Ve):Ve)),this.extent){const Ve=(0,de.iV)(this.extent,xe.Z.WGS84);(0,Ce.pC)(Ve)&&(ge=`${Ve.xmin},${Ve.ymin},${Ve.xmax},${Ve.ymax}`)}let Ue=this.query;!this.disableExtraQuery&&se.extraQuery&&(Ue="("+Ue+")"+se.extraQuery);const Fe={categories:Ee,bbox:ge,q:Ue,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(Fe.sortField=this.sortField.split(",").map(Ve=>me.toJSON(Ve.trim())).join(","),Fe.sortOrder=this.sortOrder),{query:ji(ji({},fe),Fe)}}};(0,z._)([(0,Ie.Cb)()],le.prototype,"categories",void 0),(0,z._)([(0,Ie.Cb)()],le.prototype,"disableExtraQuery",void 0),(0,z._)([(0,Ie.Cb)({type:be.Z})],le.prototype,"extent",void 0),(0,z._)([(0,Ie.Cb)()],le.prototype,"num",void 0),(0,z._)([(0,Ie.Cb)()],le.prototype,"query",void 0),(0,z._)([(0,Ie.Cb)()],le.prototype,"sortField",void 0),(0,z._)([(0,Ie.Cb)()],le.prototype,"sortOrder",null),(0,z._)([(0,Ie.Cb)()],le.prototype,"start",void 0),le=Ae=(0,z._)([(0,ce.j)("esri.portal.PortalQueryParams")],le);var oe=le},94508:(hi,lt,N)=>{"use strict";N.r(lt),N.d(lt,{default:()=>Ae});var z=N(17626),J=N(26584),Te=N(86162),Me=N(77712),he=(N(8314),N(90912),N(63290),N(61403));let re=class extends Te.wq{constructor(me){super(me),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const me=this.get("portal.restUrl");return me?`${me}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new J.Z("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};(0,z._)([(0,Me.Cb)({type:Date})],re.prototype,"created",void 0),(0,z._)([(0,Me.Cb)()],re.prototype,"id",void 0),(0,z._)([(0,Me.Cb)()],re.prototype,"portal",void 0),(0,z._)([(0,Me.Cb)()],re.prototype,"title",void 0),(0,z._)([(0,Me.Cb)({readOnly:!0})],re.prototype,"url",null),(0,z._)([(0,Me.Cb)()],re.prototype,"username",void 0),re=(0,z._)([(0,he.j)("esri.portal.PortalFolder")],re);var xe,ce=re,be=N(96245);let de=xe=class extends Te.wq{constructor(...me){super(...me),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userType=null}get thumbnailUrl(){const me=this.url,le=this.thumbnail;return me&&le?this.portal._normalizeUrl(`${me}/info/${le}?f=json`):null}get userContentUrl(){const me=this.get("portal.restUrl");return me?`${me}/content/users/${this.username}`:null}get url(){const me=this.get("portal.restUrl");return me?`${me}/community/users/${this.username}`:null}addItem(me){const le=me&&me.item,oe=me&&me.data,se=me&&me.folder,fe={method:"post"};le&&(fe.query=le.createPostQuery(),null!=oe&&("string"==typeof oe?fe.query.text=oe:"object"==typeof oe&&(fe.query.text=JSON.stringify(oe))));let Ee=this.userContentUrl;return se&&(Ee+="/"+("string"==typeof se?se:se.id)),this.portal._request(Ee+"/addItem",fe).then(ge=>(le.id=ge.id,le.portal=this.portal,le.loaded?le.reload():le.load()))}deleteItem(me){let le=this.userContentUrl;return me.ownerFolder&&(le+="/"+me.ownerFolder),this.portal._request(le+`/items/${me.id}/delete`,{method:"post"}).then(()=>{me.id=null,me.portal=null})}deleteItems(me){const le=this.userContentUrl+"/deleteItems",oe=me.map(se=>se.id);if(oe.length){const se={method:"post",query:{items:oe.join(",")}};return this.portal._request(le,se).then(()=>{me.forEach(fe=>{fe.id=null,fe.portal=null})})}return Promise.resolve(void 0)}fetchFolders(){return this.portal._request(this.userContentUrl,{query:{num:1}}).then(le=>{let oe;return oe=le&&le.folders?le.folders.map(se=>{const fe=ce.fromJSON(se);return fe.portal=this.portal,fe}):[],oe})}fetchGroups(){return this.portal._request(this.url).then(me=>{let le;return le=me&&me.groups?me.groups.map(oe=>{const se=be.default.fromJSON(oe);return se.portal=this.portal,se}):[],le})}fetchItems(me){me||(me={});let le,oe=this.userContentUrl;return me.folder&&(oe+="/"+me.folder.id),Promise.resolve().then(N.bind(N,55463)).then(({default:se})=>(le=se,this.portal._request(oe,{query:{folders:!1,num:me.num||10,start:me.start||1,sortField:me.sortField||"created",sortOrder:me.sortOrder||"asc"}}))).then(se=>{let fe;return se&&se.items?(fe=se.items.map(Ee=>{const ge=le.fromJSON(Ee);return ge.portal=this.portal,ge}),Promise.all(fe.map(Ee=>Ee.load())).catch(Ee=>Ee).then(()=>({items:fe,nextStart:se.nextStart,total:se.total}))):{items:[],nextStart:-1,total:0}})}fetchTags(){return this.portal._request(this.url+"/tags").then(me=>me.tags)}getThumbnailUrl(me){let le=this.thumbnailUrl;return le&&me&&(le+=`&w=${me}`),le}queryFavorites(me){return this.favGroupId?(this._favGroup||(this._favGroup=new be.default({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(me)):Promise.reject(new J.Z("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}toJSON(){throw new J.Z("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(me){if(!me)return null;if(me.declaredClass)throw new Error("JSON object is already hydrated");const le=new xe;return le.sourceJSON=me,le.read(me),le}};(0,z._)([(0,Me.Cb)()],de.prototype,"access",void 0),(0,z._)([(0,Me.Cb)({type:Date})],de.prototype,"created",void 0),(0,z._)([(0,Me.Cb)()],de.prototype,"culture",void 0),(0,z._)([(0,Me.Cb)()],de.prototype,"description",void 0),(0,z._)([(0,Me.Cb)()],de.prototype,"email",void 0),(0,z._)([(0,Me.Cb)()],de.prototype,"favGroupId",void 0),(0,z._)([(0,Me.Cb)()],de.prototype,"fullName",void 0),(0,z._)([(0,Me.Cb)({type:Date})],de.prototype,"modified",void 0),(0,z._)([(0,Me.Cb)()],de.prototype,"orgId",void 0),(0,z._)([(0,Me.Cb)()],de.prototype,"portal",void 0),(0,z._)([(0,Me.Cb)()],de.prototype,"preferredView",void 0),(0,z._)([(0,Me.Cb)()],de.prototype,"privileges",void 0),(0,z._)([(0,Me.Cb)()],de.prototype,"region",void 0),(0,z._)([(0,Me.Cb)()],de.prototype,"role",void 0),(0,z._)([(0,Me.Cb)()],de.prototype,"roleId",void 0),(0,z._)([(0,Me.Cb)()],de.prototype,"sourceJSON",void 0),(0,z._)([(0,Me.Cb)()],de.prototype,"thumbnail",void 0),(0,z._)([(0,Me.Cb)({readOnly:!0})],de.prototype,"thumbnailUrl",null),(0,z._)([(0,Me.Cb)()],de.prototype,"units",void 0),(0,z._)([(0,Me.Cb)({readOnly:!0})],de.prototype,"userContentUrl",null),(0,z._)([(0,Me.Cb)({readOnly:!0})],de.prototype,"url",null),(0,z._)([(0,Me.Cb)()],de.prototype,"username",void 0),(0,z._)([(0,Me.Cb)()],de.prototype,"userType",void 0),de=xe=(0,z._)([(0,he.j)("esri.portal.PortalUser")],de);var Ae=de},58926:(hi,lt,N)=>{"use strict";N.d(lt,{v:()=>J});const J=(0,N(2076).wY)()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0})},4832:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>He});var Fe,z=N(15861),J=N(17626),Te=N(65787),Me=N(2076),Ce=N(58817),Ie=N(63290),ye=N(62208),he=N(77712),re=N(66656),be=(N(8314),N(55342)),xe=N(68653),de=N(61403),Ae=N(99433),me=N(90912),le=N(36630),oe=N(69357),se=N(2432),fe=N(74400),Ee=N(76457),ge=N(10914),Ue=N(46679);const Ve=Ie.Z.getLogger("esri.renderers.ClassBreaksRenderer"),tt="percent-of-total",je="field",ve=new Me.Xn({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:tt,esriNormalizeByField:je}),Oe=(0,me.se)(fe.Z);let qe=Fe=class extends((0,se.W)(oe.Z)){constructor(Qe){super(Qe),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(Qe,ot,Ne){if(!Array.isArray(Qe))return;let Se=ot.minValue;return Qe.map($e=>{const nt=new fe.Z;return nt.read($e,Ne),null==nt.minValue&&(nt.minValue=Se),null==nt.maxValue&&(nt.maxValue=nt.minValue),Se=nt.maxValue,nt})}writeClassBreakInfos(Qe,ot,Ne,Se){const $e=Qe.map(nt=>nt.write({},Se));this._areClassBreaksConsecutive()&&$e.forEach(nt=>delete nt.classMinValue),ot[Ne]=$e}castField(Qe){return null==Qe?Qe:"function"==typeof Qe?(Ve.error(".field: field must be a string value"),null):(0,me.Zs)(Qe)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let Qe=this._get("normalizationType");const ot=!!this.normalizationField,Ne=null!=this.normalizationTotal;return ot||Ne?(Qe=(ot?je:Ne&&tt)||null,ot&&Ne&&Ve.warn("warning: both normalizationField and normalizationTotal are set!")):Qe!==je&&Qe!==tt||(Qe=null),Qe}set normalizationType(Qe){this._set("normalizationType",Qe)}addClassBreakInfo(Qe,ot,Ne){let Se=null;Se="number"==typeof Qe?new fe.Z({minValue:Qe,maxValue:ot,symbol:(0,Te.se)(Ne)}):Oe((0,Ce.d9)(Qe)),this.classBreakInfos.push(Se),1===this.classBreakInfos.length&&this.notifyChange("minValue")}removeClassBreakInfo(Qe,ot){const Ne=this.classBreakInfos.length;for(let Se=0;Se<Ne;Se++){const $e=[this.classBreakInfos[Se].minValue,this.classBreakInfos[Se].maxValue];if($e[0]===Qe&&$e[1]===ot){this.classBreakInfos.splice(Se,1);break}}}getBreakIndex(Qe,ot){return this.valueExpression&&((0,ye.Wi)(ot)||(0,ye.Wi)(ot.arcade))&&Ve.warn(""),this.valueExpression?this._getBreakIndexForExpression(Qe,ot):this._getBreakIndexForField(Qe)}getClassBreakInfo(Qe,ot){var Ne=this;return(0,z.Z)(function*(){let Se=ot;Ne.valueExpression&&((0,ye.Wi)(ot)||(0,ye.Wi)(ot.arcade))&&(Se=fr(ji({},Se),{arcade:yield(0,Ue.LC)()}));const $e=Ne.getBreakIndex(Qe,Se);return-1!==$e?Ne.classBreakInfos[$e]:null})()}getSymbol(Qe,ot){if(this.valueExpression&&((0,ye.Wi)(ot)||(0,ye.Wi)(ot.arcade)))return void Ve.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const Ne=this.getBreakIndex(Qe,ot);return Ne>-1?this.classBreakInfos[Ne].symbol:this.defaultSymbol}getSymbolAsync(Qe,ot){var Ne=this;return(0,z.Z)(function*(){let Se=ot;if(Ne.valueExpression&&((0,ye.Wi)(ot)||(0,ye.Wi)(ot.arcade))){const nt=yield(0,Ue.LC)(),{arcadeUtils:ut}=nt;ut.hasGeometryOperations(Ne.valueExpression)&&(yield ut.enableGeometryOperations()),Se=fr(ji({},Se),{arcade:nt})}const $e=Ne.getBreakIndex(Qe,Se);return $e>-1?Ne.classBreakInfos[$e].symbol:Ne.defaultSymbol})()}getSymbols(){const Qe=[];return this.classBreakInfos.forEach(ot=>{ot.symbol&&Qe.push(ot.symbol)}),this.defaultSymbol&&Qe.push(this.defaultSymbol),Qe}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((Qe,ot)=>Qe+ot.getAttributeHash(),"")}getMeshHash(){const Qe=JSON.stringify(this.backgroundFillSymbol),ot=JSON.stringify(this.defaultSymbol),Ne=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${Qe}.${ot}.${this.classBreakInfos.reduce((Se,$e)=>Se+$e.getMeshHash(),"")}.${Ne}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){return new Fe({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol&&this.backgroundFillSymbol.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:(0,Ce.d9)(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:(0,Ce.d9)(this.visualVariables),legendOptions:(0,Ce.d9)(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}collectRequiredFields(Qe,ot){var Ne=this;return(0,z.Z)(function*(){const Se=[Ne.collectVVRequiredFields(Qe,ot),Ne.collectSymbolFields(Qe,ot)];yield Promise.all(Se)})()}collectSymbolFields(Qe,ot){var Ne=this;return(0,z.Z)(function*(){const Se=[...Ne.getSymbols().map($e=>$e.collectRequiredFields(Qe,ot)),(0,le.io)(Qe,ot,Ne.valueExpression)];(0,le.AB)(Qe,ot,Ne.field),(0,le.AB)(Qe,ot,Ne.normalizationField),yield Promise.all(Se)})()}_getBreakIndexForExpression(Qe,ot){const{viewingMode:Ne,scale:Se,spatialReference:$e,arcade:nt}=(0,ye.Pt)(ot,{});let ut=this._compiledValueExpression.valueExpression===this.valueExpression?this._compiledValueExpression.compiledFunction:null;const xt=(0,ye.Wg)(nt).arcadeUtils;if(!ut){const et=xt.createSyntaxTree(this.valueExpression);ut=xt.createFunction(et),this._compiledValueExpression.compiledFunction=ut}this._compiledValueExpression.valueExpression=this.valueExpression;const Ze=xt.executeFunction(ut,xt.createExecContext(Qe,xt.getViewInfo({viewingMode:Ne,scale:Se,spatialReference:$e})));return this._getBreakIndexfromInfos(Ze)}_getBreakIndexForField(Qe){const Ne=Qe.attributes,Se=this.normalizationType;let $e=parseFloat(Ne[this.field]);if(Se){const nt=this.normalizationTotal,ut=parseFloat(Ne[this.normalizationField]);if("log"===Se)$e=Math.log($e)*Math.LOG10E;else if(Se!==tt||isNaN(nt)){if(Se===je&&!isNaN(ut)){if(isNaN($e)||isNaN(ut))return-1;$e/=ut}}else $e=$e/nt*100}return this._getBreakIndexfromInfos($e)}_getBreakIndexfromInfos(Qe){const ot=this.isMaxInclusive;if(null!=Qe&&"number"==typeof Qe&&!isNaN(Qe))for(let Ne=0;Ne<this.classBreakInfos.length;Ne++){const Se=[this.classBreakInfos[Ne].minValue,this.classBreakInfos[Ne].maxValue];if(Se[0]<=Qe&&(ot?Qe<=Se[1]:Qe<Se[1]))return Ne}return-1}_areClassBreaksConsecutive(){const Qe=this.classBreakInfos,ot=Qe.length;for(let Ne=1;Ne<ot;Ne++)if(Qe[Ne-1].maxValue!==Qe[Ne].minValue)return!1;return!0}};(0,J._)([(0,he.Cb)(Ee.K)],qe.prototype,"backgroundFillSymbol",void 0),(0,J._)([(0,he.Cb)({type:[fe.Z]})],qe.prototype,"classBreakInfos",void 0),(0,J._)([(0,xe.r)("classBreakInfos")],qe.prototype,"readClassBreakInfos",null),(0,J._)([(0,Ae.c)("classBreakInfos")],qe.prototype,"writeClassBreakInfos",null),(0,J._)([(0,he.Cb)({type:String,json:{write:!0}})],qe.prototype,"defaultLabel",void 0),(0,J._)([(0,he.Cb)(Ee.G)],qe.prototype,"defaultSymbol",void 0),(0,J._)([(0,he.Cb)({type:String,json:{write:!0}})],qe.prototype,"field",void 0),(0,J._)([(0,re.p)("field")],qe.prototype,"castField",null),(0,J._)([(0,he.Cb)({type:Boolean})],qe.prototype,"isMaxInclusive",void 0),(0,J._)([(0,he.Cb)({type:ge.Z,json:{write:!0}})],qe.prototype,"legendOptions",void 0),(0,J._)([(0,he.Cb)({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],qe.prototype,"minValue",null),(0,J._)([(0,he.Cb)({type:String,json:{write:!0}})],qe.prototype,"normalizationField",void 0),(0,J._)([(0,he.Cb)({type:Number,cast:Qe=>(0,me.q9)(Qe),json:{write:!0}})],qe.prototype,"normalizationTotal",void 0),(0,J._)([(0,he.Cb)({type:ve.apiValues,value:null,json:{type:ve.jsonValues,read:ve.read,write:ve.write}})],qe.prototype,"normalizationType",null),(0,J._)([(0,be.J)({classBreaks:"class-breaks"})],qe.prototype,"type",void 0),(0,J._)([(0,he.Cb)({type:String,json:{write:!0}})],qe.prototype,"valueExpression",void 0),(0,J._)([(0,he.Cb)({type:String,json:{write:!0}})],qe.prototype,"valueExpressionTitle",void 0),qe=Fe=(0,J._)([(0,de.j)("esri.renderers.ClassBreaksRenderer")],qe);var He=qe},49067:(hi,lt,N)=>{"use strict";N.r(lt),N.d(lt,{default:()=>tt});var Ue,z=N(15861),J=N(17626),Te=N(91558),Me=N(84792),Ce=N(26584),Ie=N(58817),ye=N(63290),he=N(93961),re=N(62208),ce=N(10699),be=N(77275),xe=N(77712),me=(N(90912),N(8314),N(61403)),le=N(99433),oe=N(36630),se=N(69357),fe=N(2432),Ee=N(46679),ge=N(94398);const Fe=ye.Z.getLogger("esri.renderers.DictionaryRenderer"),Ve={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};let Le=Ue=class extends((0,fe.W)(se.Z)){constructor(je){super(je),this._ongoingRequests=new Map,this._symbolCache=new he.Z(100),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}writeData(je,ve){je&&(ve.scalingExpressionInfo={expression:je,returnType:"number"})}writeVisualVariables(je,ve,Oe,qe){null!=qe&&qe.origin||super.writeVisualVariables(je,ve,Oe,qe)}clone(){return new Ue({config:(0,Ie.d9)(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:(0,Ie.d9)(this.fieldMap),url:(0,Ie.d9)(this.url),visualVariables:(0,Ie.d9)(this.visualVariables)})}getSymbolAsync(je,ve){var Oe=this;return(0,z.Z)(function*(){let qe;Oe._dictionaryPromise||(Oe._dictionaryPromise=Oe.fetchResources(ve));try{qe=yield Oe._dictionaryPromise}catch(Ze){if((0,ce.D_)(Ze))return Oe._dictionaryPromise=null,null}const He={};if(Oe.fieldMap)for(const Ze of Oe._symbolFields){const et=Oe.fieldMap[Ze];He[Ze]=et&&null!=je.attributes[et]?""+je.attributes[et]:""}const Qe=qe(He,ve);if(!Qe||"string"!=typeof Qe)return null;const ot=(0,be.hP)(Qe).toString(),Ne=Oe._symbolCache.get(ot);if(Ne)return Ne.catch(()=>{Oe._symbolCache.pop(ot)}),Ne;const Se=Qe.split(";"),$e=[],nt=[];for(const Ze of Se)if(Ze&&0!==Ze.length)if(-1===Ze.indexOf("po:"))if(-1!==Ze.indexOf("|"))for(const et of Ze.split("|"))Oe._itemNames.has(et)&&$e.push(et);else Oe._itemNames.has(Ze)&&$e.push(Ze);else{const et=Ze.substr(3).split("|");if(3===et.length){const gt=et[0],Vt=et[1];let Bt=et[2];if("DashTemplate"===Vt)Bt=Bt.split(" ").map(Lt=>Number(Lt));else if("Color"===Vt){const Lt=new Te.Z(Bt).toRgba();Bt=[Lt[0],Lt[1],Lt[2],255*Lt[3]]}else Bt=Number(Bt);nt.push({primitiveName:gt,propertyName:Vt,value:Bt})}}const ut=!(0,re.pC)(je.geometry)||!je.geometry.hasZ&&"point"===je.geometry.type,xt=Oe._cimPartsToCIMSymbol($e,nt,ut,ve);return Oe._symbolCache.put(ot,xt,1),xt})()}collectRequiredFields(je,ve){var Oe=this;return(0,z.Z)(function*(){yield Oe.collectVVRequiredFields(je,ve),Oe.scaleExpression&&(yield(0,oe.io)(je,ve,Oe.scaleExpression));for(const qe in Oe.fieldMap){const He=Oe.fieldMap[qe];ve.has(He)&&je.add(He)}})()}get arcadeRequired(){return!0}fetchResources(je){var ve=this;return(0,z.Z)(function*(){if(ve._dictionaryPromise)return ve._dictionaryPromise;if(!ve.url)return void Fe.error("no valid URL!");const Oe=(0,re.pC)(je)?je.abortOptions:null,qe=(0,Me.default)(ve.url+"/resources/styles/dictionary-info.json",ji({responseType:"json",query:{f:"json"}},Oe)),[{data:He}]=yield Promise.all([qe,(0,Ee.LC)()]);if(!He)throw ve._dictionaryPromise=null,new Ce.Z("esri.renderers.DictionaryRenderer","Bad dictionary data!");const Qe=He.expression,ot=He.authoringInfo;ve._refSymbolUrlTemplate=ve.url+"/"+He.cimRefTemplateUrl,ve._itemNames=new Set(He.itemsNames),ve._symbolFields=ot.symbol;const Ne={};if(ve.config){const $e=ve.config;for(const nt in $e)Ne[nt]=$e[nt]}if(ot.configuration)for(const $e of ot.configuration)Ne.hasOwnProperty($e.name)||(Ne[$e.name]=$e.value);const Se=[];if((0,re.pC)(je)&&je.fields&&ve.fieldMap)for(const $e of ve._symbolFields){const nt=ve.fieldMap[$e],ut=je.fields.filter(xt=>xt.name===nt);ut.length>0&&Se.push(fr(ji({},ut[0]),{name:$e}))}return ve._dictionaryPromise=(0,Ee.pp)(Qe,(0,re.pC)(je)?je.spatialReference:null,Se,Ne).then($e=>{const nt={scale:0};return(ut,xt)=>{const Ze=$e.repurposeFeature({geometry:null,attributes:ut});return nt.scale=(0,re.pC)(xt)?xt.scale:void 0,$e.evaluate({$feature:Ze,$view:nt})}}).catch($e=>(Fe.error("Creating dictinoary expression failed:",$e),null)),ve._dictionaryPromise})()}getSymbol(){return null}getSymbols(){return[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((je,ve)=>je+ve.getAttributeHash(),"")}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._symbolFields}_getSymbolPart(je,ve){var Oe=this;return(0,z.Z)(function*(){if(Oe._ongoingRequests.has(je))return Oe._ongoingRequests.get(je).then(Qe=>Qe.data);const qe=Oe._refSymbolUrlTemplate.replace(/\{itemName\}/gi,je),He=(0,Me.default)(qe,ji({responseType:"json",query:{f:"json"}},ve));Oe._ongoingRequests.set(je,He);try{return(yield He).data}catch(Qe){return Oe._ongoingRequests.delete(je),Promise.reject(Qe)}})()}_combineSymbolParts(je,ve,Oe){if(!je||0===je.length)return null;const qe=ji({},je[0]);if(je.length>1){qe.symbolLayers=[];for(const He of je)qe.symbolLayers.unshift(...He.symbolLayers)}return Oe&&(qe.callout=Ve),{type:"CIMSymbolReference",symbol:qe,primitiveOverrides:ve}}_cimPartsToCIMSymbol(je,ve,Oe,qe){var He=this;return(0,z.Z)(function*(){const Qe=new Array(je.length);for(let Ne=0;Ne<je.length;Ne++)Qe[Ne]=He._getSymbolPart(je[Ne],qe);const ot=yield Promise.all(Qe);return new ge.Z({data:He._combineSymbolParts(ot,ve,Oe)})})()}};(0,J._)([(0,xe.Cb)({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],Le.prototype,"config",void 0),(0,J._)([(0,xe.Cb)({type:Object,json:{write:!0}})],Le.prototype,"fieldMap",void 0),(0,J._)([(0,xe.Cb)({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],Le.prototype,"scaleExpression",void 0),(0,J._)([(0,le.c)("scaleExpression")],Le.prototype,"writeData",null),(0,J._)([(0,xe.Cb)({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(je){return{enabled:!!je&&!!this.scaleExpression}}}}})],Le.prototype,"scaleExpressionTitle",void 0),(0,J._)([(0,xe.Cb)({type:String,json:{write:!0}})],Le.prototype,"url",void 0),(0,J._)([(0,le.c)("visualVariables")],Le.prototype,"writeVisualVariables",null),Le=Ue=(0,J._)([(0,me.j)("esri.renderers.DictionaryRenderer")],Le);var tt=Le},26284:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>ve});var oe,z=N(15861),J=N(17626),Te=N(91558),Me=N(58817),Ce=N(83960),Ie=N(90912),he=(N(8314),N(63290)),re=N(55342),ce=N(77712),be=N(61403),xe=N(36630),de=N(69357),Ae=N(2432),me=N(86162),le=N(66656);const se=he.Z.getLogger("esri.renderers.support.AttributeColorInfo");let fe=oe=class extends me.wq{constructor(Oe){super(Oe),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(Oe){return null==Oe?Oe:"function"==typeof Oe?(se.error(".field: field must be a string value"),null):(0,Ie.Zs)(Oe)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){return new oe({color:this.color&&this.color.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};(0,J._)([(0,ce.Cb)({type:Te.Z,json:{type:[Number],write:!0}})],fe.prototype,"color",void 0),(0,J._)([(0,ce.Cb)({type:String,json:{write:!0}})],fe.prototype,"field",void 0),(0,J._)([(0,le.p)("field")],fe.prototype,"castField",null),(0,J._)([(0,ce.Cb)({type:String,json:{write:!0}})],fe.prototype,"label",void 0),(0,J._)([(0,ce.Cb)({type:String,json:{write:!0}})],fe.prototype,"valueExpression",void 0),(0,J._)([(0,ce.Cb)({type:String,json:{write:!0}})],fe.prototype,"valueExpressionTitle",void 0),fe=oe=(0,J._)([(0,be.j)("esri.renderers.support.AttributeColorInfo")],fe);var ge,Ee=fe;let Ue=ge=class extends me.wq{constructor(){super(...arguments),this.unit=null}clone(){return new ge({unit:this.unit})}};(0,J._)([(0,ce.Cb)({type:String,json:{write:!0}})],Ue.prototype,"unit",void 0),Ue=ge=(0,J._)([(0,be.j)("esri.renderers.support.DotDensityLegendOptions")],Ue);var tt,Fe=Ue,Ve=N(88493),Le=N(52068);let je=tt=class extends((0,Ae.W)(de.Z)){constructor(Oe){super(Oe),this.attributes=null,this.backgroundColor=new Te.Z([0,0,0,0]),this.blendDots=!0,this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new Le.Z,this.dotValue=null,this.referenceDotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}calculateDotValue(Oe){if(null==this.referenceScale)return this.dotValue;const qe=Oe/this.referenceScale*this.dotValue;return qe<1?1:qe}getSymbol(){return new Ve.Z({outline:this.outline})}getSymbolAsync(){var Oe=this;return(0,z.Z)(function*(){return Oe.getSymbol()})()}getSymbols(){return[this.getSymbol()]}getAttributeHash(){return this.attributes&&this.attributes.reduce((Oe,qe)=>Oe+qe.getAttributeHash(),"")}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new tt({attributes:(0,Me.d9)(this.attributes),backgroundColor:(0,Me.d9)(this.backgroundColor),dotBlendingEnabled:(0,Me.d9)(this.dotBlendingEnabled),dotShape:(0,Me.d9)(this.dotShape),dotSize:(0,Me.d9)(this.dotSize),dotValue:(0,Me.d9)(this.dotValue),legendOptions:(0,Me.d9)(this.legendOptions),outline:(0,Me.d9)(this.outline),referenceScale:(0,Me.d9)(this.referenceScale),visualVariables:(0,Me.d9)(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}getControllerHash(){return`${this.attributes.map(Oe=>Oe.field||Oe.valueExpression||"")}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}collectRequiredFields(Oe,qe){var He=this;return(0,z.Z)(function*(){yield He.collectVVRequiredFields(Oe,qe);for(const Qe of He.attributes)Qe.valueExpression&&(yield(0,xe.io)(Oe,qe,Qe.valueExpression)),Qe.field&&Oe.add(Qe.field)})()}};(0,J._)([(0,ce.Cb)({type:[Ee],json:{write:!0}})],je.prototype,"attributes",void 0),(0,J._)([(0,ce.Cb)({type:Te.Z,json:{write:!0}})],je.prototype,"backgroundColor",void 0),(0,J._)([(0,ce.Cb)({type:Boolean}),(0,Ce.B)("dotBlendingEnabled")],je.prototype,"blendDots",void 0),(0,J._)([(0,ce.Cb)({type:Boolean,json:{write:!0}})],je.prototype,"dotBlendingEnabled",void 0),(0,J._)([(0,ce.Cb)({type:String,json:{write:!1}})],je.prototype,"dotShape",void 0),(0,J._)([(0,ce.Cb)({type:Number,json:{write:!1}})],je.prototype,"dotSize",void 0),(0,J._)([(0,ce.Cb)({type:Fe,json:{write:!0}})],je.prototype,"legendOptions",void 0),(0,J._)([(0,ce.Cb)({type:Le.Z,json:{default:null,write:!0}})],je.prototype,"outline",void 0),(0,J._)([(0,ce.Cb)({type:Number,json:{write:!0}})],je.prototype,"dotValue",void 0),(0,J._)([(0,ce.Cb)({type:Number}),(0,Ce.B)("dotValue")],je.prototype,"referenceDotValue",void 0),(0,J._)([(0,ce.Cb)({type:Number,json:{write:!0}})],je.prototype,"referenceScale",void 0),(0,J._)([(0,ce.Cb)({type:Number,json:{write:!0}})],je.prototype,"seed",void 0),(0,J._)([(0,re.J)({dotDensity:"dot-density"})],je.prototype,"type",void 0),je=tt=(0,J._)([(0,be.j)("esri.renderers.DotDensityRenderer")],je);var ve=je},54928:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>fe});var Ae,z=N(15861),J=N(17626),Te=N(91558),Me=N(58817),Ce=N(77712),re=(N(90912),N(8314),N(63290),N(55342)),ce=N(61403),be=N(36630),xe=N(69357),de=N(86162);let me=Ae=class extends de.wq{constructor(Ee){super(Ee),this.color=null,this.ratio=null}clone(){return new Ae({color:this.color,ratio:this.ratio})}};(0,J._)([(0,Ce.Cb)({type:Te.Z,json:{write:!0}})],me.prototype,"color",void 0),(0,J._)([(0,Ce.Cb)({type:Number,json:{write:!0}})],me.prototype,"ratio",void 0),me=Ae=(0,J._)([(0,ce.j)("esri.renderers.support.HeatmapColorStop")],me);var oe,le=me;let se=oe=class extends xe.Z{constructor(Ee){super(Ee),this.blurRadius=10,this.colorStops=[new le({ratio:0,color:new Te.Z("rgba(255, 140, 0, 0)")}),new le({ratio:.75,color:new Te.Z("rgba(255, 140, 0, 1)")}),new le({ratio:.9,color:new Te.Z("rgba(255, 0,   0, 1)")})],this.field=null,this.fieldOffset=0,this.maxPixelIntensity=100,this.minPixelIntensity=0,this.type="heatmap"}collectRequiredFields(Ee,ge){var Ue=this;return(0,z.Z)(function*(){const Fe=Ue.field;Fe&&"string"==typeof Fe&&(0,be.AB)(Ee,ge,Fe)})()}getAttributeHash(){return null}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new oe({blurRadius:this.blurRadius,colorStops:(0,Me.d9)(this.colorStops),field:this.field,maxPixelIntensity:this.maxPixelIntensity,minPixelIntensity:this.minPixelIntensity})}};(0,J._)([(0,Ce.Cb)({type:Number,json:{write:!0}})],se.prototype,"blurRadius",void 0),(0,J._)([(0,Ce.Cb)({type:[le],json:{write:!0}})],se.prototype,"colorStops",void 0),(0,J._)([(0,Ce.Cb)({type:String,json:{write:!0}})],se.prototype,"field",void 0),(0,J._)([(0,Ce.Cb)({type:Number,json:{write:{overridePolicy:(Ee,ge,Ue)=>({enabled:null==Ue})}}})],se.prototype,"fieldOffset",void 0),(0,J._)([(0,Ce.Cb)({type:Number,json:{write:!0}})],se.prototype,"maxPixelIntensity",void 0),(0,J._)([(0,Ce.Cb)({type:Number,json:{write:!0}})],se.prototype,"minPixelIntensity",void 0),(0,J._)([(0,re.J)({heatmap:"heatmap"})],se.prototype,"type",void 0),se=oe=(0,J._)([(0,ce.j)("esri.renderers.HeatmapRenderer")],se);var fe=se},69357:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>de});var z=N(15861),J=N(17626),Te=N(2076),Me=N(86162),Ce=N(77712),re=(N(8314),N(90912),N(63290),N(61403)),ce=N(15312);const be=new Te.Xn({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary"},{ignoreUnknown:!0});let xe=class extends Me.wq{constructor(Ae){super(Ae),this.authoringInfo=null,this.type=null}getRequiredFields(Ae){var me=this;return(0,z.Z)(function*(){if(!me.collectRequiredFields)return[];const le=new Set;return yield me.collectRequiredFields(le,Ae),Array.from(le).sort()})()}getSymbol(Ae,me){}getSymbolAsync(Ae,me){return(0,z.Z)(function*(){})()}getSymbols(){return[]}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};(0,J._)([(0,Ce.Cb)({type:ce.Z,json:{write:!0}})],xe.prototype,"authoringInfo",void 0),(0,J._)([(0,Ce.Cb)({type:be.apiValues,readOnly:!0,json:{type:be.jsonValues,read:!1,write:{writer:be.write,ignoreOrigin:!0}}})],xe.prototype,"type",void 0),xe=(0,J._)([(0,re.j)("esri.renderers.Renderer")],xe);var de=xe},40342:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>me});var de,z=N(15861),J=N(17626),Te=N(58817),Me=N(77712),he=(N(90912),N(8314),N(63290),N(55342)),re=N(61403),ce=N(69357),be=N(2432),xe=N(76457);let Ae=de=class extends((0,be.W)(ce.Z)){constructor(le){super(le),this.description=null,this.label=null,this.symbol=null,this.type="simple"}collectRequiredFields(le,oe){var se=this;return(0,z.Z)(function*(){yield Promise.all([se.collectSymbolFields(le,oe),se.collectVVRequiredFields(le,oe)])})()}collectSymbolFields(le,oe){var se=this;return(0,z.Z)(function*(){yield Promise.all(se.getSymbols().map(fe=>fe.collectRequiredFields(le,oe)))})()}getSymbol(le,oe){return this.symbol}getSymbolAsync(le,oe){var se=this;return(0,z.Z)(function*(){return se.symbol})()}getSymbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((le,oe)=>le+oe.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((le,oe)=>le+JSON.stringify(oe),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new de({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:(0,Te.d9)(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}};(0,J._)([(0,Me.Cb)({type:String,json:{write:!0}})],Ae.prototype,"description",void 0),(0,J._)([(0,Me.Cb)({type:String,json:{write:!0}})],Ae.prototype,"label",void 0),(0,J._)([(0,Me.Cb)(xe.G)],Ae.prototype,"symbol",void 0),(0,J._)([(0,he.J)({simple:"simple"})],Ae.prototype,"type",void 0),Ae=de=(0,J._)([(0,re.j)("esri.renderers.SimpleRenderer")],Ae);var me=Ae},14726:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>ot});var Oe,z=N(15861),J=N(17626),Te=N(65787),Me=N(26584),Ce=N(58817),Ie=N(63290),ye=N(62208),he=N(94113),re=N(77712),ce=N(66656),xe=(N(8314),N(55342)),de=N(68653),Ae=N(61403),me=N(99433),le=N(84682),oe=N(90912),se=N(36630),fe=N(84687),Ee=N(69357),ge=N(2432),Ue=N(76457),Fe=N(10914),Ve=N(87266),Le=N(46679),tt=N(29840),je=N(78241),ve=N(12874);const qe=Ie.Z.getLogger("esri.renderers.UniqueValueRenderer"),He=(0,oe.se)(Ve.Z);let Qe=Oe=class extends((0,ge.W)(Ee.Z)){constructor(Ne){super(Ne),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this.type="unique-value",this.backgroundFillSymbol=null,this.field=null,this.field2=null,this.field3=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.fieldDelimiter=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(Se,$e){if(!Se&&!$e)return;if(!Se||!$e)return{type:"complete",oldValue:Se,newValue:$e};let nt=!1;const ut={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let xt=0;xt<$e.length;xt++){const Ze=Se.find(et=>et.value===$e[xt].value);Ze?(0,le.Hg)(Ze,$e[xt])?(ut.changed.push({type:"complete",oldValue:Ze,newValue:$e[xt]}),nt=!0):ut.unchanged.push({oldValue:Ze,newValue:$e[xt]}):(ut.added.push($e[xt]),nt=!0)}for(let xt=0;xt<Se.length;xt++)$e.find(Ze=>Ze.value===Se[xt].value)||(ut.removed.push(Se[xt]),nt=!0);return nt?ut:void 0}},this._set("uniqueValueInfos",[])}get _cache(){return{compiledFunc:null}}castField(Ne){return null==Ne||"function"==typeof Ne?Ne:(0,oe.Zs)(Ne)}writeField(Ne,Se,$e,nt){"string"==typeof Ne?Se[$e]=Ne:nt&&nt.messages?nt.messages.push(new Me.Z("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):qe.error(".field: cannot write field to JSON since it's not a string value")}set defaultSymbol(Ne){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",Ne)}readPortal(Ne,Se,$e){return $e.portal||fe.Z.getDefault()}readStyleOrigin(Ne,Se,$e){if(Se.styleName)return Object.freeze({styleName:Se.styleName});if(Se.styleUrl){const nt=(0,tt.f)(Se.styleUrl,$e);return Object.freeze({styleUrl:nt})}}writeStyleOrigin(Ne,Se,$e,nt){Ne.styleName?Se.styleName=Ne.styleName:Ne.styleUrl&&(Se.styleUrl=(0,tt.t)(Ne.styleUrl,nt))}set uniqueValueInfos(Ne){this.styleOrigin?qe.error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",Ne),this._updateValueInfoMap())}addUniqueValueInfo(Ne,Se){if(this.styleOrigin)return void qe.error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");let $e;$e="object"==typeof Ne?He(Ne):new Ve.Z({value:Ne,symbol:(0,Te.se)(Se)}),this.uniqueValueInfos.push($e),this._valueInfoMap[$e.value]=$e}removeUniqueValueInfo(Ne){if(this.styleOrigin)qe.error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");else for(let Se=0;Se<this.uniqueValueInfos.length;Se++)if(this.uniqueValueInfos[Se].value===Ne+""){delete this._valueInfoMap[Ne],this.uniqueValueInfos.splice(Se,1);break}}getUniqueValueInfo(Ne,Se){var $e=this;return(0,z.Z)(function*(){let nt=Se;return $e.valueExpression&&((0,ye.Wi)(Se)||(0,ye.Wi)(Se.arcade))&&(nt=fr(ji({},nt),{arcade:yield(0,Le.LC)()})),$e._getUniqueValueInfo(Ne,nt)})()}getSymbol(Ne,Se){if(this.valueExpression&&((0,ye.Wi)(Se)||(0,ye.Wi)(Se.arcade)))return void qe.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const $e=this._getUniqueValueInfo(Ne,Se);return $e&&$e.symbol||this.defaultSymbol}getSymbolAsync(Ne,Se){var $e=this;return(0,z.Z)(function*(){let nt=Se;if($e.valueExpression&&((0,ye.Wi)(nt)||(0,ye.Wi)(nt.arcade))){const xt=yield(0,Le.LC)(),{arcadeUtils:Ze}=xt;Ze.hasGeometryOperations($e.valueExpression)&&(yield Ze.enableGeometryOperations()),nt=fr(ji({},nt),{arcade:xt})}const ut=$e._getUniqueValueInfo(Ne,nt);return ut&&ut.symbol||$e.defaultSymbol})()}getSymbols(){const Ne=[];for(const Se of this.uniqueValueInfos)Se.symbol&&Ne.push(Se.symbol);return this.defaultSymbol&&Ne.push(this.defaultSymbol),Ne}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((Ne,Se)=>Ne+Se.getAttributeHash(),"")}getMeshHash(){return`${JSON.stringify(this.backgroundFillSymbol)}.${JSON.stringify(this.defaultSymbol)}.${this.uniqueValueInfos.reduce((Ne,Se)=>Ne+Se.getMeshHash(),"")}.${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}.${this.valueExpression}`}clone(){const Ne=new Oe({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:(0,Ce.d9)(this.defaultSymbol),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:(0,Ce.d9)(this.visualVariables),legendOptions:(0,Ce.d9)(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:(0,Ce.d9)(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(Ne._isDefaultSymbolDerived=!0),Ne._set("portal",this.portal);const Se=(0,Ce.d9)(this.uniqueValueInfos);return this.styleOrigin&&(Ne._set("styleOrigin",Object.freeze((0,Ce.d9)(this.styleOrigin))),Object.freeze(Se)),Ne._set("uniqueValueInfos",Se),Ne._updateValueInfoMap(),Ne}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}collectRequiredFields(Ne,Se){var $e=this;return(0,z.Z)(function*(){const nt=[$e.collectVVRequiredFields(Ne,Se),$e.collectSymbolFields(Ne,Se)];yield Promise.all(nt)})()}collectSymbolFields(Ne,Se){var $e=this;return(0,z.Z)(function*(){const nt=[...$e.getSymbols().map(ut=>ut.collectRequiredFields(Ne,Se)),(0,se.io)(Ne,Se,$e.valueExpression)];(0,se.AB)(Ne,Se,$e.field),(0,se.AB)(Ne,Se,$e.field2),(0,se.AB)(Ne,Se,$e.field3),yield Promise.all(nt)})()}populateFromStyle(){return(0,je.fetchStyle)(this.styleOrigin,{portal:this.portal}).then(Ne=>{const Se=[];return this._valueInfoMap={},Ne&&Ne.data&&Array.isArray(Ne.data.items)&&Ne.data.items.forEach($e=>{const nt=new ve.Z({styleUrl:Ne.styleUrl,styleName:Ne.styleName,portal:this.portal,name:$e.name});this.defaultSymbol||$e.name!==Ne.data.defaultItem||(this.defaultSymbol=nt,this._isDefaultSymbolDerived=!0);const ut=new Ve.Z({value:$e.name,symbol:nt});Se.push(ut),this._valueInfoMap[$e.name]=ut}),this._set("uniqueValueInfos",Object.freeze(Se)),!this.defaultSymbol&&this.uniqueValueInfos.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this})}_updateValueInfoMap(){this._valueInfoMap={},this.uniqueValueInfos.forEach(Ne=>this._valueInfoMap[Ne.value+""]=Ne)}_getUniqueValueInfo(Ne,Se){return this.valueExpression?this._getUnqiueValueInfoForExpression(Ne,Se):this._getUnqiueValueInfoForFields(Ne)}_getUnqiueValueInfoForExpression(Ne,Se){const{viewingMode:$e,scale:nt,spatialReference:ut,arcade:xt}=(0,ye.Pt)(Se,{});let Ze=this._cache.compiledFunc;const et=(0,ye.Wg)(xt).arcadeUtils;if(!Ze){const Vt=et.createSyntaxTree(this.valueExpression);Ze=et.createFunction(Vt),this._cache.compiledFunc=Ze}const gt=et.executeFunction(Ze,et.createExecContext(Ne,et.getViewInfo({viewingMode:$e,scale:nt,spatialReference:ut})));return this._valueInfoMap[gt+""]}_getUnqiueValueInfoForFields(Ne){const Se=this.field,$e=Ne.attributes;let nt;if("function"!=typeof Se&&this.field2){const ut=this.field2,xt=this.field3,Ze=[];Se&&Ze.push($e[Se]),ut&&Ze.push($e[ut]),xt&&Ze.push($e[xt]),nt=Ze.join(this.fieldDelimiter||"")}else"function"==typeof Se?nt=Se(Ne):Se&&(nt=$e[Se]);return this._valueInfoMap[nt+""]}static fromPortalStyle(Ne,Se){const $e=new Oe(Se&&Se.properties);$e._set("styleOrigin",Object.freeze({styleName:Ne})),$e._set("portal",Se&&Se.portal||fe.Z.getDefault());const nt=$e.populateFromStyle();return nt.catch(ut=>{qe.error(`#fromPortalStyle('${Ne}'[, ...])`,"Failed to create unique value renderer from style name",ut)}),nt}static fromStyleUrl(Ne,Se){const $e=new Oe(Se&&Se.properties);$e._set("styleOrigin",Object.freeze({styleUrl:Ne}));const nt=$e.populateFromStyle();return nt.catch(ut=>{qe.error(`#fromStyleUrl('${Ne}'[, ...])`,"Failed to create unique value renderer from style URL",ut)}),nt}};(0,J._)([(0,re.Cb)({readOnly:!0})],Qe.prototype,"_cache",null),(0,J._)([(0,xe.J)({uniqueValue:"unique-value"})],Qe.prototype,"type",void 0),(0,J._)([(0,re.Cb)(Ue.K)],Qe.prototype,"backgroundFillSymbol",void 0),(0,J._)([(0,re.Cb)({json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],Qe.prototype,"field",void 0),(0,J._)([(0,ce.p)("field")],Qe.prototype,"castField",null),(0,J._)([(0,me.c)("field")],Qe.prototype,"writeField",null),(0,J._)([(0,re.Cb)({type:String,json:{write:!0}})],Qe.prototype,"field2",void 0),(0,J._)([(0,re.Cb)({type:String,json:{write:!0}})],Qe.prototype,"field3",void 0),(0,J._)([(0,re.Cb)({type:String,json:{write:!0}})],Qe.prototype,"valueExpression",void 0),(0,J._)([(0,re.Cb)({type:String,json:{write:!0}})],Qe.prototype,"valueExpressionTitle",void 0),(0,J._)([(0,re.Cb)({type:Fe.Z,json:{write:!0}})],Qe.prototype,"legendOptions",void 0),(0,J._)([(0,re.Cb)({type:String,json:{write:!0}})],Qe.prototype,"defaultLabel",void 0),(0,J._)([(0,re.Cb)((0,he.RH)(ji({},Ue.G),{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],Qe.prototype,"defaultSymbol",null),(0,J._)([(0,re.Cb)({type:String,json:{write:!0}})],Qe.prototype,"fieldDelimiter",void 0),(0,J._)([(0,re.Cb)({type:fe.Z,readOnly:!0})],Qe.prototype,"portal",void 0),(0,J._)([(0,de.r)("portal",["styleName"])],Qe.prototype,"readPortal",null),(0,J._)([(0,re.Cb)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],Qe.prototype,"styleOrigin",void 0),(0,J._)([(0,de.r)("styleOrigin",["styleName","styleUrl"])],Qe.prototype,"readStyleOrigin",null),(0,J._)([(0,me.c)("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],Qe.prototype,"writeStyleOrigin",null),(0,J._)([(0,re.Cb)({type:[Ve.Z],json:{write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],Qe.prototype,"uniqueValueInfos",null),Qe=Oe=(0,J._)([(0,Ae.j)("esri.renderers.UniqueValueRenderer")],Qe);var ot=Qe},2432:(hi,lt,N)=>{"use strict";N.d(lt,{W:()=>$e});var de,z=N(15861),J=N(17626),Te=N(77712),Ce=(N(8314),N(90912)),Ie=N(63290),ye=N(68653),he=N(61403),re=N(99433),ce=N(36630),be=N(17977),xe=N(8029);let Ae=de=class extends be.Z{constructor(nt){super(nt),this.type="color",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(nt){nt&&Array.isArray(nt)&&(nt=nt.filter(ut=>!!ut)).sort((ut,xt)=>ut.value-xt.value),this._set("stops",nt)}clone(){return new de({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(nt=>nt.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(nt=>nt.value||0)}};(0,J._)([(0,Te.Cb)({readOnly:!0})],Ae.prototype,"cache",null),(0,J._)([(0,Te.Cb)({type:["color"],json:{type:["colorInfo"]}})],Ae.prototype,"type",void 0),(0,J._)([(0,Te.Cb)({type:String,json:{write:!0}})],Ae.prototype,"normalizationField",void 0),(0,J._)([(0,Te.Cb)({type:[xe.Z],json:{write:!0}})],Ae.prototype,"stops",null),Ae=de=(0,J._)([(0,he.j)("esri.renderers.visualVariables.ColorVariable")],Ae);var se,me=Ae,le=N(86162),oe=N(92236);let fe=se=class extends le.wq{constructor(nt){super(nt),this.label=null,this.opacity=null,this.value=null}readOpacity(nt,ut){return(0,oe.b)(ut.transparency)}writeOpacity(nt,ut,xt){ut[xt]=(0,oe.a)(nt)}clone(){return new se({label:this.label,opacity:this.opacity,value:this.value})}};(0,J._)([(0,Te.Cb)({type:String,json:{write:!0}})],fe.prototype,"label",void 0),(0,J._)([(0,Te.Cb)({type:Number,json:{type:Ce.z8,write:{target:"transparency"}}})],fe.prototype,"opacity",void 0),(0,J._)([(0,ye.r)("opacity",["transparency"])],fe.prototype,"readOpacity",null),(0,J._)([(0,re.c)("opacity")],fe.prototype,"writeOpacity",null),(0,J._)([(0,Te.Cb)({type:Number,json:{write:!0}})],fe.prototype,"value",void 0),fe=se=(0,J._)([(0,he.j)("esri.renderers.visualVariables.support.OpacityStop")],fe);var ge,Ee=fe;let Ue=ge=class extends be.Z{constructor(nt){super(nt),this.type="opacity",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(nt){nt&&Array.isArray(nt)&&(nt=nt.filter(ut=>!!ut)).sort((ut,xt)=>ut.value-xt.value),this._set("stops",nt)}clone(){return new ge({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(nt=>nt.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(nt=>nt.value||0)}};(0,J._)([(0,Te.Cb)({readOnly:!0})],Ue.prototype,"cache",null),(0,J._)([(0,Te.Cb)({type:["opacity"],json:{type:["transparencyInfo"]}})],Ue.prototype,"type",void 0),(0,J._)([(0,Te.Cb)({type:String,json:{write:!0}})],Ue.prototype,"normalizationField",void 0),(0,J._)([(0,Te.Cb)({type:[Ee],json:{write:!0}})],Ue.prototype,"stops",null),Ue=ge=(0,J._)([(0,he.j)("esri.renderers.visualVariables.OpacityVariable")],Ue);var Fe=Ue,Ve=N(13398),Le=N(68598),tt=N(61458),je=N(2076),ve=N(14889);const Oe=Ie.Z.getLogger("esri.renderers.visualVariables.VisualVariableFactory"),qe={color:me,size:Le.Z,opacity:Fe,rotation:Ve.Z},He=new je.Xn({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),Qe=/^\[([^\]]+)\]$/i;let ot=class extends tt.Z{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(nt){if(this._resetVariables(),(nt=nt&&nt.filter(ut=>!!ut))&&nt.length){for(const ut of nt)switch(ut.type){case"color":this.colorVariables.push(ut);break;case"opacity":this.opacityVariables.push(ut);break;case"rotation":this.rotationVariables.push(ut);break;case"size":this.sizeVariables.push(ut)}this.sizeVariables.length&&this.sizeVariables.some(ut=>!!ut.target)&&nt.sort((ut,xt)=>{let Ze=null;return Ze=ut.target===xt.target?0:ut.target?1:-1,Ze});for(let ut=0;ut<nt.length;ut++)nt[ut].index=ut;this._set("visualVariables",nt)}else this._set("visualVariables",nt)}readVariables(nt,ut,xt){const{rotationExpression:Ze,rotationType:et}=ut,gt=Ze&&Ze.match(Qe),Vt=gt&&gt[1];if(Vt&&(nt||(nt=[]),nt.push({type:"rotationInfo",rotationType:et,field:Vt})),nt)return nt.map(Bt=>{const Lt=He.read(Bt.type),Pt=qe[Lt];Pt||(Oe.warn(`Unknown variable type: ${Lt}`),xt&&xt.messages&&xt.messages.push(new ve.Z("visual-variable:unsupported",`visualVariable of type '${Lt}' is not supported`,{definition:Bt,context:xt})));const dt=new Pt;return dt.read(Bt,xt),dt})}writeVariables(nt,ut){const xt=[];for(const Ze of nt){const et=Ze.toJSON(ut);et&&xt.push(et)}return xt}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};(0,J._)([(0,Te.Cb)()],ot.prototype,"visualVariables",null),ot=(0,J._)([(0,he.j)("esri.renderers.visualVariables.VisualVariableFactory")],ot);var Ne=ot;const Se={base:be.Z,key:"type",typeMap:{opacity:Fe,color:me,rotation:Ve.Z,size:Le.Z}},$e=nt=>{let ut=class extends nt{constructor(){super(...arguments),this._vvFactory=new Ne}set visualVariables(xt){this._vvFactory.visualVariables=xt,this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(xt,Ze,et){return this._vvFactory.readVariables(xt,Ze,et)}writeVisualVariables(xt,Ze,et,gt){Ze[et]=this._vvFactory.writeVariables(xt,gt)}get arcadeRequiredForVisualVariables(){if(!this.visualVariables)return!1;for(const xt of this.visualVariables)if(xt.arcadeRequired)return!0;return!1}hasVisualVariables(xt,Ze){return xt?this.getVisualVariablesForType(xt,Ze).length>0:this.getVisualVariablesForType("size",Ze).length>0||this.getVisualVariablesForType("color",Ze).length>0||this.getVisualVariablesForType("opacity",Ze).length>0||this.getVisualVariablesForType("rotation",Ze).length>0}getVisualVariablesForType(xt,Ze){const et=this.visualVariables;return et?et.filter(gt=>gt.type===xt&&("string"==typeof Ze?gt.target===Ze:!1!==Ze||!gt.target)):[]}collectVVRequiredFields(xt,Ze){var et=this;return(0,z.Z)(function*(){let gt=[];et.visualVariables&&(gt=gt.concat(et.visualVariables));for(const Vt of gt)Vt&&(Vt.field&&(0,ce.AB)(xt,Ze,Vt.field),Vt.normalizationField&&(0,ce.AB)(xt,Ze,Vt.normalizationField),Vt.valueExpression&&(yield(0,ce.io)(xt,Ze,Vt.valueExpression)))})()}};return(0,J._)([(0,Te.Cb)({types:[Se],value:null,json:{write:!0}})],ut.prototype,"visualVariables",null),(0,J._)([(0,ye.r)("visualVariables",["visualVariables","rotationType","rotationExpression"])],ut.prototype,"readVisualVariables",null),(0,J._)([(0,re.c)("visualVariables")],ut.prototype,"writeVisualVariables",null),ut=(0,J._)([(0,he.j)("esri.renderers.mixins.VisualVariablesMixin")],ut),ut}},15312:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>Se});var be,z=N(17626),J=N(2076),Te=N(86162),Me=N(58817),Ce=N(77712),Ie=N(90912),re=(N(8314),N(63290),N(68653)),ce=N(61403);let xe=be=class extends Te.wq{constructor($e){super($e),this.minValue=0,this.maxValue=0}clone(){return new be({minValue:this.minValue,maxValue:this.maxValue})}};(0,z._)([(0,Ce.Cb)({type:Number,json:{write:!0}})],xe.prototype,"minValue",void 0),(0,z._)([(0,Ce.Cb)({type:Number,json:{write:!0}})],xe.prototype,"maxValue",void 0),xe=be=(0,z._)([(0,ce.j)("esri.renderer.support.AuthoringInfoClassBreakInfo")],xe);var Ae,de=xe;let me=Ae=class extends Te.wq{constructor($e){super($e),this.field="",this.normalizationField="",this.label="",this.classBreakInfos=[]}clone(){return new Ae({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:(0,Me.d9)(this.classBreakInfos)})}};(0,z._)([(0,Ce.Cb)({type:String,json:{write:!0}})],me.prototype,"field",void 0),(0,z._)([(0,Ce.Cb)({type:String,json:{write:!0}})],me.prototype,"normalizationField",void 0),(0,z._)([(0,Ce.Cb)({type:String,json:{write:!0}})],me.prototype,"label",void 0),(0,z._)([(0,Ce.Cb)({type:[de],json:{write:!0}})],me.prototype,"classBreakInfos",void 0),me=Ae=(0,z._)([(0,ce.j)("esri.renderers.support.AuthoringInfoFieldInfo")],me);var se,le=me,oe=N(66656);const fe=new J.Xn({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),Ee=new J.Xn({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),ge={key:$e=>"number"==typeof $e?"number":"string",typeMap:{number:Number,string:String},base:null},Ue=["high-to-low","above-and-below","centered-on","extremes"],Fe=[...new Set(["high-to-low","above-and-below","centered-on","extremes","90-10","above","below","high-to-low","above-and-below","90-10","above","below"])],Ve=["seconds","minutes","hours","days","months","years"];let Le=se=class extends Te.wq{constructor($e){super($e),this.endTime=null,this.field=null,this.maxSliderValue=null,this.minSliderValue=null,this.startTime=null,this.type=null,this.units=null}castEndTime($e){return"string"==typeof $e||"number"==typeof $e?$e:null}castStartTime($e){return"string"==typeof $e||"number"==typeof $e?$e:null}get style(){return"color"===this.type?this._get("style"):null}set style($e){this._set("style",$e)}get theme(){return"color"===this.type||"size"===this.type?this._get("theme")||"high-to-low":null}set theme($e){this._set("theme",$e)}clone(){return new se({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};(0,z._)([(0,Ce.Cb)({types:ge,json:{write:!0}})],Le.prototype,"endTime",void 0),(0,z._)([(0,oe.p)("endTime")],Le.prototype,"castEndTime",null),(0,z._)([(0,Ce.Cb)({type:String,json:{write:!0}})],Le.prototype,"field",void 0),(0,z._)([(0,Ce.Cb)({type:Number,json:{write:!0}})],Le.prototype,"maxSliderValue",void 0),(0,z._)([(0,Ce.Cb)({type:Number,json:{write:!0}})],Le.prototype,"minSliderValue",void 0),(0,z._)([(0,Ce.Cb)({types:ge,json:{write:!0}})],Le.prototype,"startTime",void 0),(0,z._)([(0,oe.p)("startTime")],Le.prototype,"castStartTime",null),(0,z._)([(0,Ce.Cb)({type:fe.apiValues,value:null,json:{type:fe.jsonValues,read:fe.read,write:fe.write}})],Le.prototype,"style",null),(0,z._)([(0,Ce.Cb)({type:Fe,value:null,json:{type:Fe,origins:{"web-scene":{type:Ue,write:{writer:($e,nt)=>{Ue.indexOf($e)>-1&&(nt.theme=$e)}}}},write:!0}})],Le.prototype,"theme",null),(0,z._)([(0,Ce.Cb)({type:Ee.apiValues,json:{type:Ee.jsonValues,read:Ee.read,write:Ee.write}})],Le.prototype,"type",void 0),(0,z._)([(0,Ce.Cb)({type:Ve,json:{type:Ve,write:!0}})],Le.prototype,"units",void 0),Le=se=(0,z._)([(0,ce.j)("esri.renderers.support.AuthoringInfoVisualVariable")],Le);var ve,tt=Le,je=N(79023);const Oe=new J.Xn({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),qe=new J.Xn({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),He=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers","decimal-degrees"];let Ne=ve=class extends Te.wq{constructor($e){super($e),this.colorRamp=null,this.lengthUnit=null,this.maxSliderValue=null,this.minSliderValue=null,this.visualVariables=null}get classificationMethod(){const $e=this._get("classificationMethod"),nt=this.type;return nt&&"relationship"!==nt?"class-breaks-size"===nt||"class-breaks-color"===nt?$e||"manual":null:$e}set classificationMethod($e){this._set("classificationMethod",$e)}readColorRamp($e){if($e)return(0,je.i)($e)}get fields(){return this.type&&"predominance"!==this.type?null:this._get("fields")}set fields($e){this._set("fields",$e)}get field1(){return this.type&&"relationship"!==this.type?null:this._get("field1")}set field1($e){this._set("field1",$e)}get field2(){return this.type&&"relationship"!==this.type?null:this._get("field2")}set field2($e){this._set("field2",$e)}get focus(){return this.type&&"relationship"!==this.type?null:this._get("focus")}set focus($e){this._set("focus",$e)}get numClasses(){return this.type&&"relationship"!==this.type?null:this._get("numClasses")}set numClasses($e){this._set("numClasses",$e)}get statistics(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("statistics"):null}set statistics($e){this._set("statistics",$e)}get standardDeviationInterval(){const $e=this.type;return $e&&"relationship"!==$e&&"class-breaks-size"!==$e&&"class-breaks-color"!==$e||this.classificationMethod&&"standard-deviation"!==this.classificationMethod?null:this._get("standardDeviationInterval")}set standardDeviationInterval($e){this._set("standardDeviationInterval",$e)}get type(){return this._get("type")}set type($e){let nt=$e;"classed-size"===$e?nt="class-breaks-size":"classed-color"===$e&&(nt="class-breaks-color"),this._set("type",nt)}get univariateSymbolStyle(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle($e){this._set("univariateSymbolStyle",$e)}get univariateTheme(){return"univariate-color-size"===this.type?this._get("univariateTheme"):null}set univariateTheme($e){this._set("univariateTheme",$e)}clone(){return new ve({classificationMethod:this.classificationMethod,colorRamp:(0,Me.d9)(this.colorRamp),fields:this.fields&&this.fields.slice(0),field1:(0,Me.d9)(this.field1),field2:(0,Me.d9)(this.field2),focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map($e=>$e.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme})}};(0,z._)([(0,Ce.Cb)({type:Oe.apiValues,value:null,json:{type:Oe.jsonValues,read:Oe.read,write:Oe.write,origins:{"web-document":{default:"manual",type:Oe.jsonValues,read:Oe.read,write:Oe.write}}}})],Ne.prototype,"classificationMethod",null),(0,z._)([(0,Ce.Cb)({types:je.V,json:{write:!0}})],Ne.prototype,"colorRamp",void 0),(0,z._)([(0,re.r)("colorRamp")],Ne.prototype,"readColorRamp",null),(0,z._)([(0,Ce.Cb)({type:[String],value:null,json:{write:!0}})],Ne.prototype,"fields",null),(0,z._)([(0,Ce.Cb)({type:le,value:null,json:{write:!0}})],Ne.prototype,"field1",null),(0,z._)([(0,Ce.Cb)({type:le,value:null,json:{write:!0}})],Ne.prototype,"field2",null),(0,z._)([(0,Ce.Cb)({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],Ne.prototype,"focus",null),(0,z._)([(0,Ce.Cb)({type:Number,value:null,json:{type:Ie.z8,write:!0}})],Ne.prototype,"numClasses",null),(0,z._)([(0,Ce.Cb)({type:He,json:{type:He,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],Ne.prototype,"lengthUnit",void 0),(0,z._)([(0,Ce.Cb)({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Ne.prototype,"maxSliderValue",void 0),(0,z._)([(0,Ce.Cb)({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Ne.prototype,"minSliderValue",void 0),(0,z._)([(0,Ce.Cb)({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Ne.prototype,"statistics",null),(0,z._)([(0,Ce.Cb)({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],Ne.prototype,"standardDeviationInterval",null),(0,z._)([(0,Ce.Cb)({type:qe.apiValues,value:null,json:{type:qe.jsonValues,read:qe.read,write:qe.write}})],Ne.prototype,"type",null),(0,z._)([(0,Ce.Cb)({type:[tt],json:{write:!0}})],Ne.prototype,"visualVariables",void 0),(0,z._)([(0,Ce.Cb)({type:["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Ne.prototype,"univariateSymbolStyle",null),(0,z._)([(0,Ce.Cb)({type:["high-to-low","above-and-below","above","below","90-10"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Ne.prototype,"univariateTheme",null),Ne=ve=(0,z._)([(0,ce.j)("esri.renderers.support.AuthoringInfo")],Ne);var Se=Ne},74400:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>xe});var ce,z=N(17626),J=N(65787),Te=N(86162),Me=N(77712),he=(N(8314),N(90912),N(63290),N(61403)),re=N(65270);let be=ce=class extends Te.wq{constructor(de){super(de),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){return new ce({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const de=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${de}`}};(0,z._)([(0,Me.Cb)({type:String,json:{write:!0}})],be.prototype,"description",void 0),(0,z._)([(0,Me.Cb)({type:String,json:{write:!0}})],be.prototype,"label",void 0),(0,z._)([(0,Me.Cb)({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],be.prototype,"minValue",void 0),(0,z._)([(0,Me.Cb)({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],be.prototype,"maxValue",void 0),(0,z._)([(0,Me.Cb)({types:J.QT,json:{origins:{"web-scene":{types:J.f_,write:re.c}},write:re.c}})],be.prototype,"symbol",void 0),be=ce=(0,z._)([(0,he.j)("esri.renderers.support.ClassBreakInfo")],be);var xe=be},10914:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>ce});var he,z=N(17626),J=N(86162),Te=N(77712),ye=(N(8314),N(90912),N(63290),N(61403));let re=he=class extends J.wq{constructor(){super(...arguments),this.title=null}clone(){return new he({title:this.title})}};(0,z._)([(0,Te.Cb)({type:String,json:{write:!0}})],re.prototype,"title",void 0),re=he=(0,z._)([(0,ye.j)("esri.renderers.support.LegendOptions")],re);var ce=re},87266:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>xe});var ce,z=N(17626),J=N(65787),Te=N(86162),Me=N(77712),he=(N(8314),N(90912),N(63290),N(61403)),re=N(65270);let be=ce=class extends Te.wq{constructor(de){super(de),this.description=null,this.label=null,this.symbol=null,this.value=null}clone(){return new ce({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const de=JSON.stringify(this.symbol&&this.symbol.toJSON());return`${this.value}.${de}`}};(0,z._)([(0,Me.Cb)({type:String,json:{write:!0}})],be.prototype,"description",void 0),(0,z._)([(0,Me.Cb)({type:String,json:{write:!0}})],be.prototype,"label",void 0),(0,z._)([(0,Me.Cb)({types:J.QT,json:{origins:{"web-scene":{types:J.f_,write:re.c}},write:re.c}})],be.prototype,"symbol",void 0),(0,z._)([(0,Me.Cb)({type:[String,Number],json:{type:String,write:{writer:(de,Ae)=>{Ae.value=null==de?void 0:de.toString()}}}})],be.prototype,"value",void 0),be=ce=(0,z._)([(0,he.j)("esri.renderers.support.UniqueValueInfo")],be);var xe=be},76457:(hi,lt,N)=>{"use strict";N.d(lt,{K:()=>Ie,G:()=>Ce});var z=N(65787),J=N(65270),Te=N(10012),Me=N(89673);const Ce={types:z.QT,json:{write:{writer:J.c},origins:{"web-scene":{types:z.f_,write:{writer:J.c}}}}},Ie={types:{base:Te.Z,key:"type",typeMap:{"simple-fill":z.LB.typeMap["simple-fill"],"picture-fill":z.LB.typeMap["picture-fill"],"polygon-3d":z.LB.typeMap["polygon-3d"]}},json:{write:{writer:J.c},origins:{"web-scene":{type:Me.Z,write:{writer:J.c}}}}}},33474:(hi,lt,N)=>{"use strict";N.d(lt,{im:()=>ce,ij:()=>xe,cW:()=>ye}),N(8314);var J=N(26584),Te=N(94113),Me=N(14889),Ce=N(383),Ie=N(32088);function ye(de,Ae,me,le){const oe=function(de,Ae){return de?function(de,Ae){if(!Ae||"web-scene"!==Ae.origin)return!0;switch(de.type){case"simple":case"unique-value":case"class-breaks":return!0;default:return!1}}(de,Ae)?de.write({},Ae):(Ae.messages&&Ae.messages.push(new J.Z("renderer:unsupported",`Renderer of type '${de.declaredClass}' are not supported in scenes.`,{renderer:de,context:Ae})),null):null}(de,le);oe&&(0,Te.RB)(me,oe,Ae)}function ce(de,Ae){return xe(de,null,Ae)}const be=(0,Ce.d)({types:Ie.A});function xe(de,Ae,me){return de?de&&(de.styleName||de.styleUrl)&&"uniqueValue"!==de.type?(me&&me.messages&&me.messages.push(new Me.Z("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+de.type+"'",{definition:de,context:me})),null):be(de,Ae,me):null}},21254:(hi,lt,N)=>{"use strict";N.d(lt,{a:()=>Te});var z=N(16730),J=N(94425);const Te={inches:(0,z.En)(1,"meters","inches"),feet:(0,z.En)(1,"meters","feet"),"us-feet":(0,z.En)(1,"meters","us-feet"),yards:(0,z.En)(1,"meters","yards"),miles:(0,z.En)(1,"meters","miles"),"nautical-miles":(0,z.En)(1,"meters","nautical-miles"),millimeters:(0,z.En)(1,"meters","millimeters"),centimeters:(0,z.En)(1,"meters","centimeters"),decimeters:(0,z.En)(1,"meters","decimeters"),meters:(0,z.En)(1,"meters","meters"),kilometers:(0,z.En)(1,"meters","kilometers"),"decimal-degrees":1/(0,z.ty)(1,"meters",J.sv.radius)}},39683:(hi,lt,N)=>{"use strict";N.d(lt,{y:()=>Ce});var z=N(15861),J=N(59213),Te=N(10699),Me=N(14889);function Ce(ye,he,re){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,z.Z)(function*(ye,he,re){const ce=ye&&ye.getAtOrigin&&ye.getAtOrigin("renderer",he.origin);if(ce&&"unique-value"===ce.type&&ce.styleOrigin){const be=yield(0,J.q6)(ce.populateFromStyle());if((0,Te.k_)(re),!1===be.ok){const xe=be.error;he&&he.messages&&he.messages.push(new Me.Z("renderer:style-reference",`Failed to create unique value renderer from style reference: ${xe.message}`,{error:xe,context:he})),ye.clear("renderer",he.origin)}}})).apply(this,arguments)}},32088:(hi,lt,N)=>{"use strict";N.d(lt,{A:()=>he,o:()=>re});var z=N(4832),J=N(49067),Te=N(26284),Me=N(54928),Ce=N(69357),Ie=N(40342),ye=N(14726);const he={key:"type",base:Ce.Z,typeMap:{heatmap:Me.Z,simple:Ie.Z,"unique-value":ye.Z,"class-breaks":z.Z,"dot-density":Te.Z,dictionary:J.default},errorContext:"renderer"},re={key:"type",base:Ce.Z,typeMap:{simple:Ie.Z,"unique-value":ye.Z,"class-breaks":z.Z},errorContext:"renderer"}},13398:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>xe});var ce,z=N(17626),J=N(26584),Te=N(77712),ye=(N(8314),N(90912),N(63290),N(61403)),he=N(99433),re=N(17977);let be=ce=class extends re.Z{constructor(de){super(de),this.axis=null,this.type="rotation",this.rotationType="geographic",this.valueExpressionTitle=null}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}writeValueExpressionTitleWebScene(de,Ae,me,le){le&&le.messages&&le.messages.push(new J.Z("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:`visualVariables[${this.index}].valueExpressionTitle`,context:le}))}clone(){return new ce({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions&&this.legendOptions.clone()})}};(0,z._)([(0,Te.Cb)({readOnly:!0})],be.prototype,"cache",null),(0,z._)([(0,Te.Cb)({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],be.prototype,"axis",void 0),(0,z._)([(0,Te.Cb)({type:["rotation"],json:{type:["rotationInfo"]}})],be.prototype,"type",void 0),(0,z._)([(0,Te.Cb)({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],be.prototype,"rotationType",void 0),(0,z._)([(0,Te.Cb)({type:String,json:{write:!0}})],be.prototype,"valueExpressionTitle",void 0),(0,z._)([(0,he.c)("web-scene","valueExpressionTitle")],be.prototype,"writeValueExpressionTitleWebScene",null),be=ce=(0,z._)([(0,ye.j)("esri.renderers.visualVariables.RotationVariable")],be);var xe=be},68598:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>ve});var le,z=N(17626),J=N(26584),Te=N(2076),Me=N(63290),Ce=N(23841),Ie=N(77712),he=(N(8314),N(66656)),re=N(68653),ce=N(61403),be=N(99433),xe=N(17977),de=N(64902),me=(N(90912),N(11333));let oe=le=class extends me.Z{constructor(){super(...arguments),this.customValues=null}clone(){return new le({title:this.title,showLegend:this.showLegend,customValues:this.customValues&&this.customValues.slice(0)})}};(0,z._)([(0,Ie.Cb)({type:[Number],json:{write:!0}})],oe.prototype,"customValues",void 0),oe=le=(0,z._)([(0,ce.j)("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],oe);var ge,se=oe,fe=N(86971),Ee=N(81808);const Ue=Me.Z.getLogger("esri.renderers.visualVariables.SizeVariable"),Fe=new Te.Xn({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),Ve=new Te.Xn({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"});function Le(Oe){if(null!=Oe)return"string"==typeof Oe||"number"==typeof Oe?(0,Ce.t_)(Oe):"size"===Oe.type?(0,fe.iY)(Oe)?Oe:(delete(Oe=ji({},Oe)).type,new je(Oe)):void 0}function tt(Oe,qe,He){if("object"!=typeof Oe)return Oe;const Qe=new je;return Qe.read(Oe,He),Qe}let je=ge=class extends xe.Z{constructor(Oe){super(Oe),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type="size",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:Ee.viewScaleRE.test(this.valueExpression)}}set expression(Oe){Ue.warn("'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'."),"view.scale"===Oe?(this.valueExpression="$view.scale",this._set("expression",Oe)):this._set("expression",null)}set index(Oe){(0,fe.iY)(this.maxSize)&&(this.maxSize.index=`visualVariables[${Oe}].maxSize`),(0,fe.iY)(this.minSize)&&(this.minSize.index=`visualVariables[${Oe}].minSize`),this._set("index",Oe)}get inputValueType(){return(0,fe.PS)(this)}set maxDataValue(Oe){Oe&&this.stops&&(Ue.warn("cannot set maxDataValue when stops is not null."),Oe=null),this._set("maxDataValue",Oe)}set maxSize(Oe){Oe&&this.stops&&(Ue.warn("cannot set maxSize when stops is not null."),Oe=null),this._set("maxSize",Oe)}castMaxSize(Oe){return Le(Oe)}readMaxSize(Oe,qe,He){return tt(Oe,0,He)}set minDataValue(Oe){Oe&&this.stops&&(Ue.warn("cannot set minDataValue when stops is not null."),Oe=null),this._set("minDataValue",Oe)}set minSize(Oe){Oe&&this.stops&&(Ue.warn("cannot set minSize when stops is not null."),Oe=null),this._set("minSize",Oe)}castMinSize(Oe){return Le(Oe)}readMinSize(Oe,qe,He){return tt(Oe,0,He)}get arcadeRequired(){return!!this.valueExpression||this.minSize&&"object"==typeof this.minSize&&this.minSize.arcadeRequired||this.maxSize&&"object"==typeof this.maxSize&&this.maxSize.arcadeRequired}set stops(Oe){null==this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?Oe&&Array.isArray(Oe)&&(Oe=Oe.filter(qe=>!!qe)).sort((qe,He)=>qe.value-He.value):Oe&&(Ue.warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),Oe=null),this._set("stops",Oe)}get transformationType(){return(0,fe.QW)(this,this.inputValueType)}readValueExpression(Oe,qe){return Oe||qe.expression&&"$view.scale"}writeValueExpressionWebScene(Oe,qe,He,Qe){if("$view.scale"===Oe){if(Qe&&Qe.messages){const ot=this.index;Qe.messages.push(new J.Z("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:("string"==typeof ot?ot:`visualVariables[${ot}]`)+".valueExpression",context:Qe}))}}else qe[He]=Oe}readValueUnit(Oe){return Oe?Ve.read(Oe):null}clone(){return new ge({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:(0,fe.iY)(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:(0,fe.iY)(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map(Oe=>Oe.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone()})}flipSizes(){if("clamped-linear"===this.transformationType){const{minSize:Oe,maxSize:qe}=this;return this.minSize=qe,this.maxSize=Oe,this}if("stops"===this.transformationType){const Oe=this.stops,qe=Oe.map(Qe=>Qe.size).reverse(),He=Oe.length;for(let Qe=0;Qe<He;Qe++)Oe[Qe].size=qe[Qe];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(Oe=>Oe.value||0)}};(0,z._)([(0,Ie.Cb)({readOnly:!0})],je.prototype,"cache",null),(0,z._)([(0,Ie.Cb)({type:Fe.apiValues,json:{type:Fe.jsonValues,origins:{"web-map":{read:!1}},read:Fe.read,write:Fe.write}})],je.prototype,"axis",void 0),(0,z._)([(0,Ie.Cb)({type:String,value:null,json:{read:!1}})],je.prototype,"expression",null),(0,z._)([(0,Ie.Cb)()],je.prototype,"index",null),(0,z._)([(0,Ie.Cb)({type:String,readOnly:!0})],je.prototype,"inputValueType",null),(0,z._)([(0,Ie.Cb)({type:se,json:{write:!0}})],je.prototype,"legendOptions",void 0),(0,z._)([(0,Ie.Cb)({type:Number,value:null,json:{write:!0}})],je.prototype,"maxDataValue",null),(0,z._)([(0,Ie.Cb)({type:Number,value:null,json:{write:!0}})],je.prototype,"maxSize",null),(0,z._)([(0,he.p)("maxSize")],je.prototype,"castMaxSize",null),(0,z._)([(0,re.r)("maxSize")],je.prototype,"readMaxSize",null),(0,z._)([(0,Ie.Cb)({type:Number,value:null,json:{write:!0}})],je.prototype,"minDataValue",null),(0,z._)([(0,Ie.Cb)({type:Number,value:null,json:{write:!0}})],je.prototype,"minSize",null),(0,z._)([(0,he.p)("minSize")],je.prototype,"castMinSize",null),(0,z._)([(0,re.r)("minSize")],je.prototype,"readMinSize",null),(0,z._)([(0,Ie.Cb)({type:String,json:{write:!0}})],je.prototype,"normalizationField",void 0),(0,z._)([(0,Ie.Cb)({readOnly:!0})],je.prototype,"arcadeRequired",null),(0,z._)([(0,Ie.Cb)({type:String})],je.prototype,"scaleBy",void 0),(0,z._)([(0,Ie.Cb)({type:[de.Z],value:null,json:{write:!0}})],je.prototype,"stops",null),(0,z._)([(0,Ie.Cb)({type:["outline"],json:{write:!0}})],je.prototype,"target",void 0),(0,z._)([(0,Ie.Cb)({type:String,readOnly:!0})],je.prototype,"transformationType",null),(0,z._)([(0,Ie.Cb)({type:["size"],json:{type:["sizeInfo"]}})],je.prototype,"type",void 0),(0,z._)([(0,Ie.Cb)({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],je.prototype,"useSymbolValue",void 0),(0,z._)([(0,Ie.Cb)({type:String,json:{write:!0}})],je.prototype,"valueExpression",void 0),(0,z._)([(0,re.r)("valueExpression",["valueExpression","expression"])],je.prototype,"readValueExpression",null),(0,z._)([(0,be.c)("web-scene","valueExpression")],je.prototype,"writeValueExpressionWebScene",null),(0,z._)([(0,Ie.Cb)({type:["radius","diameter","area","width","distance"],json:{write:!0}})],je.prototype,"valueRepresentation",void 0),(0,z._)([(0,Ie.Cb)({type:Ve.apiValues,json:{write:Ve.write,origins:{"web-map":{read:!1},"web-scene":{write:!0}}}})],je.prototype,"valueUnit",void 0),(0,z._)([(0,re.r)("valueUnit")],je.prototype,"readValueUnit",null),je=ge=(0,z._)([(0,ce.j)("esri.renderers.visualVariables.SizeVariable")],je);var ve=je},17977:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>Ae});var z=N(17626),J=N(2076),Te=N(86162),Me=N(63290),Ce=N(77712),ye=(N(8314),N(66656)),he=N(61403),re=N(90912),ce=N(11333);const be=Me.Z.getLogger("esri.renderers.visualVariables.VisualVariable"),xe=new J.Xn({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});let de=class extends Te.wq{constructor(me){super(me),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(me){return null==me?me:"function"==typeof me?(be.error(".field: field must be a string value"),null):(0,re.Zs)(me)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};(0,z._)([(0,Ce.Cb)()],de.prototype,"index",void 0),(0,z._)([(0,Ce.Cb)({type:xe.apiValues,readOnly:!0,json:{read:xe.read,write:xe.write}})],de.prototype,"type",void 0),(0,z._)([(0,Ce.Cb)({type:String,json:{write:!0}})],de.prototype,"field",void 0),(0,z._)([(0,ye.p)("field")],de.prototype,"castField",null),(0,z._)([(0,Ce.Cb)({type:String,json:{write:!0}})],de.prototype,"valueExpression",void 0),(0,z._)([(0,Ce.Cb)({type:String,json:{write:!0}})],de.prototype,"valueExpressionTitle",void 0),(0,z._)([(0,Ce.Cb)({readOnly:!0})],de.prototype,"arcadeRequired",null),(0,z._)([(0,Ce.Cb)({type:ce.Z,json:{write:!0}})],de.prototype,"legendOptions",void 0),de=(0,z._)([(0,he.j)("esri.renderers.visualVariables.VisualVariable")],de);var Ae=de},8029:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>xe});var ce,z=N(17626),J=N(91558),Te=N(86162),Me=N(77712),Ie=(N(8314),N(90912)),he=(N(63290),N(61403)),re=N(99433);let be=ce=class extends Te.wq{constructor(de){super(de),this.color=null,this.label=null,this.value=null}writeValue(de,Ae,me){Ae[me]=null==de?0:de}clone(){return new ce({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};(0,z._)([(0,Me.Cb)({type:J.Z,json:{type:[Ie.z8],write:!0}})],be.prototype,"color",void 0),(0,z._)([(0,Me.Cb)({type:String,json:{write:!0}})],be.prototype,"label",void 0),(0,z._)([(0,Me.Cb)({type:Number,json:{write:{allowNull:!0}}})],be.prototype,"value",void 0),(0,z._)([(0,re.c)("value")],be.prototype,"writeValue",null),be=ce=(0,z._)([(0,he.j)("esri.renderers.visualVariables.support.ColorStop")],be);var xe=be},64902:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>be});var re,z=N(17626),J=N(86162),Te=N(23841),Me=N(77712),he=(N(8314),N(90912),N(63290),N(61403));let ce=re=class extends J.wq{constructor(xe){super(xe),this.label=null,this.size=null,this.value=null}clone(){return new re({label:this.label,size:this.size,value:this.value})}};(0,z._)([(0,Me.Cb)({type:String,json:{write:!0}})],ce.prototype,"label",void 0),(0,z._)([(0,Me.Cb)({type:Number,cast:Te.t_,json:{write:!0}})],ce.prototype,"size",void 0),(0,z._)([(0,Me.Cb)({type:Number,json:{write:!0}})],ce.prototype,"value",void 0),ce=re=(0,z._)([(0,he.j)("esri.renderers.visualVariables.support.SizeStop")],ce);var be=ce},11333:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>ce});var he,z=N(17626),J=N(77712),Ie=(N(8314),N(90912),N(63290),N(61403)),ye=N(10914);let re=he=class extends ye.Z{constructor(){super(...arguments),this.showLegend=null}clone(){return new he({title:this.title,showLegend:this.showLegend})}};(0,z._)([(0,J.Cb)({type:Boolean,json:{write:!0}})],re.prototype,"showLegend",void 0),re=he=(0,z._)([(0,Ie.j)("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],re);var ce=re},86971:(hi,lt,N)=>{"use strict";function z(Ce){return Ce&&"esri.renderers.visualVariables.SizeVariable"===Ce.declaredClass}function J(Ce){return null!=Ce&&!isNaN(Ce)&&isFinite(Ce)}function Te(Ce){return Ce.valueExpression?"expression":Ce.field&&"string"==typeof Ce.field?"field":"unknown"}function Me(Ce,Ie){return"unknown"===(Ie||Te(Ce))?"constant":Ce.stops?"stops":null!=Ce.minSize&&null!=Ce.maxSize&&null!=Ce.minDataValue&&null!=Ce.maxDataValue?"clamped-linear":"unknown"===(Ce.valueUnit||"unknown")?null!=Ce.minSize&&null!=Ce.minDataValue?Ce.minSize&&Ce.minDataValue?"proportional":"additive":"identity":"real-world-size"}N.d(lt,{PS:()=>Te,QW:()=>Me,iY:()=>z,qh:()=>J})},81808:(hi,lt,N)=>{"use strict";N.r(lt),N.d(lt,{getAllSizes:()=>He,getColor:()=>xe,getOpacity:()=>de,getRotationAngle:()=>Ae,getSize:()=>oe,getSizeForValue:()=>je,getSizeFromNumberOrVariable:()=>se,getSizeRangeAtScale:()=>ve,getVisualVariableValues:()=>Oe,viewScaleRE:()=>be});var z=N(91558),J=N(88879),Te=N(94573),Me=N(63290),Ce=N(62208),Ie=N(21254),ye=N(86971);const he=Me.Z.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),re=new J.Z,ce=Math.PI,be=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function xe(Qe,ot,Ne){const Se="visualVariables"in Qe&&Qe.visualVariables?Qe.visualVariables.filter(Pt=>"color"===Pt.type)[0]:Qe;if(!Se)return;if("esri.renderers.visualVariables.ColorVariable"!==Se.declaredClass)return void he.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");const $e="number"==typeof ot,nt=$e?null:ot,ut=nt&&nt.attributes;let xt=$e?ot:null;const Ze=Se.field,{ipData:et,hasExpression:gt}=Se.cache;let Vt=Se.cache.compiledFunc;if(!Ze&&!gt){const Pt=Se.stops;return Pt&&Pt[0]&&Pt[0].color}if("number"!=typeof xt)if(gt){if(!(0,Ce.pC)(Ne)||!(0,Ce.pC)(Ne.arcade))return void he.error("Use of arcade expressions requires an arcade context");const dt=Ne.arcade.arcadeUtils,jt=dt.getViewInfo({viewingMode:Ne.viewingMode,scale:Ne.scale,spatialReference:Ne.spatialReference}),Rt=dt.createExecContext(nt,jt);if(!Vt){const _e=dt.createSyntaxTree(Se.valueExpression);Vt=dt.createFunction(_e),Se.cache.compiledFunc=Vt}xt=dt.executeFunction(Vt,Rt)}else ut&&(xt=ut[Ze]);const Bt=Se.normalizationField,Lt=ut?parseFloat(ut[Bt]):void 0;if(null!=xt&&(!Bt||$e||!isNaN(Lt)&&0!==Lt)){isNaN(Lt)||$e||(xt/=Lt);const Pt=qe(xt,et);if(Pt){const dt=Pt[0],jt=Pt[1],Rt=dt===jt?Se.stops[dt].color:z.Z.blendColors(Se.stops[dt].color,Se.stops[jt].color,Pt[2],(0,Ce.pC)(Ne)?Ne.color:void 0);return new z.Z(Rt)}}}function de(Qe,ot,Ne){const Se="visualVariables"in Qe&&Qe.visualVariables?Qe.visualVariables.filter(Pt=>"opacity"===Pt.type)[0]:Qe;if(!Se)return;if("esri.renderers.visualVariables.OpacityVariable"!==Se.declaredClass)return void he.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");const $e="number"==typeof ot,nt=$e?null:ot,ut=nt&&nt.attributes;let xt=$e?ot:null;const Ze=Se.field,{ipData:et,hasExpression:gt}=Se.cache;let Vt=Se.cache.compiledFunc;if(!Ze&&!gt){const Pt=Se.stops;return Pt&&Pt[0]&&Pt[0].opacity}if("number"!=typeof xt)if(gt){if((0,Ce.Wi)(Ne)||(0,Ce.Wi)(Ne.arcade))return void he.error("Use of arcade expressions requires an arcade context");const dt=Ne.arcade.arcadeUtils,jt=dt.getViewInfo({viewingMode:Ne.viewingMode,scale:Ne.scale,spatialReference:Ne.spatialReference}),Rt=dt.createExecContext(nt,jt);if(!Vt){const _e=dt.createSyntaxTree(Se.valueExpression);Vt=dt.createFunction(_e),Se.cache.compiledFunc=Vt}xt=dt.executeFunction(Vt,Rt)}else ut&&(xt=ut[Ze]);const Bt=Se.normalizationField,Lt=ut?parseFloat(ut[Bt]):void 0;if(null!=xt&&(!Bt||$e||!isNaN(Lt)&&0!==Lt)){isNaN(Lt)||$e||(xt/=Lt);const Pt=qe(xt,et);if(Pt){const dt=Pt[0],jt=Pt[1];if(dt===jt)return Se.stops[dt].opacity;{const Rt=Se.stops[dt].opacity;return Rt+(Se.stops[jt].opacity-Rt)*Pt[2]}}}}function Ae(Qe,ot,Ne){const Se="visualVariables"in Qe&&Qe.visualVariables?Qe.visualVariables.filter(Lt=>"rotation"===Lt.type)[0]:Qe;if(!Se)return;if("esri.renderers.visualVariables.RotationVariable"!==Se.declaredClass)return void he.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");const $e=Se.axis||"heading",nt="heading"===$e&&"arithmetic"===Se.rotationType?90:0,ut="heading"===$e&&"arithmetic"===Se.rotationType?-1:1,xt="number"==typeof ot?null:ot,Ze=xt&&xt.attributes,et=Se.field,{hasExpression:gt}=Se.cache;let Vt=Se.cache.compiledFunc,Bt=0;if(!et&&!gt)return Bt;if(gt){if((0,Ce.Wi)(Ne)||(0,Ce.Wi)(Ne.arcade))return void he.error("Use of arcade expressions requires an arcade context");const Pt=Ne.arcade.arcadeUtils,dt=Pt.getViewInfo({viewingMode:Ne.viewingMode,scale:Ne.scale,spatialReference:Ne.spatialReference}),jt=Pt.createExecContext(xt,dt);if(!Vt){const Rt=Pt.createSyntaxTree(Se.valueExpression);Vt=Pt.createFunction(Rt),Se.cache.compiledFunc=Vt}Bt=Pt.executeFunction(Vt,jt)}else Ze&&(Bt=Ze[et]||0);return Bt="number"!=typeof Bt||isNaN(Bt)?null:nt+ut*Bt,Bt}function oe(Qe,ot,Ne){const Se="visualVariables"in Qe&&Qe.visualVariables?Qe.visualVariables.filter(nt=>"size"===nt.type)[0]:Qe;if(!Se)return;if("esri.renderers.visualVariables.SizeVariable"!==Se.declaredClass)return void he.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");const $e=je(function(Qe,ot,Ne){const Se="number"==typeof ot,$e=Se?null:ot,nt=$e&&$e.attributes;let ut=Se?ot:null;const{isScaleDriven:xt}=Qe.cache;let Ze=Qe.cache.compiledFunc;if(xt){const gt=(0,Ce.pC)(Ne)?Ne.scale:void 0,Vt=(0,Ce.pC)(Ne)?Ne.view:void 0;ut=null==gt||"3d"===Vt?function(Qe){let ot=null,Ne=null;const Se=Qe.stops;return Se?(ot=Se[0].value,Ne=Se[Se.length-1].value):(ot=Qe.minDataValue||0,Ne=Qe.maxDataValue||0),(ot+Ne)/2}(Qe):gt}else if(!Se)switch(Qe.inputValueType){case"expression":{if((0,Ce.Wi)(Ne)||(0,Ce.Wi)(Ne.arcade))return void he.error("Use of arcade expressions requires an arcade context");const Vt=Ne.arcade.arcadeUtils,Bt=Vt.getViewInfo({viewingMode:Ne.viewingMode,scale:Ne.scale,spatialReference:Ne.spatialReference}),Lt=Vt.createExecContext($e,Bt);if(!Ze){const Pt=Vt.createSyntaxTree(Qe.valueExpression);Ze=Vt.createFunction(Pt),Qe.cache.compiledFunc=Ze}ut=Vt.executeFunction(Ze,Lt);break}case"field":nt&&(ut=nt[Qe.field]);break;case"unknown":ut=null}if(!(0,ye.qh)(ut))return null;if(Se||!Qe.normalizationField)return ut;const et=nt?parseFloat(nt[Qe.normalizationField]):null;return(0,ye.qh)(et)&&0!==et?ut/et:null}(Se,ot,Ne),Se,ot,Ne,Se.cache.ipData);return null==$e||isNaN($e)?0:$e}function se(Qe,ot,Ne){return null==Qe?null:(0,ye.iY)(Qe)?oe(Qe,ot,Ne):(0,ye.qh)(Qe)?Qe:null}function fe(Qe,ot,Ne){return(0,ye.qh)(Ne)&&Qe>Ne?Ne:(0,ye.qh)(ot)&&Qe<ot?ot:Qe}function je(Qe,ot,Ne,Se,$e){switch(ot.transformationType){case"additive":return function(Qe,ot,Ne,Se){return Qe+(se(ot.minSize,Ne,Se)||ot.minDataValue)}(Qe,ot,Ne,Se);case"constant":return function(Qe,ot,Ne){const Se=Qe.stops;let $e=Se&&Se.length&&Se[0].size;return null==$e&&($e=Qe.minSize),se($e,ot,Ne)}(ot,Ne,Se);case"clamped-linear":return function(Qe,ot,Ne,Se){const $e=(Qe-ot.minDataValue)/(ot.maxDataValue-ot.minDataValue),nt=se(ot.minSize,Ne,Se),ut=se(ot.maxSize,Ne,Se),xt=(0,Ce.pC)(Se)?Se.shape:void 0;if(Qe<=ot.minDataValue)return nt;if(Qe>=ot.maxDataValue)return ut;if("area"===ot.scaleBy&&xt){const Ze="circle"===xt,et=Ze?ce*(nt/2)**2:nt*nt,gt=et+$e*((Ze?ce*(ut/2)**2:ut*ut)-et);return Ze?2*Math.sqrt(gt/ce):Math.sqrt(gt)}return nt+$e*(ut-nt)}(Qe,ot,Ne,Se);case"proportional":return function(Qe,ot,Ne,Se){const $e=(0,Ce.pC)(Se)?Se.shape:void 0,nt=Qe/ot.minDataValue,ut=se(ot.minSize,Ne,Se),xt=se(ot.maxSize,Ne,Se);let Ze=null;return Ze="circle"===$e?2*Math.sqrt(nt*(ut/2)**2):"square"===$e||"diamond"===$e||"image"===$e?Math.sqrt(nt*ut**2):nt*ut,fe(Ze,ut,xt)}(Qe,ot,Ne,Se);case"stops":return function(Qe,ot,Ne,Se,$e){const[nt,ut,xt]=qe(Qe,$e);if(nt===ut)return se(ot.stops[nt].size,Ne,Se);{const Ze=se(ot.stops[nt].size,Ne,Se);return Ze+(se(ot.stops[ut].size,Ne,Se)-Ze)*xt}}(Qe,ot,Ne,Se,$e);case"real-world-size":return function(Qe,ot,Ne,Se){const $e=((0,Ce.pC)(Se)&&Se.resolution?Se.resolution:1)*Ie.a[ot.valueUnit],nt=se(ot.minSize,Ne,Se),ut=se(ot.maxSize,Ne,Se),{valueRepresentation:xt}=ot;let Ze=null;return Ze="area"===xt?2*Math.sqrt(Qe/ce)/$e:"radius"===xt||"distance"===xt?2*Qe/$e:Qe/$e,fe(Ze,nt,ut)}(Qe,ot,Ne,Se);case"identity":return Qe;case"unknown":return null}}function ve(Qe,ot,Ne){const{isScaleDriven:Se}=Qe.cache;if(!(Se&&"3d"===Ne||ot))return null;const $e={scale:ot,view:Ne};let nt=se(Qe.minSize,re,$e),ut=se(Qe.maxSize,re,$e);if(null!=nt||null!=ut){if(nt>ut){const xt=ut;ut=nt,nt=xt}return{minSize:nt,maxSize:ut}}}function Oe(Qe,ot,Ne){if(!Qe.visualVariables)return;const Se=[],$e=[],nt=[],ut=[],xt=[];for(const Ze of Qe.visualVariables)switch(Ze.type){case"color":$e.push(Ze);break;case"opacity":nt.push(Ze);break;case"rotation":xt.push(Ze);break;case"size":ut.push(Ze)}return $e.forEach(Ze=>{const et=xe(Ze,ot,Ne);Se.push({variable:Ze,value:et})}),nt.forEach(Ze=>{const et=de(Ze,ot,Ne);Se.push({variable:Ze,value:et})}),xt.forEach(Ze=>{const et=Ae(Ze,ot,Ne);Se.push({variable:Ze,value:et})}),ut.forEach(Ze=>{const et=oe(Ze,ot,Ne);Se.push({variable:Ze,value:et})}),Se.filter(Ze=>null!=Ze.value)}function qe(Qe,ot){if(!ot)return;let Ne=0,Se=ot.length-1;return ot.some(($e,nt)=>Qe<$e?(Se=nt,!0):(Ne=nt,!1)),[Ne,Se,(Qe-ot[Ne])/(ot[Se]-ot[Ne])]}function He(Qe,ot,Ne){const Se=["proportional","proportional","proportional"];for(const $e of Qe){const nt=$e.useSymbolValue?"symbol-value":oe($e,ot,Ne);switch($e.axis){case"width":Se[0]=nt;break;case"depth":Se[1]=nt;break;case"height":Se[2]=nt;break;case"width-and-depth":Se[0]=nt,Se[1]=nt;break;case"all":case void 0:case null:Se[0]=nt,Se[1]=nt,Se[2]=nt;break;default:(0,Te.Bg)($e.axis)}}return Se}},84792:(hi,lt,N)=>{"use strict";N.r(lt),N.d(lt,{default:()=>de});var z=N(15861),J=N(59318),Te=N(24263),Me=N(26584),Ce=N(95127),Ie=N(8314),ye=N(58817),he=N(62208),re=N(10699),ce=N(21726),be=N(12680),xe=N(33899);function de(Bt,Lt){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,z.Z)(function*(Bt,Lt){const Pt=(0,ce.HK)(Bt),dt=(0,ce.jc)(Bt);dt||Pt||(Bt=(0,ce.Fv)(Bt));const jt={url:Bt,requestOptions:ji({},(0,he.Wg)(Lt))};let Rt=(0,ce.oh)(Bt);if(Rt){const Dt=yield Se(Rt,jt);if(null!=Dt)return{data:Dt,getHeader:ge,requestOptions:jt.requestOptions,url:jt.url};Rt.after||Rt.error||(Rt=null)}if(Bt=jt.url,"image"===(Lt=jt.requestOptions).responseType){if((0,Ie.Z)("host-webworker")||(0,Ie.Z)("host-node"))throw Le("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),jt)}else if(Pt)throw Le("request:invalid-parameters",new Error("Data URLs are not supported for responseType = "+Lt.responseType),jt);if("head"===Lt.method){if(Lt.body)throw Le("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),jt);if(Pt||dt)throw Le("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),jt)}if(yield tt(),me)return me.execute(Bt,Lt);const _e=(0,re.yi)();(0,re.fu)(Lt,()=>_e.abort());const ke={controller:_e,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:Rt,params:jt,redoRequest:!1,useIdentity:le.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},rt=yield xt(ke);return Rt&&Rt.after&&Rt.after(rt),rt})).apply(this,arguments)}let me;const le=J.Z.request,oe="FormData"in Ce.Z,se=[499,498,403,401],fe=["COM_0056","COM_0057","SB_0008"],Ee=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],ge=()=>null,Ue=Symbol();function Fe(Bt){const Lt=(0,ce.P$)(Bt);Lt&&!de._corsServers.includes(Lt)&&de._corsServers.push(Lt)}function Ve(Bt){const Lt=(0,ce.P$)(Bt);return!Lt||Lt.endsWith(".arcgis.com")||de._corsServers.includes(Lt)||(0,ce.kl)(Lt)}function Le(Bt,Lt,Pt,dt){let jt="Error";const Rt={url:Pt.url,requestOptions:Pt.requestOptions,getHeader:ge,ssl:!1};if(Lt instanceof Me.Z)return Lt.details?(Lt.details=(0,ye.d9)(Lt.details),Lt.details.url=Pt.url,Lt.details.requestOptions=Pt.requestOptions):Lt.details=Rt,Lt;if(Lt){const _e=dt&&(Dt=>dt.headers.get(Dt)),ke=dt&&dt.status,rt=Lt.message;rt&&(jt=rt),_e&&(Rt.getHeader=_e),Rt.httpStatus=(null!=Lt.httpCode?Lt.httpCode:Lt.code)||ke||0,Rt.subCode=Lt.subcode,Rt.messageCode=Lt.messageCode,Rt.messages="string"==typeof Lt.details?[Lt.details]:Lt.details,Rt.raw=Ue in Lt?Lt[Ue]:Lt}return(0,re.D_)(Lt)?(0,re.zE)():new Me.Z(Bt,jt,Rt)}function tt(){return je.apply(this,arguments)}function je(){return(je=(0,z.Z)(function*(){(0,Ie.Z)("host-webworker")?me||(me=yield N.e(3358).then(N.bind(N,23358))):de._abortableFetch||(de._abortableFetch=Ce.Z.fetch.bind(Ce.Z))})).apply(this,arguments)}function ve(){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,z.Z)(function*(){Te.id||(yield N.e(9058).then(N.bind(N,59058)))})).apply(this,arguments)}function qe(Bt){return He.apply(this,arguments)}function He(){return(He=(0,z.Z)(function*(Bt){const Lt=Bt.params.url,Pt=Bt.params.requestOptions,dt=Bt.controller.signal,jt=Pt.body;let Rt=null,_e=null,ke=null;if(oe&&"HTMLFormElement"in Ce.Z&&(jt instanceof FormData?Rt=jt:jt instanceof HTMLFormElement&&(_e=jt,Rt=new FormData(_e))),"string"==typeof jt&&(ke=jt),Bt.fetchOptions={cache:Pt.cacheBust&&!de._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:Pt.headers||{},method:"head"===Pt.method?"HEAD":"GET",mode:"cors",redirect:"follow",signal:dt},(Rt||ke)&&(Bt.fetchOptions.body=Rt||ke),"anonymous"===Pt.authMode&&(Bt.useIdentity=!1),Bt.hasToken=!!(/token=/i.test(Lt)||Pt.query&&Pt.query.token||Rt&&Rt.get&&Rt.get("token")||_e&&_e.elements.token),!Bt.hasToken&&J.Z.apiKey&&(0,be.r)(Lt)&&(Pt.query||(Pt.query={}),Pt.query.token=J.Z.apiKey,Bt.hasToken=!0),Bt.useIdentity&&!Bt.hasToken&&!Bt.credentialToken&&!Qe(Lt)&&!(0,re.Hc)(dt)){let rt;"immediate"===Pt.authMode?(yield ve(),rt=yield Te.id.getCredential(Lt,{signal:dt}),Bt.credential=rt):"no-prompt"===Pt.authMode?(yield ve(),rt=yield Te.id.getCredential(Lt,{prompt:!1,signal:dt}).catch(()=>{}),Bt.credential=rt):Te.id&&(rt=Te.id.findCredential(Lt)),rt&&(Bt.credentialToken=rt.token,Bt.useSSL=!!rt.ssl)}})).apply(this,arguments)}function Qe(Bt){return Ee.some(Lt=>Lt.test(Bt))}function ot(Bt){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,z.Z)(function*(Bt){let Lt=Bt.params.url;const Pt=Bt.params.requestOptions,dt=Bt.fetchOptions,jt=(0,ce.jc)(Lt)||(0,ce.HK)(Lt),Rt=Pt.responseType||"json",_e=jt?0:null!=Pt.timeout?Pt.timeout:le.timeout;let ke=!1;if(!jt){Bt.useSSL&&(Lt=(0,ce.hO)(Lt)),Pt.cacheBust&&"default"===dt.cache&&(Lt=(0,ce.ZN)(Lt,"request.preventCache",Date.now()));let Ti=ji({},Pt.query);Bt.credentialToken&&(Ti.token=Bt.credentialToken);let qt=(0,ce.B7)(Ti);(0,Ie.Z)("esri-url-encodes-apostrophe")&&(qt=qt.replace(/'/g,"%27"));const pi=Lt.length+1+qt.length;let We;ke="delete"===Pt.method||"post"===Pt.method||"put"===Pt.method||!!Pt.body||pi>le.maxUrlLength;const fi=Pt.useProxy||!!(0,ce.ed)(Lt);if(fi){const Mi=(0,ce.b7)(Lt);We=Mi.path,!ke&&We.length+1+pi>le.maxUrlLength&&(ke=!0),Mi.query&&(Ti=ji(ji({},Mi.query),Ti))}if("HEAD"===dt.method&&(ke||fi)){if(ke)throw Le("request:invalid-parameters",pi>le.maxUrlLength?new Error("URL exceeds maximum length"):new Error("cannot use POST request when method is 'head'"),Bt.params);if(fi)throw Le("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),Bt.params)}if(ke?(dt.method="delete"===Pt.method?"DELETE":"put"===Pt.method?"PUT":"POST",Pt.body?Lt=(0,ce.fl)(Lt,Ti):(dt.body=(0,ce.B7)(Ti),dt.headers["Content-Type"]="application/x-www-form-urlencoded")):Lt=(0,ce.fl)(Lt,Ti),fi&&(Bt.useProxy=!0,Lt=`${We}?${Lt}`),Ti.token&&oe&&dt.body instanceof FormData){const Mi=dt.body;Mi.set?Mi.set("token",Ti.token):Mi.append("token",Ti.token)}if(Pt.hasOwnProperty("withCredentials"))Bt.withCredentials=Pt.withCredentials;else if(!(0,ce.D6)(Lt,ce.Gd))if((0,ce.kl)(Lt))Bt.withCredentials=!0;else if(Te.id){const Mi=Te.id.findServerInfo(Lt);Mi&&Mi.webTierAuth&&(Bt.withCredentials=!0)}Bt.withCredentials&&(dt.credentials="include")}let rt,Dt,Kt=0,st=!1;_e>0&&(Kt=setTimeout(()=>{st=!0,Bt.controller.abort()},_e));try{if("native-request-init"===Pt.responseType)Dt=dt,Dt.url=Lt;else if("image"!==Pt.responseType||"default"!==dt.cache||"GET"!==dt.method||ke||nt(Pt.headers)||!jt&&!Bt.useProxy&&le.proxyUrl&&!Ve(Lt)){if(rt=yield de._abortableFetch(Lt,dt),Bt.useProxy||Fe(Lt),"native"===Pt.responseType)Dt=rt;else if("HEAD"!==dt.method)if(rt.ok){switch(Rt){case"array-buffer":Dt=yield rt.arrayBuffer();break;case"blob":case"image":Dt=yield rt.blob();break;default:Dt=yield rt.text()}if(Kt&&(clearTimeout(Kt),Kt=0),"json"===Rt||"xml"===Rt||"document"===Rt)if(Dt)switch(Rt){case"json":Dt=JSON.parse(Dt);break;case"xml":Dt=ut(Dt,"application/xml");break;case"document":Dt=ut(Dt,"text/html")}else Dt=null;if(Dt){if("array-buffer"===Rt||"blob"===Rt){const Ti=rt.headers.get("Content-Type");if(/application\/json|text\/plain/i.test(Ti)&&Dt["blob"===Rt?"size":"byteLength"]<=750)try{const qt=yield new Response(Dt).json();qt.error&&(Dt=qt)}catch(qt){}}"image"===Rt&&Dt instanceof Blob&&(Dt=yield Vt(URL.createObjectURL(Dt),Bt,!0))}}else Dt=yield rt.text()}else Dt=yield Vt(Lt,Bt)}catch(Ti){if("AbortError"===Ti.name)throw st?new Error("Timeout exceeded"):(0,re.zE)("Request canceled");if(!(!rt&&Ti instanceof TypeError&&le.proxyUrl)||Pt.body||"delete"===Pt.method||"head"===Pt.method||"post"===Pt.method||"put"===Pt.method||Bt.useProxy||Ve(Lt))throw Ti;Bt.redoRequest=!0,(0,ce.tD)({proxyUrl:le.proxyUrl,urlPrefix:(0,ce.P$)(Lt)})}finally{Kt&&clearTimeout(Kt)}return[rt,Dt]})).apply(this,arguments)}function Se(Bt,Lt){return $e.apply(this,arguments)}function $e(){return($e=(0,z.Z)(function*(Bt,Lt){if(null!=Bt.responseData)return Bt.responseData;if(Bt.headers&&(Lt.requestOptions.headers=ji(ji({},Lt.requestOptions.headers),Bt.headers)),Bt.query&&(Lt.requestOptions.query=ji(ji({},Lt.requestOptions.query),Bt.query)),Bt.before){let Pt,dt;try{dt=yield Bt.before(Lt)}catch(jt){Pt=Le("request:interceptor",jt,Lt)}if((dt instanceof Error||dt instanceof Me.Z)&&(Pt=Le("request:interceptor",dt,Lt)),Pt)throw Bt.error&&Bt.error(Pt),Pt;return dt}})).apply(this,arguments)}function nt(Bt){if(Bt)for(const Lt of Object.getOwnPropertyNames(Bt))if(Bt[Lt])return!0;return!1}function ut(Bt,Lt){let Pt;try{Pt=(new DOMParser).parseFromString(Bt,Lt)}catch(dt){}if(!Pt||Pt.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return Pt}function xt(Bt){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,z.Z)(function*(Bt){var Lt,Pt;let dt,jt;yield qe(Bt);try{do{[dt,jt]=yield ot(Bt)}while(!(yield et(Bt,dt,jt)))}catch(ke){const rt=Le("request:server",ke,Bt.params,dt);throw rt.details.ssl=Bt.useSSL,Bt.interceptor&&Bt.interceptor.error&&Bt.interceptor.error(rt),rt}const Rt=Bt.params.url;if(/\/sharing\/rest\/(accounts|portals)\/self/i.test(Rt)&&!Bt.hasToken&&!Bt.credentialToken&&null!=(Lt=jt)&&null!=(Pt=Lt.user)&&Pt.username&&!(0,ce.kl)(Rt)){const ke=(0,ce.P$)(Rt,!0);ke&&le.trustedServers.push(ke)}const _e=Bt.credential;if(_e&&Te.id){const ke=Te.id.findServerInfo(_e.server);let rt=ke&&ke.owningSystemUrl;if(rt){rt=rt.replace(/\/?$/,"/sharing");const Dt=Te.id.findCredential(rt,_e.userId);Dt&&-1===Te.id._getIdenticalSvcIdx(rt,Dt)&&Dt.resources.unshift(rt)}}return{data:jt,getHeader:dt?ke=>dt.headers.get(ke):ge,requestOptions:Bt.params.requestOptions,ssl:Bt.useSSL,url:Bt.params.url}})).apply(this,arguments)}function et(Bt,Lt,Pt){return gt.apply(this,arguments)}function gt(){return(gt=(0,z.Z)(function*(Bt,Lt,Pt){if(Bt.redoRequest)return Bt.redoRequest=!1,!1;const dt=Bt.params.requestOptions;if(!Lt||"native"===dt.responseType||"native-request-init"===dt.responseType)return!0;let jt,Rt,_e,ke;if(!Lt.ok)throw jt=new Error(`Unable to load ${Lt.url} status: ${Lt.status}`),jt[Ue]=Pt,jt;null!=Pt&&Pt.error&&(jt=Pt.error),jt&&(Rt=Number(jt.code),_e=jt.hasOwnProperty("subcode")?Number(jt.subcode):null,ke=jt.messageCode,ke=ke&&ke.toUpperCase());const rt=dt.authMode;if(403===Rt&&(4===_e||jt.message&&jt.message.toLowerCase().indexOf("ssl")>-1&&-1===jt.message.toLowerCase().indexOf("permission"))){if(!Bt.useSSL)return Bt.useSSL=!0,!1}else if(!Bt.hasToken&&Bt.useIdentity&&("no-prompt"!==rt||498===Rt)&&-1!==se.indexOf(Rt)&&!Qe(Bt.params.url)&&(403!==Rt||-1===fe.indexOf(ke)&&(null==_e||2===_e&&Bt.credentialToken))){yield ve();try{const Dt=yield Te.id.getCredential(Bt.params.url,{error:Le("request:server",jt,Bt.params),prompt:"no-prompt"!==rt,signal:Bt.controller.signal,token:Bt.credentialToken});return Bt.credential=Dt,Bt.credentialToken=Dt.token,Bt.useSSL=Bt.useSSL||Dt.ssl,!1}catch(Dt){if("no-prompt"===rt)return Bt.credential=null,Bt.credentialToken=null,!1;jt=Dt}}if(jt)throw jt;return!0})).apply(this,arguments)}function Vt(Bt,Lt,Pt=!1){const dt=Lt.controller.signal,jt=new Image;return jt.crossOrigin=Lt.withCredentials?"use-credentials":"anonymous",jt.alt="",jt.src=Bt,(0,xe.f)(jt,Bt,Pt,dt)}de._abortableFetch=null,de._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"]},90463:(hi,lt,N)=>{"use strict";N.d(lt,{P:()=>Ce});var z=N(15861),J=N(2618),Te=N(20477),Me=N(84952);function Ce(ye,he,re){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,z.Z)(function*(ye,he,re){const ce=(0,J.en)(ye);return(0,Te.executeQueryForCount)(ce,Me.Z.from(he),ji({},re)).then(be=>be.data.count)})).apply(this,arguments)}},24865:(hi,lt,N)=>{"use strict";N.d(lt,{G:()=>Ce});var z=N(15861),J=N(2618),Te=N(20477),Me=N(84952);function Ce(ye,he,re){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,z.Z)(function*(ye,he,re){const ce=(0,J.en)(ye);return(0,Te.executeQueryForIds)(ce,Me.Z.from(he),ji({},re)).then(be=>be.data.objectIds)})).apply(this,arguments)}},2865:(hi,lt,N)=>{"use strict";N.d(lt,{e:()=>Ie,F:()=>he});var z=N(15861),J=N(2618),Te=N(20477),Me=N(17253),Ce=N(84952);function Ie(ce,be,xe){return ye.apply(this,arguments)}function ye(){return(ye=(0,z.Z)(function*(ce,be,xe){const de=yield he(ce,be,xe);return Me.default.fromJSON(de)})).apply(this,arguments)}function he(ce,be,xe){return re.apply(this,arguments)}function re(){return(re=(0,z.Z)(function*(ce,be,xe){const de=(0,J.en)(ce),Ae=ji({},xe),me=Ce.Z.from(be),{data:le}=yield(0,Te.executeQuery)(de,me,me.sourceSpatialReference,Ae);return le})).apply(this,arguments)}},71260:(hi,lt,N)=>{"use strict";N.d(lt,{K9:()=>je,O7:()=>re,G$:()=>Ue});var z=N(26584),J=N(62208),Te=N(24192),Me=N(88071),Ce=N(98558);const Ie=["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeString","esriFieldTypeDate","esriFieldTypeOID","esriFieldTypeGeometry","esriFieldTypeBlob","esriFieldTypeRaster","esriFieldTypeGUID","esriFieldTypeGlobalID","esriFieldTypeXML"],ye=["sqlTypeBigInt","sqlTypeBinary","sqlTypeBit","sqlTypeChar","sqlTypeDate","sqlTypeDecimal","sqlTypeDouble","sqlTypeFloat","sqlTypeGeometry","sqlTypeGUID","sqlTypeInteger","sqlTypeLongNVarchar","sqlTypeLongVarbinary","sqlTypeLongVarchar","sqlTypeNChar","sqlTypeNVarchar","sqlTypeOther","sqlTypeReal","sqlTypeSmallInt","sqlTypeSqlXml","sqlTypeTime","sqlTypeTimestamp","sqlTypeTimestamp2","sqlTypeTinyInt","sqlTypeVarbinary","sqlTypeVarchar"],he=["upperLeft","lowerLeft"];function re(ve){return ve>=Ie.length?null:Ie[ve]}function ce(ve){return ve>=ye.length?null:ye[ve]}function be(ve){return ve>=he.length?null:he[ve]}function xe(ve,Oe){return Oe>=ve.geometryTypes.length?null:ve.geometryTypes[Oe]}function de(ve,Oe,qe){const Qe=Oe.createPointGeometry(qe);for(;ve.next();)switch(ve.tag()){case 3:{const ot=ve.getUInt32(),Ne=ve.pos()+ot;let Se=0;for(;ve.pos()<Ne;)Oe.addCoordinatePoint(Qe,ve.getSInt64(),Se++);break}default:ve.skip()}return Qe}function Ae(ve,Oe,qe){const ot=Oe.createGeometry(qe),Ne=2+(qe.hasZ?1:0)+(qe.hasM?1:0);for(;ve.next();)switch(ve.tag()){case 2:{const Se=ve.getUInt32(),$e=ve.pos()+Se;let nt=0;for(;ve.pos()<$e;)Oe.addLength(ot,ve.getUInt32(),nt++);break}case 3:{const Se=ve.getUInt32(),$e=ve.pos()+Se;let nt=0;for(Oe.allocateCoordinates(ot);ve.pos()<$e;)Oe.addCoordinate(ot,ve.getSInt64(),nt),nt++,nt===Ne&&(nt=0);break}default:ve.skip()}return ot}function me(ve){const Qe=new Me.Z;let ot="esriGeometryPoint";for(;ve.next();)switch(ve.tag()){case 2:{const Ne=ve.getUInt32(),Se=ve.pos()+Ne;for(;ve.pos()<Se;)Qe.lengths.push(ve.getUInt32());break}case 3:{const Ne=ve.getUInt32(),Se=ve.pos()+Ne;for(;ve.pos()<Se;)Qe.coords.push(ve.getSInt64());break}case 1:ot=Ce.A[ve.getEnum()];break;default:ve.skip()}return{queryGeometry:Qe,queryGeometryType:ot}}function le(ve){for(;ve.next();)switch(ve.tag()){case 1:return ve.getString();case 2:return ve.getFloat();case 3:return ve.getDouble();case 4:return ve.getSInt32();case 5:return ve.getUInt32();case 6:return ve.getInt64();case 7:return ve.getUInt64();case 8:return ve.getSInt64();case 9:return ve.getBool();default:return ve.skip(),null}return null}function oe(ve){const Se={type:re(0)};for(;ve.next();)switch(ve.tag()){case 1:Se.name=ve.getString();break;case 2:Se.type=re(ve.getEnum());break;case 3:Se.alias=ve.getString();break;case 4:Se.sqlType=ce(ve.getEnum());break;case 5:default:ve.skip();break;case 6:Se.defaultValue=ve.getString()}return Se}function se(ve){const He={};for(;ve.next();)switch(ve.tag()){case 1:He.name=ve.getString();break;case 2:He.isSystemMaintained=ve.getBool();break;default:ve.skip()}return He}function fe(ve,Oe,qe,He){const Se=Oe.createFeature(qe);let $e=0;for(;ve.next();)switch(ve.tag()){case 1:{const nt=He[$e++].name;Se.attributes[nt]=ve.processMessage(le);break}case 2:Se.geometry=ve.processMessageWithArgs(Ae,Oe,qe);break;case 4:Se.centroid=ve.processMessageWithArgs(de,Oe,qe);break;default:ve.skip()}return Se}function Ee(ve){const ot=[1,1,1,1];for(;ve.next();)switch(ve.tag()){case 1:ot[0]=ve.getDouble();break;case 2:ot[1]=ve.getDouble();break;case 4:ot[2]=ve.getDouble();break;case 3:ot[3]=ve.getDouble();break;default:ve.skip()}return ot}function ge(ve){const ot=[0,0,0,0];for(;ve.next();)switch(ve.tag()){case 1:ot[0]=ve.getDouble();break;case 2:ot[1]=ve.getDouble();break;case 4:ot[2]=ve.getDouble();break;case 3:ot[3]=ve.getDouble();break;default:ve.skip()}return ot}function Ue(ve){const Qe={originPosition:be(0)};for(;ve.next();)switch(ve.tag()){case 1:Qe.originPosition=be(ve.getEnum());break;case 2:Qe.scale=ve.processMessage(Ee);break;case 3:Qe.translate=ve.processMessage(ge);break;default:ve.skip()}return Qe}function Fe(ve){const Qe={};for(;ve.next();)switch(ve.tag()){case 1:Qe.shapeAreaFieldName=ve.getString();break;case 2:Qe.shapeLengthFieldName=ve.getString();break;case 3:Qe.units=ve.getString();break;default:ve.skip()}return Qe}function Ve(ve,Oe){const Se=Oe.createSpatialReference();for(;ve.next();)switch(ve.tag()){case 1:Se.wkid=ve.getUInt32();break;case 5:Se.wkt=ve.getString();break;case 2:Se.latestWkid=ve.getUInt32();break;case 3:Se.vcsWkid=ve.getUInt32();break;case 4:Se.latestVcsWkid=ve.getUInt32();break;default:ve.skip()}return Se}function Le(ve,Oe){const Vt=Oe.createFeatureResult();Vt.geometryType=xe(Oe,0);let Bt=!1;for(;ve.next();)switch(ve.tag()){case 1:Vt.objectIdFieldName=ve.getString();break;case 3:Vt.globalIdFieldName=ve.getString();break;case 4:Vt.geohashFieldName=ve.getString();break;case 5:Vt.geometryProperties=ve.processMessage(Fe);break;case 7:Vt.geometryType=xe(Oe,ve.getEnum());break;case 8:Vt.spatialReference=ve.processMessageWithArgs(Ve,Oe);break;case 10:Vt.hasZ=ve.getBool();break;case 11:Vt.hasM=ve.getBool();break;case 12:Vt.transform=ve.processMessage(Ue);break;case 9:{const Lt=ve.getBool();Vt.exceededTransferLimit=Lt;break}case 13:Oe.addField(Vt,ve.processMessage(oe));break;case 15:Bt||(Oe.prepareFeatures(Vt),Bt=!0),Oe.addFeature(Vt,ve.processMessageWithArgs(fe,Oe,Vt,Vt.fields));break;case 2:Vt.uniqueIdField=ve.processMessage(se);break;default:ve.skip()}return Oe.finishFeatureResult(Vt),Vt}function tt(ve,Oe){const Qe={};let ot=null;for(;ve.next();)switch(ve.tag()){case 4:ot=ve.processMessageWithArgs(me);break;case 1:Qe.featureResult=ve.processMessageWithArgs(Le,Oe);break;default:ve.skip()}return(0,J.pC)(ot)&&Qe.featureResult&&Oe.addQueryGeometry(Qe,ot),Qe}function je(ve,Oe){try{const qe=2,He=new Te.Z(new Uint8Array(ve),new DataView(ve)),Qe={};for(;He.next();)He.tag()===qe?Qe.queryResult=He.processMessageWithArgs(tt,Oe):He.skip();return Qe}catch(qe){throw new z.Z("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:qe})}}},98558:(hi,lt,N)=>{"use strict";N.d(lt,{A:()=>Ie,J:()=>ye});var z=N(16730),J=N(37053),Te=N(66385),Me=N(95786),Ce=N(88071);const Ie=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];class ye{constructor(re){this.options=re,this.geometryTypes=Ie,this._coordinatePtr=0,this._vertexDimension=0}createFeatureResult(){return new Me.Z}prepareFeatures(re){this._vertexDimension=2,re.hasZ&&this._vertexDimension++,re.hasM&&this._vertexDimension++}finishFeatureResult(re){if(!re||!re.features||!re.hasZ||!this.options.sourceSpatialReference||!re.spatialReference||(0,J.fS)(re.spatialReference,this.options.sourceSpatialReference)||re.spatialReference.vcsWkid)return;const ce=(0,z._R)(this.options.sourceSpatialReference)/(0,z._R)(re.spatialReference);if(1!==ce)for(const be of re.features){if(!(0,Te.S6)(be))continue;const xe=be.geometry.coords;for(let de=2;de<xe.length;de+=3)xe[de]*=ce}}addFeature(re,ce){re.features.push(ce)}createFeature(){return new Te.ZP}createSpatialReference(){return{wkid:0}}createGeometry(){return new Ce.Z}addField(re,ce){re.fields.push(ce)}allocateCoordinates(re){re.coords.length=re.lengths.reduce((ce,be)=>ce+be,0)*this._vertexDimension,this._coordinatePtr=0}addCoordinate(re,ce){re.coords[this._coordinatePtr++]=ce}addCoordinatePoint(re,ce){re.coords.push(ce)}addLength(re,ce){re.lengths.push(ce)}addQueryGeometry(re,ce){re.queryGeometry=ce.queryGeometry,re.queryGeometryType=ce.queryGeometryType}createPointGeometry(){return new Ce.Z}}},85262:(hi,lt,N)=>{"use strict";N.d(lt,{C:()=>J});var z=N(71260);function J(Te,Me){const Ce=(0,z.K9)(Te,Me),Ie=Ce.queryResult.featureResult,ye=Ce.queryResult.queryGeometry,he=Ce.queryResult.queryGeometryType;if(Ie&&Ie.features&&Ie.features.length&&Ie.objectIdFieldName){const re=Ie.objectIdFieldName;for(const ce of Ie.features)ce.attributes&&(ce.objectId=ce.attributes[re])}return Ie&&(Ie.queryGeometry=ye,Ie.queryGeometryType=he),Ie}},20477:(hi,lt,N)=>{"use strict";N.r(lt),N.d(lt,{executeQuery:()=>xe,executeQueryForCount:()=>se,executeQueryForExtent:()=>fe,executeQueryForIds:()=>oe,executeQueryPBF:()=>Ae,executeQueryPBFBuffer:()=>le,queryToQueryStringParameters:()=>be,runQuery:()=>Ee});var z=N(15861),J=N(84792),Te=N(62208),Me=N(21726),Ce=N(91179),Ie=N(62825),ye=N(85262),he=N(61515),re=N(33022);const ce="Layer does not support extent calculation.";function be(ge,Ue){const Fe=ge.geometry,Ve=ge.toJSON(),Le=Ve;if((0,Te.pC)(Fe)&&(Le.geometry=JSON.stringify(Fe),Le.geometryType=(0,Ce.Ji)(Fe),Le.inSR=Fe.spatialReference.wkid||JSON.stringify(Fe.spatialReference)),Ve.groupByFieldsForStatistics&&(Le.groupByFieldsForStatistics=Ve.groupByFieldsForStatistics.join(",")),Ve.objectIds&&(Le.objectIds=Ve.objectIds.join(",")),Ve.orderByFields&&(Le.orderByFields=Ve.orderByFields.join(",")),!Ve.outFields||!Ve.returnDistinctValues&&(null!=Ue&&Ue.returnCountOnly||null!=Ue&&Ue.returnExtentOnly||null!=Ue&&Ue.returnIdsOnly)?delete Le.outFields:Le.outFields=-1!==Ve.outFields.indexOf("*")?"*":Ve.outFields.join(","),Ve.outSR?Le.outSR=Ve.outSR.wkid||JSON.stringify(Ve.outSR):Fe&&(Ve.returnGeometry||Ve.returnCentroid)&&(Le.outSR=Le.inSR),Ve.returnGeometry&&delete Ve.returnGeometry,Ve.outStatistics&&(Le.outStatistics=JSON.stringify(Ve.outStatistics)),Ve.pixelSize&&(Le.pixelSize=JSON.stringify(Ve.pixelSize)),Ve.quantizationParameters&&(Le.quantizationParameters=JSON.stringify(Ve.quantizationParameters)),Ve.parameterValues&&(Le.parameterValues=JSON.stringify(Ve.parameterValues)),Ve.rangeValues&&(Le.rangeValues=JSON.stringify(Ve.rangeValues)),Ve.dynamicDataSource&&(Le.layer=JSON.stringify({source:Ve.dynamicDataSource}),delete Ve.dynamicDataSource),Ve.timeExtent){const tt=Ve.timeExtent,{start:je,end:ve}=tt;null==je&&null==ve||(Le.time=je===ve?je:`${null==je?"null":je},${null==ve?"null":ve}`),delete Ve.timeExtent}return Le}function xe(ge,Ue,Fe,Ve){return de.apply(this,arguments)}function de(){return(de=(0,z.Z)(function*(ge,Ue,Fe,Ve){const Le=(0,Te.pC)(Ue.timeExtent)&&Ue.timeExtent.isEmpty?{data:{features:[]}}:yield Ee(ge,Ue,"json",Ve);return(0,he.p)(Ue,Fe,Le.data),Le})).apply(this,arguments)}function Ae(ge,Ue,Fe,Ve){return me.apply(this,arguments)}function me(){return(me=(0,z.Z)(function*(ge,Ue,Fe,Ve){if((0,Te.pC)(Ue.timeExtent)&&Ue.timeExtent.isEmpty)return Promise.resolve({data:Fe.createFeatureResult()});const Le=yield le(ge,Ue,Ve),tt=Le;return tt.data=(0,ye.C)(Le.data,Fe),tt})).apply(this,arguments)}function le(ge,Ue,Fe){return Ee(ge,Ue,"pbf",Fe)}function oe(ge,Ue,Fe){return(0,Te.pC)(Ue.timeExtent)&&Ue.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):Ee(ge,Ue,"json",Fe,{returnIdsOnly:!0})}function se(ge,Ue,Fe){return(0,Te.pC)(Ue.timeExtent)&&Ue.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):Ee(ge,Ue,"json",Fe,{returnIdsOnly:!0,returnCountOnly:!0})}function fe(ge,Ue,Fe){return(0,Te.pC)(Ue.timeExtent)&&Ue.timeExtent.isEmpty?Promise.resolve({data:{count:0,extent:null}}):Ee(ge,Ue,"json",Fe,{returnExtentOnly:!0,returnCountOnly:!0}).then(Ve=>{const Le=Ve.data;if(Le.hasOwnProperty("extent"))return Ve;if(Le.features)throw new Error(ce);if(Le.hasOwnProperty("count"))throw new Error(ce);return Ve})}function Ee(ge,Ue,Fe,Ve={},Le={}){const tt="string"==typeof ge?(0,Me.mN)(ge):ge,je=Ue.geometry?[Ue.geometry]:[];return Ve.responseType="pbf"===Fe?"array-buffer":"json",(0,Ie.aX)(je,null,Ve).then(ve=>{const Oe=ve&&ve[0];(0,Te.pC)(Oe)&&((Ue=Ue.clone()).geometry=Oe);const qe=(0,re.A)(ji(ji(fr(ji({},tt.query),{f:Fe}),Le),be(Ue,Le)));return(0,J.default)((0,Me.v_)(tt.path,"query"),fr(ji({},Ve),{query:ji(ji({},qe),Ve.query)}))})}},85531:(hi,lt,N)=>{"use strict";N.d(lt,{X:()=>he,O:()=>ye});var z=N(24263),J=N(84792),Te=N(21726),Me=N(87183),Ce=N(33022);function Ie(re){const ce=re.toJSON();return ce.attachmentTypes&&(ce.attachmentTypes=ce.attachmentTypes.join(",")),ce.keywords&&(ce.keywords=ce.keywords.join(",")),ce.globalIds&&(ce.globalIds=ce.globalIds.join(",")),ce.objectIds&&(ce.objectIds=ce.objectIds.join(",")),ce.size&&(ce.size=ce.size.join(",")),ce}function ye(re,ce){const be={};for(const xe of re){const{parentObjectId:de,parentGlobalId:Ae,attachmentInfos:me}=xe;for(const le of me){const{id:oe}=le,se=(0,Te.qg)((0,z.Dp)(`${ce}/${de}/attachments/${oe}`)),fe=Me.Z.fromJSON(le);fe.set({url:se,parentObjectId:de,parentGlobalId:Ae}),be[de]?be[de].push(fe):be[de]=[fe]}}return be}function he(re,ce,be){let xe={query:(0,Ce.A)(ji(fr(ji({},re.query),{f:"json"}),Ie(ce)))};return be&&(xe=fr(ji(ji({},be),xe),{query:ji(ji({},be.query),xe.query)})),(0,J.default)(re.path+"/queryAttachments",xe)}},61515:(hi,lt,N)=>{"use strict";N.d(lt,{p:()=>J});var z=N(92839);function J(Te,Me,Ce){if(!Ce||!Ce.features||!Ce.hasZ)return;const Ie=(0,z.k)(Ce.geometryType,Me,Te.outSpatialReference);if(Ie)for(const ye of Ce.features)Ie(ye.geometry)}},92839:(hi,lt,N)=>{"use strict";N.d(lt,{k:()=>Me,P:()=>ce});var z=N(62208),J=N(16730),Te=N(37053);function Me(de,Ae,me){if((0,z.Wi)(Ae)||(0,z.Wi)(me)||me.vcsWkid||(0,Te.fS)(Ae,me))return null;const le=(0,J._R)(Ae)/(0,J._R)(me);if(1===le)return null;switch(de){case"point":case"esriGeometryPoint":return oe=>function(de,Ae){de&&null!=de.z&&(de.z*=Ae)}(oe,le);case"polyline":case"esriGeometryPolyline":return oe=>function(de,Ae){if(de)for(const me of de.paths)for(const le of me)le.length>2&&(le[2]*=Ae)}(oe,le);case"polygon":case"esriGeometryPolygon":return oe=>function(de,Ae){if(de)for(const me of de.rings)for(const le of me)le.length>2&&(le[2]*=Ae)}(oe,le);case"multipoint":case"esriGeometryMultipoint":return oe=>function(de,Ae){if(de)for(const me of de.points)me.length>2&&(me[2]*=Ae)}(oe,le);default:return null}}function re(de,Ae,me){if(null==de.hasM||de.hasZ)for(const le of Ae)for(const oe of le)oe.length>2&&(oe[2]*=me)}function ce(de,Ae,me){if(!de&&!Ae||!me)return;const le=(0,J._R)(me);be(de,me,le),be(Ae,me,le)}function be(de,Ae,me){if(de)for(const le of de)xe(le.geometry,Ae,me)}function xe(de,Ae,me){if((0,z.Wi)(de)||!de.spatialReference||(0,Te.fS)(de.spatialReference,Ae))return;const le=(0,J._R)(de.spatialReference)/me;if(1!==le)if("x"in de)null!=de.z&&(de.z*=le);else if("rings"in de)re(de,de.rings,le);else if("paths"in de)re(de,de.paths,le);else if("points"in de&&(null==de.hasM||de.hasZ))for(const oe of de.points)oe.length>2&&(oe[2]*=le)}},87183:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>de});var ce,z=N(17626),J=N(86162),Te=N(77712),Ce=(N(8314),N(90912)),ye=(N(63290),N(61403));const be={1:{id:1,rotation:0,mirrored:!1},2:{id:2,rotation:0,mirrored:!0},3:{id:3,rotation:180,mirrored:!1},4:{id:4,rotation:180,mirrored:!0},5:{id:5,rotation:-90,mirrored:!0},6:{id:6,rotation:90,mirrored:!1},7:{id:7,rotation:90,mirrored:!0},8:{id:8,rotation:-90,mirrored:!1}};let xe=ce=class extends J.wq{constructor(Ae){super(Ae),this.contentType=null,this.exifInfo=null,this.id=null,this.globalId=null,this.keywords=null,this.name=null,this.parentGlobalId=null,this.parentObjectId=null,this.size=null,this.url=null}get orientationInfo(){const{exifInfo:Ae}=this,me=function(Ae){const{exifInfo:me,exifName:le,tagName:oe}=Ae;if(!me||!le||!oe)return null;const se=me.find(fe=>fe.name===le);return se?function(Ae){const{tagName:me,tags:le}=Ae;if(!le||!me)return null;const oe=le.find(se=>se.name===me);return oe&&oe.value||null}({tagName:oe,tags:se.tags}):null}({exifName:"Exif IFD0",tagName:"Orientation",exifInfo:Ae});return be[me]||null}clone(){return new ce({contentType:this.contentType,exifInfo:this.exifInfo,id:this.id,globalId:this.globalId,keywords:this.keywords,name:this.name,parentGlobalId:this.parentGlobalId,parentObjectId:this.parentObjectId,size:this.size,url:this.url})}};(0,z._)([(0,Te.Cb)({type:String})],xe.prototype,"contentType",void 0),(0,z._)([(0,Te.Cb)()],xe.prototype,"exifInfo",void 0),(0,z._)([(0,Te.Cb)({readOnly:!0})],xe.prototype,"orientationInfo",null),(0,z._)([(0,Te.Cb)({type:Ce.z8})],xe.prototype,"id",void 0),(0,z._)([(0,Te.Cb)({type:String})],xe.prototype,"globalId",void 0),(0,z._)([(0,Te.Cb)({type:String})],xe.prototype,"keywords",void 0),(0,z._)([(0,Te.Cb)({type:String})],xe.prototype,"name",void 0),(0,z._)([(0,Te.Cb)({json:{read:!1}})],xe.prototype,"parentGlobalId",void 0),(0,z._)([(0,Te.Cb)({json:{read:!1}})],xe.prototype,"parentObjectId",void 0),(0,z._)([(0,Te.Cb)({type:Ce.z8})],xe.prototype,"size",void 0),(0,z._)([(0,Te.Cb)({json:{read:!1}})],xe.prototype,"url",void 0),xe=ce=(0,z._)([(0,ye.j)("esri.layers.support.AttachmentInfo")],xe);var de=xe},40251:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>de});var be,z=N(17626),J=N(91558),Te=N(58817),Me=N(77712),Ce=N(90912),he=(N(8314),N(63290),N(55342)),re=N(61403),ce=N(61661);let xe=be=class extends ce.Z{constructor(Ae){super(Ae),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new be({fromColor:(0,Te.d9)(this.fromColor),toColor:(0,Te.d9)(this.toColor),algorithm:this.algorithm})}};(0,z._)([(0,he.J)({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],xe.prototype,"algorithm",void 0),(0,z._)([(0,Me.Cb)({type:J.Z,json:{type:[Ce.z8],write:!0}})],xe.prototype,"fromColor",void 0),(0,z._)([(0,Me.Cb)({type:J.Z,json:{type:[Ce.z8],write:!0}})],xe.prototype,"toColor",void 0),(0,z._)([(0,Me.Cb)({type:["algorithmic"]})],xe.prototype,"type",void 0),xe=be=(0,z._)([(0,re.j)("esri.rest.support.AlgorithmicColorRamp")],xe);var de=xe},67736:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>xe});var ce,z=N(17626),J=N(86162),Te=N(58817),Me=N(77712),Ce=N(90912),he=(N(8314),N(63290),N(61403)),re=N(99433);let be=ce=class extends J.wq{constructor(de){super(de),this.attachmentTypes=null,this.attachmentsWhere=null,this.keywords=null,this.globalIds=null,this.name=null,this.num=null,this.objectIds=null,this.returnMetadata=!1,this.size=null,this.start=null,this.where=null}writeStart(de,Ae){Ae.resultOffset=this.start,Ae.resultRecordCount=this.num||10}clone(){return new ce((0,Te.d9)({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}};(0,z._)([(0,Me.Cb)({type:[String],json:{write:!0}})],be.prototype,"attachmentTypes",void 0),(0,z._)([(0,Me.Cb)({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],be.prototype,"attachmentsWhere",void 0),(0,z._)([(0,Me.Cb)({type:[String],json:{write:!0}})],be.prototype,"keywords",void 0),(0,z._)([(0,Me.Cb)({type:[Number],json:{write:!0}})],be.prototype,"globalIds",void 0),(0,z._)([(0,Me.Cb)({json:{write:!0}})],be.prototype,"name",void 0),(0,z._)([(0,Me.Cb)({type:Number,json:{read:{source:"resultRecordCount"}}})],be.prototype,"num",void 0),(0,z._)([(0,Me.Cb)({type:[Number],json:{write:!0}})],be.prototype,"objectIds",void 0),(0,z._)([(0,Me.Cb)({type:Boolean,json:{default:!1,write:!0}})],be.prototype,"returnMetadata",void 0),(0,z._)([(0,Me.Cb)({type:[Number],json:{write:!0}})],be.prototype,"size",void 0),(0,z._)([(0,Me.Cb)({type:Number,json:{read:{source:"resultOffset"}}})],be.prototype,"start",void 0),(0,z._)([(0,re.c)("start"),(0,re.c)("num")],be.prototype,"writeStart",null),(0,z._)([(0,Me.Cb)({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],be.prototype,"where",void 0),be=ce=(0,z._)([(0,he.j)("esri.rest.support.AttachmentQuery")],be),be.from=(0,Ce.se)(be);var xe=be},61661:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>re});var z=N(17626),J=N(86162),Te=N(77712),ye=(N(8314),N(90912),N(63290),N(61403));let he=class extends J.wq{constructor(ce){super(ce),this.type=null}};(0,z._)([(0,Te.Cb)({readOnly:!0,json:{read:!1,write:!0}})],he.prototype,"type",void 0),he=(0,z._)([(0,ye.j)("esri.rest.support.ColorRamp")],he);var re=he},17253:(hi,lt,N)=>{"use strict";N.r(lt),N.d(lt,{default:()=>fe});var z=N(17626),J=N(29132),Te=N(88879),Me=N(2076),Ce=N(86162),Ie=N(62208),ye=N(77712),be=(N(8314),N(90912),N(63290),N(68653)),xe=N(61403),de=N(99433),Ae=N(65234),me=N(91179),le=N(36255);const oe=new Me.Xn({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let se=class extends Ce.wq{constructor(Ee){super(Ee),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(Ee,ge){const Ue=Ae.Z.fromJSON(ge.spatialReference),Fe=[];for(let Ve=0;Ve<Ee.length;Ve++){const Le=Ee[Ve],tt=Te.Z.fromJSON(Le),je=Le.geometry&&Le.geometry.spatialReference;(0,Ie.pC)(tt.geometry)&&!je&&(tt.geometry.spatialReference=Ue),Fe.push(tt)}return Fe}writeGeometryType(Ee,ge,Ue,Fe){if(Ee)return void oe.write(Ee,ge,Ue,Fe);const{features:Ve}=this;if(Ve)for(const Le of Ve)if(Le&&(0,Ie.pC)(Le.geometry))return void oe.write(Le.geometry.type,ge,Ue,Fe)}readQueryGeometry(Ee,ge){if(!Ee)return null;const Ue=!!Ee.spatialReference,Fe=(0,me.im)(Ee);return!Ue&&ge.spatialReference&&(Fe.spatialReference=Ae.Z.fromJSON(ge.spatialReference)),Fe}writeSpatialReference(Ee,ge){if(Ee)return void(ge.spatialReference=Ee.toJSON());const{features:Ue}=this;if(Ue)for(const Fe of Ue)if(Fe&&(0,Ie.pC)(Fe.geometry)&&Fe.geometry.spatialReference)return void(ge.spatialReference=Fe.geometry.spatialReference.toJSON())}toJSON(Ee){const ge=this.write(null);if(ge.features&&Array.isArray(Ee)&&Ee.length>0)for(let Ue=0;Ue<ge.features.length;Ue++){const Fe=ge.features[Ue];if(Fe.geometry){const Ve=Ee&&Ee[Ue];Fe.geometry=Ve&&Ve.toJSON()||Fe.geometry}}return ge}quantize(Ee){const{scale:[ge,Ue],translate:[Fe,Ve]}=Ee,je=this.features,ve=this._getQuantizationFunction(this.geometryType,Oe=>Math.round((Oe-Fe)/ge),Oe=>Math.round((Ve-Oe)/Ue));for(let Oe=0,qe=je.length;Oe<qe;Oe++)ve((0,Ie.Wg)(je[Oe].geometry))||(je.splice(Oe,1),Oe--,qe--);return this.transform=Ee,this}unquantize(){const{geometryType:Ee,features:ge,transform:Ue}=this;if(!Ue)return this;const{translate:[Fe,Ve],scale:[Le,tt]}=Ue,Oe=this._getHydrationFunction(Ee,qe=>qe*Le+Fe,qe=>Ve-qe*tt);for(const{geometry:qe}of ge)(0,Ie.pC)(qe)&&Oe(qe);return this.transform=null,this}_quantizePoints(Ee,ge,Ue){let Fe,Ve;const Le=[];for(let tt=0,je=Ee.length;tt<je;tt++){const ve=Ee[tt];if(tt>0){const Oe=ge(ve[0]),qe=Ue(ve[1]);Oe===Fe&&qe===Ve||(Le.push([Oe-Fe,qe-Ve]),Fe=Oe,Ve=qe)}else Fe=ge(ve[0]),Ve=Ue(ve[1]),Le.push([Fe,Ve])}return Le.length>0?Le:null}_getQuantizationFunction(Ee,ge,Ue){return"point"===Ee?Fe=>(Fe.x=ge(Fe.x),Fe.y=Ue(Fe.y),Fe):"polyline"===Ee||"polygon"===Ee?Fe=>{const Ve=(0,me.oU)(Fe)?Fe.rings:Fe.paths,Le=[];for(let tt=0,je=Ve.length;tt<je;tt++){const Oe=this._quantizePoints(Ve[tt],ge,Ue);Oe&&Le.push(Oe)}return Le.length>0?((0,me.oU)(Fe)?Fe.rings=Le:Fe.paths=Le,Fe):null}:"multipoint"===Ee?Fe=>{const Ve=this._quantizePoints(Fe.points,ge,Ue);return Ve.length>0?(Fe.points=Ve,Fe):null}:"extent"===Ee?Fe=>Fe:null}_getHydrationFunction(Ee,ge,Ue){return"point"===Ee?Fe=>{Fe.x=ge(Fe.x),Fe.y=Ue(Fe.y)}:"polyline"===Ee||"polygon"===Ee?Fe=>{const Ve=(0,me.oU)(Fe)?Fe.rings:Fe.paths;let Le,tt;for(let je=0,ve=Ve.length;je<ve;je++){const Oe=Ve[je];for(let qe=0,He=Oe.length;qe<He;qe++){const Qe=Oe[qe];qe>0?(Le+=Qe[0],tt+=Qe[1]):(Le=Qe[0],tt=Qe[1]),Qe[0]=ge(Le),Qe[1]=Ue(tt)}}}:"extent"===Ee?Fe=>{Fe.xmin=ge(Fe.xmin),Fe.ymin=Ue(Fe.ymin),Fe.xmax=ge(Fe.xmax),Fe.ymax=Ue(Fe.ymax)}:"multipoint"===Ee?Fe=>{const Ve=Fe.points;let Le,tt;for(let je=0,ve=Ve.length;je<ve;je++){const Oe=Ve[je];je>0?(Le+=Oe[0],tt+=Oe[1]):(Le=Oe[0],tt=Oe[1]),Oe[0]=ge(Le),Oe[1]=Ue(tt)}}:void 0}};(0,z._)([(0,ye.Cb)({type:String,json:{write:!0}})],se.prototype,"displayFieldName",void 0),(0,z._)([(0,ye.Cb)({type:Boolean,json:{write:{overridePolicy:Ee=>({enabled:Ee})}}})],se.prototype,"exceededTransferLimit",void 0),(0,z._)([(0,ye.Cb)({type:[Te.Z],json:{write:!0}})],se.prototype,"features",void 0),(0,z._)([(0,be.r)("features")],se.prototype,"readFeatures",null),(0,z._)([(0,ye.Cb)({type:[le.Z],json:{write:!0}})],se.prototype,"fields",void 0),(0,z._)([(0,ye.Cb)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:oe.read}}})],se.prototype,"geometryType",void 0),(0,z._)([(0,de.c)("geometryType")],se.prototype,"writeGeometryType",null),(0,z._)([(0,ye.Cb)({type:Boolean,json:{write:{overridePolicy:Ee=>({enabled:Ee})}}})],se.prototype,"hasM",void 0),(0,z._)([(0,ye.Cb)({type:Boolean,json:{write:{overridePolicy:Ee=>({enabled:Ee})}}})],se.prototype,"hasZ",void 0),(0,z._)([(0,ye.Cb)({types:J.qM,json:{write:!0}})],se.prototype,"queryGeometry",void 0),(0,z._)([(0,be.r)("queryGeometry")],se.prototype,"readQueryGeometry",null),(0,z._)([(0,ye.Cb)({type:Ae.Z,json:{write:!0}})],se.prototype,"spatialReference",void 0),(0,z._)([(0,de.c)("spatialReference")],se.prototype,"writeSpatialReference",null),(0,z._)([(0,ye.Cb)({json:{write:!0}})],se.prototype,"transform",void 0),se=(0,z._)([(0,xe.j)("esri.rest.support.FeatureSet")],se),se.prototype.toJSON.isDefaultToJSON=!0,se||(se={});var fe=se},75414:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>xe});var ce,z=N(17626),J=N(58817),Te=N(77712),ye=(N(90912),N(8314),N(63290),N(61403)),he=N(40251),re=N(61661);let be=ce=class extends re.Z{constructor(de){super(de),this.colorRamps=null,this.type="multipart"}clone(){return new ce({colorRamps:(0,J.d9)(this.colorRamps)})}};(0,z._)([(0,Te.Cb)({type:[he.Z],json:{write:!0}})],be.prototype,"colorRamps",void 0),(0,z._)([(0,Te.Cb)({type:["multipart"]})],be.prototype,"type",void 0),be=ce=(0,z._)([(0,ye.j)("esri.rest.support.MultipartColorRamp")],be);var xe=be},89621:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>me});var xe,z=N(17626),Te=(N(29132),N(2076)),Me=N(86162),Ce=N(58817),Ie=N(77712),ce=(N(90912),N(8314),N(63290),N(61403)),be=N(2004);const de=new Te.Xn({upperLeft:"upper-left",lowerLeft:"lower-left"});let Ae=xe=class extends Me.wq{constructor(le){super(le),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new xe((0,Ce.d9)({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};(0,z._)([(0,Ie.Cb)({type:be.Z,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],Ae.prototype,"extent",void 0),(0,z._)([(0,Ie.Cb)({type:["view","edit"],json:{write:!0}})],Ae.prototype,"mode",void 0),(0,z._)([(0,Ie.Cb)({type:String,json:{read:de.read,write:de.write}})],Ae.prototype,"originPosition",void 0),(0,z._)([(0,Ie.Cb)({type:Number,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],Ae.prototype,"tolerance",void 0),Ae=xe=(0,z._)([(0,ce.j)("esri.rest.support.QuantizationParameters")],Ae);var me=Ae},84952:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>tt});var Ue,z=N(17626),J=N(29132),Te=N(97478),Me=N(2076),Ce=N(86162),Ie=N(58817),ye=N(62208),he=N(77712),re=N(66656),xe=(N(8314),N(63290),N(55342)),de=N(61403),Ae=N(99433),me=N(90912),le=N(91179),oe=N(15283),se=N(89621),fe=N(60776),Ee=N(65234),ge=N(49672);const Fe=new Me.Xn({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),Ve=new Me.Xn({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let Le=Ue=class extends Ce.wq{constructor(je){super(je),this.aggregateIds=null,this.cacheHint=void 0,this.datumTransformation=null,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}static from(je){return(0,me.TJ)(Ue,je)}castDatumTransformation(je){return"number"==typeof je||"object"==typeof je?je:null}writeHistoricMoment(je,ve){ve.historicMoment=je&&je.getTime()}writeParameterValues(je,ve){if(je){const Oe={};for(const qe in je){const He=je[qe];Oe[qe]=Array.isArray(He)?He.map(Qe=>Qe instanceof Date?Qe.getTime():Qe):He instanceof Date?He.getTime():He}ve.parameterValues=Oe}}writeStart(je,ve){ve.resultOffset=this.start,ve.resultRecordCount=this.num||10,ve.where="1=1"}writeWhere(je,ve){ve.where=je||"1=1"}clone(){return new Ue((0,Ie.d9)({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,datumTransformation:this.datumTransformation,distance:this.distance,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:(0,ye.pC)(this.historicMoment)?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}};Le.MAX_MAX_RECORD_COUNT_FACTOR=5,(0,z._)([(0,he.Cb)({json:{write:!0}})],Le.prototype,"aggregateIds",void 0),(0,z._)([(0,he.Cb)({type:Boolean,json:{write:!0}})],Le.prototype,"cacheHint",void 0),(0,z._)([(0,he.Cb)({json:{write:!0}})],Le.prototype,"datumTransformation",void 0),(0,z._)([(0,re.p)("datumTransformation")],Le.prototype,"castDatumTransformation",null),(0,z._)([(0,he.Cb)({type:Number,json:{write:{overridePolicy:je=>({enabled:je>0})}}})],Le.prototype,"distance",void 0),(0,z._)([(0,he.Cb)({type:oe.n,json:{write:!0}})],Le.prototype,"dynamicDataSource",void 0),(0,z._)([(0,he.Cb)({type:String,json:{write:!0}})],Le.prototype,"formatOf3DObjects",void 0),(0,z._)([(0,he.Cb)({type:String,json:{write:!0}})],Le.prototype,"gdbVersion",void 0),(0,z._)([(0,he.Cb)({types:J.qM,json:{read:le.im,write:!0}})],Le.prototype,"geometry",void 0),(0,z._)([(0,he.Cb)({type:Number,json:{write:!0}})],Le.prototype,"geometryPrecision",void 0),(0,z._)([(0,he.Cb)({type:[String],json:{write:!0}})],Le.prototype,"groupByFieldsForStatistics",void 0),(0,z._)([(0,he.Cb)({type:String,json:{write:!0}})],Le.prototype,"having",void 0),(0,z._)([(0,he.Cb)({type:Date})],Le.prototype,"historicMoment",void 0),(0,z._)([(0,Ae.c)("historicMoment")],Le.prototype,"writeHistoricMoment",null),(0,z._)([(0,he.Cb)({type:Number,json:{write:!0}})],Le.prototype,"maxAllowableOffset",void 0),(0,z._)([(0,he.Cb)({type:Number,cast:je=>je<1?1:je>Ue.MAX_MAX_RECORD_COUNT_FACTOR?Ue.MAX_MAX_RECORD_COUNT_FACTOR:je,json:{write:{overridePolicy:je=>({enabled:je>1})}}})],Le.prototype,"maxRecordCountFactor",void 0),(0,z._)([(0,he.Cb)({type:["xyFootprint"],json:{write:!0}})],Le.prototype,"multipatchOption",void 0),(0,z._)([(0,he.Cb)({type:Number,json:{read:{source:"resultRecordCount"}}})],Le.prototype,"num",void 0),(0,z._)([(0,he.Cb)({json:{write:!0}})],Le.prototype,"objectIds",void 0),(0,z._)([(0,he.Cb)({type:[String],json:{write:!0}})],Le.prototype,"orderByFields",void 0),(0,z._)([(0,he.Cb)({type:[String],json:{write:!0}})],Le.prototype,"outFields",void 0),(0,z._)([(0,he.Cb)({type:Ee.Z,json:{name:"outSR",write:!0}})],Le.prototype,"outSpatialReference",void 0),(0,z._)([(0,he.Cb)({type:[fe.Z],json:{write:{enabled:!0,overridePolicy(){return{enabled:(0,ye.pC)(this.outStatistics)&&this.outStatistics.length>0}}}}})],Le.prototype,"outStatistics",void 0),(0,z._)([(0,he.Cb)({json:{write:!0}})],Le.prototype,"parameterValues",void 0),(0,z._)([(0,Ae.c)("parameterValues")],Le.prototype,"writeParameterValues",null),(0,z._)([(0,he.Cb)({type:ge.Z,json:{write:!0}})],Le.prototype,"pixelSize",void 0),(0,z._)([(0,he.Cb)({type:se.Z,json:{write:!0}})],Le.prototype,"quantizationParameters",void 0),(0,z._)([(0,he.Cb)({type:[Object],json:{write:!0}})],Le.prototype,"rangeValues",void 0),(0,z._)([(0,he.Cb)({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:"relation"===this.spatialRelationship}}}}})],Le.prototype,"relationParameter",void 0),(0,z._)([(0,he.Cb)({type:String,json:{write:!0}})],Le.prototype,"resultType",void 0),(0,z._)([(0,he.Cb)({type:Boolean,json:{default:!1,write:!0}})],Le.prototype,"returnCentroid",void 0),(0,z._)([(0,he.Cb)({type:Boolean,json:{default:!1,write:!0}})],Le.prototype,"returnDistinctValues",void 0),(0,z._)([(0,he.Cb)({type:Boolean,json:{default:!0,write:!0}})],Le.prototype,"returnExceededLimitFeatures",void 0),(0,z._)([(0,he.Cb)({type:Boolean,json:{write:!0}})],Le.prototype,"returnGeometry",void 0),(0,z._)([(0,he.Cb)({type:Boolean,json:{default:!1,write:!0}})],Le.prototype,"returnQueryGeometry",void 0),(0,z._)([(0,he.Cb)({type:Boolean,json:{default:!1,write:!0}})],Le.prototype,"returnM",void 0),(0,z._)([(0,he.Cb)({type:Boolean,json:{write:{overridePolicy:je=>({enabled:je})}}})],Le.prototype,"returnZ",void 0),(0,z._)([(0,he.Cb)({type:Ee.Z,json:{write:!0}})],Le.prototype,"sourceSpatialReference",void 0),(0,z._)([(0,xe.J)(Fe,{ignoreUnknown:!1,name:"spatialRel"})],Le.prototype,"spatialRelationship",void 0),(0,z._)([(0,he.Cb)({type:Number,json:{read:{source:"resultOffset"}}})],Le.prototype,"start",void 0),(0,z._)([(0,Ae.c)("start"),(0,Ae.c)("num")],Le.prototype,"writeStart",null),(0,z._)([(0,he.Cb)({type:String,json:{write:!0}})],Le.prototype,"sqlFormat",void 0),(0,z._)([(0,he.Cb)({type:String,json:{write:!0}})],Le.prototype,"text",void 0),(0,z._)([(0,he.Cb)({type:Te.Z,json:{write:!0}})],Le.prototype,"timeExtent",void 0),(0,z._)([(0,he.Cb)({type:Boolean,json:{default:!1,write:!0}})],Le.prototype,"timeReferenceUnknownClient",void 0),(0,z._)([(0,xe.J)(Ve,{ignoreUnknown:!1}),(0,he.Cb)({json:{write:{overridePolicy(je){return{enabled:je&&this.distance>0}}}}})],Le.prototype,"units",void 0),(0,z._)([(0,he.Cb)({type:String,json:{write:{overridePolicy(je){return{enabled:null!=je||this.start>0}}}}})],Le.prototype,"where",void 0),(0,z._)([(0,Ae.c)("where")],Le.prototype,"writeWhere",null),Le=Ue=(0,z._)([(0,de.j)("esri.rest.support.Query")],Le);var tt=Le},67010:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>me});var de,z=N(17626),Te=(N(29132),N(86162)),Me=N(58817),Ce=N(77712),Ie=N(90912),re=(N(8314),N(63290),N(61403)),ce=N(99433),be=N(15283),xe=N(65234);let Ae=de=class extends Te.wq{constructor(le){super(le),this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometryPrecision=void 0,this.historicMoment=null,this.maxAllowableOffset=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.relationshipId=void 0,this.start=void 0,this.num=void 0,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.where=null}_writeHistoricMoment(le,oe){oe.historicMoment=le&&le.getTime()}writeStart(le,oe){oe.resultOffset=this.start,oe.resultRecordCount=this.num||10,oe.where="1=1"}clone(){return new de((0,Me.d9)({dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}};(0,z._)([(0,Ce.Cb)({type:be.n,json:{write:!0}})],Ae.prototype,"dynamicDataSource",void 0),(0,z._)([(0,Ce.Cb)({type:String,json:{write:!0}})],Ae.prototype,"gdbVersion",void 0),(0,z._)([(0,Ce.Cb)({type:Number,json:{write:!0}})],Ae.prototype,"geometryPrecision",void 0),(0,z._)([(0,Ce.Cb)({type:Date})],Ae.prototype,"historicMoment",void 0),(0,z._)([(0,ce.c)("historicMoment")],Ae.prototype,"_writeHistoricMoment",null),(0,z._)([(0,Ce.Cb)({type:Number,json:{write:!0}})],Ae.prototype,"maxAllowableOffset",void 0),(0,z._)([(0,Ce.Cb)({type:[Number],json:{write:!0}})],Ae.prototype,"objectIds",void 0),(0,z._)([(0,Ce.Cb)({type:[String],json:{write:!0}})],Ae.prototype,"orderByFields",void 0),(0,z._)([(0,Ce.Cb)({type:[String],json:{write:!0}})],Ae.prototype,"outFields",void 0),(0,z._)([(0,Ce.Cb)({type:xe.Z,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Ae.prototype,"outSpatialReference",void 0),(0,z._)([(0,Ce.Cb)({json:{write:!0}})],Ae.prototype,"relationshipId",void 0),(0,z._)([(0,Ce.Cb)({type:Number,json:{read:{source:"resultOffset"}}})],Ae.prototype,"start",void 0),(0,z._)([(0,ce.c)("start"),(0,ce.c)("num")],Ae.prototype,"writeStart",null),(0,z._)([(0,Ce.Cb)({type:Number,json:{read:{source:"resultRecordCount"}}})],Ae.prototype,"num",void 0),(0,z._)([(0,Ce.Cb)({json:{write:!0}})],Ae.prototype,"returnGeometry",void 0),(0,z._)([(0,Ce.Cb)({type:Boolean,json:{write:{overridePolicy:le=>({enabled:le})}}})],Ae.prototype,"returnM",void 0),(0,z._)([(0,Ce.Cb)({type:Boolean,json:{write:{overridePolicy:le=>({enabled:le})}}})],Ae.prototype,"returnZ",void 0),(0,z._)([(0,Ce.Cb)({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],Ae.prototype,"where",void 0),Ae=de=(0,z._)([(0,re.j)("esri.rest.support.RelationshipQuery")],Ae),Ae.from=(0,Ie.se)(Ae);var me=Ae},60776:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>Ae});var be,z=N(17626),J=N(2076),Te=N(86162),Me=N(58817),Ce=N(77712),re=(N(90912),N(8314),N(63290),N(61403)),ce=N(99433);const xe=new J.Xn({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete"});let de=be=class extends Te.wq{constructor(me){super(me),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(me,le){"percentile-continuous"!==this.statisticType&&"percentile-discrete"!==this.statisticType||(le.statisticParameters=(0,Me.d9)(me))}clone(){return new be({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:(0,Me.d9)(this.statisticParameters)})}};(0,z._)([(0,Ce.Cb)({type:Number,json:{write:!0}})],de.prototype,"maxPointCount",void 0),(0,z._)([(0,Ce.Cb)({type:Number,json:{write:!0}})],de.prototype,"maxRecordCount",void 0),(0,z._)([(0,Ce.Cb)({type:Number,json:{write:!0}})],de.prototype,"maxVertexCount",void 0),(0,z._)([(0,Ce.Cb)({type:String,json:{write:!0}})],de.prototype,"onStatisticField",void 0),(0,z._)([(0,Ce.Cb)({type:String,json:{write:!0}})],de.prototype,"outStatisticFieldName",void 0),(0,z._)([(0,Ce.Cb)({type:String,json:{read:{source:"statisticType",reader:xe.read},write:{target:"statisticType",writer:xe.write}}})],de.prototype,"statisticType",void 0),(0,z._)([(0,Ce.Cb)({type:Object})],de.prototype,"statisticParameters",void 0),(0,z._)([(0,ce.c)("statisticParameters")],de.prototype,"writeStatisticParameters",null),de=be=(0,z._)([(0,re.j)("esri.rest.support.StatisticDefinition")],de);var Ae=de},6871:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>Ue});var Ae,z=N(17626),J=N(29132),Te=N(97478),Me=N(2076),Ce=N(86162),Ie=N(58817),ye=N(77712),he=N(90912),be=(N(8314),N(63290),N(61403)),xe=N(99433),de=N(91179);let me=Ae=class extends Ce.wq{constructor(Fe){super(Fe),this.groupByFields=void 0,this.topCount=void 0,this.orderByFields=void 0}clone(){return new Ae({groupByFields:this.groupByFields,topCount:this.topCount,orderByFields:this.orderByFields})}};(0,z._)([(0,ye.Cb)({type:[String],json:{write:!0}})],me.prototype,"groupByFields",void 0),(0,z._)([(0,ye.Cb)({type:Number,json:{write:!0}})],me.prototype,"topCount",void 0),(0,z._)([(0,ye.Cb)({type:[String],json:{write:!0}})],me.prototype,"orderByFields",void 0),me=Ae=(0,z._)([(0,be.j)("esri.rest.support.TopFilter")],me);var se,le=me,oe=N(65234);const fe=new Me.Xn({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),Ee=new Me.Xn({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let ge=se=class extends Ce.wq{constructor(Fe){super(Fe),this.cacheHint=void 0,this.distance=void 0,this.geometry=null,this.geometryPrecision=void 0,this.maxAllowableOffset=void 0,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.resultType=null,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.start=void 0,this.spatialRelationship="intersects",this.timeExtent=null,this.topFilter=void 0,this.units=null,this.where="1=1"}writeStart(Fe,Ve){Ve.resultOffset=this.start,Ve.resultRecordCount=this.num||10}clone(){return new se((0,Ie.d9)({cacheHint:this.cacheHint,distance:this.distance,geometry:this.geometry,geometryPrecision:this.geometryPrecision,maxAllowableOffset:this.maxAllowableOffset,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,resultType:this.resultType,returnGeometry:this.returnGeometry,returnZ:this.returnZ,returnM:this.returnM,start:this.start,spatialRelationship:this.spatialRelationship,timeExtent:this.timeExtent,topFilter:this.topFilter,units:this.units,where:this.where}))}};(0,z._)([(0,ye.Cb)({type:Boolean,json:{write:!0}})],ge.prototype,"cacheHint",void 0),(0,z._)([(0,ye.Cb)({type:Number,json:{write:{overridePolicy:Fe=>({enabled:Fe>0})}}})],ge.prototype,"distance",void 0),(0,z._)([(0,ye.Cb)({types:J.qM,json:{read:de.im,write:!0}})],ge.prototype,"geometry",void 0),(0,z._)([(0,ye.Cb)({type:Number,json:{write:!0}})],ge.prototype,"geometryPrecision",void 0),(0,z._)([(0,ye.Cb)({type:Number,json:{write:!0}})],ge.prototype,"maxAllowableOffset",void 0),(0,z._)([(0,ye.Cb)({type:Number,json:{read:{source:"resultRecordCount"}}})],ge.prototype,"num",void 0),(0,z._)([(0,ye.Cb)({json:{write:!0}})],ge.prototype,"objectIds",void 0),(0,z._)([(0,ye.Cb)({type:[String],json:{write:!0}})],ge.prototype,"orderByFields",void 0),(0,z._)([(0,ye.Cb)({type:[String],json:{write:!0}})],ge.prototype,"outFields",void 0),(0,z._)([(0,ye.Cb)({type:oe.Z,json:{read:{source:"outSR"},write:{target:"outSR"}}})],ge.prototype,"outSpatialReference",void 0),(0,z._)([(0,ye.Cb)({type:String,json:{write:!0}})],ge.prototype,"resultType",void 0),(0,z._)([(0,ye.Cb)({json:{write:!0}})],ge.prototype,"returnGeometry",void 0),(0,z._)([(0,ye.Cb)({type:Boolean,json:{write:{overridePolicy:Fe=>({enabled:Fe})}}})],ge.prototype,"returnM",void 0),(0,z._)([(0,ye.Cb)({type:Boolean,json:{write:{overridePolicy:Fe=>({enabled:Fe})}}})],ge.prototype,"returnZ",void 0),(0,z._)([(0,ye.Cb)({type:Number,json:{read:{source:"resultOffset"}}})],ge.prototype,"start",void 0),(0,z._)([(0,xe.c)("start"),(0,xe.c)("num")],ge.prototype,"writeStart",null),(0,z._)([(0,ye.Cb)({type:String,json:{read:{source:"spatialRel",reader:fe.read},write:{target:"spatialRel",writer:fe.write}}})],ge.prototype,"spatialRelationship",void 0),(0,z._)([(0,ye.Cb)({type:Te.Z,json:{write:!0}})],ge.prototype,"timeExtent",void 0),(0,z._)([(0,ye.Cb)({type:le,json:{write:!0}})],ge.prototype,"topFilter",void 0),(0,z._)([(0,ye.Cb)({type:String,json:{read:Ee.read,write:{writer:Ee.write,overridePolicy(Fe){return{enabled:Fe&&this.distance>0}}}}})],ge.prototype,"units",void 0),(0,z._)([(0,ye.Cb)({type:String,json:{write:!0}})],ge.prototype,"where",void 0),ge=se=(0,z._)([(0,be.j)("esri.rest.support.TopFeaturesQuery")],ge),ge.from=(0,he.se)(ge);var Ue=ge},79023:(hi,lt,N)=>{"use strict";N.d(lt,{i:()=>Ce,V:()=>Me});var z=N(40251),J=N(61661),Te=N(75414);const Me={key:"type",base:J.Z,typeMap:{algorithmic:z.Z,multipart:Te.Z}};function Ce(Ie){return Ie&&Ie.type?"algorithmic"===Ie.type?z.Z.fromJSON(Ie):"multipart"===Ie.type?Te.Z.fromJSON(Ie):null:null}},2618:(hi,lt,N)=>{"use strict";N.d(lt,{lA:()=>J,cv:()=>Me,en:()=>Te});var z=N(21726);function J(Ce,Ie){return Ie?fr(ji({},Ie),{query:ji(ji({},Ce),Ie.query)}):{query:Ce}}function Te(Ce){return"string"==typeof Ce?(0,z.mN)(Ce):Ce}function Me(Ce,Ie,ye){const he={};for(const re in Ce){if("declaredClass"===re)continue;const ce=Ce[re];if(null!=ce&&"function"!=typeof ce)if(Array.isArray(ce)){he[re]=[];for(let be=0;be<ce.length;be++)he[re][be]=Me(ce[be])}else if("object"==typeof ce)if(ce.toJSON){const be=ce.toJSON(ye&&ye[re]);he[re]=Ie?be:JSON.stringify(be)}else he[re]=Ie?ce:JSON.stringify(ce);else he[re]=ce}return he}},51815:(hi,lt,N)=>{"use strict";N.d(lt,{JN:()=>be,ZP:()=>Ae,$o:()=>de});var z=N(17626),J=N(88879),Te=N(7093),Me=N(89726),Ie=(N(8314),N(63290)),ye=N(77712),re=(N(90912),N(61403));const ce=Te.Z.ofType(J.Z);Ie.Z.getLogger("esri.support.GraphicsCollection");let be=class extends ce{constructor(me){super(me),this.on("before-add",le=>{le.item||le.preventDefault()}),this.on("after-add",le=>this._own(le.item)),this.on("after-remove",({item:le})=>{le.layer=null})}destroy(){this._unownAll()}get owner(){return this._get("owner")}set owner(me){me!==this._get("owner")&&(this._unownAll(),this._set("owner",me),this._ownAll())}_createNewInstance(me){return new ce(me)}_ownAll(){this.items.forEach(me=>this._own(me))}_own(me){me.layer&&"remove"in me.layer&&me.layer!==this.owner&&me.layer.remove(me),me.layer=this.owner}_unownAll(){this.items.forEach(me=>this._unown(me))}_unown(me){me.layer===this.owner&&(me.layer=null)}};(0,z._)([(0,ye.Cb)()],be.prototype,"owner",null),be=(0,z._)([(0,re.j)("esri.support.GraphicsCollection")],be);const de=(me="graphics")=>({type:be,cast:Me.R,set(le){const oe=(0,Me.Z)(le,this._get(me),be);oe.owner=this,this._set(me,oe)}});var Ae=be},6432:(hi,lt,N)=>{"use strict";N.d(lt,{K:()=>Ae});var z=N(17626),J=N(7093),Te=N(89726),Me=N(63290),Ce=N(10699),Ie=N(77712),re=(N(8314),N(90912),N(61403)),ce=N(63602);function be(me){return me&&"group"===me.type}function xe(me,le,oe){let se,fe;if(me)for(let Ee=0,ge=me.length;Ee<ge;Ee++){if(se=me.getItemAt(Ee),se[le]===oe)return se;if(be(se)&&(fe=xe(se.layers,le,oe),fe))return fe}}const de=Me.Z.getLogger("esri.support.LayersMixin"),Ae=me=>{let le=class extends me{constructor(...oe){super(...oe),this.layers=new J.Z;const fe=ge=>{ge.parent=this,this.layerAdded(ge),"elevation"!==ge.type&&"base-elevation"!==ge.type||de.error(`Layer 'title:${ge.title}, id:${ge.id}' of type '${ge.type}' is not supported as an operational layer and will therefore be ignored.`)},Ee=ge=>{ge.parent=null,this.layerRemoved(ge)};this.layers.on("before-add",ge=>(ge=>{ge.parent&&"remove"in ge.parent&&ge.parent.remove(ge)})(ge.item)),this.layers.on("after-add",ge=>fe(ge.item)),this.layers.on("after-remove",ge=>Ee(ge.item))}destroy(){const oe=this.layers.removeAll();for(const se of oe)this.layerRemoved(se),se.destroy();this.layers.destroy()}set layers(oe){this._set("layers",(0,Te.Z)(oe,this._get("layers")))}add(oe,se){const fe=this.layers;if(se=fe.getNextIndex(se),oe instanceof ce.Z){const Ee=oe;Ee.parent===this?this.reorder(Ee,se):fe.add(Ee,se)}else(0,Ce.y8)(oe)?oe.then(Ee=>{this.destroyed||this.add(Ee,se)}):de.error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(oe,se){const fe=this.layers;se=fe.getNextIndex(se),oe.slice().forEach(Ee=>{Ee.parent!==this?(fe.add(Ee,se),se+=1):this.reorder(Ee,se)})}findLayerById(oe){return xe(this.layers,"id",oe)}findLayerByUid(oe){return xe(this.layers,"uid",oe)}remove(oe){return this.layers.remove(oe)}removeMany(oe){return this.layers.removeMany(oe)}removeAll(){return this.layers.removeAll()}reorder(oe,se){return this.layers.reorder(oe,se)}layerAdded(oe){}layerRemoved(oe){}};return(0,z._)([(0,Ie.Cb)()],le.prototype,"layers",null),le=(0,z._)([(0,re.j)("esri.support.LayersMixin")],le),le}},6119:(hi,lt,N)=>{"use strict";N.d(lt,{Q:()=>de});var z=N(17626),J=N(7093),Te=N(89726),Me=N(63290),Ce=N(77712),he=(N(8314),N(90912),N(61403));const re="esri.support.TablesMixin",ce=Me.Z.getLogger(re);function be(Ae){return Ae&&"group"===Ae.type}function xe(Ae,me,le){if(Ae)for(let oe=0,se=Ae.length;oe<se;oe++){const fe=Ae.getItemAt(oe);if(fe[me]===le)return fe;if(be(fe)){const Ee=xe(fe.tables,me,le);if(Ee)return Ee}}}const de=Ae=>{let me=class extends Ae{constructor(...le){super(...le),this.tables=new J.Z,this.tables.on("after-add",oe=>{const se=oe.item;se.parent&&se.parent!==this&&"tables"in se.parent&&se.parent.tables.remove(se),se.parent=this,"feature"!==se.type&&ce.error(`Layer 'title:${se.title}, id:${se.id}' of type '${se.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on("after-remove",oe=>{oe.item.parent=null})}destroy(){const le=this.tables.removeAll();for(const oe of le)oe.destroy();this.tables.destroy()}set tables(le){this._set("tables",(0,Te.Z)(le,this._get("tables")))}findTableById(le){return xe(this.tables,"id",le)}findTableByUid(le){return xe(this.tables,"uid",le)}};return(0,z._)([(0,Ce.Cb)()],me.prototype,"tables",null),me=(0,z._)([(0,he.j)(re)],me),me}},59397:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>be});var re,z=N(17626),J=N(61458),Te=N(61996),Me=N(77712),he=(N(8314),N(90912),N(63290),N(61403));let ce=re=class extends((0,Te.I)(J.Z)){constructor(xe){super(xe),this.active=!1,this.className=null,this.disabled=!1,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new re({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};(0,z._)([(0,Me.Cb)()],ce.prototype,"active",void 0),(0,z._)([(0,Me.Cb)()],ce.prototype,"className",void 0),(0,z._)([(0,Me.Cb)()],ce.prototype,"disabled",void 0),(0,z._)([(0,Me.Cb)()],ce.prototype,"id",void 0),(0,z._)([(0,Me.Cb)()],ce.prototype,"indicator",void 0),(0,z._)([(0,Me.Cb)()],ce.prototype,"title",void 0),(0,z._)([(0,Me.Cb)()],ce.prototype,"type",void 0),(0,z._)([(0,Me.Cb)()],ce.prototype,"visible",void 0),ce=re=(0,z._)([(0,he.j)("esri.support.actions.ActionBase")],ce);var be=ce},48753:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>ce});var he,z=N(17626),J=N(77712),Ie=(N(8314),N(90912),N(63290),N(61403)),ye=N(59397);let re=he=class extends ye.Z{constructor(be){super(be),this.image=null,this.type="button"}clone(){return new he({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};(0,z._)([(0,J.Cb)()],re.prototype,"image",void 0),re=he=(0,z._)([(0,Ie.j)("esri.support.Action.ActionButton")],re);var ce=re},10671:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>ce});var he,z=N(17626),J=N(77712),Ie=(N(8314),N(90912),N(63290),N(61403)),ye=N(59397);let re=he=class extends ye.Z{constructor(be){super(be),this.image=null,this.type="toggle",this.value=!1}clone(){return new he({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};(0,z._)([(0,J.Cb)()],re.prototype,"image",void 0),(0,z._)([(0,J.Cb)()],re.prototype,"value",void 0),re=he=(0,z._)([(0,Ie.j)("esri.support.Action.ActionToggle")],re);var ce=re},12680:(hi,lt,N)=>{"use strict";N.d(lt,{r:()=>Me});var z=N(21726);const J=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];function Me(Ce){const Ie=(0,z.P$)(Ce,!0);return Ie&&Ie.endsWith(".arcgis.com")&&!J.includes(Ie)&&!Ce.endsWith("/sharing/rest/generateToken")}},46679:(hi,lt,N)=>{"use strict";N.d(lt,{mz:()=>be,pp:()=>ce,WW:()=>ye,Yi:()=>he,LC:()=>Ie});var z=N(15861),Te=(N(29132),N(62208)),Me=N(65234);let Ce;function Ie(){return Ce||(Ce=(0,z.Z)(function*(){const xe=yield Promise.all([N.e(8592),N.e(5068)]).then(N.bind(N,75068));return{arcade:xe.arcade,arcadeUtils:xe,Dictionary:xe.Dictionary,Feature:xe.arcadeFeature}})()),Ce}const ye=(xe,de,Ae)=>be.create(xe,de,Ae,null,["$feature"]),he=(xe,de,Ae)=>be.create(xe,de,Ae,null,["$feature","$view"]),ce=(xe,de,Ae,me)=>be.create(xe,de,Ae,me,["$feature","$view"]);class be{constructor(de,Ae,me,le,oe,se,fe,Ee){this.script=de,this.evaluate=oe;const ge=Array.isArray(fe)?fe:fe.fields;this.fields=ge,this._syntaxTree=le,this._arcade=Ae,this._arcadeDictionary=me,this._arcadeFeature=se,this._spatialReference=Ee,this._referencesGeometry=Ae.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static create(de,Ae,me,le,oe,se){return(0,z.Z)(function*(){const{arcade:fe,Feature:Ee,Dictionary:ge}=yield Ie(),Ue=Me.Z.fromJSON(Ae),Fe=fe.parseScript(de,se),Ve=oe.reduce((ot,Ne)=>fr(ji({},ot),{[Ne]:null}),{});let Le=null;(0,Te.pC)(le)&&(Le=new ge(le),Le.immutable=!0,Ve.$config=null);const tt=fe.scriptUsesGeometryEngine(Fe)&&fe.enableGeometrySupport(),je=fe.scriptUsesFeatureSet(Fe)&&fe.enableFeatureSetSupport(),ve=fe.scriptIsAsync(Fe)&&fe.enableAsyncSupport(),Oe={vars:Ve,spatialReference:Ue,useAsync:!!ve},qe=new ge;qe.immutable=!1,qe.setField("scale",0);const He=fe.compileScript(Fe,Oe);return yield Promise.all([tt,je,ve]),new be(de,fe,ge,Fe,ot=>("$view"in ot&&ot.$view&&(qe.setField("scale",ot.$view.scale),ot.$view=qe),Le&&(ot.$config=Le),He({vars:ot,spatialReference:Ue})),new Ee,me,Ue)})()}repurposeFeature(de){return de.geometry&&!de.geometry.spatialReference&&(de.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(de.geometry,de.attributes,{fields:this.fields}),this._arcadeFeature}repurposeAdapter(de){return this._arcadeFeature.repurposeFromAdapter(de,{fields:this.fields}),this._arcadeFeature}createDictionary(){return new this._arcadeDictionary}referencesMember(de){return this._arcade.referencesMember(this._syntaxTree,de)}referencesFunction(de){return this._arcade.referencesFunction(this._syntaxTree,de)}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}extractFieldLiterals(){return this._arcade.extractExpectedFieldLiterals(this._syntaxTree)}}},33954:(hi,lt,N)=>{"use strict";N.d(lt,{s:()=>Ie,g:()=>Me});var z=N(15861),J=N(54346),Te=N(41840);function Me(ye){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,z.Z)(function*(ye){if(!ye)return;const he=ye.indexOf("-vector")>-1?ye.slice(0,ye.indexOf("-vector")):ye,re=yield(0,Te.ME)("esri/t9n/basemaps");return re[ye]||re[he]})).apply(this,arguments)}const Ie={streets:{id:"streets",classic:!0,get thumbnailUrl(){return(0,J.V)("esri/images/basemap/streets.jpg")},baseMapLayers:[{id:"streets-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Street Map",showLegend:!1,visibility:!0,opacity:1}]},satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return(0,J.V)("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return(0,J.V)("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Boundaries and Places",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return(0,J.V)("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},topo:{id:"topo",classic:!0,get thumbnailUrl(){return(0,J.V)("esri/images/basemap/topo.jpg")},baseMapLayers:[{id:"topo-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Topo Map",showLegend:!1,visibility:!0,opacity:1}]},gray:{id:"gray",classic:!0,get thumbnailUrl(){return(0,J.V)("esri/images/basemap/gray.jpg")},baseMapLayers:[{id:"gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"dark-gray":{id:"dark-gray",classic:!0,get thumbnailUrl(){return(0,J.V)("esri/images/basemap/dark-gray.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"dark-gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return(0,J.V)("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"national-geographic":{id:"national-geographic",classic:!0,get thumbnailUrl(){return(0,J.V)("esri/images/basemap/national-geographic.jpg")},baseMapLayers:[{id:"national-geographic-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer",title:"NatGeo World Map",showLegend:!1,layerType:"ArcGISTiledMapServiceLayer",visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return(0,J.V)("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return(0,J.V)("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return(0,J.V)("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return(0,J.V)("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return(0,J.V)("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return(0,J.V)("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return(0,J.V)("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return(0,J.V)("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"arcgis-imagery":{get thumbnailUrl(){return(0,J.V)("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return(0,J.V)("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return(0,J.V)("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return(0,J.V)("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return(0,J.V)("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return(0,J.V)("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return(0,J.V)("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return(0,J.V)("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return(0,J.V)("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return(0,J.V)("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]}}},49430:(hi,lt,N)=>{"use strict";N.d(lt,{eZ:()=>de});var z=N(73281),J=N(36630),Te=N(55664),Ie=(N(55013),N(16615),N(75484)),re=(N(64531),N(501),N(25621)),ce=N(66845);const be=["oid","global-id"],xe=["oid","global-id","guid"];function de({displayField:je,editFieldsInfo:ve,fields:Oe,objectIdField:qe,title:He},Qe){if(!Oe)return null;const ot=function({editFieldsInfo:je,fields:ve,objectIdField:Oe},qe){return function(je,ve){const Oe=je;return ve&&(je=je.filter(qe=>-1===ve.indexOf(qe.type))),je===Oe&&(je=je.slice()),je.sort(oe),je}(ve,(null==qe?void 0:qe.ignoreFieldTypes)||tt).map(He=>new re.Z({fieldName:He.name,isEditable:fe(He,je),label:He.alias,format:Ue(He),visible:me(He,{editFieldsInfo:je,objectIdField:Oe,visibleFieldNames:null==qe?void 0:qe.visibleFieldNames})}))}({editFieldsInfo:ve,fields:Oe,objectIdField:qe},Qe);if(!ot.length)return null;const Ne=function(je){const ve=(0,J.O5)(je),{titleBase:Oe}=je;return ve?`${Oe}: {${ve.trim()}}`:Oe}({titleBase:He,fields:Oe,displayField:je}),Se=[new Ie.Z,new Te.Z];return new z.Z({title:Ne,content:Se,fieldInfos:ot})}const Ae=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i],me=(je,{editFieldsInfo:ve,objectIdField:Oe,visibleFieldNames:qe})=>qe?qe.has(je.name):!(se(je.name,ve)||Oe&&je.name===Oe||be.indexOf(je.type)>-1||Ae.some(He=>He.test(je.name)));function oe(je,ve){return"oid"===je.type?-1:"oid"===ve.type?1:Le(je)?-1:Le(ve)?1:(je.alias||je.name).toLocaleLowerCase().localeCompare((ve.alias||ve.name).toLocaleLowerCase())}function se(je,ve){if(!je||!ve)return!1;const{creationDateField:Oe,creatorField:qe,editDateField:He,editorField:Qe}=ve;return-1!==[Oe&&Oe.toLowerCase(),qe&&qe.toLowerCase(),He&&He.toLowerCase(),Qe&&Qe.toLowerCase()].indexOf(je.toLowerCase())}function fe(je,ve){return je.editable&&-1===xe.indexOf(je.type)&&!se(je.name,ve)}function Ue(je){switch(je.type){case"small-integer":case"integer":case"single":return new ce.Z({digitSeparator:!0,places:0});case"double":return new ce.Z({digitSeparator:!0,places:2});case"date":return new ce.Z({dateFormat:"long-month-day-year"});default:return null}}function Le(je){return"name"===(je.name&&je.name.toLowerCase())||"name"===(je.alias&&je.alias.toLowerCase())||void 0}const tt=["geometry","blob","raster","guid","xml"]},33899:(hi,lt,N)=>{"use strict";N.d(lt,{f:()=>Me});var z=N(8314),J=N(62208),Te=N(10699);function Me(Ie,ye,he=!1,re){return new Promise((ce,be)=>{if((0,Te.Hc)(re))return void be(Ce());let xe=()=>{me(),be(new Error(`Unable to load ${ye}`))},de=()=>{const le=Ie;me(),ce(le)},Ae=()=>{if(!Ie)return;const le=Ie;me(),le.src="",be(Ce())};const me=()=>{(0,z.Z)("esri-image-decode")||(Ie.removeEventListener("error",xe),Ie.removeEventListener("load",de)),xe=null,de=null,Ie=null,(0,J.pC)(re)&&re.removeEventListener("abort",Ae),Ae=null,he&&URL.revokeObjectURL(ye)};(0,J.pC)(re)&&re.addEventListener("abort",Ae),(0,z.Z)("esri-image-decode")?Ie.decode().then(de,xe):(Ie.addEventListener("error",xe),Ie.addEventListener("load",de))})}function Ce(){try{return new DOMException("Aborted","AbortError")}catch(Ie){const ye=new Error;return ye.name="AbortError",ye}}},38365:(hi,lt,N)=>{"use strict";N.d(lt,{r:()=>z,$:()=>J});const z="20210928",J="c312c4b5c1d3a2f6febbd67d710c6d6cd2dba51d"},65787:(hi,lt,N)=>{"use strict";N.d(lt,{se:()=>We,cT:()=>Rt,dU:()=>_e,S9:()=>Dt,LB:()=>ke,AH:()=>rt,yK:()=>st,S6:()=>pi,QT:()=>Kt,f_:()=>qt});var Ue,z=N(90912),J=N(383),Te=N(94398),Ce=(N(65499),N(48575)),Ie=N(76087),re=(N(11472),N(46645),N(22490)),ce=N(40445),de=(N(12236),N(46735),N(17626)),Ae=N(7093),me=N(58817),le=N(77712),fe=(N(8314),N(63290),N(55342)),Ee=N(61403),ge=N(39368);const Fe=Ae.Z.ofType({base:null,key:"type",typeMap:{fill:Ie.Z}});let Ve=Ue=class extends ge.Z{constructor(fi){super(fi),this.symbolLayers=new Fe,this.type="mesh-3d"}clone(){return new Ue({styleOrigin:(0,me.d9)(this.styleOrigin),symbolLayers:(0,me.d9)(this.symbolLayers),thumbnail:(0,me.d9)(this.thumbnail)})}};(0,de._)([(0,le.Cb)({type:Fe})],Ve.prototype,"symbolLayers",void 0),(0,de._)([(0,fe.J)({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],Ve.prototype,"type",void 0),Ve=Ue=(0,de._)([(0,Ee.j)("esri.symbols.MeshSymbol3D")],Ve);var qe,Le=Ve,ve=(N(2066),N(69147),N(23841)),Oe=N(69738);let He=qe=class extends Ce.Z{constructor(...fi){super(...fi),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(fi,Mi,Ki,yn){if(fi&&"string"!=typeof fi&&null==fi.imageData)return fi;const Un={};return fi&&(Un.url=fi),Mi&&(Un.outline=Mi),null!=Ki&&(Un.width=(0,ve.t_)(Ki)),null!=yn&&(Un.height=(0,ve.t_)(yn)),Un}clone(){const fi=new qe({color:(0,me.d9)(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return fi._set("source",(0,me.d9)(this.source)),fi}hash(){var fi;return`${super.hash()}.${null==(fi=this.color)?void 0:fi.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};(0,de._)([(0,fe.J)({esriPFS:"picture-fill"},{readOnly:!0})],He.prototype,"type",void 0),(0,de._)([(0,le.Cb)(Oe.KA)],He.prototype,"url",void 0),(0,de._)([(0,le.Cb)({type:Number,json:{write:!0}})],He.prototype,"xscale",void 0),(0,de._)([(0,le.Cb)({type:Number,json:{write:!0}})],He.prototype,"yscale",void 0),(0,de._)([(0,le.Cb)({type:Number,cast:ve.t_,json:{write:!0}})],He.prototype,"width",void 0),(0,de._)([(0,le.Cb)({type:Number,cast:ve.t_,json:{write:!0}})],He.prototype,"height",void 0),(0,de._)([(0,le.Cb)({type:Number,cast:ve.t_,json:{write:!0}})],He.prototype,"xoffset",void 0),(0,de._)([(0,le.Cb)({type:Number,cast:ve.t_,json:{write:!0}})],He.prototype,"yoffset",void 0),(0,de._)([(0,le.Cb)(Oe.Ds)],He.prototype,"source",void 0),He=qe=(0,de._)([(0,Ee.j)("esri.symbols.PictureFillSymbol")],He);var Qe=He,ot=N(13546),Ne=N(69852),Se=N(89673),$e=N(88493),nt=N(52068),ut=N(57213),xt=N(10012),et=(N(97665),N(35540)),Bt=(N(37771),N(72622),N(12874));function Rt(fi){if(!fi)return!1;switch(fi.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function _e(fi){if(!fi)return!1;switch(fi.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}N(17497),N(71530),N(97595);const ke={base:xt.Z,key:"type",typeMap:{"simple-fill":$e.Z,"picture-fill":Qe,"picture-marker":ot.Z,"simple-line":nt.Z,"simple-marker":ut.Z,text:et.Z,"label-3d":re.Z,"line-3d":ce.Z,"mesh-3d":Le,"point-3d":Ne.Z,"polygon-3d":Se.Z,"web-style":Bt.Z,cim:Te.Z},errorContext:"symbol"},rt={base:xt.Z,key:"type",typeMap:{"picture-marker":ot.Z,"simple-marker":ut.Z,text:et.Z,"web-style":Bt.Z,cim:Te.Z},errorContext:"symbol"},Dt=(0,J.d)({types:ke}),Kt={base:xt.Z,key:"type",typeMap:{"simple-fill":$e.Z,"picture-fill":Qe,"picture-marker":ot.Z,"simple-line":nt.Z,"simple-marker":ut.Z,text:et.Z,"line-3d":ce.Z,"mesh-3d":Le,"point-3d":Ne.Z,"polygon-3d":Se.Z,"web-style":Bt.Z,cim:Te.Z},errorContext:"symbol"},st={base:xt.Z,key:"type",typeMap:{text:et.Z,"label-3d":re.Z},errorContext:"symbol"},qt={base:xt.Z,key:"type",typeMap:{"line-3d":ce.Z,"mesh-3d":Le,"point-3d":Ne.Z,"polygon-3d":Se.Z,"web-style":Bt.Z},errorContext:"symbol"},pi={base:xt.Z,key:"type",typeMap:{"label-3d":re.Z},errorContext:"symbol"},We=(0,z.N7)(ke)},94398:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>oe});var me,z=N(15861),J=N(17626),Te=N(58817),Me=N(77275),Ce=N(77712),re=(N(90912),N(8314),N(63290),N(55342)),ce=N(68653),be=N(61403),xe=N(99433),de=N(36630),Ae=N(10012);let le=me=class extends Ae.Z{constructor(se){super(se),this.data=null,this.type="cim"}readData(se,fe){return fe}writeData(se,fe){if(se)for(const Ee in se)fe[Ee]=se[Ee]}collectRequiredFields(se,fe){var Ee=this;return(0,z.Z)(function*(){if("CIMSymbolReference"===Ee.data.type){const ge=Ee.data.primitiveOverrides;if(ge){const Ue=ge.map(Fe=>(0,de.io)(se,fe,Fe.valueExpressionInfo.expression));yield Promise.all(Ue)}}})()}clone(){return new me({data:(0,Te.d9)(this.data)})}hash(){return(0,Me.hP)(JSON.stringify(this.data)).toString()}};(0,J._)([(0,Ce.Cb)({json:{write:!1}})],le.prototype,"color",void 0),(0,J._)([(0,Ce.Cb)({json:{write:!0}})],le.prototype,"data",void 0),(0,J._)([(0,ce.r)("data",["symbol"])],le.prototype,"readData",null),(0,J._)([(0,xe.c)("data")],le.prototype,"writeData",null),(0,J._)([(0,re.J)({CIMSymbolReference:"cim"},{readOnly:!0})],le.prototype,"type",void 0),le=me=(0,J._)([(0,be.j)("esri.symbols.CIMSymbol")],le);var oe=le},65499:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>Ae});var xe,z=N(17626),J=N(62208),Te=N(77712),ye=(N(8314),N(90912),N(63290),N(55342)),he=N(61403),re=N(97665),ce=N(89441),be=N(64830);let de=xe=class extends re.Z{constructor(me){super(me),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new xe({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:(0,J.pC)(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size})}};(0,z._)([(0,ye.J)({Extrude:"extrude"},{readOnly:!0})],de.prototype,"type",void 0),(0,z._)([(0,Te.Cb)({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],de.prototype,"size",void 0),(0,z._)([(0,Te.Cb)({type:be.Z,json:{write:!0}})],de.prototype,"material",void 0),(0,z._)([(0,Te.Cb)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],de.prototype,"castShadows",void 0),(0,z._)([(0,Te.Cb)(ce.Z)],de.prototype,"edges",void 0),de=xe=(0,z._)([(0,he.j)("esri.symbols.ExtrudeSymbol3DLayer")],de);var Ae=de},48575:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>ce});var z=N(17626),J=N(77712),Ie=(N(8314),N(90912),N(63290),N(61403)),ye=N(52068),he=N(10012);let re=class extends he.Z{constructor(be){super(be),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline&&this.outline.hash()}`}};(0,z._)([(0,J.Cb)({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":ye.Z}},json:{default:null,write:!0}})],re.prototype,"outline",void 0),(0,z._)([(0,J.Cb)({type:["simple-fill","picture-fill"],readOnly:!0})],re.prototype,"type",void 0),re=(0,z._)([(0,Ie.j)("esri.symbols.FillSymbol")],re);var ce=re},76087:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>ve});var z=N(17626),J=N(62208),Te=N(77712),ye=(N(8314),N(90912),N(63290),N(55342)),he=N(61403),re=N(97665),ce=N(89441),be=N(86162);let xe=class extends be.wq{constructor(Oe){super(Oe)}clone(){}};(0,z._)([(0,Te.Cb)({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],xe.prototype,"type",void 0),xe=(0,z._)([(0,he.j)("esri.symbols.patterns.Pattern3D")],xe);var me,de=xe;let le=me=class extends de{constructor(Oe){super(Oe),this.type="style",this.style="solid"}clone(){return new me({style:this.style})}};(0,z._)([(0,Te.Cb)({type:["style"]})],le.prototype,"type",void 0),(0,z._)([(0,Te.Cb)({type:["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"],json:{read:!0,write:!0}})],le.prototype,"style",void 0),le=me=(0,z._)([(0,he.j)("esri.symbols.patterns.StylePattern3D")],le);var oe=le;const fe={types:{key:"type",base:de,typeMap:{style:oe}},json:{read:function(Oe,qe,He){if(!Oe)return Oe;if("style"===Oe.type){const Qe=new oe;return Qe.read(Oe,He),Qe}},write:!0}};var Ue,Ee=N(12948),ge=N(64830);let Fe=Ue=class extends ge.Z{clone(){return new Ue({color:(0,J.pC)(this.color)?this.color.clone():null,colorMixMode:this.colorMixMode})}};(0,z._)([(0,ye.J)({multiply:"multiply",replace:"replace",tint:"tint"})],Fe.prototype,"colorMixMode",void 0),Fe=Ue=(0,z._)([(0,he.j)("esri.symbols.support.Symbol3DFillMaterial")],Fe);var tt,Ve=Fe,Le=N(49511);let je=tt=class extends re.Z{constructor(Oe){super(Oe),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){return new tt({edges:(0,J.pC)(this.edges)?this.edges.clone():null,enabled:this.enabled,material:(0,J.pC)(this.material)?this.material.clone():null,pattern:(0,J.pC)(this.pattern)?this.pattern.clone():null,castShadows:this.castShadows,outline:(0,J.pC)(this.outline)?this.outline.clone():null})}static fromSimpleFillSymbol(Oe){return new tt({material:{color:(Oe.color||Ee.l9).clone()},pattern:Oe.style&&"solid"!==Oe.style?new oe({style:Oe.style}):null,outline:Oe.outline?new Le.Z({size:Oe.outline.width||0,color:(Oe.outline.color||Ee.ix).clone(),pattern:"solid",patternCap:Oe.outline.cap||"butt"}):null})}};(0,z._)([(0,ye.J)({Fill:"fill"},{readOnly:!0})],je.prototype,"type",void 0),(0,z._)([(0,Te.Cb)({type:Ve,json:{write:!0}})],je.prototype,"material",void 0),(0,z._)([(0,Te.Cb)(fe)],je.prototype,"pattern",void 0),(0,z._)([(0,Te.Cb)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],je.prototype,"castShadows",void 0),(0,z._)([(0,Te.Cb)({type:Le.Z,json:{write:!0}})],je.prototype,"outline",void 0),(0,z._)([(0,Te.Cb)(ce.Z)],je.prototype,"edges",void 0),je=tt=(0,z._)([(0,he.j)("esri.symbols.FillSymbol3DLayer")],je);var ve=je},11472:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>be});var re,z=N(17626),J=N(86162),Te=N(23841),Me=N(77712),Ie=(N(8314),N(66656)),he=(N(63290),N(61403));let ce=re=class extends J.wq{constructor(xe){super(xe),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(xe){return(0,Te.t_)(xe)}clone(){return new re({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};(0,z._)([(0,Me.Cb)({type:["underline","line-through","none"],json:{default:"none",write:!0}})],ce.prototype,"decoration",void 0),(0,z._)([(0,Me.Cb)({type:String,json:{write:!0}})],ce.prototype,"family",void 0),(0,z._)([(0,Me.Cb)({type:Number,json:{write:{overridePolicy:(xe,de,Ae)=>({enabled:!Ae||!Ae.textSymbol3D})}}})],ce.prototype,"size",void 0),(0,z._)([(0,Ie.p)("size")],ce.prototype,"castSize",null),(0,z._)([(0,Me.Cb)({type:["normal","italic","oblique"],json:{default:"normal",write:!0}})],ce.prototype,"style",void 0),(0,z._)([(0,Me.Cb)({type:["normal","bold","bolder","lighter"],json:{default:"normal",write:!0}})],ce.prototype,"weight",void 0),ce=re=(0,z._)([(0,he.j)("esri.symbols.Font")],ce);var be=ce},46645:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>Ve});var oe,z=N(17626),J=N(63290),Te=N(62208),Me=N(21726),Ce=N(77712),he=(N(8314),N(90912),N(55342)),re=N(61403),ce=N(97665),be=N(12948),xe=N(33215),de=N(60958),Ae=N(37519),me=N(64830),le=N(49511);const se=J.Z.getLogger("esri.symbols.IconSymbol3DLayer");let fe=oe=class extends ce.Z{constructor(Le){super(Le),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=void 0,this.outline=void 0}clone(){return new oe({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:(0,Te.pC)(this.material)?this.material.clone():null,outline:(0,Te.pC)(this.outline)?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})}static fromSimpleMarkerSymbol(Le){const tt=Le.color||be.ix,je=Ee(Le),ve=Le.outline&&Le.outline.width>0?{size:Le.outline.width,color:(Le.outline.color||be.ix).clone()}:null;return new oe({size:Le.size,resource:{primitive:Fe(Le.style)},material:{color:tt},outline:ve,anchor:je?"relative":void 0,anchorPosition:je})}static fromPictureMarkerSymbol(Le){const tt=!Le.color||(0,be.rx)(Le.color)?be.ix:Le.color,je=Ee(Le);return new oe({size:Le.width<=Le.height?Le.height:Le.width,resource:{href:Le.url},material:{color:tt.clone()},anchor:je?"relative":void 0,anchorPosition:je})}static fromCIMSymbol(Le){return new oe({resource:{href:(0,Me._l)({mediaType:"application/json",data:JSON.stringify(Le.data)})}})}};function Ee(Le){const tt="width"in Le?Le.width:Le.size,je="height"in Le?Le.height:Le.size,ve=ge(Le.xoffset),Oe=ge(Le.yoffset);return(ve||Oe)&&tt&&je?{x:-ve/tt,y:Oe/je}:null}function ge(Le){return isFinite(Le)?Le:0}(0,z._)([(0,Ce.Cb)({type:me.Z,json:{write:!0}})],fe.prototype,"material",void 0),(0,z._)([(0,Ce.Cb)({type:xe.ZP,json:{write:!0}})],fe.prototype,"resource",void 0),(0,z._)([(0,he.J)({Icon:"icon"},{readOnly:!0})],fe.prototype,"type",void 0),(0,z._)([(0,Ce.Cb)(de.yd)],fe.prototype,"size",void 0),(0,z._)([(0,he.J)({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),(0,Ce.Cb)({json:{default:"center"}})],fe.prototype,"anchor",void 0),(0,z._)([(0,Ce.Cb)({type:Ae.e,json:{type:[Number],read:{reader:Le=>new Ae.e({x:Le[0],y:Le[1]})},write:{writer:(Le,tt)=>{tt.anchorPosition=[Le.x,Le.y]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],fe.prototype,"anchorPosition",void 0),(0,z._)([(0,Ce.Cb)({type:le.Z,json:{write:!0}})],fe.prototype,"outline",void 0),fe=oe=(0,z._)([(0,re.j)("esri.symbols.IconSymbol3DLayer")],fe);const Ue={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function Fe(Le){return Ue[Le]||(se.warn(`${Le} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}var Ve=fe},22490:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>oe});var Ae,z=N(17626),J=N(7093),Te=N(58817),Me=N(77712),he=(N(90912),N(8314),N(63290),N(55342)),re=N(61403),ce=N(39368),be=N(37771),xe=N(9824),de=N(97595);const me=J.Z.ofType({base:null,key:"type",typeMap:{text:be.Z}});let le=Ae=class extends ce.Z{constructor(se){super(se),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new me,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return(0,xe.gv)(this)}hasVisibleVerticalOffset(){return(0,xe.Uy)(this)}clone(){return new Ae({styleOrigin:(0,Te.d9)(this.styleOrigin),symbolLayers:(0,Te.d9)(this.symbolLayers),thumbnail:(0,Te.d9)(this.thumbnail),callout:(0,Te.d9)(this.callout),verticalOffset:(0,Te.d9)(this.verticalOffset)})}static fromTextSymbol(se){return new Ae({symbolLayers:[be.Z.fromTextSymbol(se)]})}};(0,z._)([(0,Me.Cb)({type:de.Z,json:{write:!0}})],le.prototype,"verticalOffset",void 0),(0,z._)([(0,Me.Cb)(xe.Y2)],le.prototype,"callout",void 0),(0,z._)([(0,Me.Cb)({json:{read:!1,write:!1}})],le.prototype,"styleOrigin",void 0),(0,z._)([(0,Me.Cb)({type:me})],le.prototype,"symbolLayers",void 0),(0,z._)([(0,he.J)({LabelSymbol3D:"label-3d"},{readOnly:!0})],le.prototype,"type",void 0),le=Ae=(0,z._)([(0,re.j)("esri.symbols.LabelSymbol3D")],le);var oe=le},40445:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>oe});var de,z=N(17626),J=N(7093),Te=N(58817),Me=N(77712),he=(N(90912),N(8314),N(63290),N(55342)),re=N(61403),ce=N(12236),be=N(69147),xe=N(39368);const Ae=J.Z.ofType({base:null,key:"type",typeMap:{line:ce.Z,path:be.Z}}),me=J.Z.ofType({base:null,key:"type",typeMap:{line:ce.Z,path:be.Z}});let le=de=class extends xe.Z{constructor(se){super(se),this.symbolLayers=new Ae,this.type="line-3d"}clone(){return new de({styleOrigin:(0,Te.d9)(this.styleOrigin),symbolLayers:(0,Te.d9)(this.symbolLayers),thumbnail:(0,Te.d9)(this.thumbnail)})}static fromSimpleLineSymbol(se){return new de({symbolLayers:[ce.Z.fromSimpleLineSymbol(se)]})}};(0,z._)([(0,Me.Cb)({type:Ae,json:{type:me}})],le.prototype,"symbolLayers",void 0),(0,z._)([(0,he.J)({LineSymbol3D:"line-3d"},{readOnly:!0})],le.prototype,"type",void 0),le=de=(0,z._)([(0,re.j)("esri.symbols.LineSymbol3D")],le);var oe=le},12236:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>se});var le,z=N(17626),J=N(91558),Te=N(62208),Me=N(23841),Ce=N(77712),re=(N(8314),N(90912),N(63290),N(55342)),ce=N(61403),be=N(97665),xe=N(12948),de=N(60958),Ae=N(64830),me=N(43652);let oe=le=class extends be.Z{constructor(fe){super(fe),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=(0,Me.Wz)(1),this.pattern="solid",this.stipplePattern=null,this.stippleOffColor=null}clone(){return new le({enabled:this.enabled,material:(0,Te.pC)(this.material)?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:this.pattern,stipplePattern:this.stipplePattern?this.stipplePattern.slice():null,stippleOffColor:this.stippleOffColor?this.stippleOffColor.clone():null})}static fromSimpleLineSymbol(fe){return new le({size:fe.width||1,cap:fe.cap||"butt",join:fe.join||"miter",pattern:"solid",material:{color:(fe.color||xe.ix).clone()}})}};(0,z._)([(0,Ce.Cb)({type:Ae.Z,json:{write:!0}})],oe.prototype,"material",void 0),(0,z._)([(0,re.J)({Line:"line"},{readOnly:!0})],oe.prototype,"type",void 0),(0,z._)([(0,Ce.Cb)({type:["miter","bevel","round"],json:{write:!0,default:"miter"}})],oe.prototype,"join",void 0),(0,z._)([(0,Ce.Cb)({type:["butt","square","round"],json:{write:!0,default:"butt"}})],oe.prototype,"cap",void 0),(0,z._)([(0,Ce.Cb)(de.yd)],oe.prototype,"size",void 0),(0,z._)([(0,Ce.Cb)({type:me.pf})],oe.prototype,"pattern",void 0),(0,z._)([(0,Ce.Cb)(de.Ae)],oe.prototype,"stipplePattern",void 0),(0,z._)([(0,Ce.Cb)({type:J.Z})],oe.prototype,"stippleOffColor",void 0),oe=le=(0,z._)([(0,ce.j)("esri.symbols.LineSymbol3DLayer")],oe);var se=oe},46735:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>ce});var z=N(17626),J=N(23841),Te=N(77712),ye=(N(8314),N(90912),N(63290),N(61403)),he=N(10012);let re=class extends he.Z{constructor(be){super(be),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};(0,z._)([(0,Te.Cb)({type:Number,json:{read:be=>be&&-1*be,write:(be,xe)=>xe.angle=be&&-1*be}})],re.prototype,"angle",void 0),(0,z._)([(0,Te.Cb)({type:["simple-marker","picture-marker"],readOnly:!0})],re.prototype,"type",void 0),(0,z._)([(0,Te.Cb)({type:Number,cast:J.t_,json:{write:!0}})],re.prototype,"xoffset",void 0),(0,z._)([(0,Te.Cb)({type:Number,cast:J.t_,json:{write:!0}})],re.prototype,"yoffset",void 0),(0,z._)([(0,Te.Cb)({type:Number,cast:be=>"auto"===be?be:(0,J.t_)(be),json:{write:!0}})],re.prototype,"size",void 0),re=(0,z._)([(0,ye.j)("esri.symbols.MarkerSymbol")],re);var ce=re},2066:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>se});var xe,z=N(17626),J=N(62208),Te=N(77712),ye=(N(8314),N(90912),N(63290),N(55342)),he=N(61403),re=N(97665),ce=N(48521),be=N(61458);let de=xe=class extends be.Z{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new xe({x:this.x,y:this.y,z:this.z})}};(0,z._)([(0,Te.Cb)({type:Number})],de.prototype,"x",void 0),(0,z._)([(0,Te.Cb)({type:Number})],de.prototype,"y",void 0),(0,z._)([(0,Te.Cb)({type:Number})],de.prototype,"z",void 0),de=xe=(0,z._)([(0,he.j)("esri.symbols.support.Symbol3DAnchorPosition3D")],de);var le,me=N(64830);let oe=le=class extends re.Z{constructor(fe){super(fe),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new le({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:(0,J.pC)(this.material)?this.material.clone():null,castShadows:this.castShadows,resource:this.resource&&this.resource.clone(),width:this.width})}get isPrimitive(){return!this.resource||"string"!=typeof this.resource.href}};(0,z._)([(0,Te.Cb)({type:me.Z,json:{write:!0}})],oe.prototype,"material",void 0),(0,z._)([(0,Te.Cb)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],oe.prototype,"castShadows",void 0),(0,z._)([(0,Te.Cb)({type:ce.ZP,json:{write:!0}})],oe.prototype,"resource",void 0),(0,z._)([(0,ye.J)({Object:"object"},{readOnly:!0})],oe.prototype,"type",void 0),(0,z._)([(0,Te.Cb)({type:Number,json:{write:!0}})],oe.prototype,"width",void 0),(0,z._)([(0,Te.Cb)({type:Number,json:{write:!0}})],oe.prototype,"height",void 0),(0,z._)([(0,Te.Cb)({type:Number,json:{write:!0}})],oe.prototype,"depth",void 0),(0,z._)([(0,ye.J)({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),(0,Te.Cb)({json:{default:"origin"}})],oe.prototype,"anchor",void 0),(0,z._)([(0,Te.Cb)({type:de,json:{type:[Number],read:{reader:fe=>new de({x:fe[0],y:fe[1],z:fe[2]})},write:{writer:(fe,Ee)=>{Ee.anchorPosition=[fe.x,fe.y,fe.z]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],oe.prototype,"anchorPosition",void 0),(0,z._)([(0,Te.Cb)({type:Number,json:{write:!0}})],oe.prototype,"heading",void 0),(0,z._)([(0,Te.Cb)({type:Number,json:{write:!0}})],oe.prototype,"tilt",void 0),(0,z._)([(0,Te.Cb)({type:Number,json:{write:!0}})],oe.prototype,"roll",void 0),(0,z._)([(0,Te.Cb)({readOnly:!0})],oe.prototype,"isPrimitive",null),oe=le=(0,z._)([(0,he.j)("esri.symbols.ObjectSymbol3DLayer")],oe);var se=oe},69147:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>Ae});var xe,z=N(17626),J=N(62208),Te=N(77712),ye=(N(8314),N(90912),N(63290),N(55342)),he=N(68653),re=N(61403),ce=N(97665),be=N(64830);let de=xe=class extends ce.Z{constructor(me){super(me),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(me,le){return null!=me?me:null==le.height&&null!=le.size?le.size:void 0}readHeight(me,le){return null!=me?me:null==le.width&&null!=le.size?le.size:void 0}clone(){return new xe({enabled:this.enabled,material:(0,J.pC)(this.material)?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};(0,z._)([(0,Te.Cb)({type:be.Z,json:{write:!0}})],de.prototype,"material",void 0),(0,z._)([(0,Te.Cb)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],de.prototype,"castShadows",void 0),(0,z._)([(0,ye.J)({Path:"path"},{readOnly:!0})],de.prototype,"type",void 0),(0,z._)([(0,Te.Cb)({type:["circle","quad"],json:{write:!0,default:"circle"}})],de.prototype,"profile",void 0),(0,z._)([(0,Te.Cb)({type:["miter","bevel","round"],json:{write:!0,default:"miter"}})],de.prototype,"join",void 0),(0,z._)([(0,Te.Cb)({type:["none","butt","square","round"],json:{write:!0,default:"butt"}})],de.prototype,"cap",void 0),(0,z._)([(0,Te.Cb)({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],de.prototype,"width",void 0),(0,z._)([(0,he.r)("width",["width","size","height"])],de.prototype,"readWidth",null),(0,z._)([(0,Te.Cb)({type:Number,json:{write:!0}})],de.prototype,"height",void 0),(0,z._)([(0,he.r)("height",["height","size","width"])],de.prototype,"readHeight",null),(0,z._)([(0,Te.Cb)({type:["center","bottom","top"],json:{write:!0,default:"center"}})],de.prototype,"anchor",void 0),(0,z._)([(0,Te.Cb)({type:["heading","all"],json:{write:!0,default:"all"}})],de.prototype,"profileRotation",void 0),de=xe=(0,z._)([(0,re.j)("esri.symbols.PathSymbol3DLayer")],de);var Ae=de},13546:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>me});var de,z=N(17626),J=N(58817),Te=N(23841),Me=N(77712),he=(N(90912),N(8314),N(63290),N(55342)),re=N(68653),ce=N(61403),be=N(46735),xe=N(69738);let Ae=de=class extends be.Z{constructor(...le){super(...le),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(le,oe,se){if(le&&"string"!=typeof le&&null==le.imageData)return le;const fe={};return le&&(fe.url=le),null!=oe&&(fe.width=(0,Te.t_)(oe)),null!=se&&(fe.height=(0,Te.t_)(se)),fe}readHeight(le,oe){return oe.size||le}readWidth(le,oe){return oe.size||le}clone(){const le=new de({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return le._set("source",(0,J.d9)(this.source)),le}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};(0,z._)([(0,Me.Cb)({json:{write:!1}})],Ae.prototype,"color",void 0),(0,z._)([(0,he.J)({esriPMS:"picture-marker"},{readOnly:!0})],Ae.prototype,"type",void 0),(0,z._)([(0,Me.Cb)(xe.KA)],Ae.prototype,"url",void 0),(0,z._)([(0,Me.Cb)(xe.Ds)],Ae.prototype,"source",void 0),(0,z._)([(0,Me.Cb)({type:Number,cast:Te.t_,json:{write:!0}})],Ae.prototype,"height",void 0),(0,z._)([(0,re.r)("height",["height","size"])],Ae.prototype,"readHeight",null),(0,z._)([(0,Me.Cb)({type:Number,cast:Te.t_,json:{write:!0}})],Ae.prototype,"width",void 0),(0,z._)([(0,Me.Cb)({json:{write:!1}})],Ae.prototype,"size",void 0),Ae=de=(0,z._)([(0,ce.j)("esri.symbols.PictureMarkerSymbol")],Ae);var me=Ae},69852:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>Ue});var se,z=N(17626),J=N(7093),Te=N(26584),Me=N(58817),Ce=N(77712),re=(N(90912),N(8314),N(63290),N(55342)),ce=N(61403),be=N(99433),xe=N(46645),de=N(2066),Ae=N(39368),me=N(37771),le=N(9824),oe=N(97595);const fe=J.Z.ofType({base:null,key:"type",typeMap:{icon:xe.Z,object:de.Z,text:me.Z}}),Ee=J.Z.ofType({base:null,key:"type",typeMap:{icon:xe.Z,object:de.Z}});let ge=se=class extends Ae.Z{constructor(Fe){super(Fe),this.verticalOffset=null,this.callout=null,this.symbolLayers=new fe,this.type="point-3d"}writeSymbolLayers(Fe,Ve,Le,tt){const je=Fe.filter(ve=>"text"!==ve.type);if(tt&&tt.messages&&je.length<Fe.length){const ve=Fe.find(Oe=>"text"===Oe.type);tt.messages.push(new Te.Z("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PointSymbol3D",{symbolLayer:ve}))}Ve[Le]=je.map(ve=>ve.write({},tt)).toArray()}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const Fe of this.symbolLayers.items)switch(Fe.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return(0,le.gv)(this)}hasVisibleVerticalOffset(){return(0,le.Uy)(this)}clone(){return new se({verticalOffset:(0,Me.d9)(this.verticalOffset),callout:(0,Me.d9)(this.callout),styleOrigin:(0,Me.d9)(this.styleOrigin),symbolLayers:(0,Me.d9)(this.symbolLayers),thumbnail:(0,Me.d9)(this.thumbnail)})}static fromSimpleMarkerSymbol(Fe){return new se({symbolLayers:[xe.Z.fromSimpleMarkerSymbol(Fe)]})}static fromPictureMarkerSymbol(Fe){return new se({symbolLayers:[xe.Z.fromPictureMarkerSymbol(Fe)]})}static fromCIMSymbol(Fe){if(Fe.data&&Fe.data.symbol){const Ve=Fe.data.symbol;if("CIMPointSymbol"===Ve.type&&Ve.callout)return new se({symbolLayers:[xe.Z.fromCIMSymbol(Fe)],callout:{type:"line",size:.5,color:[0,0,0]},verticalOffset:{screenLength:40}})}return new se({symbolLayers:[xe.Z.fromCIMSymbol(Fe)]})}static fromTextSymbol(Fe){return new se({symbolLayers:[me.Z.fromTextSymbol(Fe)]})}};(0,z._)([(0,Ce.Cb)({type:oe.Z,json:{write:!0}})],ge.prototype,"verticalOffset",void 0),(0,z._)([(0,Ce.Cb)(le.Y2)],ge.prototype,"callout",void 0),(0,z._)([(0,Ce.Cb)({type:fe,json:{type:Ee,origins:{"web-scene":{type:Ee}}}})],ge.prototype,"symbolLayers",void 0),(0,z._)([(0,be.c)("web-scene","symbolLayers")],ge.prototype,"writeSymbolLayers",null),(0,z._)([(0,re.J)({PointSymbol3D:"point-3d"},{readOnly:!0})],ge.prototype,"type",void 0),ge=se=(0,z._)([(0,ce.j)("esri.symbols.PointSymbol3D")],ge);var Ue=ge},89673:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>Le});var ge,z=N(17626),J=N(7093),Te=N(26584),Me=N(58817),Ce=N(62208),Ie=N(77712),ce=(N(90912),N(8314),N(63290),N(55342)),be=N(61403),xe=N(99433),de=N(65499),Ae=N(76087),me=N(46645),le=N(12236),oe=N(2066),se=N(39368),fe=N(37771),Ee=N(72622);const Ue=J.Z.ofType({base:null,key:"type",typeMap:{extrude:de.Z,fill:Ae.Z,icon:me.Z,line:le.Z,object:oe.Z,text:fe.Z,water:Ee.Z}}),Fe=J.Z.ofType({base:null,key:"type",typeMap:{extrude:de.Z,fill:Ae.Z,icon:me.Z,line:le.Z,object:oe.Z,water:Ee.Z}});let Ve=ge=class extends se.Z{constructor(tt){super(tt),this.symbolLayers=new Ue,this.type="polygon-3d"}writeSymbolLayers(tt,je,ve,Oe){const qe=tt.filter(He=>"text"!==He.type);if(Oe&&Oe.messages&&qe.length<tt.length){const He=tt.find(Qe=>"text"===Qe.type);Oe.messages.push(new Te.Z("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PolygonSymbol3D",{symbolLayer:He}))}je[ve]=qe.map(He=>He.write({},Oe)).toArray()}clone(){return new ge({styleOrigin:(0,Me.d9)(this.styleOrigin),symbolLayers:(0,Me.d9)(this.symbolLayers),thumbnail:(0,Me.d9)(this.thumbnail)})}static fromJSON(tt){const je=new ge;if(je.read(tt),2===je.symbolLayers.length&&"fill"===je.symbolLayers.getItemAt(0).type&&"line"===je.symbolLayers.getItemAt(1).type){const ve=je.symbolLayers.getItemAt(0),Oe=je.symbolLayers.getItemAt(1);!Oe.enabled||tt.symbolLayers&&tt.symbolLayers[1]&&!1===tt.symbolLayers[1].enable||(ve.outline={size:Oe.size,color:(0,Ce.pC)(Oe.material)?Oe.material.color:null}),je.symbolLayers.removeAt(1)}return je}static fromSimpleFillSymbol(tt){return new ge({symbolLayers:[Ae.Z.fromSimpleFillSymbol(tt)]})}};(0,z._)([(0,Ie.Cb)({type:Ue,json:{type:Fe}})],Ve.prototype,"symbolLayers",void 0),(0,z._)([(0,xe.c)("web-scene","symbolLayers")],Ve.prototype,"writeSymbolLayers",null),(0,z._)([(0,ce.J)({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],Ve.prototype,"type",void 0),Ve=ge=(0,z._)([(0,be.j)("esri.symbols.PolygonSymbol3D")],Ve);var Le=Ve},88493:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>le});var de,z=N(17626),J=N(91558),Te=N(2076),Me=N(58817),Ce=N(77712),re=(N(90912),N(8314),N(63290),N(55342)),ce=N(61403),be=N(48575),xe=N(52068);const Ae=new Te.Xn({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let me=de=class extends be.Z{constructor(...oe){super(...oe),this.color=new J.Z([0,0,0,.25]),this.outline=new xe.Z,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(oe,se,fe){if(oe&&"string"!=typeof oe)return oe;const Ee={};return oe&&(Ee.style=oe),se&&(Ee.outline=se),fe&&(Ee.color=fe),Ee}clone(){return new de({color:(0,Me.d9)(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};(0,z._)([(0,Ce.Cb)()],me.prototype,"color",void 0),(0,z._)([(0,Ce.Cb)()],me.prototype,"outline",void 0),(0,z._)([(0,re.J)({esriSFS:"simple-fill"},{readOnly:!0})],me.prototype,"type",void 0),(0,z._)([(0,Ce.Cb)({type:Ae.apiValues,json:{read:Ae.read,write:Ae.write}})],me.prototype,"style",void 0),me=de=(0,z._)([(0,ce.j)("esri.symbols.SimpleFillSymbol")],me);var le=me},52068:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>Ve});var z=N(17626),J=N(2076),Te=N(58817),Me=N(23841),Ce=N(77712),re=(N(90912),N(8314),N(63290),N(55342)),ce=N(61403),be=N(10012);let xe=class extends be.Z{constructor(Le){super(Le),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};(0,z._)([(0,re.J)({esriSLS:"simple-line"},{readOnly:!0})],xe.prototype,"type",void 0),(0,z._)([(0,Ce.Cb)({type:Number,cast:Me.t_,json:{write:!0}})],xe.prototype,"width",void 0),xe=(0,z._)([(0,ce.j)("esri.symbols.LineSymbol")],xe);var se,de=xe,Ae=N(91558),me=N(86162),le=N(68653),oe=N(99433);let fe=se=class extends me.wq{constructor(Le){super(Le),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(Le,tt,je,ve){tt[je]="web-map"===(null==ve?void 0:ve.origin)?"arrow":Le}set color(Le){this._set("color",Le)}readColor(Le){return Le&&null!=Le[0]?[Le[0],Le[1],Le[2],Le[3]/255]:Le}writeColor(Le,tt,je,ve){"web-map"===(null==ve?void 0:ve.origin)||(tt[je]=Le)}clone(){return new se({color:(0,Te.d9)(this.color),placement:this.placement,style:this.style})}hash(){var Le;return`${this.placement}.${null==(Le=this.color)?void 0:Le.hash()}.${this.style}`}};(0,z._)([(0,Ce.Cb)({type:["begin","end","begin-end"],json:{write:!0}})],fe.prototype,"placement",void 0),(0,z._)([(0,re.J)({"line-marker":"line-marker"},{readOnly:!0}),(0,Ce.Cb)({json:{origins:{"web-map":{write:!1}}}})],fe.prototype,"type",void 0),(0,z._)([(0,Ce.Cb)({type:["arrow","circle","square","diamond","cross","x"]})],fe.prototype,"style",void 0),(0,z._)([(0,oe.c)("style")],fe.prototype,"writeStyle",null),(0,z._)([(0,Ce.Cb)({type:Ae.Z,value:null,json:{write:{allowNull:!0}}})],fe.prototype,"color",null),(0,z._)([(0,le.r)("color")],fe.prototype,"readColor",null),(0,z._)([(0,oe.c)("color")],fe.prototype,"writeColor",null),fe=se=(0,z._)([(0,ce.j)("esri.symbols.LineSymbolMarker")],fe);var ge,Ee=fe;const Ue=new J.Xn({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let Fe=ge=class extends de{constructor(...Le){super(...Le),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(Le,tt,je,ve,Oe,qe){if(Le&&"string"!=typeof Le)return Le;const He={};return null!=Le&&(He.style=Le),null!=tt&&(He.color=tt),null!=je&&(He.width=(0,Me.t_)(je)),null!=ve&&(He.cap=ve),null!=Oe&&(He.join=Oe),null!=qe&&(He.miterLimit=(0,Me.t_)(qe)),He}clone(){var Le;return new ge({color:(0,Te.d9)(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:null==(Le=this.marker)?void 0:Le.clone()})}hash(){var Le,tt;return`${super.hash()}.${null==(Le=this.color)?void 0:Le.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${null==(tt=this.marker)?void 0:tt.hash()}`}};(0,z._)([(0,re.J)({esriSLS:"simple-line"},{readOnly:!0})],Fe.prototype,"type",void 0),(0,z._)([(0,Ce.Cb)({type:Ue.apiValues,json:{read:Ue.read,write:Ue.write}})],Fe.prototype,"style",void 0),(0,z._)([(0,Ce.Cb)({type:["butt","round","square"],json:{write:{overridePolicy:(Le,tt,je)=>({enabled:"round"!==Le&&(null==je||null==je.origin)})}}})],Fe.prototype,"cap",void 0),(0,z._)([(0,Ce.Cb)({type:["miter","round","bevel"],json:{write:{overridePolicy:(Le,tt,je)=>({enabled:"round"!==Le&&(null==je||null==je.origin)})}}})],Fe.prototype,"join",void 0),(0,z._)([(0,Ce.Cb)({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":Ee}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],Fe.prototype,"marker",void 0),(0,z._)([(0,Ce.Cb)({type:Number,json:{read:!1,write:!1}})],Fe.prototype,"miterLimit",void 0),Fe=ge=(0,z._)([(0,ce.j)("esri.symbols.SimpleLineSymbol")],Fe);var Ve=Fe},57213:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>se});var me,z=N(17626),J=N(91558),Te=N(2076),Me=N(58817),Ce=N(23841),Ie=N(77712),ce=(N(90912),N(8314),N(63290),N(55342)),be=N(61403),xe=N(99433),de=N(46735),Ae=N(52068);const le=new Te.Xn({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let oe=me=class extends de.Z{constructor(...fe){super(...fe),this.color=new J.Z([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new Ae.Z}normalizeCtorArgs(fe,Ee,ge,Ue){if(fe&&"string"!=typeof fe)return fe;const Fe={};return fe&&(Fe.style=fe),null!=Ee&&(Fe.size=(0,Ce.t_)(Ee)),ge&&(Fe.outline=ge),Ue&&(Fe.color=Ue),Fe}writeColor(fe,Ee){fe&&"x"!==this.style&&"cross"!==this.style&&(Ee.color=fe.toJSON()),null===fe&&(Ee.color=null)}set path(fe){this.style="path",this._set("path",fe)}clone(){return new me({angle:this.angle,color:(0,Me.d9)(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var fe;return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${null==(fe=this.outline)?void 0:fe.hash()}`}};(0,z._)([(0,Ie.Cb)()],oe.prototype,"color",void 0),(0,z._)([(0,xe.c)("color")],oe.prototype,"writeColor",null),(0,z._)([(0,ce.J)({esriSMS:"simple-marker"},{readOnly:!0})],oe.prototype,"type",void 0),(0,z._)([(0,Ie.Cb)()],oe.prototype,"size",void 0),(0,z._)([(0,Ie.Cb)({type:le.apiValues,json:{read:le.read,write:le.write}})],oe.prototype,"style",void 0),(0,z._)([(0,Ie.Cb)({type:String,json:{write:!0}})],oe.prototype,"path",null),(0,z._)([(0,Ie.Cb)({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Ae.Z}},json:{default:null,write:!0}})],oe.prototype,"outline",void 0),oe=me=(0,z._)([(0,be.j)("esri.symbols.SimpleMarkerSymbol")],oe);var se=oe},10012:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>me});var z=N(15861),J=N(17626),Te=N(91558),Me=N(2076),Ce=N(86162),Ie=N(77712),ce=(N(8314),N(90912),N(63290),N(68653)),be=N(61403);const xe=new Me.Xn({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let de=0,Ae=class extends Ce.wq{constructor(le){super(le),this.id="sym"+de++,this.type=null}set color(le){this._set("color",le)}readColor(le){return le&&null!=le[0]?[le[0],le[1],le[2],le[3]/255]:le}collectRequiredFields(le,oe){return(0,z.Z)(function*(){})()}hash(){return JSON.stringify(this.toJSON())}clone(){}};(0,J._)([(0,Ie.Cb)({type:xe.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:xe.write}}})],Ae.prototype,"type",void 0),(0,J._)([(0,Ie.Cb)({type:Te.Z,value:new Te.Z([0,0,0,1]),json:{write:{allowNull:!0}}})],Ae.prototype,"color",null),(0,J._)([(0,ce.r)("color")],Ae.prototype,"readColor",null),Ae=(0,J._)([(0,be.j)("esri.symbols.Symbol")],Ae);var me=Ae},39368:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>He});var z=N(17626),J=N(7093),Te=N(89726),Me=N(63290),Ce=N(21726),Ie=N(14889),ye=N(77712),re=(N(8314),N(66656)),ce=N(68653),be=N(61403),xe=N(99433),de=N(84687),Ae=N(29840),me=N(65499),le=N(76087),oe=N(46645),se=N(12236),fe=N(2066),Ee=N(69147),ge=N(10012),Ue=N(97665),Fe=N(37771),Ve=N(72622),Le=N(77345),tt=N(96296);const je={icon:oe.Z,object:fe.Z,line:se.Z,path:Ee.Z,fill:le.Z,extrude:me.Z,text:Fe.Z,water:Ve.Z},ve=J.Z.ofType({base:Ue.Z,key:"type",typeMap:je,errorContext:"symbol-layer"}),Oe=Me.Z.getLogger("esri.symbols.Symbol3D");let qe=class extends ge.Z{constructor(Qe){super(Qe),this.styleOrigin=null,this.thumbnail=null,this.type=null;const ot=this.__accessor__&&this.__accessor__.metadatas&&this.__accessor__.metadatas.symbolLayers;this._set("symbolLayers",new(ot&&ot.type||J.Z))}get color(){return null}set color(Qe){Oe.error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(Qe){(0,Te.Z)(Qe,this._get("symbolLayers"))}readStyleOrigin(Qe,ot,Ne){if(Qe.styleUrl&&Qe.name){const Se=(0,Ae.f)(Qe.styleUrl,Ne);return new Le.Z({styleUrl:Se,name:Qe.name})}if(Qe.styleName&&Qe.name)return new Le.Z({portal:Ne&&Ne.portal||de.Z.getDefault(),styleName:Qe.styleName,name:Qe.name});Ne&&Ne.messages&&Ne.messages.push(new Ie.Z("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:Ne,definition:Qe}))}writeStyleOrigin(Qe,ot,Ne,Se){if(Qe.styleUrl&&Qe.name){let $e=(0,Ae.t)(Qe.styleUrl,Se);(0,Ce.YP)($e)&&($e=(0,Ce.Fv)($e)),ot.styleOrigin={styleUrl:$e,name:Qe.name}}else Qe.styleName&&Qe.name&&(Qe.portal&&Se&&Se.portal&&!(0,Ce.tm)(Qe.portal.restUrl,Se.portal.restUrl)?Se&&Se.messages&&Se.messages.push(new Ie.Z("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):ot.styleOrigin={styleName:Qe.styleName,name:Qe.name})}normalizeCtorArgs(Qe){return Qe instanceof Ue.Z||Qe&&je[Qe.type]?{symbolLayers:[Qe]}:Array.isArray(Qe)?{symbolLayers:Qe}:Qe}};(0,z._)([(0,ye.Cb)({json:{read:!1,write:!1}})],qe.prototype,"color",null),(0,z._)([(0,ye.Cb)({type:ve,nonNullable:!0,json:{write:!0}}),(0,re.p)(Te.R)],qe.prototype,"symbolLayers",null),(0,z._)([(0,ye.Cb)({type:Le.Z})],qe.prototype,"styleOrigin",void 0),(0,z._)([(0,ce.r)("styleOrigin")],qe.prototype,"readStyleOrigin",null),(0,z._)([(0,xe.c)("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],qe.prototype,"writeStyleOrigin",null),(0,z._)([(0,ye.Cb)({type:tt.Z,json:{read:!1}})],qe.prototype,"thumbnail",void 0),(0,z._)([(0,ye.Cb)({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],qe.prototype,"type",void 0),qe=(0,z._)([(0,be.j)("esri.symbols.Symbol3D")],qe);var He=qe},97665:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>ce});var z=N(17626),J=N(86162),Te=N(77712),ye=(N(8314),N(90912),N(63290),N(61403)),he=N(99433);let re=class extends J.wq{constructor(be){super(be),this.enabled=!0,this.type=null}writeEnabled(be,xe,de){be||(xe[de]=be)}};(0,z._)([(0,Te.Cb)({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],re.prototype,"enabled",void 0),(0,z._)([(0,he.c)("enabled")],re.prototype,"writeEnabled",null),(0,z._)([(0,Te.Cb)({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0})],re.prototype,"type",void 0),re=(0,z._)([(0,ye.j)("esri.symbols.Symbol3DLayer")],re);var ce=re},35540:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>le});var Ae,z=N(17626),J=N(91558),Te=N(58817),Me=N(23841),Ce=N(77712),Ie=N(66656),re=(N(8314),N(63290),N(55342)),ce=N(61403),be=N(99433),xe=N(11472),de=N(10012);let me=Ae=class extends de.Z{constructor(...oe){super(...oe),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new xe.Z,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment=null,this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(oe,se,fe){if(oe&&"string"!=typeof oe)return oe;const Ee={};return oe&&(Ee.text=oe),se&&(Ee.font=se),fe&&(Ee.color=fe),Ee}writeLineWidth(oe,se,fe,Ee){Ee&&"string"!=typeof Ee||(se[fe]=oe)}castLineWidth(oe){return(0,Me.t_)(oe)}writeLineHeight(oe,se,fe,Ee){Ee&&"string"!=typeof Ee||(se[fe]=oe)}clone(){return new Ae({angle:this.angle,backgroundColor:(0,Te.d9)(this.backgroundColor),borderLineColor:(0,Te.d9)(this.borderLineColor),borderLineSize:this.borderLineSize,color:(0,Te.d9)(this.color),font:this.font&&this.font.clone(),haloColor:(0,Te.d9)(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor&&this.backgroundColor.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color.hash()}.${this.font&&this.font.hash()}.${this.haloColor&&this.haloColor.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};(0,z._)([(0,Ce.Cb)({type:J.Z,json:{write:!0}})],me.prototype,"backgroundColor",void 0),(0,z._)([(0,Ce.Cb)({type:J.Z,json:{write:!0}})],me.prototype,"borderLineColor",void 0),(0,z._)([(0,Ce.Cb)({type:Number,json:{write:!0}})],me.prototype,"borderLineSize",void 0),(0,z._)([(0,Ce.Cb)({type:xe.Z,json:{write:!0}})],me.prototype,"font",void 0),(0,z._)([(0,Ce.Cb)({type:["left","right","center","justify"],json:{write:!0}})],me.prototype,"horizontalAlignment",void 0),(0,z._)([(0,Ce.Cb)({type:Boolean,json:{write:!0}})],me.prototype,"kerning",void 0),(0,z._)([(0,Ce.Cb)({type:J.Z,json:{write:!0}})],me.prototype,"haloColor",void 0),(0,z._)([(0,Ce.Cb)({type:Number,cast:Me.t_,json:{write:!0}})],me.prototype,"haloSize",void 0),(0,z._)([(0,Ce.Cb)({type:Boolean,json:{write:!0}})],me.prototype,"rightToLeft",void 0),(0,z._)([(0,Ce.Cb)({type:Boolean,json:{write:!0}})],me.prototype,"rotated",void 0),(0,z._)([(0,Ce.Cb)({type:String,json:{write:!0}})],me.prototype,"text",void 0),(0,z._)([(0,re.J)({esriTS:"text"},{readOnly:!0})],me.prototype,"type",void 0),(0,z._)([(0,Ce.Cb)({type:["baseline","top","middle","bottom"],json:{write:!0}})],me.prototype,"verticalAlignment",void 0),(0,z._)([(0,Ce.Cb)({type:Number,cast:Me.t_,json:{write:!0}})],me.prototype,"xoffset",void 0),(0,z._)([(0,Ce.Cb)({type:Number,cast:Me.t_,json:{write:!0}})],me.prototype,"yoffset",void 0),(0,z._)([(0,Ce.Cb)({type:Number,json:{read:oe=>oe&&-1*oe,write:(oe,se)=>se.angle=oe&&-1*oe}})],me.prototype,"angle",void 0),(0,z._)([(0,Ce.Cb)({type:Number,json:{write:!0}})],me.prototype,"width",void 0),(0,z._)([(0,Ce.Cb)({type:Number})],me.prototype,"lineWidth",void 0),(0,z._)([(0,be.c)("lineWidth")],me.prototype,"writeLineWidth",null),(0,z._)([(0,Ie.p)("lineWidth")],me.prototype,"castLineWidth",null),(0,z._)([(0,Ce.Cb)({type:Number})],me.prototype,"lineHeight",void 0),(0,z._)([(0,be.c)("lineHeight")],me.prototype,"writeLineHeight",null),me=Ae=(0,z._)([(0,ce.j)("esri.symbols.TextSymbol")],me);var le=me},37771:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>Fe});var le,z=N(17626),J=N(58817),Te=N(62208),Me=N(77712),he=(N(90912),N(8314),N(63290),N(55342)),re=N(61403),ce=N(99433),be=N(11472),xe=N(97665),de=N(60958),Ae=N(91558),me=N(86162);let oe=le=class extends me.wq{constructor(){super(...arguments),this.color=new Ae.Z([0,0,0,1]),this.size=0}clone(){return new le({color:(0,J.d9)(this.color),size:this.size})}};(0,z._)([(0,Me.Cb)(de.aK)],oe.prototype,"color",void 0),(0,z._)([(0,Me.Cb)(de.yd)],oe.prototype,"size",void 0),oe=le=(0,z._)([(0,re.j)("esri.symbols.support.Symbol3DHalo")],oe);var Ee,se=oe,fe=N(64830);let ge=Ee=class extends xe.Z{constructor(Ve){super(Ve),this._userSize=void 0,this.halo=null,this.material=null,this.text=void 0,this.type="text"}get font(){return this._get("font")||null}set font(Ve){Ve&&this._userSize&&(Ve.size=this._userSize),this._set("font",Ve)}writeFont(Ve,Le,tt,je){const ve=fr(ji({},je),{textSymbol3D:!0});Le.font=Ve.write({},ve),delete Le.font.size}get size(){return null!=this._userSize?this._userSize:this.font&&null!=this.font.size?this.font.size:9}set size(Ve){this._userSize=Ve,this.font&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){return new Ee({enabled:this.enabled,font:this.font&&(0,J.d9)(this.font),halo:this.halo&&(0,J.d9)(this.halo),material:(0,Te.pC)(this.material)?this.material.clone():null,size:this.size,text:this.text})}static fromTextSymbol(Ve){const Le=function(Ve,Le){return Ve&&Le>0?{color:(0,J.d9)(Ve),size:Le}:null}(Ve.haloColor,Ve.haloSize),tt=Ve.font?Ve.font.clone():new be.Z;return new Ee({size:tt.size,font:tt,halo:Le,material:Ve.color?{color:Ve.color.clone()}:null,text:Ve.text})}};(0,z._)([(0,Me.Cb)({type:be.Z,json:{write:!0}})],ge.prototype,"font",null),(0,z._)([(0,ce.c)("font")],ge.prototype,"writeFont",null),(0,z._)([(0,Me.Cb)({type:se,json:{write:!0}})],ge.prototype,"halo",void 0),(0,z._)([(0,Me.Cb)({type:fe.Z,json:{write:!0}})],ge.prototype,"material",void 0),(0,z._)([(0,Me.Cb)(de.yd),(0,Me.Cb)()],ge.prototype,"size",null),(0,z._)([(0,Me.Cb)({type:String,json:{write:!0}})],ge.prototype,"text",void 0),(0,z._)([(0,he.J)({Text:"text"},{readOnly:!0})],ge.prototype,"type",void 0),ge=Ee=(0,z._)([(0,re.j)("esri.symbols.TextSymbol3DLayer")],ge);var Fe=ge},72622:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>Ae});var be,z=N(17626),J=N(91558),Te=N(58817),Me=N(77712),Ce=N(90912),he=(N(8314),N(63290),N(55342)),re=N(61403),ce=N(97665);let xe=be=class extends ce.Z{constructor(me){super(me),this.color=de.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new be({color:(0,Te.d9)(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};(0,z._)([(0,Me.Cb)({type:J.Z,nonNullable:!0,json:{type:[Ce.z8],write:(me,le,oe)=>le[oe]=me.toArray(1),default:()=>de.clone(),defaultEquals:me=>me.toCss(!0)===de.toCss(!0)}})],xe.prototype,"color",void 0),(0,z._)([(0,he.J)({Water:"water"},{readOnly:!0})],xe.prototype,"type",void 0),(0,z._)([(0,Me.Cb)({type:["small","medium","large"],json:{write:!0,default:"medium"}})],xe.prototype,"waterbodySize",void 0),(0,z._)([(0,Me.Cb)({type:Number,json:{write:!0,default:null}})],xe.prototype,"waveDirection",void 0),(0,z._)([(0,Me.Cb)({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],xe.prototype,"waveStrength",void 0),xe=be=(0,z._)([(0,re.j)("esri.symbols.WaterSymbol3DLayer")],xe);const de=new J.Z([0,119,190]);var Ae=xe},12874:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>se});var Ae,z=N(15861),J=N(17626),Te=N(63290),Me=N(10699),Ce=N(77712),he=(N(8314),N(90912),N(55342)),re=N(61403),ce=N(84687),be=N(29840),xe=N(10012),de=N(96296);const me=Te.Z.getLogger("esri.symbols.WebStyleSymbol");let le=Ae=class extends xe.Z{constructor(fe){super(fe),this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}read(fe,Ee){this.portal=Ee?Ee.portal:void 0,super.read(fe,Ee)}clone(){return new Ae({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(fe){return this._fetchSymbol("webRef",fe)}fetchCIMSymbol(fe){return this._fetchSymbol("cimRef",fe)}_fetchSymbol(fe,Ee){var ge=this;return(0,z.Z)(function*(){const Ue=yield Promise.resolve().then(N.bind(N,78241));(0,Me.k_)(Ee);const Fe=Ue.resolveWebStyleSymbol(ge,{portal:ge.portal},fe,Ee);return Fe.catch(Ve=>{me.error("#fetchSymbol()","Failed to create symbol from style",Ve)}),Fe})()}};(0,J._)([(0,Ce.Cb)({json:{write:!1}})],le.prototype,"color",void 0),(0,J._)([(0,Ce.Cb)({type:String,json:{write:!0}})],le.prototype,"styleName",void 0),(0,J._)([(0,Ce.Cb)({type:ce.Z,json:{write:!1}})],le.prototype,"portal",void 0),(0,J._)([(0,Ce.Cb)({type:String,json:{read:be.r,write:be.w}})],le.prototype,"styleUrl",void 0),(0,J._)([(0,Ce.Cb)({type:de.Z,json:{read:!1}})],le.prototype,"thumbnail",void 0),(0,J._)([(0,Ce.Cb)({type:String,json:{write:!0}})],le.prototype,"name",void 0),(0,J._)([(0,he.J)({styleSymbolReference:"web-style"},{readOnly:!0})],le.prototype,"type",void 0),le=Ae=(0,J._)([(0,re.j)("esri.symbols.WebStyleSymbol")],le);var se=le},21779:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>re});var z=N(17626),J=N(86162),Te=N(77712),ye=(N(8314),N(90912),N(63290),N(61403));let he=class extends J.wq{constructor(ce){super(ce),this.visible=!0}clone(){}};(0,z._)([(0,Te.Cb)({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],he.prototype,"type",void 0),(0,z._)([(0,Te.Cb)({readOnly:!0})],he.prototype,"visible",void 0),he=(0,z._)([(0,ye.j)("esri.symbols.callouts.Callout3D")],he);var re=he},17497:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>oe});var me,z=N(17626),J=N(91558),Te=N(58817),Me=N(62208),Ce=N(23841),Ie=N(77712),ce=(N(90912),N(8314),N(63290),N(55342)),be=N(61403),xe=N(21779),de=N(71530),Ae=N(60958);let le=me=class extends xe.Z{constructor(se){super(se),this.type="line",this.color=new J.Z([0,0,0,1]),this.size=(0,Ce.Wz)(1),this.border=null}get visible(){return this.size>0&&(0,Me.pC)(this.color)&&this.color.a>0}clone(){return new me({color:(0,Te.d9)(this.color),size:this.size,border:(0,Te.d9)(this.border)})}};(0,z._)([(0,ce.J)({line:"line"},{readOnly:!0})],le.prototype,"type",void 0),(0,z._)([(0,Ie.Cb)(Ae.aK)],le.prototype,"color",void 0),(0,z._)([(0,Ie.Cb)(Ae.yd)],le.prototype,"size",void 0),(0,z._)([(0,Ie.Cb)({type:de.a,json:{write:!0}})],le.prototype,"border",void 0),(0,z._)([(0,Ie.Cb)({readOnly:!0})],le.prototype,"visible",null),le=me=(0,z._)([(0,be.j)("esri.symbols.callouts.LineCallout3D")],le);var oe=le},9824:(hi,lt,N)=>{"use strict";N.d(lt,{Y2:()=>Ie,gv:()=>Me,Uy:()=>Te});var z=N(21779),J=N(17497);function Te(ye){if(!ye)return!1;const he=ye.verticalOffset;return!!he&&!(he.screenLength<=0||he.maxWorldLength<=0)}function Me(ye){if(!ye||!ye.supportsCallout||!ye.supportsCallout())return!1;const he=ye.callout;return!!he&&!!he.visible&&!!Te(ye)}const Ie={types:{key:"type",base:z.Z,typeMap:{line:J.Z}},json:{write:!0}}},80991:(hi,lt,N)=>{"use strict";function J(de,Ae,me,le){return function(de){return"function"==typeof de}(de)?de(Ae,me,le):de}function Te(de){return[de.r,de.g,de.b,de.a]}function Me(de,Ae,me){const oe=ge=>{let Ue=ge.length;for(;Ue--;)if(-1===" /-,\n".indexOf(ge.charAt(Ue)))return!1;return!0},se=[];let fe=0,Ee=-1;do{if(Ee=Ae.indexOf("[",fe),Ee>=fe){if(Ee>fe){const ge=Ae.substr(fe,Ee-fe);se.push([ge,null,oe(ge)])}if(fe=Ee+1,Ee=Ae.indexOf("]",fe),Ee>=fe){if(Ee>fe){const ge=de[Ae.substr(fe,Ee-fe)];ge&&se.push([null,ge,!1])}fe=Ee+1}}}while(-1!==Ee);if(fe<Ae.length-1){const ge=Ae.substr(fe);se.push([ge,null,oe(ge)])}return ge=>{let Ue="",Fe=null;for(const Ve of se){const[Le,tt,je]=Ve;if(Le)je?Fe=Le:(Fe&&(Ue+=Fe,Fe=null),Ue+=Le);else{const ve=ge.attributes[tt];ve&&(Fe&&(Ue+=Fe,Fe=null),Ue+=ve)}}return Ce(Ue,me)}}function Ce(de,Ae){switch("string"!=typeof de&&(de=String(de)),Ae){case"LowerCase":return de.toLowerCase();case"Allcaps":return de.toUpperCase();default:return de}}function Ie(de,Ae,me,le,oe,se,fe=!0){const Ee=Ae/oe,ge=me/se,Ue=Math.ceil(Ee/2),Fe=Math.ceil(ge/2);for(let Ve=0;Ve<se;Ve++)for(let Le=0;Le<oe;Le++){const tt=4*(Le+(fe?se-Ve-1:Ve)*oe);let je=0,ve=0,Oe=0,qe=0,He=0,Qe=0,ot=0;const Ne=(Ve+.5)*ge;for(let Se=Math.floor(Ve*ge);Se<(Ve+1)*ge;Se++){const $e=Math.abs(Ne-(Se+.5))/Fe,nt=(Le+.5)*Ee,ut=$e*$e;for(let xt=Math.floor(Le*Ee);xt<(Le+1)*Ee;xt++){let Ze=Math.abs(nt-(xt+.5))/Ue;const et=Math.sqrt(ut+Ze*Ze);et>=-1&&et<=1&&(je=2*et*et*et-3*et*et+1,je>0&&(Ze=4*(xt+Se*Ae),ot+=je*de[Ze+3],Oe+=je,de[Ze+3]<255&&(je=je*de[Ze+3]/250),qe+=je*de[Ze],He+=je*de[Ze+1],Qe+=je*de[Ze+2],ve+=je))}}le[tt]=qe/ve,le[tt+1]=He/ve,le[tt+2]=Qe/ve,le[tt+3]=ot/Oe}}function ye(de){return de?{r:de[0],g:de[1],b:de[2],a:de[3]/255}:{r:0,g:0,b:0,a:0}}function he(de){var Ae;return null==(Ae=de.data)?void 0:Ae.symbol}function re(de){return"CIMVectorMarker"===de.type||"CIMPictureMarker"===de.type||"CIMBarChartMarker"===de.type||"CIMCharacterMarker"===de.type||"CIMPieChartMarker"===de.type||"CIMStackedBarChartMarker"===de.type}function ce(de){return"CIMGradientStroke"===de.type||"CIMPictureStroke"===de.type||"CIMSolidStroke"===de.type}function be(de){return"CIMGradientFill"===de.type||"CIMHatchFill"===de.type||"CIMPictureFill"===de.type||"CIMSolidFill"===de.type||"CIMWaterFill"===de.type}function xe(de){return"CIMMarkerPlacementAlongLineRandomSize"===de.type||"CIMMarkerPlacementAlongLineSameSize"===de.type||"CIMMarkerPlacementAlongLineVariableSize"===de.type||"CIMMarkerPlacementAtExtremities"===de.type||"CIMMarkerPlacementAtMeasuredUnits"===de.type||"CIMMarkerPlacementAtRatioPositions"===de.type||"CIMMarkerPlacementOnLine"===de.type||"CIMMarkerPlacementOnVertices"===de.type}N.d(lt,{X3:()=>Ce,nn:()=>Te,Qs:()=>Me,hf:()=>J,NO:()=>ye,k5:()=>be,zL:()=>re,gJ:()=>xe,yL:()=>ce,TT:()=>Ie,be:()=>he})},89441:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>ge});var z=N(17626),J=N(91558),Te=N(86162),Me=N(58817),Ce=N(23841),Ie=N(77712),ce=(N(90912),N(8314),N(63290),N(61403)),be=N(60958);let xe=class extends Te.wq{constructor(Ue){super(Ue),this.color=new J.Z([0,0,0,1]),this.extensionLength=0,this.size=(0,Ce.Wz)(1)}clone(){}cloneProperties(){return{color:(0,Me.d9)(this.color),size:this.size,extensionLength:this.extensionLength}}};(0,z._)([(0,Ie.Cb)({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],xe.prototype,"type",void 0),(0,z._)([(0,Ie.Cb)(be.aK)],xe.prototype,"color",void 0),(0,z._)([(0,Ie.Cb)(fr(ji({},be.yd),{json:{write:{overridePolicy:Ue=>({enabled:!!Ue})}}}))],xe.prototype,"extensionLength",void 0),(0,z._)([(0,Ie.Cb)(be.yd)],xe.prototype,"size",void 0),xe=(0,z._)([(0,ce.j)("esri.symbols.edges.Edges3D")],xe);var me,de=xe,Ae=N(55342);let le=me=class extends de{constructor(Ue){super(Ue),this.type="sketch"}clone(){return new me(this.cloneProperties())}};(0,z._)([(0,Ae.J)({sketch:"sketch"},{readOnly:!0})],le.prototype,"type",void 0),le=me=(0,z._)([(0,ce.j)("esri.symbols.edges.SketchEdges3D")],le);var se,oe=le;let fe=se=class extends de{constructor(Ue){super(Ue),this.type="solid"}clone(){return new se(this.cloneProperties())}};(0,z._)([(0,Ae.J)({solid:"solid"},{readOnly:!0})],fe.prototype,"type",void 0),fe=se=(0,z._)([(0,ce.j)("esri.symbols.support.SolidEdges3D")],fe);const ge={types:{key:"type",base:de,typeMap:{solid:fe,sketch:oe}},json:{write:!0}}},82706:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>Ue});var Ae,z=N(17626),J=N(2076),Te=N(86162),Me=N(62208),Ce=N(77712),re=(N(8314),N(90912),N(63290),N(68653)),ce=N(61403),be=N(99433),xe=N(15861),de=N(36630);let me=Ae=class extends Te.wq{collectRequiredFields(Fe,Ve){var Le=this;return(0,xe.Z)(function*(){return(0,de.io)(Fe,Ve,Le.expression)})()}clone(){return new Ae({expression:this.expression,title:this.title})}};(0,z._)([(0,Ce.Cb)({type:String,json:{write:!0}})],me.prototype,"expression",void 0),(0,z._)([(0,Ce.Cb)({type:String,json:{write:!0}})],me.prototype,"title",void 0),me=Ae=(0,z._)([(0,ce.j)("esri.layers.support.FeatureExpressionInfo")],me);var se,le=me,oe=N(29505);const fe=(0,J.wY)()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),Ee=new J.Xn({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let ge=se=class extends Te.wq{constructor(){super(...arguments),this.offset=null}readFeatureExpressionInfo(Fe,Ve){return null!=Fe?Fe:Ve.featureExpression&&0===Ve.featureExpression.value?{expression:"0"}:void 0}writeFeatureExpressionInfo(Fe,Ve,Le,tt){Ve[Le]=Fe.write(null,tt),"0"===Fe.expression&&(Ve.featureExpression={value:0})}get mode(){const{offset:Fe,featureExpressionInfo:Ve}=this;return this._isOverridden("mode")?this._get("mode"):(0,Me.pC)(Fe)||Ve?"relative-to-ground":"on-the-ground"}set mode(Fe){this._override("mode",Fe)}set unit(Fe){this._set("unit",Fe)}write(Fe,Ve){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(Fe,Ve):null}clone(){return new se({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}};(0,z._)([(0,Ce.Cb)({type:le,json:{write:!0}})],ge.prototype,"featureExpressionInfo",void 0),(0,z._)([(0,re.r)("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],ge.prototype,"readFeatureExpressionInfo",null),(0,z._)([(0,be.c)("featureExpressionInfo",{featureExpressionInfo:{type:le},"featureExpression.value":{type:[0]}})],ge.prototype,"writeFeatureExpressionInfo",null),(0,z._)([(0,Ce.Cb)({type:fe.apiValues,nonNullable:!0,json:{type:fe.jsonValues,read:fe.read,write:{writer:fe.write,isRequired:!0}}})],ge.prototype,"mode",null),(0,z._)([(0,Ce.Cb)({type:Number,json:{write:!0}})],ge.prototype,"offset",void 0),(0,z._)([(0,Ce.Cb)({type:oe.f9,json:{type:String,read:Ee.read,write:Ee.write}})],ge.prototype,"unit",null),ge=se=(0,z._)([(0,ce.j)("esri.layers.support.ElevationInfo")],ge);var Ue=ge},33215:(hi,lt,N)=>{"use strict";N.d(lt,{ZP:()=>se,SI:()=>oe});var Ae,z=N(17626),J=N(2076),Te=N(86162),Me=N(21726),Ce=N(77712),re=(N(8314),N(90912),N(63290),N(55342)),ce=N(68653),be=N(61403),xe=N(99433),de=N(29840);const me=(0,J.wY)()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let le=Ae=class extends Te.wq{constructor(fe){super(fe)}readHref(fe,Ee,ge){return fe?(0,de.f)(fe,ge):Ee.dataURI}writeHref(fe,Ee,ge,Ue){fe&&((0,Me.HK)(fe)?Ee.dataURI=fe:(Ee.href=(0,de.t)(fe,Ue),(0,Me.YP)(Ee.href)&&(Ee.href=(0,Me.Fv)(Ee.href))))}clone(){return new Ae({href:this.href,primitive:this.primitive})}};(0,z._)([(0,Ce.Cb)({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],le.prototype,"href",void 0),(0,z._)([(0,ce.r)("href")],le.prototype,"readHref",null),(0,z._)([(0,xe.c)("href",{href:{type:String},dataURI:{type:String}})],le.prototype,"writeHref",null),(0,z._)([(0,re.J)(me)],le.prototype,"primitive",void 0),le=Ae=(0,z._)([(0,be.j)("esri.symbols.support.IconSymbol3DLayerResource")],le);const oe="circle";var se=le},48521:(hi,lt,N)=>{"use strict";N.d(lt,{ZP:()=>me,SI:()=>Ae});var be,z=N(17626),J=N(2076),Te=N(86162),Me=N(77712),he=(N(8314),N(90912),N(63290),N(55342)),re=N(61403),ce=N(29840);const xe=(0,J.wY)()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let de=be=class extends Te.wq{clone(){return new be({href:this.href,primitive:this.primitive})}};(0,z._)([(0,Me.Cb)({type:String,json:{read:ce.r,write:ce.w}})],de.prototype,"href",void 0),(0,z._)([(0,he.J)(xe)],de.prototype,"primitive",void 0),de=be=(0,z._)([(0,re.j)("esri.symbols.support.ObjectSymbol3DLayerResource")],de);const Ae="sphere";var me=de},77345:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>be});var re,z=N(17626),J=N(61458),Te=N(77712),ye=(N(8314),N(90912),N(63290),N(61403)),he=N(84687);let ce=re=class extends J.Z{constructor(){super(...arguments),this.portal=null}clone(){return new re({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};(0,z._)([(0,Te.Cb)({type:String})],ce.prototype,"name",void 0),(0,z._)([(0,Te.Cb)({type:String})],ce.prototype,"styleUrl",void 0),(0,z._)([(0,Te.Cb)({type:String})],ce.prototype,"styleName",void 0),(0,z._)([(0,Te.Cb)({type:he.Z})],ce.prototype,"portal",void 0),ce=re=(0,z._)([(0,ye.j)("esri.symbols.support.StyleOrigin")],ce);var be=ce},37519:(hi,lt,N)=>{"use strict";N.d(lt,{e:()=>re,Z:()=>ce});var he,z=N(17626),J=N(61458),Te=N(77712),ye=(N(8314),N(90912),N(63290),N(61403));let re=he=class extends J.Z{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new he({x:this.x,y:this.y})}};(0,z._)([(0,Te.Cb)({type:Number})],re.prototype,"x",void 0),(0,z._)([(0,Te.Cb)({type:Number})],re.prototype,"y",void 0),re=he=(0,z._)([(0,ye.j)("esri.symbols.support.Symbol3DAnchorPosition2D")],re);var ce=re},64830:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>xe});var ce,z=N(17626),J=N(86162),Te=N(62208),Me=N(77712),he=(N(8314),N(90912),N(63290),N(61403)),re=N(60958);let be=ce=class extends J.wq{constructor(){super(...arguments),this.color=null}clone(){return new ce({color:(0,Te.pC)(this.color)?this.color.clone():null})}};(0,z._)([(0,Me.Cb)(re.aK)],be.prototype,"color",void 0),be=ce=(0,z._)([(0,he.j)("esri.symbols.support.Symbol3DMaterial")],be);var xe=be},49511:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>me});var de,z=N(17626),J=N(91558),Te=N(86162),Me=N(62208),Ce=N(23841),Ie=N(77712),ce=(N(8314),N(90912),N(63290),N(61403)),be=N(60958),xe=N(43652);let Ae=de=class extends Te.wq{constructor(){super(...arguments),this.color=new J.Z([0,0,0,1]),this.size=(0,Ce.Wz)(1),this.pattern="solid",this.patternCap="butt",this.stipplePattern=null,this.stippleOffColor=null}clone(){return new de({color:(0,Me.pC)(this.color)?this.color.clone():null,size:this.size,pattern:this.pattern,patternCap:this.patternCap,stipplePattern:this.stipplePattern?this.stipplePattern.slice():null,stippleOffColor:this.stippleOffColor?this.stippleOffColor.clone():null})}};(0,z._)([(0,Ie.Cb)(be.aK)],Ae.prototype,"color",void 0),(0,z._)([(0,Ie.Cb)(be.yd)],Ae.prototype,"size",void 0),(0,z._)([(0,Ie.Cb)({type:xe.pf})],Ae.prototype,"pattern",void 0),(0,z._)([(0,Ie.Cb)({type:["butt","square","round"]})],Ae.prototype,"patternCap",void 0),(0,z._)([(0,Ie.Cb)(be.Ae)],Ae.prototype,"stipplePattern",void 0),(0,z._)([(0,Ie.Cb)({type:J.Z})],Ae.prototype,"stippleOffColor",void 0),Ae=de=(0,z._)([(0,ce.j)("esri.symbols.support.Symbol3DOutline")],Ae);var me=Ae},97595:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>be});var re,z=N(17626),J=N(86162),Te=N(77712),ye=(N(8314),N(90912),N(63290),N(61403)),he=N(60958);let ce=re=class extends J.wq{constructor(){super(...arguments),this.screenLength=0,this.minWorldLength=0}clone(){return new re({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};(0,z._)([(0,Te.Cb)(he.yd)],ce.prototype,"screenLength",void 0),(0,z._)([(0,Te.Cb)({type:Number,json:{write:!0,default:0}})],ce.prototype,"minWorldLength",void 0),(0,z._)([(0,Te.Cb)({type:Number,json:{write:!0}})],ce.prototype,"maxWorldLength",void 0),ce=re=(0,z._)([(0,ye.j)("esri.symbols.support.Symbol3DVerticalOffset")],ce);var be=ce},96296:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>ce});var he,z=N(17626),J=N(61458),Te=N(77712),ye=(N(8314),N(90912),N(63290),N(61403));let re=he=class extends J.Z{clone(){return new he({url:this.url})}};(0,z._)([(0,Te.Cb)({type:String})],re.prototype,"url",void 0),re=he=(0,z._)([(0,ye.j)("esri.symbols.support.Thumbnail")],re);var ce=re},56445:(hi,lt,N)=>{"use strict";N.d(lt,{iW:()=>ce,kW:()=>Te,FW:()=>ye,PI:()=>Me});var z=N(91558),J=N(80991);function Te(oe){const se=(0,J.be)(oe);if("CIMTextSymbol"===se.type)return se.height;let fe=0;if(se.symbolLayers)for(const Ee of se.symbolLayers)(0,J.zL)(Ee)&&Ee.size>fe?fe=Ee.size:(0,J.yL)(Ee)&&Ee.width>fe?fe=Ee.width:(0,J.k5)(Ee);return fe}function Me(oe,se,fe){const Ee=(0,J.be)(oe),ge=Te(oe);0!==ge?Ie(Ee,se/ge,!1,fe):function(oe,se){if("CIMTextSymbol"!==oe.type){if(oe.symbolLayers)for(const fe of oe.symbolLayers)switch(fe.type){case"CIMPictureMarker":case"CIMVectorMarker":fe.size=se;break;case"CIMPictureStroke":case"CIMSolidStroke":fe.width=se}}else oe.height=se}(Ee,se)}function Ie(oe,se,fe,Ee){if("CIMTextSymbol"!==oe.type){if(fe&&oe.effects)for(const ge of oe.effects)re(ge,se);if(oe.symbolLayers)for(const ge of oe.symbolLayers)switch(ge.type){case"CIMPictureMarker":case"CIMVectorMarker":ye(ge,se,Ee);break;case"CIMPictureStroke":case"CIMSolidStroke":null!=Ee&&Ee.preserveOutlineWidth||(ge.width*=se);break;case"CIMPictureFill":ge.height*=se,ge.offsetX*=se,ge.offsetY*=se;break;case"CIMHatchFill":Ie(ge.lineSymbol,se,!0,fr(ji({},Ee),{preserveOutlineWidth:!1})),ge.offsetX*=se,ge.offsetY*=se,ge.separation*=se}}else oe.height*=se}function ye(oe,se,fe){if(oe.markerPlacement&&function(oe,se){switch((0,J.gJ)(oe)&&(oe.offset*=se),oe.type){case"CIMMarkerPlacementAlongLineRandomSize":case"CIMMarkerPlacementAlongLineSameSize":if(oe.customEndingOffset*=se,oe.offsetAlongLine*=se,oe.placementTemplate&&oe.placementTemplate.length){const fe=oe.placementTemplate.map(Ee=>Ee*se);oe.placementTemplate=fe}break;case"CIMMarkerPlacementAlongLineVariableSize":if(oe.maxRandomOffset*=se,oe.placementTemplate&&oe.placementTemplate.length){const fe=oe.placementTemplate.map(Ee=>Ee*se);oe.placementTemplate=fe}break;case"CIMMarkerPlacementOnLine":oe.startPointOffset*=se;break;case"CIMMarkerPlacementAtExtremities":oe.offsetAlongLine*=se;break;case"CIMMarkerPlacementAtMeasuredUnits":case"CIMMarkerPlacementOnVertices":break;case"CIMMarkerPlacementAtRatioPositions":oe.beginPosition*=se,oe.endPosition*=se;break;case"CIMMarkerPlacementPolygonCenter":oe.offsetX*=se,oe.offsetY*=se;break;case"CIMMarkerPlacementInsidePolygon":oe.offsetX*=se,oe.offsetY*=se,oe.stepX*=se,oe.stepY*=se}}(oe.markerPlacement,se),oe.offsetX*=se,oe.offsetY*=se,oe.anchorPoint&&"Absolute"===oe.anchorPointUnits&&(oe.anchorPoint={x:oe.anchorPoint.x*se,y:oe.anchorPoint.y*se}),oe.size*=se,"CIMVectorMarker"===oe.type&&oe.markerGraphics)for(const Ee of oe.markerGraphics)oe.scaleSymbolsProportionally||Ie(Ee.symbol,se,!0,fe)}function re(oe,se){switch(oe.type){case"CIMGeometricEffectArrow":case"CIMGeometricEffectDonut":oe.width*=se;break;case"CIMGeometricEffectBuffer":oe.size*=se;break;case"CIMGeometricEffectCut":oe.beginCut*=se,oe.endCut*=se,oe.middleCut*=se;break;case"CIMGeometricEffectDashes":if(oe.customEndingOffset*=se,oe.offsetAlongLine*=se,oe.dashTemplate&&oe.dashTemplate.length){const fe=oe.dashTemplate.map(Ee=>Ee*se);oe.dashTemplate=fe}break;case"CIMGeometricEffectExtension":case"CIMGeometricEffectJog":case"CIMGeometricEffectRadial":oe.length*=se;break;case"CIMGeometricEffectMove":oe.offsetX*=se,oe.offsetY*=se;break;case"CIMGeometricEffectOffset":case"CIMGeometricEffectOffsetTangent":oe.offset*=se;break;case"CIMGeometricEffectRegularPolygon":oe.radius*=se;break;case"CIMGeometricEffectTaperedPolygon":oe.fromWidth*=se,oe.length*=se,oe.toWidth*=se;break;case"CIMGeometricEffectWave":oe.amplitude*=se,oe.period*=se}}function ce(oe){const se=[];return be((0,J.be)(oe),se),se.length?new z.Z((0,J.NO)(se[0])):null}function be(oe,se){let fe;fe="CIMTextSymbol"===oe.type?oe.symbol:oe;const Ee="CIMPolygonSymbol"===oe.type;if(fe.symbolLayers)for(const ge of fe.symbolLayers)if(!(ge.colorLocked||Ee&&((0,J.yL)(ge)||(0,J.zL)(ge)&&ge.markerPlacement&&(0,J.gJ)(ge.markerPlacement))))switch(ge.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":break;case"CIMVectorMarker":ge.markerGraphics.forEach(Ue=>{be(Ue.symbol,se)});break;case"CIMSolidStroke":case"CIMSolidFill":xe(se,ge.color);break;case"CIMHatchFill":be(ge.lineSymbol,se)}}function xe(oe,se){for(const fe of oe)if(fe.join(".")===se.join("."))return;oe.push(se)}},12948:(hi,lt,N)=>{"use strict";N.d(lt,{rx:()=>Ce,l9:()=>Me,ix:()=>J});var z=N(91558);const J=new z.Z("white"),Me=(new z.Z("black"),new z.Z([255,255,255,0]));function Ce(Ie){return 0===Ie.r&&0===Ie.g&&0===Ie.b}},8080:(hi,lt,N)=>{"use strict";N.d(lt,{Rz:()=>ce,G:()=>xe,kD:()=>Ae,mW:()=>de}),N(8314);var J=N(88493),Te=N(52068),Me=N(57213),Ce=N(35540),Ie=N(24837);Me.Z.fromJSON(Ie.I4),Te.Z.fromJSON(Ie.ET),J.Z.fromJSON(Ie.lF);const ce=Ce.Z.fromJSON(Ie.qP),xe=Me.Z.fromJSON(Ie.eG),de=Te.Z.fromJSON(Ie.wW),Ae=J.Z.fromJSON(Ie.lj)},24837:(hi,lt,N)=>{"use strict";N.d(lt,{I4:()=>Te,lF:()=>Ce,ET:()=>Me,qP:()=>Ie,eG:()=>ye,lj:()=>re,wW:()=>he});const z=[252,146,31,255],Te={type:"esriSMS",style:"esriSMSCircle",size:6,color:z,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},Me={type:"esriSLS",style:"esriSLSSolid",width:.75,color:z},Ce={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},Ie={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},ye={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},he={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},re={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},74741:(hi,lt,N)=>{"use strict";N.d(lt,{Ne:()=>Fe,Sp:()=>Ue,_M:()=>fe,Od:()=>Ee,mx:()=>ge});var z=N(54346),J=N(91558),Te=N(84792),Me=N(78498),Ce=N(23841),Ie=N(56445);const ye="picture-fill",he="simple-fill",ce="simple-marker",me=new Me.Z(1e3);function fe(Ve){const Le=Ve.style;let tt=null;if(Ve)switch(Ve.type){case ce:"cross"!==Le&&"x"!==Le&&(tt=Ve.color);break;case he:"solid"===Le?tt=Ve.color:"none"!==Le&&(tt={type:"pattern",x:0,y:0,src:(0,z.V)(`esri/symbols/patterns/${Le}.png`),width:5,height:5});break;case ye:tt={type:"pattern",src:Ve.url,width:(0,Ce.F2)(Ve.width)*Ve.xscale,height:(0,Ce.F2)(Ve.height)*Ve.yscale,x:(0,Ce.F2)(Ve.xoffset),y:(0,Ce.F2)(Ve.yoffset)};break;case"text":tt=Ve.color;break;case"cim":tt=(0,Ie.iW)(Ve)}return tt}function Ee(Ve,Le){const tt=Ve+"-"+Le;return void 0!==me.get(tt)?Promise.resolve(me.get(tt)):(0,Te.default)(Ve,{responseType:"image"}).then(je=>{const ve=je.data,Oe=ve.naturalWidth,qe=ve.naturalHeight,He=document.createElement("canvas");He.width=Oe,He.height=qe;const Qe=He.getContext("2d");Qe.fillStyle=Le,Qe.fillRect(0,0,Oe,qe),Qe.globalCompositeOperation="destination-in",Qe.drawImage(ve,0,0);const ot=He.toDataURL();return me.put(tt,ot),ot})}function ge(Ve){if(!Ve)return null;let Le;switch(Ve.type){case he:case ye:case ce:Le=ge(Ve.outline);break;case"simple-line":{const tt=(0,Ce.F2)(Ve.width);"none"!==Ve.style&&0!==tt&&(Le={color:Ve.color,style:Ue(Ve.style),width:tt,cap:Ve.cap,join:"miter"===Ve.join?(0,Ce.F2)(Ve.miterLimit):Ve.join});break}default:Le=null}return Le}const Ue=function(){const Ve={};return function(Le){if(Ve[Le])return Ve[Le];const tt=Le.replace(/-/g,"");return Ve[Le]=tt,tt}}(),Fe=new J.Z([128,128,128])},65270:(hi,lt,N)=>{"use strict";N.d(lt,{i:()=>oe,c:()=>me});var z=N(65787),J=N(26584),Te=N(39368),Me=N(12874),Ce=N(69852),Ie=N(52068),ye=N(40445),he=N(57213),re=N(13546),ce=N(88493),be=N(89673),xe=N(35540),de=N(22490);function me(se,fe,Ee,ge){const Ue=function(se,fe,Ee){if(!se)return null;if(Ee&&"web-scene"===Ee.origin&&!(se instanceof Te.Z)&&!(se instanceof Me.Z)){const ge="cim"!==se.type?function(se,fe=!1,Ee=!1,ge=!0){if(!se)return{symbol:null};let Ue;if((0,z.dU)(se)||se instanceof Me.Z)Ue=se.clone();else if("cim"===se.type)Ue=Ce.Z.fromCIMSymbol(se);else if(se instanceof Ie.Z)Ue=ye.Z.fromSimpleLineSymbol(se);else if(se instanceof he.Z)Ue=Ce.Z.fromSimpleMarkerSymbol(se);else if(se instanceof re.Z)Ue=Ce.Z.fromPictureMarkerSymbol(se);else if(se instanceof ce.Z)Ue=be.Z.fromSimpleFillSymbol(se);else{if(!(se instanceof xe.Z))return{error:new J.Z("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${se.type||se.declaredClass}' is unsupported in 3D`,{symbol:se})};Ue=ge?de.Z.fromTextSymbol(se):Ce.Z.fromTextSymbol(se)}if(fe&&(Ue.id=se.id),Ee&&(0,z.dU)(Ue))for(let Fe=0;Fe<Ue.symbolLayers.length;++Fe)Ue.symbolLayers.getItemAt(Fe)._ignoreDrivers=!0;return{symbol:Ue}}(se):{symbol:null,error:new J.Z("symbol-conversion:unsupported-cim-symbol","CIM symbol is unsupported in web scenes",{symbol:se})};return ge.symbol?ge.symbol.write(fe,Ee):(Ee.messages&&Ee.messages.push(new J.Z("symbol:unsupported",`Symbols of type '${se.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:se,context:Ee,error:ge.error})),null)}return Ee&&"web-map"===Ee.origin&&"web-style"===se.type?(Ee.messages&&Ee.messages.push(new J.Z("symbol:unsupported",`Symbols of type '${se.declaredClass}' are not supported in webmaps. Use CIMSymbol instead when working with WebMap in MapView.`,{symbol:se,context:Ee})),null):se.write(fe,Ee)}(se,{},ge);Ue&&(fe[Ee]=Ue)}function oe(se,fe){return(0,z.S9)(se,null,fe)}},60958:(hi,lt,N)=>{"use strict";N.d(lt,{aK:()=>ye,yd:()=>he,Ae:()=>re});var z=N(91558),J=N(23841),Te=N(90912),Me=N(92236);const ye={type:z.Z,json:{type:[Te.z8],default:null,read:{source:["color","transparency"],reader:function(ce,be){const xe=null!=be.transparency?(0,Me.b)(be.transparency):1,de=be.color;return de&&Array.isArray(de)?new z.Z([de[0]||0,de[1]||0,de[2]||0,xe]):null}},write:{target:{color:{type:[Te.z8]},transparency:{type:Te.z8}},writer:function(ce,be){be.color=ce.toJSON().slice(0,3);const xe=(0,Me.a)(ce.a);0!==xe&&(be.transparency=xe)}}}},he={type:Number,cast:J.t_,json:{write:!0}},re={type:[Number],cast:ce=>null!=ce?ce:Array.isArray(ce)?ce.map(J.t_):null,json:{read:!1,write:!1}}},78241:(hi,lt,N)=>{"use strict";N.r(lt),N.d(lt,{fetchStyle:()=>Ue,fetchSymbolFromStyle:()=>Ve,resolveWebStyleSymbol:()=>Fe,styleNameFromItem:()=>je});var z=N(84792),J=N(65787),Te=N(83100),Me=N(26584),Ce=N(21726),Ie=N(84687),ye=N(6278),he=N(8314),Ae=N(29840),me=N(65270),le=N(77345),oe=N(96296);const se={};function Ue(ot,Ne,Se){return ot.styleUrl?function(ot,Ne){return Oe(ot,Ne).then(Se=>({data:Se.data,baseUrl:(0,Ce.Yd)(ot),styleUrl:ot}))}(ot.styleUrl,Se):ot.styleName?function(ot,Ne,Se){const $e=Ne.portal||Ie.Z.getDefault();let nt;const ut=`${$e.url} - ${$e.user&&$e.user.username} - ${ot}`;return se[ut]||(se[ut]=function(ot,Ne,Se){return Ne.load(Se).then(()=>{const $e=new ye.Z({disableExtraQuery:!0,query:`owner:${qe} AND type:${He} AND typekeywords:"${ot}"`});return Ne.queryItems($e,Se)}).then(({results:$e})=>{let nt=null;const ut=ot.toLowerCase();if($e&&Array.isArray($e))for(const xt of $e)if(xt.typeKeywords.some(Ze=>Ze.toLowerCase()===ut)&&xt.type===He&&xt.owner===qe){nt=xt;break}if(!nt)throw new Me.Z("symbolstyleutils:style-not-found",`The style '${ot}' could not be found`,{styleName:ot});return nt.load(Se)})}(ot,$e,Se).then(xt=>(nt=xt,xt.fetchData())).then(xt=>({data:xt,baseUrl:nt.itemUrl,styleName:ot}))),se[ut]}(ot.styleName,Ne,Se):Promise.reject(new Me.Z("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function Fe(ot,Ne,Se,$e){return ot.name?ot.styleName&&"Esri2DPointSymbolsStyle"===ot.styleName?function(ot,Ne,Se){const $e=Qe.replace(/\{SymbolName\}/gi,ot.name);return Oe($e,Se).then(nt=>{const ut=Le(nt.data);return(0,me.i)(ut,{portal:Ne.portal,url:(0,Ce.mN)((0,Ce.Yd)($e)),origin:"portal-item"})})}(ot,Ne,$e):Ue(ot,Ne,$e).then(nt=>Ve(nt,ot.name,Ne,Se,$e)):Promise.reject(new Me.Z("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference"))}function Ve(ot,Ne,Se,$e,nt){const ut=ot.data,xt={portal:Se.portal,url:(0,Ce.mN)(ot.baseUrl),origin:"portal-item"},Ze=ut.items.find(Lt=>Lt.name===Ne);if(!Ze)return Promise.reject(new Me.Z("symbolstyleutils:symbol-name-not-found",`The symbol name '${Ne}' could not be found`,{symbolName:Ne}));let et=(0,Ae.f)(function(ot,Ne){if("cimRef"===Ne)return ot.cimRef;if(ot.formatInfos&&!(0,he.Z)("enable-feature:force-wosr"))for(const Se of ot.formatInfos)if("gltf"===Se.type)return Se.href;return ot.webRef}(Ze,$e),xt),gt=Ze.thumbnail&&Ze.thumbnail.href;const Vt=Ze.thumbnail&&Ze.thumbnail.imageData;(0,Te.XO)()&&(et=(0,Te.pJ)(et),gt=(0,Te.pJ)(gt));const Bt={portal:Se.portal,url:(0,Ce.mN)((0,Ce.Yd)(et)),origin:"portal-item"};return Oe(et,nt).then(Lt=>{const Pt="cimRef"===$e?Le(Lt.data):Lt.data,dt=(0,me.i)(Pt,Bt);if(dt&&(0,J.dU)(dt)){if(gt){const jt=(0,Ae.f)(gt,xt);dt.thumbnail=new oe.Z({url:jt})}else Vt&&(dt.thumbnail=new oe.Z({url:`data:image/png;base64,${Vt}`}));ot.styleUrl?dt.styleOrigin=new le.Z({portal:Se.portal,styleUrl:ot.styleUrl,name:Ne}):ot.styleName&&(dt.styleOrigin=new le.Z({portal:Se.portal,styleName:ot.styleName,name:Ne}))}return dt})}function Le(ot){return null===ot||"CIMSymbolReference"===ot.type?ot:{type:"CIMSymbolReference",symbol:ot}}function je(ot){for(const Ne of ot.typeKeywords)if(/^Esri.*Style$/.test(Ne)&&"Esri Style"!==Ne)return Ne}function Oe(ot,Ne){const Se=ji({responseType:"json",query:{f:"json"}},Ne);return(0,z.default)((0,Ce.Fv)(ot),Se)}const qe="esri_en",He="Style",Qe="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json"},43652:(hi,lt,N)=>{"use strict";N.d(lt,{pf:()=>re,Uz:()=>he,$K:()=>Me}),N(8314);var J=N(28093),Te=N(5548);function Me(ce,{isPrimitive:be,width:xe,depth:de,height:Ae}){const me=be?10:1;if(null==xe&&null==Ae&&null==de)return[me*ce[0],me*ce[1],me*ce[2]];const le=(0,J.f)(xe,de,Ae);let oe;for(let se=0;se<3;se++){const fe=le[se];if(null!=fe){oe=fe/ce[se];break}}for(let se=0;se<3;se++)null==le[se]&&(le[se]=ce[se]*oe);return le}const Ce=(0,Te.al)(-.5,-.5,-.5,.5,.5,.5),Ie=(0,Te.al)(-.5,-.5,0,.5,.5,1),ye=(0,Te.al)(-.5,-.5,0,.5,.5,.5);function he(ce){switch(ce){case"sphere":case"cube":case"diamond":return Ce;case"cylinder":case"cone":case"inverted-cone":return Ie;case"tetrahedron":return ye;default:return}}const re=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"]},29505:(hi,lt,N)=>{"use strict";N.d(lt,{f9:()=>Ce});var z=N(21254);const Ce=function(){const Ie=Object.keys(z.a);return Ie.sort(),Ie}()},69738:(hi,lt,N)=>{"use strict";N.d(lt,{Ds:()=>ye,KA:()=>Ie});var z=N(21726),J=N(29840);function Me(re,ce){return function(re){return re&&("service"===re.origin||"portal-item"===re.origin)&&re.layer&&("feature"===re.layer.type||"stream"===re.layer.type)}(ce)&&!(0,z.YP)(re)&&ce.layer.parsedUrl?(0,z.v_)(ce.layer.parsedUrl.path,"images",re):(0,J.f)(re,ce)}const Ie={json:{read:{source:["imageData","url"],reader:function(re,ce,be){return ce.imageData?(0,z._l)({mediaType:ce.contentType||"image/png",isBase64:!0,data:ce.imageData}):Me(ce.url,be)}},write:{writer(re,ce,be,xe){!function(re,ce,be,xe){if((0,z.HK)(re)){const de=(0,z.sJ)(re);ce.contentType=de.mediaType,ce.imageData=de.data,be&&be.imageData===ce.imageData&&be.url&&(0,J.w)(be.url,ce,"url",xe)}else(0,J.w)(re,ce,"url",xe)}(re,ce,this.source,xe)}}}},ye={readOnly:!0,json:{read:{source:["imageData","url"],reader(re,ce,be){const xe={};return ce.imageData&&(xe.imageData=ce.imageData),ce.contentType&&(xe.contentType=ce.contentType),ce.url&&(xe.url=Me(ce.url,be)),xe}}}}},86606:(hi,lt,N)=>{"use strict";N.d(lt,{tb:()=>ge,BR:()=>xt,e3:()=>nt,nf:()=>me,YW:()=>Ae});var z=N(15861),J=N(91558),Te=N(65787),Me=N(59213),Ce=N(8314),Ie=N(62208),ye=N(28093),re=(N(74741),N(64830));const ce=/\/resource\/(.*?)\.svg$/,be=new J.Z("white");function Ae(Ze){if((0,Ie.Wi)(Ze)||!("symbolLayers"in Ze)||(0,Ie.Wi)(Ze.symbolLayers))return!1;switch(Ze.type){case"point-3d":return Ze.symbolLayers.some(et=>"object"===et.type);case"line-3d":return Ze.symbolLayers.some(et=>"path"===et.type);case"polygon-3d":return Ze.symbolLayers.some(et=>"object"===et.type||"extrude"===et.type);default:return!1}}function me(Ze,et){const gt=et.resource.href;return!(0,Ce.Z)("esri-canvas-svg-support")&&Ze.styleOrigin&&ce.test(gt)?gt.replace(ce,"/resource/png/$1.png"):gt}function se(Ze,et){if(null==et)return Ze;const gt=Ze.toRgba();return gt[3]=gt[3]*et,new J.Z(gt)}function ge(Ze,et,gt){Ze&&(et||null!=gt)&&(et&&(et=new J.Z(et)),(0,Te.dU)(Ze)?function(Ze,et,gt){const Vt=Ze.symbolLayers;if(!Vt)return;const Bt=Lt=>{const Pt=(0,Ie.pC)(Lt)?Lt:null;return se(et=et||Pt||null!=gt&&be,gt)};Vt.forEach(Lt=>{if("object"!==Lt.type||null==Lt.resource.href||et)if("water"===Lt.type)Lt.color=Bt(Lt.color);else{const Pt=(0,Ie.pC)(Lt.material)?Lt.material.color:null,dt=Bt(Pt);(0,Ie.Wi)(Lt.material)?Lt.material=new re.Z({color:dt}):Lt.material.color=dt,null!=gt&&"outline"in Lt&&(0,Ie.pC)(Lt.outline)&&(0,Ie.pC)(Lt.outline.color)&&(Lt.outline.color=se(Lt.outline.color,gt))}})}(Ze,et,gt):(0,Te.cT)(Ze)&&function(Ze,et,gt){(et=et||Ze.color)&&(Ze.color=se(et,gt)),null!=gt&&"outline"in Ze&&Ze.outline&&Ze.outline.color&&(Ze.outline.color=se(Ze.outline.color,gt))}(Ze,et,gt))}function Ue(Ze,et){return Fe.apply(this,arguments)}function Fe(){return Fe=(0,z.Z)(function*(Ze,et){const gt=Ze.symbolLayers;gt&&(yield(0,Me.Ed)(gt,function(){var Vt=(0,z.Z)(function*(Bt){return Ve(Bt,et)});return function(Bt){return Vt.apply(this,arguments)}}()))}),Fe.apply(this,arguments)}function Ve(Ze,et){return Le.apply(this,arguments)}function Le(){return(Le=(0,z.Z)(function*(Ze,et){switch(Ze.type){case"extrude":ve(Ze,et);break;case"icon":case"line":case"text":tt(Ze,et);break;case"path":He(Ze,et);break;case"object":yield Oe(Ze,et)}})).apply(this,arguments)}function tt(Ze,et){const gt=je(et);(0,Ie.pC)(gt)&&(Ze.size=gt)}function je(Ze){for(const et of Ze)if("number"==typeof et)return et;return null}function ve(Ze,et){Ze.size="number"==typeof et[2]?et[2]:0}function Oe(Ze,et){return qe.apply(this,arguments)}function qe(){return(qe=(0,z.Z)(function*(Ze,et){const{resourceSize:gt,symbolSize:Vt}=yield ot(Ze),Bt=Qe(et,gt,Vt);Ze.width=Se(et[0],Vt[0],gt[0],Bt),Ze.depth=Se(et[1],Vt[1],gt[1],Bt),Ze.height=Se(et[2],Vt[2],gt[2],Bt)})).apply(this,arguments)}function He(Ze,et){const gt=Qe(et,ye.O,[Ze.width,void 0,Ze.height]);Ze.width=Se(et[0],Ze.width,1,gt),Ze.height=Se(et[2],Ze.height,1,gt)}function Qe(Ze,et,gt){for(let Vt=0;Vt<3;Vt++){const Bt=Ze[Vt];switch(Bt){case"symbol-value":return null!=gt[Vt]?gt[Vt]/et[Vt]:1;case"proportional":break;default:if(Bt&&et[Vt])return Bt/et[Vt]}}return 1}function ot(Ze){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,z.Z)(function*(Ze){const et=yield N.e(1831).then(N.bind(N,91831)),gt=yield et.computeObjectLayerResourceSize(Ze,10),{width:Vt,height:Bt,depth:Lt}=Ze,Pt=[Vt,Lt,Bt];let dt=1;for(let jt=0;jt<3;jt++)if(null!=Pt[jt]){dt=Pt[jt]/gt[jt];break}for(let jt=0;jt<3;jt++)null==Pt[jt]&&(Pt[jt]=gt[jt]*dt);return{resourceSize:gt,symbolSize:Pt}})).apply(this,arguments)}function Se(Ze,et,gt,Vt){switch(Ze){case"proportional":return gt*Vt;case"symbol-value":return null!=et?et:gt;default:return Ze}}function $e(Ze,et){const gt=je(et);if(!(0,Ie.Wi)(gt))switch(Ze.type){case"simple-marker":Ze.size=gt;break;case"picture-marker":{const Vt=Ze.width/Ze.height;Vt>1?(Ze.width=gt,Ze.height=gt*Vt):(Ze.width=gt*Vt,Ze.height=gt);break}case"simple-line":Ze.width=gt;break;case"text":Ze.font.size=gt}}function nt(Ze,et){return ut.apply(this,arguments)}function ut(){return(ut=(0,z.Z)(function*(Ze,et){if(Ze&&et)return(0,Te.dU)(Ze)?Ue(Ze,et):void((0,Te.cT)(Ze)&&$e(Ze,et))})).apply(this,arguments)}function xt(Ze,et,gt){if(Ze&&null!=et)if((0,Te.dU)(Ze)){const Vt=Ze.symbolLayers;Vt&&Vt.forEach(Bt=>{if(Bt&&"object"===Bt.type)switch(gt){case"tilt":Bt.tilt=et;break;case"roll":Bt.roll=et;break;default:Bt.heading=et}})}else(0,Te.cT)(Ze)&&("simple-marker"!==Ze.type&&"picture-marker"!==Ze.type&&"text"!==Ze.type||(Ze.angle=et))}},4728:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>ie});var z=N(15861),J=N(17626),Te=N(26584),Me=N(8314),Ce=N(62208),Ie=N(10699),ye=N(77712),ce=(N(90912),N(63290),N(61403)),be=N(15283),xe=N(2618),de=N(85531),Ae=N(67736);function le(){return(le=(0,z.Z)(function*(Y,te,ne){const we=(0,xe.en)(Y);return(0,de.X)(we,Ae.Z.from(te),ji({},ne)).then(ze=>(0,de.O)(ze.data.attachmentGroups,we.path))})).apply(this,arguments)}var oe=N(90463),fe=(N(29132),N(20477)),Ee=N(84952),ge=N(2004);function Fe(){return(Fe=(0,z.Z)(function*(Y,te,ne){const we=(0,xe.en)(Y);return(0,fe.executeQueryForExtent)(we,Ee.Z.from(te),ji({},ne)).then(ze=>({count:ze.data.count,extent:ge.Z.fromJSON(ze.data.extent)}))})).apply(this,arguments)}var Ve=N(24865),Le=N(2865),tt=N(94573),je=N(82054),ve=N(92839);function Oe(Y,te){return te}function qe(Y,te,ne,we){switch(ne){case 0:return Ne(Y,te+we,0);case 1:return"lowerLeft"===Y.originPosition?Ne(Y,te+we,1):function({translate:Y,scale:te},ne,we){return Y[we]-ne*te[we]}(Y,te+we,1)}}function He(Y,te,ne,we){return 2===ne?Ne(Y,te,2):qe(Y,te,ne,we)}function Qe(Y,te,ne,we){return 2===ne?Ne(Y,te,3):qe(Y,te,ne,we)}function ot(Y,te,ne,we){return 3===ne?Ne(Y,te,3):He(Y,te,ne,we)}function Ne({translate:Y,scale:te},ne,we){return Y[we]+ne*te[we]}class $e{constructor(te){this.options=te,this.geometryTypes=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"],this.previousCoordinate=[0,0],this.transform=null,this.applyTransform=Oe,this.lengths=[],this.currentLengthIndex=0,this.toAddInCurrentPath=0,this.vertexDimension=0,this.coordinateBuffer=null,this.coordinateBufferPtr=0,this.AttributesConstructor=function(){}}createFeatureResult(){return{fields:[],features:[]}}finishFeatureResult(te){if(this.options.applyTransform&&(te.transform=null),this.AttributesConstructor=function(){},this.coordinateBuffer=null,this.lengths.length=0,!te.hasZ)return;const ne=(0,ve.k)(te.geometryType,this.options.sourceSpatialReference,te.spatialReference);if(ne)for(const we of te.features)ne(we.geometry)}createSpatialReference(){return{}}addField(te,ne){te.fields.push(ne);const we=te.fields.map(ze=>ze.name);this.AttributesConstructor=function(){for(const ze of we)this[ze]=null}}addFeature(te,ne){te.features.push(ne)}prepareFeatures(te){switch(this.transform=te.transform,this.options.applyTransform&&te.transform&&(this.applyTransform=this.deriveApplyTransform(te)),this.vertexDimension=2,te.hasZ&&this.vertexDimension++,te.hasM&&this.vertexDimension++,te.geometryType){case"esriGeometryPoint":this.addCoordinate=(ne,we,ze)=>this.addCoordinatePoint(ne,we,ze),this.createGeometry=ne=>this.createPointGeometry(ne);break;case"esriGeometryPolygon":this.addCoordinate=(ne,we,ze)=>this.addCoordinatePolygon(ne,we,ze),this.createGeometry=ne=>this.createPolygonGeometry(ne);break;case"esriGeometryPolyline":this.addCoordinate=(ne,we,ze)=>this.addCoordinatePolyline(ne,we,ze),this.createGeometry=ne=>this.createPolylineGeometry(ne);break;case"esriGeometryMultipoint":this.addCoordinate=(ne,we,ze)=>this.addCoordinateMultipoint(ne,we,ze),this.createGeometry=ne=>this.createMultipointGeometry(ne);break;default:(0,tt.Bg)(te.geometryType)}}createFeature(){return this.lengths.length=0,this.currentLengthIndex=0,this.previousCoordinate[0]=0,this.previousCoordinate[1]=0,this.coordinateBuffer=null,this.coordinateBufferPtr=0,{attributes:new this.AttributesConstructor}}allocateCoordinates(){}addLength(te,ne,we){0===this.lengths.length&&(this.toAddInCurrentPath=ne),this.lengths.push(ne)}addQueryGeometry(te,ne){const{queryGeometry:we,queryGeometryType:ze}=ne,_t=(0,je.$g)(we.clone(),we,!1,!1,this.transform),Mt=(0,je.di)(_t,ze,!1,!1);te.queryGeometryType=ze,te.queryGeometry=ji({},Mt)}createPointGeometry(te){const ne={x:0,y:0,spatialReference:te.spatialReference};return te.hasZ&&(ne.z=0),te.hasM&&(ne.m=0),ne}addCoordinatePoint(te,ne,we){switch(ne=this.applyTransform(this.transform,ne,we,0),we){case 0:te.x=ne;break;case 1:te.y=ne;break;case 2:"z"in te?te.z=ne:te.m=ne;break;case 3:te.m=ne}}transformPathLikeValue(te,ne){let we=0;return ne<=1&&(we=this.previousCoordinate[ne],this.previousCoordinate[ne]+=te),this.applyTransform(this.transform,te,ne,we)}addCoordinatePolyline(te,ne,we){this.dehydratedAddPointsCoordinate(te.paths,ne,we)}addCoordinatePolygon(te,ne,we){this.dehydratedAddPointsCoordinate(te.rings,ne,we)}addCoordinateMultipoint(te,ne,we){0===we&&te.points.push([]);const ze=this.transformPathLikeValue(ne,we);te.points[te.points.length-1].push(ze)}createPolygonGeometry(te){return{rings:[[]],spatialReference:te.spatialReference,hasZ:!!te.hasZ,hasM:!!te.hasM}}createPolylineGeometry(te){return{paths:[[]],spatialReference:te.spatialReference,hasZ:!!te.hasZ,hasM:!!te.hasM}}createMultipointGeometry(te){return{points:[],spatialReference:te.spatialReference,hasZ:!!te.hasZ,hasM:!!te.hasM}}dehydratedAddPointsCoordinate(te,ne,we){0===we&&0==this.toAddInCurrentPath--&&(te.push([]),this.toAddInCurrentPath=this.lengths[++this.currentLengthIndex]-1,this.previousCoordinate[0]=0,this.previousCoordinate[1]=0);const ze=this.transformPathLikeValue(ne,we),_t=te[te.length-1];0===we&&(this.coordinateBufferPtr=0,this.coordinateBuffer=new Array(this.vertexDimension),_t.push(this.coordinateBuffer)),this.coordinateBuffer[this.coordinateBufferPtr++]=ze}deriveApplyTransform(te){const{hasZ:ne,hasM:we}=te;return ne&&we?ot:ne?He:we?Qe:qe}}var nt=N(17253);function et(){return(et=(0,z.Z)(function*(Y,te,ne){const we=(0,xe.en)(Y),ze=ji({},ne),_t=Ee.Z.from(te),Mt=!_t.quantizationParameters,{data:pe}=yield(0,fe.executeQueryPBF)(we,_t,new $e({sourceSpatialReference:_t.sourceSpatialReference,applyTransform:Mt}),ze);return pe})).apply(this,arguments)}var gt=N(84792),Vt=N(33022);function Bt(Y,te){const ne=Y.toJSON();return ne.objectIds&&(ne.objectIds=ne.objectIds.join(",")),ne.orderByFields&&(ne.orderByFields=ne.orderByFields.join(",")),!ne.outFields||null!=te&&te.returnCountOnly?delete ne.outFields:ne.outFields=-1!==ne.outFields.indexOf("*")?"*":ne.outFields.join(","),ne.outSpatialReference&&(ne.outSR=ne.outSR.wkid||JSON.stringify(ne.outSR.toJSON()),delete ne.outSpatialReference),ne.dynamicDataSource&&(ne.layer=JSON.stringify({source:ne.dynamicDataSource}),delete ne.dynamicDataSource),ne}function Lt(Y,te,ne){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,z.Z)(function*(Y,te,ne){const we=yield Rt(Y,te,ne),ze=we.data,_t=ze.geometryType,Mt=ze.spatialReference,pe={};for(const Ge of ze.relatedRecordGroups){const it={fields:void 0,objectIdFieldName:void 0,geometryType:_t,spatialReference:Mt,hasZ:!!ze.hasZ,hasM:!!ze.hasM,features:Ge.relatedRecords};if(null!=Ge.objectId)pe[Ge.objectId]=it;else for(const ht in Ge)Ge.hasOwnProperty(ht)&&"relatedRecords"!==ht&&(pe[Ge[ht]]=it)}return fr(ji({},we),{data:pe})})).apply(this,arguments)}function dt(Y,te,ne){return jt.apply(this,arguments)}function jt(){return(jt=(0,z.Z)(function*(Y,te,ne){const we=yield Rt(Y,te,ne,{returnCountOnly:!0}),ze=we.data,_t={};for(const Mt of ze.relatedRecordGroups)null!=Mt.objectId&&(_t[Mt.objectId]=Mt.count);return fr(ji({},we),{data:_t})})).apply(this,arguments)}function Rt(Y,te){return _e.apply(this,arguments)}function _e(){return(_e=(0,z.Z)(function*(Y,te,ne={},we){const ze=(0,Vt.A)(ji(ji(fr(ji({},Y.query),{f:"json"}),we),Bt(te,we)));return(0,gt.default)(Y.path+"/queryRelatedRecords",fr(ji({},ne),{query:ji(ji({},ne.query),ze)}))})).apply(this,arguments)}var ke=N(67010);function Dt(){return(Dt=(0,z.Z)(function*(Y,te,ne){return te=ke.Z.from(te),Lt((0,xe.en)(Y),te,ne).then(ze=>{const _t=ze.data,Mt={};return Object.keys(_t).forEach(pe=>Mt[pe]=nt.default.fromJSON(_t[pe])),Mt})})).apply(this,arguments)}function st(){return(st=(0,z.Z)(function*(Y,te,ne){return te=ke.Z.from(te),dt((0,xe.en)(Y),te,ji({},ne)).then(ze=>ze.data)})).apply(this,arguments)}var Ti=N(21726),qt=N(91179),pi=N(62825),We=N(61515);const fi="Layer does not support extent calculation.";function Ki(Y,te,ne,we){return yn.apply(this,arguments)}function yn(){return(yn=(0,z.Z)(function*(Y,te,ne,we){const ze=yield Be(Y,te,"json",we);return(0,We.p)(te,ne,ze.data),ze})).apply(this,arguments)}function Un(Y,te,ne){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,z.Z)(function*(Y,te,ne){return(0,Ce.pC)(te.timeExtent)&&te.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):Be(Y,te,"json",ne,{returnIdsOnly:!0})})).apply(this,arguments)}function kn(Y,te,ne){return li.apply(this,arguments)}function li(){return(li=(0,z.Z)(function*(Y,te,ne){return(0,Ce.pC)(te.timeExtent)&&te.timeExtent.isEmpty?Promise.resolve({data:{count:0,extent:null}}):Be(Y,te,"json",ne,{returnExtentOnly:!0,returnCountOnly:!0}).then(we=>{const ze=we.data;if(ze.hasOwnProperty("extent"))return we;if(ze.features)throw new Error(fi);if(ze.hasOwnProperty("count"))throw new Error(fi);return we})})).apply(this,arguments)}function B(Y,te,ne){return(0,Ce.pC)(te.timeExtent)&&te.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):Be(Y,te,"json",ne,{returnIdsOnly:!0,returnCountOnly:!0})}function Be(Y,te,ne,we={},ze={}){const _t="string"==typeof Y?(0,Ti.mN)(Y):Y,Mt=te.geometry?[te.geometry]:[];return we.responseType="pbf"===ne?"array-buffer":"json",(0,pi.aX)(Mt,null,we).then(pe=>{const Ge=pe&&pe[0];(0,Ce.pC)(Ge)&&((te=te.clone()).geometry=Ge);const it=(0,Vt.A)(ji(ji(fr(ji({},_t.query),{f:ne}),ze),function(Y,te){var ne,we;const ze=Y.geometry,_t=Y.toJSON(),Mt=_t;if((0,Ce.pC)(ze)&&(Mt.geometry=JSON.stringify(ze),Mt.geometryType=(0,qt.Ji)(ze),Mt.inSR=ze.spatialReference.wkid||JSON.stringify(ze.spatialReference)),null!=(ne=_t.topFilter)&&ne.groupByFields&&(Mt.topFilter.groupByFields=_t.topFilter.groupByFields.join(",")),null!=(we=_t.topFilter)&&we.orderByFields&&(Mt.topFilter.orderByFields=_t.topFilter.orderByFields.join(",")),_t.topFilter&&(Mt.topFilter=JSON.stringify(Mt.topFilter)),_t.objectIds&&(Mt.objectIds=_t.objectIds.join(",")),_t.orderByFields&&(Mt.orderByFields=_t.orderByFields.join(",")),_t.outFields&&!(null!=te&&te.returnCountOnly||null!=te&&te.returnExtentOnly||null!=te&&te.returnIdsOnly)?Mt.outFields=-1!==_t.outFields.indexOf("*")?"*":_t.outFields.join(","):delete Mt.outFields,_t.outSR?Mt.outSR=_t.outSR.wkid||JSON.stringify(_t.outSR):ze&&_t.returnGeometry&&(Mt.outSR=Mt.inSR),_t.returnGeometry&&delete _t.returnGeometry,_t.timeExtent){const pe=_t.timeExtent,{start:Ge,end:it}=pe;null==Ge&&null==it||(Mt.time=Ge===it?Ge:`${null==Ge?"null":Ge},${null==it?"null":it}`),delete _t.timeExtent}return Mt}(te,ze)));return(0,gt.default)((0,Ti.v_)(_t.path,"queryTopFeatures"),fr(ji({},we),{query:ji(ji({},it),we.query)}))})}var $=N(6871);function T(){return(T=(0,z.Z)(function*(Y,te,ne,we){const ze=(0,xe.en)(Y),_t=ji({},we),{data:Mt}=yield Ki(ze,$.Z.from(te),ne,_t);return nt.default.fromJSON(Mt)})).apply(this,arguments)}function D(){return(D=(0,z.Z)(function*(Y,te,ne){const we=(0,xe.en)(Y);return(yield Un(we,$.Z.from(te),ji({},ne))).data.objectIds})).apply(this,arguments)}function L(){return(L=(0,z.Z)(function*(Y,te,ne){const we=(0,xe.en)(Y),ze=yield kn(we,$.Z.from(te),ji({},ne));return{count:ze.data.count,extent:ge.Z.fromJSON(ze.data.extent)}})).apply(this,arguments)}function V(){return(V=(0,z.Z)(function*(Y,te,ne){const we=(0,xe.en)(Y);return(yield B(we,$.Z.from(te),ji({},ne))).data.count})).apply(this,arguments)}var W=N(79308);let X=class extends W.Z{constructor(Y){super(Y),this.dynamicDataSource=null,this.fieldsIndex=null,this.format="json",this.gdbVersion=null,this.infoFor3D=null,this.sourceSpatialReference=null}execute(Y,te){return this.executeJSON(Y,te).then(ne=>this.featureSetFromJSON(Y,ne,te))}executeJSON(Y,te){var ne=this;return(0,z.Z)(function*(){var we;const ze=ji(ji({},ne.requestOptions),te),_t=ne._normalizeQuery(Y),Mt=null!=(null==(we=Y.outStatistics)?void 0:we[0]),pe=(0,Me.Z)("featurelayer-pbf-statistics"),Ge=!Mt||pe;let it;if("pbf"===ne.format&&Ge)try{it=yield function(Y,te,ne){return et.apply(this,arguments)}(ne.url,_t,ze)}catch(ht){if("query:parsing-pbf"!==ht.name)throw ht;ne.format="json"}return"json"!==ne.format&&Ge||(it=yield(0,Le.F)(ne.url,_t,ze)),ne._normalizeFields(it.fields),it})()}featureSetFromJSON(Y,te,ne){var we=this;return(0,z.Z)(function*(){if(!(we._queryIs3DObjectFormat(Y)&&(0,Ce.pC)(we.infoFor3D)&&te.features&&te.features.length))return nt.default.fromJSON(te);const{meshFeatureSetFromJSON:ze}=yield(0,Ie.Hl)(Promise.all([N.e(479),N.e(8592),N.e(582)]).then(N.bind(N,10582)),ne);return ze(Y,we.infoFor3D,te)})()}executeForCount(Y,te){const ne=ji(ji({},this.requestOptions),te),we=this._normalizeQuery(Y);return(0,oe.P)(this.url,we,ne)}executeForExtent(Y,te){const ne=ji(ji({},this.requestOptions),te),we=this._normalizeQuery(Y);return function(Y,te,ne){return Fe.apply(this,arguments)}(this.url,we,ne)}executeForIds(Y,te){const ne=ji(ji({},this.requestOptions),te),we=this._normalizeQuery(Y);return(0,Ve.G)(this.url,we,ne)}executeRelationshipQuery(Y,te){Y=ke.Z.from(Y);const ne=ji(ji({},this.requestOptions),te);return(this.gdbVersion||this.dynamicDataSource)&&((Y=Y.clone()).gdbVersion=Y.gdbVersion||this.gdbVersion,Y.dynamicDataSource=Y.dynamicDataSource||this.dynamicDataSource),function(Y,te,ne){return Dt.apply(this,arguments)}(this.url,Y,ne)}executeRelationshipQueryForCount(Y,te){Y=ke.Z.from(Y);const ne=ji(ji({},this.requestOptions),te);return(this.gdbVersion||this.dynamicDataSource)&&((Y=Y.clone()).gdbVersion=Y.gdbVersion||this.gdbVersion,Y.dynamicDataSource=Y.dynamicDataSource||this.dynamicDataSource),function(Y,te,ne){return st.apply(this,arguments)}(this.url,Y,ne)}executeAttachmentQuery(Y,te){const ne=ji(ji({},this.requestOptions),te);return function(Y,te,ne){return le.apply(this,arguments)}(this.url,Y,ne)}executeTopFeaturesQuery(Y,te){const ne=ji(ji({},this.requestOptions),te);return function(Y,te,ne,we){return T.apply(this,arguments)}(this.parsedUrl,Y,this.sourceSpatialReference,ne)}executeForTopIds(Y,te){const ne=ji(ji({},this.requestOptions),te);return function(Y,te,ne){return D.apply(this,arguments)}(this.parsedUrl,Y,ne)}executeForTopExtents(Y,te){const ne=ji(ji({},this.requestOptions),te);return function(Y,te,ne){return L.apply(this,arguments)}(this.parsedUrl,Y,ne)}executeForTopCount(Y,te){const ne=ji(ji({},this.requestOptions),te);return function(Y,te,ne){return V.apply(this,arguments)}(this.parsedUrl,Y,ne)}_normalizeQuery(Y){let te=Ee.Z.from(Y);if(te.sourceSpatialReference=te.sourceSpatialReference||this.sourceSpatialReference,(this.gdbVersion||this.dynamicDataSource)&&(te=te===Y?te.clone():te,te.gdbVersion=Y.gdbVersion||this.gdbVersion,te.dynamicDataSource=Y.dynamicDataSource?be.n.from(Y.dynamicDataSource):this.dynamicDataSource),(0,Ce.pC)(this.infoFor3D)&&this._queryIs3DObjectFormat(Y)){te=te===Y?te.clone():te,te.formatOf3DObjects=null;for(const ne of this.infoFor3D.queryFormats){if("3D_glb"===ne.id){te.formatOf3DObjects=ne.id;break}"3D_gltf"!==ne.id||te.formatOf3DObjects||(te.formatOf3DObjects=ne.id)}if(!te.formatOf3DObjects)throw new Te.Z("query:unsupported-3d-query-formats","Could not find any supported 3D object query format. Only supported formats are 3D_glb and 3D_gltf");if((0,Ce.Wi)(te.outFields)||!te.outFields.includes("*")){te=te===Y?te.clone():te,(0,Ce.Wi)(te.outFields)&&(te.outFields=[]);const{originX:ne,originY:we,originZ:ze,translationX:_t,translationY:Mt,translationZ:pe,scaleX:Ge,scaleY:it,scaleZ:ht,rotationX:mt,rotationY:yt,rotationZ:Ot,rotationDeg:St}=this.infoFor3D.transformFieldRoles;te.outFields.push(ne,we,ze,_t,Mt,pe,Ge,it,ht,mt,yt,Ot,St)}}return te}_normalizeFields(Y){if((0,Ce.pC)(this.fieldsIndex)&&(0,Ce.pC)(Y))for(const te of Y){const ne=this.fieldsIndex.get(te.name);ne&&Object.assign(te,ne.toJSON())}}_queryIs3DObjectFormat(Y){return(0,Ce.pC)(this.infoFor3D)&&Y.returnGeometry&&"xyFootprint"!==Y.multipatchOption&&!Y.outStatistics}};(0,J._)([(0,ye.Cb)({type:be.n})],X.prototype,"dynamicDataSource",void 0),(0,J._)([(0,ye.Cb)()],X.prototype,"fieldsIndex",void 0),(0,J._)([(0,ye.Cb)()],X.prototype,"format",void 0),(0,J._)([(0,ye.Cb)()],X.prototype,"gdbVersion",void 0),(0,J._)([(0,ye.Cb)()],X.prototype,"infoFor3D",void 0),(0,J._)([(0,ye.Cb)()],X.prototype,"sourceSpatialReference",void 0),X=(0,J._)([(0,ce.j)("esri.tasks.QueryTask")],X);var ie=X},79308:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>ce});var z=N(17626),J=N(61458),Te=N(21726),Me=N(77712),he=(N(8314),N(90912),N(63290),N(61403));let re=class extends J.Z{constructor(...be){super(...be),this.requestOptions=null,this.url=null}normalizeCtorArgs(be,xe){return"string"!=typeof be?be:ji({url:be},xe)}get parsedUrl(){return this._parseUrl(this.url)}_parseUrl(be){return be?(0,Te.mN)(be):null}_encode(be,xe,de){const Ae={};for(const me in be){if("declaredClass"===me)continue;const le=be[me];if(null!=le&&"function"!=typeof le)if(Array.isArray(le)){Ae[me]=[];for(let oe=0;oe<le.length;oe++)Ae[me][oe]=this._encode(le[oe])}else if("object"==typeof le)if(le.toJSON){const oe=le.toJSON(de&&de[me]);Ae[me]=xe?oe:JSON.stringify(oe)}else Ae[me]=xe?le:JSON.stringify(le);else Ae[me]=le}return Ae}};(0,z._)([(0,Me.Cb)({readOnly:!0})],re.prototype,"parsedUrl",null),(0,z._)([(0,Me.Cb)()],re.prototype,"requestOptions",void 0),(0,z._)([(0,Me.Cb)({type:String})],re.prototype,"url",void 0),re=(0,z._)([(0,he.j)("esri.tasks.Task")],re);var ce=re},33022:(hi,lt,N)=>{"use strict";function z(J){const Te={};for(const Me in J){if("declaredClass"===Me)continue;const Ce=J[Me];if(null!=Ce&&"function"!=typeof Ce)if(Array.isArray(Ce)){Te[Me]=[];for(let Ie=0;Ie<Ce.length;Ie++)Te[Me][Ie]=z(Ce[Ie])}else"object"==typeof Ce?Ce.toJSON&&(Te[Me]=JSON.stringify(Ce)):Te[Me]=Ce}return Te}N.d(lt,{A:()=>z})},81340:(hi,lt,N)=>{"use strict";N.d(lt,{n:()=>Ie});var z=N(35575),J=N(2004),Te=N(65401),Me=N(89621),Ce=N(58098);class Ie{constructor(he,re){this.key=new Ce.Z(0,0,0,0),this.bounds=(0,Te.Ue)(),this.objectIds=new Set,this.key.set(re);const ce=he.getLODInfoAt(this.key);this.tileInfoView=he,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=ce.resolution,this.scale=ce.scale,this.level=ce.level}get id(){return this.key.id}get extent(){return J.Z.fromBounds(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}createChildTiles(){const he=this.key.getChildKeys(),re=z.Z.acquire();for(let ce=0;ce<he.length;ce++)re[ce]=new Ie(this.tileInfoView,he[ce]);return re}getQuantizationParameters(){return Me.Z.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}}},56656:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>ce});var z=N(61885),J=N(8314),Te=N(76279),Me=N(81340),Ce=N(84378),Ie=N(58098);const ye={added:[],removed:[]},he=new Set,re=new Ie.Z(0,0,0,0);class ce extends z.Z{constructor(xe){super(),this._tiles=new Map,this._index=(0,Te.r)(9,(0,J.Z)("csp-restrictions")?de=>({minX:de.bounds[0],minY:de.bounds[1],maxX:de.bounds[2],maxY:de.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=xe}destroy(){this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(xe){return this._tiles.has(xe)}get(xe){return this._tiles.get(xe)}boundsIntersections(xe){return this._index.search({minX:xe[0],minY:xe[1],maxX:xe[2],maxY:xe[3]})}updateTiles(xe){const de={added:[],removed:[]};for(const Ae of xe.added)if(!this.has(Ae)){const me=new Me.n(this.tileScheme,Ae);this._tiles.set(Ae,me),this._index.insert(me),de.added.push(me)}for(const Ae of xe.removed)if(this.has(Ae)){const me=this.get(Ae);this._tiles.delete(Ae),this._index.remove(me),de.removed.push(me)}this.tiles.length=0,this._tiles.forEach(Ae=>this.tiles.push(Ae)),(de.added.length||de.removed.length)&&this.emit("update",de)}setViewState(xe){const de=this.tileScheme.getTileCoverage(xe,0);if(!de)return;const{spans:Ae,lodInfo:me}=de,{level:le}=me;if(Ae.length>0)for(const{row:oe,colFrom:se,colTo:fe}of Ae)for(let Ee=se;Ee<=fe;Ee++){const ge=re.set(le,oe,me.normalizeCol(Ee),me.getWorldForColumn(Ee)).id;if(he.add(ge),!this.has(ge)){const Ue=new Me.n(this.tileScheme,ge);this._tiles.set(ge,Ue),this._index.insert(Ue),this.tiles.push(Ue),ye.added.push(Ue)}}for(let oe=this.tiles.length-1;oe>=0;oe--){const se=this.tiles[oe];he.has(se.id)||(this._tiles.delete(se.id),this.tiles.splice(oe,1),this._index.remove(se),ye.removed.push(se))}(ye.added.length||ye.removed.length)&&this.emit("update",ye),Ce.Z.pool.release(de),he.clear(),ye.added.length=0,ye.removed.length=0}}},33412:(hi,lt,N)=>{"use strict";N.d(lt,{T:()=>J});class J{constructor(){this._names=new Map}begin(Me){this._names.has(Me)||(this._names.set(Me,!1),-1!==Me.indexOf("Brush")&&this.record("Esri.FirstDraw"),performance.mark(`Esri.${Me}.Start`))}end(Me){this._names.has(Me)&&!this._names.get(Me)&&(this._names.set(Me,!0),performance.mark(`Esri.${Me}.End`))}record(Me){this._names.has(Me)||(this._names.set(Me,!0),performance.mark(`Esri.${Me}`))}}},17083:(hi,lt,N)=>{"use strict";var z=N(17626),J=N(61458),Te=N(77712),ye=(N(8314),N(90912),N(63290),N(61403)),he=N(67831),re=N(71251);const be=new Set,xe=[],de=new Map,Ae=[0,0];let me=class extends J.Z{constructor(oe){super(oe),this._keyToItem=new Map,this.concurrency=6,this.strategy="scale-first",this.tileInfoView=null}initialize(){const{concurrency:oe,process:se}=this;this._queue=new re.e({concurrency:oe,process:(fe,Ee)=>{const ge=this._keyToItem.get(fe);return se(ge,{signal:Ee})},peeker:fe=>fe.values().next().value})}destroy(){this.clear(),this._queue.destroy(),this._queue=null}get length(){return this._queue?this._queue.length:0}get onGoingCount(){return this._keyToItem.size}get updating(){return this.length>0||this.onGoingCount>0}abort(oe){this._queue.abort("string"==typeof oe?oe:oe.id)}clear(){this._queue.clear(),this._keyToItem.clear(),this.notifyChange("updating")}has(oe){return this._keyToItem.has("string"==typeof oe?oe:oe.id)}isOngoing(oe){const se="string"==typeof oe?oe:oe.id;return this.has(se)&&this._queue.isOngoing(se)}pause(){this._queue.pause()}push(oe,se){const fe=oe.key.id+"-"+se;if(this.has(fe))return this.get(fe);const Ee=this._queue.push(fe),ge=()=>{this._keyToItem.delete(fe),this.notifyChange("updating")};return this._keyToItem.set(fe,oe),Ee.then(ge,ge),this.notifyChange("updating"),Ee}reset(){this._queue.reset(),this.notifyChange("updating")}resume(){this._queue.resume()}_peekByScaleFirst(oe){if(!this.state)return oe.values().next().value;const se=this.tileInfoView;let fe=Number.NEGATIVE_INFINITY,Ee=Number.POSITIVE_INFINITY;oe.forEach(tt=>{const je=this._keyToItem.get(tt),ve=this.tileInfoView.getTileScale(je.key);de.has(ve)||(de.set(ve,[]),fe=Math.max(ve,fe),Ee=Math.min(ve,Ee)),de.get(ve).push(je.key),be.add(ve)});let ge=this.state.scale;de.has(ge)||(function(oe,se){oe.length=0,se.forEach(fe=>oe.push(fe))}(xe,be),xe.sort(),ge=xe.reduce((tt,je)=>Math.abs(je-ge)<Math.abs(tt-ge)?je:tt,xe[0])),ge=Math.min(ge,fe),ge=Math.max(ge,Ee);const Ue=de.get(ge),Fe=se.getClosestInfoForScale(ge),Ve=Fe.getColumnForX(this.state.center[0]),Le=Fe.getRowForY(this.state.center[1]);return Ue.sort((tt,je)=>{const ve=Fe.denormalizeCol(tt.col,tt.world),Oe=Fe.denormalizeCol(je.col,je.world);return Math.sqrt((Ve-ve)*(Ve-ve)+(Le-tt.row)*(Le-tt.row))-Math.sqrt((Ve-Oe)*(Ve-Oe)+(Le-je.row)*(Le-je.row))}),be.clear(),de.clear(),Ue[0].id}_peekByCenterFirst(oe){if(!this.state)return oe.values().next().value;const se=this.tileInfoView,fe=this.state.center;let Ee=Number.POSITIVE_INFINITY,ge=null;return oe.forEach(Ue=>{const Fe=this._keyToItem.get(Ue);se.getTileCoords(Ae,Fe.key);const Ve=(0,he.d)(Ae,fe);Ve<Ee&&(Ee=Ve,ge=Fe.key)}),ge.id}};(0,z._)([(0,Te.Cb)({constructOnly:!0})],me.prototype,"concurrency",void 0),(0,z._)([(0,Te.Cb)({constructOnly:!0})],me.prototype,"process",void 0),(0,z._)([(0,Te.Cb)()],me.prototype,"state",void 0),(0,z._)([(0,Te.Cb)({constructOnly:!0})],me.prototype,"strategy",void 0),(0,z._)([(0,Te.Cb)({constructOnly:!0})],me.prototype,"tileInfoView",void 0),(0,z._)([(0,Te.Cb)({readOnly:!0})],me.prototype,"updating",null),me=(0,z._)([(0,ye.j)("esri.views.2d.tiling.PagedTileQueue")],me)},84378:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>J});var z=N(27899);class J{constructor(){this.spans=[]}acquire(Me){this.lodInfo=Me}release(){this.lodInfo=null,this.spans.length=0}forEach(Me,Ce){const{spans:Ie,lodInfo:ye}=this,{level:he}=ye;if(0!==Ie.length)for(const{row:re,colFrom:ce,colTo:be}of Ie)for(let xe=ce;xe<=be;xe++)Me.call(Ce,he,re,ye.normalizeCol(xe),ye.getWorldForColumn(xe))}}J.pool=new z.Z(J)},9598:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>Ae});var z=N(37053),J=N(58098);function Te(me,le){return[me,le]}function Me(me,le,oe){return me[0]=le,me[1]=oe,me}const Ie=new J.Z("0/0/0/0");class ye{constructor(le,oe,se,fe,Ee,ge,Ue,Fe,Ve,Le,tt,je){this.level=le,this.resolution=oe,this.scale=se,this.origin=fe,this.first=Ee,this.last=ge,this.size=Ue,this.norm=Fe,this.worldStart=Ve,this.worldEnd=Le,this.worldSize=tt,this.wrap=je}static create(le,oe,se){const fe=(0,z.C5)(le.spatialReference),Ee=Te(le.origin.x,le.origin.y),ge=Te(le.size[0]*oe.resolution,le.size[1]*oe.resolution),Ue=Te(-1/0,-1/0),Fe=Te(1/0,1/0),Ve=Te(1/0,1/0);se&&(Me(Ue,Math.max(0,Math.floor((se.xmin-Ee[0])/ge[0])),Math.max(0,Math.floor((Ee[1]-se.ymax)/ge[1]))),Me(Fe,Math.max(0,Math.floor((se.xmax-Ee[0])/ge[0])),Math.max(0,Math.floor((Ee[1]-se.ymin)/ge[1]))),Me(Ve,Fe[0]-Ue[0]+1,Fe[1]-Ue[1]+1));const{cols:Le,rows:tt}=oe;let je,ve,Oe,qe;return!se&&Le&&tt&&(Me(Ue,0,0),Me(Fe,Le-1,tt-1),Me(Ve,Le,tt)),le.isWrappable?(je=Te(Math.ceil(Math.round((fe.valid[1]-fe.valid[0])/oe.resolution)/le.size[0]),Ve[1]),ve=Te(Math.floor((fe.origin[0]-Ee[0])/ge[0]),Ue[1]),Oe=Te(je[0]+ve[0]-1,Fe[1]),qe=!0):(ve=Ue,Oe=Fe,je=Ve,qe=!1),new ye(oe.level,oe.resolution,oe.scale,Ee,Ue,Fe,Ve,ge,ve,Oe,je,qe)}normalizeCol(le){if(!this.wrap)return le;const oe=this.worldSize[0];return le<0?oe-1-Math.abs((le+1)%oe):le%oe}denormalizeCol(le,oe){return this.wrap?this.worldSize[0]*oe+le:le}getWorldForColumn(le){return this.wrap?Math.floor(le/this.worldSize[0]):0}getFirstColumnForWorld(le){return le*this.worldSize[0]+this.first[0]}getLastColumnForWorld(le){return le*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(le){return(le-this.origin[0])/this.norm[0]}getXForColumn(le){return this.origin[0]+le*this.norm[0]}getRowForY(le){return(this.origin[1]-le)/this.norm[1]}getYForRow(le){return this.origin[1]-le*this.norm[1]}getTileBounds(le,oe,se=!1){Ie.set(oe);const fe=se?Ie.col:this.denormalizeCol(Ie.col,Ie.world),Ee=Ie.row;return function(me,le,oe,se,fe){me[0]=le,me[1]=oe,me[2]=se,me[3]=fe}(le,this.getXForColumn(fe),this.getYForRow(Ee+1),this.getXForColumn(fe+1),this.getYForRow(Ee)),le}getTileCoords(le,oe,se=!1){Ie.set(oe);const fe=se?Ie.col:this.denormalizeCol(Ie.col,Ie.world);return Array.isArray(le)?Me(le,this.getXForColumn(fe),this.getYForRow(Ie.row)):(le.x=this.getXForColumn(fe),le.y=this.getYForRow(Ie.row)),le}}var he=N(84378);class re{constructor(le,oe,se){this.row=le,this.colFrom=oe,this.colTo=se}}const ce=new J.Z("0/0/0/0");class be{constructor(le,oe,se,fe,Ee,ge,Ue,Fe){this.x=le,this.ymin=oe,this.ymax=se,this.invM=fe,this.leftAdjust=Ee,this.rightAdjust=ge,this.leftBound=Ue,this.rightBound=Fe}static create(le,oe){le[1]>oe[1]&&([le,oe]=[oe,le]);const[se,fe]=le,[Ee,ge]=oe,Ue=Ee-se,Fe=ge-fe,Ve=0!==Fe?Ue/Fe:0,Le=(Math.ceil(fe)-fe)*Ve,tt=(Math.floor(fe)-fe)*Ve;return new be(se,Math.floor(fe),Math.ceil(ge),Ve,Ue<0?Le:tt,Ue<0?tt:Le,Ue<0?Ee:se,Ue<0?se:Ee)}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}}const xe=[[0,0],[0,0],[0,0],[0,0]];class Ae{constructor(le,oe){this.tileInfo=le,this.fullExtent=oe,this.scales=[],this._lodInfos=null,this._infoByScale={},this._infoByLevel={};const se=le.lods.slice();se.sort(function(Ee,ge){return ge.scale-Ee.scale});const fe=this._lodInfos=se.map(Ee=>ye.create(le,Ee,oe));se.forEach((Ee,ge)=>{this._infoByLevel[Ee.level]=fe[ge],this._infoByScale[Ee.scale]=fe[ge],this.scales[ge]=Ee.scale},this),this._wrap=le.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(le){return this._infoByLevel["number"==typeof le?le:le.level]}getTileBounds(le,oe,se=!1){ce.set(oe);const fe=this._infoByLevel[ce.level];return fe?fe.getTileBounds(le,ce,se):le}getTileCoords(le,oe,se=!1){ce.set(oe);const fe=this._infoByLevel[ce.level];return fe?fe.getTileCoords(le,ce,se):le}getTileCoverage(le,oe=192,se="closest"){const fe="closest"===se?this.getClosestInfoForScale(le.scale):this.getSmallestInfoForScale(le.scale),Ee=he.Z.pool.acquire(fe),ge=this._wrap;let Ue,Fe,Ve,Le=1/0,tt=-1/0;const je=Ee.spans;xe[0][0]=xe[0][1]=xe[1][1]=xe[3][0]=-oe,xe[1][0]=xe[2][0]=le.size[0]+oe,xe[2][1]=xe[3][1]=le.size[1]+oe;for(const He of xe)le.toMap(He,He),He[0]=fe.getColumnForX(He[0]),He[1]=fe.getRowForY(He[1]);const ve=[];let Oe=3;for(let He=0;He<4;He++){if(xe[He][1]===xe[Oe][1]){Oe=He;continue}const Qe=be.create(xe[He],xe[Oe]);Le=Math.min(Qe.ymin,Le),tt=Math.max(Qe.ymax,tt),void 0===ve[Qe.ymin]&&(ve[Qe.ymin]=[]),ve[Qe.ymin].push(Qe),Oe=He}if(null==Le||null==tt||tt-Le>100)return null;let qe=[];for(Ue=Le;Ue<tt;){null!=ve[Ue]&&(qe=qe.concat(ve[Ue])),Fe=1/0,Ve=-1/0;for(let He=qe.length-1;He>=0;He--){const Qe=qe[He];Fe=Math.min(Fe,Qe.getLeftCol()),Ve=Math.max(Ve,Qe.getRightCol())}if(Fe=Math.floor(Fe),Ve=Math.floor(Ve),Ue>=fe.first[1]&&Ue<=fe.last[1])if(ge)if(fe.size[0]<fe.worldSize[0]){const He=Math.floor(Ve/fe.worldSize[0]);for(let Qe=Math.floor(Fe/fe.worldSize[0]);Qe<=He;Qe++)je.push(new re(Ue,Math.max(fe.getFirstColumnForWorld(Qe),Fe),Math.min(fe.getLastColumnForWorld(Qe),Ve)))}else je.push(new re(Ue,Fe,Ve));else Fe>fe.last[0]||Ve<fe.first[0]||(Fe=Math.max(Fe,fe.first[0]),Ve=Math.min(Ve,fe.last[0]),je.push(new re(Ue,Fe,Ve)));Ue+=1;for(let He=qe.length-1;He>=0;He--){const Qe=qe[He];Qe.ymax>=Ue?Qe.incrRow():qe.splice(He,1)}}return Ee}getTileParentId(le){ce.set(le);const se=this._lodInfos.indexOf(this._infoByLevel[ce.level])-1;return se<0?null:(this._getTileIdAtLOD(ce,this._lodInfos[se],ce),ce.id)}getTileResolution(le){const oe=this._infoByLevel["object"==typeof le?le.level:le];return oe?oe.resolution:-1}getTileScale(le){const oe=this._infoByLevel[le.level];return oe?oe.scale:-1}intersects(le,oe){ce.set(oe);const se=this._infoByLevel[ce.level],fe=le.lodInfo;if(fe.resolution>se.resolution){this._getTileIdAtLOD(ce,fe,ce);const ge=fe.denormalizeCol(ce.col,ce.world);for(const Ue of le.spans)if(Ue.row===ce.row&&Ue.colFrom<=ge&&Ue.colTo>=ge)return!0}if(fe.resolution<se.resolution){const[ge,Ue,Fe,Ve]=le.spans.reduce((qe,He)=>(qe[0]=Math.min(qe[0],He.row),qe[1]=Math.max(qe[1],He.row),qe[2]=Math.min(qe[2],He.colFrom),qe[3]=Math.max(qe[3],He.colTo),qe),[1/0,-1/0,1/0,-1/0]),Le=se.denormalizeCol(ce.col,ce.world),tt=fe.getColumnForX(se.getXForColumn(Le)),je=fe.getRowForY(se.getYForRow(ce.row)),ve=fe.getColumnForX(se.getXForColumn(Le+1))-1,Oe=fe.getRowForY(se.getYForRow(ce.row+1))-1;return!(tt>Ve||ve<Fe||je>Ue||Oe<ge)}const Ee=fe.denormalizeCol(ce.col,ce.world);return le.spans.some(ge=>ge.row===ce.row&&ge.colFrom<=Ee&&ge.colTo>=Ee)}normalizeBounds(le,oe,se){if(le[0]=oe[0],le[1]=oe[1],le[2]=oe[2],le[3]=oe[3],this._wrap){const fe=(0,z.C5)(this.tileInfo.spatialReference),Ee=-se*(fe.valid[1]-fe.valid[0]);le[0]+=Ee,le[2]+=Ee}return le}getSmallestInfoForScale(le){const oe=this.scales;if(this._infoByScale[le])return this._infoByScale[le];if(le>oe[0])return this._infoByScale[oe[0]];for(let se=1;se<oe.length-1;se++)if(le>oe[se]+1e-6)return this._infoByScale[oe[se-1]];return this._infoByScale[oe[oe.length-1]]}getClosestInfoForScale(le){const oe=this.scales;return this._infoByScale[le]||(le=oe.reduce((se,fe)=>Math.abs(fe-le)<Math.abs(se-le)?fe:se,oe[0])),this._infoByScale[le]}scaleToLevel(le){const oe=this.scales;if(this._infoByScale[le])return this._infoByScale[le].level;for(let se=oe.length-1;se>=0;se--)if(le<oe[se])return se===oe.length-1?this._infoByScale[oe[oe.length-1]].level:this._infoByScale[oe[se]].level+(oe[se]-le)/(oe[se]-oe[se+1]);return this._infoByScale[oe[0]].level}scaleToZoom(le){return this.tileInfo.scaleToZoom(le)}_getTileIdAtLOD(le,oe,se){const fe=this._infoByLevel[se.level];return le.set(se),oe.resolution<fe.resolution?null:(oe.resolution===fe.resolution||(le.level=oe.level,le.col=Math.floor(se.col*fe.resolution/oe.resolution+.01),le.row=Math.floor(se.row*fe.resolution/oe.resolution+.01)),le)}}},58098:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>J});var z=N(27899);class J{constructor(Me,Ce,Ie,ye){this.set(Me,Ce,Ie,ye)}static getId(Me,Ce,Ie,ye){return"object"==typeof Me?`${Me.level}/${Me.row}/${Me.col}/${Me.world}`:`${Me}/${Ce}/${Ie}/${ye}`}get key(){return this}get id(){return this.toString()}set id(Me){this.set(Me)}get hash(){return(3&this.world)<<30|(4095&this.col)<<22|(4095&this.row)<<8|63&this.level}acquire(Me,Ce,Ie,ye){this.set(Me,Ce,Ie,ye)}contains(Me){const Ce=Me.level-this.level;return this.row===Me.row>>Ce&&this.col===Me.col>>Ce&&this.world===Me.world}equals(Me){return this.level===Me.level&&this.row===Me.row&&this.col===Me.col&&this.world===Me.world}clone(){return new J(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(Me,Ce,Ie,ye){if(null==Me)this.level=0,this.row=0,this.col=0,this.world=0;else if("object"==typeof Me)this.level=Me.level||0,this.row=Me.row||0,this.col=Me.col||0,this.world=Me.world||0;else if("string"==typeof Me){const[he,re,ce,be]=Me.split("/");this.level=parseFloat(he),this.row=parseFloat(re),this.col=parseFloat(ce),this.world=parseFloat(be)}else this.level=+Me,this.row=+Ce,this.col=+Ie,this.world=+ye||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new J(this.level-1,this.row>>1,this.col>>1,this.world)}getChildKeys(){const Me=this.level+1,Ce=this.row<<1,Ie=this.col<<1,ye=this.world;return[new J(Me,Ce,Ie,ye),new J(Me,Ce,Ie+1,ye),new J(Me,Ce+1,Ie,ye),new J(Me,Ce+1,Ie+1,ye)]}compareRowMajor(Me){return this.row<Me.row?-1:this.row>Me.row?1:this.col<Me.col?-1:this.col>Me.col?1:0}}J.pool=new z.Z(J,null,null,25,50)},8480:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>le});var z=N(17626),J=N(61458),Te=N(77712),ye=(N(8314),N(90912),N(63290),N(61403)),he=N(67831),re=N(71251);const be=new Set,xe=[],de=new Map,Ae=[0,0];let me=class extends J.Z{constructor(oe){super(oe),this._keyToItem=new Map,this.concurrency=6,this.strategy="scale-first",this.tileInfoView=null}initialize(){const{concurrency:oe,process:se,strategy:fe}=this;this._queue=new re.e({concurrency:oe,process:(Ee,ge)=>{const Ue=this._keyToItem.get(Ee);return se(Ue,{signal:ge})},peeker:"scale-first"===fe?Ee=>this._peekByScaleFirst(Ee):Ee=>this._peekByCenterFirst(Ee)})}destroy(){this.clear(),this._queue.destroy(),this._queue=null}get length(){return this._queue?this._queue.length:0}get onGoingCount(){return this._keyToItem.size}get updating(){return this.length>0||this.onGoingCount>0}abort(oe){this._queue.abort("string"==typeof oe?oe:oe.id)}clear(){this._queue.clear(),this._keyToItem.clear(),this.notifyChange("updating")}has(oe){return this._keyToItem.has("string"==typeof oe?oe:oe.id)}isOngoing(oe){const se="string"==typeof oe?oe:oe.id;return this.has(se)&&this._queue.isOngoing(se)}pause(){this._queue.pause()}push(oe){const se=oe.key.id;if(this._queue.has(se))return this._queue.get(se);const fe=this._queue.push(se),Ee=()=>{this._keyToItem.delete(se),this.notifyChange("updating")};return this._keyToItem.set(se,oe),fe.then(Ee,Ee),this.notifyChange("updating"),fe}reset(){this._queue.reset()}resume(){this._queue.resume()}_peekByScaleFirst(oe){if(!this.state)return oe.values().next().value;const se=this.tileInfoView;let fe=Number.NEGATIVE_INFINITY,Ee=Number.POSITIVE_INFINITY;oe.forEach(tt=>{const je=this._keyToItem.get(tt),ve=this.tileInfoView.getTileScale(je.key);de.has(ve)||(de.set(ve,[]),fe=Math.max(ve,fe),Ee=Math.min(ve,Ee)),de.get(ve).push(je.key),be.add(ve)});let ge=this.state.scale;de.has(ge)||(function(oe,se){oe.length=0,se.forEach(fe=>oe.push(fe))}(xe,be),xe.sort(),ge=xe.reduce((tt,je)=>Math.abs(je-ge)<Math.abs(tt-ge)?je:tt,xe[0])),ge=Math.min(ge,fe),ge=Math.max(ge,Ee);const Ue=de.get(ge),Fe=se.getClosestInfoForScale(ge),Ve=Fe.getColumnForX(this.state.center[0]),Le=Fe.getRowForY(this.state.center[1]);return Ue.sort((tt,je)=>{const ve=Fe.denormalizeCol(tt.col,tt.world),Oe=Fe.denormalizeCol(je.col,je.world);return Math.sqrt((Ve-ve)*(Ve-ve)+(Le-tt.row)*(Le-tt.row))-Math.sqrt((Ve-Oe)*(Ve-Oe)+(Le-je.row)*(Le-je.row))}),be.clear(),de.clear(),Ue[0].id}_peekByCenterFirst(oe){if(!this.state)return oe.values().next().value;const se=this.tileInfoView,fe=this.state.center;let Ee=Number.POSITIVE_INFINITY,ge=null;return oe.forEach(Ue=>{const Fe=this._keyToItem.get(Ue);se.getTileCoords(Ae,Fe.key);const Ve=(0,he.d)(Ae,fe);Ve<Ee&&(Ee=Ve,ge=Fe.key)}),ge.id}};(0,z._)([(0,Te.Cb)({constructOnly:!0})],me.prototype,"concurrency",void 0),(0,z._)([(0,Te.Cb)({constructOnly:!0})],me.prototype,"process",void 0),(0,z._)([(0,Te.Cb)()],me.prototype,"state",void 0),(0,z._)([(0,Te.Cb)({constructOnly:!0})],me.prototype,"strategy",void 0),(0,z._)([(0,Te.Cb)({constructOnly:!0})],me.prototype,"tileInfoView",void 0),(0,z._)([(0,Te.Cb)({readOnly:!0})],me.prototype,"updating",null),me=(0,z._)([(0,ye.j)("esri.views.2d.tiling.TileQueue")],me);var le=me},79527:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>be});var z=N(65401),J=N(67831);class Te{constructor(de,Ae,me){this.maxSize=de,this.tileInfoView=Ae,this.removedFunc=me,this._tilePerId=new Map,this._tileKeysPerLevel=[]}has(de){return this._tilePerId.has(de)}get(de){return this._tilePerId.get(de)}pop(de){const Ae=this._tilePerId.get(de);if(!Ae)return null;const le=this._tileKeysPerLevel[Ae.key.level];Me(this._tilePerId,de);for(let oe=0;oe<le.length;oe++)if(le[oe].id===de){le.splice(oe,1);break}return Ae.visible=!0,Ae}add(de){de.visible=!1;const Ae=de.key,me=Ae.id;if(this._tilePerId.has(me))return;this._tilePerId.set(me,de);const le=Ae.level;this._tileKeysPerLevel[le]||(this._tileKeysPerLevel[le]=[]),this._tileKeysPerLevel[le].push(Ae)}prune(de,Ae,me){let le=this._tilePerId.size;if(le<=this.maxSize)return;let oe=this._tileKeysPerLevel.length-1;for(;le>this.maxSize&&oe>=0;)oe!==de&&(le=this._pruneAroundCenterTile(le,Ae,me,oe)),oe--;le>this.maxSize&&(le=this._pruneAroundCenterTile(le,Ae,me,de))}_pruneAroundCenterTile(de,Ae,me,le){const oe=this._tileKeysPerLevel[le];if(!oe||0===oe.length)return de;const{size:se,origin:fe}=this.tileInfoView.tileInfo,Ee=me*se[0],ge=me*se[1],Ue=[0,0],Fe=[0,0];for(oe.sort((Ve,Le)=>(Ue[0]=fe.x+Ee*(Ve.col+.5),Ue[1]=fe.y-ge*(Ve.row+.5),Fe[0]=fe.x+Ee*(Le.col+.5),Fe[1]=fe.y-ge*(Le.row+.5),(0,J.j)(Ue,Ae)-(0,J.j)(Fe,Ae)));oe.length>0;){const Ve=oe.pop();if(this._removeTile(Ve.id),--de===this.maxSize)break}return de}_removeTile(de){const Ae=this._tilePerId.get(de);this.removedFunc&&this.removedFunc(Ae),Me(this._tilePerId,de)}}function Me(xe,de){xe.delete(de)}var Ce=N(84378);const ye=new(N(58098).Z)(0,0,0,0),he=new Map,re=[],ce=[];class be{constructor(de){this._previousScale=Number.POSITIVE_INFINITY,this.cachePolicy="keep",this.coveragePolicy="closest",this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=de.acquireTile,this.releaseTile=de.releaseTile,this.tileInfoView=de.tileInfoView,this.resampling=null==de.resampling||!!de.resampling,de.cachePolicy&&(this.cachePolicy=de.cachePolicy),de.coveragePolicy&&(this.coveragePolicy=de.coveragePolicy),null!=de.buffer&&(this.buffer=de.buffer),de.cacheSize&&(this._tileCache=new Te(de.cacheSize,this.tileInfoView,Ae=>{this.releaseTile(Ae)}))}destroy(){this.tileIndex.clear()}update(de){const{resampling:Ae,tileIndex:me}=this,le=this.tileInfoView.getTileCoverage(de.state,this.buffer,this.coveragePolicy);if(ce.length=0,re.length=0,he.clear(),!le)return;const{minScale:oe,maxScale:se}=this.tileInfoView.tileInfo,{spans:fe,lodInfo:Ee}=le,{level:ge}=Ee,{scale:Ue,center:Fe,resolution:Ve}=de.state,Le=!de.stationary&&Ue>this._previousScale;if(this._previousScale=Ue,this.tiles.length=0,!Ae&&(Ue>oe||Ue<se))return this.tiles.length=0,he.clear(),me.forEach(Oe=>{this.releaseTile(Oe)}),me.clear(),ce.length=0,re.length=0,he.clear(),Ce.Z.pool.release(le),!0;me.forEach(Oe=>Oe.visible=!0);let tt=0,je=0;if(fe.length>0)for(const{row:Oe,colFrom:qe,colTo:He}of fe)for(let Qe=qe;Qe<=He;Qe++){tt++;const ot=ye.set(ge,Oe,Ee.normalizeCol(Qe),Ee.getWorldForColumn(Qe)).id;if(me.has(ot)){const Ne=me.get(ot);Ne.isReady?(he.set(ot,Ne),je++):Le||this._addParentTile(ot,he)}else{let Ne;if(this._tileCache&&this._tileCache.has(ot)){if(Ne=this._tileCache.pop(ot),this.tileIndex.set(ot,Ne),Ne.isReady){he.set(ot,Ne),je++;continue}}else Ne=this.acquireTile(ye),this.tileIndex.set(ot,Ne);Le||this._addParentTile(ot,he)}}const ve=je===tt;me.forEach((Oe,qe)=>{if(ye.set(qe),he.has(qe))return;const He=this.tileInfoView.intersects(le,ye),Qe="purge"===this.cachePolicy?ye.level!==ge:ye.level>ge;!He||!Le&&ve?!Qe&&He||re.push(qe):Oe.isReady?Qe&&"purge"===this.cachePolicy&&this._hasReadyAncestor(ye,ge)?re.push(qe):ce.push(qe):Qe&&re.push(qe)});for(const Oe of ce){const qe=me.get(Oe);qe&&qe.isReady&&he.set(Oe,qe)}for(const Oe of re){const qe=me.get(Oe);this._tileCache?this._tileCache.add(qe):this.releaseTile(qe),me.delete(Oe)}return he.forEach(Oe=>this.tiles.push(Oe)),me.forEach(Oe=>{he.has(Oe.key.id)||(Oe.visible=!1)}),this._tileCache&&this._tileCache.prune(ge,Fe,Ve),Ce.Z.pool.release(le),he.clear(),ve}clear(de=!0){const{tileIndex:Ae}=this;de&&Ae.forEach(me=>{this.releaseTile(me)}),Ae.clear()}updateCacheSize(de){this._tileCache&&(this._tileCache.maxSize=de)}_addParentTile(de,Ae){let me=de,le=null;for(;me=this.tileInfoView.getTileParentId(me),me;)if(this.tileIndex.has(me)){if(le=this.tileIndex.get(me),le&&le.isReady){Ae.has(le.key.id)||Ae.set(le.key.id,le);break}}else if(this._tileCache&&this._tileCache.has(me)&&(le=this._tileCache.pop(me),this.tileIndex.set(me,le),le&&le.isReady)){Ae.has(le.key.id)||Ae.set(le.key.id,le);break}}_hasReadyAncestor(de,Ae){const me=(0,z.Ue)();this.tileInfoView.getTileBounds(me,de,!0);for(const le of this.tileIndex.values())if(le.isReady&&le.key.level>=Ae&&le.key.level<de.level){const oe=(0,z.Ue)();if(this.tileInfoView.getTileBounds(oe,le.key,!0),(0,z.r3)(oe,me))return!0}return!1}}},78041:(hi,lt,N)=>{"use strict";function z(Ce,Ie,ye,he){const re=3*Ce,ce=3*(ye-Ce)-re,be=1-re-ce,xe=3*Ie,de=3*(he-Ie)-xe,Ae=1-xe-de;function me(fe){return((be*fe+ce)*fe+re)*fe}function oe(fe){return(3*be*fe+2*ce)*fe+re}return function(fe,Ee=1e-6){return function(fe){return((Ae*fe+de)*fe+xe)*fe}(function(fe,Ee){let ge,Ue,Fe,Ve,Le,tt;for(Fe=fe,tt=0;tt<8;tt++){if(Ve=me(Fe)-fe,Math.abs(Ve)<Ee)return Fe;if(Le=oe(Fe),Math.abs(Le)<1e-6)break;Fe-=Ve/Le}if(ge=0,Ue=1,Fe=fe,Fe<ge)return ge;if(Fe>Ue)return Ue;for(;ge<Ue;){if(Ve=me(Fe),Math.abs(Ve-fe)<Ee)return Fe;fe>Ve?ge=Fe:Ue=Fe,Fe=.5*(Ue-ge)+ge}return Fe}(fe,Ee))}}N.d(lt,{LI:()=>Te,Qc:()=>Me,n_:()=>z});const J=/^cubic-bezier\((.*)\)/,Te={};function Me(Ce){let Ie=Te[Ce]||null;if(!Ie){const ye=J.exec(Ce);if(ye){const he=ye[1].split(",").map(re=>parseFloat(re.trim()));4!==he.length||he.some(re=>isNaN(re))||(Ie=z.apply(z,he))}}return Ie}Te.ease=z(.25,.1,.25,1),Te.linear=z(0,0,1,1),Te.easeIn=Te["ease-in"]=z(.42,0,1,1),Te.easeOut=Te["ease-out"]=z(0,0,.58,1),Te.easeInOut=Te["ease-in-out"]=z(.42,0,.58,1)},24926:(hi,lt,N)=>{"use strict";N.d(lt,{H4:()=>Dt,dI:()=>rt,o2:()=>st,JG:()=>Qe,km:()=>ke,EK:()=>tt,ni:()=>ot,bk:()=>Ne,Rb:()=>Pt,Dq:()=>ut,uG:()=>Ze,Ck:()=>dt,Jp:()=>jt,L2:()=>_e,ut:()=>Rt,gG:()=>yn,SI:()=>qt,$H:()=>pi,YQ:()=>We,UZ:()=>Ki,Hy:()=>Mi,qf:()=>Se,Rx:()=>kn});var z=N(15861),J=N(76687),Te=N(7093),Me=N(62208),Ce=N(16730),Ie=N(39863),ye=N(31478),he=N(46342),re=N(67831),ce=N(99770),be=N(2004),xe=N(21674),de=N(49672),Ae=N(65234),me=N(94425),le=N(37053),oe=N(46367);const fe=180/Math.PI;function Ue(li,B,Be,$){return $&&Be&&!$.equals(Be)&&(0,oe.Q8)($,Be)&&$.isWebMercator?$.isWebMercator?function(li,B){let Be=B[1];return Be>89.99999?Be=89.99999:Be<-89.99999&&(Be=-89.99999),Be=Math.sin((0,Ie.t)(Be)),(0,re.s)(li,(0,Ie.t)(B[0])*me.sv.radius,.5*me.sv.radius*Math.log((1+Be)/(1-Be)))}(li,B):function(li,B,Be){const $=(0,Ie.a)(B[0]/me.sv.radius);return(0,re.s)(li,$-360*Math.floor(($+180)/360),(0,Ie.a)(.5*Math.PI-2*Math.atan(Math.exp(-B[1]/me.sv.radius))))}(li,B):(0,re.c)(li,B)}function Fe(li){return li.wkid?li:li.spatialReference||Ae.Z.WGS84}function Ve(li,B){return B.type?(0,re.s)(li,B.x,B.y):(0,re.c)(li,B)}function Le(li){return(0,Ce.c9)(li)}function tt(li,B){return Math.max(li.width/B[0],li.height/B[1])*function(li){return(0,le.JY)(li)?39.37*Le(li)*96:1}(li.spatialReference)}function je(li,B,Be,$){return ve.apply(this,arguments)}function ve(){return(ve=(0,z.Z)(function*(li,B,Be,$){let k,T;if(!li||Array.isArray(li)&&!li.length)return null;if(Te.Z.isCollection(li)&&(li=li.toArray()),Array.isArray(li)&&li.length&&"object"==typeof li[0]){const D=li.every(F=>"attributes"in F),O=li.some(F=>!F.geometry);let L=li;if(D&&O&&B&&B.allLayerViews){const F=new Map;for(const ie of li){const Y=ie.layer,te=F.get(Y)||[],ne=ie.attributes[Y.objectIdField];null!=ne&&te.push(ne),F.set(Y,te)}const V=[];F.forEach((ie,Y)=>{const te=B.allLayerViews.find(ne=>ne.layer.id===Y.id);if("queryFeatures"in te){const ne=Y.createQuery();ne.objectIds=ie,ne.returnGeometry=!0,V.push(te.queryFeatures(ne))}});const W=yield Promise.all(V),X=[];for(const ie of W)if(ie&&ie.features&&ie.features.length)for(const Y of ie.features)(0,Me.pC)(Y.geometry)&&X.push(Y.geometry);L=X}for(const F of L)$=yield je(F,B,Be,$);return $}if(Array.isArray(li)&&2===li.length&&"number"==typeof li[0]&&"number"==typeof li[1])k=new de.Z(li);else if(li instanceof xe.Z)k=li;else if("geometry"in li)if(li.geometry)k=li.geometry;else if(li.layer){const D=li.layer,O=B.allLayerViews.find(L=>L.layer.id===D.id);if("queryFeatures"in O){const L=D.createQuery();L.objectIds=[li.attributes[D.objectIdField]],L.returnGeometry=!0;const F=yield O.queryFeatures(L);k=(0,Me.U2)(F,"features",0,"geometry")}}if((0,Me.Wi)(k)||(T="point"===k.type?new be.Z({xmin:k.x,ymin:k.y,xmax:k.x,ymax:k.y,spatialReference:k.spatialReference}):k.extent,!T))return null;const E=(0,oe.iV)(T,Be);return(0,Me.Wi)(E)?null:$=$?$.union(E):E})).apply(this,arguments)}function Oe(li){if(li&&(!Array.isArray(li)||"number"!=typeof li[0])&&("object"==typeof li||Array.isArray(li)&&"object"==typeof li[0])){if("layer"in li&&li.layer&&li.layer.minScale&&li.layer.maxScale){const B=li.layer;return{min:B.minScale,max:B.maxScale}}if(Array.isArray(li)&&li.length&&li.every(B=>"layer"in B)){let B=0,Be=0;for(const $ of li){const k=$.layer;k&&k.minScale&&k.maxScale&&(B=k.minScale<B?k.minScale:B,Be=k.maxScale>Be?k.maxScale:Be)}return B&&Be?{min:B,max:Be}:null}}}function He(){return(He=(0,z.Z)(function*(li,B){if(!li||!B)return new J.Z({targetGeometry:new de.Z,scale:0,rotation:0});let Be=B.spatialReference;const{constraints:$,padding:k,viewpoint:T,size:E}=B,D=[k?E[0]-k.left-k.right:E[0],k?E[1]-k.top-k.bottom:E[1]];let O=null;li instanceof J.Z?O=li:li.viewpoint?O=li.viewpoint:li.target&&"esri.Viewpoint"===li.target.declaredClass&&(O=li.target);let L=null;O&&O.targetGeometry?L=O.targetGeometry:li instanceof be.Z?L=li:(li||li&&("center"in li||"extent"in li||"target"in li))&&(L=(yield je(li.center,B,Be))||(yield je(li.extent,B,Be))||(yield je(li.target,B,Be))||(yield je(li,B,Be))),!L&&T&&T.targetGeometry?L=T.targetGeometry:!L&&B.extent&&(L=B.extent);const F=Fe(L);if(Be||(Be=Fe(B.spatialReference||B.extent||L)),!(0,oe.Q8)(L,Be)&&F&&!F.equals(Be))return null;const V=Ve((0,ce.a)(),L.center?L.center:L),W=new de.Z(Ue(V,V,F,Be),Be);let X=null;if(O&&(0,Me.pC)(O.targetGeometry)&&"point"===O.targetGeometry.type)X=O.scale;else if(li.hasOwnProperty("scale")&&li.scale)X=li.scale;else if(li.hasOwnProperty("zoom")&&-1!==li.zoom&&$&&$.effectiveLODs)X=$.zoomToScale(li.zoom);else if(Array.isArray(L)||"point"===L.type||"extent"===L.type&&0===L.width&&0===L.height){const ne=(0,oe.iV)(B.extent,Be);X=(0,Me.pC)(ne)?tt(ne,D):B.extent?tt(B.extent,D):T.scale}else X=(0,oe.Q8)(L.extent,Be)?tt((0,oe.iV)(L.extent,Be),D):tt(L.extent,D);const ie=Oe(li);ie&&(ie.min&&ie.min>X?X=ie.min:ie.max&&ie.max<X&&(X=ie.max));let Y=0;O?Y=O.rotation:li.hasOwnProperty("rotation")?Y=li.rotation:T&&(Y=T.rotation);let te=new J.Z({targetGeometry:W,scale:X,rotation:Y});return $&&(te=$.fit(te),$.constrainByGeometry(te),$.rotationEnabled||(te.rotation=Y)),te})).apply(this,arguments)}function Qe(li,B){const Be=li.targetGeometry,$=B.targetGeometry;return Be.x=$.x,Be.y=$.y,Be.spatialReference=$.spatialReference,li.scale=B.scale,li.rotation=B.rotation,li}function ot(li,B,Be){return Be?(0,re.s)(li,.5*(B[0]-Be.right+Be.left),.5*(B[1]-Be.bottom+Be.top)):(0,re.b)(li,B,.5)}const Ne=function(){const li=(0,ce.a)();return function(B,Be,$){const k=Be.targetGeometry;Ve(li,k);const T=.5*Ze(Be);return B.xmin=li[0]-T*$[0],B.ymin=li[1]-T*$[1],B.xmax=li[0]+T*$[0],B.ymax=li[1]+T*$[1],B.spatialReference=k.spatialReference,B}}();function Se(li,B,Be,$,k){return st(li,B,Be.center),li.scale=tt(Be,$),k&&k.constraints&&k.constraints.constrain(li),li}const ut=function(){const li=(0,ce.a)();return function(B,Be,$){return(0,re.e)(B,function(li,B){return(0,re.b)(li,B,.5)}(B,Be),ot(li,Be,$))}}(),xt=function(){const li=(0,he.c)(),B=(0,ce.a)();return function(Be,$,k,T){const E=Ze($),D=gt($);return(0,re.s)(B,E,E),(0,ye.f)(li,B),(0,ye.r)(li,li,D),(0,ye.t)(li,li,ut(B,k,T)),(0,ye.t)(li,li,[0,T.top-T.bottom]),(0,re.s)(Be,li[4],li[5])}}();function Ze(li){return li.scale*function(li){return(0,Me.pC)(li)&&(0,le.JY)(li.spatialReference)?1/(39.37*Le(li.spatialReference)*96):1}(li.targetGeometry)}function gt(li){return(0,Ie.t)(li.rotation)||0}const Pt=function(){const li=(0,ce.a)(),B=(0,ce.a)(),Be=(0,ce.a)();return function($,k,T,E,D,O){return(0,re.n)(li,k),(0,re.b)(B,T,.5*O),(0,re.s)(Be,1/E*O,-1/E*O),(0,ye.i)($),(0,ye.t)($,$,B),D&&(0,ye.r)($,$,D),(0,ye.s)($,$,Be),(0,ye.t)($,$,li),$}}(),dt=function(){const li=(0,ce.a)();return function(B,Be,$,k){const T=Ze(Be),E=gt(Be);return Ve(li,Be.targetGeometry),Pt(B,li,$,T,E,k)}}(),jt=function(){const li=(0,ce.a)();return function(B,Be,$,k){const T=Ze(Be);return Ve(li,Be.targetGeometry),Pt(B,li,$,T,0,k)}}();function Rt(li){if(li.isWrappable){const B=(0,le.C5)(li);return B.valid[1]-B.valid[0]}return 0}function _e(li,B){return Math.round(Rt(li)/B)}function ke(li,B){return function(li,B){return He.apply(this,arguments)}(li,B)}const rt=function(){const li=(0,ce.a)(),B=(0,ce.a)(),Be=[0,0,0];return function($,k,T){(0,re.a)(li,$,k),(0,re.f)(li,li),(0,re.a)(B,$,T),(0,re.f)(B,B),(0,re.g)(Be,li,B);let E=Math.acos((0,re.h)(li,B)/((0,re.l)(li)*(0,re.l)(B)))*fe;return Be[2]<0&&(E=-E),isNaN(E)&&(E=0),E}}(),Dt=function(){const li=(0,ce.a)();return function(B,Be,$,k){const T=B.targetGeometry;return Qe(B,Be),xt(li,Be,$,k),T.x+=li[0],T.y+=li[1],B}}(),st=((0,ce.a)(),function(){const li=(0,ce.a)();return function(B,Be,$){Qe(B,Be);const k=B.targetGeometry,T=Fe($),E=Fe(k);return Ve(li,$),Ue(li,li,T,E),k.x=li[0],k.y=li[1],B}}()),qt=function(){const li=(0,ce.a)();return function(B,Be,$,k,T){T||(T="center"),(0,re.e)(li,$,k),(0,re.b)(li,li,.5);const E=li[0],D=li[1];switch(T){case"center":(0,re.s)(li,0,0);break;case"left":(0,re.s)(li,-E,0);break;case"top":(0,re.s)(li,0,D);break;case"right":(0,re.s)(li,E,0);break;case"bottom":(0,re.s)(li,0,-D);break;case"top-left":(0,re.s)(li,-E,D);break;case"bottom-left":(0,re.s)(li,-E,-D);break;case"top-right":(0,re.s)(li,E,D);break;case"bottom-right":(0,re.s)(li,E,-D)}return kn(B,Be,li),B}}();function pi(li,B,Be){return Qe(li,B),li.rotation+=Be,li}function We(li,B,Be){return Qe(li,B),li.rotation=Be,li}const fi=function(){const li=(0,ce.a)();return function(B,Be,$,k,T){return Qe(B,Be),isNaN($)||0===$||(Un(li,k,Be,T),B.scale=Be.scale*$,Vn(li,li,B,T),kn(B,B,(0,re.s)(li,li[0]-k[0],k[1]-li[1]))),B}}();function Mi(li,B,Be){return Qe(li,B),li.scale=Be,li}const Ki=function(){const li=(0,ce.a)();return function(B,Be,$,k,T,E){return Qe(B,Be),isNaN($)||0===$||(Un(li,T,Be,E),B.scale=Be.scale*$,B.rotation+=k,Vn(li,li,B,E),kn(B,B,(0,re.s)(li,li[0]-T[0],T[1]-li[1]))),B}}(),yn=function(){const li=(0,ce.a)(),B=(0,ce.a)();return function(Be,$,k,T,E,D,O){return ut(B,D,O),(0,re.i)(li,E,B),T?Ki(Be,$,k,T,li,D):fi(Be,$,k,li,D)}}(),Un=function(){const li=(0,he.c)();return function(B,Be,$,k){return(0,re.t)(B,Be,function(li,B,Be,$){return dt(li,B,Be,1),(0,ye.a)(li,li)}(li,$,k))}}(),Vn=function(){const li=(0,he.c)();return function(B,Be,$,k){return(0,re.t)(B,Be,dt(li,$,k,1))}}(),kn=function(){const li=(0,ce.a)(),B=(0,he.c)();return function(Be,$,k){Qe(Be,$);const T=Ze($),E=Be.targetGeometry;return(0,ye.b)(B,gt($)),(0,ye.s)(B,B,(0,ce.f)(T,T)),(0,re.t)(li,k,B),E.x+=li[0],E.y+=li[1],Be}}()},35216:(hi,lt,N)=>{"use strict";N.d(lt,{a:()=>Me});var z=N(63290);class J{constructor(he,re=[]){this.eventType=he,this.keyModifiers=re}matches(he){if(he.type!==this.eventType)return!1;if(0===this.keyModifiers.length)return!0;const re=he.modifiers;for(const ce of this.keyModifiers)if(!re.has(ce))return!1;return!0}}const Te=z.Z.getLogger("esri.views.input.InputHandler");class Me{constructor(he){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=he}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const he in this._incoming){const re=this._incoming[he];for(const ce of re)this._incomingEventMatches.push(ce.match)}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(he=>he.eventType)),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(he){this._manager?Te.error("This InputHandler has already been registered with an InputManager"):(he.setEventCallback(re=>this._handleEvent(re)),he.setUninstallCallback(()=>this._onUninstall()),this._manager=he)}onUninstall(){}registerIncoming(he,re,ce){let be;"function"==typeof re?(ce=re,be=[]):be=re||[];const xe="string"==typeof he?new J(he,be):he,de=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},Ae=oe=>{const se=this._incoming[oe.match.eventType];if(se){const fe=se.indexOf(oe);se.splice(fe,1),de(),this._manager&&this._manager.updateDependencies()}},me=new Ce(xe,ce,{onPause:Ae,onRemove:Ae,onResume:oe=>{const se=this._incoming[oe.match.eventType];se&&-1===se.indexOf(oe)&&(se.push(oe),de(),this._manager&&this._manager.updateDependencies())}});let le=this._incoming[xe.eventType];return le||(le=[],this._incoming[xe.eventType]=le),le.push(me),de(),this._manager&&this._manager.updateDependencies(),me}registerOutgoing(he){if(this._outgoing[he])throw Error("There is already a callback registered for this outgoing InputEvent: "+he);const re=new Ie(he,{onEmit:(ce,be,xe,de)=>{this._manager.emit(ce.eventType,be,xe,de)},onRemove:ce=>{delete this._outgoing[ce.eventType],this._manager.updateDependencies()}});return this._outgoing[he]=re,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),re}startCapturingPointer(he){this._manager.setPointerCapture(he,!0)}stopCapturingPointer(he){this._manager.setPointerCapture(he,!1)}refreshHasPendingInputs(){this._manager.refreshHasPendingInputs()}_onUninstall(){this._manager?(this.onUninstall(),this._manager=null):Te.error("This InputHandler is not registered with an InputManager")}_handleEvent(he){const re=this._incoming[he.type];if(re)for(const ce of re)if(ce.match.matches(he)&&(ce.callback(he),he.shouldStopPropagation()))break}}class Ce{constructor(he,re,ce){this.match=he,this._callback=re,this._handler=ce}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}}class Ie{constructor(he,re){this.eventType=he,this._removed=!1,this._handler=re}emit(he,re,ce){this._removed||this._handler.onEmit(this,he,re,ce)}remove(){this._removed=!0,this._handler.onRemove(this)}}},58677:(hi,lt,N)=>{"use strict";N.d(lt,{$:()=>de,f:()=>me});var z=N(17626),J=N(61458),Te=N(63290),Me=N(35133),Ce=N(77712),he=(N(8314),N(90912),N(61403)),re=N(25441),ce=N(35216);class be extends ce.a{constructor(oe){super(!0),this._onChange=oe,this._value="mouse",this.registerIncoming("pointer-down",se=>{this._setValue("touch"===se.data.native.pointerType?"touch":"mouse")}),this._moveHandler=this.registerIncoming("pointer-move",se=>{this._setValue("touch"===se.data.native.pointerType?"touch":"mouse")}),this._moveHandler.pause()}_setValue(oe){oe!==this._value&&("touch"===oe?this._moveHandler.resume():this._moveHandler.pause(),this._value=oe,this._onChange(oe))}}const xe=Te.Z.getLogger("esri.views.input.InputManager");let de=class extends J.Z{constructor(le){super(le),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=re.CK,this.latestPointerType="mouse",this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const le=Object.keys(this._nameToGroup);for(const oe of le)this.uninstallHandlers(oe);this.eventSource=null,this._currentPropagation=null}get hasPendingInputs(){return this._handlers.some(le=>le.handler.hasPendingInputs)}installHandlers(le,oe,se=me.INTERNAL){if(this._nameToGroup[le])return void xe.error("There is already an InputHandler group registered under the name `"+le+"`");if(0===oe.length)return void xe.error("Can't register a group of zero handlers");const fe={name:le,handlers:oe.map(Ee=>({handler:Ee,active:!0,removed:!1,priorityIndex:0,groupPriority:se,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[le]=fe;for(let Ee=fe.handlers.length-1;Ee>=0;Ee--){const ge=fe.handlers[Ee];this._handlers.push(ge),ge.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(Ue,Fe,Ve,Le,tt)=>{this._emitInputEvent(ge.priorityIndex+1,Ue,Fe,Ve,tt,Le)},setPointerCapture:(Ue,Fe)=>{this._setPointerCapture(fe,ge,Ue,Fe)},setEventCallback:Ue=>{ge.eventCallback=Ue},setUninstallCallback:Ue=>{ge.uninstallCallback=Ue},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}uninstallHandlers(le){const oe=this._nameToGroup[le];oe?(oe.handlers.forEach(se=>{se.removed=!0,se.uninstallCallback()}),delete this._nameToGroup[le],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):xe.error("There is no InputHandler group registered under the name `"+le+"`")}hasHandlers(le){return void 0!==this._nameToGroup[le]}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0);this._updateDependenciesAfterPropagation=!1;const le=new Set,oe=new Set;this._handlersPriority=[];for(let se=this._handlers.length-1;se>=0;se--){const fe=this._handlers[se];fe.priorityIndex=se,this._handlersPriority.push(fe)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let se=this._handlersPriority.length-1;se>=0;se--){const fe=this._handlersPriority[se];fe.priorityIndex=se;let Ee=fe.handler.hasSideEffects;if(!Ee)for(const ge of fe.handler.outgoingEventTypes)if(le.has(ge)){Ee=!0;break}if(Ee)for(const ge of fe.handler.incomingEventMatches){le.add(ge.eventType);for(const Ue of ge.keyModifiers)(0,re.wj)(Ue)||oe.add(Ue)}fe.active=Ee}this._sourceEvents=le,this._keyModifiers=oe,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointerType(le){this._set("latestPointerType",le)}_onEventReceived(le,oe){"pointer-capture-lost"===le&&this._pointerCaptures.delete(oe.native.pointerId),this._updateKeyModifiers(le,oe),this._emitInputEventFromSource(le,oe,null!=this.test.timestamp?this.test.timestamp:oe.native?oe.native.timestamp:void 0,oe.native?oe.native.cancelable:void 0)}_updateKeyModifiers(le,oe){if(!oe)return;let se=!1;const fe=()=>{if(!se){const Ue=new Set;this._activeKeyModifiers.forEach(Fe=>{Ue.add(Fe)}),this._activeKeyModifiers=Ue,se=!0}},Ee=(Ue,Fe)=>{Fe&&!this._activeKeyModifiers.has(Ue)?(fe(),this._activeKeyModifiers.add(Ue)):!Fe&&this._activeKeyModifiers.has(Ue)&&(fe(),this._activeKeyModifiers.delete(Ue))};if("key-down"===le||"key-up"===le){const Ue=oe.key;this._keyModifiers.has(Ue)&&Ee(Ue,"key-down"===le)}const ge=oe.native;Ee("Alt",!(!ge||!ge.altKey)),Ee("Ctrl",!(!ge||!ge.ctrlKey)),Ee("Shift",!(!ge||!ge.shiftKey)),Ee("Meta",!(!ge||!ge.metaKey)),Ee("Primary",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerTypeHandler=new be(le=>this._setLatestPointerType(le)),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,me.INTERNAL),this.installHandlers("input-manager-logic",[this._latestPointerTypeHandler],me.INTERNAL)}_setPointerCapture(le,oe,se,fe){const Ee=le.name+"-"+oe.priorityIndex,ge=this._pointerCaptures.get(se.pointerId)||new Set;this._pointerCaptures.set(se.pointerId,ge),fe?(ge.add(Ee),1===ge.size&&this.eventSource&&this.eventSource.setPointerCapture(se,!0)):ge.has(Ee)&&(ge.delete(Ee),0===ge.size&&(this._pointerCaptures.delete(se.pointerId),this.eventSource&&this.eventSource.setPointerCapture(se,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter(le=>!le.removed),this.updateDependencies()}_emitInputEventFromSource(le,oe,se,fe){this._emitInputEvent(0,le,oe,se,fe)}_emitInputEvent(le,oe,se,fe,Ee,ge){const Ue=void 0!==fe?fe:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),Ve={event:new Ae(oe,se,Ue,ge||this._activeKeyModifiers,void 0!==Ee&&Ee),priorityIndex:le};this._currentPropagation?this._currentPropagation.events.push(Ve):this._doNewPropagation(Ve)}_doNewPropagation(le){this._currentPropagation={events:new Me.Z,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:le.event.timestamp},this._currentPropagation.events.push(le),this._continuePropagation()}_continuePropagation(){const le=this._currentPropagation;if(le){for(;this._currentPropagation.events.length>0;){const{event:oe,priorityIndex:se}=this._currentPropagation.events.pop(),fe=oe.data&&oe.data.eventId;if(null==fe||!this._stoppedPropagationEventIds.has(fe))for(le.currentHandler=this._handlersPriority[se];le.currentHandler;){if(le.currentHandler.removed)le.needsHandlerGarbageCollect=!0;else{if(le.currentHandler.active&&!oe.shouldStopPropagation()&&le.currentHandler.eventCallback(oe),oe.shouldStopPropagation()){null!=fe&&this._stoppedPropagationEventIds.add(fe);break}if(oe.shouldPausePropagation(()=>this._continuePropagation()))return void this._pausePropagation({event:oe,priorityIndex:le.currentHandler.priorityIndex+1})}le.currentHandler=this._handlersPriority[le.currentHandler.priorityIndex+1]}}le.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}}_pausePropagation(le){const oe=new Me.Z;for(oe.push(le);this._currentPropagation.events.length;)oe.push(this._currentPropagation.events.pop());this._currentPropagation.events=oe,this._currentPropagation.currentHandler=null}_compareHandlerPriority(le,oe){if(le.handler.hasSideEffects!==oe.handler.hasSideEffects)return le.handler.hasSideEffects?1:-1;if(le.groupPriority!==oe.groupPriority)return le.groupPriority>oe.groupPriority?-1:1;for(const se of le.handler.incomingEventMatches)for(const fe of oe.handler.incomingEventMatches){if(se.eventType!==fe.eventType)continue;const Ee=se.keyModifiers.filter(ge=>-1!==fe.keyModifiers.indexOf(ge));if(Ee.length===se.keyModifiers.length!=(Ee.length===fe.keyModifiers.length))return se.keyModifiers.length>fe.keyModifiers.length?-1:1}return le.priorityIndex>oe.priorityIndex?-1:1}_sortHandlersPriority(le){const oe=[];for(const se of le){let fe=0;for(;fe<oe.length&&this._compareHandlerPriority(se,oe[fe])>=0;)fe++;oe.splice(fe,0,se)}return oe}get debug(){const le=oe=>{const se=this._setPointerCapture;this._setPointerCapture=()=>{},oe(),this._setPointerCapture=se};return{injectEvent:(oe,se)=>{le(()=>{this._onEventReceived(oe,se)})},disablePointerCapture:le}}};(0,z._)([(0,Ce.Cb)({readOnly:!0})],de.prototype,"hasPendingInputs",null),(0,z._)([(0,Ce.Cb)()],de.prototype,"eventSource",void 0),(0,z._)([(0,Ce.Cb)()],de.prototype,"recognizers",void 0),(0,z._)([(0,Ce.Cb)({readOnly:!0})],de.prototype,"latestPointerType",void 0),de=(0,z._)([(0,he.j)("esri.views.input.InputManager")],de);class Ae{constructor(oe,se,fe,Ee,ge){this.type=oe,this.data=se,this.timestamp=fe,this.modifiers=Ee,this.cancelable=ge,this._propagationState=0,this._resumeCallback=null}stopPropagation(){this._propagationState|=1}shouldStopPropagation(){return 0!=(1&this._propagationState)}async(oe){this._propagationState|=2;const se=(fe,Ee)=>{this._propagationState&=-3;const ge=this._resumeCallback;if(this._resumeCallback=null,ge&&ge(),Ee)throw fe;return fe};return("function"==typeof oe?oe():oe).then(fe=>se(fe,!1),fe=>se(fe,!0))}shouldPausePropagation(oe){return!!(2&this._propagationState)&&(this._resumeCallback=oe,!0)}preventDefault(){this.data.native.preventDefault()}}const me={DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3}},25441:(hi,lt,N)=>{"use strict";N.d(lt,{kK:()=>Ce,wj:()=>Ie,CK:()=>Te});var z=N(17770);const Te=(0,N(8314).Z)("mac")?"Meta":"Ctrl",Me={8:"Backspace",9:"Tab",13:"Enter",27:"Escape",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete"};for(let ye=48;ye<58;ye++)Me[ye]=String.fromCharCode(ye);for(let ye=1;ye<25;ye++)Me[111+ye]=`F${ye}`;for(let ye=65;ye<91;ye++)Me[ye]=[String.fromCharCode(ye+32),String.fromCharCode(ye)];function Ce(ye){if(void 0!==ye.key)return(0,z.kK)(ye);const he=Me[ye.keyCode];return Array.isArray(he)?ye.shiftKey?he[1]:he[0]:he}function Ie(ye){switch(ye){case"Ctrl":case"Alt":case"Shift":case"Meta":case"Primary":return!0}return!1}},71251:(hi,lt,N)=>{"use strict";N.d(lt,{e:()=>Ie});var z=N(62208),J=N(10699),Te=N(35133),Me=N(50618);class Ce{constructor(he,re){this.item=he,this.controller=re,this.promise=null}}class Ie{constructor(he){this._deferreds=new Map,this._controllers=new Map,this._processingItems=new Map,this._isPaused=!1,this._schedule=null,this._task=null,this.concurrency=1,he.concurrency&&(this.concurrency=he.concurrency),this._queue=new Te.Z(he.peeker),this.process=he.process;const re=he.scheduler;he.priority&&(0,z.pC)(re)&&(this._task=re.registerTask(he.priority,this))}destroy(){this.clear(),this._schedule&&(this._schedule.remove(),this._schedule=null),this._task&&(this._task.remove(),this._task=null)}get length(){return this._processingItems.size+this._queue.length}abort(he){const re=this._controllers.get(he);re&&re.abort()}clear(){this._queue.clear();const he=[];this._controllers.forEach(re=>he.push(re)),this._controllers.clear(),he.forEach(re=>re.abort()),this._processingItems.clear(),this._cancelNext()}forEach(he){this._deferreds.forEach((re,ce)=>he(ce))}get(he){const re=this._deferreds.get(he);return re?re.promise:void 0}isOngoing(he){return this._processingItems.has(he)}has(he){return this._deferreds.has(he)}pause(){this._isPaused||(this._isPaused=!0,this._cancelNext())}push(he,re){const ce=this.get(he);if(ce)return ce;const be=(0,J.yi)();let xe=null;re&&(xe=(0,J.fu)(re,()=>be.abort()));const Ae=()=>{me.remove(),(0,z.pC)(xe)&&xe.remove(),this._deferreds.delete(he),this._controllers.delete(he),this._queue.remove(he),this._processingItems.delete(he),this._scheduleNext()},me=(0,J.$F)(be.signal,()=>{const oe=this._processingItems.get(he);oe&&oe.controller.abort(),Ae(),le.reject((0,J.zE)())}),le=(0,J.dD)();return this._deferreds.set(he,le),this._controllers.set(he,be),le.promise.then(Ae,Ae),this._queue.push(he),this._scheduleNext(),le.promise}last(){return this._queue.last()}peek(){return this._queue.peek()}popLast(){return this._queue.popLast()}reset(){const he=[];this._processingItems.forEach(re=>he.push(re)),this._processingItems.clear();for(const re of he)this._queue.push(re.item),re.controller.abort();this._scheduleNext()}resume(){this._isPaused&&(this._isPaused=!1,this._scheduleNext())}takeAll(){const he=[];for(;this._queue.length;)he.push(this._queue.pop());return this.clear(),he}get running(){return!this._isPaused&&this._queue.length>0&&this._processingItems.size<this.concurrency}runTask(he){for(;!he.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),he.madeProgress()}_scheduleNext(){this._task||this._isPaused||this._schedule||(this._schedule=(0,Me.Os)(()=>{this._schedule=null,this._next()}))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(he,re){this._canProcessFulfillment(he)&&(this._scheduleNext(),this._deferreds.get(he.item).resolve(re))}_processError(he,re){this._canProcessFulfillment(he)&&(this._scheduleNext(),this._deferreds.get(he.item).reject(re))}_canProcessFulfillment(he){return!!this._deferreds.get(he.item)&&this._processingItems.get(he.item)===he}_process(he){if((0,z.Wi)(he))return;let re;const ce=(0,J.yi)(),be=new Ce(he,ce);this._processingItems.set(he,be);try{re=this.process(he,ce.signal)}catch(xe){this._processError(be,xe)}(0,J.y8)(re)?(be.promise=re,re.then(xe=>this._processResult(be,xe),xe=>this._processError(be,xe))):this._processResult(be,re)}get test(){return{update:he=>this.runTask(he)}}}},70257:(hi,lt,N)=>{"use strict";N.d(lt,{t:()=>be});var z=N(17626),J=N(61458),Te=N(72392),Me=N(62208),Ce=N(50618),Ie=N(27e3),ye=N(34595),he=N(21352),re=N(77712),ce=N(61403);let be=class extends J.Z{constructor(){super(...arguments),this.updating=!1,this.handleId=0,this.handles=new Te.Z,this.scheduleHandleId=0,this.pendingPromises=new Set}destroy(){this.removeAll(),this.handles.destroy()}add(de,Ae,me,le=0){const oe=0!=(1&le),se=++this.handleId;oe||this.installSyncUpdatingWatch(de,Ae,se);const fe=0!=(2&le)?(0,Ie.S1)(de,Ae,me,oe):de.watch(Ae,me,oe);return this.handles.add(fe,se),{remove:()=>this.handles.remove(se)}}addOnCollectionPropertyChange(de,Ae,me,le=0){const oe=0!=(2&le),se=++this.handleId;return this.handles.add([(0,Ie.on)(de,Ae,"after-changes",this.createSyncUpdatingCallback()),(0,Ie.on)(de,Ae,"change",me,oe?fe=>{me({added:fe.items,removed:[],moved:[],target:fe})}:void 0)],se),{remove:()=>{this.handles.remove(se)}}}addOnCollectionChange(de,Ae,me=0){const le=0!=(2&me),oe=++this.handleId;return this.handles.add([de.on("after-changes",this.createSyncUpdatingCallback()),de.on("change",Ae)],oe),le&&Ae({added:de.items,removed:[],moved:[],target:de}),{remove:()=>{this.handles.remove(oe)}}}addPromise(de){if((0,Me.Wi)(de))return de;const Ae=++this.handleId;this.handles.add({remove:()=>{this.pendingPromises.delete(de)&&(0!==this.pendingPromises.size||this.handles.has(xe)||this._set("updating",!1))}},Ae),this.pendingPromises.add(de),this._set("updating",!0);const me=()=>this.handles.remove(Ae);return de.then(me,me),de}removeAll(){this.pendingPromises.clear(),this.handles.removeAll(),this._set("updating",!1)}installSyncUpdatingWatch(de,Ae,me){const le=this.createSyncUpdatingCallback(),oe=(0,he.U5)(()=>(0,ye.$z)(de,Ae),le);return this.handles.add(oe,me),oe}createSyncUpdatingCallback(){return()=>{this.handles.remove(xe),++this.scheduleHandleId;const de=this.scheduleHandleId;this._get("updating")||this._set("updating",!0),this.handles.add((0,Ce.Os)(()=>{de===this.scheduleHandleId&&(this._set("updating",this.pendingPromises.size>0),this.handles.remove(xe))}),xe)}}};(0,z._)([(0,re.Cb)({readOnly:!0})],be.prototype,"updating",void 0),be=(0,z._)([(0,ce.j)("esri.views.support.WatchUpdatingTracking")],be);const xe=-42},79530:(hi,lt,N)=>{"use strict";function z(Ce){var Ie;const ye=Ce.layer;return"floorInfo"in ye&&null!=(Ie=ye.floorInfo)&&Ie.floorField&&"floors"in Ce.view?Me(Ce.view.floors,ye.floorInfo.floorField):null}function J(Ce,Ie){var ye;return"floorInfo"in Ie&&null!=(ye=Ie.floorInfo)&&ye.floorField?Me(Ce,Ie.floorInfo.floorField):null}function Te(Ce,Ie){const{definitionExpression:ye}=Ie;return Ce?ye?`(${ye}) AND (${Ce})`:Ce:ye}function Me(Ce,Ie){if(null==Ce||!Ce.length)return null;const ye=Ce.filter(he=>""!==he).map(he=>`'${he}'`);return ye.push("''"),`${Ie} IN (${ye.join(",")}) OR ${Ie} IS NULL`}N.d(lt,{Hp:()=>Te,cx:()=>z,ff:()=>J})},18605:(hi,lt,N)=>{"use strict";N.d(lt,{r7:()=>ce,gH:()=>he,TT:()=>xe,$3:()=>de,uz:()=>ye,Jl:()=>be}),N(8314);var J=N(21286);function ye(He,Qe){const ot=function(He,Qe){const{format:ot,quality:Ne,rotation:Se,disableDecorations:$e}=He||{},nt=Ue(He,Qe.padding),ut=function(He,Qe){const ot={x:0,y:0,width:Qe.width,height:Qe.height};if(He&&He.area){null!=He.area.x&&(ot.x=Math.floor(He.area.x)),null!=He.area.y&&(ot.y=Math.floor(He.area.y));const Ne=null!=He.area.width?Math.floor(He.area.width):null,Se=null!=He.area.height?Math.floor(He.area.height):null;if(ot.width=Qe.width-ot.x,ot.height=Qe.height-ot.y,null!=Ne&&null!=Se)ot.width=Math.min(ot.width,Ne),ot.height=Math.min(ot.height,Se);else if(null==Ne&&null!=Se){const $e=Math.min(ot.width,Ne);ot.height=$e/ot.width*ot.height,ot.width=$e}else if(null!=Ne&&null==Se){const $e=Math.min(ot.height,Se);ot.width=$e/ot.height*ot.width,ot.height=$e}}return function(He,Qe){const ot=Math.floor(Math.max(He.x,0)),Ne=Math.floor(Math.max(He.y,0)),Se={x:ot,y:Ne,width:Math.floor(Math.min(He.width,Qe.width-ot)),height:Math.floor(Math.min(He.height,Qe.height-Ne))},$e=Se.width/Se.height,nt=He.width/He.height;if(nt===$e)return Se;if(nt>$e){const Ze=Math.floor(Se.width/nt);return{x:Se.x,y:Math.floor(Se.y+(Se.height-Ze)/2),width:Se.width,height:Ze}}const ut=Math.floor(Se.height*nt);return{x:Math.floor(Se.x+(Se.width-ut)/2),y:Se.y,width:ut,height:Se.height}}(function(He,Qe){if(!Qe||null==Qe.width||null==Qe.height)return He;const ot=Qe.width/Qe.height,Ne=He.width/He.height;if(Ne===ot)return He;if(Ne<ot){const $e=Math.floor(He.height*ot);return He.x-=($e-He.width)/2,He.width=$e,He}const Se=Math.floor(He.width/ot);return He.y-=(Se-He.height)/2,He.height=Se,He}(ot,He),Qe)}(He,{width:Qe.width-nt.left-nt.right,height:Qe.height-nt.top-nt.bottom}),{width:xt,height:Ze}=function(He,Qe){if(!He)return Qe;const ot=He.width,Ne=He.height;if(null!=ot&&null!=Ne)return{width:Math.floor(ot),height:Math.floor(Ne)};if(null==ot&&null==Ne)return Qe;const Se=Qe.width/Qe.height;return null==Ne?{width:Math.floor(ot),height:Math.floor(ot/Se)}:{width:Math.floor(Ne*Se),height:Math.floor(Ne)}}(He,ut),et=function(He){switch(He){case"png":case"jpg":case"jpeg":return He;default:return ve}}(ot);return{format:et,quality:(0,J.uZ)(null!=Ne?Ne:Oe[et],0,100),area:ut,width:xt,height:Ze,rotation:Se,disableDecorations:!!$e,ignoreBackground:!(!He||!He.ignoreBackground),ignorePadding:!(!He||!He.ignorePadding)}}(He,Qe),Ne=ot.area,Se=ot.width/Ne.width,$e=Ue(ot,Qe.padding),nt=$e.left+$e.right,ut=$e.top+$e.bottom,Ze=Qe.height-ut,et=Math.floor((Qe.width-nt)*Se+nt),gt=Math.floor(Ze*Se+ut),Vt=He&&He.layers?He.layers:[],Bt=ot.ignoreBackground,Lt=ot.ignorePadding;return{framebufferWidth:et,framebufferHeight:gt,region:{x:Math.floor(Ne.x*Se)+$e.left,y:Math.floor(Ne.y*Se)+$e.top,width:ot.width,height:ot.height},format:ot.format,quality:ot.quality,rotation:ot.rotation,pixelRatio:Se,layers:Vt,disableDecorations:ot.disableDecorations,ignoreBackground:Bt,ignorePadding:Lt}}function he(He,Qe,ot,Ne){Ne.premultipliedAlpha&&function(He){const Qe=He.data,ot=Qe.length;for(let Ne=0;Ne<ot;Ne+=4){const Se=Qe[Ne+3];if(Se>0){const $e=Se/255;Qe[Ne+0]=Qe[Ne+0]/$e,Qe[Ne+1]=Qe[Ne+1]/$e,Qe[Ne+2]=Qe[Ne+2]/$e}}}(He),ot.width=He.width,ot.height=He.height;const Se=ot.getContext("2d");Se.putImageData(He,0,0),Ne.flipY&&function(He){He.save(),He.globalCompositeOperation="copy",He.scale(1,-1),He.translate(0,-He.canvas.height),He.drawImage(He.canvas,0,0),He.restore()}(Se);const $e=Se.getImageData(0,0,He.width,He.height),nt=function(He,Qe){return He.toDataURL(tt[Qe.format],Qe.quality/100)}(ot,Qe);return ot.width=0,ot.height=0,{dataUrl:nt,data:$e}}function ce(He,Qe,ot){if(!He||!Qe)throw new Error("Cannot construct image data without dimensions");if(le)try{return new ImageData(He,Qe)}catch(Ne){le=!1}return Ae(He,Qe,ot)}function be(He,Qe,ot,Ne){if(!Qe||!ot)throw new Error("Cannot construct image data without dimensions");if(le)try{return new ImageData(He,Qe,ot)}catch($e){le=!1}const Se=Ae(Qe,ot,Ne);return Se.data.set(He,0),Se}function xe(He,Qe,ot,Ne=0,Se=0,$e=He.width-Ne,nt=He.height-Se,ut=!1){const{data:xt}=He,{width:Ze,height:et,data:gt}=Qe,Vt=$e/Ze,Bt=nt/et,Lt=Math.ceil(Vt/2),Pt=Math.ceil(Bt/2),dt=He.width;for(let jt=0;jt<et;jt++)for(let Rt=0;Rt<Ze;Rt++){const _e=4*(Rt+(ut?et-jt-1:jt)*Ze);let ke=0,rt=0,Dt=0,Kt=0,st=0,Ti=0;const qt=(jt+.5)*Bt;for(let pi=Math.floor(jt*Bt);pi<(jt+1)*Bt;pi++){const We=Math.abs(qt-(pi+.5))/Pt,fi=(Rt+.5)*Vt,Mi=We*We;for(let Ki=Math.floor(Rt*Vt);Ki<(Rt+1)*Vt;Ki++){const yn=Math.abs(fi-(Ki+.5))/Lt,Un=Math.sqrt(Mi+yn*yn);if(Un>=1)continue;let Vn=2*Un*Un*Un-3*Un*Un+1;const kn=4*(Ne+Ki+(Se+pi)*dt);Ti+=Vn*xt[kn+3],rt+=Vn,!ot&&xt[kn+3]<255&&(Vn=Vn*xt[kn+3]/255),Dt+=Vn*xt[kn],Kt+=Vn*xt[kn+1],st+=Vn*xt[kn+2],ke+=Vn}}gt[_e]=Dt/ke,gt[_e+1]=Kt/ke,gt[_e+2]=st/ke,gt[_e+3]=Ti/rt}return Qe}function de(He,Qe,ot){if(!Qe)return He;const{framebufferWidth:Ne,framebufferHeight:Se,pixelRatio:$e,region:nt}=He,ut=Ue(He,ot),xt=ut.left+ut.right,Ze=ut.top+ut.bottom,et=Ne-xt,gt=Se-Ze,Vt=Math.min(8,Math.min((2048-xt)/et,(2048-Ze)/gt));return Vt<1.5?He:fr(ji({},He),{framebufferWidth:Math.round(et*Vt)+xt,framebufferHeight:Math.round(gt*Vt)+Ze,pixelRatio:$e*Vt,resample:{region:{x:Math.round((nt.x-ut.left)*Vt)+ut.left,y:Math.round((nt.y-ut.top)*Vt)+ut.top,width:Math.round(nt.width*Vt),height:Math.round(nt.height*Vt)},width:Ne,height:Se}})}function Ae(He,Qe,ot){return ot||(me||(me=document.createElement("canvas"),me.width=1,me.height=1),ot=me),ot.getContext("2d").createImageData(He,Qe)}let me=null,le=!0;function Ue(He,Qe){return!Qe||He&&He.ignorePadding?qe:Qe}const tt={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},ve="png",Oe={png:100,jpg:98,jpeg:98},qe={top:0,right:0,bottom:0,left:0}},31637:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>Me});var z=N(62208),J=N(57596);let Te;function Me(){return Te||(Te=function(){const ye={available:!1,version:0,majorPerformanceCaveat:!1,maxTextureSize:0,supportsHighPrecisionFragment:!1,supportsVertexShaderSamplers:!1,supportsElementIndexUint:!1,supportsStandardDerivatives:!1,supportsInstancedArrays:!1,supportsTextureFloat:!1,supportsColorBufferFloat:!1};if(void 0===typeof WebGLRenderingContext)return ye;const he=document.createElement("canvas");if(!he)return ye;let re=(0,J.k)(he,1,{failIfMajorPerformanceCaveat:!0});if((0,z.Wi)(re)&&(re=(0,J.k)(he,1),(0,z.pC)(re)&&(ye.majorPerformanceCaveat=!0)),(0,z.Wi)(re))return ye;const ce=re.getParameter(re.VERSION);if(!ce)return ye;const be=ce.match(/^WebGL\s+([\d.]*)/);if(be){const xe=parseFloat(be[1]);ye.available=xe>=.94;const de=re.getShaderPrecisionFormat(re.FRAGMENT_SHADER,re.HIGH_FLOAT);de&&(ye.supportsHighPrecisionFragment=de.precision>0),ye.supportsVertexShaderSamplers=re.getParameter(re.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0,ye.supportsElementIndexUint=null!==re.getExtension("OES_element_index_uint"),ye.supportsStandardDerivatives=null!==re.getExtension("OES_standard_derivatives"),ye.supportsInstancedArrays=null!==re.getExtension("ANGLE_instanced_arrays"),ye.supportsTextureFloat=null!==re.getExtension("OES_texture_float"),ye.supportsColorBufferFloat=null!==re.getExtension("WEBGL_color_buffer_float")&&null!==re.getExtension("EXT_float_blend")}return ye.maxTextureSize=re.getParameter(re.MAX_TEXTURE_SIZE),ye.version=function(){if(void 0===typeof WebGL2RenderingContext)return!1;const ye=document.createElement("canvas");if(!ye)return!1;const he=(0,J.k)(ye,2);return!!(0,z.pC)(he)}()?2:1,ye}()),Te}},57596:(hi,lt,N)=>{"use strict";N.d(lt,{k:()=>Te,s:()=>J});var z=N(62208);function J(ye,he,re={}){if(!window.WebGLRenderingContext)return Me(ye,Ce),null;const ce=Te(ye,he,re);return(0,z.Wi)(ce)?(Me(ye,Ie),null):ce}function Te(ye,he,re={}){const ce=1===he?["webgl","experimental-webgl","webkit-3d","moz-webgl"]:["webgl2"];let be=null;for(const xe of ce){try{be=ye.getContext(xe,re)}catch(de){}if(be)break}return be}function Me(ye,he){const re=ye.parentNode;re&&(re.innerHTML='<table style="background-color: #8CE; width: 100%; height: 100%;"><tr><td align="center"><div style="display: table-cell; vertical-align: middle;"><div style="">'+he+"</div></div></td></tr></table>")}const Ce='This page requires a browser that supports WebGL.<br/><a href="http://get.webgl.org">Click here to upgrade your browser.</a>',Ie='It doesn\'t appear your computer can support WebGL.<br/><a href="http://get.webgl.org/troubleshooting/">Click here for more information.</a>'},92236:(hi,lt,N)=>{"use strict";N.d(lt,{a:()=>J,b:()=>Te});var z=N(90912);function J(Me){const Ce=(0,z.vU)(100*(1-Me));return Math.max(0,Math.min(Ce,100))}function Te(Me){return Math.max(0,Math.min(1-Me/100,1))}},32584:(hi,lt,N)=>{"use strict";N.d(lt,{Nw:()=>le});var z=N(26584),J=N(58817),Te=N(62208),Me=N(94113),Ce=N(23025);const Ie=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wms","wmts"]),ye=new Set(["csv","feature","geo-rss","group","imagery","imagery-tile","kml","map-image","map-notes","ogc-feature","tile","unknown","unsupported","vector-tile","web-tile","wfs","wms","wmts"]);function be(oe){return!("feature"!==oe.type||oe.url||!oe.source||"memory"!==oe.source.type)}function Ae(oe,se){"maxScale"in oe&&(se.maxScale=(0,Ce.k)(oe.maxScale)),"minScale"in oe&&(se.minScale=(0,Ce.k)(oe.minScale))}function le(oe,se,fe){if(!("write"in oe)||!oe.write)return fe&&fe.messages&&fe.messages.push(new z.Z("layer:unsupported",`Layers (${oe.title}, ${oe.id}) of type '${oe.declaredClass}' cannot be persisted`,{layer:oe})),null;if(function(oe,se){if(se.restrictedWebMapWriting){const fe=function(oe){return"basemap"===oe.layerContainerType?Ie:"operational-layers"===oe.layerContainerType?ye:null}(se);return!(0,Te.pC)(fe)||fe.has(oe.type)&&!be(oe)}return!0}(oe,fe)){const Ee={};return oe.write(Ee,fe)?Ee:null}return(0,Te.pC)(se)&&function(oe,se){if(function(oe,se){if(be(oe)){const fe=(0,Me.hS)("featureCollection.layers",se),Ee=fe&&fe[0]&&fe[0].layerDefinition;Ee&&Ae(oe,Ee)}else"stream"===oe.type?Ae(oe,se.layerDefinition=se.layerDefinition||{}):"group"!==oe.type&&Ae(oe,se)}(oe,se),"blendMode"in oe&&(se.blendMode=oe.blendMode,"normal"===se.blendMode&&delete se.blendMode),se.opacity=(0,Ce.k)(oe.opacity),se.title=oe.title||"Layer",se.visibility=oe.visible,"legendEnabled"in oe&&"wmts"!==oe.type)if(be(oe)){const fe=se.featureCollection;fe&&(fe.showLegend=oe.legendEnabled)}else se.showLegend=oe.legendEnabled}(oe,se=(0,J.d9)(se)),se}},6785:(hi,lt,N)=>{"use strict";N.d(lt,{Z:()=>Pt});var z=N(15861),J=N(17626),Me=(N(52515),N(55538)),Ce=N(40764),Ie=N(61885),ye=N(72392),re=(N(8314),N(58817)),ce=N(63290),be=N(60330),xe=N(10699),de=N(35948),Ae=N(27e3),me=N(77712),le=N(66656),oe=N(61403),se=N(36082),fe=N(819),Ee=N(39605);N(62996);const Ue={handleInterceptedEvent:(dt,jt,Rt,_e)=>(dt.scheduleRender(),jt.properties[`on${_e.type}`].apply(jt.properties.bind||Rt,[_e]))},Fe={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(dt,jt,Rt)=>{dt.style[jt]=Rt}},je=(dt,jt,Rt=!1)=>{let _e=dt;return jt.forEach((ke,rt)=>{var Dt;const Kt=null!=(Dt=_e)&&Dt.children?((dt,jt)=>dt.find(st=>st.domNode===ke))(_e.children):void 0;Rt&&!Kt&&rt!==jt.length-1||(_e=Kt)}),_e};var Oe=N(84434),qe=N(54346),He=N(21726);let Qe;Qe="components/assets";var Ne=N(81431),Se=N(38570),$e=N(56683),nt=N(41840);const ut="esri.widgets.Widget",xt=ce.Z.getLogger(ut);let Ze=0;function gt(dt,jt){for(const Rt in jt)null!=dt[Rt]&&("object"==typeof dt[Rt]&&"object"==typeof jt[Rt]?gt(dt[Rt],jt[Rt]):dt[Rt]=jt[Rt]);return dt}const Vt=(dt=>{let jt;const Rt=ji(ji({},Ue),dt),_e=(dt=>ji(ji({},Fe),dt))(Rt),ke=_e.performanceLogger;let rt,Dt=!0,Kt=!1;const st=[],Ti=[],qt=(We,fi,Mi)=>{let Ki;_e.eventHandlerInterceptor=(Un,Vn,kn,li)=>function(B){let Be;ke("domEvent",B);const $=((dt,jt)=>{const Rt=[];for(;dt&&dt!==jt;)Rt.push(dt),dt=dt.parentNode;return Rt})(B.currentTarget,Ki.domNode),k=$.some(E=>{var D;return customElements.get(null==E||null==(D=E.tagName)?void 0:D.toLowerCase())});if(B.eventPhase!==Event.CAPTURING_PHASE&&k){const E=B.composedPath(),D=E.slice(E.indexOf(B.currentTarget),E.indexOf(Ki.domNode)).filter(O=>O.getRootNode()===O.ownerDocument).reverse();Be=je(Ki.getLastRender(),D,!0)}else $.reverse(),Be=je(Ki.getLastRender(),$);let T;return Be&&(T=Rt.handleInterceptedEvent(jt,Be,this,B)),ke("domEventProcessed",B),T},null==Rt.postProcessProjectionOptions||Rt.postProcessProjectionOptions(_e);const yn=Mi();Ki=We(fi,yn,_e),st.push(Ki),Ti.push(Mi),Rt.afterFirstVNodeRendered&&Rt.afterFirstVNodeRendered(Ki,yn)};let pi=()=>{if(rt=void 0,Dt){Dt=!1,ke("renderStart",void 0);for(let We=0;We<st.length;We++){const fi=Ti[We]();ke("rendered",void 0),st[We].update(fi),ke("patched",void 0)}ke("renderDone",void 0),Dt=!0}};return Rt.modifyDoRenderImplementation&&(pi=Rt.modifyDoRenderImplementation(pi,st,Ti)),jt={renderNow:pi,scheduleRender:()=>{rt||Kt||(rt=requestAnimationFrame(pi))},stop:()=>{rt&&(cancelAnimationFrame(rt),rt=void 0),Kt=!0},resume:()=>{Kt=!1,Dt=!0,jt.scheduleRender()},append:(We,fi)=>{qt(Ee.v.append,We,fi)},insertBefore:(We,fi)=>{qt(Ee.v.insertBefore,We,fi)},merge:(We,fi)=>{qt(Ee.v.merge,We,fi)},replace:(We,fi)=>{qt(Ee.v.replace,We,fi)},detach:We=>{for(let fi=0;fi<Ti.length;fi++)if(Ti[fi]===We)return Ti.splice(fi,1),st.splice(fi,1)[0];throw new Error("renderFunction was not found")}},jt})({postProcessProjectionOptions(dt){const jt=dt.eventHandlerInterceptor,Rt=/capture$/i;dt.eventHandlerInterceptor=(_e,ke,rt,Dt)=>{const Kt=jt(_e,ke,rt,Dt),st=Rt.test(_e);if(!((_e=_e.replace(Rt,"")).toLowerCase()in rt)||st){const Ti=_e[2].toLowerCase()+_e.slice(3),qt=fi=>Kt.call(rt,fi);rt.addEventListener(Ti,qt,st);const pi=()=>rt.removeEventListener(Ti,qt,st),We=Dt.afterRemoved;Dt.afterRemoved=fi=>{null==We||We(fi),pi()}}return Kt}},handleInterceptedEvent(dt,jt,Rt,_e){const{eventPhase:ke,type:rt}=_e,Dt=ke===Event.CAPTURING_PHASE;let Kt=`on${rt}${Dt?"capture":""}`;const st=jt.properties;(Kt in st||(Kt=`on${rt[0].toUpperCase()}${rt.slice(1)}${Dt?"Capture":""}`,Kt in st))&&(dt.scheduleRender(),st[Kt].call(st.bind||Rt,_e))}});let Bt=!1,Lt=class extends((0,be.v)(Ie.Z.EventedAccessor)){constructor(dt,jt){var Rt;super(dt,jt),Rt=this,this._attached=!1,this._internalHandles=new ye.Z,this._projector=Vt,this.domNode=null,this.iconClass="esri-icon-checkbox-unchecked",this.label=this.declaredClass.split(".").pop(),this.visible=!0,this.key=this,this._loadLocale=(0,xe.Ds)((0,z.Z)(function*(){if(Rt._messageBundleProps&&Rt._messageBundleProps.length){const Ti=yield(0,xe.as)(Rt._messageBundleProps.map(function(){var qt=(0,z.Z)(function*({bundlePath:pi,propertyName:We}){let fi=yield(0,nt.ME)(pi);Rt.uiStrings&&Object.keys(Rt.uiStrings)&&(fi=gt((0,re.d9)(fi),Rt.uiStrings)),Rt[We]=fi});return function(pi){return qt.apply(this,arguments)}}()));for(const qt of Ti)qt.error&&xt.error("widget-intl:locale-error",Rt.declaredClass,qt.error)}yield Rt.loadLocale()})),(0,Oe.B)((0,He.hF)((0,qe.V)("components/assets")));const ke=(0,Se.Yo)()||"light";["light","dark"].includes(ke)||(0,Me.x9)(xt,"The following themes are deprecated: light-blue, dark-blue, light-green, dark-green, light-purple, dark-purple, light-red, and dark-red.",{version:"4.19",warnOnce:!0,see:"https://developers.arcgis.com/javascript/latest/styling/"});const rt="esri-widget-uid-"+(0,de.D)(),Dt=this.render.bind(this);let Kt=!1;this._trackingTarget=new fe.M(()=>this.scheduleRender());const st=()=>{var Ti;if(!Kt||this.destroyed)return null;if(!this.visible)return{vnodeSelector:"div",properties:{key:rt,class:"",styles:{display:"none"}},domNode:void 0,children:void 0,text:void 0};const qt=Dt();let{properties:pi}=qt;pi||(qt.properties=pi={});let{key:We,styles:fi}=pi;We||(pi.key=rt),fi||(pi.styles=fi={}),fi.display||(fi.display="");let Mi=0;return null==(Ti=qt.children)||Ti.forEach(Ki=>{if((0,Ne.ZJ)(Ki.vnodeSelector))return;let{properties:yn}=Ki;yn||(Ki.properties=yn={}),yn.key||(yn.key=`${this.id}--${Mi++}`)}),(0,Ne.dh)(this,qt)};this.render=()=>{if(Bt)return st();let Ti;this._trackingTarget.clear(),Bt=!0;try{Ti=(0,se.LJ)(this._trackingTarget,st)}finally{Bt=!1}return Ti},this.addResolvingPromise(this._resourcesFetch=this.beforeFirstRender().then(()=>{Kt=!0,this._postInitialize()}))}normalizeCtorArgs(dt,jt){const Rt=ji({},dt);return jt&&(Rt.container=jt),Rt}postInitialize(){}beforeFirstRender(){return Promise.all([this.loadDependencies(),this._loadLocale()]).then(()=>{}).catch(xe.H9)}loadDependencies(){return(0,z.Z)(function*(){})()}loadLocale(){return(0,z.Z)(function*(){})()}destroy(){this.destroyed||(this._trackingTarget.destroy(),this._trackingTarget=null,this.viewModel&&(this.viewModel.destroy(),this.viewModel=null),this._detach(this.container),this._set("container",null),this._internalHandles.destroy(),this._emitter.clear(),this.render=()=>null,this._projector=null)}set container(dt){this._get("container")||this._set("container",dt)}castContainer(dt){return(0,Ce.L7)(dt)}get id(){return this._get("id")||this.get("container.id")||Date.now().toString(16)+"-widget-"+Ze++}set id(dt){dt&&this._set("id",dt)}get renderable(){return this._resourcesFetch}get test(){return{projector:this._projector,handles:this._internalHandles}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||this._projector.scheduleRender()}classes(...dt){return Se.Sh.apply(this,dt)}own(dt){arguments.length>1&&(dt=Array.prototype.slice.call(arguments)),this._internalHandles.add(dt)}renderNow(){this._projector.renderNow()}_postInitialize(){var jt,dt=this;if(this.destroyed)return;this.scheduleRender(),null!=(jt=this._delegatedEventNames)&&jt.length&&this._internalHandles.add((0,Ae.S1)(this,"viewModel",(_e,ke)=>{ke&&this._internalHandles.remove("delegated-events"),_e&&this._internalHandles.add(this._delegatedEventNames.map(rt=>_e.on(rt,Dt=>{this.emit(rt,Dt)})),"delegated-events")})),this.postInitialize();const Rt=function(){var _e=(0,z.Z)(function*(){yield dt._loadLocale().catch(xe.H9),dt.scheduleRender()});return function(){return _e.apply(this,arguments)}}();this._internalHandles.add([(0,$e.qe)(Rt),this.watch("uiStrings",Rt),(0,Ae.N1)(this,"container",function(){var _e=(0,z.Z)(function*(ke){dt.destroyed||dt._attach(ke)});return function(ke){return _e.apply(this,arguments)}}())])}_attach(dt){dt&&(this._projector.merge(dt,this.render),this._attached=!0)}_detach(dt){dt&&this._attached&&(this._projector.detach(this.render),dt.parentNode&&dt.parentNode.removeChild(dt),this._attached=!1)}};Lt[Ne.$X]=!0,(0,J._)([(0,me.Cb)({value:null})],Lt.prototype,"container",null),(0,J._)([(0,le.p)("container")],Lt.prototype,"castContainer",null),(0,J._)([(0,me.Cb)({aliasOf:"container"})],Lt.prototype,"domNode",void 0),(0,J._)([(0,me.Cb)()],Lt.prototype,"iconClass",void 0),(0,J._)([(0,me.Cb)()],Lt.prototype,"id",null),(0,J._)([(0,me.Cb)()],Lt.prototype,"label",void 0),(0,J._)([(0,me.Cb)()],Lt.prototype,"renderable",null),(0,J._)([(0,me.Cb)()],Lt.prototype,"uiStrings",void 0),(0,J._)([(0,me.Cb)()],Lt.prototype,"viewModel",void 0),(0,J._)([(0,me.Cb)()],Lt.prototype,"visible",void 0),(0,J._)([(0,me.Cb)()],Lt.prototype,"key",void 0),(0,J._)([(0,me.Cb)()],Lt.prototype,"children",void 0),(0,J._)([(0,me.Cb)()],Lt.prototype,"afterCreate",void 0),(0,J._)([(0,me.Cb)()],Lt.prototype,"afterUpdate",void 0),(0,J._)([(0,me.Cb)()],Lt.prototype,"afterRemoved",void 0),Lt=(0,J._)([(0,oe.j)(ut)],Lt);var Pt=Lt},24940:(hi,lt,N)=>{"use strict";N.d(lt,{h:()=>J});var z=N(38570);function J(){return function(Ce,Ie){if(!Ce[Ie])throw new TypeError(`Cannot auto bind undefined function '${Ie}'`);return{value:Me(Ce[Ie])}}}function Me(Ce){return function(Ie,...ye){!function(Ce){const{type:Ie}=Ce;return Ce instanceof KeyboardEvent||"keyup"===Ie||"keydown"===Ie||"keypress"===Ie}(Ie)?Ce.call(this,Ie,...ye):(0,z.pf)(Ie.key)&&(Ie.preventDefault(),Ie.stopPropagation(),Ie.target.click())}}},25552:(hi,lt,N)=>{"use strict";function z(J){return function(Te,Me){Te.hasOwnProperty("_messageBundleProps")||(Te._messageBundleProps=Te._messageBundleProps?Te._messageBundleProps.slice():[]),Te._messageBundleProps.push({bundlePath:J,propertyName:Me})}}N.d(lt,{H:()=>z})},94450:(hi,lt,N)=>{"use strict";N.d(lt,{u:()=>Ce});var z=N(81431),J=function(Ie){return{vnodeSelector:"",properties:void 0,children:void 0,text:Ie.toString(),domNode:null}},Te=function(Ie,ye){for(var he=0,re=Ie.length;he<re;he++){var ce=Ie[he];Array.isArray(ce)?Te(ce,ye):null!=ce&&!1!==ce&&(ce.hasOwnProperty("vnodeSelector")||(ce=J(ce)),ye.push(ce))}};function Ce(Ie,ye,...he){return"function"!=typeof Ie||(0,z.ZJ)(Ie)?function(Ie,ye){for(var he=[],re=2;re<arguments.length;re++)he[re-2]=arguments[re];if(1===he.length&&"string"==typeof he[0])return{vnodeSelector:Ie,properties:ye||void 0,children:void 0,text:he[0],domNode:null};var ce=[];return Te(he,ce),{vnodeSelector:Ie,properties:ye||void 0,children:ce,text:void 0,domNode:null}}(Ie,ye,...he):Ie(ye,...he)}},81431:(hi,lt,N)=>{"use strict";N.d(lt,{$X:()=>J,ZJ:()=>ce,dh:()=>Ie});var z=N(54024);const J=Symbol("widget"),Te=[],Me={},Ce=new WeakMap;function Ie(be,xe){const de=xe.children;if(de)for(let me=0;me<de.length;++me)de[me]=Ie(be,de[me]);const Ae=xe.vnodeSelector;if(ce(Ae)){const me=xe.properties||Me;return{vnodeSelector:"div",properties:{key:me.key||Ae,parentWidget:be,widgetConstructor:Ae,widgetProps:me,widgetChildren:de||Te,afterCreate:ye,afterUpdate:he,afterRemoved:re},children:void 0,text:void 0,domNode:null}}return xe}function ye(be,xe,de,{key:Ae,parentWidget:me,widgetConstructor:le,widgetProps:oe,widgetChildren:se}){const fe=new le(fr(ji({},oe),{key:Ae,children:se,container:be}));Ce.set(be,fe),null==fe.afterCreate||fe.afterCreate(fe,be),me._internalHandles.add((0,z.kB)(()=>re(be)))}function he(be,xe,de,{widgetProps:Ae}){const me=Ce.get(be);me&&(me.set(Ae),null==me.afterUpdate||me.afterUpdate(me,be))}function re(be){const xe=Ce.get(be);xe&&(xe.destroy(),Ce.delete(be))}function ce(be){return"function"==typeof be&&be[J]}},40669:(hi,lt,N)=>{"use strict";function he(ce){return ce&&"function"==typeof ce.render}function re(ce){return ce&&"function"==typeof ce.postMixInProperties&&"function"==typeof ce.buildRendering&&"function"==typeof ce.postCreate&&"function"==typeof ce.startup}N.d(lt,{o:()=>re,Qd:()=>he}),N(24940),N(55538),N(8314),N(63290),N(94450),N(38570)},38570:(hi,lt,N)=>{"use strict";N.d(lt,{Sh:()=>Ui,vU:()=>Di,pV:()=>ui,rk:()=>$i,Yo:()=>Li,pf:()=>bn,$o:()=>si,dZ:()=>Ft,w3:()=>nn,Se:()=>vi});var Ye,Ht,Ce=Object.prototype,Ie=Function.prototype.toString,ye=Ce.hasOwnProperty,he=Ie.call(Object),re=Ce.toString,ce=(Ye=Object.getPrototypeOf,Ht=Object,function($t){return Ye(Ht($t))}),Ae={exports:{}},me={},le={exports:{}},oe={};function se(){return{"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1}}var ge=/javascript\s*\:/gim;oe.whiteList={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1},oe.getDefaultWhiteList=se,oe.onAttr=function(Ye,Ht,$t){},oe.onIgnoreAttr=function(Ye,Ht,$t){},oe.safeAttrValue=function(Ye,Ht){return ge.test(Ht)?"":Ht};var Fe={indexOf:function(Ye,Ht){var $t,ci;if(Array.prototype.indexOf)return Ye.indexOf(Ht);for($t=0,ci=Ye.length;$t<ci;$t++)if(Ye[$t]===Ht)return $t;return-1},forEach:function(Ye,Ht,$t){var ci,Ii;if(Array.prototype.forEach)return Ye.forEach(Ht,$t);for(ci=0,Ii=Ye.length;ci<Ii;ci++)Ht.call($t,Ye[ci],ci,Ye)},trim:function(Ye){return String.prototype.trim?Ye.trim():Ye.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(Ye){return String.prototype.trimRight?Ye.trimRight():Ye.replace(/(\s*$)/g,"")}},Ve=Fe,je=oe,ve=function(Ye,Ht){";"!==(Ye=Ve.trimRight(Ye))[Ye.length-1]&&(Ye+=";");var $t=Ye.length,ci=!1,Ii=0,Jt=0,Ct="";function Gt(){if(!ci){var oi=Ve.trim(Ye.slice(Ii,Jt)),ei=oi.indexOf(":");if(-1!==ei){var Ai=Ve.trim(oi.slice(0,ei)),Si=Ve.trim(oi.slice(ei+1));if(Ai){var yi=Ht(Ii,Ct.length,Ai,Si,oi);yi&&(Ct+=yi+"; ")}}}Ii=Jt+1}for(;Jt<$t;Jt++){var gi=Ye[Jt];if("/"===gi&&"*"===Ye[Jt+1]){var kt=Ye.indexOf("*/",Jt+2);if(-1===kt)break;Ii=(Jt=kt+1)+1,ci=!1}else"("===gi?ci=!0:")"===gi?ci=!1:";"===gi?ci||Gt():"\n"===gi&&Gt()}return Ve.trim(Ct)};function Oe(Ye){return null==Ye}function He(Ye){Ye=function(Ye){var Ht={};for(var $t in Ye)Ht[$t]=Ye[$t];return Ht}(Ye||{}),Ye.whiteList=Ye.whiteList||je.whiteList,Ye.onAttr=Ye.onAttr||je.onAttr,Ye.onIgnoreAttr=Ye.onIgnoreAttr||je.onIgnoreAttr,Ye.safeAttrValue=Ye.safeAttrValue||je.safeAttrValue,this.options=Ye}He.prototype.process=function(Ye){if(!(Ye=(Ye=Ye||"").toString()))return"";var $t=this.options,ci=$t.whiteList,Ii=$t.onAttr,Jt=$t.onIgnoreAttr,Ct=$t.safeAttrValue;return ve(Ye,function(gi,kt,oi,ei,Ai){var Si=ci[oi],yi=!1;if(!0===Si?yi=Si:"function"==typeof Si?yi=Si(ei):Si instanceof RegExp&&(yi=Si.test(ei)),!0!==yi&&(yi=!1),ei=Ct(oi,ei)){var un,en={position:kt,sourcePosition:gi,source:Ai,isWhite:yi};if(yi)return Oe(un=Ii(oi,ei,en))?oi+":"+ei:un;if(!Oe(un=Jt(oi,ei,en)))return un}})};var Qe=He;!function(Ye,Ht){var $t=oe,ci=Qe;for(var Jt in(Ht=Ye.exports=function(Ct,Gt){return new ci(Gt).process(Ct)}).FilterCSS=ci,$t)Ht[Jt]=$t[Jt]}(le,le.exports);var ot={indexOf:function(Ye,Ht){var $t,ci;if(Array.prototype.indexOf)return Ye.indexOf(Ht);for($t=0,ci=Ye.length;$t<ci;$t++)if(Ye[$t]===Ht)return $t;return-1},forEach:function(Ye,Ht,$t){var ci,Ii;if(Array.prototype.forEach)return Ye.forEach(Ht,$t);for(ci=0,Ii=Ye.length;ci<Ii;ci++)Ht.call($t,Ye[ci],ci,Ye)},trim:function(Ye){return String.prototype.trim?Ye.trim():Ye.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(Ye){var $t=/\s|\n|\t/.exec(Ye);return $t?$t.index:-1}},Se=le.exports.getDefaultWhiteList,$e=ot;var ut=new(0,le.exports.FilterCSS);function Vt(Ye){return Ye.replace(Lt,"&lt;").replace(Pt,"&gt;")}var Lt=/</g,Pt=/>/g,dt=/"/g,jt=/&quot;/g,Rt=/&#([a-zA-Z0-9]*);?/gim,_e=/&colon;?/gim,ke=/&newline;?/gim,rt=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,Dt=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,Kt=/u\s*r\s*l\s*\(.*/gi;function st(Ye){return Ye.replace(dt,"&quot;")}function Ti(Ye){return Ye.replace(jt,'"')}function qt(Ye){return Ye.replace(Rt,function($t,ci){return String.fromCharCode("x"===ci[0]||"X"===ci[0]?parseInt(ci.substr(1),16):parseInt(ci,10))})}function pi(Ye){return Ye.replace(_e,":").replace(ke," ")}function We(Ye){for(var Ht="",$t=0,ci=Ye.length;$t<ci;$t++)Ht+=Ye.charCodeAt($t)<32?" ":Ye.charAt($t);return $e.trim(Ht)}function fi(Ye){return We(Ye=pi(Ye=qt(Ye=Ti(Ye))))}function Mi(Ye){return Vt(Ye=st(Ye))}var Vn=/<!--[\s\S]*?-->/g;me.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},me.getDefaultWhiteList=function(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}},me.onTag=function(Ye,Ht,$t){},me.onIgnoreTag=function(Ye,Ht,$t){},me.onTagAttr=function(Ye,Ht,$t){},me.onIgnoreTagAttr=function(Ye,Ht,$t){},me.safeAttrValue=function(Ye,Ht,$t,ci){if($t=fi($t),"href"===Ht||"src"===Ht){if("#"===($t=$e.trim($t)))return"#";if("http://"!==$t.substr(0,7)&&"https://"!==$t.substr(0,8)&&"mailto:"!==$t.substr(0,7)&&"tel:"!==$t.substr(0,4)&&"data:image/"!==$t.substr(0,11)&&"ftp://"!==$t.substr(0,6)&&"./"!==$t.substr(0,2)&&"../"!==$t.substr(0,3)&&"#"!==$t[0]&&"/"!==$t[0])return""}else if("background"===Ht){if(rt.lastIndex=0,rt.test($t))return""}else if("style"===Ht){if(Dt.lastIndex=0,Dt.test($t)||(Kt.lastIndex=0,Kt.test($t)&&(rt.lastIndex=0,rt.test($t))))return"";!1!==ci&&($t=(ci=ci||ut).process($t))}return Mi($t)},me.escapeHtml=Vt,me.escapeQuote=st,me.unescapeQuote=Ti,me.escapeHtmlEntities=qt,me.escapeDangerHtml5Entities=pi,me.clearNonPrintableCharacter=We,me.friendlyAttrValue=fi,me.escapeAttrValue=Mi,me.onIgnoreTagStripAll=function(){return""},me.StripTagBody=function(Ye,Ht){"function"!=typeof Ht&&(Ht=function(){});var $t=!Array.isArray(Ye),Ii=[],Jt=!1;return{onIgnoreTag:function(Ct,Gt,gi){if(function(Ct){return!!$t||-1!==$e.indexOf(Ye,Ct)}(Ct)){if(gi.isClosing){var kt="[/removed]";return Ii.push([!1!==Jt?Jt:gi.position,gi.position+kt.length]),Jt=!1,kt}return Jt||(Jt=gi.position),"[removed]"}return Ht(Ct,Gt,gi)},remove:function(Ct){var Gt="",gi=0;return $e.forEach(Ii,function(kt){Gt+=Ct.slice(gi,kt[0]),gi=kt[1]}),Gt+=Ct.slice(gi)}}},me.stripCommentTag=function(Ye){return Ye.replace(Vn,"")},me.stripBlankChar=function(Ye){var Ht=Ye.split("");return(Ht=Ht.filter(function($t){var ci=$t.charCodeAt(0);return!(127===ci||ci<=31&&10!==ci&&13!==ci)})).join("")},me.cssFilter=ut,me.getDefaultCSSWhiteList=Se;var li={},B=ot;function Be(Ye){var Ht=B.spaceIndex(Ye);if(-1===Ht)var $t=Ye.slice(1,-1);else $t=Ye.slice(1,Ht+1);return"/"===($t=B.trim($t).toLowerCase()).slice(0,1)&&($t=$t.slice(1)),"/"===$t.slice(-1)&&($t=$t.slice(0,-1)),$t}function $(Ye){return"</"===Ye.slice(0,2)}var T=/[^a-zA-Z0-9_:\.\-]/gim;function D(Ye,Ht){for(;Ht<Ye.length;Ht++){var $t=Ye[Ht];if(" "!==$t)return"="===$t?Ht:-1}}function O(Ye,Ht){for(;Ht>0;Ht--){var $t=Ye[Ht];if(" "!==$t)return"="===$t?Ht:-1}}function F(Ye){return function(Ye){return'"'===Ye[0]&&'"'===Ye[Ye.length-1]||"'"===Ye[0]&&"'"===Ye[Ye.length-1]}(Ye)?Ye.substr(1,Ye.length-2):Ye}li.parseTag=function(Ye,Ht,$t){var ci="",Ii=0,Jt=!1,Ct=!1,Gt=0,gi=Ye.length,kt="",oi="";e:for(Gt=0;Gt<gi;Gt++){var ei=Ye.charAt(Gt);if(!1===Jt){if("<"===ei){Jt=Gt;continue}}else if(!1===Ct){if("<"===ei){ci+=$t(Ye.slice(Ii,Gt)),Jt=Gt,Ii=Gt;continue}if(">"===ei){ci+=$t(Ye.slice(Ii,Jt)),kt=Be(oi=Ye.slice(Jt,Gt+1)),ci+=Ht(Jt,ci.length,kt,oi,$(oi)),Ii=Gt+1,Jt=!1;continue}if('"'===ei||"'"===ei)for(var Ai=1,Si=Ye.charAt(Gt-Ai);""===Si.trim()||"="===Si;){if("="===Si){Ct=ei;continue e}Si=Ye.charAt(Gt-++Ai)}}else if(ei===Ct){Ct=!1;continue}}return Ii<Ye.length&&(ci+=$t(Ye.substr(Ii))),ci},li.parseAttr=function(Ye,Ht){var $t=0,ci=[],Ii=!1,Jt=Ye.length;function Ct(ei,Ai){if(!((ei=(ei=B.trim(ei)).replace(T,"").toLowerCase()).length<1)){var Si=Ht(ei,Ai||"");Si&&ci.push(Si)}}for(var Gt=0;Gt<Jt;Gt++){var oi,gi=Ye.charAt(Gt);if(!1!==Ii||"="!==gi)if(!1===Ii||Gt!==$t||'"'!==gi&&"'"!==gi||"="!==Ye.charAt(Gt-1)){if(/\s|\n|\t/.test(gi)){if(Ye=Ye.replace(/\s|\n|\t/g," "),!1===Ii){if(-1===(oi=D(Ye,Gt))){Ct(B.trim(Ye.slice($t,Gt))),Ii=!1,$t=Gt+1;continue}Gt=oi-1;continue}if(-1===(oi=O(Ye,Gt-1))){Ct(Ii,F(B.trim(Ye.slice($t,Gt)))),Ii=!1,$t=Gt+1;continue}}}else{if(-1===(oi=Ye.indexOf(gi,Gt+1)))break;Ct(Ii,B.trim(Ye.slice($t+1,oi))),Ii=!1,$t=(Gt=oi)+1}else Ii=Ye.slice($t,Gt),$t=Gt+1}return $t<Ye.length&&(!1===Ii?Ct(Ye.slice($t)):Ct(Ii,F(B.trim(Ye.slice($t))))),B.trim(ci.join(" "))};var V=le.exports.FilterCSS,W=me,ie=li.parseTag,Y=li.parseAttr,te=ot;function ne(Ye){return null==Ye}function _t(Ye){Ye=function(Ye){var Ht={};for(var $t in Ye)Ht[$t]=Ye[$t];return Ht}(Ye||{}),Ye.stripIgnoreTag&&(Ye.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),Ye.onIgnoreTag=W.onIgnoreTagStripAll),Ye.whiteList=Ye.whiteList||W.whiteList,Ye.onTag=Ye.onTag||W.onTag,Ye.onTagAttr=Ye.onTagAttr||W.onTagAttr,Ye.onIgnoreTag=Ye.onIgnoreTag||W.onIgnoreTag,Ye.onIgnoreTagAttr=Ye.onIgnoreTagAttr||W.onIgnoreTagAttr,Ye.safeAttrValue=Ye.safeAttrValue||W.safeAttrValue,Ye.escapeHtml=Ye.escapeHtml||W.escapeHtml,this.options=Ye,!1===Ye.css?this.cssFilter=!1:(Ye.css=Ye.css||{},this.cssFilter=new V(Ye.css))}_t.prototype.process=function(Ye){if(!(Ye=(Ye=Ye||"").toString()))return"";var $t=this.options,ci=$t.whiteList,Ii=$t.onTag,Jt=$t.onIgnoreTag,Ct=$t.onTagAttr,Gt=$t.onIgnoreTagAttr,gi=$t.safeAttrValue,kt=$t.escapeHtml,oi=this.cssFilter;$t.stripBlankChar&&(Ye=W.stripBlankChar(Ye)),$t.allowCommentTag||(Ye=W.stripCommentTag(Ye));var ei=!1;$t.stripIgnoreTagBody&&(ei=W.StripTagBody($t.stripIgnoreTagBody,Jt),Jt=ei.onIgnoreTag);var Ai=ie(Ye,function(Si,yi,en,un,On){var ln,Gn={sourcePosition:Si,position:yi,isClosing:On,isWhite:ci.hasOwnProperty(en)};if(!ne(ln=Ii(en,un,Gn)))return ln;if(Gn.isWhite){if(Gn.isClosing)return"</"+en+">";var $n=function(Ye){var Ht=te.spaceIndex(Ye);if(-1===Ht)return{html:"",closing:"/"===Ye[Ye.length-2]};var $t="/"===(Ye=te.trim(Ye.slice(Ht+1,-1)))[Ye.length-1];return $t&&(Ye=te.trim(Ye.slice(0,-1))),{html:Ye,closing:$t}}(un),In=ci[en],rr=Y($n.html,function(Hi,xi){var Ji,Ni=-1!==te.indexOf(In,Hi);return ne(Ji=Ct(en,Hi,xi,Ni))?Ni?(xi=gi(en,Hi,xi,oi))?Hi+'="'+xi+'"':Hi:ne(Ji=Gt(en,Hi,xi,Ni))?void 0:Ji:Ji});return un="<"+en,rr&&(un+=" "+rr),$n.closing&&(un+=" /"),un+">"}return ne(ln=Jt(en,un,Gn))?kt(un):ln},kt);return ei&&(Ai=ei.remove(Ai)),Ai};var Mt=_t;!function(Ye,Ht){var $t=me,ci=li,Ii=Mt;function Jt(gi,kt){return new Ii(kt).process(gi)}for(var Ct in(Ht=Ye.exports=Jt).filterXSS=Jt,Ht.FilterXSS=Ii,$t)Ht[Ct]=$t[Ct];for(var Ct in ci)Ht[Ct]=ci[Ct];"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=Ye.exports)}(Ae,Ae.exports);var pe=function(){function Ye(Ht,$t){var Ii,ci=this;this.arcgisWhiteList={a:["href","target","style"],abbr:["title"],img:["src","width","height","border","alt","style"],video:["autoplay","controls","height","loop","muted","poster","preload","width"],audio:["autoplay","controls","loop","muted","preload"],source:["media","src","type"],span:["style"],table:["width","height","cellpadding","cellspacing","border","style"],div:["style","align"],font:["size","color","style","face"],tr:["height","valign","align","style"],td:["height","width","valign","align","colspan","rowspan","nowrap","style"],th:["height","width","valign","align","colspan","rowspan","nowrap","style"],p:["style"],b:[],strong:[],i:[],em:[],u:[],br:[],li:[],ul:[],ol:[],hr:[],tbody:[]},this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(Jt,Ct,Gt,gi){return"a"===Jt&&"href"===Ct||("img"===Jt||"source"===Jt)&&"src"===Ct?ci.sanitizeUrl(Gt):Ae.exports.safeAttrValue(Jt,Ct,Gt,gi)}},Ht&&!$t?Ii=Ht:Ht&&$t?(Ii=Object.create(this.arcgisFilterOptions),Object.keys(Ht).forEach(function(Jt){"whiteList"===Jt?Ii.whiteList=ci._extendObjectOfArrays([ci.arcgisWhiteList,Ht.whiteList||{}]):Ii[Jt]=Ht[Jt]})):(Ii=Object.create(this.arcgisFilterOptions)).whiteList=this.arcgisWhiteList,this.xssFilterOptions=Ii,this._xssFilter=new Ae.exports.FilterXSS(Ii)}return Ye.prototype.sanitize=function(Ht,$t){switch(void 0===$t&&($t={}),typeof Ht){case"number":return isNaN(Ht)||!isFinite(Ht)?null:Ht;case"boolean":return Ht;case"string":return this._xssFilter.process(Ht);case"object":return this._iterateOverObject(Ht,$t);default:return $t.allowUndefined&&void 0===Ht?void 0:null}},Ye.prototype.sanitizeUrl=function(Ht){var $t=this._trim(Ht.substring(0,Ht.indexOf(":")));return"/"===Ht||"#"===Ht||"#"===Ht[0]||this.allowedProtocols.indexOf($t.toLowerCase())>-1?Ae.exports.escapeAttrValue(Ht):""},Ye.prototype.sanitizeHTMLAttribute=function(Ht,$t,ci,Ii){return"function"==typeof this.xssFilterOptions.safeAttrValue?this.xssFilterOptions.safeAttrValue(Ht,$t,ci,Ii):Ae.exports.safeAttrValue(Ht,$t,ci,Ii)},Ye.prototype.validate=function(Ht,$t){void 0===$t&&($t={});var ci=this.sanitize(Ht,$t);return{isValid:Ht===ci,sanitized:ci}},Ye.prototype._extendObjectOfArrays=function(Ht){var $t={};return Ht.forEach(function(ci){Object.keys(ci).forEach(function(Ii){$t[Ii]=Array.isArray(ci[Ii])&&Array.isArray($t[Ii])?$t[Ii].concat(ci[Ii]):ci[Ii]})}),$t},Ye.prototype._iterateOverObject=function(Ht,$t){var ci=this;void 0===$t&&($t={});try{var Ii=!1,Jt=void 0;if(Array.isArray(Ht))Jt=Ht.reduce(function(Gt,gi){var kt=ci.validate(gi,$t);return kt.isValid?Gt.concat([gi]):(Ii=!0,Gt.concat([kt.sanitized]))},[]);else{if(!function(Ye){if(!function(Ye){return!!Ye&&"object"==typeof Ye}(Ye)||"[object Object]"!=re.call(Ye)||function(Ye){var Ht=!1;if(null!=Ye&&"function"!=typeof Ye.toString)try{Ht=!!(Ye+"")}catch($t){}return Ht}(Ye))return!1;var Ht=ce(Ye);if(null===Ht)return!0;var $t=ye.call(Ht,"constructor")&&Ht.constructor;return"function"==typeof $t&&$t instanceof $t&&Ie.call($t)==he}(Ht))return $t.allowUndefined&&void 0===Ht?void 0:null;Jt=Object.keys(Ht).reduce(function(Gt,gi){var kt=Ht[gi],oi=ci.validate(kt,$t);return oi.isValid?Gt[gi]=kt:(Ii=!0,Gt[gi]=oi.sanitized),Gt},{})}return Ii?Jt:Ht}catch(Gt){return null}},Ye.prototype._trim=function(Ht){return String.prototype.trim?Ht.trim():Ht.replace(/(^\s*)|(\s*$)/g,"")},Ye}();const Ge=pe;var yt,Ot,it=N(35575),mt=(N(8314),N(63290)),Tt=function(Ye){yt||function(Ye){if("WebkitTransition"in Ye.style)yt="webkitTransitionEnd",Ot="webkitAnimationEnd";else{if(!("transition"in Ye.style))throw new Error("Your browser is not supported!");yt="transitionend",Ot="animationend"}}(Ye)},_i=function(Ye,Ht){return void 0===Ht&&(Ht=Ye+"-active"),function($t){Tt($t);var ci=!1,Ii=function(Jt){ci||(ci=!0,$t.removeEventListener(yt,Ii),$t.removeEventListener(Ot,Ii),$t.classList.remove(Ye),$t.classList.remove(Ht))};$t.classList.add(Ye),$t.addEventListener(yt,Ii),$t.addEventListener(Ot,Ii),requestAnimationFrame(function(){$t.classList.add(Ht)})}},mi=function(Ye,Ht){return void 0===Ht&&(Ht=Ye+"-active"),function($t,ci){Tt($t);var Ii=!1,Jt=function(Ct){Ii||(Ii=!0,$t.removeEventListener(yt,Jt),$t.removeEventListener(Ot,Jt),ci())};$t.classList.add(Ye),$t.addEventListener(yt,Jt),$t.addEventListener(Ot,Jt),requestAnimationFrame(function(){$t.classList.add(Ht)})}};function Ui(Ye){const Ht=it.Z.acquire();for(let ci=0;ci<arguments.length;ci++){const Ii=arguments[ci],Jt=typeof Ii;if("string"===Jt)Ht.push(Ii);else if(Array.isArray(Ii))Ht.push.apply(Ht,Ii);else if("object"===Jt)for(const Ct in Ii)Ii[Ct]&&Ht.push(Ct)}const $t=Ht.join(" ");return it.Z.release(Ht),$t}function Ft(Ye){const Ht=null==Ye?void 0:Ye.closest("[dir]");return null!==Ht&&Ht instanceof HTMLElement&&"rtl"===Ht.dir||"rtl"===document.dir}function ui(Ye){this[Ye.getAttribute("data-node-ref")]=null}function vi(Ye){this[Ye.getAttribute("data-node-ref")]=Ye}function Di(Ye,Ht){return("enter"===Ye?_i:mi)(Ht)}mt.Z.getLogger("esri.widgets.support.widgetUtils");const Vi=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"].reduce((Ye,Ht)=>(Ye[Ht]=[],Ye),{}),Zi=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],nn=new Ge({whiteList:Vi,onTagAttr:(Ye,Ht,$t)=>{const ci=`${Ht}="${$t}"`;if(Zi.includes(Ht))return ci},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function bn(Ye){return"Enter"===Ye||" "===Ye}function Li(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-theme-name").replace(/\s|'|"/g,"")}function si(){return Li().startsWith("dark")}function $i(){return"calcite-theme-"+(si()?"dark":"light")}},8073:(hi,lt,N)=>{"use strict";N.d(lt,{oh:()=>fb,JA:()=>mb,YY:()=>en});var z=N(15861);let Ce,Ie,ye,ce=!1,be=!1,xe=!1,de=!1,Ae=null,le=!1;const oe="undefined"!=typeof window?window:{},fe=oe.document||{head:{}},ge={$flags$:0,$resourcesUrl$:"",jmp:H=>H(),raf:H=>requestAnimationFrame(H),ael:(H,Q,ee,ae)=>H.addEventListener(Q,ee,ae),rel:(H,Q,ee,ae)=>H.removeEventListener(Q,ee,ae),ce:(H,Q)=>new CustomEvent(H,Q)},Ve=(()=>{let H=!1;try{fe.addEventListener("e",null,Object.defineProperty({},"passive",{get(){H=!0}}))}catch(Q){}return H})(),tt=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replace}catch(H){}return!1})(),ve=(H,Q,ee,ae)=>{ee&&ee.map(([Pe,Xe,ct])=>{const Et=qe(H,Pe),Nt=Oe(Q,ct),Yt=He(Pe);ge.ael(Et,Xe,Nt,Yt),(Q.$rmListeners$=Q.$rmListeners$||[]).push(()=>ge.rel(Et,Xe,Nt,Yt))})},Oe=(H,Q)=>ee=>{try{H.$hostElement$[Q](ee)}catch(ae){Xn(ae)}},qe=(H,Q)=>4&Q?fe:8&Q?oe:16&Q?fe.body:H,He=H=>Ve?{passive:0!=(1&H),capture:0!=(2&H)}:0!=(2&H),Ze="http://www.w3.org/1999/xlink",Lt=new WeakMap,dt=(H,Q,ee,ae)=>{let Pe=Rt(Q,ee),Xe=En.get(Pe);if(H=11===H.nodeType?H:fe,Xe)if("string"==typeof Xe){let Et,ct=Lt.get(H=H.head||H);ct||Lt.set(H,ct=new Set),ct.has(Pe)||(Et=fe.createElement("style"),Et.innerHTML=Xe,H.insertBefore(Et,H.querySelector("link")),ct&&ct.add(Pe))}else!H.adoptedStyleSheets.includes(Xe)&&(H.adoptedStyleSheets=[...H.adoptedStyleSheets,Xe]);return Pe},Rt=(H,Q)=>"sc-"+(Q&&32&H.$flags$?H.$tagName$+"-"+Q:H.$tagName$),Kt={},pi=H=>"object"==(H=typeof H)||"function"===H,We=(H,Q,...ee)=>{let ae=null,Pe=null,Xe=null,ct=!1,Et=!1,Nt=[];const Yt=qi=>{for(let Ln=0;Ln<qi.length;Ln++)ae=qi[Ln],Array.isArray(ae)?Yt(ae):null!=ae&&"boolean"!=typeof ae&&((ct="function"!=typeof H&&!pi(ae))&&(ae=String(ae)),ct&&Et?Nt[Nt.length-1].$text$+=ae:Nt.push(ct?fi(null,ae):ae),Et=ct)};if(Yt(ee),Q&&(Q.key&&(Pe=Q.key),Q.name&&(Xe=Q.name),true)){const qi=Q.className||Q.class;qi&&(Q.class="object"!=typeof qi?qi:Object.keys(qi).filter(Ln=>qi[Ln]).join(" "))}if("function"==typeof H)return H(null===Q?{}:Q,Nt,yn);const Ri=fi(H,null);return Ri.$attrs$=Q,Nt.length>0&&(Ri.$children$=Nt),Ri.$key$=Pe,Ri.$name$=Xe,Ri},fi=(H,Q)=>{const ee={$flags$:0,$tag$:H,$text$:Q,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null};return ee},Mi={},Ki=H=>H&&H.$tag$===Mi,yn={forEach:(H,Q)=>H.map(Un).forEach(Q),map:(H,Q)=>H.map(Un).map(Q).map(Vn)},Un=H=>({vattrs:H.$attrs$,vchildren:H.$children$,vkey:H.$key$,vname:H.$name$,vtag:H.$tag$,vtext:H.$text$}),Vn=H=>{if("function"==typeof H.vtag){const ee=Object.assign({},H.vattrs);return H.vkey&&(ee.key=H.vkey),H.vname&&(ee.name=H.vname),We(H.vtag,ee,...H.vchildren||[])}const Q=fi(H.vtag,H.vtext);return Q.$attrs$=H.vattrs,Q.$children$=H.vchildren,Q.$key$=H.vkey,Q.$name$=H.vname,Q},li=(H,Q,ee,ae,Pe,Xe)=>{if(ee!==ae){let ct=mn(H,Q),Et=Q.toLowerCase();if("class"===Q){const Nt=H.classList,Yt=Be(ee),Ri=Be(ae);Nt.remove(...Yt.filter(qi=>qi&&!Ri.includes(qi))),Nt.add(...Ri.filter(qi=>qi&&!Yt.includes(qi)))}else if("style"===Q){for(const Nt in ee)(!ae||null==ae[Nt])&&(Nt.includes("-")?H.style.removeProperty(Nt):H.style[Nt]="");for(const Nt in ae)(!ee||ae[Nt]!==ee[Nt])&&(Nt.includes("-")?H.style.setProperty(Nt,ae[Nt]):H.style[Nt]=ae[Nt])}else if("key"!==Q)if("ref"===Q)ae&&ae(H);else if(H.__lookupSetter__(Q)||"o"!==Q[0]||"n"!==Q[1]){{const Nt=pi(ae);if((ct||Nt&&null!==ae)&&!Pe)try{if(H.tagName.includes("-"))H[Q]=ae;else{let Ri=null==ae?"":ae;"list"===Q?ct=!1:(null==ee||H[Q]!=Ri)&&(H[Q]=Ri)}}catch(Ri){}let Yt=!1;Et!==(Et=Et.replace(/^xlink\:?/,""))&&(Q=Et,Yt=!0),null==ae||!1===ae?(!1!==ae||""===H.getAttribute(Q))&&(Yt?H.removeAttributeNS(Ze,Q):H.removeAttribute(Q)):(!ct||4&Xe||Pe)&&!Nt&&(ae=!0===ae?"":ae,Yt?H.setAttributeNS(Ze,Q,ae):H.setAttribute(Q,ae))}}else Q="-"===Q[2]?Q.slice(3):mn(oe,Et)?Et.slice(2):Et[2]+Q.slice(3),ee&&ge.rel(H,Q,ee,!1),ae&&ge.ael(H,Q,ae,!1)}},B=/\s/,Be=H=>H?H.split(B):[],$=(H,Q,ee,ae)=>{const Pe=11===Q.$elm$.nodeType&&Q.$elm$.host?Q.$elm$.host:Q.$elm$,Xe=H&&H.$attrs$||Kt,ct=Q.$attrs$||Kt;for(ae in Xe)ae in ct||li(Pe,ae,Xe[ae],void 0,ee,Q.$flags$);for(ae in ct)li(Pe,ae,Xe[ae],ct[ae],ee,Q.$flags$)},k=(H,Q,ee,ae)=>{let ct,Et,Nt,Pe=Q.$children$[ee],Xe=0;if(!ce&&(xe=!0,"slot"===Pe.$tag$&&(Ce&&ae.classList.add(Ce+"-s"),Pe.$flags$|=Pe.$children$?2:1)),null!==Pe.$text$)ct=Pe.$elm$=fe.createTextNode(Pe.$text$);else if(1&Pe.$flags$)ct=Pe.$elm$=fe.createTextNode("");else{if(!de&&(de="svg"===Pe.$tag$),ct=Pe.$elm$=fe.createElementNS(de?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Pe.$flags$?"slot-fb":Pe.$tag$),de&&"foreignObject"===Pe.$tag$&&(de=!1),$(null,Pe,de),(H=>null!=H)(Ce)&&ct["s-si"]!==Ce&&ct.classList.add(ct["s-si"]=Ce),Pe.$children$)for(Xe=0;Xe<Pe.$children$.length;++Xe)Et=k(H,Pe,Xe,ct),Et&&ct.appendChild(Et);"svg"===Pe.$tag$?de=!1:"foreignObject"===ct.tagName&&(de=!0)}return ct["s-hn"]=ye,3&Pe.$flags$&&(ct["s-sr"]=!0,ct["s-cr"]=Ie,ct["s-sn"]=Pe.$name$||"",Nt=H&&H.$children$&&H.$children$[ee],Nt&&Nt.$tag$===Pe.$tag$&&H.$elm$&&T(H.$elm$,!1)),ct},T=(H,Q)=>{ge.$flags$|=1;const ee=H.childNodes;for(let ae=ee.length-1;ae>=0;ae--){const Pe=ee[ae];Pe["s-hn"]!==ye&&Pe["s-ol"]&&(V(Pe).insertBefore(Pe,F(Pe)),Pe["s-ol"].remove(),Pe["s-ol"]=void 0,xe=!0),Q&&T(Pe,Q)}ge.$flags$&=-2},E=(H,Q,ee,ae,Pe,Xe)=>{let Et,ct=H["s-cr"]&&H["s-cr"].parentNode||H;for(ct.shadowRoot&&ct.tagName===ye&&(ct=ct.shadowRoot);Pe<=Xe;++Pe)ae[Pe]&&(Et=k(null,ee,Pe,H),Et&&(ae[Pe].$elm$=Et,ct.insertBefore(Et,F(Q))))},D=(H,Q,ee,ae,Pe)=>{for(;Q<=ee;++Q)(ae=H[Q])&&(Pe=ae.$elm$,ne(ae),be=!0,Pe["s-ol"]?Pe["s-ol"].remove():T(Pe,!0),Pe.remove())},L=(H,Q)=>H.$tag$===Q.$tag$&&("slot"===H.$tag$?H.$name$===Q.$name$:H.$key$===Q.$key$),F=H=>H&&H["s-ol"]||H,V=H=>(H["s-ol"]?H["s-ol"]:H).parentNode,W=(H,Q)=>{const ee=Q.$elm$=H.$elm$,ae=H.$children$,Pe=Q.$children$,Xe=Q.$tag$,ct=Q.$text$;let Et;null!==ct?(Et=ee["s-cr"])?Et.parentNode.textContent=ct:H.$text$!==ct&&(ee.data=ct):(de="svg"===Xe||"foreignObject"!==Xe&&de,"slot"===Xe||$(H,Q,de),null!==ae&&null!==Pe?((H,Q,ee,ae)=>{let Kn,ir,Pe=0,Xe=0,ct=0,Et=0,Nt=Q.length-1,Yt=Q[0],Ri=Q[Nt],qi=ae.length-1,Ln=ae[0],Hn=ae[qi];for(;Pe<=Nt&&Xe<=qi;)if(null==Yt)Yt=Q[++Pe];else if(null==Ri)Ri=Q[--Nt];else if(null==Ln)Ln=ae[++Xe];else if(null==Hn)Hn=ae[--qi];else if(L(Yt,Ln))W(Yt,Ln),Yt=Q[++Pe],Ln=ae[++Xe];else if(L(Ri,Hn))W(Ri,Hn),Ri=Q[--Nt],Hn=ae[--qi];else if(L(Yt,Hn))("slot"===Yt.$tag$||"slot"===Hn.$tag$)&&T(Yt.$elm$.parentNode,!1),W(Yt,Hn),H.insertBefore(Yt.$elm$,Ri.$elm$.nextSibling),Yt=Q[++Pe],Hn=ae[--qi];else if(L(Ri,Ln))("slot"===Yt.$tag$||"slot"===Hn.$tag$)&&T(Ri.$elm$.parentNode,!1),W(Ri,Ln),H.insertBefore(Ri.$elm$,Yt.$elm$),Ri=Q[--Nt],Ln=ae[++Xe];else{for(ct=-1,Et=Pe;Et<=Nt;++Et)if(Q[Et]&&null!==Q[Et].$key$&&Q[Et].$key$===Ln.$key$){ct=Et;break}ct>=0?(ir=Q[ct],ir.$tag$!==Ln.$tag$?Kn=k(Q&&Q[Xe],ee,ct,H):(W(ir,Ln),Q[ct]=void 0,Kn=ir.$elm$),Ln=ae[++Xe]):(Kn=k(Q&&Q[Xe],ee,Xe,H),Ln=ae[++Xe]),Kn&&V(Yt.$elm$).insertBefore(Kn,F(Yt.$elm$))}Pe>Nt?E(H,null==ae[qi+1]?null:ae[qi+1].$elm$,ee,ae,Xe,qi):Xe>qi&&D(Q,Pe,Nt)})(ee,ae,Q,Pe):null!==Pe?(null!==H.$text$&&(ee.textContent=""),E(ee,null,Q,Pe,0,Pe.length-1)):null!==ae&&D(ae,0,ae.length-1),de&&"svg"===Xe&&(de=!1))},X=H=>{let ee,ae,Pe,Xe,ct,Et,Q=H.childNodes;for(ae=0,Pe=Q.length;ae<Pe;ae++)if(ee=Q[ae],1===ee.nodeType){if(ee["s-sr"])for(ct=ee["s-sn"],ee.hidden=!1,Xe=0;Xe<Pe;Xe++)if(Et=Q[Xe].nodeType,Q[Xe]["s-hn"]!==ee["s-hn"]||""!==ct){if(1===Et&&ct===Q[Xe].getAttribute("slot")){ee.hidden=!0;break}}else if(1===Et||3===Et&&""!==Q[Xe].textContent.trim()){ee.hidden=!0;break}X(ee)}},ie=[],Y=H=>{let Q,ee,ae,Pe,Xe,ct,Et=0,Nt=H.childNodes,Yt=Nt.length;for(;Et<Yt;Et++){if(Q=Nt[Et],Q["s-sr"]&&(ee=Q["s-cr"])&&ee.parentNode)for(ae=ee.parentNode.childNodes,Pe=Q["s-sn"],ct=ae.length-1;ct>=0;ct--)ee=ae[ct],!ee["s-cn"]&&!ee["s-nr"]&&ee["s-hn"]!==Q["s-hn"]&&(te(ee,Pe)?(Xe=ie.find(Ri=>Ri.$nodeToRelocate$===ee),be=!0,ee["s-sn"]=ee["s-sn"]||Pe,Xe?Xe.$slotRefNode$=Q:ie.push({$slotRefNode$:Q,$nodeToRelocate$:ee}),ee["s-sr"]&&ie.map(Ri=>{te(Ri.$nodeToRelocate$,ee["s-sn"])&&(Xe=ie.find(qi=>qi.$nodeToRelocate$===ee),Xe&&!Ri.$slotRefNode$&&(Ri.$slotRefNode$=Xe.$slotRefNode$))})):ie.some(Ri=>Ri.$nodeToRelocate$===ee)||ie.push({$nodeToRelocate$:ee}));1===Q.nodeType&&Y(Q)}},te=(H,Q)=>1===H.nodeType?null===H.getAttribute("slot")&&""===Q||H.getAttribute("slot")===Q:H["s-sn"]===Q||""===Q,ne=H=>{H.$attrs$&&H.$attrs$.ref&&H.$attrs$.ref(null),H.$children$&&H.$children$.map(ne)},we=(H,Q)=>{const ee=H.$hostElement$,ae=H.$cmpMeta$,Pe=H.$vnode$||fi(null,null),Xe=Ki(Q)?Q:We(null,null,Q);if(ye=ee.tagName,ae.$attrsToReflect$&&(Xe.$attrs$=Xe.$attrs$||{},ae.$attrsToReflect$.map(([ct,Et])=>Xe.$attrs$[Et]=ee[ct])),Xe.$tag$=null,Xe.$flags$|=4,H.$vnode$=Xe,Xe.$elm$=Pe.$elm$=ee.shadowRoot||ee,Ce=ee["s-sc"],Ie=ee["s-cr"],ce=0!=(1&ae.$flags$),be=!1,W(Pe,Xe),ge.$flags$|=1,xe){Y(Xe.$elm$);let ct,Et,Nt,Yt,Ri,qi,Ln=0;for(;Ln<ie.length;Ln++)ct=ie[Ln],Et=ct.$nodeToRelocate$,Et["s-ol"]||(Nt=fe.createTextNode(""),Nt["s-nr"]=Et,Et.parentNode.insertBefore(Et["s-ol"]=Nt,Et));for(Ln=0;Ln<ie.length;Ln++)if(ct=ie[Ln],Et=ct.$nodeToRelocate$,ct.$slotRefNode$){for(Yt=ct.$slotRefNode$.parentNode,Ri=ct.$slotRefNode$.nextSibling,Nt=Et["s-ol"];Nt=Nt.previousSibling;)if(qi=Nt["s-nr"],qi&&qi["s-sn"]===Et["s-sn"]&&Yt===qi.parentNode&&(qi=qi.nextSibling,!qi||!qi["s-nr"])){Ri=qi;break}(!Ri&&Yt!==Et.parentNode||Et.nextSibling!==Ri)&&Et!==Ri&&(!Et["s-hn"]&&Et["s-ol"]&&(Et["s-hn"]=Et["s-ol"].parentNode.nodeName),Yt.insertBefore(Et,Ri))}else 1===Et.nodeType&&(Et.hidden=!0)}be&&X(Xe.$elm$),ge.$flags$&=-2,ie.length=0},pe=(H,Q,ee)=>{const ae=H;return{emit:Pe=>Ge(ae,Q,{bubbles:!!(4&ee),composed:!!(2&ee),cancelable:!!(1&ee),detail:Pe})}},Ge=(H,Q,ee)=>{const ae=ge.ce(Q,ee);return H.dispatchEvent(ae),ae},ht=(H,Q)=>{H.$flags$|=16;const ee=()=>mt(H,Q);return ro(ee)},mt=(H,Q)=>{const ee=H.$hostElement$,ae=()=>{},Pe=ee;let Xe;return Q?(ti(ee,"componentWillLoad"),Xe=Ui(Pe,"componentWillLoad")):(ti(ee,"componentWillUpdate"),Xe=Ui(Pe,"componentWillUpdate")),ti(ee,"componentWillRender"),Xe=Ft(Xe,()=>Ui(Pe,"componentWillRender")),ae(),Ft(Xe,()=>yt(H,Pe,Q))},yt=function(){var H=(0,z.Z)(function*(Q,ee,ae){const Pe=Q.$hostElement$,Xe=()=>{};ae&&(H=>{const Q=H.$cmpMeta$,ee=H.$hostElement$,ae=Q.$flags$,Pe=()=>{},Xe=dt(ee.shadowRoot?ee.shadowRoot:ee.getRootNode(),Q,H.$modeName$);10&ae&&(ee["s-sc"]=Xe,ee.classList.add(Xe+"-h"),2&ae&&ee.classList.add(Xe+"-s")),Pe()})(Q);const Et=()=>{};Ot(Q,ee,Pe),Et(),Xe(),Tt(Q)});return function(ee,ae,Pe){return H.apply(this,arguments)}}(),Ot=(H,Q,ee)=>{try{Ae=Q,Q=Q.render&&Q.render(),H.$flags$&=-17,H.$flags$|=2,we(H,Q)}catch(Et){Xn(Et,H.$hostElement$)}return Ae=null,null},Tt=H=>{const ee=H.$hostElement$,ae=()=>{},Pe=ee;Ui(Pe,"componentDidRender"),ti(ee,"componentDidRender"),64&H.$flags$?(Ui(Pe,"componentDidUpdate"),ti(ee,"componentDidUpdate"),ae()):(H.$flags$|=64,Ui(Pe,"componentDidLoad"),ti(ee,"componentDidLoad"),ae())},Ui=(H,Q,ee)=>{if(H&&H[Q])try{return H[Q](ee)}catch(ae){Xn(ae)}},Ft=(H,Q)=>H&&H.then?H.then(Q):Q(),ti=(H,Q)=>{},bn=(H,Q,ee)=>{if(Q.$members$){H.watchers&&(Q.$watchers$=H.watchers);const ae=Object.entries(Q.$members$),Pe=H.prototype;ae.map(([Xe,[ct]])=>{(31&ct||32&ct)&&Object.defineProperty(Pe,Xe,{get(){return((H,Q)=>xi(this).$instanceValues$.get(Q))(0,Xe)},set(Et){((H,Q,ee,ae)=>{const Pe=xi(H),Xe=H,ct=Pe.$instanceValues$.get(Q),Et=Pe.$flags$,Nt=Xe;if(ee=((H,Q)=>null==H||pi(H)?H:4&Q?"false"!==H&&(""===H||!!H):2&Q?parseFloat(H):1&Q?String(H):H)(ee,ae.$members$[Q][0]),ee!==ct&&(Pe.$instanceValues$.set(Q,ee),1)){if(ae.$watchers$&&128&Et){const Yt=ae.$watchers$[Q];Yt&&Yt.map(Ri=>{try{Nt[Ri](ee,ct,Q)}catch(qi){Xn(qi,Xe)}})}if(2==(18&Et)){if(Nt.componentShouldUpdate&&!1===Nt.componentShouldUpdate(ee,ct,Q))return;ht(Pe,!1)}}})(this,Xe,Et,Q)},configurable:!0,enumerable:!0})});{const Xe=new Map;Pe.attributeChangedCallback=function(ct,Et,Nt){ge.jmp(()=>{const Yt=Xe.get(ct);this[Yt]=(null!==Nt||"boolean"!=typeof this[Yt])&&Nt})},H.observedAttributes=ae.filter(([ct,Et])=>15&Et[0]).map(([ct,Et])=>{const Nt=Et[1]||ct;return Xe.set(Nt,ct),512&Et[0]&&Q.$attrsToReflect$.push([ct,Nt]),Nt})}}return H},Li=function(){var H=(0,z.Z)(function*(Q,ee,ae,Pe,Xe){if(0==(32&ee.$flags$)&&(Xe=Q.constructor,ee.$flags$|=160,Xe.style)){let Nt=Xe.style;"string"!=typeof Nt&&(Nt=Nt[ee.$modeName$=(H=>bi.map(Q=>Q(H)).find(Q=>!!Q))(Q)]);const Yt=Rt(ae,ee.$modeName$);if(!En.has(Yt)){const Ri=()=>{};((H,Q,ee)=>{let ae=En.get(H);tt&&ee?(ae=ae||new CSSStyleSheet,ae.replace(Q)):ae=Q,En.set(H,ae)})(Yt,Nt,!!(1&ae.$flags$)),Ri()}}const Et=()=>ht(ee,!0);Et()});return function(ee,ae,Pe,Xe,ct){return H.apply(this,arguments)}}(),si=H=>{},Ye=H=>{const Q=H["s-cr"]=fe.createComment("");Q["s-cn"]=!0,H.insertBefore(Q,H.firstChild)},ci=(H,Q)=>{const ee={$flags$:Q[0],$tagName$:Q[1]};ee.$members$=Q[2],ee.$listeners$=Q[3],ee.$watchers$=H.$watchers$,ee.$attrsToReflect$=[];const ae=H.prototype.connectedCallback,Pe=H.prototype.disconnectedCallback;return Object.assign(H.prototype,{__registerHost(){Ji(this,ee)},connectedCallback(){(H=>{if(0==(1&ge.$flags$)){const Q=xi(H),ee=Q.$cmpMeta$,ae=()=>{};if(1&Q.$flags$)ve(H,Q,ee.$listeners$),si(Q.$lazyInstance$);else{let Pe;Q.$flags$|=1,!Pe&&12&ee.$flags$&&Ye(H),Li(H,Q,ee)}ae()}})(this),ae&&ae.call(this)},disconnectedCallback(){(H=>{if(0==(1&ge.$flags$)){const Q=xi(H);Q.$rmListeners$&&(Q.$rmListeners$.map(ae=>ae()),Q.$rmListeners$=void 0)}})(this),Pe&&Pe.call(this)}}),H.is=ee.$tagName$,bn(H,ee)},Jt=H=>{H.attachShadow({mode:"open"})},yi=H=>{const Q=new URL(H,ge.$resourcesUrl$);return Q.origin!==oe.location.origin?Q.href:Q.pathname},en=H=>ge.$resourcesUrl$=H,Hi=new WeakMap,xi=H=>Hi.get(H),Ji=(H,Q)=>{const ee={$flags$:0,$hostElement$:H,$cmpMeta$:Q,$instanceValues$:new Map};return ve(H,ee,Q.$listeners$),Hi.set(H,ee)},mn=(H,Q)=>Q in H,Xn=(H,Q)=>(0,console.error)(H,Q),En=new Map,bi=[],Qi=[],ki=[],cr=(H,Q)=>ee=>{H.push(ee),le||(le=!0,Q&&4&ge.$flags$?Dr(pr):ge.raf(pr))},Dn=H=>{for(let Q=0;Q<H.length;Q++)try{H[Q](performance.now())}catch(ee){Xn(ee)}H.length=0},pr=()=>{Dn(Qi),Dn(ki),(le=Qi.length>0)&&ge.raf(pr)},Dr=H=>Promise.resolve(void 0).then(H),ro=cr(ki,!0);HTMLElement;function ur(H){const ae=ya(H,"[dir]");return ae?ae.getAttribute("dir"):"ltr"}function Fc(H){return H.getRootNode()}function $l(H){return H.host||null}function ya(H,Q){return function ee(ae){return ae?ae.closest(Q)||ee($l(Fc(ae))):null}(H)}function ls(H,Q,ee){const ae=`[slot="${Q}"]`;return(null==ee?void 0:ee.all)?function(H,Q,ee){let ae=Array.from(H.querySelectorAll(Q));ae=ee&&!1===ee.direct?ae:ae.filter(Xe=>Xe.parentElement===H);const Pe=null==ee?void 0:ee.selector;return Pe?ae.map(Xe=>Array.from(Xe.querySelectorAll(Pe))).reduce((Xe,ct)=>[...Xe,...ct],[]).filter(Xe=>!!Xe):ae}(H,ae,ee):function(H,Q,ee){let ae=H.querySelector(Q);ae=ee&&!1===ee.direct||(null==ae?void 0:ae.parentElement)===H?ae:null;const Pe=null==ee?void 0:ee.selector;return Pe?ae.querySelector(Pe):ae}(H,ae,ee)}function rl(H,Q,ee){return"string"==typeof Q&&""!==Q?Q:""===Q?H[ee]:void 0}HTMLElement;HTMLElement;HTMLElement,HTMLElement;HTMLElement,HTMLElement;var wc=(()=>{return(H=wc||(wc={})).green="checkCircle",H.yellow="exclamationMarkTriangle",H.red="exclamationMarkTriangle",H.blue="lightbulb",wc;var H})();HTMLElement;const Hp=/^#[0-9A-F]{3}$/i,ph=/^#[0-9A-F]{6}$/i;function ja(H){return Cc(H)||function(H){return H&&7===H.length&&ph.test(H)}(H)}function Cc(H){return H&&4===H.length&&Hp.test(H)}function fs(H){if(!ja(H))return null;if(3===(H=H.replace("#","")).length){const[Pe,Xe,ct]=H.split("");return{r:parseInt(`${Pe}${Pe}`,16),g:parseInt(`${Xe}${Xe}`,16),b:parseInt(`${ct}${ct}`,16)}}return{r:parseInt(H.slice(0,2),16),g:parseInt(H.slice(2,4),16),b:parseInt(H.slice(4,6),16)}}HTMLElement;HTMLElement,HTMLElement,HTMLElement,HTMLElement,HTMLElement;function Kf(H,Q,ee){return H(ee={path:Q,exports:{},require:function(ae,Pe){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},ee.exports),ee.exports}HTMLElement;var jc={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},p1=function(Q){return!(!Q||"string"==typeof Q)&&(Q instanceof Array||Array.isArray(Q)||Q.length>=0&&(Q.splice instanceof Function||Object.getOwnPropertyDescriptor(Q,Q.length-1)&&"String"!==Q.constructor.name))},du=Kf(function(H){var Q=Array.prototype.concat,ee=Array.prototype.slice,ae=H.exports=function(Xe){for(var ct=[],Et=0,Nt=Xe.length;Et<Nt;Et++){var Yt=Xe[Et];p1(Yt)?ct=Q.call(ct,ee.call(Yt)):ct.push(Yt)}return ct};ae.wrap=function(Pe){return function(){return Pe(ae(arguments))}}}),ss=Kf(function(H){var Q={};for(var ee in jc)jc.hasOwnProperty(ee)&&(Q[jc[ee]]=ee);var ae=H.exports={to:{},get:{}};function Pe(ct,Et,Nt){return Math.min(Math.max(Et,ct),Nt)}function Xe(ct){var Et=ct.toString(16).toUpperCase();return Et.length<2?"0"+Et:Et}ae.get=function(ct){var Nt,Yt;switch(ct.substring(0,3).toLowerCase()){case"hsl":Nt=ae.get.hsl(ct),Yt="hsl";break;case"hwb":Nt=ae.get.hwb(ct),Yt="hwb";break;default:Nt=ae.get.rgb(ct),Yt="rgb"}return Nt?{model:Yt,value:Nt}:null},ae.get.rgb=function(ct){if(!ct)return null;var Hn,Kn,ir,Ln=[0,0,0,1];if(Hn=ct.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(ir=Hn[2],Hn=Hn[1],Kn=0;Kn<3;Kn++){var ar=2*Kn;Ln[Kn]=parseInt(Hn.slice(ar,ar+2),16)}ir&&(Ln[3]=parseInt(ir,16)/255)}else if(Hn=ct.match(/^#([a-f0-9]{3,4})$/i)){for(ir=(Hn=Hn[1])[3],Kn=0;Kn<3;Kn++)Ln[Kn]=parseInt(Hn[Kn]+Hn[Kn],16);ir&&(Ln[3]=parseInt(ir+ir,16)/255)}else if(Hn=ct.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(Kn=0;Kn<3;Kn++)Ln[Kn]=parseInt(Hn[Kn+1],0);Hn[4]&&(Ln[3]=parseFloat(Hn[4]))}else{if(!(Hn=ct.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)))return(Hn=ct.match(/(\D+)/))?"transparent"===Hn[1]?[0,0,0,0]:(Ln=jc[Hn[1]])?(Ln[3]=1,Ln):null:null;for(Kn=0;Kn<3;Kn++)Ln[Kn]=Math.round(2.55*parseFloat(Hn[Kn+1]));Hn[4]&&(Ln[3]=parseFloat(Hn[4]))}for(Kn=0;Kn<3;Kn++)Ln[Kn]=Pe(Ln[Kn],0,255);return Ln[3]=Pe(Ln[3],0,1),Ln},ae.get.hsl=function(ct){if(!ct)return null;var Nt=ct.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?[\d\.]+)\s*)?\)$/);if(Nt){var Yt=parseFloat(Nt[4]);return[(parseFloat(Nt[1])+360)%360,Pe(parseFloat(Nt[2]),0,100),Pe(parseFloat(Nt[3]),0,100),Pe(isNaN(Yt)?1:Yt,0,1)]}return null},ae.get.hwb=function(ct){if(!ct)return null;var Nt=ct.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(Nt){var Yt=parseFloat(Nt[4]);return[(parseFloat(Nt[1])%360+360)%360,Pe(parseFloat(Nt[2]),0,100),Pe(parseFloat(Nt[3]),0,100),Pe(isNaN(Yt)?1:Yt,0,1)]}return null},ae.to.hex=function(){var ct=du(arguments);return"#"+Xe(ct[0])+Xe(ct[1])+Xe(ct[2])+(ct[3]<1?Xe(Math.round(255*ct[3])):"")},ae.to.rgb=function(){var ct=du(arguments);return ct.length<4||1===ct[3]?"rgb("+Math.round(ct[0])+", "+Math.round(ct[1])+", "+Math.round(ct[2])+")":"rgba("+Math.round(ct[0])+", "+Math.round(ct[1])+", "+Math.round(ct[2])+", "+ct[3]+")"},ae.to.rgb.percent=function(){var ct=du(arguments),Et=Math.round(ct[0]/255*100),Nt=Math.round(ct[1]/255*100),Yt=Math.round(ct[2]/255*100);return ct.length<4||1===ct[3]?"rgb("+Et+"%, "+Nt+"%, "+Yt+"%)":"rgba("+Et+"%, "+Nt+"%, "+Yt+"%, "+ct[3]+")"},ae.to.hsl=function(){var ct=du(arguments);return ct.length<4||1===ct[3]?"hsl("+ct[0]+", "+ct[1]+"%, "+ct[2]+"%)":"hsla("+ct[0]+", "+ct[1]+"%, "+ct[2]+"%, "+ct[3]+")"},ae.to.hwb=function(){var ct=du(arguments),Et="";return ct.length>=4&&1!==ct[3]&&(Et=", "+ct[3]),"hwb("+ct[0]+", "+ct[1]+"%, "+ct[2]+"%"+Et+")"},ae.to.keyword=function(ct){return Q[ct.slice(0,3)]}}),Qf={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};const f1={};for(const H of Object.keys(Qf))f1[Qf[H]]=H;const Vr={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var ec=Vr;for(const H of Object.keys(Vr)){if(!("channels"in Vr[H]))throw new Error("missing channels property: "+H);if(!("labels"in Vr[H]))throw new Error("missing channel labels property: "+H);if(Vr[H].labels.length!==Vr[H].channels)throw new Error("channel and label counts mismatch: "+H);const{channels:Q,labels:ee}=Vr[H];delete Vr[H].channels,delete Vr[H].labels,Object.defineProperty(Vr[H],"channels",{value:Q}),Object.defineProperty(Vr[H],"labels",{value:ee})}function Kp(H,Q){return(H[0]-Q[0])**2+(H[1]-Q[1])**2+(H[2]-Q[2])**2}function or(H,Q){return function(ee){return Q(H(ee))}}function Us(H,Q){const ee=[Q[H].parent,H];let ae=ec[Q[H].parent][H],Pe=Q[H].parent;for(;Q[Pe].parent;)ee.unshift(Q[Pe].parent),ae=or(ec[Q[Pe].parent][Pe],ae),Pe=Q[Pe].parent;return ae.conversion=ee,ae}Vr.rgb.hsl=function(H){const Q=H[0]/255,ee=H[1]/255,ae=H[2]/255,Pe=Math.min(Q,ee,ae),Xe=Math.max(Q,ee,ae),ct=Xe-Pe;let Et,Nt;Xe===Pe?Et=0:Q===Xe?Et=(ee-ae)/ct:ee===Xe?Et=2+(ae-Q)/ct:ae===Xe&&(Et=4+(Q-ee)/ct),Et=Math.min(60*Et,360),Et<0&&(Et+=360);const Yt=(Pe+Xe)/2;return Nt=Xe===Pe?0:Yt<=.5?ct/(Xe+Pe):ct/(2-Xe-Pe),[Et,100*Nt,100*Yt]},Vr.rgb.hsv=function(H){let Q,ee,ae,Pe,Xe;const ct=H[0]/255,Et=H[1]/255,Nt=H[2]/255,Yt=Math.max(ct,Et,Nt),Ri=Yt-Math.min(ct,Et,Nt),qi=function(Ln){return(Yt-Ln)/6/Ri+.5};return 0===Ri?(Pe=0,Xe=0):(Xe=Ri/Yt,Q=qi(ct),ee=qi(Et),ae=qi(Nt),ct===Yt?Pe=ae-ee:Et===Yt?Pe=1/3+Q-ae:Nt===Yt&&(Pe=2/3+ee-Q),Pe<0?Pe+=1:Pe>1&&(Pe-=1)),[360*Pe,100*Xe,100*Yt]},Vr.rgb.hwb=function(H){const Q=H[0],ee=H[1];let ae=H[2];const Pe=Vr.rgb.hsl(H)[0],Xe=1/255*Math.min(Q,Math.min(ee,ae));return ae=1-1/255*Math.max(Q,Math.max(ee,ae)),[Pe,100*Xe,100*ae]},Vr.rgb.cmyk=function(H){const Q=H[0]/255,ee=H[1]/255,ae=H[2]/255,Pe=Math.min(1-Q,1-ee,1-ae);return[100*((1-Q-Pe)/(1-Pe)||0),100*((1-ee-Pe)/(1-Pe)||0),100*((1-ae-Pe)/(1-Pe)||0),100*Pe]},Vr.rgb.keyword=function(H){const Q=f1[H];if(Q)return Q;let ae,ee=1/0;for(const Pe of Object.keys(Qf)){const ct=Kp(H,Qf[Pe]);ct<ee&&(ee=ct,ae=Pe)}return ae},Vr.keyword.rgb=function(H){return Qf[H]},Vr.rgb.xyz=function(H){let Q=H[0]/255,ee=H[1]/255,ae=H[2]/255;return Q=Q>.04045?((Q+.055)/1.055)**2.4:Q/12.92,ee=ee>.04045?((ee+.055)/1.055)**2.4:ee/12.92,ae=ae>.04045?((ae+.055)/1.055)**2.4:ae/12.92,[100*(.4124*Q+.3576*ee+.1805*ae),100*(.2126*Q+.7152*ee+.0722*ae),100*(.0193*Q+.1192*ee+.9505*ae)]},Vr.rgb.lab=function(H){const Q=Vr.rgb.xyz(H);let ee=Q[0],ae=Q[1],Pe=Q[2];return ee/=95.047,ae/=100,Pe/=108.883,ee=ee>.008856?ee**(1/3):7.787*ee+16/116,ae=ae>.008856?ae**(1/3):7.787*ae+16/116,Pe=Pe>.008856?Pe**(1/3):7.787*Pe+16/116,[116*ae-16,500*(ee-ae),200*(ae-Pe)]},Vr.hsl.rgb=function(H){const Q=H[0]/360,ee=H[1]/100,ae=H[2]/100;let Pe,Xe,ct;if(0===ee)return ct=255*ae,[ct,ct,ct];Pe=ae<.5?ae*(1+ee):ae+ee-ae*ee;const Et=2*ae-Pe,Nt=[0,0,0];for(let Yt=0;Yt<3;Yt++)Xe=Q+1/3*-(Yt-1),Xe<0&&Xe++,Xe>1&&Xe--,ct=6*Xe<1?Et+6*(Pe-Et)*Xe:2*Xe<1?Pe:3*Xe<2?Et+(Pe-Et)*(2/3-Xe)*6:Et,Nt[Yt]=255*ct;return Nt},Vr.hsl.hsv=function(H){const Q=H[0];let ee=H[1]/100,ae=H[2]/100,Pe=ee;const Xe=Math.max(ae,.01);return ae*=2,ee*=ae<=1?ae:2-ae,Pe*=Xe<=1?Xe:2-Xe,[Q,100*(0===ae?2*Pe/(Xe+Pe):2*ee/(ae+ee)),(ae+ee)/2*100]},Vr.hsv.rgb=function(H){const Q=H[0]/60,ee=H[1]/100;let ae=H[2]/100;const Pe=Math.floor(Q)%6,Xe=Q-Math.floor(Q),ct=255*ae*(1-ee),Et=255*ae*(1-ee*Xe),Nt=255*ae*(1-ee*(1-Xe));switch(ae*=255,Pe){case 0:return[ae,Nt,ct];case 1:return[Et,ae,ct];case 2:return[ct,ae,Nt];case 3:return[ct,Et,ae];case 4:return[Nt,ct,ae];case 5:return[ae,ct,Et]}},Vr.hsv.hsl=function(H){const Q=H[0],ee=H[1]/100,ae=H[2]/100,Pe=Math.max(ae,.01);let Xe,ct;ct=(2-ee)*ae;const Et=(2-ee)*Pe;return Xe=ee*Pe,Xe/=Et<=1?Et:2-Et,Xe=Xe||0,ct/=2,[Q,100*Xe,100*ct]},Vr.hwb.rgb=function(H){const Q=H[0]/360;let ee=H[1]/100,ae=H[2]/100;const Pe=ee+ae;let Xe;Pe>1&&(ee/=Pe,ae/=Pe);const ct=Math.floor(6*Q),Et=1-ae;Xe=6*Q-ct,0!=(1&ct)&&(Xe=1-Xe);const Nt=ee+Xe*(Et-ee);let Yt,Ri,qi;switch(ct){default:case 6:case 0:Yt=Et,Ri=Nt,qi=ee;break;case 1:Yt=Nt,Ri=Et,qi=ee;break;case 2:Yt=ee,Ri=Et,qi=Nt;break;case 3:Yt=ee,Ri=Nt,qi=Et;break;case 4:Yt=Nt,Ri=ee,qi=Et;break;case 5:Yt=Et,Ri=ee,qi=Nt}return[255*Yt,255*Ri,255*qi]},Vr.cmyk.rgb=function(H){const ee=H[1]/100,ae=H[2]/100,Pe=H[3]/100;return[255*(1-Math.min(1,H[0]/100*(1-Pe)+Pe)),255*(1-Math.min(1,ee*(1-Pe)+Pe)),255*(1-Math.min(1,ae*(1-Pe)+Pe))]},Vr.xyz.rgb=function(H){const Q=H[0]/100,ee=H[1]/100,ae=H[2]/100;let Pe,Xe,ct;return Pe=3.2406*Q+-1.5372*ee+-.4986*ae,Xe=-.9689*Q+1.8758*ee+.0415*ae,ct=.0557*Q+-.204*ee+1.057*ae,Pe=Pe>.0031308?1.055*Pe**(1/2.4)-.055:12.92*Pe,Xe=Xe>.0031308?1.055*Xe**(1/2.4)-.055:12.92*Xe,ct=ct>.0031308?1.055*ct**(1/2.4)-.055:12.92*ct,Pe=Math.min(Math.max(0,Pe),1),Xe=Math.min(Math.max(0,Xe),1),ct=Math.min(Math.max(0,ct),1),[255*Pe,255*Xe,255*ct]},Vr.xyz.lab=function(H){let Q=H[0],ee=H[1],ae=H[2];return Q/=95.047,ee/=100,ae/=108.883,Q=Q>.008856?Q**(1/3):7.787*Q+16/116,ee=ee>.008856?ee**(1/3):7.787*ee+16/116,ae=ae>.008856?ae**(1/3):7.787*ae+16/116,[116*ee-16,500*(Q-ee),200*(ee-ae)]},Vr.lab.xyz=function(H){let Pe,Xe,ct;Xe=(H[0]+16)/116,Pe=H[1]/500+Xe,ct=Xe-H[2]/200;const Et=Xe**3,Nt=Pe**3,Yt=ct**3;return Xe=Et>.008856?Et:(Xe-16/116)/7.787,Pe=Nt>.008856?Nt:(Pe-16/116)/7.787,ct=Yt>.008856?Yt:(ct-16/116)/7.787,Pe*=95.047,Xe*=100,ct*=108.883,[Pe,Xe,ct]},Vr.lab.lch=function(H){const Q=H[0],ee=H[1],ae=H[2];let Pe;return Pe=360*Math.atan2(ae,ee)/2/Math.PI,Pe<0&&(Pe+=360),[Q,Math.sqrt(ee*ee+ae*ae),Pe]},Vr.lch.lab=function(H){const ee=H[1],Pe=H[2]/360*2*Math.PI;return[H[0],ee*Math.cos(Pe),ee*Math.sin(Pe)]},Vr.rgb.ansi16=function(H,Q=null){const[ee,ae,Pe]=H;let Xe=null===Q?Vr.rgb.hsv(H)[2]:Q;if(Xe=Math.round(Xe/50),0===Xe)return 30;let ct=30+(Math.round(Pe/255)<<2|Math.round(ae/255)<<1|Math.round(ee/255));return 2===Xe&&(ct+=60),ct},Vr.hsv.ansi16=function(H){return Vr.rgb.ansi16(Vr.hsv.rgb(H),H[2])},Vr.rgb.ansi256=function(H){const Q=H[0],ee=H[1],ae=H[2];return Q===ee&&ee===ae?Q<8?16:Q>248?231:Math.round((Q-8)/247*24)+232:16+36*Math.round(Q/255*5)+6*Math.round(ee/255*5)+Math.round(ae/255*5)},Vr.ansi16.rgb=function(H){let Q=H%10;if(0===Q||7===Q)return H>50&&(Q+=3.5),Q=Q/10.5*255,[Q,Q,Q];const ee=.5*(1+~~(H>50));return[(1&Q)*ee*255,(Q>>1&1)*ee*255,(Q>>2&1)*ee*255]},Vr.ansi256.rgb=function(H){if(H>=232){const Xe=10*(H-232)+8;return[Xe,Xe,Xe]}let Q;return H-=16,[Math.floor(H/36)/5*255,Math.floor((Q=H%36)/6)/5*255,Q%6/5*255]},Vr.rgb.hex=function(H){const ee=(((255&Math.round(H[0]))<<16)+((255&Math.round(H[1]))<<8)+(255&Math.round(H[2]))).toString(16).toUpperCase();return"000000".substring(ee.length)+ee},Vr.hex.rgb=function(H){const Q=H.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!Q)return[0,0,0];let ee=Q[0];3===Q[0].length&&(ee=ee.split("").map(Et=>Et+Et).join(""));const ae=parseInt(ee,16);return[ae>>16&255,ae>>8&255,255&ae]},Vr.rgb.hcg=function(H){const Q=H[0]/255,ee=H[1]/255,ae=H[2]/255,Pe=Math.max(Math.max(Q,ee),ae),Xe=Math.min(Math.min(Q,ee),ae),ct=Pe-Xe;let Et,Nt;return Et=ct<1?Xe/(1-ct):0,Nt=ct<=0?0:Pe===Q?(ee-ae)/ct%6:Pe===ee?2+(ae-Q)/ct:4+(Q-ee)/ct,Nt/=6,Nt%=1,[360*Nt,100*ct,100*Et]},Vr.hsl.hcg=function(H){const Q=H[1]/100,ee=H[2]/100,ae=ee<.5?2*Q*ee:2*Q*(1-ee);let Pe=0;return ae<1&&(Pe=(ee-.5*ae)/(1-ae)),[H[0],100*ae,100*Pe]},Vr.hsv.hcg=function(H){const ee=H[2]/100,ae=H[1]/100*ee;let Pe=0;return ae<1&&(Pe=(ee-ae)/(1-ae)),[H[0],100*ae,100*Pe]},Vr.hcg.rgb=function(H){const ee=H[1]/100,ae=H[2]/100;if(0===ee)return[255*ae,255*ae,255*ae];const Pe=[0,0,0],Xe=H[0]/360%1*6,ct=Xe%1,Et=1-ct;let Nt=0;switch(Math.floor(Xe)){case 0:Pe[0]=1,Pe[1]=ct,Pe[2]=0;break;case 1:Pe[0]=Et,Pe[1]=1,Pe[2]=0;break;case 2:Pe[0]=0,Pe[1]=1,Pe[2]=ct;break;case 3:Pe[0]=0,Pe[1]=Et,Pe[2]=1;break;case 4:Pe[0]=ct,Pe[1]=0,Pe[2]=1;break;default:Pe[0]=1,Pe[1]=0,Pe[2]=Et}return Nt=(1-ee)*ae,[255*(ee*Pe[0]+Nt),255*(ee*Pe[1]+Nt),255*(ee*Pe[2]+Nt)]},Vr.hcg.hsv=function(H){const Q=H[1]/100,ae=Q+H[2]/100*(1-Q);let Pe=0;return ae>0&&(Pe=Q/ae),[H[0],100*Pe,100*ae]},Vr.hcg.hsl=function(H){const Q=H[1]/100,ae=H[2]/100*(1-Q)+.5*Q;let Pe=0;return ae>0&&ae<.5?Pe=Q/(2*ae):ae>=.5&&ae<1&&(Pe=Q/(2*(1-ae))),[H[0],100*Pe,100*ae]},Vr.hcg.hwb=function(H){const Q=H[1]/100,ae=Q+H[2]/100*(1-Q);return[H[0],100*(ae-Q),100*(1-ae)]},Vr.hwb.hcg=function(H){const ae=1-H[2]/100,Pe=ae-H[1]/100;let Xe=0;return Pe<1&&(Xe=(ae-Pe)/(1-Pe)),[H[0],100*Pe,100*Xe]},Vr.apple.rgb=function(H){return[H[0]/65535*255,H[1]/65535*255,H[2]/65535*255]},Vr.rgb.apple=function(H){return[H[0]/255*65535,H[1]/255*65535,H[2]/255*65535]},Vr.gray.rgb=function(H){return[H[0]/100*255,H[0]/100*255,H[0]/100*255]},Vr.gray.hsl=function(H){return[0,0,H[0]]},Vr.gray.hsv=Vr.gray.hsl,Vr.gray.hwb=function(H){return[0,100,H[0]]},Vr.gray.cmyk=function(H){return[0,0,0,H[0]]},Vr.gray.lab=function(H){return[H[0],0,0]},Vr.gray.hex=function(H){const Q=255&Math.round(H[0]/100*255),ae=((Q<<16)+(Q<<8)+Q).toString(16).toUpperCase();return"000000".substring(ae.length)+ae},Vr.rgb.gray=function(H){return[(H[0]+H[1]+H[2])/3/255*100]};const ko={};Object.keys(ec).forEach(H=>{ko[H]={},Object.defineProperty(ko[H],"channels",{value:ec[H].channels}),Object.defineProperty(ko[H],"labels",{value:ec[H].labels});const Q=function(H){const Q=function(H){const Q=function(){const H={},Q=Object.keys(ec);for(let ee=Q.length,ae=0;ae<ee;ae++)H[Q[ae]]={distance:-1,parent:null};return H}(),ee=[H];for(Q[H].distance=0;ee.length;){const ae=ee.pop(),Pe=Object.keys(ec[ae]);for(let Xe=Pe.length,ct=0;ct<Xe;ct++){const Et=Pe[ct],Nt=Q[Et];-1===Nt.distance&&(Nt.distance=Q[ae].distance+1,Nt.parent=ae,ee.unshift(Et))}}return Q}(H),ee={},ae=Object.keys(Q);for(let Pe=ae.length,Xe=0;Xe<Pe;Xe++){const ct=ae[Xe];null!==Q[ct].parent&&(ee[ct]=Us(ct,Q))}return ee}(H);Object.keys(Q).forEach(ae=>{const Pe=Q[ae];ko[H][ae]=function(H){const Q=function(...ee){const ae=ee[0];if(null==ae)return ae;ae.length>1&&(ee=ae);const Pe=H(ee);if("object"==typeof Pe)for(let Xe=Pe.length,ct=0;ct<Xe;ct++)Pe[ct]=Math.round(Pe[ct]);return Pe};return"conversion"in H&&(Q.conversion=H.conversion),Q}(Pe),ko[H][ae].raw=function(H){const Q=function(...ee){const ae=ee[0];return null==ae?ae:(ae.length>1&&(ee=ae),H(ee))};return"conversion"in H&&(Q.conversion=H.conversion),Q}(Pe)})});var El=ko;const Gp=[].slice,Cv=["keyword","gray","hex"],Hc={};for(const H of Object.keys(El))Hc[Gp.call(El[H].labels).sort().join("")]=H;const ld={};function da(H,Q){if(!(this instanceof da))return new da(H,Q);if(Q&&Q in Cv&&(Q=null),Q&&!(Q in El))throw new Error("Unknown model: "+Q);let ee,ae;if(null==H)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(H instanceof da)this.model=H.model,this.color=H.color.slice(),this.valpha=H.valpha;else if("string"==typeof H){const Pe=ss.get(H);if(null===Pe)throw new Error("Unable to parse color from string: "+H);this.model=Pe.model,ae=El[this.model].channels,this.color=Pe.value.slice(0,ae),this.valpha="number"==typeof Pe.value[ae]?Pe.value[ae]:1}else if(H.length>0){this.model=Q||"rgb",ae=El[this.model].channels;const Pe=Gp.call(H,0,ae);this.color=cd(Pe,ae),this.valpha="number"==typeof H[ae]?H[ae]:1}else if("number"==typeof H)this.model="rgb",this.color=[H>>16&255,H>>8&255,255&H],this.valpha=1;else{this.valpha=1;const Pe=Object.keys(H);"alpha"in H&&(Pe.splice(Pe.indexOf("alpha"),1),this.valpha="number"==typeof H.alpha?H.alpha:0);const Xe=Pe.sort().join("");if(!(Xe in Hc))throw new Error("Unable to parse color from object: "+JSON.stringify(H));this.model=Hc[Xe];const ct=El[this.model].labels,Et=[];for(ee=0;ee<ct.length;ee++)Et.push(H[ct[ee]]);this.color=cd(Et)}if(ld[this.model])for(ae=El[this.model].channels,ee=0;ee<ae;ee++){const Pe=ld[this.model][ee];Pe&&(this.color[ee]=Pe(this.color[ee]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}da.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(H){let Q=this.model in ss.to?this:this.rgb();Q=Q.round("number"==typeof H?H:1);const ee=1===Q.valpha?Q.color:Q.color.concat(this.valpha);return ss.to[Q.model](ee)},percentString(H){const Q=this.rgb().round("number"==typeof H?H:1),ee=1===Q.valpha?Q.color:Q.color.concat(this.valpha);return ss.to.rgb.percent(ee)},array(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object(){const H={},Q=El[this.model].channels,ee=El[this.model].labels;for(let ae=0;ae<Q;ae++)H[ee[ae]]=this.color[ae];return 1!==this.valpha&&(H.alpha=this.valpha),H},unitArray(){const H=this.rgb().color;return H[0]/=255,H[1]/=255,H[2]/=255,1!==this.valpha&&H.push(this.valpha),H},unitObject(){const H=this.rgb().object();return H.r/=255,H.g/=255,H.b/=255,1!==this.valpha&&(H.alpha=this.valpha),H},round(H){return H=Math.max(H||0,0),new da(this.color.map(function(H){return function(Q){return function(H,Q){return Number(H.toFixed(Q))}(Q,H)}}(H)).concat(this.valpha),this.model)},alpha(H){return arguments.length>0?new da(this.color.concat(Math.max(0,Math.min(1,H))),this.model):this.valpha},red:Uo("rgb",0,Lo(255)),green:Uo("rgb",1,Lo(255)),blue:Uo("rgb",2,Lo(255)),hue:Uo(["hsl","hsv","hsl","hwb","hcg"],0,H=>(H%360+360)%360),saturationl:Uo("hsl",1,Lo(100)),lightness:Uo("hsl",2,Lo(100)),saturationv:Uo("hsv",1,Lo(100)),value:Uo("hsv",2,Lo(100)),chroma:Uo("hcg",1,Lo(100)),gray:Uo("hcg",2,Lo(100)),white:Uo("hwb",1,Lo(100)),wblack:Uo("hwb",2,Lo(100)),cyan:Uo("cmyk",0,Lo(100)),magenta:Uo("cmyk",1,Lo(100)),yellow:Uo("cmyk",2,Lo(100)),black:Uo("cmyk",3,Lo(100)),x:Uo("xyz",0,Lo(100)),y:Uo("xyz",1,Lo(100)),z:Uo("xyz",2,Lo(100)),l:Uo("lab",0,Lo(100)),a:Uo("lab",1),b:Uo("lab",2),keyword(H){return arguments.length>0?new da(H):El[this.model].keyword(this.color)},hex(H){return arguments.length>0?new da(H):ss.to.hex(this.rgb().round().color)},rgbNumber(){const H=this.rgb().color;return(255&H[0])<<16|(255&H[1])<<8|255&H[2]},luminosity(){const H=this.rgb().color,Q=[];for(const[ee,ae]of H.entries()){const Pe=ae/255;Q[ee]=Pe<=.03928?Pe/12.92:((Pe+.055)/1.055)**2.4}return.2126*Q[0]+.7152*Q[1]+.0722*Q[2]},contrast(H){const Q=this.luminosity(),ee=H.luminosity();return Q>ee?(Q+.05)/(ee+.05):(ee+.05)/(Q+.05)},level(H){const Q=this.contrast(H);return Q>=7.1?"AAA":Q>=4.5?"AA":""},isDark(){const H=this.rgb().color;return(299*H[0]+587*H[1]+114*H[2])/1e3<128},isLight(){return!this.isDark()},negate(){const H=this.rgb();for(let Q=0;Q<3;Q++)H.color[Q]=255-H.color[Q];return H},lighten(H){const Q=this.hsl();return Q.color[2]+=Q.color[2]*H,Q},darken(H){const Q=this.hsl();return Q.color[2]-=Q.color[2]*H,Q},saturate(H){const Q=this.hsl();return Q.color[1]+=Q.color[1]*H,Q},desaturate(H){const Q=this.hsl();return Q.color[1]-=Q.color[1]*H,Q},whiten(H){const Q=this.hwb();return Q.color[1]+=Q.color[1]*H,Q},blacken(H){const Q=this.hwb();return Q.color[2]+=Q.color[2]*H,Q},grayscale(){const H=this.rgb().color,Q=.3*H[0]+.59*H[1]+.11*H[2];return da.rgb(Q,Q,Q)},fade(H){return this.alpha(this.valpha-this.valpha*H)},opaquer(H){return this.alpha(this.valpha+this.valpha*H)},rotate(H){const Q=this.hsl();let ee=Q.color[0];return ee=(ee+H)%360,ee=ee<0?360+ee:ee,Q.color[0]=ee,Q},mix(H,Q){if(!H||!H.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof H);const ee=H.rgb(),ae=this.rgb(),Pe=void 0===Q?.5:Q,Xe=2*Pe-1,ct=ee.alpha()-ae.alpha(),Et=((Xe*ct==-1?Xe:(Xe+ct)/(1+Xe*ct))+1)/2,Nt=1-Et;return da.rgb(Et*ee.red()+Nt*ae.red(),Et*ee.green()+Nt*ae.green(),Et*ee.blue()+Nt*ae.blue(),ee.alpha()*Pe+ae.alpha()*(1-Pe))}};for(const H of Object.keys(El)){if(Cv.includes(H))continue;const Q=El[H].channels;da.prototype[H]=function(){if(this.model===H)return new da(this);if(arguments.length>0)return new da(arguments,H);const ee="number"==typeof arguments[Q]?Q:this.valpha;return new da(ju(El[this.model][H].raw(this.color)).concat(ee),H)},da[H]=function(ee){return"number"==typeof ee&&(ee=cd(Gp.call(arguments),Q)),new da(ee,H)}}function Uo(H,Q,ee){H=Array.isArray(H)?H:[H];for(const ae of H)(ld[ae]||(ld[ae]=[]))[Q]=ee;return H=H[0],function(ae){let Pe;return arguments.length>0?(ee&&(ae=ee(ae)),Pe=this[H](),Pe.color[Q]=ae,Pe):(Pe=this[H]().color[Q],ee&&(Pe=ee(Pe)),Pe)}}function Lo(H){return function(Q){return Math.max(0,Math.min(H,Q))}}function ju(H){return Array.isArray(H)?H:[H]}function cd(H,Q){for(let ee=0;ee<Q;ee++)"number"!=typeof H[ee]&&(H[ee]=0);return H}var Dc=da;const mh=Dc("#007AC2");var Vc="object"==typeof global&&global&&global.Object===Object&&global,$f="object"==typeof self&&self&&self.Object===Object&&self,Hu=Vc||$f||Function("return this")(),ud=Hu.Symbol,Jd=Object.prototype,y1=Jd.hasOwnProperty,Zf=Jd.toString,$p=ud?ud.toStringTag:void 0,yh=Object.prototype.toString,zc=ud?ud.toStringTag:void 0;function Jf(H){return null==H?void 0===H?"[object Undefined]":"[object Null]":zc&&zc in Object(H)?function(H){var Q=y1.call(H,$p),ee=H[$p];try{H[$p]=void 0;var ae=!0}catch(Xe){}var Pe=Zf.call(H);return ae&&(Q?H[$p]=ee:delete H[$p]),Pe}(H):function(H){return yh.call(H)}(H)}function Xf(H){return null!=H&&"object"==typeof H}parseInt;function km(H){return"number"==typeof H&&H>-1&&H%1==0&&H<=9007199254740991}function r0(H){return Xf(H)&&"[object Arguments]"==Jf(H)}var Xp=Object.prototype,s0=Xp.hasOwnProperty,Pv=Xp.propertyIsEnumerable,Rm=(r0(function(){return arguments}()),"object"==typeof exports&&exports&&!exports.nodeType&&exports),Bo=(Rm&&"object"==typeof module&&module&&!module.nodeType&&module,{});Bo["[object Float32Array]"]=Bo["[object Float64Array]"]=Bo["[object Int8Array]"]=Bo["[object Int16Array]"]=Bo["[object Int32Array]"]=Bo["[object Uint8Array]"]=Bo["[object Uint8ClampedArray]"]=Bo["[object Uint16Array]"]=Bo["[object Uint32Array]"]=!0,Bo["[object Arguments]"]=Bo["[object Array]"]=Bo["[object ArrayBuffer]"]=Bo["[object Boolean]"]=Bo["[object DataView]"]=Bo["[object Date]"]=Bo["[object Error]"]=Bo["[object Function]"]=Bo["[object Map]"]=Bo["[object Number]"]=Bo["[object Object]"]=Bo["[object RegExp]"]=Bo["[object Set]"]=Bo["[object String]"]=Bo["[object WeakMap]"]=!1;var H,pd="object"==typeof exports&&exports&&!exports.nodeType&&exports,sp=pd&&"object"==typeof module&&module&&!module.nodeType&&module,jl=sp&&sp.exports===pd&&Vc.process,Mc=function(){try{return sp&&sp.require&&sp.require("util").types||jl&&jl.binding&&jl.binding("util")}catch(Q){}}(),a0=Mc&&Mc.isTypedArray;a0&&(H=a0);Math,Math;var u0=/[\\^$.*+?()[\]{}|]/g;RegExp(u0.source);(function(H){(H=H.toLowerCase()).startsWith("#")||(H=`#${H}`),Cc(H)&&function(H){const{r:Q,g:ee,b:ae}=H;`#${Q.toString(16).padStart(2,"0")}${ee.toString(16).padStart(2,"0")}${ae.toString(16).padStart(2,"0")}`.toLowerCase()}(fs(H))})(mh.hex()),HTMLElement,Dc(),HTMLElement;HTMLElement;Math;Math,Math,Math;Math.ceil(Math.sqrt(Math.pow(4,2)+Math.pow(4,2)));HTMLElement;HTMLElement;HTMLElement;HTMLElement,HTMLElement,HTMLElement,HTMLElement,HTMLElement,HTMLElement,HTMLElement,HTMLElement,HTMLElement;HTMLElement,HTMLElement;const uw_flipRtl=(HTMLElement,"flip-rtl"),z1={},D0={},_u={s:16,m:24,l:32};function __(){return __=(0,z.Z)(function*({icon:H,scale:Q}){const ee=_u[Q],ae=b_(H),Pe="F"===ae.charAt(ae.length-1),ct=`${Pe?ae.substring(0,ae.length-1):ae}${ee}${Pe?"F":""}`;if(z1[ct])return z1[ct];D0[ct]||(D0[ct]=fetch(yi(`./assets/calcite-icon/${ct}.json`)).then(Nt=>Nt.json()).catch(()=>(console.error(`"${ct}" is not a valid calcite-ui-icon name`),"")));const Et=yield D0[ct];return z1[ct]=Et,Et}),__.apply(this,arguments)}function b_(H){const Q=!isNaN(Number(H.charAt(0))),ee=H.split("-");return 1===ee.length?Q?`i${H}`:H:ee.map((ae,Pe)=>0===Pe?Q?`i${ae.toUpperCase()}`:ae:ae.charAt(0).toUpperCase()+ae.slice(1)).join("")}const A_=class extends HTMLElement{constructor(){super(),this.__registerHost(),Jt(this),this.icon=null,this.flipRtl=!1,this.scale="m",this.visible=!1}connectedCallback(){this.waitUntilVisible(()=>{this.visible=!0,this.loadIconPathData()})}disconnectedCallback(){this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=null)}componentWillLoad(){var H=this;return(0,z.Z)(function*(){H.loadIconPathData()})()}render(){const{el:H,flipRtl:Q,pathData:ee,scale:ae,textLabel:Pe}=this,Xe=ur(H),ct=_u[ae],Et=!!Pe,Nt=[].concat(ee||"");return We(Mi,{"aria-hidden":(!Et).toString(),"aria-label":Et?Pe:null,role:Et?"img":null},We("svg",{class:{[uw_flipRtl]:"rtl"===Xe&&Q,svg:!0},fill:"currentColor",height:"100%",viewBox:`0 0 ${ct} ${ct}`,width:"100%",xmlns:"http://www.w3.org/2000/svg"},Nt.map(Yt=>We("path","string"==typeof Yt?{d:Yt}:{d:Yt.d,opacity:"opacity"in Yt?Yt.opacity:1}))))}loadIconPathData(){var H=this;return(0,z.Z)(function*(){const{icon:Q,scale:ee,visible:ae}=H;!Q||!ae||(H.pathData=yield function(H){return __.apply(this,arguments)}({icon:Q,scale:ee}))})()}waitUntilVisible(H){"undefined"!=typeof window&&window.IntersectionObserver?(this.intersectionObserver=new IntersectionObserver(Q=>{Q.forEach(ee=>{ee.isIntersecting&&(this.intersectionObserver.disconnect(),this.intersectionObserver=null,H())})},{rootMargin:"50px"}),this.intersectionObserver.observe(this.el)):H()}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{icon:["loadIconPathData"],scale:["loadIconPathData"]}}static get style(){return"@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:300ms}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:150ms ease-in-out}:host([hidden]){display:none}:host{display:-ms-inline-flexbox;display:inline-flex}:host([scale=s]){width:1rem;height:1rem;min-width:1rem;min-height:1rem}:host([scale=m]){width:1.5rem;height:1.5rem;min-width:1.5rem;min-height:1.5rem}:host([scale=l]){width:2rem;height:2rem;min-width:2rem;min-height:2rem}.flip-rtl{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.svg{display:block}"}};HTMLElement,HTMLElement;HTMLElement;HTMLElement,HTMLElement,HTMLElement,HTMLElement;HTMLElement,HTMLElement;HTMLElement,HTMLElement;const oE_close=(HTMLElement,"Close"),M0=class extends HTMLElement{constructor(){super(),this.__registerHost(),Jt(this),this.calciteNoticeClose=pe(this,"calciteNoticeClose",7),this.calciteNoticeOpen=pe(this,"calciteNoticeOpen",7),this.active=!1,this.color="blue",this.dismissible=!1,this.intlClose=oE_close,this.scale="m",this.width="auto",this.close=()=>{this.active=!1,this.calciteNoticeClose.emit()}}updateRequestedIcon(){this.requestedIcon=rl(wc,this.icon,this.color)}componentWillLoad(){this.requestedIcon=rl(wc,this.icon,this.color)}componentDidLoad(){this.noticeLinkEl=this.el.querySelector("calcite-link")}render(){const{el:H}=this,Q=ur(H),ee=We("button",{"aria-label":this.intlClose,class:"notice-close",onClick:this.close,ref:Pe=>this.closeButton=Pe},We("calcite-icon",{icon:"x",scale:"l"===this.scale?"m":"s"})),ae=ls(H,"actions-end");return We("div",{class:{container:!0,"calcite--rtl":"rtl"===Q}},this.requestedIcon?We("div",{class:"notice-icon"},We("calcite-icon",{icon:this.requestedIcon,scale:"l"===this.scale?"m":"s"})):null,We("div",{class:"notice-content"},We("slot",{name:"title"}),We("slot",{name:"message"}),We("slot",{name:"link"})),ae?We("div",{class:"actions-end"},We("slot",{name:"actions-end"})):null,this.dismissible?ee:null)}setFocus(){var H=this;return(0,z.Z)(function*(){!H.closeButton&&!H.noticeLinkEl||(H.noticeLinkEl?H.noticeLinkEl.setFocus():H.closeButton&&H.closeButton.focus())})()}get el(){return this}static get watchers(){return{icon:["updateRequestedIcon"],color:["updateRequestedIcon"]}}static get style(){return"@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:300ms}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:150ms ease-in-out}:host([hidden]){display:none}:host([scale=s]){--calcite-notice-spacing-token-small:0.5rem;--calcite-notice-spacing-token-large:0.75rem}:host([scale=s]) .container slot[name=title]::slotted(*),:host([scale=s]) .container *::slotted([slot=title]){font-size:var(--calcite-font-size--1);line-height:1.375;margin-bottom:0.25rem}:host([scale=s]) .container slot[name=message]::slotted(*),:host([scale=s]) .container *::slotted([slot=message]){font-size:var(--calcite-font-size--2);line-height:1.375;margin-bottom:0.25rem}:host([scale=s]) ::slotted(calcite-link){font-size:var(--calcite-font-size--2);line-height:1.375}:host([scale=s]) .notice-close{padding:0.5rem}:host([scale=m]){--calcite-notice-spacing-token-small:0.75rem;--calcite-notice-spacing-token-large:1rem}:host([scale=m]) .container slot[name=title]::slotted(*),:host([scale=m]) .container *::slotted([slot=title]){font-size:var(--calcite-font-size-0);line-height:1.375;margin-bottom:0.25rem}:host([scale=m]) .container slot[name=message]::slotted(*),:host([scale=m]) .container *::slotted([slot=message]){font-size:var(--calcite-font-size--1);line-height:1.375;margin-bottom:0.25rem}:host([scale=m]) ::slotted(calcite-link){font-size:var(--calcite-font-size--1);line-height:1.375}:host([scale=l]){--calcite-notice-spacing-token-small:1rem;--calcite-notice-spacing-token-large:1.25rem}:host([scale=l]) .container slot[name=title]::slotted(*),:host([scale=l]) .container *::slotted([slot=title]){font-size:var(--calcite-font-size-1);line-height:1.375;margin-bottom:0.25rem}:host([scale=l]) .container slot[name=message]::slotted(*),:host([scale=l]) .container *::slotted([slot=message]){font-size:var(--calcite-font-size-0);line-height:1.375;margin-bottom:0.25rem}:host([scale=l]) ::slotted(calcite-link){font-size:var(--calcite-font-size-0);line-height:1.375}:host([width=auto]){--calcite-notice-width:auto}:host([width=half]){--calcite-notice-width:50%}:host([width=full]){--calcite-notice-width:100%}:host{display:none;margin-left:auto;margin-right:auto;max-width:100%;-ms-flex-align:center;align-items:center;width:var(--calcite-notice-width)}.container{display:none;text-align:left;margin-top:0;margin-bottom:0;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;opacity:0;pointer-events:none;background-color:var(--calcite-ui-foreground-1);max-height:0;-webkit-transition:150ms ease-in-out;transition:150ms ease-in-out;border-left:0px solid;-webkit-box-shadow:0 0 0 0 transparent;box-shadow:0 0 0 0 transparent}.notice-close{outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}.notice-close:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}:host{display:-ms-flexbox;display:flex}:host([active]) .container{display:-ms-flexbox;display:flex;-webkit-box-shadow:0 4px 8px -1px rgba(0, 0, 0, 0.08), 0 2px 4px -1px rgba(0, 0, 0, 0.04);box-shadow:0 4px 8px -1px rgba(0, 0, 0, 0.08), 0 2px 4px -1px rgba(0, 0, 0, 0.04);-ms-flex-align:center;align-items:center;opacity:1;max-height:100%;border-width:2px;pointer-events:auto}.container slot[name=title]::slotted(*),.container *::slotted([slot=title]){margin:0;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1)}.container slot[name=message]::slotted(*),.container *::slotted([slot=message]){display:inline;margin:0;font-weight:var(--calcite-font-weight-normal);color:var(--calcite-ui-text-2);margin-right:var(--calcite-notice-spacing-token-small)}.calcite--rtl slot[name=message]::slotted(*),.calcite--rtl *::slotted([slot=message]){margin-right:0;margin-left:var(--calcite-notice-spacing-token-small)}.notice-content{-webkit-box-sizing:border-box;box-sizing:border-box;padding:var(--calcite-notice-spacing-token-small) var(--calcite-notice-spacing-token-large);-ms-flex:0 0 auto;flex:0 0 auto;-webkit-transition:all 0.15s ease-in-out;transition:all 0.15s ease-in-out;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;min-width:0;word-wrap:break-word;overflow-wrap:break-word;-ms-flex:1 1 0px;flex:1 1 0;padding:var(--calcite-notice-spacing-token-small) var(--calcite-notice-spacing-token-small) var(--calcite-notice-spacing-token-small) 0}.notice-content:first-of-type:not(:only-child){padding-left:var(--calcite-notice-spacing-token-large)}.notice-content:only-of-type{padding:var(--calcite-notice-spacing-token-small) var(--calcite-notice-spacing-token-large)}.notice-icon{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-box-sizing:border-box;box-sizing:border-box;padding:var(--calcite-notice-spacing-token-small) var(--calcite-notice-spacing-token-large);-ms-flex:0 0 auto;flex:0 0 auto;-webkit-transition:all 0.15s ease-in-out;transition:all 0.15s ease-in-out}.notice-close{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-item-align:stretch;align-self:stretch;background-color:transparent;border-style:none;outline:2px solid transparent;outline-offset:2px;cursor:pointer;color:var(--calcite-ui-text-3);-webkit-box-sizing:border-box;box-sizing:border-box;padding:var(--calcite-notice-spacing-token-small) var(--calcite-notice-spacing-token-large);-ms-flex:0 0 auto;flex:0 0 auto;-webkit-transition:all 0.15s ease-in-out;transition:all 0.15s ease-in-out;-webkit-appearance:none}.notice-close:hover,.notice-close:focus{background-color:var(--calcite-ui-foreground-2);color:var(--calcite-ui-text-1)}.notice-close:active{background-color:var(--calcite-ui-foreground-3)}.actions-end{display:-ms-flexbox;display:flex;-ms-flex-item-align:stretch;align-self:stretch}.calcite--rtl{text-align:right;border-left:none;border-right:0px solid}.calcite--rtl .notice-content{padding:var(--calcite-notice-spacing-token-small) 0 var(--calcite-notice-spacing-token-small) var(--calcite-notice-spacing-token-small)}.calcite--rtl .notice-content:first-of-type:not(:only-child){padding-right:var(--calcite-notice-spacing-token-large)}.calcite--rtl .notice-content:only-of-type{padding:var(--calcite-notice-spacing-token-small) var(--calcite-notice-spacing-token-large)}:host([color=blue]) .container{border-color:var(--calcite-ui-brand)}:host([color=blue]) .container .notice-icon{color:var(--calcite-ui-brand)}:host([color=red]) .container{border-color:var(--calcite-ui-danger)}:host([color=red]) .container .notice-icon{color:var(--calcite-ui-danger)}:host([color=yellow]) .container{border-color:var(--calcite-ui-warning)}:host([color=yellow]) .container .notice-icon{color:var(--calcite-ui-warning)}:host([color=green]) .container{border-color:var(--calcite-ui-success)}:host([color=green]) .container .notice-icon{color:var(--calcite-ui-success)}"}};HTMLElement,HTMLElement,HTMLElement,HTMLElement;HTMLElement,HTMLElement,HTMLElement,HTMLElement,HTMLElement,HTMLElement,HTMLElement,HTMLElement,HTMLElement,HTMLElement,HTMLElement,HTMLElement,HTMLElement;HTMLElement;HTMLElement,HTMLElement;function Kw(H,Q){var ee=Object.keys(H);if(Object.getOwnPropertySymbols){var ae=Object.getOwnPropertySymbols(H);Q&&(ae=ae.filter(function(Pe){return Object.getOwnPropertyDescriptor(H,Pe).enumerable})),ee.push.apply(ee,ae)}return ee}function Ph(H){for(var Q=1;Q<arguments.length;Q++){var ee=null!=arguments[Q]?arguments[Q]:{};Q%2?Kw(Object(ee),!0).forEach(function(ae){N4(H,ae,ee[ae])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(ee)):Kw(Object(ee)).forEach(function(ae){Object.defineProperty(H,ae,Object.getOwnPropertyDescriptor(ee,ae))})}return H}function gg(H){return(gg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Q){return typeof Q}:function(Q){return Q&&"function"==typeof Symbol&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q})(H)}function N4(H,Q,ee){return Q in H?Object.defineProperty(H,Q,{value:ee,enumerable:!0,configurable:!0,writable:!0}):H[Q]=ee,H}function kh(){return kh=Object.assign||function(H){for(var Q=1;Q<arguments.length;Q++){var ee=arguments[Q];for(var ae in ee)Object.prototype.hasOwnProperty.call(ee,ae)&&(H[ae]=ee[ae])}return H},kh.apply(this,arguments)}function LE(H,Q){if(null==H)return{};var ae,Pe,ee=function(H,Q){if(null==H)return{};var Pe,Xe,ee={},ae=Object.keys(H);for(Xe=0;Xe<ae.length;Xe++)!(Q.indexOf(Pe=ae[Xe])>=0)&&(ee[Pe]=H[Pe]);return ee}(H,Q);if(Object.getOwnPropertySymbols){var Xe=Object.getOwnPropertySymbols(H);for(Pe=0;Pe<Xe.length;Pe++)!(Q.indexOf(ae=Xe[Pe])>=0)&&(!Object.prototype.propertyIsEnumerable.call(H,ae)||(ee[ae]=H[ae]))}return ee}function Ap(H){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(H)}HTMLElement,HTMLElement;var Ju=Ap(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),yg=Ap(/Edge/i),Z_=Ap(/firefox/i),O0=Ap(/safari/i)&&!Ap(/chrome/i)&&!Ap(/android/i),BE=Ap(/iP(ad|od|hone)/i),Xu=Ap(/chrome/i)&&Ap(/android/i),RE={capture:!1,passive:!1};function po(H,Q,ee){H.addEventListener(Q,ee,!Ju&&RE)}function qs(H,Q,ee){H.removeEventListener(Q,ee,!Ju&&RE)}function vg(H,Q){if(Q){if(">"===Q[0]&&(Q=Q.substring(1)),H)try{if(H.matches)return H.matches(Q);if(H.msMatchesSelector)return H.msMatchesSelector(Q);if(H.webkitMatchesSelector)return H.webkitMatchesSelector(Q)}catch(ee){return!1}return!1}}function Qw(H){return H.host&&H!==document&&H.host.nodeType?H.host:H.parentNode}function Lh(H,Q,ee,ae){if(H){ee=ee||document;do{if(null!=Q&&(">"===Q[0]?H.parentNode===ee&&vg(H,Q):vg(H,Q))||ae&&H===ee)return H;if(H===ee)break}while(H=Qw(H))}return null}var Ag,FE=/\s+/g;function Oc(H,Q,ee){if(H&&Q)if(H.classList)H.classList[ee?"add":"remove"](Q);else{var ae=(" "+H.className+" ").replace(FE," ").replace(" "+Q+" "," ");H.className=(ae+(ee?" "+Q:"")).replace(FE," ")}}function Sr(H,Q,ee){var ae=H&&H.style;if(ae){if(void 0===ee)return document.defaultView&&document.defaultView.getComputedStyle?ee=document.defaultView.getComputedStyle(H,""):H.currentStyle&&(ee=H.currentStyle),void 0===Q?ee:ee[Q];!(Q in ae)&&-1===Q.indexOf("webkit")&&(Q="-webkit-"+Q),ae[Q]=ee+("string"==typeof ee?"":"px")}}function P0(H,Q){var ee="";if("string"==typeof H)ee=H;else do{var ae=Sr(H,"transform");ae&&"none"!==ae&&(ee=ae+" "+ee)}while(!Q&&(H=H.parentNode));var Pe=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return Pe&&new Pe(ee)}function ey(H,Q,ee){if(H){var ae=H.getElementsByTagName(Q),Pe=0,Xe=ae.length;if(ee)for(;Pe<Xe;Pe++)ee(ae[Pe],Pe);return ae}return[]}function Bh(){return document.scrollingElement||document.documentElement}function Za(H,Q,ee,ae,Pe){if(H.getBoundingClientRect||H===window){var Xe,ct,Et,Nt,Yt,Ri,qi;if(H!==window&&H.parentNode&&H!==Bh()?(ct=(Xe=H.getBoundingClientRect()).top,Et=Xe.left,Nt=Xe.bottom,Yt=Xe.right,Ri=Xe.height,qi=Xe.width):(ct=0,Et=0,Nt=window.innerHeight,Yt=window.innerWidth,Ri=window.innerHeight,qi=window.innerWidth),(Q||ee)&&H!==window&&(Pe=Pe||H.parentNode,!Ju))do{if(Pe&&Pe.getBoundingClientRect&&("none"!==Sr(Pe,"transform")||ee&&"static"!==Sr(Pe,"position"))){var Ln=Pe.getBoundingClientRect();ct-=Ln.top+parseInt(Sr(Pe,"border-top-width")),Et-=Ln.left+parseInt(Sr(Pe,"border-left-width")),Nt=ct+Xe.height,Yt=Et+Xe.width;break}}while(Pe=Pe.parentNode);if(ae&&H!==window){var Hn=P0(Pe||H),Kn=Hn&&Hn.a,ir=Hn&&Hn.d;Hn&&(Nt=(ct/=ir)+(Ri/=ir),Yt=(Et/=Kn)+(qi/=Kn))}return{top:ct,left:Et,bottom:Nt,right:Yt,width:qi,height:Ri}}}function Gw(H,Q,ee){for(var ae=wp(H,!0),Pe=Za(H)[Q];ae;){var Xe=Za(ae)[ee];if(!("top"===ee||"left"===ee?Pe>=Xe:Pe<=Xe))return ae;if(ae===Bh())break;ae=wp(ae,!1)}return!1}function k0(H,Q,ee,ae){for(var Pe=0,Xe=0,ct=H.children;Xe<ct.length;){if("none"!==ct[Xe].style.display&&ct[Xe]!==us.ghost&&(ae||ct[Xe]!==us.dragged)&&Lh(ct[Xe],ee.draggable,H,!1)){if(Pe===Q)return ct[Xe];Pe++}Xe++}return null}function J_(H,Q){for(var ee=H.lastElementChild;ee&&(ee===us.ghost||"none"===Sr(ee,"display")||Q&&!vg(ee,Q));)ee=ee.previousElementSibling;return ee||null}function Au(H,Q){var ee=0;if(!H||!H.parentNode)return-1;for(;H=H.previousElementSibling;)"TEMPLATE"!==H.nodeName.toUpperCase()&&H!==us.clone&&(!Q||vg(H,Q))&&ee++;return ee}function _g(H){var Q=0,ee=0,ae=Bh();if(H)do{var Pe=P0(H);Q+=H.scrollLeft*Pe.a,ee+=H.scrollTop*Pe.d}while(H!==ae&&(H=H.parentNode));return[Q,ee]}function wp(H,Q){if(!H||!H.getBoundingClientRect)return Bh();var ee=H,ae=!1;do{if(ee.clientWidth<ee.scrollWidth||ee.clientHeight<ee.scrollHeight){var Pe=Sr(ee);if(ee.clientWidth<ee.scrollWidth&&("auto"==Pe.overflowX||"scroll"==Pe.overflowX)||ee.clientHeight<ee.scrollHeight&&("auto"==Pe.overflowY||"scroll"==Pe.overflowY)){if(!ee.getBoundingClientRect||ee===document.body)return Bh();if(ae||Q)return ee;ae=!0}}}while(ee=ee.parentNode);return Bh()}function X_(H,Q){return Math.round(H.top)===Math.round(Q.top)&&Math.round(H.left)===Math.round(Q.left)&&Math.round(H.height)===Math.round(Q.height)&&Math.round(H.width)===Math.round(Q.width)}function ty(H,Q){return function(){if(!Ag){var ee=arguments,ae=this;1===ee.length?H.call(ae,ee[0]):H.apply(ae,ee),Ag=setTimeout(function(){Ag=void 0},Q)}}}function B0(H,Q,ee){H.scrollLeft+=Q,H.scrollTop+=ee}function Il(H){var Q=window.Polymer,ee=window.jQuery||window.Zepto;return Q&&Q.dom?Q.dom(H).cloneNode(!0):ee?ee(H).clone(!0)[0]:H.cloneNode(!0)}var Ja="Sortable"+(new Date).getTime();var Yu=[],Cp={initializeByDefault:!0},Fh={mount:function(Q){for(var ee in Cp)Cp.hasOwnProperty(ee)&&!(ee in Q)&&(Q[ee]=Cp[ee]);Yu.forEach(function(ae){if(ae.pluginName===Q.pluginName)throw"Sortable: Cannot mount plugin ".concat(Q.pluginName," more than once")}),Yu.push(Q)},pluginEvent:function(Q,ee,ae){var Pe=this;this.eventCanceled=!1,ae.cancel=function(){Pe.eventCanceled=!0};var Xe=Q+"Global";Yu.forEach(function(ct){!ee[ct.pluginName]||(ee[ct.pluginName][Xe]&&ee[ct.pluginName][Xe](Ph({sortable:ee},ae)),ee.options[ct.pluginName]&&ee[ct.pluginName][Q]&&ee[ct.pluginName][Q](Ph({sortable:ee},ae)))})},initializePlugins:function(Q,ee,ae,Pe){for(var Xe in Yu.forEach(function(Et){var Nt=Et.pluginName;if(Q.options[Nt]||Et.initializeByDefault){var Yt=new Et(Q,ee,Q.options);Yt.sortable=Q,Yt.options=Q.options,Q[Nt]=Yt,kh(ae,Yt.defaults)}}),Q.options)if(Q.options.hasOwnProperty(Xe)){var ct=this.modifyOption(Q,Xe,Q.options[Xe]);void 0!==ct&&(Q.options[Xe]=ct)}},getEventProperties:function(Q,ee){var ae={};return Yu.forEach(function(Pe){"function"==typeof Pe.eventProperties&&kh(ae,Pe.eventProperties.call(ee[Pe.pluginName],Q))}),ae},modifyOption:function(Q,ee,ae){var Pe;return Yu.forEach(function(Xe){!Q[Xe.pluginName]||Xe.optionListeners&&"function"==typeof Xe.optionListeners[ee]&&(Pe=Xe.optionListeners[ee].call(Q[Xe.pluginName],ae))}),Pe}},F0=["evt"],Xa=function(Q,ee){var ae=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},Pe=ae.evt,Xe=LE(ae,F0);Fh.pluginEvent.bind(us)(Q,ee,Ph({dragEl:vr,parentEl:So,ghostEl:xs,rootEl:Vo,nextEl:xp,lastDownEl:wg,cloneEl:ia,cloneHidden:Md,dragStarted:sy,putSortable:Ol,activeSortable:us.active,originalEvent:Pe,oldIndex:hf,oldDraggableIndex:N0,newIndex:Pc,newDraggableIndex:Ep,hideGhostForTarget:nb,unhideGhostForTarget:e2,cloneNowHidden:function(){Md=!0},cloneNowShown:function(){Md=!1},dispatchSortableEvent:function(Et){Ra({sortable:ee,name:Et,originalEvent:Pe})}},Xe))};function Ra(H){!function(H){var Q=H.sortable,ee=H.rootEl,ae=H.name,Pe=H.targetEl,Xe=H.cloneEl,ct=H.toEl,Et=H.fromEl,Nt=H.oldIndex,Yt=H.newIndex,Ri=H.oldDraggableIndex,qi=H.newDraggableIndex,Ln=H.originalEvent,Hn=H.putSortable,Kn=H.extraEventProperties;if(Q=Q||ee&&ee[Ja]){var ir,ar=Q.options,zr="on"+ae.charAt(0).toUpperCase()+ae.substr(1);!window.CustomEvent||Ju||yg?(ir=document.createEvent("Event")).initEvent(ae,!0,!0):ir=new CustomEvent(ae,{bubbles:!0,cancelable:!0}),ir.to=ct||ee,ir.from=Et||ee,ir.item=Pe||ee,ir.clone=Xe,ir.oldIndex=Nt,ir.newIndex=Yt,ir.oldDraggableIndex=Ri,ir.newDraggableIndex=qi,ir.originalEvent=Ln,ir.pullMode=Hn?Hn.lastPutMode:void 0;var Ir=Ph(Ph({},Kn),Fh.getEventProperties(ae,Q));for(var Wr in Ir)ir[Wr]=Ir[Wr];ee&&ee.dispatchEvent(ir),ar[zr]&&ar[zr].call(Q,ir)}}(Ph({putSortable:Ol,cloneEl:ia,targetEl:vr,rootEl:Vo,oldIndex:hf,oldDraggableIndex:N0,newIndex:Pc,newDraggableIndex:Ep},H))}var vr,So,xs,Vo,xp,wg,ia,Md,hf,Pc,N0,Ep,Pi,Ol,df,Cu,Y_,ry,$w,Zw,sy,U0,pf,q_,ac,To=!1,Cg=!1,ny=[],ff=!1,oy=!1,Jw=[],eb=!1,xg=[],tb="undefined"!=typeof document,ay=BE,mf=yg||Ju?"cssFloat":"float",NE=tb&&!Xu&&!BE&&"draggable"in document.createElement("div"),ib=function(){if(tb){if(Ju)return!1;var H=document.createElement("x");return H.style.cssText="pointer-events:auto","auto"===H.style.pointerEvents}}(),Xw=function(Q,ee){var ae=Sr(Q),Pe=parseInt(ae.width)-parseInt(ae.paddingLeft)-parseInt(ae.paddingRight)-parseInt(ae.borderLeftWidth)-parseInt(ae.borderRightWidth),Xe=k0(Q,0,ee),ct=k0(Q,1,ee),Et=Xe&&Sr(Xe),Nt=ct&&Sr(ct),Yt=Et&&parseInt(Et.marginLeft)+parseInt(Et.marginRight)+Za(Xe).width,Ri=Nt&&parseInt(Nt.marginLeft)+parseInt(Nt.marginRight)+Za(ct).width;return"flex"===ae.display?"column"===ae.flexDirection||"column-reverse"===ae.flexDirection?"vertical":"horizontal":"grid"===ae.display?ae.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal":Xe&&Et.float&&"none"!==Et.float?!ct||"both"!==Nt.clear&&Nt.clear!==("left"===Et.float?"left":"right")?"horizontal":"vertical":Xe&&("block"===Et.display||"flex"===Et.display||"table"===Et.display||"grid"===Et.display||Yt>=Pe&&"none"===ae[mf]||ct&&"none"===ae[mf]&&Yt+Ri>Pe)?"vertical":"horizontal"},qw=function(Q){function ee(Xe,ct){return function(Et,Nt,Yt,Ri){if(null==Xe&&(ct||Et.options.group.name&&Nt.options.group.name&&Et.options.group.name===Nt.options.group.name))return!0;if(null==Xe||!1===Xe)return!1;if(ct&&"clone"===Xe)return Xe;if("function"==typeof Xe)return ee(Xe(Et,Nt,Yt,Ri),ct)(Et,Nt,Yt,Ri);var Ln=(ct?Et:Nt).options.group.name;return!0===Xe||"string"==typeof Xe&&Xe===Ln||Xe.join&&Xe.indexOf(Ln)>-1}}var ae={},Pe=Q.group;(!Pe||"object"!=gg(Pe))&&(Pe={name:Pe}),ae.name=Pe.name,ae.checkPull=ee(Pe.pull,!0),ae.checkPut=ee(Pe.put),ae.revertClone=Pe.revertClone,Q.group=ae},nb=function(){!ib&&xs&&Sr(xs,"display","none")},e2=function(){!ib&&xs&&Sr(xs,"display","")};tb&&document.addEventListener("click",function(H){if(Cg)return H.preventDefault(),H.stopPropagation&&H.stopPropagation(),H.stopImmediatePropagation&&H.stopImmediatePropagation(),Cg=!1,!1},!0);var gf=function(Q){if(vr){var ee=function(Q,ee){var ae;return ny.some(function(Pe){var Xe=Pe[Ja].options.emptyInsertThreshold;if(Xe&&!J_(Pe)){var ct=Za(Pe);if(Q>=ct.left-Xe&&Q<=ct.right+Xe&&ee>=ct.top-Xe&&ee<=ct.bottom+Xe)return ae=Pe}}),ae}((Q=Q.touches?Q.touches[0]:Q).clientX,Q.clientY);if(ee){var ae={};for(var Pe in Q)Q.hasOwnProperty(Pe)&&(ae[Pe]=Q[Pe]);ae.target=ae.rootEl=ee,ae.preventDefault=void 0,ae.stopPropagation=void 0,ee[Ja]._onDragOver(ae)}}},UE=function(Q){vr&&vr.parentNode[Ja]._isOutsideThisEl(Q.target)};function us(H,Q){if(!H||!H.nodeType||1!==H.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(H));this.el=H,this.options=Q=kh({},Q),H[Ja]=this;var ee={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(H.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Xw(H,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(ct,Et){ct.setData("Text",Et.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==us.supportPointer&&"PointerEvent"in window&&!O0,emptyInsertThreshold:5};for(var ae in Fh.initializePlugins(this,H,ee),ee)!(ae in Q)&&(Q[ae]=ee[ae]);for(var Pe in qw(Q),this)"_"===Pe.charAt(0)&&"function"==typeof this[Pe]&&(this[Pe]=this[Pe].bind(this));this.nativeDraggable=!Q.forceFallback&&NE,this.nativeDraggable&&(this.options.touchStartThreshold=1),Q.supportPointer?po(H,"pointerdown",this._onTapStart):(po(H,"mousedown",this._onTapStart),po(H,"touchstart",this._onTapStart)),this.nativeDraggable&&(po(H,"dragover",this),po(H,"dragenter",this)),ny.push(this.el),Q.store&&Q.store.get&&this.sort(Q.store.get(this)||[]),kh(this,function(){var Q,H=[];return{captureAnimationState:function(){H=[],this.options.animation&&[].slice.call(this.el.children).forEach(function(Pe){if("none"!==Sr(Pe,"display")&&Pe!==us.ghost){H.push({target:Pe,rect:Za(Pe)});var Xe=Ph({},H[H.length-1].rect);if(Pe.thisAnimationDuration){var ct=P0(Pe,!0);ct&&(Xe.top-=ct.f,Xe.left-=ct.e)}Pe.fromRect=Xe}})},addAnimationState:function(ae){H.push(ae)},removeAnimationState:function(ae){H.splice(function(H,Q){for(var ee in H)if(H.hasOwnProperty(ee))for(var ae in Q)if(Q.hasOwnProperty(ae)&&Q[ae]===H[ee][ae])return Number(ee);return-1}(H,{target:ae}),1)},animateAll:function(ae){var Pe=this;if(!this.options.animation)return clearTimeout(Q),void("function"==typeof ae&&ae());var Xe=!1,ct=0;H.forEach(function(Et){var Nt=0,Yt=Et.target,Ri=Yt.fromRect,qi=Za(Yt),Ln=Yt.prevFromRect,Hn=Yt.prevToRect,Kn=Et.rect,ir=P0(Yt,!0);ir&&(qi.top-=ir.f,qi.left-=ir.e),Yt.toRect=qi,Yt.thisAnimationDuration&&X_(Ln,qi)&&!X_(Ri,qi)&&(Kn.top-qi.top)/(Kn.left-qi.left)==(Ri.top-qi.top)/(Ri.left-qi.left)&&(Nt=function(H,Q,ee,ae){return Math.sqrt(Math.pow(Q.top-H.top,2)+Math.pow(Q.left-H.left,2))/Math.sqrt(Math.pow(Q.top-ee.top,2)+Math.pow(Q.left-ee.left,2))*ae.animation}(Kn,Ln,Hn,Pe.options)),X_(qi,Ri)||(Yt.prevFromRect=Ri,Yt.prevToRect=qi,Nt||(Nt=Pe.options.animation),Pe.animate(Yt,Kn,qi,Nt)),Nt&&(Xe=!0,ct=Math.max(ct,Nt),clearTimeout(Yt.animationResetTimer),Yt.animationResetTimer=setTimeout(function(){Yt.animationTime=0,Yt.prevFromRect=null,Yt.fromRect=null,Yt.prevToRect=null,Yt.thisAnimationDuration=null},Nt),Yt.thisAnimationDuration=Nt)}),clearTimeout(Q),Xe?Q=setTimeout(function(){"function"==typeof ae&&ae()},ct):"function"==typeof ae&&ae(),H=[]},animate:function(ae,Pe,Xe,ct){if(ct){Sr(ae,"transition",""),Sr(ae,"transform","");var Et=P0(this.el),Ri=(Pe.left-Xe.left)/(Et&&Et.a||1),qi=(Pe.top-Xe.top)/(Et&&Et.d||1);ae.animatingX=!!Ri,ae.animatingY=!!qi,Sr(ae,"transform","translate3d("+Ri+"px,"+qi+"px,0)"),this.forRepaintDummy=function(H){return H.offsetWidth}(ae),Sr(ae,"transition","transform "+ct+"ms"+(this.options.easing?" "+this.options.easing:"")),Sr(ae,"transform","translate3d(0,0,0)"),"number"==typeof ae.animated&&clearTimeout(ae.animated),ae.animated=setTimeout(function(){Sr(ae,"transition",""),Sr(ae,"transform",""),ae.animated=!1,ae.animatingX=!1,ae.animatingY=!1},ct)}}}}())}function Eg(H,Q,ee,ae,Pe,Xe,ct,Et){var Nt,qi,Yt=H[Ja],Ri=Yt.options.onMove;return!window.CustomEvent||Ju||yg?(Nt=document.createEvent("Event")).initEvent("move",!0,!0):Nt=new CustomEvent("move",{bubbles:!0,cancelable:!0}),Nt.to=Q,Nt.from=H,Nt.dragged=ee,Nt.draggedRect=ae,Nt.related=Pe||Q,Nt.relatedRect=Xe||Za(Q),Nt.willInsertAfter=Et,Nt.originalEvent=ct,H.dispatchEvent(Nt),Ri&&(qi=Ri.call(Yt,Nt,ct)),qi}function rb(H){H.draggable=!1}function t2(){eb=!1}function HE(H){for(var Q=H.tagName+H.className+H.src+H.href+H.textContent,ee=Q.length,ae=0;ee--;)ae+=Q.charCodeAt(ee);return ae.toString(36)}function rn(H){return setTimeout(H,0)}function ab(H){return clearTimeout(H)}us.prototype={constructor:us,_isOutsideThisEl:function(Q){!this.el.contains(Q)&&Q!==this.el&&(U0=null)},_getDirection:function(Q,ee){return"function"==typeof this.options.direction?this.options.direction.call(this,Q,ee,vr):this.options.direction},_onTapStart:function(Q){if(Q.cancelable){var ee=this,ae=this.el,Pe=this.options,Xe=Pe.preventOnFilter,ct=Q.type,Et=Q.touches&&Q.touches[0]||Q.pointerType&&"touch"===Q.pointerType&&Q,Nt=(Et||Q).target,Yt=Q.target.shadowRoot&&(Q.path&&Q.path[0]||Q.composedPath&&Q.composedPath()[0])||Nt,Ri=Pe.filter;if(function(H){xg.length=0;for(var Q=H.getElementsByTagName("input"),ee=Q.length;ee--;){var ae=Q[ee];ae.checked&&xg.push(ae)}}(ae),!vr&&!(/mousedown|pointerdown/.test(ct)&&0!==Q.button||Pe.disabled)&&!Yt.isContentEditable&&(this.nativeDraggable||!O0||!Nt||"SELECT"!==Nt.tagName.toUpperCase())&&!((Nt=Lh(Nt,Pe.draggable,ae,!1))&&Nt.animated||wg===Nt)){if(hf=Au(Nt),N0=Au(Nt,Pe.draggable),"function"==typeof Ri){if(Ri.call(this,Q,Nt,this))return Ra({sortable:ee,rootEl:Yt,name:"filter",targetEl:Nt,toEl:ae,fromEl:ae}),Xa("filter",ee,{evt:Q}),void(Xe&&Q.cancelable&&Q.preventDefault())}else if(Ri&&(Ri=Ri.split(",").some(function(qi){if(qi=Lh(Yt,qi.trim(),ae,!1))return Ra({sortable:ee,rootEl:qi,name:"filter",targetEl:Nt,fromEl:ae,toEl:ae}),Xa("filter",ee,{evt:Q}),!0})))return void(Xe&&Q.cancelable&&Q.preventDefault());Pe.handle&&!Lh(Yt,Pe.handle,ae,!1)||this._prepareDragStart(Q,Et,Nt)}}},_prepareDragStart:function(Q,ee,ae){var Nt,Pe=this,Xe=Pe.el,ct=Pe.options,Et=Xe.ownerDocument;if(ae&&!vr&&ae.parentNode===Xe){var Yt=Za(ae);if(Vo=Xe,So=(vr=ae).parentNode,xp=vr.nextSibling,wg=ae,Pi=ct.group,us.dragged=vr,$w=(df={target:vr,clientX:(ee||Q).clientX,clientY:(ee||Q).clientY}).clientX-Yt.left,Zw=df.clientY-Yt.top,this._lastX=(ee||Q).clientX,this._lastY=(ee||Q).clientY,vr.style["will-change"]="all",Nt=function(){Xa("delayEnded",Pe,{evt:Q}),us.eventCanceled?Pe._onDrop():(Pe._disableDelayedDragEvents(),!Z_&&Pe.nativeDraggable&&(vr.draggable=!0),Pe._triggerDragStart(Q,ee),Ra({sortable:Pe,name:"choose",originalEvent:Q}),Oc(vr,ct.chosenClass,!0))},ct.ignore.split(",").forEach(function(Ri){ey(vr,Ri.trim(),rb)}),po(Et,"dragover",gf),po(Et,"mousemove",gf),po(Et,"touchmove",gf),po(Et,"mouseup",Pe._onDrop),po(Et,"touchend",Pe._onDrop),po(Et,"touchcancel",Pe._onDrop),Z_&&this.nativeDraggable&&(this.options.touchStartThreshold=4,vr.draggable=!0),Xa("delayStart",this,{evt:Q}),!ct.delay||ct.delayOnTouchOnly&&!ee||this.nativeDraggable&&(yg||Ju))Nt();else{if(us.eventCanceled)return void this._onDrop();po(Et,"mouseup",Pe._disableDelayedDrag),po(Et,"touchend",Pe._disableDelayedDrag),po(Et,"touchcancel",Pe._disableDelayedDrag),po(Et,"mousemove",Pe._delayedDragTouchMoveHandler),po(Et,"touchmove",Pe._delayedDragTouchMoveHandler),ct.supportPointer&&po(Et,"pointermove",Pe._delayedDragTouchMoveHandler),Pe._dragStartTimer=setTimeout(Nt,ct.delay)}}},_delayedDragTouchMoveHandler:function(Q){var ee=Q.touches?Q.touches[0]:Q;Math.max(Math.abs(ee.clientX-this._lastX),Math.abs(ee.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){vr&&rb(vr),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var Q=this.el.ownerDocument;qs(Q,"mouseup",this._disableDelayedDrag),qs(Q,"touchend",this._disableDelayedDrag),qs(Q,"touchcancel",this._disableDelayedDrag),qs(Q,"mousemove",this._delayedDragTouchMoveHandler),qs(Q,"touchmove",this._delayedDragTouchMoveHandler),qs(Q,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(Q,ee){ee=ee||"touch"==Q.pointerType&&Q,!this.nativeDraggable||ee?po(document,this.options.supportPointer?"pointermove":ee?"touchmove":"mousemove",this._onTouchMove):(po(vr,"dragend",this),po(Vo,"dragstart",this._onDragStart));try{document.selection?rn(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(ae){}},_dragStarted:function(Q,ee){if(To=!1,Vo&&vr){Xa("dragStarted",this,{evt:ee}),this.nativeDraggable&&po(document,"dragover",UE);var ae=this.options;!Q&&Oc(vr,ae.dragClass,!1),Oc(vr,ae.ghostClass,!0),us.active=this,Q&&this._appendGhost(),Ra({sortable:this,name:"start",originalEvent:ee})}else this._nulling()},_emulateDragOver:function(){if(Cu){this._lastX=Cu.clientX,this._lastY=Cu.clientY,nb();for(var Q=document.elementFromPoint(Cu.clientX,Cu.clientY),ee=Q;Q&&Q.shadowRoot&&(Q=Q.shadowRoot.elementFromPoint(Cu.clientX,Cu.clientY))!==ee;)ee=Q;if(vr.parentNode[Ja]._isOutsideThisEl(Q),ee)do{if(ee[Ja]&&ee[Ja]._onDragOver({clientX:Cu.clientX,clientY:Cu.clientY,target:Q,rootEl:ee})&&!this.options.dragoverBubble)break;Q=ee}while(ee=ee.parentNode);e2()}},_onTouchMove:function(Q){if(df){var ee=this.options,ae=ee.fallbackTolerance,Pe=ee.fallbackOffset,Xe=Q.touches?Q.touches[0]:Q,ct=xs&&P0(xs,!0),Et=xs&&ct&&ct.a,Nt=xs&&ct&&ct.d,Yt=ay&&ac&&_g(ac),Ri=(Xe.clientX-df.clientX+Pe.x)/(Et||1)+(Yt?Yt[0]-Jw[0]:0)/(Et||1),qi=(Xe.clientY-df.clientY+Pe.y)/(Nt||1)+(Yt?Yt[1]-Jw[1]:0)/(Nt||1);if(!us.active&&!To){if(ae&&Math.max(Math.abs(Xe.clientX-this._lastX),Math.abs(Xe.clientY-this._lastY))<ae)return;this._onDragStart(Q,!0)}if(xs){ct?(ct.e+=Ri-(Y_||0),ct.f+=qi-(ry||0)):ct={a:1,b:0,c:0,d:1,e:Ri,f:qi};var Ln="matrix(".concat(ct.a,",").concat(ct.b,",").concat(ct.c,",").concat(ct.d,",").concat(ct.e,",").concat(ct.f,")");Sr(xs,"webkitTransform",Ln),Sr(xs,"mozTransform",Ln),Sr(xs,"msTransform",Ln),Sr(xs,"transform",Ln),Y_=Ri,ry=qi,Cu=Xe}Q.cancelable&&Q.preventDefault()}},_appendGhost:function(){if(!xs){var Q=this.options.fallbackOnBody?document.body:Vo,ee=Za(vr,!0,ay,!0,Q),ae=this.options;if(ay){for(ac=Q;"static"===Sr(ac,"position")&&"none"===Sr(ac,"transform")&&ac!==document;)ac=ac.parentNode;ac!==document.body&&ac!==document.documentElement?(ac===document&&(ac=Bh()),ee.top+=ac.scrollTop,ee.left+=ac.scrollLeft):ac=Bh(),Jw=_g(ac)}Oc(xs=vr.cloneNode(!0),ae.ghostClass,!1),Oc(xs,ae.fallbackClass,!0),Oc(xs,ae.dragClass,!0),Sr(xs,"transition",""),Sr(xs,"transform",""),Sr(xs,"box-sizing","border-box"),Sr(xs,"margin",0),Sr(xs,"top",ee.top),Sr(xs,"left",ee.left),Sr(xs,"width",ee.width),Sr(xs,"height",ee.height),Sr(xs,"opacity","0.8"),Sr(xs,"position",ay?"absolute":"fixed"),Sr(xs,"zIndex","100000"),Sr(xs,"pointerEvents","none"),us.ghost=xs,Q.appendChild(xs),Sr(xs,"transform-origin",$w/parseInt(xs.style.width)*100+"% "+Zw/parseInt(xs.style.height)*100+"%")}},_onDragStart:function(Q,ee){var ae=this,Pe=Q.dataTransfer,Xe=ae.options;Xa("dragStart",this,{evt:Q}),us.eventCanceled?this._onDrop():(Xa("setupClone",this),us.eventCanceled||((ia=Il(vr)).draggable=!1,ia.style["will-change"]="",this._hideClone(),Oc(ia,this.options.chosenClass,!1),us.clone=ia),ae.cloneId=rn(function(){Xa("clone",ae),!us.eventCanceled&&(ae.options.removeCloneOnHide||Vo.insertBefore(ia,vr),ae._hideClone(),Ra({sortable:ae,name:"clone"}))}),!ee&&Oc(vr,Xe.dragClass,!0),ee?(Cg=!0,ae._loopId=setInterval(ae._emulateDragOver,50)):(qs(document,"mouseup",ae._onDrop),qs(document,"touchend",ae._onDrop),qs(document,"touchcancel",ae._onDrop),Pe&&(Pe.effectAllowed="move",Xe.setData&&Xe.setData.call(ae,Pe,vr)),po(document,"drop",ae),Sr(vr,"transform","translateZ(0)")),To=!0,ae._dragStartId=rn(ae._dragStarted.bind(ae,ee,Q)),po(document,"selectstart",ae),sy=!0,O0&&Sr(document.body,"user-select","none"))},_onDragOver:function(Q){var Pe,Xe,ct,Hn,ee=this.el,ae=Q.target,Et=this.options,Nt=Et.group,Yt=us.active,Ri=Pi===Nt,qi=Et.sort,Ln=Ol||Yt,Kn=this,ir=!1;if(!eb){if(void 0!==Q.preventDefault&&Q.cancelable&&Q.preventDefault(),ae=Lh(ae,Et.draggable,ee,!0),ar("dragOver"),us.eventCanceled)return ir;if(vr.contains(Q.target)||ae.animated&&ae.animatingX&&ae.animatingY||Kn._ignoreWhileAnimating===ae)return Ir(!1);if(Cg=!1,Yt&&!Et.disabled&&(Ri?qi||(ct=So!==Vo):Ol===this||(this.lastPutMode=Pi.checkPull(this,Yt,vr,Q))&&Nt.checkPut(this,Yt,vr,Q))){if(Hn="vertical"===this._getDirection(Q,ae),Pe=Za(vr),ar("dragOverValid"),us.eventCanceled)return ir;if(ct)return So=Vo,zr(),this._hideClone(),ar("revert"),us.eventCanceled||(xp?Vo.insertBefore(vr,xp):Vo.appendChild(vr)),Ir(!0);var jr=J_(ee,Et.draggable);if(!jr||function(H,Q,ee){var ae=Za(J_(ee.el,ee.options.draggable));return Q?H.clientX>ae.right+10||H.clientX<=ae.right&&H.clientY>ae.bottom&&H.clientX>=ae.left:H.clientX>ae.right&&H.clientY>ae.top||H.clientX<=ae.right&&H.clientY>ae.bottom+10}(Q,Hn,this)&&!jr.animated){if(jr===vr)return Ir(!1);if(jr&&ee===Q.target&&(ae=jr),ae&&(Xe=Za(ae)),!1!==Eg(Vo,ee,vr,Pe,ae,Xe,Q,!!ae))return zr(),ee.appendChild(vr),So=ee,Wr(),Ir(!0)}else if(jr&&function(H,Q,ee){var ae=Za(k0(ee.el,0,ee.options,!0));return Q?H.clientX<ae.left-10||H.clientY<ae.top&&H.clientX<ae.right:H.clientY<ae.top-10||H.clientY<ae.bottom&&H.clientX<ae.left}(Q,Hn,this)){var Hs=k0(ee,0,Et,!0);if(Hs===vr)return Ir(!1);if(Xe=Za(ae=Hs),!1!==Eg(Vo,ee,vr,Pe,ae,Xe,Q,!1))return zr(),ee.insertBefore(vr,Hs),So=ee,Wr(),Ir(!0)}else if(ae.parentNode===ee){Xe=Za(ae);var _r,As,Zo,Zs=vr.parentNode!==ee,Rs=!function(Q,ee,ae){var Pe=ae?Q.left:Q.top,Et=ae?ee.left:ee.top;return Pe===Et||(ae?Q.right:Q.bottom)===(ae?ee.right:ee.bottom)||Pe+(ae?Q.width:Q.height)/2===Et+(ae?ee.width:ee.height)/2}(vr.animated&&vr.toRect||Pe,ae.animated&&ae.toRect||Xe,Hn),na=Hn?"top":"left",ra=Gw(ae,"top","top")||Gw(vr,"top","top"),Ya=ra?ra.scrollTop:void 0;if(U0!==ae&&(As=Xe[na],ff=!1,oy=!Rs&&Et.invertSwap||Zs),_r=function(H,Q,ee,ae,Pe,Xe,ct,Et){var Nt=ae?H.clientY:H.clientX,Yt=ae?ee.height:ee.width,Ri=ae?ee.top:ee.left,qi=ae?ee.bottom:ee.right,Ln=!1;if(!ct)if(Et&&q_<Yt*Pe){if(!ff&&(1===pf?Nt>Ri+Yt*Xe/2:Nt<qi-Yt*Xe/2)&&(ff=!0),ff)Ln=!0;else if(1===pf?Nt<Ri+q_:Nt>qi-q_)return-pf}else if(Nt>Ri+Yt*(1-Pe)/2&&Nt<qi-Yt*(1-Pe)/2)return function(H){return Au(vr)<Au(H)?1:-1}(Q);return(Ln=Ln||ct)&&(Nt<Ri+Yt*Xe/2||Nt>qi-Yt*Xe/2)?Nt>Ri+Yt/2?1:-1:0}(Q,ae,Xe,Hn,Rs?1:Et.swapThreshold,null==Et.invertedSwapThreshold?Et.swapThreshold:Et.invertedSwapThreshold,oy,U0===ae),0!==_r){var Pl=Au(vr);do{Zo=So.children[Pl-=_r]}while(Zo&&("none"===Sr(Zo,"display")||Zo===xs))}if(0===_r||Zo===ae)return Ir(!1);U0=ae,pf=_r;var eh=ae.nextElementSibling,Ql=!1,Su=Eg(Vo,ee,vr,Pe,ae,Xe,Q,Ql=1===_r);if(!1!==Su)return(1===Su||-1===Su)&&(Ql=1===Su),eb=!0,setTimeout(t2,30),zr(),Ql&&!eh?ee.appendChild(vr):ae.parentNode.insertBefore(vr,Ql?eh:ae),ra&&B0(ra,0,Ya-ra.scrollTop),So=vr.parentNode,void 0!==As&&!oy&&(q_=Math.abs(As-Za(ae)[na])),Wr(),Ir(!0)}if(ee.contains(vr))return Ir(!1)}return!1}function ar(Id,Mp){Xa(Id,Kn,Ph({evt:Q,isOwner:Ri,axis:Hn?"vertical":"horizontal",revert:ct,dragRect:Pe,targetRect:Xe,canSort:qi,fromSortable:Ln,target:ae,completed:Ir,onMove:function(z0,Sp){return Eg(Vo,ee,vr,Pe,z0,Za(z0),Q,Sp)},changed:Wr},Mp))}function zr(){ar("dragOverAnimationCapture"),Kn.captureAnimationState(),Kn!==Ln&&Ln.captureAnimationState()}function Ir(Id){return ar("dragOverCompleted",{insertion:Id}),Id&&(Ri?Yt._hideClone():Yt._showClone(Kn),Kn!==Ln&&(Oc(vr,Ol?Ol.options.ghostClass:Yt.options.ghostClass,!1),Oc(vr,Et.ghostClass,!0)),Ol!==Kn&&Kn!==us.active?Ol=Kn:Kn===us.active&&Ol&&(Ol=null),Ln===Kn&&(Kn._ignoreWhileAnimating=ae),Kn.animateAll(function(){ar("dragOverAnimationComplete"),Kn._ignoreWhileAnimating=null}),Kn!==Ln&&(Ln.animateAll(),Ln._ignoreWhileAnimating=null)),(ae===vr&&!vr.animated||ae===ee&&!ae.animated)&&(U0=null),!Et.dragoverBubble&&!Q.rootEl&&ae!==document&&(vr.parentNode[Ja]._isOutsideThisEl(Q.target),!Id&&gf(Q)),!Et.dragoverBubble&&Q.stopPropagation&&Q.stopPropagation(),ir=!0}function Wr(){Pc=Au(vr),Ep=Au(vr,Et.draggable),Ra({sortable:Kn,name:"change",toEl:ee,newIndex:Pc,newDraggableIndex:Ep,originalEvent:Q})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){qs(document,"mousemove",this._onTouchMove),qs(document,"touchmove",this._onTouchMove),qs(document,"pointermove",this._onTouchMove),qs(document,"dragover",gf),qs(document,"mousemove",gf),qs(document,"touchmove",gf)},_offUpEvents:function(){var Q=this.el.ownerDocument;qs(Q,"mouseup",this._onDrop),qs(Q,"touchend",this._onDrop),qs(Q,"pointerup",this._onDrop),qs(Q,"touchcancel",this._onDrop),qs(document,"selectstart",this)},_onDrop:function(Q){var ee=this.el,ae=this.options;Pc=Au(vr),Ep=Au(vr,ae.draggable),Xa("drop",this,{evt:Q}),So=vr&&vr.parentNode,Pc=Au(vr),Ep=Au(vr,ae.draggable),us.eventCanceled||(To=!1,oy=!1,ff=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ab(this.cloneId),ab(this._dragStartId),this.nativeDraggable&&(qs(document,"drop",this),qs(ee,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),O0&&Sr(document.body,"user-select",""),Sr(vr,"transform",""),Q&&(sy&&(Q.cancelable&&Q.preventDefault(),!ae.dropBubble&&Q.stopPropagation()),xs&&xs.parentNode&&xs.parentNode.removeChild(xs),(Vo===So||Ol&&"clone"!==Ol.lastPutMode)&&ia&&ia.parentNode&&ia.parentNode.removeChild(ia),vr&&(this.nativeDraggable&&qs(vr,"dragend",this),rb(vr),vr.style["will-change"]="",sy&&!To&&Oc(vr,Ol?Ol.options.ghostClass:this.options.ghostClass,!1),Oc(vr,this.options.chosenClass,!1),Ra({sortable:this,name:"unchoose",toEl:So,newIndex:null,newDraggableIndex:null,originalEvent:Q}),Vo!==So?(Pc>=0&&(Ra({rootEl:So,name:"add",toEl:So,fromEl:Vo,originalEvent:Q}),Ra({sortable:this,name:"remove",toEl:So,originalEvent:Q}),Ra({rootEl:So,name:"sort",toEl:So,fromEl:Vo,originalEvent:Q}),Ra({sortable:this,name:"sort",toEl:So,originalEvent:Q})),Ol&&Ol.save()):Pc!==hf&&Pc>=0&&(Ra({sortable:this,name:"update",toEl:So,originalEvent:Q}),Ra({sortable:this,name:"sort",toEl:So,originalEvent:Q})),us.active&&((null==Pc||-1===Pc)&&(Pc=hf,Ep=N0),Ra({sortable:this,name:"end",toEl:So,originalEvent:Q}),this.save())))),this._nulling()},_nulling:function(){Xa("nulling",this),Vo=vr=So=xs=xp=ia=wg=Md=df=Cu=sy=Pc=Ep=hf=N0=U0=pf=Ol=Pi=us.dragged=us.ghost=us.clone=us.active=null,xg.forEach(function(Q){Q.checked=!0}),xg.length=Y_=ry=0},handleEvent:function(Q){switch(Q.type){case"drop":case"dragend":this._onDrop(Q);break;case"dragenter":case"dragover":vr&&(this._onDragOver(Q),function(H){H.dataTransfer&&(H.dataTransfer.dropEffect="move"),H.cancelable&&H.preventDefault()}(Q));break;case"selectstart":Q.preventDefault()}},toArray:function(){for(var ee,Q=[],ae=this.el.children,Pe=0,Xe=ae.length,ct=this.options;Pe<Xe;Pe++)Lh(ee=ae[Pe],ct.draggable,this.el,!1)&&Q.push(ee.getAttribute(ct.dataIdAttr)||HE(ee));return Q},sort:function(Q,ee){var ae={},Pe=this.el;this.toArray().forEach(function(Xe,ct){var Et=Pe.children[ct];Lh(Et,this.options.draggable,Pe,!1)&&(ae[Xe]=Et)},this),ee&&this.captureAnimationState(),Q.forEach(function(Xe){ae[Xe]&&(Pe.removeChild(ae[Xe]),Pe.appendChild(ae[Xe]))}),ee&&this.animateAll()},save:function(){var Q=this.options.store;Q&&Q.set&&Q.set(this)},closest:function(Q,ee){return Lh(Q,ee||this.options.draggable,this.el,!1)},option:function(Q,ee){var ae=this.options;if(void 0===ee)return ae[Q];var Pe=Fh.modifyOption(this,Q,ee);ae[Q]=void 0!==Pe?Pe:ee,"group"===Q&&qw(ae)},destroy:function(){Xa("destroy",this);var Q=this.el;Q[Ja]=null,qs(Q,"mousedown",this._onTapStart),qs(Q,"touchstart",this._onTapStart),qs(Q,"pointerdown",this._onTapStart),this.nativeDraggable&&(qs(Q,"dragover",this),qs(Q,"dragenter",this)),Array.prototype.forEach.call(Q.querySelectorAll("[draggable]"),function(ee){ee.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),ny.splice(ny.indexOf(this.el),1),this.el=Q=null},_hideClone:function(){if(!Md){if(Xa("hideClone",this),us.eventCanceled)return;Sr(ia,"display","none"),this.options.removeCloneOnHide&&ia.parentNode&&ia.parentNode.removeChild(ia),Md=!0}},_showClone:function(Q){if("clone"===Q.lastPutMode){if(Md){if(Xa("showClone",this),us.eventCanceled)return;vr.parentNode!=Vo||this.options.group.revertClone?xp?Vo.insertBefore(ia,xp):Vo.appendChild(ia):Vo.insertBefore(ia,vr),this.options.group.revertClone&&this.animate(vr,ia),Sr(ia,"display",""),Md=!1}}else this._hideClone()}},tb&&po(document,"touchmove",function(H){(us.active||To)&&H.cancelable&&H.preventDefault()}),us.utils={on:po,off:qs,css:Sr,find:ey,is:function(Q,ee){return!!Lh(Q,ee,Q,!1)},extend:function(H,Q){if(H&&Q)for(var ee in Q)Q.hasOwnProperty(ee)&&(H[ee]=Q[ee]);return H},throttle:ty,closest:Lh,toggleClass:Oc,clone:Il,index:Au,nextTick:rn,cancelNextTick:ab,detectDirection:Xw,getChild:k0},us.get=function(H){return H[Ja]},us.mount=function(){for(var H=arguments.length,Q=new Array(H),ee=0;ee<H;ee++)Q[ee]=arguments[ee];Q[0].constructor===Array&&(Q=Q[0]),Q.forEach(function(ae){if(!ae.prototype||!ae.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(ae));ae.utils&&(us.utils=Ph(Ph({},us.utils),ae.utils)),Fh.mount(ae)})},us.create=function(H,Q){return new us(H,Q)},us.version="1.14.0";var yf,lb,ft,Bn,cb,Dg,It=[],pt=!1;function $s(){It.forEach(function(H){clearInterval(H.pid)}),It=[]}function Ms(){clearInterval(Dg)}var tr=ty(function(H,Q,ee,ae){if(Q.scroll){var Ri,Pe=(H.touches?H.touches[0]:H).clientX,Xe=(H.touches?H.touches[0]:H).clientY,ct=Q.scrollSensitivity,Et=Q.scrollSpeed,Nt=Bh(),Yt=!1;lb!==ee&&(lb=ee,$s(),Ri=Q.scrollFn,!0===(yf=Q.scroll)&&(yf=wp(ee,!0)));var qi=0,Ln=yf;do{var Hn=Ln,Kn=Za(Hn),ir=Kn.top,ar=Kn.bottom,zr=Kn.left,Ir=Kn.right,Wr=Kn.width,jr=Kn.height,Hs=void 0,_r=void 0,As=Hn.scrollWidth,Zs=Hn.scrollHeight,Rs=Sr(Hn),na=Hn.scrollLeft,ra=Hn.scrollTop;Hn===Nt?(Hs=Wr<As&&("auto"===Rs.overflowX||"scroll"===Rs.overflowX||"visible"===Rs.overflowX),_r=jr<Zs&&("auto"===Rs.overflowY||"scroll"===Rs.overflowY||"visible"===Rs.overflowY)):(Hs=Wr<As&&("auto"===Rs.overflowX||"scroll"===Rs.overflowX),_r=jr<Zs&&("auto"===Rs.overflowY||"scroll"===Rs.overflowY));var Ya=Hs&&(Math.abs(Ir-Pe)<=ct&&na+Wr<As)-(Math.abs(zr-Pe)<=ct&&!!na),Zo=_r&&(Math.abs(ar-Xe)<=ct&&ra+jr<Zs)-(Math.abs(ir-Xe)<=ct&&!!ra);if(!It[qi])for(var Pl=0;Pl<=qi;Pl++)It[Pl]||(It[Pl]={});(It[qi].vx!=Ya||It[qi].vy!=Zo||It[qi].el!==Hn)&&(It[qi].el=Hn,It[qi].vx=Ya,It[qi].vy=Zo,clearInterval(It[qi].pid),(0!=Ya||0!=Zo)&&(Yt=!0,It[qi].pid=setInterval(function(){ae&&0===this.layer&&us.active._onTouchMove(cb);var eh=It[this.layer].vy?It[this.layer].vy*Et:0,Ql=It[this.layer].vx?It[this.layer].vx*Et:0;"function"==typeof Ri&&"continue"!==Ri.call(us.dragged.parentNode[Ja],Ql,eh,H,cb,It[this.layer].el)||B0(It[this.layer].el,Ql,eh)}.bind({layer:qi}),24))),qi++}while(Q.bubbleScroll&&Ln!==Nt&&(Ln=wp(Ln,!1)));pt=Yt}},30),Mg=function(Q){var ee=Q.originalEvent,ae=Q.putSortable,Pe=Q.dragEl,ct=Q.dispatchSortableEvent,Nt=Q.unhideGhostForTarget;if(ee){var Yt=ae||Q.activeSortable;(0,Q.hideGhostForTarget)();var Ri=ee.changedTouches&&ee.changedTouches.length?ee.changedTouches[0]:ee,qi=document.elementFromPoint(Ri.clientX,Ri.clientY);Nt(),Yt&&!Yt.el.contains(qi)&&(ct("spill"),this.onSpill({dragEl:Pe,putSortable:ae}))}};function cy(){}function uy(){}cy.prototype={startIndex:null,dragStart:function(Q){this.startIndex=Q.oldDraggableIndex},onSpill:function(Q){var ee=Q.dragEl,ae=Q.putSortable;this.sortable.captureAnimationState(),ae&&ae.captureAnimationState();var Pe=k0(this.sortable.el,this.startIndex,this.options);Pe?this.sortable.el.insertBefore(ee,Pe):this.sortable.el.appendChild(ee),this.sortable.animateAll(),ae&&ae.animateAll()},drop:Mg},kh(cy,{pluginName:"revertOnSpill"}),uy.prototype={onSpill:function(Q){var ee=Q.dragEl,Pe=Q.putSortable||this.sortable;Pe.captureAnimationState(),ee.parentNode&&ee.parentNode.removeChild(ee),Pe.animateAll()},drop:Mg},kh(uy,{pluginName:"removeOnSpill"}),us.mount(new function(){function H(){for(var Q in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===Q.charAt(0)&&"function"==typeof this[Q]&&(this[Q]=this[Q].bind(this))}return H.prototype={dragStarted:function(ee){var ae=ee.originalEvent;this.sortable.nativeDraggable?po(document,"dragover",this._handleAutoScroll):po(document,this.options.supportPointer?"pointermove":ae.touches?"touchmove":"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(ee){var ae=ee.originalEvent;!this.options.dragOverBubble&&!ae.rootEl&&this._handleAutoScroll(ae)},drop:function(){this.sortable.nativeDraggable?qs(document,"dragover",this._handleAutoScroll):(qs(document,"pointermove",this._handleFallbackAutoScroll),qs(document,"touchmove",this._handleFallbackAutoScroll),qs(document,"mousemove",this._handleFallbackAutoScroll)),Ms(),$s(),clearTimeout(Ag),Ag=void 0},nulling:function(){cb=lb=yf=pt=Dg=ft=Bn=null,It.length=0},_handleFallbackAutoScroll:function(ee){this._handleAutoScroll(ee,!0)},_handleAutoScroll:function(ee,ae){var Pe=this,Xe=(ee.touches?ee.touches[0]:ee).clientX,ct=(ee.touches?ee.touches[0]:ee).clientY,Et=document.elementFromPoint(Xe,ct);if(cb=ee,ae||this.options.forceAutoScrollFallback||yg||Ju||O0){tr(ee,this.options,Et,ae);var Nt=wp(Et,!0);pt&&(!Dg||Xe!==ft||ct!==Bn)&&(Dg&&Ms(),Dg=setInterval(function(){var Yt=wp(document.elementFromPoint(Xe,ct),!0);Yt!==Nt&&(Nt=Yt,$s()),tr(ee,Pe.options,Yt,ae)},10),ft=Xe,Bn=ct)}else{if(!this.options.bubbleScroll||wp(Et,!0)===Bh())return void $s();tr(ee,this.options,wp(Et,!1),!1)}}},kh(H,{pluginName:"scroll",initializeByDefault:!0})}),us.mount(uy,cy),HTMLElement;HTMLElement,HTMLElement,HTMLElement,HTMLElement,HTMLElement,HTMLElement,HTMLElement,HTMLElement,HTMLElement,HTMLElement,HTMLElement,HTMLElement,HTMLElement,HTMLElement,HTMLElement;HTMLElement,HTMLElement;HTMLElement;HTMLElement;HTMLElement;const fb=(HTMLElement,ci(A_,[1,"calcite-icon",{icon:[513],flipRtl:[516,"flip-rtl"],scale:[513],textLabel:[1,"text-label"],pathData:[32],visible:[32]}])),mb=ci(M0,[1,"calcite-notice",{active:[1540],color:[513],dismissible:[516],icon:[520],intlClose:[1,"intl-close"],scale:[513],width:[513]}])},15861:(hi,lt,N)=>{"use strict";function z(Te,Me,Ce,Ie,ye,he,re){try{var ce=Te[he](re),be=ce.value}catch(xe){return void Ce(xe)}ce.done?Me(be):Promise.resolve(be).then(Ie,ye)}function J(Te){return function(){var Me=this,Ce=arguments;return new Promise(function(Ie,ye){var he=Te.apply(Me,Ce);function re(be){z(he,Ie,ye,re,ce,"next",be)}function ce(be){z(he,Ie,ye,re,ce,"throw",be)}re(void 0)})}}N.d(lt,{Z:()=>J})}},hi=>{hi(hi.s=37261)}]);